{"version":3,"sources":["ckan.js"],"names":["CKAN","isNodeModule","module","require","_","request","exports","my","Client","endpoint","apiKey","this","_getEndpoint","prototype","action","name","data","cb","indexOf","replace","options","url","type","_ajax","headers","meth","_nodeRequest","_browserRequest","datastoreQuery","queryObj","actualQuery","_normalizeQuery","err","results","fields","map","result","field","ckan2JsonTableSchemaTypes","out","total","hits","records","text","int","int4","int8","float8","timestamp","bool","jsonTableSchema2CkanTypes","string","number","integer","datetime","boolean","binary","object","array","any","datastoreResources","resource_id","_client","match","conf","method","json","get","res","body","statusCode","JSON","stringify","success","error","obj","obj2","obj3","code","status","message","responseText","beforeSend","req","key","setRequestHeader","jQuery","ajax","q","filters","limit","size","offset","from","sort","length","_tmp","sortObj","order","join","each","filter","term","_parseCkanResourceUrl","parts","split","len","slice","recline","Backend","Ckan","__type__","Deferred","isUndefined","fetch","dataset","dfd","query","done","resolve","fail","reject","promise","wrapper","DataStore","id"],"mappings":"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","file":"ckan.min.js"}