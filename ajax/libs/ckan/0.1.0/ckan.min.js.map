{"version":3,"sources":["ckan.js"],"names":["CKAN","isNodeModule","module","require","_","request","exports","my","DataStore","endpoint","apiKey","this","_getEndpoint","prototype","search","data","cb","searchUrl","options","url","type","JSON","stringify","_ajax","query","queryObj","actualQuery","_normalizeQuery","dataset","err","results","out","total","result","hits","records","upsert","upsertObj","listResources","resourceListUrl","Catalog","action","name","replace","match","headers","meth","_nodeRequest","_browserRequest","conf","method","json","res","body","success","error","obj","obj2","obj3","code","status","message","responseText","beforeSend","req","key","setRequestHeader","jQuery","ajax","resource_id","id","q","filters","limit","size","offset","from","sort","length","_tmp","map","sortObj","field","order","join","each","filter","term","_parseCkanResourceUrl","parts","split","len","slice","recline","Backend","Ckan","__type__","Deferred","isUndefined","fetch","wrapper","dfd","fields","CKAN_TYPES_MAP","useMemoryStore","resolve","promise","int4","int8","float8"],"mappings":"AAAA,GAAIA,SAEAC,aAAkC,mBAAXC,SAAoC,MAAVA,QAAqC,mBAAZC,QAE9E,IAAIF,aAAc,CAChB,GAAIG,GAAID,QAAQ,cACZE,QAAUF,QAAQ,UAEtBD,QAAOI,QAAUN,MAGlB,SAASO,GAORA,EAAGC,UAAY,SAASC,EAAUC,GAChCC,KAAKF,SAAWG,EAAaH,GAC7BE,KAAKD,OAASA,GAMhBH,EAAGC,UAAUK,UAAUC,OAAS,SAASC,EAAMC,GAC7C,GAAIC,GAAYN,KAAKF,SAAW,6BAC5BS,GACFC,IAAKF,EACLG,KAAM,OACNL,KAAMM,KAAKC,UAAUP,GAEvBJ,MAAKY,MAAML,EAASF,IAItBT,EAAGC,UAAUK,UAAUW,MAAQ,SAASC,EAAUT,GAChD,GAAIU,GAAcnB,EAAGoB,gBAAgBF,EAAUG,QAC/CjB,MAAKG,OAAOY,EAAa,SAASG,EAAKC,GACrC,GAAIC,IACFC,MAAOF,EAAQG,OAAOD,MACtBE,KAAMJ,EAAQG,OAAOE,QAEvBnB,GAAG,KAAMe,MAIbxB,EAAGC,UAAUK,UAAUuB,OAAS,SAASC,EAAWrB,GAClD,GAAIG,GAAMR,KAAKF,SAAW,yBAC1B,OAAOE,MAAKY,OACRJ,IAAKA,EACLC,KAAM,OACNL,KAAMM,KAAKC,UAAUe,IAEvBrB,IAIJT,EAAGC,UAAUK,UAAUyB,cAAgB,SAAStB,GAC9C,GAAIuB,GAAkB5B,KAAKF,SAAW,wDACtC,OAAOE,MAAKY,OAAOJ,IAAKoB,GAAkBvB,IAI5CT,EAAGiC,QAAU,SAAS/B,EAAUC,GAC9BC,KAAKF,SAAWG,EAAaH,GAC7BE,KAAKD,OAASA,GAGhBH,EAAGiC,QAAQ3B,UAAU4B,OAAS,SAASC,EAAM3B,EAAMC,GACpC,mBAAT0B,IACFA,EAAO,iBAET,IAAIxB,IACFC,IAAKR,KAAKF,SAAW,aAAeiC,EACpC3B,KAAMA,EACNK,KAAM,OAER,OAAOT,MAAKY,MAAML,EAASF,GAM7B,IAAIJ,GAAe,SAASH,GAO1B,MANAA,GAAWA,GAAY,IAEvBA,EAAWA,EAASkC,QAAQ,MAAO,IAC9BlC,EAASmC,MAAM,YAClBnC,GAAY,QAEPA,EAITF,GAAGiC,QAAQ3B,UAAUU,MAAQ,SAASL,EAASF,GAC7CE,EAAQ2B,QAAU3B,EAAQ2B,YACtBlC,KAAKD,SACPQ,EAAQ2B,QAAQ,kBAAoBlC,KAAKD,OAE3C,IAAIoC,GAAO7C,aAAe8C,EAAeC,CACzC,OAAOF,GAAK5B,EAASF,IAGvBT,EAAGC,UAAUK,UAAUU,MAAQ,SAASL,EAASF,GAC/CE,EAAQ2B,QAAU3B,EAAQ2B,YACtBlC,KAAKD,SACPQ,EAAQ2B,QAAQ,kBAAoBlC,KAAKD,OAE3C,IAAIoC,GAAO7C,aAAe8C,EAAeC,CACzC,OAAOF,GAAK5B,EAASF,GAGvB,IAAI+B,GAAe,SAAS7B,EAASF,GACnC,GAAIiC,IACF9B,IAAKD,EAAQC,IACb0B,QAAS3B,EAAQ2B,YACjBK,OAAQhC,EAAQE,MAAQ,MACxB+B,KAAMjC,EAAQH,KAEhBV,SAAQ4C,EAAM,SAASpB,EAAKuB,EAAKC,GAC/BrC,EAAGa,EAAKwB,MAIRL,EAAkB,SAAS9B,EAASF,GAoBtC,MAlBAE,GAAQH,KAAOM,KAAKC,UAAUJ,EAAQH,MACtCG,EAAQoC,QAAU,SAASvC,GACzBC,EAAG,KAAMD,IAEXG,EAAQqC,MAAQ,SAASC,EAAKC,EAAMC,GAClC,GAAI7B,IACF8B,KAAMH,EAAII,OACVC,QAASL,EAAIM,aAEf9C,GAAGa,IAEDX,EAAQ2B,UACV3B,EAAQ6C,WAAa,SAASC,GAC5B,IAAKC,MAAO/C,GAAQ2B,QAClBmB,EAAIE,iBAAiBD,IAAK/C,EAAQ2B,QAAQoB,QAIzCE,OAAOC,KAAKlD,GAIrBX,GAAGoB,gBAAkB,SAASF,EAAUG,GACtC,GAAIF,IACF2C,YAAazC,EAAQ0C,GACrBC,EAAG9C,EAAS8C,EACZC,WACAC,MAAOhD,EAASiD,MAAQ,GACxBC,OAAQlD,EAASmD,MAAQ,EAG3B,IAAInD,EAASoD,MAAQpD,EAASoD,KAAKC,OAAS,EAAG,CAC7C,GAAIC,GAAO3E,EAAE4E,IAAIvD,EAASoD,KAAM,SAASI,GACvC,MAAOA,GAAQC,MAAQ,KAAOD,EAAQE,OAAS,KAEjDzD,GAAYmD,KAAOE,EAAKK,KAAK,KAU/B,MAPI3D,GAAS+C,SAAW/C,EAAS+C,QAAQM,OAAS,GAChD1E,EAAEiF,KAAK5D,EAAS+C,QAAS,SAASc,GACZ,SAAhBA,EAAOlE,OACTM,EAAY8C,QAAQc,EAAOJ,OAASI,EAAOC,QAI1C7D,GAMTnB,EAAGiF,sBAAwB,SAASrE,GAClCsE,MAAQtE,EAAIuE,MAAM,IAClB,IAAIC,GAAMF,MAAMX,MAChB,QACET,YAAaoB,MAAME,EAAI,GACvBlF,SAAUgF,MAAMG,MAAM,GAAGD,EAAI,IAAIP,KAAK,KAAO,UAGjDpF,KA0BF,IAAI6F,SAAUA,WACdA,SAAQC,QAAUD,QAAQC,YAC1BD,QAAQC,QAAQC,KAAOF,QAAQC,QAAQC,SACtC,SAASxF,GACRA,EAAGyF,SAAW,MAGd,IAAIC,GAAW7F,EAAE8F,YAAYvF,KAAKwD,QAAU/D,EAAE6F,SAAW9B,OAAO8B,QAGhE1F,GAAG4F,MAAQ,SAASvE,GAClB,GAAIwE,EACJ,IAAIxE,EAAQnB,SACV2F,EAAU,GAAI7F,GAAGC,UAAUoB,EAAQnB,cAC9B,CACL,GAAIsB,GAAM/B,KAAKwF,sBAAsB5D,EAAQT,IAC7CS,GAAQ0C,GAAKvC,EAAIsC,YACjB+B,EAAU,GAAIpG,MAAKQ,UAAUuB,EAAItB,UAEzB,GAAIwF,EACd,OAAO1F,GAAGiB,OAAO6C,YAAazC,EAAQ0C,GAAIG,MAAO,GAAI7C,IAGvDrB,EAAGiB,MAAQ,SAASC,EAAUG,GAC5B,GACIwE,GADAC,EAAM,GAAIJ,EAGd,IAAIrE,EAAQnB,SACV2F,EAAU,GAAIpG,MAAKQ,UAAUoB,EAAQnB,cAChC,CACL,GAAIsB,GAAM/B,KAAKwF,sBAAsB5D,EAAQT,IAC7CS,GAAQ0C,GAAKvC,EAAIsC,YACjB+B,EAAU,GAAIpG,MAAKQ,UAAUuB,EAAItB,UAcnC,MAZA2F,GAAQtF,OAAOW,EAAU,SAASI,EAAKC,GAErC,GAAIwE,GAASlG,EAAE4E,IAAIlD,EAAQG,OAAOqE,OAAQ,SAASpB,GAEjD,MADAA,GAAM9D,KAAO8D,EAAM9D,OAAQmF,GAAiBA,EAAerB,EAAM9D,MAAQ8D,EAAM9D,KACxE8D,IAELnD,GACFuE,OAAQA,EACRE,gBAAgB,EAElBH,GAAII,QAAQ1E,KAEPsE,EAAIK,UAGb,IAAIH,IACFI,KAAQ,UACRC,KAAQ,UACRC,OAAU,UAEZhB,QAAQC,QAAQC","file":"ckan.min.js"}