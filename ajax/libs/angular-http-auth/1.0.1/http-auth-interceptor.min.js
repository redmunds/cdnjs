!function(){"use strict";angular.module("http-auth-interceptor",["http-auth-interceptor-buffer"]).factory("authService",["$rootScope","httpBuffer",function(t,e){return{loginConfirmed:function(n,r){var o=r||function(t){return t};t.$broadcast("event:auth-loginConfirmed",n),e.retryAll(o)},loginCancelled:function(n,r){e.rejectAll(r),t.$broadcast("event:auth-loginCancelled",n)}}}]).config(["$httpProvider",function(t){var e=["$rootScope","$q","httpBuffer",function(t,e,n){function r(t){return t}function o(r){if(401===r.status&&!r.config.ignoreAuthModule){var o=e.defer();return n.append(r.config,o),t.$broadcast("event:auth-loginRequired",r),o.promise}return e.reject(r)}return function(t){return t.then(r,o)}}];t.responseInterceptors.push(e)}]),angular.module("http-auth-interceptor-buffer",[]).factory("httpBuffer",["$injector",function(t){function e(e,r){function o(t){r.resolve(t)}function u(t){r.reject(t)}n=n||t.get("$http"),n(e).then(o,u)}var n,r=[];return{append:function(t,e){r.push({config:t,deferred:e})},rejectAll:function(t){if(t)for(var e=0;e<r.length;++e)r[e].deferred.reject(t);r=[]},retryAll:function(t){for(var n=0;n<r.length;++n)e(t(r[n].config),r[n].deferred);r=[]}}}])}();