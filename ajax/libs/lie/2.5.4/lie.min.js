/*! lie 2.5.4 2014-03-09*/
/*! (c)2013 Ruben Verborgh & Calvin Metcalf @license MIT https://github.com/calvinmetcalf/lie*/!function(a){"object"==typeof exports?module.exports=a():"function"==typeof define&&define.amd?define(a):"undefined"!=typeof window?window.Promise=a():"undefined"!=typeof global?global.Promise=a():"undefined"!=typeof self&&(self.Promise=a())}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){"use strict";function c(a,b,c){h?Object.defineProperty(a,b,{value:c,configurable:!0,writable:!0}):a[b]=c}function Promise(a){return this instanceof Promise?(c(this,"successQueue",[]),c(this,"failureQueue",[]),c(this,"resolved",!1),"function"==typeof a&&this.resolvePassed(a),void 0):new Promise(a)}function d(a,b,c){c&&"function"==typeof c.then?c.then(a,b):a(c)}function e(a,b,c){function d(){var d=arguments[c];return"function"!=typeof d?a:new Promise(function(a,c){g(f,d,b,a,c)})}return d}function f(a,b,c,e){try{d(c,e,a(b))}catch(f){e(f)}}var g=a("immediate"),h=!1;!function(){try{Object.defineProperty({},"test",{value:!0}),h=!0}catch(a){}}(),c(Promise.prototype,"resolvePassed",function(a){try{a(this.fulfillUnwrap.bind(this),this.reject.bind(this))}catch(b){this.reject(b)}}),c(Promise.prototype,"reject",function(a){this.resolve(!1,a)}),c(Promise.prototype,"fulfill",function(a){this.resolve(!0,a)}),c(Promise.prototype,"fulfillUnwrap",function(a){d(this.fulfill.bind(this),this.reject.bind(this),a)}),Promise.prototype.then=function(a,b){return this.resolved?this.resolved(a,b):this.pending(a,b)},function(){try{Promise.prototype["catch"]=function(a){return this.then(null,a)}}catch(a){}}(),c(Promise.prototype,"pending",function(a,b){var c=this;return new Promise(function(d,e){"function"==typeof a?c.successQueue.push({resolve:d,reject:e,callback:a}):c.successQueue.push({next:d,callback:!1}),"function"==typeof b?c.failureQueue.push({resolve:d,reject:e,callback:b}):c.failureQueue.push({next:e,callback:!1})})}),c(Promise.prototype,"resolve",function(a,b){if(!this.resolved){this.resolved=e(this,b,a?0:1);for(var c=a?this.successQueue:this.failureQueue,d=c.length,h=-1;++h<d;)c[h].callback?g(f,c[h].callback,b,c[h].resolve,c[h].reject):c[h].next(b)}}),b.exports=Promise},{immediate:4}],2:[function(a,b,c){"use strict";c.test=function(){return!1}},{}],3:[function(a,b){var c="undefined"!=typeof self?self:"undefined"!=typeof window?window:{};b.exports="object"==typeof c&&c?c:this},{}],4:[function(a,b){"use strict";function c(){var a,b=0,c=f;for(f=[];a=c[b++];)a()}for(var d,e=[a("./nextTick"),a("./mutation"),a("./realSetImmediate"),a("./postMessage"),a("./messageChannel"),a("./stateChange"),a("./timeout")],f=[],g=-1,h=e.length;++g<h;)if(e[g].test()){d=e[g].install(c);break}var i=function(a){var b,e,g=a;return arguments.length>1&&"function"==typeof a&&(e=Array.prototype.slice.call(arguments,1),g=function(){a.apply(void 0,e)}),1===(b=f.push(g))&&d(c),b};i.clear=function(a){return a<=f.length&&(f[a-1]=function(){}),this},b.exports=i},{"./messageChannel":5,"./mutation":6,"./nextTick":2,"./postMessage":7,"./realSetImmediate":8,"./stateChange":9,"./timeout":10}],5:[function(a,b,c){"use strict";var d=a("./global");c.test=function(){return!!d.MessageChannel},c.install=function(a){var b=new d.MessageChannel;return b.port1.onmessage=a,function(){b.port2.postMessage(0)}}},{"./global":3}],6:[function(a,b,c){"use strict";var d=a("./global"),e=d.MutationObserver||d.WebKitMutationObserver;c.test=function(){return e},c.install=function(a){var b=new e(a),c=d.document.createElement("div");return b.observe(c,{attributes:!0}),d.addEventListener("unload",function(){b.disconnect(),b=null},!1),function(){c.setAttribute("drainQueue","drainQueue")}}},{"./global":3}],7:[function(a,b,c){"use strict";var d=a("./global");c.test=function(){if(!d.postMessage||d.importScripts)return!1;var a=!0,b=d.onmessage;return d.onmessage=function(){a=!1},d.postMessage("","*"),d.onmessage=b,a},c.install=function(a){function b(b){b.source===d&&b.data===c&&a()}var c="com.calvinmetcalf.setImmediate"+Math.random();return d.addEventListener?d.addEventListener("message",b,!1):d.attachEvent("onmessage",b),function(){d.postMessage(c,"*")}}},{"./global":3}],8:[function(a,b,c){"use strict";var d=a("./global");c.test=function(){return d.setImmediate},c.install=function(a){return d.setTimeout.bind(d,a,0)}},{"./global":3}],9:[function(a,b,c){"use strict";var d=a("./global");c.test=function(){return"document"in d&&"onreadystatechange"in d.document.createElement("script")},c.install=function(a){return function(){var b=d.document.createElement("script");return b.onreadystatechange=function(){a(),b.onreadystatechange=null,b.parentNode.removeChild(b),b=null},d.document.documentElement.appendChild(b),a}}},{"./global":3}],10:[function(a,b,c){"use strict";c.test=function(){return!0},c.install=function(a){return function(){setTimeout(a,0)}}},{}]},{},[1])(1)});