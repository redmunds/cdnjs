!function(e){if("object"==typeof exports)module.exports=e();else if("function"==typeof define&&define.amd)define(e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.Promise=e()}}(function(){return function e(t,n,r){function o(u,s){if(!n[u]){if(!t[u]){var c="function"==typeof require&&require;if(!s&&c)return c(u,!0);if(i)return i(u,!0);throw new Error("Cannot find module '"+u+"'")}var a=n[u]={exports:{}};t[u][0].call(a.exports,function(e){var n=t[u][1][e];return o(n?n:e)},a,a.exports,e,t,n,r)}return n[u].exports}for(var i="function"==typeof require&&require,u=0;u<r.length;u++)o(r[u]);return o}({1:[function(e,t){"use strict";function n(){}t.exports=n},{}],2:[function(e,t){"use strict";var n=e("./INTERNAL"),r=e("./promise"),o=e("./reject"),i=e("./resolve");t.exports=function(e){function t(e,t){i(e).then(function(e){s[t]=e,++c===u&&f.resolve(s)},function(e){f.reject(e)})}if("[object Array]"!==Object.prototype.toString.call(e))return o(new TypeError("must be an array"));var u=e.length;if(!u)return i([]);for(var s=[],c=0,a=-1,f=new r(n);++a<u;)t(e[a],a);return f}},{"./INTERNAL":1,"./promise":6,"./reject":7,"./resolve":8}],3:[function(e,t){"use strict";function n(e){var t=e&&e.then;return e&&"object"==typeof e&&"function"==typeof t?function(){t.apply(e,arguments)}:void 0}t.exports=n},{}],4:[function(e,t,n){t.exports=n=e("./promise"),n.resolve=e("./resolve"),n.reject=e("./reject"),n.all=e("./all")},{"./all":2,"./promise":6,"./reject":7,"./resolve":8}],5:[function(e,t){"use strict";function n(){var e=0;return function(t){return function(){e++||t.apply(this,arguments)}}}t.exports=n},{}],6:[function(e,t){"use strict";function n(e){if(!(this instanceof n))return new n(e);if("function"!=typeof e)throw new TypeError("reslover must be a function");this.state=a,this.queue=[],e!==i&&r(this,e)}function r(e,t){var n=u(),r=n(function(t){return e.reject(t)}),o=s(function(){t(n(function(t){return e.resolve(t)}),r)});"error"===o.status&&r(o.value)}var o=e("./unwrap"),i=e("./INTERNAL"),u=e("./once"),s=e("./tryCatch"),c=e("./getThen"),a=["PENDING"],f=["FULFILLED"],l=["REJECTED"];t.exports=n,n.prototype.resolve=function(e){var t=s(c,e);if("error"===t.status)return this.reject(t.value);var n=t.value;if(n)r(this,n);else{this.state=f,this.outcome=e;for(var o=-1,i=this.queue.length;++o<i;)this.queue[o].callFulfilled(e)}return this},n.prototype.reject=function(e){this.state=l,this.outcome=e;for(var t=-1,n=this.queue.length;++t<n;)this.queue[t].callRejected(e);return this},n.prototype["catch"]=function(e){return this.then(null,e)},n.prototype.then=function(e,t){var r="function"==typeof e,u="function"==typeof t;if(!r&&this.state===f||!t&&this.state===l)return this;var s=new n(i),c={promise:s};return this.state!==l&&(c.callFulfilled=r?function(t){o(s,e,t)}:function(e){s.resolve(e)}),this.state!==f&&(c.callRejected=u?function(e){o(s,t,e)}:function(e){s.reject(e)}),this.state===f?c.callFulfilled(this.outcome):this.state===l?c.callRejected(this.outcome):this.queue.push(c),s}},{"./INTERNAL":1,"./getThen":3,"./once":5,"./tryCatch":9,"./unwrap":10}],7:[function(e,t){"use strict";function n(e){var t=new r(o);return t.reject(e)}var r=e("./promise"),o=e("./INTERNAL");t.exports=n},{"./INTERNAL":1,"./promise":6}],8:[function(e,t){"use strict";function n(e){if(e)return new r(o).resolve(e);var t=typeof e;switch(t){case"boolean":return i;case"undefined":return s;case"object":return u;case"number":return c;case"string":return a}}var r=e("./promise"),o=e("./INTERNAL");t.exports=n;var i=new r(o).resolve(!1),u=new r(o).resolve(null),s=new r(o).resolve(void 0),c=new r(o).resolve(0),a=new r(o).resolve("")},{"./INTERNAL":1,"./promise":6}],9:[function(e,t){"use strict";function n(e,t){var n={};try{n.value=e(t),n.status="success"}catch(r){n.status="error",n.value=r}return n}t.exports=n},{}],10:[function(e,t){"use strict";function n(e,t,n){r(function(){var r;try{r=t(n)}catch(o){return e.reject(o)}r===e?e.reject(new TypeError("Cannot resolve promise with itself")):e.resolve(r)})}var r=e("immediate");t.exports=n},{immediate:12}],11:[function(e,t,n){"use strict";n.test=function(){return!1}},{}],12:[function(e,t){"use strict";function n(){var e,t=0,n=i;for(i=[];e=n[t++];)e()}for(var r,o=[e("./nextTick"),e("./mutation"),e("./postMessage"),e("./messageChannel"),e("./stateChange"),e("./timeout")],i=[],u=-1,s=o.length;++u<s;)if(o[u].test()){r=o[u].install(n);break}t.exports=function(e){var t,o,u,s=e;if(arguments.length>1&&"function"==typeof e){for(u=new Array(arguments.length-1),o=0;++o<arguments.length;)u[o-1]=arguments[o];s=function(){e.apply(void 0,u)}}return 1===(t=i.push(s))&&r(n),t},t.exports.clear=function(e){return e<=i.length&&(i[e-1]=function(){}),this}},{"./messageChannel":13,"./mutation":14,"./nextTick":11,"./postMessage":15,"./stateChange":16,"./timeout":17}],13:[function(e,t,n){(function(e){"use strict";n.test=function(){return"undefined"!=typeof e.MessageChannel},n.install=function(t){var n=new e.MessageChannel;return n.port1.onmessage=t,function(){n.port2.postMessage(0)}}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],14:[function(e,t,n){(function(e){"use strict";var t=e.MutationObserver||e.WebKitMutationObserver;n.test=function(){return t},n.install=function(n){var r=new t(n),o=e.document.createElement("div");return r.observe(o,{attributes:!0}),e.addEventListener("unload",function(){r.disconnect(),r=null},!1),function(){o.setAttribute("drainQueue","drainQueue")}}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],15:[function(e,t,n){(function(e){"use strict";n.test=function(){if(!e.postMessage||e.importScripts)return!1;var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t},n.install=function(t){function n(n){n.source===e&&n.data===r&&t()}var r="com.calvinmetcalf.setImmediate"+Math.random();return e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),function(){e.postMessage(r,"*")}}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],16:[function(e,t,n){(function(e){"use strict";n.test=function(){return"document"in e&&"onreadystatechange"in e.document.createElement("script")},n.install=function(t){return function(){var n=e.document.createElement("script");return n.onreadystatechange=function(){t(),n.onreadystatechange=null,n.parentNode.removeChild(n),n=null},e.document.documentElement.appendChild(n),t}}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],17:[function(e,t,n){"use strict";n.test=function(){return!0},n.install=function(e){return function(){setTimeout(e,0)}}},{}]},{},[4])(4)});