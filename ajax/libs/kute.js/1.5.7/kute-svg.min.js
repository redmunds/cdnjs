// KUTE.js v1.5.7 | Â© dnp_theme | SVG Plugin | MIT-License
!function(t){if("function"==typeof define&&define.amd)define(["./kute.js"],function(e){return t(e),e});else if("object"==typeof module&&"function"==typeof require){var e=require("./kute.js");module.exports=t(e)}else{if("undefined"==typeof window.KUTE)throw new Error("SVG Plugin require KUTE.js.");window.KUTE.svg=t(e)}}(function(t){"use strict";var e,r=window,n=r.KUTE,s=r.dom,a=n.pp,i=n.prS,o=n.gCS,h=null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(navigator.userAgent)&&parseFloat(RegExp.$1),l=["strokeWidth","strokeOpacity","fillOpacity","stopOpacity"],u=["fill","stroke","stopColor"],f=/(m[^(h|v|l)]*|[vhl][^(v|h|l|z)]*)/gim,p="http://www.w3.org/2000/svg",c=r.Interpolate.number,g=r.Interpolate.color,v=r.Interpolate.unit,d=r.Interpolate.array=function(t,e,r,n){var s,a=[];for(s=0;s<r;s++)a.push(t[s]===e[s]?e[s]:c(t[s],e[s],n));return a},m=r.Interpolate.coords=function(t,e,r,n,s,a){var i,o=[];for(i=0;i<r;i++)o.push(d(t[i],e[i],n,a));return o.join(s)};if(!(h&&h<9)){var _=function(t,e,r){for(var n=[],s=[],a=t.getTotalLength(),i=e.getTotalLength(),o=Math.max(a,i),h=o/r,l=0,u=h*r;(l+=r)<u;)n.push([t.getPointAtLength(l).x,t.getPointAtLength(l).y]),s.push([e.getPointAtLength(l).x,e.getPointAtLength(l).y]);return[n,s]},y=function(t,e,r){var n,s,a,i,o,h=[],l=r.length;for(G=0;G<l;G++)n=Math.abs(r[G][0]-e.x),s=Math.abs(r[G][1]-e.y),h.push(Math.sqrt(n*n+s*s));return a=h.indexOf(Math.min.apply(null,h)),o=r[a-1]?a-1:l-1,i=r[a+1]?a+1:0,Math.abs(r[o][0]-e.x)<t&&Math.abs(r[o][1]-e.y)<t?r[o]:Math.abs(r[i][0]-e.x)<t&&Math.abs(r[i][1]-e.y)<t?r[i]:Math.abs(r[a][0]-e.x)<t&&Math.abs(r[a][1]-e.y)<t?r[a]:[e.x,e.y]},w=function(t,e){var r,n,s,a,i=T(t),o=T(e),h=[],l=e.length;for(r=0;r<l;r++)n=o.splice(r,l-r),o=n.concat(o),s=Math.abs(i[r][0]-o[r][0]),a=Math.abs(i[r][1]-o[r][1]),h.push(Math.sqrt(s*s+a*a)),o=[],o=T(e),n=null;return h.indexOf(Math.min.apply(null,h))},b=function(t){for(var e,r,n=t.match(f),s=n.length,a=0,i=0,o=0;o<s;o++)n[o]=n[o],e=n[o][0],r=new RegExp(e+"[^\\d|\\-]*","i"),n[o]=n[o].replace(/(^|[^,])\s*-/g,"$1,-").replace(/(\s+\,|\s|\,)/g,",").replace(r,"").split(","),n[o][0]=parseFloat(n[o][0]),n[o][1]=parseFloat(n[o][1]),0===o?(a+=n[o][0],i+=n[o][1]):(a=n[o-1][0],i=n[o-1][1],/l/i.test(e)?(n[o][0]="l"===e?n[o][0]+a:n[o][0],n[o][1]="l"===e?n[o][1]+i:n[o][1]):/h/i.test(e)?(n[o][0]="h"===e?n[o][0]+a:n[o][0],n[o][1]=i):/v/i.test(e)&&(n[o][0]=a,n[o][1]="v"===e?n[o][0]+i:n[o][0]));return n},x=function(t){return t.split(/z/i).shift()+"z"},A=function(t){var e=document.createElementNS(p,"path"),r="object"==typeof t?t.getAttribute("d"):t;return e.setAttribute("d",r),e},M=function(t){if("glyph"===t.tagName){var e=A(t);return t.parentNode.appendChild(e),e}return t},T=function(t){var e;if(t instanceof Array){e=[];for(var r=0,n=t.length;r<n;r++)e[r]=T(t[r]);return e}return t},E=function(t){var e={},r="object"==typeof t?t:/^\.|^\#/.test(t)?document.querySelector(t):null;return r&&/path|glyph/.test(r.tagName)?(e.e=M(r),e.o=r.getAttribute("d")):!r&&/[a-z][^a-z]*/gi.test(t)&&(e.e=A(t.trim()),e.o=t),e},S=1,k={showStartingPoints:function(t,e,r){if(S){for(var n,s,a,i,o=arguments,h=0;h<2;h++){a=o[h],i=a.length,s=0===h?{f:"DeepPink",o:"HotPink"}:{f:"Lime",o:"LimeGreen"};for(var l=0;l<i;l++)n=document.createElementNS(p,"circle"),n.setAttribute("cx",a[l][0]),n.setAttribute("cy",a[l][1]),n.setAttribute("r",0===l?20:10),n.setAttribute("fill",0===l?s.f:s.o),this._isp?r.appendChild(n):this._isp||0!==l||r.appendChild(n)}S=0,n=null}},_pathCross:function(t,e,r){var n,s,a,i,o,h,l,u,f,p,c,g,v=[];if(this._isp)if(t=b(t),e=b(e),t.length!==e.length){o=Math.max(t.length,e.length),o===e.length?(h=t,l=e):(h=e,l=t),f=h.length,u=A("M"+h.join("L")+"z"),p=u.getTotalLength()/o;for(var d=0;d<o;d++)c=u.getPointAtLength(p*d),g=y(p,c,h),v.push([g[0],g[1]]);o===e.length?(s=l,n=v):(n=l,s=v)}else n=t,s=e;else t=A(t),e=A(e),a=_(t,e,this._mpr),n=a[0],s=a[1],o=s.length;if(this._rv1&&n.reverse(),this._rv2&&s.reverse(),this._smi&&(i=w(n,s)),this._midx){var m=s.splice(this._midx,o-this._midx);s=m.concat(s)}if(this._smi){this.showStartingPoints(n,s,r);var x=this._isp?"the polygon with the most points.\n":(25===this._mpr?"the default":"your")+" morphPrecision value of "+this._mpr+".\n";console.log("KUTE.js Path Morph Log\nThe morph used "+o+" points to draw both paths based on "+x+(this._midx?"You've configured the morphIndex to "+this._midx+" while the recommended is "+i+".\n":"You may also consider a morphIndex for the second path. Currently the best index seems to be "+i+".\n")+(this._rv1||this._rv2?"You've chosen that the first path to have "+(this._rv1?"REVERSED draw direction, ":"UNCHANGED draw direction, ")+"while second path is to be "+(this._rv2?"REVERSED.\n":"UNCHANGED.\n"):"If the current animation is not satisfactory, consider reversing one of the paths. Maybe the paths do not intersect or they really have different draw directions."))}return t=e=null,[n,s]},pathCross:function(t){this._mpr=t._ops.morphPrecision||15,this._midx=t._ops.morphIndex,this._smi=t._ops.showMorphInfo,this._rv1=t._ops.reverseFirstPath,this._rv2=t._ops.reverseSecondPath;var e,r=x(t._vS.path.o),n=x(t._vE.path.o);this._isp=!/[CSQTA]/i.test(r)&&!/[CSQTA]/i.test(n),e=this._pathCross(r,n,t._el.ownerSVGElement),t._vS.path.d=e[0],t._vE.path.d=e[1]}};n.svq=function(t){t._vE.path&&k.pathCross(t),t._vE.svgTransform&&z(t)},a.path=function(t,e,r){return"path"in s||(s.path=function(t,e,r,n,s){t.setAttribute("d",1===s?n.o:"M"+m(r.d,n.d,n.d.length,2,"L",s)+"Z")}),E(e)},i.path=function(t,e,r){return t.getAttribute("d")};var N=function(t,e){return parseFloat(t)/100*e},P=function(t){var e=t.getAttribute("width"),r=t.getAttribute("height");return 2*e+2*r},I=function(t){var e=t.getAttribute("points").split(" "),r=0;if(e.length>1){var n=function(t){var e=t.split(",");if(2==e.length&&!isNaN(e[0])&&!isNaN(e[1]))return[parseFloat(e[0]),parseFloat(e[1])]},s=function(t,e){return void 0!=t&&void 0!=e?Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)):0};if(e.length>2)for(var a=0;a<e.length-1;a++)r+=s(n(e[a]),n(e[a+1]));r+=s(n(e[0]),n(e[e.length-1]))}return r},C=function(t){var e=t.getAttribute("x1"),r=t.getAttribute("x2"),n=t.getAttribute("y1"),s=t.getAttribute("y2");return Math.sqrt(Math.pow(r-e,2)+Math.pow(s-n,2))},L=function(t){var e=t.getAttribute("r");return 2*Math.PI*e},F=function(t){var e=t.getAttribute("rx"),r=t.getAttribute("ry"),n=2*e,s=2*r;return Math.sqrt(.5*(n*n+s*s))*(2*Math.PI)/2},j=function(t){return/rect/.test(t.tagName)?P(t):/circle/.test(t.tagName)?L(t):/ellipse/.test(t.tagName)?F(t):/polygon|polyline/.test(t.tagName)?I(t):/line/.test(t.tagName)?C(t):void 0},q=function(t,e){var r,n,s,a,i=/path|glyph/.test(t.tagName)?t.getTotalLength():j(t);return e instanceof Object?e:("string"==typeof e?(e=e.split(/\,|\s/),r=/%/.test(e[0])?N(e[0].trim(),i):parseFloat(e[0]),n=/%/.test(e[1])?N(e[1].trim(),i):parseFloat(e[1])):"undefined"==typeof e&&(a=parseFloat(o(t,"stroke-dashoffset")),s=o(t,"stroke-dasharray").split(/\,/),r=0-a,n=parseFloat(s[0])+r||i),{s:r,e:n,l:i})};a.draw=function(t,e,r){return"draw"in s||(s.draw=function(t,e,r,n,s){var a=r.l,i=c(r.s,n.s,s),o=c(r.e,n.e,s),h=0-i;t.style.strokeDashoffset=h+"px",t.style.strokeDasharray=o+h<1?"0px, "+a+"px":o+h+"px, "+a+"px"}),q(r,e)},i.draw=function(t,e,r){return q(t)};for(var G=0,Y=u.length;G<Y;G++)e=u[G],a[e]=function(t,e){return t in s||(s[t]=function(t,e,r,n,s,a){t.style[e]=g(r,n,s,a.keepHex)}),n.truC(e)},i[e]=function(t,e,r){return o(t,e)||"rgba(0,0,0,0)"};for(var G=0,Y=l.length;G<Y;G++)e=l[G],"strokeWidth"===e?a[e]=function(t,e){return t in s||(s[t]=function(t,e,r,n,s){var a=a||"number"==typeof n;t.style[e]=a?c(r,n,s):v(r.value,n.value,n.unit,s)}),/px|%|em|vh|vw/.test(e)?a.box(t,e):parseFloat(e)}:a[e]=function(t,e){return t in s||(s[t]=function(t,e,r,n,s){t.style[e]=c(r,n,s)}),parseFloat(e)},i[e]=function(t,e,r){return o(t,e)||0};var D=function(t){var e,r,n=t&&/\)/.test(t)?t.split(")"):"none",s={};if(n instanceof Array)for(e=0;e<n.length;e++)r=n[e].split("("),""!==r[0]&&(s[r[0].replace(/\s/,"")]=r[1]);return s},R=r.Interpolate.translateSVG=function(t,e,r,n,s){return t+(r[1]===n[1]&&0===n[1]?c(r[0],n[0],s):c(r[0],n[0],s)+" "+c(r[1],n[1],s))+e},U=r.Interpolate.rotateSVG=function(t,e,r,n,s){return t+(c(r[0],n[0],s)+" "+n[1]+","+n[2])+e},V=r.Interpolate.stfSVG=function(t,e,r,n,s){return t+c(r,n,s)+e},z=function(t){var e,r,n,s=t._el.getBBox(),a=D(t._el.getAttribute("transform")),i=s.x+s.width/2,o=s.y+s.height/2;for(n in a)"translate"===n?(r=a[n]instanceof Array?a[n]:/\,|\s/.test(a[n])?a[n].split(/\,|\s/):[1*a[n],0],t._vS.svgTransform[n]=[1*r[0]||0,1*r[1]||0]):"scale"===n?t._vS.svgTransform[n]=1*a[n]||1:"rotate"===n?(e=a[n]instanceof Array?a[n]:/\s/.test(a[n])?[1*a[n].split(" ")[0],1*a[n].split(" ")[1].split(",")[0],1*a[n].split(" ")[1].split(",")[1]]:[1*a[n],i,o],t._vS.svgTransform[n]=e):/skew/.test(n)&&(t._vS.svgTransform[n]=1*a[n]||0);for(var n in t._vS.svgTransform)n in t._vE.svgTransform||(t._vE.svgTransform[n]=t._vS.svgTransform[n]),n==="rotate"in t._vS.svgTransform&&"rotate"in t._vE.svgTransform&&(t._vE.svgTransform.rotate[1]=t._vS.svgTransform.rotate[1]=i,t._vE.svgTransform.rotate[2]=t._vS.svgTransform.rotate[2]=o)};return a.svgTransform=function(t,e,r){"svgTransform"in s||(s.svgTransform=function(t,e,r,n,s){var a="",i="",o="",h="",l="";for(var u in n)"translate"===u?a+=R(u+"(",")",r[u],n[u],s):"rotate"===u?i+=U(u+"(",")",r[u],n[u],s):"scale"===u?l+=V(u+"(",")",r[u],n[u],s):"skewX"===u?o+=V(u+"(",")",r[u],n[u],s):"skewY"===u&&(h+=V(u+"(",")",r[u],n[u],s));t.setAttribute("transform",a+l+i+o+h)});var n,a,i={},o=r.getBBox(),h=o.x+o.width/2,l=o.y+o.height/2;for(G in e)"rotate"===G?(n=e[G]instanceof Array?e[G]:/\s/.test(e[G])?[1*e[G].split(" ")[0],1*e[G].split(" ")[1].split(",")[0],1*e[G].split(" ")[1].split(",")[1]]:[1*e[G],h,l],i[G]=n):"translate"===G?(a=e[G]instanceof Array?e[G]:/\,|\s/.test(e[G])?e[G].split(/\,|\s/):[1*e[G],0],i[G]=[1*a[0]||0,1*a[1]||0]):"scale"===G?i[G]=1*e[G]||1:/skew/.test(G)&&(i[G]=1*e[G]||0);return"scale"in i&&(!("translate"in i)&&(i.translate=[0,0]),i.translate[0]+=(1-i.scale)*o.width/2,i.translate[1]+=(1-i.scale)*o.height/2,"rotate"in i&&(i.rotate[1]-="skewX"in i?Math.tan(i.skewX)*o.height:0,i.rotate[2]-="skewY"in i?Math.tan(i.skewY)*o.width:0),i.translate[0]+="skewX"in i?Math.tan(i.skewX)*o.height*2:0,i.translate[1]+="skewY"in i?Math.tan(i.skewY)*o.width*2:0),i},i.svgTransform=function(t,e,r){var n,s={},a=D(t.getAttribute("transform"));for(n in r)s[n]=n in a?a[n]:"scale"===n?1:0;return s},k}});