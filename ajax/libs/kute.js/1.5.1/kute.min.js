// KUTE.js | dnp_theme | MIT-License
!function(t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():window.KUTE=window.KUTE||t()}(function(){"use strict";var t,e=e||{},n=[],r=Math.min;e.getPrefix=function(){var t=document.createElement("div"),e=0,n=["Moz","moz","Webkit","webkit","O","o","Ms","ms"],r=n.length,i=["MozTransform","mozTransform","WebkitTransform","webkitTransform","OTransform","oTransform","MsTransform","msTransform"];for(e;r>e;e++)if(i[e]in t.style)return n[e];t=null},e.property=function(t){var n=t in document.body.style?!1:!0,r=e.getPrefix();return n?r+(t.charAt(0).toUpperCase()+t.slice(1)):t},e.selector=function(t,e){var n;if(n=e?"object"==typeof t&&t.length?t:document.querySelectorAll(t):"object"==typeof t?t:/^#/.test(t)?document.getElementById(t.replace("#","")):document.querySelector(t),null===n&&"window"!==t)throw new TypeError("Element not found or incorrect selector: "+t);return n};for(var i=("ontouchstart"in window||navigator.msMaxTouchPoints||!1),s=i?"touchstart":"mousewheel",a="mouseenter",o=e.property("transformOrigin"),u=e.property("perspective"),l=e.property("perspectiveOrigin"),p=e.property("transform"),c=window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(t){return setTimeout(t,16)},v=window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||function(t){return clearTimeout(t)},f=document.body,h=document.getElementsByTagName("HTML")[0],d=/webkit/i.test(navigator.userAgent)||"BackCompat"==document.compatMode?f:h,g=null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(navigator.userAgent)?parseFloat(RegExp.$1):!1,_=8===g,m=["color","backgroundColor"],w=["scrollTop","scroll"],y=["opacity"],E=["top","left","width","height"],T=["rotateX","rotateY","translateZ"],S=["translate3d","translateX","translateY","translateZ","rotate","translate","rotateX","rotateY","rotateZ","skewX","skewY","scale"],O=m.concat(w,y,E,S),x=O.length,b=b||{},C=0;x>C;C++){var I=O[C];-1!==m.indexOf(I)?b[I]="rgba(0,0,0,0)":-1!==E.indexOf(I)?b[I]=0:"translate3d"===I?b[I]=[0,0,0]:"translate"===I?b[I]=[0,0]:"rotate"===I||/X|Y|Z/.test(I)?b[I]=0:("scale"===I||"opacity"===I)&&(b[I]=1)}e.to=function(t,n,r){var i=e.selector(t),s=n,a=e.prP(n,{},i)[0];return r=r||{},r.rpr=!0,new e.Tween(i,s,a,r)},e.fromTo=function(t,n,r,i){var s=e.selector(t),a=e.prP(n,r,s),o=a[0],u=a[1];i=i||{};var l=new e.Tween(s,o,u,i);return e.svg&&e.svq(l),l},e.allTo=function(t,n,r){var i=e.selector(t,!0);return new e.TweensTO(i,n,r)},e.allFromTo=function(t,n,r,i){var s=e.selector(t,!0);return new e.TweensFT(s,n,r,i)},e.dom={},e._u=function(t,n){if(n=n||window.performance.now(),n<t._sT&&t.playing&&!t.paused)return!0;var i,s=r((n-t._sT)/t._dr,1);for(i in t._vE)e.dom[i](t,i,t._e(s));if(t._uC&&t._uC.call(),1===s){if(t._r>0)return t._r<9999&&t._r--,t._y&&(t.reversed=!t.reversed,t.rvs()),t._sT=t._y&&!t.reversed?n+t._rD:n,!0;t._cC&&t._cC.call(),t.scrollOut();var a=0,o=t._cT.length;for(a;o>a;a++)t._cT[a].start(t._sT+t._dr);return t.close(),!1}return!0},e._tk=function(r){var i,s=0;for(t=c(e._tk);s<(i=n.length);)e._u(n[s],r)?s++:n.splice(s,1)},e.perspective=function(t,e){void 0!==e._to&&(t.style[o]=e._to),void 0!==e._ppo&&(t.style[l]=e._ppo),void 0!==e._ppp&&(t.parentNode.style[u]=e._ppp+"px"),void 0!==e._pppo&&(t.parentNode.style[l]=e._pppo)},e.getAll=function(){return n},e.removeAll=function(){n=[]},e.add=function(t){n.push(t)},e.remove=function(t){var e=n.indexOf(t);-1!==e&&n.splice(e,1)},e.s=function(){v(t),t=null},e.prP=function(t,n,r){var i,s=arguments.length,a=[];for(s=s>2?2:s,i=0;s>i;i++){var o,u=arguments[i],l={},p={},c={},v={};a[i]={};for(o in u)if(-1!==S.indexOf(o)){if(/^translate(?:[XYZ]|3d)$/.test(o)){var f=["X","Y","Z"],h=0;for(h;3>h;h++){var d=f[h];/3d/.test(o)?c["translate"+d]=e.pp.tf("translate"+d,u[o][h]):c["translate"+d]="translate"+d in u?e.pp.tf("translate"+d,u["translate"+d]):{value:0,unit:"px"}}v.translate=c}else if(/^rotate(?:[XYZ])$/.test(o)||/^skew(?:[XY])$/.test(o)){var g=/rotate/.test(o)?"rotate":"skew",_=["X","Y","Z"],T=0,O="rotate"===g?p:l;for(T;3>T;T++){var x=_[T];void 0!==u[g+x]&&"skewZ"!==o&&(O[g+x]=e.pp.tf(g+x,u[g+x]))}v[g]=O}else/(rotate|translate|scale)$/.test(o)&&(v[o]=e.pp.tf(o,u[o]));a[i].transform=v}else"transform"!==o&&(-1!==E.indexOf(o)?a[i][o]=e.pp.box(o,u[o]):-1!==y.indexOf(o)||-1!==w.indexOf(o)?a[i][o]=e.pp.unl(o,u[o]):-1!==m.indexOf(o)?a[i][o]=e.pp.cls(o,u[o]):o in e.pp&&(a[i][o]=e.pp[o](o,u[o],r)))}return a},e.pp={},e.prS={},e.pp.tf=function(t,n){"transform"in e.dom||(e.dom.transform=function(t,e,n){var r,i,s="",a="perspective("+t._pp+"px) ";for(r in t._vE[e]){var o=t._vS[e][r],u=t._vE[e][r];if(i=i||-1!==T.indexOf(r)&&!g,"translate"===r){var l,c="",v={};for(l in u){var f=o[l].value||0,h=u[l].value||0,d=u[l].unit||"px";v[l]=f===h?h+d:f+(h-f)*n+d}c=u.x?"translate("+v.x+","+v.y+")":"translate3d("+v.translateX+","+v.translateY+","+v.translateZ+")",s=""===s?c:c+" "+s}else if("rotate"===r){var _,m="",w={};for(_ in u)if(o[_]){var y=o[_].value,E=u[_].value,S=u[_].unit||"deg",O=y+(E-y)*n;w[_]="z"===_?"rotate("+O+S+")":_+"("+O+S+") "}m=u.z?w.z:(w.rotateX||"")+(w.rotateY||"")+(w.rotateZ||""),s=""===s?m:s+" "+m}else if("skew"===r){var x="",b={};for(var C in u)if(o[C]){var I=o[C].value,M=u[C].value,k=u[C].unit||"deg",D=I+(M-I)*n;b[C]=C+"("+D+k+") "}x=(b.skewX||"")+(b.skewY||""),s=""===s?x:s+" "+x}else if("scale"===r){var F=o.value,Y=u.value,X=F+(Y-F)*n,A=r+"("+X+")";s=""===s?A:s+" "+A}}t._el.style[p]=i||void 0!==t._pp&&0!==t._pp?a+s:s});var r,i=t.replace(/X|Y|Z/,"");if("translate3d"===t)return r=n.split(","),{translateX:{value:e.truD(r[0]).v,unit:e.truD(r[0]).u},translateY:{value:e.truD(r[1]).v,unit:e.truD(r[1]).u},translateZ:{value:e.truD(r[2]).v,unit:e.truD(r[2]).u}};if("translate"!==t&&"translate"===i)return{value:e.truD(n).v,unit:e.truD(n).u||"px"};if("rotate"!==t&&("skew"===i||"rotate"===i)&&"skewZ"!==t)return{value:e.truD(n).v,unit:e.truD(n,t).u||"deg"};if("translate"===t){r="string"==typeof n?n.split(","):n;var s={};return r instanceof Array?(s.x={value:e.truD(r[0]).v,unit:e.truD(r[0]).u},s.y={value:e.truD(r[1]).v,unit:e.truD(r[1]).u}):(s.x={value:e.truD(r).v,unit:e.truD(r).u},s.y={value:0,unit:"px"}),s}if("rotate"===t){var a={};return a.z={value:e.truD(n,t).v,unit:e.truD(n,t).u||"deg"},a}return"scale"===t?{value:parseFloat(n)}:void 0},e.pp.unl=function(t,n){return/scroll/.test(t)?e.dom[t]=function(t,e,n){t._el=void 0===t._el||null===t._el?d:t._el,t._el.scrollTop=t._vS[e].value+(t._vE[e].value-t._vS[e].value)*n}:"opacity"===t&&(t in e.dom||(_?e.dom[t]=function(t,e,n){t._el.style.filter="alpha(opacity="+100*(t._vS[e].value+(t._vE[e].value-t._vS[e].value)*n)+")"}:e.dom[t]=function(t,e,n){t._el.style.opacity=t._vS[e].value+(t._vE[e].value-t._vS[e].value)*n})),{value:parseFloat(n)}},e.pp.box=function(t,n){return t in e.dom||(e.dom[t]=function(t,e,n){t._el.style[e]=t._vS[e].value+(t._vE[e].value-t._vS[e].value)*n+t._vE[e].unit}),{value:e.truD(n).v,unit:e.truD(n).u}},e.pp.cls=function(t,n){return t in e.dom||(e.dom[t]=function(t,n,r){var i={};for(var s in t._vE[n].value)"a"!==s?i[s]=parseInt(t._vS[n].value[s]+(t._vE[n].value[s]-t._vS[n].value[s])*r)||0:i[s]=t._vS[n].value[s]&&t._vE[n].value[s]?parseFloat(t._vS[n].value[s]+(t._vE[n].value[s]-t._vS[n].value[s])*r):null;t._hex?t._el.style[n]=e.rth(i.r,i.g,i.b):t._el.style[n]=!i.a||_?"rgb("+i.r+","+i.g+","+i.b+")":"rgba("+i.r+","+i.g+","+i.b+","+i.a+")"}),{value:e.truC(n)}},e.truD=function(t,e){function n(){var n,r=0;for(r;s>r;r++)"string"==typeof t&&-1!==t.indexOf(i[r])&&(n=i[r]);return n=void 0!==n?n:e?"deg":"px"}var r=parseInt(t)||0,i=["px","%","deg","rad","em","rem","vh","vw"],s=i.length,a=n();return{v:r,u:a}},e.preventScroll=function(t){var e=document.body.getAttribute("data-tweening");e&&"scroll"===e&&t.preventDefault()},e.truC=function(t){var n,r;if(/rgb|rgba/.test(t))return n=t.replace(/[^\d,]/g,"").split(","),r=n[3]?n[3]:null,r?{r:parseInt(n[0]),g:parseInt(n[1]),b:parseInt(n[2]),a:1*r}:{r:parseInt(n[0]),g:parseInt(n[1]),b:parseInt(n[2])};if(/#/.test(t))return n=e.htr(t),{r:n.r,g:n.g,b:n.b};if(/transparent|none|initial|inherit/.test(t))return{r:0,g:0,b:0,a:0};if(!/#|rgb/.test(t)){var i=document.getElementsByTagName("head")[0];return i.style.color=t,n=window.getComputedStyle(i,null).color,i.style.color="",t!==n?e.truC(n):{r:0,g:0,b:0}}},e.rth=function(t,e,n){return"#"+((1<<24)+(t<<16)+(e<<8)+n).toString(16).slice(1)},e.htr=function(t){var e=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;t=t.replace(e,function(t,e,n,r){return e+e+n+n+r+r});var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return n?{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16)}:null},e.gIS=function(t,e){if(t){var n=t.style.cssText,r={},i=n.replace(/\s/g,"").split(";"),s=0,a=i.length;for(s;a>s;s++)if(/transform/.test(i[s])){var o=i[s].split(":")[1].split(")"),u=0,l=o.length;for(u;l>u;u++){var p=o[u].split("(");""!==p[0]&&S.indexOf(p)&&(r[p[0]]=/translate3d/.test(p[0])?p[1].split(","):p[1])}}return r}},e.gCS=function(t,n){var r=t.style,i=window.getComputedStyle(t,null)||t.currentStyle,s=e.property(n),a=r[n]&&!/auto|initial|none|unset/.test(r[n])?r[n]:i[s];if("transform"!==n&&(s in i||s in r)){if(a){if("filter"===s){var o=parseInt(a.split("=")[1].replace(")","")),u=parseFloat(o/100);return u}return a}return b[n]}},e.pe=function(t){if("function"==typeof t)return t;if("string"==typeof t){if(/easing|linear/.test(t))return e.Easing[t];if(/bezier/.test(t)){var n=t.replace(/bezier|\s|\(|\)/g,"").split(",");return e.Ease.Bezier(1*n[0],1*n[1],1*n[2],1*n[3])}return/physics/.test(t)?e.Physics[t]():e.Ease[t]()}},e.Easing={},e.Easing.linear=function(t){return t};var M=Math.PI,k=2*Math.PI,D=Math.PI/2,F=.1,Y=.4;e.Easing.easingSinusoidalIn=function(t){return-Math.cos(t*D)+1},e.Easing.easingSinusoidalOut=function(t){return Math.sin(t*D)},e.Easing.easingSinusoidalInOut=function(t){return-.5*(Math.cos(M*t)-1)},e.Easing.easingQuadraticIn=function(t){return t*t},e.Easing.easingQuadraticOut=function(t){return t*(2-t)},e.Easing.easingQuadraticInOut=function(t){return.5>t?2*t*t:-1+(4-2*t)*t},e.Easing.easingCubicIn=function(t){return t*t*t},e.Easing.easingCubicOut=function(t){return--t*t*t+1},e.Easing.easingCubicInOut=function(t){return.5>t?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},e.Easing.easingQuarticIn=function(t){return t*t*t*t},e.Easing.easingQuarticOut=function(t){return 1- --t*t*t*t},e.Easing.easingQuarticInOut=function(t){return.5>t?8*t*t*t*t:1-8*--t*t*t*t},e.Easing.easingQuinticIn=function(t){return t*t*t*t*t},e.Easing.easingQuinticOut=function(t){return 1+--t*t*t*t*t},e.Easing.easingQuinticInOut=function(t){return.5>t?16*t*t*t*t*t:1+16*--t*t*t*t*t},e.Easing.easingCircularIn=function(t){return-(Math.sqrt(1-t*t)-1)},e.Easing.easingCircularOut=function(t){return Math.sqrt(1-(t-=1)*t)},e.Easing.easingCircularInOut=function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},e.Easing.easingExponentialIn=function(t){return Math.pow(2,10*(t-1))-.001},e.Easing.easingExponentialOut=function(t){return 1-Math.pow(2,-10*t)},e.Easing.easingExponentialInOut=function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))},e.Easing.easingBackIn=function(t){var e=1.70158;return t*t*((e+1)*t-e)},e.Easing.easingBackOut=function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},e.Easing.easingBackInOut=function(t){var e=2.5949095;return(t*=2)<1?.5*(t*t*((e+1)*t-e)):.5*((t-=2)*t*((e+1)*t+e)+2)},e.Easing.easingElasticIn=function(t){var e;return 0===t?0:1===t?1:(!F||1>F?(F=1,e=Y/4):e=Y*Math.asin(1/F)/k,-(F*Math.pow(2,10*(t-=1))*Math.sin((t-e)*k/Y)))},e.Easing.easingElasticOut=function(t){var e;return 0===t?0:1===t?1:(!F||1>F?(F=1,e=Y/4):e=Y*Math.asin(1/F)/k,F*Math.pow(2,-10*t)*Math.sin((t-e)*k/Y)+1)},e.Easing.easingElasticInOut=function(t){var e;return 0===t?0:1===t?1:(!F||1>F?(F=1,e=Y/4):e=Y*Math.asin(1/F)/k,(t*=2)<1?-.5*(F*Math.pow(2,10*(t-=1))*Math.sin((t-e)*k/Y)):F*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*k/Y)*.5+1)},e.Easing.easingBounceIn=function(t){return 1-e.Easing.easingBounceOut(1-t)},e.Easing.easingBounceOut=function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},e.Easing.easingBounceInOut=function(t){return.5>t?.5*e.Easing.easingBounceIn(2*t):.5*e.Easing.easingBounceOut(2*t-1)+.5},e.Tween=function(t,n,r,i){this._el=t,this._vSR={},this._vS=n,this._vE=r,this._y=i.yoyo||!1,this.playing=!1,this.reversed=!1,this.paused=!1,this._sT=null,this._pST=null,this._hex=i.keepHex||!1,this._rpr=i.rpr||!1,this._dr=i.duration||700,this._r=i.repeat||0,this._rD=i.repeatDelay||0,this._dl=i.delay||0,this._to=i.transformOrigin,this._pp=i.perspective,this._ppo=i.perspectiveOrigin,this._ppp=i.parentPerspective,this._pppo=i.parentPerspectiveOrigin,this._e=i&&i.easing&&"function"==typeof e.pe(i.easing)?e.pe(i.easing):e.Easing.linear,this._cT=[],this._sCF=!1,this._sC=i.start||null,this._uC=i.update||null,this._cC=i.complete||null,this._pC=i.pause||null,this._rC=i.play||null,this._stC=i.stop||null,this.repeat=this._r;for(var s in i)s in this||/perspective|delay|duration|repeat|origin|start|stop|update|complete|pause|play|yoyo|easing/i.test(s)||(this[s]=i[s])};var X=e.Tween.prototype;X.start=function(r){this.scrollIn(),e.perspective(this._el,this),this._rpr&&this.stack();for(var i in this._vE)this._vSR[i]=this._vS[i];return n.push(this),this.playing=!0,this.paused=!1,this._sCF=!1,this._sT=r||window.performance.now(),this._sT+=this._dl,this._sCF||(this._sC&&this._sC.call(),this._sCF=!0),t||e._tk(),this},X.stop=function(){return!this.paused&&this.playing&&(e.remove(this),this.playing=!1,this.paused=!1,this.scrollOut(),null!==this._stC&&this._stC.call(),this.stopChainedTweens(),this.close()),this},X.pause=function(){return!this.paused&&this.playing&&(e.remove(this),this.paused=!0,this._pST=window.performance.now(),null!==this._pC&&this._pC.call()),this},X.play=X.resume=function(){return this.paused&&this.playing&&(this.paused=!1,null!==this._rC&&this._rC.call(),this._sT+=window.performance.now()-this._pST,e.add(this),t||e._tk()),this},X.rvs=function(){if(this._y)for(var t in this._vE){var e=this._vSR[t];this._vSR[t]=this._vE[t],this._vE[t]=e,this._vS[t]=this._vSR[t]}},X.chain=function(){return this._cT=arguments,this},X.stopChainedTweens=function(){var t=0,e=this._cT.length;for(t;e>t;t++)this._cT[t].stop()},X.scrollOut=function(){("scroll"in this._vE||"scrollTop"in this._vE)&&(this.removeListeners(),document.body.removeAttribute("data-tweening"))},X.scrollIn=function(){("scroll"in this._vE||"scrollTop"in this._vE)&&(document.body.getAttribute("data-tweening")||(document.body.setAttribute("data-tweening","scroll"),this.addListeners()))},X.addListeners=function(){document.addEventListener(s,e.preventScroll,!1),document.addEventListener(a,e.preventScroll,!1)},X.removeListeners=function(){document.removeEventListener(s,e.preventScroll,!1),document.removeEventListener(a,e.preventScroll,!1)},X.stack=function(){var t=this.prS();this._vS={},this._vS=e.prP(t,{},this._el)[0];for(var n in this._vS)if("transform"===n&&n in this._vE)for(var r in this._vS[n]){r in this._vE[n]||(this._vE[n][r]={});for(var i in this._vS[n][r])if(void 0!==this._vS[n][r][i].value){i in this._vE[n][r]||(this._vE[n][r][i]={});for(var s in this._vS[n][r][i])s in this._vE[n][r][i]||(this._vE[n][r][i][s]=this._vS[n][r][i][s])}if("value"in this._vS[n][r]&&!("value"in this._vE[n][r]))for(var a in this._vS[n][r])a in this._vE[n][r]||(this._vE[n][r][a]=this._vS[n][r][a])}e.svg&&e.svq(this)},X.prS=function(){var t={},n=this._el,r=this._vS,i=e.gIS(n,"transform"),s=["rotate","skew"],a=["X","Y","Z"];for(var o in r)if(-1!==S.indexOf(o)){var u=/(rotate|translate|scale)$/.test(o);if(/translate/.test(o)&&"translate"!==o)t.translate3d=i.translate3d||b[o];else if(u)t[o]=i[o]||b[o];else if(!u&&/rotate|skew/.test(o))for(var l=0;2>l;l++)for(var p=0;3>p;p++){var c=s[l]+a[p];-1!==S.indexOf(c)&&c in r&&(t[c]=i[c]||b[c])}}else if(-1===w.indexOf(o))if("opacity"===o&&_){var v=e.gCS(n,"filter");t.opacity="number"==typeof v?v:b.opacity}else-1!==O.indexOf(o)?t[o]=e.gCS(n,o)||l[o]:t[o]=o in e.prS?e.prS[o](n,o,r[o]):0;else t[o]=null===n||void 0===n?window.pageYOffset||d.scrollTop:n.scrollTop;for(var o in i)-1===S.indexOf(o)||o in r||(t[o]=i[o]||b[o]);return t},X.close=function(){var t=this;setTimeout(function(){var r=n.indexOf(t);r===n.length-1&&e.s(),t.repeat>0&&(t._r=t.repeat),t._y&&t.reversed===!0&&(t.rvs(),t.reversed=!1),t.playing=!1},64)},e.TweensTO=function(t,n,r){this.tweens=[];var i,s=t.length,a=[];for(i=0;s>i;i++)a[i]=r||{},r.delay=r.delay||0,a[i].delay=i>0?r.delay+(r.offset||0):r.delay,this.tweens.push(e.to(t[i],n,a[i]))},e.TweensFT=function(t,n,r,i){this.tweens=[];var s,a=t.length,o=[];for(s=0;a>s;s++)o[s]=i||{},i.delay=i.delay||0,o[s].delay=s>0?i.delay+(i.offset||0):i.delay,this.tweens.push(e.fromTo(t[s],n,r,o[s]))};var A=e.TweensTO.prototype=e.TweensFT.prototype;return A.start=function(t){t=t||window.performance.now();var e,n=this.tweens.length;for(e=0;n>e;e++)this.tweens[e].start(t);return this},A.stop=function(){for(var t=0;t<this.tweens.length;t++)this.tweens[t].stop();return this},A.pause=function(){for(var t=0;t<this.tweens.length;t++)this.tweens[t].pause();return this},A.chain=function(){return this.tweens[this.tweens.length-1]._cT=arguments,this},A.play=A.resume=function(){for(var t=0;t<this.tweens.length;t++)this.tweens[t].play();return this},e});