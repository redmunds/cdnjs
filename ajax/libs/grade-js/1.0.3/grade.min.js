!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.Grade=e()}}(function(){return function e(t,n,i){function r(o,u){if(!n[o]){if(!t[o]){var s="function"==typeof require&&require;if(!u&&s)return s(o,!0);if(a)return a(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return r(n?n:e)},f,f.exports,e,t,n,i)}return n[o].exports}for(var a="function"==typeof require&&require,o=0;o<i.length;o++)r(i[o]);return r}({1:[function(e,t,n){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=["webkit","moz","ms","o"],u=function(){function e(t){r(this,e),this.container=t,this.image=this.container.querySelector("img"),this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.imageDimensions={width:0,height:0},this.imageData=[],this.readImage()}return a(e,[{key:"readImage",value:function(){this.imageDimensions.width=this.image.width,this.imageDimensions.height=this.image.height,this.render()}},{key:"getImageData",value:function(){this.imageData=Array.from(this.ctx.getImageData(0,0,this.imageDimensions.width,this.imageDimensions.height).data)}},{key:"getChunkedImageData",value:function(){var e=4;return this.imageData.reduce(function(t,n,i){var r=Math.floor(i/e);return t[r]||(t[r]=[]),t[r].push(n),t},[])}},{key:"getRGBAGradientValues",value:function(e){return e.map(function(e,t){return"rgb("+e.rgba.slice(0,3).join(",")+")"}).join(",")}},{key:"getCSSGradientProperty",value:function(e){var t=this.getRGBAGradientValues(e);return o.map(function(e){return"background-image: -"+e+"-linear-gradient(\n                        to bottom right,\n                        "+t+"\n                    )"}).concat(["background-image: linear-gradient(\n                    to bottom right,\n                    "+t+"\n                )"]).join(";")}},{key:"getTopValues",value:function(e){return[].concat(i(Object.keys(e).map(function(t){var n=t,i=t.split("|");(299*i[0]+587*i[1]+114*i[2])/1e3;return{rgba:n.split("|"),occurs:e[t]}}).sort(function(e,t){return e.brightness-t.brightness}).reverse().slice(0,2)))}},{key:"getUniqValues",value:function(e){return e.reduce(function(e,t){var n=t.join("|");return e[n]?(e[n]=++e[n],e):(e[n]=1,e)},{})}},{key:"renderGradient",value:function(){var e=this.getChunkedImageData(),t=this.getCSSGradientProperty(this.getTopValues(this.getUniqValues(e))),n=(this.container.getAttribute("style")||"")+" "+t;this.container.setAttribute("style",n)}},{key:"render",value:function(){this.canvas.width=this.imageDimensions.width,this.canvas.height=this.imageDimensions.height,this.ctx.drawImage(this.image,0,0),this.getImageData(),this.renderGradient()}}]),e}();t.exports=function(e){Array.from(e).forEach(function(e){return new u(e)})}},{}]},{},[1])(1)});
//# sourceMappingURL=grade.min.js.map