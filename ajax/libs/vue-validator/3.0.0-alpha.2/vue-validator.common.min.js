"use strict";function warn(t,e){window.console&&(console.warn("[vue-validator] "+t),e&&console.warn(e.stack))}function looseEqual(t,e){return t===e||!(!isObject(t)||!isObject(e))&&JSON.stringify(t)===JSON.stringify(e)}function getClass(t){var e=t.className;return"object"==typeof e&&(e=e.baseVal||""),e}function setClass(t,e){isIE9&&!/svg$/.test(t.namespaceURI)?t.className=e:t.setAttribute("class",e)}function addClass(t,e){if(t.classList)t.classList.add(e);else{var i=" "+getClass(t)+" ";i.indexOf(" "+e+" ")<0&&setClass(t,(i+e).trim())}}function removeClass(t,e){if(t.classList)t.classList.remove(e);else{for(var i=" "+getClass(t)+" ",n=" "+e+" ";i.indexOf(n)>=0;)i=i.replace(n," ");setClass(t,i.trim())}t.className||t.removeAttribute("class")}function toggleClasses(t,e,i){if(t){if(e=e.trim(),e.indexOf(" ")===-1)return void i(t,e);for(var n=e.split(/\s+/),s=0,a=n.length;s<a;s++)i(t,n[s])}}function triggerEvent(t,e,i){var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),i&&i(n),t.dispatchEvent(n)}function mapValidation(t){var e={};return normalizeMap(t).forEach(function(t){var i=t.key,n=t.val;e[i]=function(){var t=this.$validation;if(!this._isMounted)return null;var e=n.split("."),i=e.shift();if("$validation"!==i)return warn("unknown validation result path: "+n),null;var s,a=t;do s=e.shift(),a=a[s];while(e.length>0);return a}}),e}function isObject(t){return null!==t&&"object"==typeof t}function normalizeMap(t){return Array.isArray(t)?t.map(function(t){return{key:t,val:t}}):Object.keys(t).map(function(e){return{key:e,val:t[e]}})}function required(t){if(Array.isArray(t)){if(0!==t.length){for(var e=!0,i=0,n=t.length;i<n&&(e=required(t[i]),e);i++);return e}return!1}return"number"==typeof t||"function"==typeof t||("boolean"==typeof t?t:"string"==typeof t?t.length>0:null!==t&&"object"==typeof t&&Object.keys(t).length>0)}function pattern(t,e){if("string"!=typeof e)return!1;var i=e.match(new RegExp("^/(.*?)/([gimy]*)$"));return!!i&&new RegExp(i[1],i[2]).test(t)}function minlength(t,e){return"string"==typeof t?isInteger(e,10)&&t.length>=parseInt(e,10):!!Array.isArray(t)&&t.length>=parseInt(e,10)}function maxlength(t,e){return"string"==typeof t?isInteger(e,10)&&t.length<=parseInt(e,10):!!Array.isArray(t)&&t.length<=parseInt(e,10)}function min(t,e){return!isNaN(+t)&&!isNaN(+e)&&+t>=+e}function max(t,e){return!isNaN(+t)&&!isNaN(+e)&&+t<=+e}function isInteger(t){return/^(-?[1-9]\d*|0)$/.test(t)}function nomalizeValidators(t){var e;return e="string"==typeof t?[t]:Array.isArray(t)?t:Object.keys(t)}function getInitialResults(t){var e={};return t.forEach(function(t){e[t]=void 0}),e}function getInitialProgresses(t){var e={};return t.forEach(function(t){e[t]=""}),e}function getValidatorResult(t,e){return"boolean"==typeof e&&!e||!("string"!=typeof e||!e)&&e}function addEventInfo(t){t[MODEL_NOTIFY_EVENT]="DOM"}function modelValueEqual(t){var e=t.data&&t.data.directives||[],i=e.find(function(t){return"model"===t.name});return i&&void 0!==i.oldValue?looseEqual(i.value,i.oldValue):null}function getSelectValue(t){for(var e=[],i=0,n=t.options.length;i<n;i++){var s=t.options[i];!s.disabled&&s.selected&&e.push(s.value)}return e}function memoize(t){var e=Object.create(null);return function(i){for(var n=[],s=arguments.length-1;s-- >0;)n[s]=arguments[s+1];var a=e[i];return a||(e[i]=t.apply(void 0,n))}}function createValidityElement(t){var e=t._vnode;return t.multiple?new MultiElement(t):new SingleElement(t,e)}function getModelDirective(t){return(t.data&&t.data.directives||[]).find(function(t){return"model"===t.name})}function getEventSources(t){var e={},i=e.listeners=t.componentOptions?t.componentOptions.listeners:t.data&&t.data.on;return e.type="input"===t.tag&&"text"===(t.data&&t.data.attrs&&t.data.attrs.type)||t.tag&&t.tag.match(/vue-component/)?"input":"change",i&&(e.orgListeners=i[e.type]),e}function isPromise(t){return t&&"function"==typeof t.then}function walkChildren(t,e,i){i.forEach(function(i){i&&i.componentOptions&&i.componentOptions.propsData&&"validity-control"===i.componentOptions.tag&&(i.componentOptions.propsData.validation={instance:t,name:e}),i.children&&walkChildren(t,e,i.children)})}function plugin(t,e){return void 0===e&&(e={}),installed?void warn("already installed."):(Config(t),Asset(t),installMixin(t),installComponent(t),void(installed=!0))}function installMixin(t){t.mixin(Mixin(t))}function installComponent(t){var e=Component(t);Object.keys(e).forEach(function(i){t.component(i,e[i])})}var inBrowser="undefined"!=typeof window&&"[object Object]"!==Object.prototype.toString.call(window),UA=inBrowser&&window.navigator.userAgent.toLowerCase(),isIE9=UA&&UA.indexOf("msie 9.0")>0,MODEL_NOTIFY_EVENT="__VUE_VALIDATOR_MODEL_NOTIFY_EVENT__",validator={classes:{}},Config=function(t){Object.defineProperty(t.config,"validator",{enumerable:!0,configurable:!0,get:function(){return validator},set:function(t){validator=t}})},validators=Object.freeze({required:required,pattern:pattern,minlength:minlength,maxlength:maxlength,min:min,max:max}),Asset=function(t){function e(e,i){return void 0===i?t.options.validators[e]:(t.options.validators[e]=i,void(null===i&&delete t.options.validators.id))}var i=t.util,n=i.extend,s=Object.create(null);n(s,validators),t.options.validators=s;var a=t.config.optionMergeStrategies;a&&(a.validators=function(t,e){if(!e)return t;if(!t)return e;var i=Object.create(null);n(i,t);var s;for(s in e)i[s]=e[s];return i}),t.validator=e},Group=function(t){var e=t.util,i=e.extend;return{data:function(){return{valid:!0,dirty:!1,touched:!1,modified:!1,results:{}}},computed:{invalid:function(){return!this.valid},pristine:function(){return!this.dirty},untouched:function(){return!this.touched},result:function(){var t={valid:this.valid,invalid:this.invalid,dirty:this.dirty,pristine:this.pristine,touched:this.touched,untouched:this.untouched,modified:this.modified},e=this.results;return this._validityKeys.forEach(function(i){if(t[i]=e[i],t[i].errors){var n=t.errors||[];t[i].errors.forEach(function(t){n.push(t)}),t.errors=n}}),t}},watch:{results:function t(e,i){var n=this._validityKeys,t=this.results;this.valid=this.checkResults(n,t,"valid",!0),this.dirty=this.checkResults(n,t,"dirty",!1),this.touched=this.checkResults(n,t,"touched",!1),this.modified=this.checkResults(n,t,"modified",!1)}},created:function(){this._validities=Object.create(null),this._validityWatchers=Object.create(null),this._validityKeys=[],this._committing=!1},destroyed:function(){var t=this;this._validityKeys.forEach(function(e){t._validityWatchers[e](),delete t._validityWatchers[e],delete t._validities[e]}),delete this._validityWatchers,delete this._validities,delete this._validityKeys},methods:{register:function(t,e){var i=this;this._validities[t]=e,this._validityKeys=Object.keys(this._validities),this.setResults(t,{}),this.withCommit(function(){i._validityWatchers[t]=e.$watch("result",function(e,n){i.setResults(t,e)},{deep:!0,immediate:!0})})},unregister:function(t){var e=this;this._validityWatchers[t](),delete this._validityWatchers[t],delete this._validities[t],this._validityKeys=Object.keys(this._validities),this.withCommit(function(){e.resetResults(t)})},isRegistered:function(t){return t in this._validities},getValidityKeys:function(){return this._validityKeys},checkResults:function(t,e,i,n){for(var s=n,a=0;a<t.length;a++){var r=e[t[a]];if(r[i]!==n){s=!n;break}}return s},setResults:function(t,e){var n=this,s={};this._validityKeys.forEach(function(t){s[t]=i({},n.results[t])}),s[t]=i({},e),this.results=s},resetResults:function(t){var e=this,n={};this._validityKeys.forEach(function(s){t&&t!==s&&(n[s]=i({},e.results[s]))}),this.results=n},withCommit:function(t){var e=this._committing;this._committing=!0,t(),this._committing=e}}}},ValidationClass=function(t){var e=Group(t),i=function(e){void 0===e&&(e={}),this._result={},this._host=e.host,this._named=Object.create(null),this._group=Object.create(null),this._validities=Object.create(null),this._beginDestroy=!1,t.util.defineReactive(this._host,"$validation",this._result)};return i.prototype.register=function(i,n,s){if(void 0===s&&(s={}),this._validityManager||(this._validityManager=new t(e),this._watchValidityResult()),!this._validities[i]){this._validities[i]=n;var a=s.named,r=s.group,l=r?this._getValidityGroup("group",r)||this._registerValidityGroup("group",r):null,o=a?this._getValidityGroup("named",a)||this._registerValidityGroup("named",a):null;a&&r&&o&&l?(l.register(i,n),!o.isRegistered(r)&&o.register(r,l),!this._validityManager.isRegistered(a)&&this._validityManager.register(a,o)):o?(o.register(i,n),!this._validityManager.isRegistered(a)&&this._validityManager.register(a,o)):l?(l.register(i,n),!this._validityManager.isRegistered(r)&&this._validityManager.register(r,l)):this._validityManager.register(i,n)}},i.prototype.unregister=function(t,e){if(void 0===e&&(e={}),this._validityManager&&this._validities[t]){delete this._validities[t];var i=e.named,n=e.group,s=n?this._getValidityGroup("group",n):null,a=i?this._getValidityGroup("named",i):null;i&&n&&a&&s?(s.unregister(t),a.isRegistered(n)&&a.unregister(n),this._validityManager.isRegistered(i)&&this._validityManager.unregister(i)):a?(a.unregister(t),this._validityManager.isRegistered(i)&&this._validityManager.unregister(i)):s?(s.unregister(t),this._validityManager.isRegistered(n)&&this._validityManager.unregister(n)):this._validityManager.unregister(t),n&&this._unregisterValidityGroup("group",n),i&&this._unregisterValidityGroup("named",i)}},i.prototype.destroy=function(){var t=this,e=Object.keys(this._validities),i=Object.keys(this._named),n=Object.keys(this._group);e.forEach(function(e){n.forEach(function(i){var n=t._getValidityGroup("group",i);n&&n.isRegistered(i)&&n.unregister(e)}),i.forEach(function(i){var n=t._getValidityGroup("named",i);n&&n.isRegistered(e)&&n.unregister(e)}),t._validityManager.isRegistered(e)&&t._validityManager.unregister(e),delete t._validities[e]}),n.forEach(function(e){i.forEach(function(i){var n=t._getValidityGroup("named",i);n&&n.isRegistered(e)&&n.unregister(e)}),t._validityManager.isRegistered(e)&&t._validityManager.unregister(e),t._unregisterValidityGroup("group",e)}),i.forEach(function(e){t._validityManager.isRegistered(e)&&t._validityManager.unregister(e),t._unregisterValidityGroup("named",e)}),this._beginDestroy=!0},i.prototype._getValidityGroup=function(t,e){return"named"===t?this._named[e]:this._group[e]},i.prototype._registerValidityGroup=function(i,n){var s="named"===i?this._named:this._group;return s[n]=new t(e),s[n]},i.prototype._unregisterValidityGroup=function(t,e){var i="named"===t?this._named:this._group;i[e]&&(i[e].$destroy(),delete i[e])},i.prototype._watchValidityResult=function(){var e=this;this._watcher=this._validityManager.$watch("results",function(i,n){t.set(e._host,"$validation",i),e._beginDestroy&&e._destroyValidityMananger()},{deep:!0})},i.prototype._unwatchValidityResult=function(){this._watcher(),delete this._watcher},i.prototype._destroyValidityMananger=function(){this._unwatchValidityResult(),this._validityManager.$destroy(),this._validityManager=null},i},Mixin=function(t){var e=ValidationClass(t);return{beforeCreate:function(){this._validation=new e({host:this})}}},baseProps={field:{type:String,required:!0},validators:{type:[String,Array,Object],required:!0},group:{type:String},multiple:{type:Boolean},classes:{type:Object,default:function(){return{}}}},DEFAULT_CLASSES={valid:"valid",invalid:"invalid",touched:"touched",untouched:"untouched",pristine:"pristine",dirty:"dirty",modified:"modified"},States=function(t){function e(){var t=nomalizeValidators(this.validators);return{results:getInitialResults(t),valid:!0,dirty:!1,touched:!1,modified:!1,progresses:getInitialProgresses(t)}}var i=t.util,n=i.extend,s=n({child:{type:Object,required:!0}},baseProps);return{props:s,data:e}},Computed=function(t){function e(){return!this.valid}function i(){return!this.dirty}function n(){return!this.touched}function s(){var t=this,e={valid:this.valid,invalid:this.invalid,dirty:this.dirty,pristine:this.pristine,touched:this.touched,untouched:this.untouched,modified:this.modified},i=this._keysCached(this._uid.toString(),this.results);return i.forEach(function(i){var n=getValidatorResult(i,t.results[i]);if(n===!1)e[i]=!1;else{var s={field:t.field,validator:i};"string"==typeof n&&(s.message=n),e.errors||(e.errors=[]),Array.isArray(e.errors)&&e.errors.push(s),e[i]=n}}),e}return{invalid:e,pristine:i,untouched:n,result:s}},Render=function(t){return{render:function(t){return this._interceptEvents(this.child,this.multiple),this.child}}},SingleElement=function(t,e){this._vm=t,this._vnode=e,this.initValue=this.getValue(),this.attachValidity()},prototypeAccessors={_isBuiltIn:{},_isComponent:{}};prototypeAccessors._isBuiltIn.get=function(){var t=this._vnode;return!t.child&&!t.componentOptions&&t.tag},prototypeAccessors._isComponent.get=function(){var t=this._vnode;return t.child&&t.componentOptions&&t.tag.match(/vue-component/)},SingleElement.prototype.attachValidity=function(){this._vm.$el.$validity=this._vm},SingleElement.prototype.getValue=function(){if(this._isBuiltIn){var t=this._vm.$el;return"SELECT"===t.tagName?getSelectValue(t):"checkbox"===t.type?t.checked:t.value}return this._isComponent?this._vnode.child.value:""},SingleElement.prototype.checkModified=function(){if(this._isBuiltIn){var t=this._vm.$el;return"SELECT"===t.tagName?!looseEqual(this.initValue,getSelectValue(t)):"checkbox"===t.type?!looseEqual(this.initValue,t.checked):!looseEqual(this.initValue,t.value)}return!!this._isComponent&&!looseEqual(this.initValue,this._vnode.child.value)},SingleElement.prototype.listenToucheableEvent=function(){this._vm.$el.addEventListener("focusout",this._vm.willUpdateTouched)},SingleElement.prototype.unlistenToucheableEvent=function(){this._vm.$el.removeEventListener("focusout",this._vm.willUpdateTouched)},SingleElement.prototype.listenInputableEvent=function(){var t=this._vm;if(this._isBuiltIn){var e=t.$el;"SELECT"===e.tagName?e.addEventListener("change",t.handleInputable):"checkbox"===e.type?e.addEventListener("change",t.handleInputable):e.addEventListener("input",t.handleInputable)}else this._isComponent&&(this._unwatchInputable=this._vnode.child.$watch("value",t.watchInputable))},SingleElement.prototype.unlistenInputableEvent=function(){var t=this._vm;if(this._isBuiltIn){var e=t.$el;"SELECT"===e.tagName?e.removeEventListener("change",t.handleInputable):"checkbox"===e.type?e.removeEventListener("change",t.handleInputable):e.removeEventListener("input",t.handleInputable)}else this._isComponent&&this._unwatchInputable&&(this._unwatchInputable(),this._unwatchInputable=void 0,delete this._unwatchInputable)},SingleElement.prototype.fireInputableEvent=function(){if(this._isBuiltIn){var t=this._vm.$el;"SELECT"===t.tagName?triggerEvent(t,"change",addEventInfo):"checkbox"===t.type?triggerEvent(t,"change",addEventInfo):triggerEvent(t,"input",addEventInfo)}else if(this._isComponent){var e={value:this.getValue()};e[MODEL_NOTIFY_EVENT]="COMPONENT",this._vnode.child.$emit("input",e)}},SingleElement.prototype.modelValueEqual=function(t){return modelValueEqual(t)},Object.defineProperties(SingleElement.prototype,prototypeAccessors);var MultiElement=function(t){this._vm=t,this.initValue=this.getValue(),this.attachValidity()};MultiElement.prototype.attachValidity=function(){var t=this;this._vm.$el.$validity=this._vm,this._eachItems(function(e){e.$validity=t._vm})},MultiElement.prototype.getValue=function(){return this._getCheckedValue()},MultiElement.prototype.checkModified=function(){return!looseEqual(this.initValue,this._getCheckedValue())},MultiElement.prototype.listenToucheableEvent=function(){var t=this;this._eachItems(function(e){e.addEventListener("focusout",t._vm.willUpdateTouched)})},MultiElement.prototype.unlistenToucheableEvent=function(){var t=this;this._eachItems(function(e){e.removeEventListener("focusout",t._vm.willUpdateTouched)})},MultiElement.prototype.listenInputableEvent=function(){var t=this;this._eachItems(function(e){e.addEventListener("change",t._vm.handleInputable)})},MultiElement.prototype.unlistenInputableEvent=function(){var t=this;this._eachItems(function(e){e.removeEventListener("change",t._vm.handleInputable)})},MultiElement.prototype.fireInputableEvent=function(){this._eachItems(function(t){triggerEvent(t,"change",addEventInfo)})},MultiElement.prototype.modelValueEqual=function(t){for(var e=null,i=this._vm.child&&this._vm.child.children||[],n=0;n<i.length;n++){var s=modelValueEqual(i[n]);if(!s){e=s;break}}return e},MultiElement.prototype._getCheckedValue=function(){var t=[];return this._eachItems(function(e){!e.disabled&&e.checked&&t.push(e.value)}),t},MultiElement.prototype._getItems=function(){return this._vm.$el.querySelectorAll('input[type="checkbox"], input[type="radio"]')},MultiElement.prototype._eachItems=function(t){for(var e=this._getItems(),i=0;i<e.length;i++)t(e[i])};var Lifecycles=function(t){function e(){this._elementable=null,this._keysCached=memoize(function(t){return Object.keys(t)}),this._modified=!1,this._modelIntegrationMode="NONE",this._watchValidationRawResults();var t=this.$options.propsData?this.$options.propsData.validation:null;if(t){var e=t.instance,i=t.name,n=this.group;e.register(this.field,this,{named:i,group:n})}}function i(){var t=this.$options.propsData?this.$options.propsData.validation:null;if(t){var e=t.instance,i=t.name,n=this.group;e.unregister(this.field,this,{named:i,group:n})}this._unwatchValidationRawResults(),this._elementable.unlistenInputableEvent(),this._elementable.unlistenToucheableEvent(),this._elementable=null}function n(){this._elementable=createValidityElement(this),this._elementable.listenToucheableEvent(),this._elementable.listenInputableEvent(),toggleClasses(this.$el,this.classes.untouched,addClass),toggleClasses(this.$el,this.classes.pristine,addClass)}function s(){if("MODEL_AND_USER"===this._modelIntegrationMode){var t=this._elementable.modelValueEqual(this._vnode);this._applyWithUserHandler||null===t||t||this._elementable.fireInputableEvent(),delete this._applyWithUserHandler}else if("MODEL"===this._modelIntegrationMode){var e=this._elementable.modelValueEqual(this._vnode);null===e||e||this._elementable.fireInputableEvent()}}return{created:e,destroyed:i,mounted:n,updated:s}},Event=function(t){function e(t){for(var e=[],i=arguments.length-1;i-- >0;)e[i]=arguments[i+1];(n=this).$emit.apply(n,[t].concat(e));var n}function i(t,e){var i=this;(e?t.children||[]:[t]).forEach(function(t){i._wrapEvent(t)})}function n(t){var e=this,i={};if(!t.tag||!t.data)return i;var n=getModelDirective(t);if(!n)return i;var s=getEventSources(t),a=s.type,l=s.orgListeners,o=s.listeners,u=Array.isArray(l)?l[0]:l,d=Array.isArray(l)?l[1]:null,h=this._modelIntegrationMode;u&&d?h=this._modelIntegrationMode="MODEL_AND_USER":u&&!d&&(h=this._modelIntegrationMode="MODEL");var c=function(i){return function(n){d&&(e._applyWithUserHandler=!0),void 0!==n&&n!==!0||u.apply(t.context,i)}},v=(n.modifiers||{}).validity,p=this;return o[a]=function(){var e=r(arguments,0);if("MODEL_AND_USER"===h){var i=e[0];if("DOM"===i[MODEL_NOTIFY_EVENT])return delete i[MODEL_NOTIFY_EVENT],void(d&&d.apply(t.context,e));if("COMPONENT"===i[MODEL_NOTIFY_EVENT]){var n=i.value;return e[0]=n,void(d&&d.apply(t.context,e))}if(v){var s=p._applyer=c(e);e.push(s),d&&d.apply(t.context,e)}else d&&d.apply(t.context,e),u.apply(t.context,e)}else"MODEL"===h&&(v?p._applyer=c(e):u.apply(t.context,e))},i.dir=n,i}function s(t){"NONE"!==this._modelIntegrationMode&&this._applyer&&this._applyer(t)}var a=t.util,r=a.toArray;return{_fireEvent:e,_interceptEvents:i,_wrapEvent:n,pass:s}},State=function(t){function e(t){return this._elementable.getValue()}function i(){return this._elementable.checkModified()}function n(t){this.touched||(this.touched=!0,toggleClasses(this.$el,this.classes.touched,addClass),toggleClasses(this.$el,this.classes.untouched,removeClass),this._fireEvent("touched"))}function s(){!this.dirty&&this.checkModified()&&(this.dirty=!0,toggleClasses(this.$el,this.classes.dirty,addClass),toggleClasses(this.$el,this.classes.pristine,removeClass),this._fireEvent("dirty"))}function a(){var t=this.modified=this.checkModified();this._modified!==t&&(this._modified=t,toggleClasses(this.$el,this.classes.modified,t?addClass:removeClass),this._fireEvent("modified",t))}function r(t){this.willUpdateDirty(),this.willUpdateModified()}function l(t){this.willUpdateDirty(),this.willUpdateModified()}function o(){var t=this;this._unwatchValidationRawResults();for(var e=this._keysCached(this._uid.toString(),this.results),i=0;i<e.length;i++)t.results[e[i]]=void 0,t.progresses[e[i]]="";toggleClasses(this.$el,this.classes.valid,removeClass),toggleClasses(this.$el,this.classes.invalid,removeClass),toggleClasses(this.$el,this.classes.touched,removeClass),toggleClasses(this.$el,this.classes.untouched,addClass),toggleClasses(this.$el,this.classes.dirty,removeClass),toggleClasses(this.$el,this.classes.pristine,addClass),toggleClasses(this.$el,this.classes.modified,removeClass),this.valid=!0,this.dirty=!1,this.touched=!1,this.modified=!1,this._modified=!1,this._watchValidationRawResults()}function u(){var t=this;this._unwatch=this.$watch("results",function(e){for(var i=!0,n=t._keysCached(t._uid.toString(),t.results),s=0;s<n.length;s++){var a=t.results[n[s]];if("boolean"==typeof a&&!a){i=!1;break}if("string"==typeof a&&a){i=!1;break}}t.valid=i,i?(toggleClasses(t.$el,t.classes.valid,addClass),toggleClasses(t.$el,t.classes.invalid,removeClass)):(toggleClasses(t.$el,t.classes.valid,removeClass),toggleClasses(t.$el,t.classes.invalid,addClass)),t._fireEvent(i?"valid":"invalid")},{deep:!0})}function d(){this._unwatch(),this._unwatch=void 0,delete this._unwatch}return{getValue:e,checkModified:i,willUpdateTouched:n,willUpdateDirty:s,willUpdateModified:a,handleInputable:r,watchInputable:l,reset:o,_watchValidationRawResults:u,_unwatchValidationRawResults:d}},Validate=function(t){function e(t){var e=this.child&&this.child.context?this.child.context.$options:this.$options;return u(e,"validators",t)}function i(t,e,i){var n=this._resolveValidator(t);if(!n)return null;var s=null,a=null,r=null;if(o(n))n.check&&"function"==typeof n.check&&(s=n.check),n.message&&(r=n.message);else{if("function"!=typeof n)return null;s=n}if(!s)return null;o(this.validators)&&(o(this.validators[t])?(this.validators[t].rule&&(a=this.validators[t].rule),this.validators[t].message&&(r=this.validators[t].message)):a=this.validators[t]);var l={fn:s,value:i,field:e};return a&&(l.rule=a),r&&(l.msg=r),l}function n(t,e,i){return i?i:e?"function"==typeof e?e(t):e:void 0}function s(t,e){var i=this,n=t.fn,s=t.value,a=t.field,r=t.rule,l=t.msg,o=n.call(this.child.context,s,r);"function"==typeof o?o(function(){e(!0)},function(t){e(!1,i._resolveMessage(a,l,t))}):isPromise(o)?o.then(function(){e(!0)},function(t){e(!1,i._resolveMessage(a,l,t))}).catch(function(t){e(!1,i._resolveMessage(a,l,t.message))}):e(o,o===!1?this._resolveMessage(a,l):void 0)}function a(t,e,i){var n=this,s=this._getValidateDescriptor(t,this.field,e);if(s){if(this.progresses[t])return!1;this.progresses[t]="running",this.$nextTick(function(){n._invokeValidator(s,function(e,s){if(n.progresses[t]="",n.results[t]=s||e,i)n.$nextTick(function(){i.call(n,null,e,s)});else{var a={result:e};s&&(a.msg=s),n._fireEvent("validate",t,a)}})})}else{var a=new Error;i?i.call(this,a):this._fireEvent("validate",t,a)}return!0}function r(){for(var t=this,e=[],i=arguments.length;i--;)e[i]=arguments[i];var n,s,a,r=!0;return 3===e.length?(n=[e[0]],s=e[1],a=e[2]):2===e.length?o(e[0])?(n=[e[0].validator],s=e[0].value||this.getValue(),a=e[1]):(n=this._keysCached(this._uid.toString(),this.results),s=e[0],a=e[1]):1===e.length?(n=this._keysCached(this._uid.toString(),this.results),s=this.getValue(),a=e[0]):(n=this._keysCached(this._uid.toString(),this.results),s=this.getValue(),a=null),3===e.length||2===e.length&&o(e[0])?r=this._validate(n[0],s,a):n.forEach(function(e){r=t._validate(e,s,a)}),r}var l=t.util,o=l.isPlainObject,u=l.resolveAsset;return{_resolveValidator:e,_getValidateDescriptor:i,_resolveMessage:n,_invokeValidator:s,_validate:a,validate:r}},Methods=function(t){var e=t.util,i=e.extend,n={};return i(n,Event(t)),i(n,State(t)),i(n,Validate(t)),n},ValidityControl=function(t){var e=t.util,i=e.extend,n=States(t),s=n.props,a=n.data,r=Computed(t),l=Lifecycles(t),o=Render(t),u=o.render,d=Methods(t),h={props:s,data:a,render:u,computed:r,methods:d};return i(h,l),h},Validity=function(t){var e=t.util,i=e.extend;return{functional:!0,props:baseProps,render:function(e,n){var s=n.props,a=n.data,r=n.children;return r.map(function(n){if(!n.tag)return n;var r=i({},a);return r.props=i({},s),r.props.classes=i(i(i({},DEFAULT_CLASSES),t.config.validator.classes),r.props.classes),r.props.child=n,e("validity-control",r)})}}},ValidityGroup=function(t){var e=t.util,i=e.extend,n=i({tag:{type:String,default:"fieldset"}},baseProps);return{functional:!0,props:n,render:function(e,n){var s=n.props,a=n.data,r=n.children,l=e(s.tag,r),o=i({},a);return o.props=i({},s),o.props.classes=i(i(i({},DEFAULT_CLASSES),t.config.validator.classes),o.props.classes),o.props.child=l,o.props.multiple=!0,e("validity-control",o)}}},Validation=function(t){var e=t.util,i=e.extend;return{functional:!0,props:{name:{type:String},tag:{type:String,default:"form"}},render:function(t,e){var n=e.props,s=e.data,a=e.parent,r=e.children;e.slots;if(!a._validation)return r;var l=n.tag||"form";walkChildren(a._validation,n.name,r);var o=i({attrs:{}},s);return"form"===l&&(o.attrs.novalidate=!0),t(l,o,r)}}},Component=function(t){return{"validity-control":ValidityControl(t),validity:Validity(t),"validity-group":ValidityGroup(t),validation:Validation(t)}},installed=!1;plugin.mapValidation=mapValidation,plugin.version="3.0.0-alpha.1","undefined"!=typeof window&&window.Vue&&window.Vue.use(plugin);var index={install:plugin,mapValidation:mapValidation};module.exports=index;
//# sourceMappingURL=vue-validator.common.min.js.map