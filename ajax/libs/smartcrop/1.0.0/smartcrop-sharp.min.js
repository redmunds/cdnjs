function rgb2rgba(r){for(var t=new Buffer(r.length/3*4),e=0;e<r.length;e+=3)t[e/3*4]=r[e],t[e/3*4+1]=r[e+1],t[e/3*4+2]=r[e+2],t[e/3*4+3]=255;return t}var smartcrop=require("./smartcrop"),sharp=require("sharp"),iop={open:function(r){var t=sharp(r);return t.metadata().then(function(r){return{width:r.width,height:r.height,_sharp:t}})},resample:function(r,t,e){return new Promise(function(n,o){n({width:t,height:e,_sharp:r._sharp})})},getData:function(r){return r._sharp.background({r:255,g:255,b:255,a:0}).raw().toBuffer().then(function(t){return t.length===r.width*r.height*3&&(t=rgb2rgba(t)),console.log(t.length),console.log(r.width,r.height),console.log(t.constructor),new smartcrop.ImgData(r.width,r.height,t)})}};exports.crop=function(r,t,e){return t=t||{},t.imageOperations=iop,smartcrop.crop(r,t,e)},exports.crop("kitty.jpg").then(function(){console.log(arguments)});
//# sourceMappingURL=smartcrop-sharp.min.js.map