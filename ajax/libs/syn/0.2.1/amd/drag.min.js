define(function(e,t,n){var o=e("./synthetic");!function s(){if(!document.body)return void o.schedule(s,1);var e=document.createElement("div");if(document.body.appendChild(e),o.helpers.extend(e.style,{width:"100px",height:"10000px",backgroundColor:"blue",position:"absolute",top:"10px",left:"0px",zIndex:19999}),document.body.scrollTop=11,document.elementFromPoint){var t=document.elementFromPoint(3,1);t===e?o.support.elementFromClient=!0:o.support.elementFromPage=!0,document.body.removeChild(e),document.body.scrollTop=0}}();var r=function(e,t){var n,r=e.clientX,l=e.clientY,i=o.helpers.getWindow(t);if(o.support.elementFromPage){var c=o.helpers.scrollOffset(i);r+=c.left,l+=c.top}return n=i.document.elementFromPoint?i.document.elementFromPoint(r,l):t,n===i.document.documentElement&&(e.clientY<0||e.clientX<0)?t:n},l=function(e,t,n){var l=r(t,n);return o.trigger(l||n,e,t),l},i=function(e,t,n){var l=r(e,t);if(n!==l&&l&&n){var i=o.helpers.extend({},e);i.relatedTarget=l,o.trigger(n,"mouseout",i),i.relatedTarget=n,o.trigger(l,"mouseover",i)}return o.trigger(l||t,"mousemove",e),l},c=function(e,t,n,l,c){var p,d=new Date,u=t.clientX-e.clientX,a=t.clientY-e.clientY,s=o.helpers.getWindow(l),f=r(e,l),m=s.document.createElement("div"),g=0;p=function h(){var r=new Date,p=o.helpers.scrollOffset(s),v=(0===g?0:r-d)/n,Y={clientX:u*v+e.clientX,clientY:a*v+e.clientY};g++,1>v?(o.helpers.extend(m.style,{left:Y.clientX+p.left+2+"px",top:Y.clientY+p.top+2+"px"}),f=i(Y,l,f),o.schedule(h,15)):(f=i(t,l,f),s.document.body.removeChild(m),c())},o.helpers.extend(m.style,{height:"5px",width:"5px",backgroundColor:"red",position:"absolute",zIndex:19999,fontSize:"1px"}),s.document.body.appendChild(m),p()},p=function(e,t,n,o,r){l("mousedown",e,o),c(e,t,n,o,function(){l("mouseup",t,o),r()})},d=function(e){var t=o.jquery()(e),n=t.offset();return{pageX:n.left+t.outerWidth()/2,pageY:n.top+t.outerHeight()/2}},u=function(e,t,n){var r,l=/(\d+)[x ](\d+)/,i=/(\d+)X(\d+)/,c=/([+-]\d+)[xX ]([+-]\d+)/;if("string"==typeof e&&c.test(e)&&n){var p=d(n);r=e.match(c),e={pageX:p.pageX+parseInt(r[1]),pageY:p.pageY+parseInt(r[2])}}if("string"==typeof e&&l.test(e)&&(r=e.match(l),e={pageX:parseInt(r[1]),pageY:parseInt(r[2])}),"string"==typeof e&&i.test(e)&&(r=e.match(i),e={clientX:parseInt(r[1]),clientY:parseInt(r[2])}),"string"==typeof e&&(e=o.jquery()(e,t.document)[0]),e.nodeName&&(e=d(e)),null!=e.pageX){var u=o.helpers.scrollOffset(t);e={clientX:e.pageX-u.left,clientY:e.pageY-u.top}}return e},a=function(e,t,n){if(e.clientY<0){var r=o.helpers.scrollOffset(n),l=r.top+e.clientY-100,i=l-r.top;l>0||(l=0,i=-r.top),e.clientY=e.clientY-i,t.clientY=t.clientY-i,o.helpers.scrollOffset(n,{top:l,left:r.left})}};o.helpers.extend(o.init.prototype,{_move:function(e,t,n){var r=o.helpers.getWindow(e),l=u(t.from||e,r,e),i=u(t.to||t,r,e);t.adjust!==!1&&a(l,i,r),c(l,i,t.duration||500,e,n)},_drag:function(e,t,n){var r=o.helpers.getWindow(e),l=u(t.from||e,r,e),i=u(t.to||t,r,e);t.adjust!==!1&&a(l,i,r),p(l,i,t.duration||500,e,n)}})});
//# sourceMappingURL=drag.min.js.map