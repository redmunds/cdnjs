var syn=require("./synthetic.js");!function e(){if(!document.body)return void syn.schedule(e,1);var t=document.createElement("div");if(document.body.appendChild(t),syn.helpers.extend(t.style,{width:"100px",height:"10000px",backgroundColor:"blue",position:"absolute",top:"10px",left:"0px",zIndex:19999}),document.body.scrollTop=11,document.elementFromPoint){var n=document.elementFromPoint(3,1);n===t?syn.support.elementFromClient=!0:syn.support.elementFromPage=!0,document.body.removeChild(t),document.body.scrollTop=0}}();var elementFromPoint=function(e,t){var n,o=e.clientX,r=e.clientY,s=syn.helpers.getWindow(t);if(syn.support.elementFromPage){var i=syn.helpers.scrollOffset(s);o+=i.left,r+=i.top}return n=s.document.elementFromPoint?s.document.elementFromPoint(o,r):t,n===s.document.documentElement&&(e.clientY<0||e.clientX<0)?t:n},createEventAtPoint=function(e,t,n){var o=elementFromPoint(t,n);return syn.trigger(o||n,e,t),o},mouseMove=function(e,t,n){var o=elementFromPoint(e,t);if(n!==o&&o&&n){var r=syn.helpers.extend({},e);r.relatedTarget=o,syn.trigger(n,"mouseout",r),r.relatedTarget=n,syn.trigger(o,"mouseover",r)}return syn.trigger(o||t,"mousemove",e),o},startMove=function(e,t,n,o,r){var s,i=new Date,l=t.clientX-e.clientX,c=t.clientY-e.clientY,p=syn.helpers.getWindow(o),a=elementFromPoint(e,o),d=p.document.createElement("div"),u=0;s=function m(){var s=new Date,f=syn.helpers.scrollOffset(p),y=(0===u?0:s-i)/n,v={clientX:l*y+e.clientX,clientY:c*y+e.clientY};u++,1>y?(syn.helpers.extend(d.style,{left:v.clientX+f.left+2+"px",top:v.clientY+f.top+2+"px"}),a=mouseMove(v,o,a),syn.schedule(m,15)):(a=mouseMove(t,o,a),p.document.body.removeChild(d),r())},syn.helpers.extend(d.style,{height:"5px",width:"5px",backgroundColor:"red",position:"absolute",zIndex:19999,fontSize:"1px"}),p.document.body.appendChild(d),s()},startDrag=function(e,t,n,o,r){createEventAtPoint("mousedown",e,o),startMove(e,t,n,o,function(){createEventAtPoint("mouseup",t,o),r()})},center=function(e){var t=syn.jquery()(e),n=t.offset();return{pageX:n.left+t.outerWidth()/2,pageY:n.top+t.outerHeight()/2}},convertOption=function(e,t,n){var o,r=/(\d+)[x ](\d+)/,s=/(\d+)X(\d+)/,i=/([+-]\d+)[xX ]([+-]\d+)/;if("string"==typeof e&&i.test(e)&&n){var l=center(n);o=e.match(i),e={pageX:l.pageX+parseInt(o[1]),pageY:l.pageY+parseInt(o[2])}}if("string"==typeof e&&r.test(e)&&(o=e.match(r),e={pageX:parseInt(o[1]),pageY:parseInt(o[2])}),"string"==typeof e&&s.test(e)&&(o=e.match(s),e={clientX:parseInt(o[1]),clientY:parseInt(o[2])}),"string"==typeof e&&(e=syn.jquery()(e,t.document)[0]),e.nodeName&&(e=center(e)),null!=e.pageX){var c=syn.helpers.scrollOffset(t);e={clientX:e.pageX-c.left,clientY:e.pageY-c.top}}return e},adjust=function(e,t,n){if(e.clientY<0){var o=syn.helpers.scrollOffset(n),r=o.top+e.clientY-100,s=r-o.top;r>0||(r=0,s=-o.top),e.clientY=e.clientY-s,t.clientY=t.clientY-s,syn.helpers.scrollOffset(n,{top:r,left:o.left})}};syn.helpers.extend(syn.init.prototype,{_move:function(e,t,n){var o=syn.helpers.getWindow(e),r=convertOption(t.from||e,o,e),s=convertOption(t.to||t,o,e);t.adjust!==!1&&adjust(r,s,o),startMove(r,s,t.duration||500,e,n)},_drag:function(e,t,n){var o=syn.helpers.getWindow(e),r=convertOption(t.from||e,o,e),s=convertOption(t.to||t,o,e);t.adjust!==!1&&adjust(r,s,o),startDrag(r,s,t.duration||500,e,n)}});
//# sourceMappingURL=drag.min.js.map