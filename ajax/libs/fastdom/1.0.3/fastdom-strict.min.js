!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("fastdom")):"function"==typeof define&&define.amd?define(["fastdom"],e):"object"==typeof exports?exports.fastdom=e(require("fastdom")):t.fastdom=e(t.fastdom)}(this,function(t){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";var r=n(1),i=n(2),o=function(){},s=!1;window.fastdom=t.exports=i.extend({measure:function(t,e){return o("measure"),this.fastdom.measure(function(){return s?r.phase("measure",t):t()},e)},mutate:function(t,e){return o("mutate"),this.fastdom.mutate(function(){return s?r.phase("mutate",t):t()},e)},strict:function(t){t?(s=!0,r.enable()):(s=!1,r.disable())}}),window.fastdom.strict(!0)},function(t,e,n){var r;!function(){"use strict";function e(t){this.properties=[],this._phase=null,this.win=t,this.createPrototypeProperties(),this.createInstanceProperties()}function i(t,e,n,r){w("Property",e,n),this.strictdom=r,this.object=t,this.name=e;var i=this.getDescriptor();"object"==typeof n&&Object.assign(this,n),this.descriptors={unwrapped:i,wrapped:this.wrap(i)}}function o(){i.apply(this,arguments)}function s(){i.apply(this,arguments)}function a(){i.apply(this,arguments)}function u(){i.apply(this,arguments)}function c(){i.apply(this,arguments)}function p(){i.apply(this,arguments)}function h(t,e){this.strictdom=e,this.el=t}function f(t,e){this.strictdom=e,this.el=t}function l(t){return new Error({1:"Can only set "+arguments[1]+" during 'mutate' phase",2:"Can only get "+arguments[1]+" during 'measure' phase",3:"Can only call `."+arguments[1]+"()` during 'mutate' phase",4:"Invalid phase: "+arguments[1]}[t])}function m(t,e){return Object.getOwnPropertyDescriptor(t,e)}function d(t,e){return Object.assign(Object.create(t.prototype),e)}function y(t){return t===window||document.contains(t)}var w=function(){},g=!!window.webkitURL,v={prototype:{Document:{execCommand:s,elementFromPoint:o,elementsFromPoint:o,scrollingElement:o},Node:{appendChild:{type:s,test:function(t,e,n){var r=y(e)||y(n[0]);if(r&&t.not("mutate"))throw l(3,this.name)}},insertBefore:{type:s,test:function(t,e,n){var r=y(e)||y(n[0]);if(r&&t.not("mutate"))throw l(3,this.name)}},removeChild:{type:s,test:function(t,e,n){var r=y(e)||y(n[0]);if(r&&t.not("mutate"))throw l(3,this.name)}},textContent:s},Element:{scrollIntoView:s,scrollBy:s,scrollTo:s,getClientRects:o,getBoundingClientRect:o,clientLeft:o,clientWidth:o,clientHeight:o,scrollLeft:a,scrollTop:a,scrollWidth:o,scrollHeight:o,innerHTML:s,outerHTML:s,insertAdjacentHTML:s,remove:s,setAttribute:s,removeAttribute:s,className:s,classList:p},HTMLElement:{offsetLeft:o,offsetTop:o,offsetWidth:o,offsetHeight:o,offsetParent:o,innerText:a,outerText:a,focus:o,blur:o,style:c},CharacterData:{remove:s,data:s},Range:{getClientRects:o,getBoundingClientRect:o},MouseEvent:{layerX:o,layerY:o,offsetX:o,offsetY:o},HTMLButtonElement:{reportValidity:o},HTMLDialogElement:{showModal:s},HTMLFieldSetElement:{reportValidity:o},HTMLImageElement:{width:a,height:a,x:o,y:o},HTMLInputElement:{reportValidity:o},HTMLKeygenElement:{reportValidity:o},SVGSVGElement:{currentScale:a}},instance:{window:{getComputedStyle:{type:o,test:function(t,e,n){if(y(n[0])&&t.not("measure"))throw l(2,"getComputedStyle")}},innerWidth:{type:g?u:o,test:function(t){var e=window!==window.top;if(e&&t.not("measure"))throw l(2,"`.innerWidth` (in iframe)")}},innerHeight:{type:g?u:o,test:function(t){var e=window!==window.top;if(e&&t.not("measure"))throw l(2,"`.innerHeight` (in iframe)")}},scrollX:g?u:o,scrollY:g?u:o,scrollBy:s,scrollTo:s,scroll:s}}};e.prototype={phase:function(t,e){if(!arguments.length)return this._phase;if(!this.knownPhase(t))throw l(4,t);var n=this._phase;if(this._phase=t,"function"==typeof e){var r=e();return this._phase=n,r}},knownPhase:function(t){return!!~["measure","mutate",null].indexOf(t)},is:function(t){return this._phase===t},not:function(t){return!this.is(t)},enable:function(){if(!this.enabled){w("enable");for(var t=this.properties.length;t--;)this.properties[t].enable();this.enabled=!0}},disable:function(){if(this.enabled){w("disable");for(var t=this.properties.length;t--;)this.properties[t].disable();this.enabled=!1,this.phase(null)}},createPrototypeProperties:function(){w("create prototype properties");var t=v.prototype;for(var e in t)for(var n in t[e]){var r=this.win[e]&&this.win[e].prototype;r&&r.hasOwnProperty(n)&&this.properties.push(this.create(r,n,t[e][n]))}},createInstanceProperties:function(){w("create instance properties");var t=v.instance;for(var e in t)for(var n in t[e]){var r=this.win[e];r&&r.hasOwnProperty(n)&&this.properties.push(this.create(r,n,t[e][n]))}},create:function(t,e,n){w("create",e);var r=n.type||n;return new r(t,e,n,this)}},i.prototype={getDescriptor:function(){return w("get descriptor",this.name),Object.getOwnPropertyDescriptor(this.object,this.name)},enable:function(){w("enable",this.name),Object.defineProperty(this.object,this.name,this.descriptors.wrapped)},disable:function(){w("disable",this.name),Object.defineProperty(this.object,this.name,this.descriptors.unwrapped)},wrap:function(){}},o.prototype=d(i,{wrap:function(t){w("wrap measure",this.name);var e=Object.assign({},t),n=t.value,r=t.get,i=this;return"function"==typeof n?e.value=function(){return w("measure",i.name),i.test(i.strictdom,this,arguments),n.apply(this,arguments)}:r&&(e.get=function(){return w("measure",i.name),i.test(i.strictdom,this,arguments),r.apply(this,arguments)}),e},test:function(t,e){if(y(e||window)&&t.not("measure"))throw l(2,this.name)}}),s.prototype=d(i,{wrap:function(t){w("wrap mutate",this.name);var e=Object.assign({},t),n=t.value,r=this;return"function"==typeof n?e.value=function(){return r.test(r.strictdom,this,arguments),n.apply(this,arguments)}:t.set&&(e.set=function(){return r.test(r.strictdom,this,arguments),t.set.apply(this,arguments)}),e},test:function(t,e){if(y(e||window)&&t.not("mutate"))throw l(3,this.name)}}),a.prototype=d(i,{wrap:function(t){w("wrap accessor",this.name);var e=Object.assign({},t),n=t.get,r=t.set,i=this;return n&&(e.get=function(){return i.testRead(i.strictdom,this,arguments),n.apply(this,arguments)}),t.set&&(e.set=function(){return i.testWrite(i.strictdom,this,arguments),r.apply(this,arguments)}),e},testRead:o.prototype.test,testWrite:s.prototype.test}),u.prototype=d(i,{getDescriptor:function(){return{}},disable:function(){delete this.object[this.name]},wrap:function(t){w("wrap value");var e=this.name,n=this;return t.get=function(){w("get value",e),n.test(n.strictdom,this,arguments),n.disable();var t=this[e];return n.enable(),t},t},test:o.prototype.test}),c.prototype=d(i,{wrap:function(t){w("wrap style");var e=this.strictdom,n=Object.assign({},t);return n.get=function(){return new h(this,e)},n}}),p.prototype=d(i,{wrap:function(t){w("wrap style");var e=this.strictdom,n=Object.assign({},t);return n.get=function(){return new f(this,e)},n}}),h.prototype={_getter:m(HTMLElement.prototype,"style").get,_get:function(){return this._getter.call(this.el)},setProperty:function(t,e){var n=y(this.el)&&this.strictdom.not("mutate");if(n)throw l(1,"style."+t);return this._get()[t]=e},removeProperty:function(t){var e=y(this.el)&&this.strictdom.not("mutate");if(e)throw l(1,"style."+t);return this._get().removeProperty(t)}},function(){function t(t){return function(){return this._get()[t]}}function e(t){return function(e){var n=y(this.el)&&this.strictdom.not("mutate");if(n)throw l(1,"style."+t);return this.setProperty(t,e)}}function n(t){return function(){var e=this._get();return e[t].apply(e,arguments)}}var r=document.createElement("div").style,i={};for(var o in r)""===r[o]&&Object.defineProperty(h.prototype,o,{get:t(o),set:e(o)});return["item","getPropertyValue","getPropertyCSSValue","getPropertyPriority"].forEach(function(t){h.prototype[t]=n(t)}),i}(),f.prototype={_getter:m(Element.prototype,"classList").get,_get:function(){return this._getter.call(this.el)},add:function(t){var e=y(this.el)&&this.strictdom.not("mutate");if(e)throw l(1,"class names");this._get().add(t)},contains:function(t){return this._get().contains(t)},remove:function(t){var e=y(this.el)&&this.strictdom.not("mutate");if(e)throw l(1,"class names");this._get().remove(t)},toggle:function(){var t=y(this.el)&&this.strictdom.not("mutate");if(t)throw l(1,"class names");var e=this._get();return e.toggle.apply(e,arguments)}};var b=window.strictdom=window.strictdom||new e(window);"f"=="function"[0]?(r=function(){return b}.call(b,n,b,t),!(void 0!==r&&(t.exports=r))):"o"==(typeof t)[0]&&(t.exports=b)}()},function(e,n){e.exports=t}])});
//# sourceMappingURL=fastdom-strict.min.js.map