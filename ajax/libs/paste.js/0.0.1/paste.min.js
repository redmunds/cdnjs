(function(){var t,e;t=jQuery,e=function(e,n){return setTimeout(function(){return console.log(t(e).find("img").length),t(e).find("img").each(function(t,e){var a;return a=new Image,a.onload=function(){var t,e,i;t=document.createElement("canvas"),t.width=a.width,t.height=a.height,e=t.getContext("2d"),e.drawImage(a,0,0,t.width,t.height),i=null;try{i=t.toDataURL("image/png")}catch(t){}if(i)return n(i)},a.src=e.src})},1)},t.paste=function(){var n;return n=document.createElement("div"),n.contentEditable=!0,t(n).css({width:1,height:1,position:"fixed",left:-100,overflow:"hidden"}).on("paste",function(a){var i,r,g,o,l,u,c,d,s,h;if(null!=(null!=(c=a.originalEvent)?c.clipboardData:void 0))if(i=a.originalEvent.clipboardData,i.items)for(d=i.items,l=0,u=d.length;l<u;l++)r=d[l],r.type.match(/^image\//)&&(g=new FileReader,g.onload=function(){return t(n).trigger("pasteImage",{dataURL:event.target.result})},g.readAsDataURL(r.getAsFile())),"text/plain"===r.type&&r.getAsString(function(e){return t(n).trigger("pasteText",{text:e})});else i.types.length?(null!=(s=o=i.getData("Text"))?s.length:void 0)&&t(n).trigger("pasteText",{text:o}):e(n,function(e){return t(n).trigger("pasteImage",{dataURL:e})});return(i=window.clipboardData)&&((null!=(h=o=i.getData("Text"))?h.length:void 0)?t(n).trigger("pasteText",{text:o}):e(n,function(e){return t(n).trigger("pasteImage",{dataURL:e})})),setTimeout(function(){return t(n).html("")},2)}),t(n)}}).call(this);
//# sourceMappingURL=paste.min.js.map