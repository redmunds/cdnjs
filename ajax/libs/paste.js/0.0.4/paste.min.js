(function(){var t,e,n;t=jQuery,n=function(n,i){return setTimeout(function(){return t(n).find("img").each(function(t,n){return e(n.src,i)})},1)},e=function(t,e){var n;return n=new Image,n.onload=function(){var t,i,r;t=document.createElement("canvas"),t.width=n.width,t.height=n.height,i=t.getContext("2d"),i.drawImage(n,0,0,t.width,t.height),r=null;try{r=t.toDataURL("image/png")}catch(t){}if(r)return e({dataURL:r,width:n.width,height:n.height})},n.src=t},t.paste=function(){var i;return i=document.createElement("div"),i.contentEditable=!0,t(i).css({width:1,height:1,position:"fixed",left:-100,overflow:"hidden"}).on("paste",function(r){var a,g,o,u,l,c,d,h,s,f;if(null!=(null!=(d=r.originalEvent)?d.clipboardData:void 0))if(a=r.originalEvent.clipboardData,a.items)for(h=a.items,l=0,c=h.length;l<c;l++)g=h[l],g.type.match(/^image\//)&&(o=new FileReader,o.onload=function(n){return e(n.target.result,function(e){return t(i).trigger("pasteImage",e)})},o.readAsDataURL(g.getAsFile())),"text/plain"===g.type&&g.getAsString(function(e){return t(i).trigger("pasteText",{text:e})});else a.types.length?(null!=(s=u=a.getData("Text"))?s.length:void 0)&&t(i).trigger("pasteText",{text:u}):n(i,function(e){return t(i).trigger("pasteImage",e)});return(a=window.clipboardData)&&((null!=(f=u=a.getData("Text"))?f.length:void 0)?t(i).trigger("pasteText",{text:u}):n(i,function(e){return t(i).trigger("pasteImage",e)})),setTimeout(function(){return t(i).html("")},2)}),t(i)}}).call(this);
//# sourceMappingURL=paste.min.js.map