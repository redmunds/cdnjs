!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("React"),require("_")):"function"==typeof define&&define.amd?define(["React","_"],t):"object"==typeof exports?exports.Griddle=t(require("React"),require("_")):e.Griddle=t(e.React,e._)}(this,function(e,t){return function(e){function t(n){if(s[n])return s[n].exports;var o=s[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var s={};return t.m=e,t.c=s,t.p="/",t(0)}([function(e,t,s){e.exports=s(1)},function(e,t,s){"use strict";var n=s(2),o=s(6),r=s(7),a=s(8),i=s(9),l=s(10),p=s(11),u=s(12),d=s(4),h=s(5),c=s(3),m=n.createClass({displayName:"Griddle",columnSettings:null,rowSettings:null,getDefaultProps:function(){return{columns:[],columnMetadata:[],rowMetadata:null,resultsPerPage:5,results:[],initialSort:"",initialSortAscending:!0,gridClassName:"",tableClassName:"",customRowComponentClassName:"",settingsText:"Settings",filterPlaceholderText:"Filter Results",nextText:"Next",previousText:"Previous",maxRowsText:"Rows per page",enableCustomFormatText:"Enable Custom Formatting",childrenColumnName:"children",metadataColumns:[],showFilter:!1,showSettings:!1,useCustomRowComponent:!1,useCustomGridComponent:!1,useCustomPagerComponent:!1,useGriddleStyles:!0,useGriddleIcons:!0,customRowComponent:null,customGridComponent:null,customPagerComponent:{},enableToggleCustom:!1,noDataMessage:"There is no data to display.",noDataClassName:"griddle-nodata",customNoDataComponent:null,showTableHeading:!0,showPager:!0,useFixedHeader:!1,useExternal:!1,externalSetPage:null,externalChangeSort:null,externalSetFilter:null,externalSetPageSize:null,externalMaxPage:null,externalCurrentPage:null,externalSortColumn:null,externalSortAscending:!0,externalLoadingComponent:null,externalIsLoading:!1,enableInfiniteScroll:!1,bodyHeight:null,paddingHeight:5,rowHeight:25,infiniteScrollLoadTreshold:50,useFixedLayout:!0,isSubGriddle:!1,enableSort:!0,sortAscendingClassName:"sort-ascending",sortDescendingClassName:"sort-descending",parentRowCollapsedClassName:"parent-row",parentRowExpandedClassName:"parent-row expanded",settingsToggleClassName:"settings",nextClassName:"griddle-next",previousClassName:"griddle-previous",headerStyles:{},sortAscendingComponent:" ▲",sortDescendingComponent:" ▼",parentRowCollapsedComponent:"▶",parentRowExpandedComponent:"▼",settingsIconComponent:"",nextIconComponent:"",previousIconComponent:""}},setFilter:function(e){if(this.props.useExternal)return void this.props.externalSetFilter(e);var t=this,s={page:0,filter:e};s.filteredResults=c.filter(this.props.results,function(t){for(var s=c.values(t),n=0;n<s.length;n++)if((s[n]||"").toString().toLowerCase().indexOf(e.toLowerCase())>=0)return!0;return!1}),s.maxPage=t.getMaxPage(s.filteredResults),(c.isUndefined(e)||c.isNull(e)||c.isEmpty(e))&&(s.filter=e,s.filteredResults=null),t.setState(s)},setPageSize:function(e){return this.props.useExternal?void this.props.externalSetPageSize(e):(this.props.resultsPerPage=e,void this.setMaxPage())},toggleColumnChooser:function(){this.setState({showColumnChooser:!this.state.showColumnChooser})},toggleCustomComponent:function(){"grid"===this.state.customComponentType?this.setProps({useCustomGridComponent:!this.props.useCustomGridComponent}):"row"===this.state.customComponentType&&this.setProps({useCustomRowComponent:!this.props.useCustomRowComponent})},getMaxPage:function(e,t){if(this.props.useExternal)return this.props.externalMaxPage;t||(t=(e||this.getCurrentResults()).length);var s=Math.ceil(t/this.props.resultsPerPage);return s},setMaxPage:function(e){var t=this.getMaxPage(e);this.state.maxPage!==t&&this.setState({page:0,maxPage:t,filteredColumns:this.columnSettings.filteredColumns})},setPage:function(e){if(this.props.useExternal)return void this.props.externalSetPage(e);if(e*this.props.resultsPerPage<=this.props.resultsPerPage*this.state.maxPage){var t=this,s={page:e};t.setState(s)}},setColumns:function(e){this.columnSettings.filteredColumns=c.isArray(e)?e:[e],this.setState({filteredColumns:this.columnSettings.filteredColumns})},nextPage:function(){var e=this.getCurrentPage();e<this.getCurrentMaxPage()-1&&this.setPage(e+1)},previousPage:function(){var e=this.getCurrentPage();e>0&&this.setPage(e-1)},changeSort:function(e){if(this.props.enableSort!==!1){if(this.props.useExternal)return void this.props.externalChangeSort(e,this.props.externalSortColumn!==e||!this.props.externalSortAscending);var t={page:0,sortColumn:e,sortAscending:!0};this.state.sortColumn==e&&(t.sortAscending=!this.state.sortAscending),this.setState(t)}},componentWillReceiveProps:function(e){this.setMaxPage(e.results)},getInitialState:function(){var e={maxPage:0,page:0,filteredResults:null,filteredColumns:[],filter:"",sortColumn:this.props.initialSort,sortAscending:this.props.initialSortAscending,showColumnChooser:!1};return e},componentWillMount:function(){this.verifyExternal(),this.verifyCustom(),this.columnSettings=new d(this.props.results.length>0?c.keys(this.props.results[0]):[],this.props.columns,this.props.childrenColumnName,this.props.columnMetadata,this.props.metadataColumns),this.rowSettings=new h(this.props.rowMetadata),this.setMaxPage(),this.props.useCustomGridComponent===!0?this.setState({customComponentType:"grid"}):this.props.useCustomRowComponent===!0?this.setState({customComponentType:"row"}):this.setState({filteredColumns:this.columnSettings.filteredColumns})},verifyExternal:function(){this.props.useExternal===!0&&(null===this.props.externalSetPage&&console.error("useExternal is set to true but there is no externalSetPage function specified."),null===this.props.externalChangeSort&&console.error("useExternal is set to true but there is no externalChangeSort function specified."),null===this.props.externalSetFilter&&console.error("useExternal is set to true but there is no externalSetFilter function specified."),null===this.props.externalSetPageSize&&console.error("useExternal is set to true but there is no externalSetPageSize function specified."),null===this.props.externalMaxPage&&console.error("useExternal is set to true but externalMaxPage is not set."),null===this.props.externalCurrentPage&&console.error("useExternal is set to true but externalCurrentPage is not set. Griddle will not page correctly without that property when using external data."))},verifyCustom:function(){this.props.useCustomGridComponent===!0&&null===this.props.customGridComponent&&console.error("useCustomGridComponent is set to true but no custom component was specified."),this.props.useCustomRowComponent===!0&&null===this.props.customRowComponent&&console.error("useCustomRowComponent is set to true but no custom component was specified."),this.props.useCustomGridComponent===!0&&this.props.useCustomRowComponent===!0&&console.error("Cannot currently use both customGridComponent and customRowComponent.")},getDataForRender:function(e,t,s){var n=this;""===this.state.sortColumn&&""===this.props.initialSort||(e=c.sortBy(e,function(e){return e[n.state.sortColumn||n.props.initialSort]}),this.state.sortAscending===!1&&e.reverse());var o=this.getCurrentPage();if(!this.props.useExternal&&s&&this.props.resultsPerPage*(o+1)<=this.props.resultsPerPage*this.state.maxPage&&o>=0)if(this.isInfiniteScrollEnabled())e=c.first(e,(o+1)*this.props.resultsPerPage);else{var r=c.rest(e,o*this.props.resultsPerPage);e=c.initial(r,r.length-this.props.resultsPerPage)}for(var a=(this.columnSettings.getMetadataColumns,[]),i=0;i<e.length;i++){var l=e[i];"undefined"!=typeof l[n.props.childrenColumnName]&&l[n.props.childrenColumnName].length>0&&(l.children=n.getDataForRender(l[n.props.childrenColumnName],t,!1),"children"!==n.props.childrenColumnName&&delete l[n.props.childrenColumnName]),a.push(l)}return a},getCurrentResults:function(){return this.state.filteredResults||this.props.results},getCurrentPage:function(){return this.props.externalCurrentPage||this.state.page},getCurrentSort:function(){return this.props.useExternal?this.props.externalSortColumn:this.state.sortColumn},getCurrentSortAscending:function(){return this.props.useExternal?this.props.externalSortAscending:this.state.sortAscending},getCurrentMaxPage:function(){return this.props.useExternal?this.props.externalMaxPage:this.state.maxPage},getSortObject:function(){return{enableSort:this.props.enableSort,changeSort:this.changeSort,sortColumn:this.getCurrentSort(),sortAscending:this.getCurrentSortAscending(),sortAscendingClassName:this.props.sortAscendingClassName,sortDescendingClassName:this.props.sortDescendingClassName,sortAscendingComponent:this.props.sortAscendingComponent,sortDescendingComponent:this.props.sortDescendingComponent}},isInfiniteScrollEnabled:function(){return!this.props.useCustomPagerComponent&&this.props.enableInfiniteScroll},getClearFixStyles:function(){return{clear:"both",display:"table",width:"100%"}},getSettingsStyles:function(){return{float:"left",width:"50%",textAlign:"right"}},getFilterStyles:function(){return{float:"left",width:"50%",textAlign:"left",color:"#222",minHeight:"1px"}},getFilter:function(){return this.props.showFilter&&this.props.useCustomGridComponent===!1?n.createElement(r,{changeFilter:this.setFilter,placeholderText:this.props.filterPlaceholderText}):""},getSettings:function(){return this.props.showSettings?n.createElement("button",{type:"button",className:this.props.settingsToggleClassName,onClick:this.toggleColumnChooser,style:this.props.useGriddleStyles?{background:"none",border:"none",padding:0,margin:0,fontSize:14}:null},this.props.settingsText,this.props.settingsIconComponent):""},getTopSection:function(e,t){if(this.props.showFilter===!1&&this.props.showSettings===!1)return"";var s=null,o=null,r=null;return this.props.useGriddleStyles&&(s=this.getFilterStyles(),o=this.getSettingsStyles(),r=this.getClearFixStyles()),n.createElement("div",{className:"top-section",style:r},n.createElement("div",{className:"griddle-filter",style:s},e),n.createElement("div",{className:"griddle-settings-toggle",style:o},t))},getPagingSection:function(e,t){return(this.props.showPager&&!this.isInfiniteScrollEnabled()&&!this.props.useCustomGridComponent)===!1?"":n.createElement("div",{className:"griddle-footer"},this.props.useCustomPagerComponent?n.createElement(u,{next:this.nextPage,previous:this.previousPage,currentPage:e,maxPage:t,setPage:this.setPage,nextText:this.props.nextText,previousText:this.props.previousText,customPagerComponent:this.props.customPagerComponent}):n.createElement(a,{useGriddleStyles:this.props.useGriddleStyles,next:this.nextPage,previous:this.previousPage,nextClassName:this.props.nextClassName,nextIconComponent:this.props.nextIconComponent,previousClassName:this.props.previousClassName,previousIconComponent:this.props.previousIconComponent,currentPage:e,maxPage:t,setPage:this.setPage,nextText:this.props.nextText,previousText:this.props.previousText}))},getColumnSelectorSection:function(e,t){return this.state.showColumnChooser?n.createElement(i,{columns:e,selectedColumns:t,setColumns:this.setColumns,settingsText:this.props.settingsText,settingsIconComponent:this.props.settingsIconComponent,maxRowsText:this.props.maxRowsText,setPageSize:this.setPageSize,showSetPageSize:!this.props.useCustomGridComponent,resultsPerPage:this.props.resultsPerPage,enableToggleCustom:this.props.enableToggleCustom,toggleCustomComponent:this.toggleCustomComponent,useCustomComponent:this.props.useCustomRowComponent||this.props.useCustomGridComponent,useGriddleStyles:this.props.useGriddleStyles,enableCustomFormatText:this.props.enableCustomFormatText,columnMetadata:this.props.columnMetadata}):""},getCustomGridSection:function(){return n.createElement(this.props.customGridComponent,{data:this.props.results,className:this.props.customGridComponentClassName})},getCustomRowSection:function(e,t,s,o){return n.createElement("div",null,n.createElement(p,{data:e,columns:t,metadataColumns:s,className:this.props.customRowComponentClassName,customComponent:this.props.customRowComponent,style:this.getClearFixStyles()}),this.props.showPager&&o)},getStandardGridSection:function(e,t,s,r,a){var i=this.getSortObject();return n.createElement("div",{className:"griddle-body"},n.createElement(o,{useGriddleStyles:this.props.useGriddleStyles,columnSettings:this.columnSettings,rowSettings:this.rowSettings,sortSettings:i,isSubGriddle:this.props.isSubGriddle,useGriddleIcons:this.props.useGriddleIcons,useFixedLayout:this.props.useFixedLayout,showPager:this.props.showPager,pagingContent:r,data:e,className:this.props.tableClassName,enableInfiniteScroll:this.isInfiniteScrollEnabled(),nextPage:this.nextPage,showTableHeading:this.props.showTableHeading,useFixedHeader:this.props.useFixedHeader,parentRowCollapsedClassName:this.props.parentRowCollapsedClassName,parentRowExpandedClassName:this.props.parentRowExpandedClassName,parentRowCollapsedComponent:this.props.parentRowCollapsedComponent,parentRowExpandedComponent:this.props.parentRowExpandedComponent,bodyHeight:this.props.bodyHeight,paddingHeight:this.props.paddingHeight,rowHeight:this.props.rowHeight,infiniteScrollLoadTreshold:this.props.infiniteScrollLoadTreshold,externalLoadingComponent:this.props.externalLoadingComponent,externalIsLoading:this.props.externalIsLoading,hasMorePages:a}))},getContentSection:function(e,t,s,n,o){return this.props.useCustomGridComponent&&null!==this.props.customGridComponent?this.getCustomGridSection():this.props.useCustomRowComponent?this.getCustomRowSection(e,t,s,n):this.getStandardGridSection(e,t,s,n,o)},getNoDataSection:function(e,t){var s=null;return s=null!=this.props.customNoDataComponent?n.createElement("div",{className:e},n.createElement(this.props.customNoDataComponent,null)):n.createElement("div",{className:e},t,n.createElement(l,{noDataMessage:this.props.noDataMessage}))},shouldShowNoDataSection:function(e){return this.props.useExternal===!1&&("undefined"==typeof e||0===e.length)||this.props.useExternal===!0&&this.props.externalIsLoading===!1&&0===e.length},render:function(){var e=this.getCurrentResults(),t=(this.props.tableClassName+" table-header",this.getFilter()),s=this.getSettings(),o=this.getTopSection(t,s),r=[],a=this.columnSettings.getColumns(),i=this.getDataForRender(e,a,!0),l=this.columnSettings.getMetadataColumns();r=c.keys(c.omit(e[0],l));var p=this.getCurrentPage(),u=this.getCurrentMaxPage(),d=p+1<u,h=this.getPagingSection(p,u),m=this.getContentSection(i,a,l,h,d),g=this.getColumnSelectorSection(r,a),C=this.props.gridClassName.length>0?"griddle "+this.props.gridClassName:"griddle";return C+=this.props.useCustomRowComponent?" griddle-custom":"",this.shouldShowNoDataSection(e)?(C+=this.props.noDataClassName&&this.props.noDataClassName.length>0?" "+this.props.noDataClassName:"",this.getNoDataSection(C,o)):n.createElement("div",{className:C},o,g,n.createElement("div",{className:"griddle-container",style:this.props.useGriddleStyles&&!this.props.isSubGriddle?{border:"1px solid #DDD"}:null},m))}});e.exports=m},function(t,s,n){t.exports=e},function(e,s,n){e.exports=t},function(e,t,s){"use strict";var n=function(e,t,s){t&&Object.defineProperties(e,t),s&&Object.defineProperties(e.prototype,s)},o=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},r=s(3),a=function(){function e(){var t=void 0===arguments[0]?[]:arguments[0],s=void 0===arguments[1]?[]:arguments[1],n=void 0===arguments[2]?"children":arguments[2],r=void 0===arguments[3]?[]:arguments[3],a=void 0===arguments[4]?[]:arguments[4];o(this,e),this.allColumns=t,this.filteredColumns=s,this.childrenColumnName=n,this.columnMetadata=r,this.metadataColumns=a}return n(e,null,{getMetadataColumns:{value:function(){var e=r.map(r.where(this.columnMetadata,{visible:!1}),function(e){return e.columnName});return e.indexOf(this.childrenColumnName)<0&&e.push(this.childrenColumnName),e.concat(this.metadataColumns)},writable:!0,configurable:!0},getVisibleColumnCount:{value:function(){return this.getColumns().length},writable:!0,configurable:!0},getColumnMetadataByName:{value:function(e){return r.findWhere(this.columnMetadata,{columnName:e})},writable:!0,configurable:!0},hasColumnMetadata:{value:function(){return null!==this.columnMetadata&&this.columnMetadata.length>0},writable:!0,configurable:!0},getMetadataColumnProperty:{value:function(e,t,s){var n=this.getColumnMetadataByName(e);return"undefined"==typeof n||null===n?s:n.hasOwnProperty(t)?n[t]:s},writable:!0,configurable:!0},getColumns:{value:function(){var e=this,t=100,s=0===this.filteredColumns.length?this.allColumns:this.filteredColumns;return s=r.difference(s,this.metadataColumns),s=r.sortBy(s,function(s){var n=r.findWhere(e.columnMetadata,{columnName:s});return"undefined"==typeof n||null===n||isNaN(n.order)?t:n.order})},writable:!0,configurable:!0}}),e}();e.exports=a},function(e,t,s){"use strict";var n=function(e,t,s){t&&Object.defineProperties(e,t),s&&Object.defineProperties(e.prototype,s)},o=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},r=s(3),a=function(){function e(){var t=void 0===arguments[0]?{}:arguments[0];o(this,e),this.rowMetadata=t}return n(e,null,{getRowKey:{value:function(e){var t;return t=this.hasRowMetadataKey()?e[this.rowMetadata.key]:r.uniqueId("grid_row")},writable:!0,configurable:!0},hasRowMetadataKey:{value:function(){return this.hasRowMetadata()&&null!==this.rowMetadata.key&&void 0!==this.rowMetadata.key},writable:!0,configurable:!0},getBodyRowMetadataClass:{value:function(){return this.hasRowMetadata()&&null!==this.rowMetadata.bodyCssClassName&&void 0!==this.rowMetadata.bodyCssClassName?this.rowMetadata.bodyCssClassName:null},writable:!0,configurable:!0},getHeaderRowMetadataClass:{value:function(){return this.hasRowMetadata()&&null!==this.rowMetadata.headerCssClassName&&void 0!==this.rowMetadata.headerCssClassName?this.rowMetadata.headerCssClassName:null},writable:!0,configurable:!0},hasRowMetadata:{value:function(){return null!==this.rowMetadata},writable:!0,configurable:!0}}),e}();e.exports=a},function(e,t,s){"use strict";var n=s(2),o=s(13),r=s(14),a=(s(4),s(5),s(3),n.createClass({displayName:"GridTable",getDefaultProps:function(){return{data:[],columnSettings:null,rowSettings:null,sortSettings:null,className:"",enableInfiniteScroll:!1,nextPage:null,hasMorePages:!1,useFixedHeader:!1,useFixedLayout:!0,paddingHeight:null,rowHeight:null,infiniteScrollLoadTreshold:null,bodyHeight:null,tableHeading:"",useGriddleStyles:!0,useGriddleIcons:!0,isSubGriddle:!1,parentRowCollapsedClassName:"parent-row",parentRowExpandedClassName:"parent-row expanded",parentRowCollapsedComponent:"▶",parentRowExpandedComponent:"▼",externalLoadingComponent:null,externalIsLoading:!1}},getInitialState:function(){return{scrollTop:0,scrollHeight:this.props.bodyHeight,clientHeight:this.props.bodyHeight}},componentDidMount:function(){this.gridScroll()},componentDidUpdate:function(e,t){this.gridScroll()},gridScroll:function(){if(this.props.enableInfiniteScroll&&!this.props.externalIsLoading){var e=this.refs.scrollable.getDOMNode(),t=e.scrollTop,s=e.scrollHeight,n=e.clientHeight;if(null!==this.props.rowHeight&&this.state.scrollTop!==t&&Math.abs(this.state.scrollTop-t)>=this.getAdjustedRowHeight()){var o={scrollTop:t,scrollHeight:s,clientHeight:n};this.setState(o)}var r=s-(t+n)-this.props.infiniteScrollLoadTreshold,a=.6*r;a<=this.props.infiniteScrollLoadTreshold&&this.props.nextPage()}},verifyProps:function(){null===this.props.columnSettings&&console.error("gridTable: The columnSettings prop is null and it shouldn't be"),null===this.props.rowSettings&&console.error("gridTable: The rowSettings prop is null and it shouldn't be")},getAdjustedRowHeight:function(){return this.props.rowHeight+2*this.props.paddingHeight},getNodeContent:function(){this.verifyProps();var e=this,t=!1;if(!this.props.externalIsLoading||this.props.enableInfiniteScroll){var s=e.props.data,o=null,a=null;if(this.props.enableInfiniteScroll&&null!==this.props.rowHeight&&void 0!==this.refs.scrollable){var i=e.getAdjustedRowHeight(),l=Math.ceil(e.state.clientHeight/i),p=Math.max(0,Math.floor(e.state.scrollTop/i)-.25*l),u=Math.min(p+1.25*l,this.props.data.length-1);s=s.slice(p,u);var d={height:p*i+"px"};o=n.createElement("tr",{key:"above-"+d.height,style:d});var h={height:(this.props.data.length-u)*i+"px"};a=n.createElement("tr",{key:"below-"+h.height,style:h})}var c=s.map(function(s,o){var a="undefined"!=typeof s.children&&s.children.length>0,i=e.props.rowSettings.getRowKey(s);return a&&(t=a),n.createElement(r,{useGriddleStyles:e.props.useGriddleStyles,isSubGriddle:e.props.isSubGriddle,parentRowExpandedClassName:e.props.parentRowExpandedClassName,parentRowCollapsedClassName:e.props.parentRowCollapsedClassName,parentRowExpandedComponent:e.props.parentRowExpandedComponent,parentRowCollapsedComponent:e.props.parentRowCollapsedComponent,data:s,key:i+"-container",uniqueId:i,columnSettings:e.props.columnSettings,rowSettings:e.props.rowSettings,paddingHeight:e.props.paddingHeight,rowHeight:e.props.rowHeight,hasChildren:a,tableClassName:e.props.className})});return o&&c.unshift(o),a&&c.push(a),{nodes:c,anyHasChildren:t}}return null},render:function(){var e=[],t=!1,s=this.getNodeContent();s&&(e=s.nodes,t=s.anyHasChildren);var r=null,a=null,i={width:"100%"};if(this.props.useFixedLayout&&(i.tableLayout="fixed"),this.props.enableInfiniteScroll&&(r={position:"relative",overflowY:"scroll",height:this.props.bodyHeight+"px",width:"100%"}),this.props.externalIsLoading){var l=null,p=null;this.props.useGriddleStyles&&(l={textAlign:"center",paddingBottom:"40px"},p=this.props.columnSettings.getVisibleColumnCount());var u=this.props.externalLoadingComponent?n.createElement(this.props.externalLoadingComponent,null):n.createElement("div",null,"Loading...");a=n.createElement("tbody",null,n.createElement("tr",null,n.createElement("td",{style:l,colSpan:p},u)))}var d=this.props.showTableHeading?n.createElement(o,{useGriddleStyles:this.props.useGriddleStyles,useGriddleIcons:this.props.useGriddleIcons,sortSettings:this.props.sortSettings,columnSettings:this.props.columnSettings,rowSettings:this.props.rowSettings}):"";t||(e=n.createElement("tbody",null,e));var h="";if(this.props.showPager){var c=this.props.useGriddleStyles?{padding:"0",backgroundColor:"#EDEDED",border:"0",color:"#222"}:null;h=n.createElement("tbody",null,n.createElement("tr",null,n.createElement("td",{colSpan:this.props.columnSettings.getVisibleColumnCount(),style:c,className:"footer-container"},this.props.pagingContent)))}return this.props.useFixedHeader?(this.props.useGriddleStyles&&(i.tableLayout="fixed"),n.createElement("div",null,n.createElement("table",{className:this.props.className,style:this.props.useGriddleStyles&&i||null},d),n.createElement("div",{ref:"scrollable",onScroll:this.gridScroll,style:r},n.createElement("table",{className:this.props.className,style:this.props.useGriddleStyles&&i||null},e,a,h)))):n.createElement("div",{ref:"scrollable",onScroll:this.gridScroll,style:r},n.createElement("table",{className:this.props.className,style:this.props.useGriddleStyles&&i||null},d,e,a,h))}}));e.exports=a},function(e,t,s){"use strict";var n=s(2),o=n.createClass({displayName:"GridFilter",getDefaultProps:function(){return{placeholderText:""}},handleChange:function(e){this.props.changeFilter(e.target.value)},render:function(){return n.createElement("div",{className:"filter-container"},n.createElement("input",{type:"text",name:"filter",placeholder:this.props.placeholderText,className:"form-control",onChange:this.handleChange}))}});e.exports=o},function(e,t,s){"use strict";var n=s(2),o=s(3),r=n.createClass({displayName:"GridPagination",getDefaultProps:function(){return{maxPage:0,nextText:"",previousText:"",currentPage:0,useGriddleStyles:!0,nextClassName:"griddle-next",previousClassName:"griddle-previous",nextIconComponent:null,previousIconComponent:null}},pageChange:function(e){this.props.setPage(parseInt(e.target.value,10)-1)},render:function(){var e="",t="";this.props.currentPage>0&&(e=n.createElement("button",{type:"button",onClick:this.props.previous,style:this.props.useGriddleStyles?{color:"#222",border:"none",background:"none",margin:"0 0 0 10px"}:null},this.props.previousIconComponent,this.props.previousText)),this.props.currentPage!==this.props.maxPage-1&&(t=n.createElement("button",{type:"button",onClick:this.props.next,style:this.props.useGriddleStyles?{color:"#222",border:"none",background:"none",margin:"0 10px 0 0"}:null},this.props.nextText,this.props.nextIconComponent));var s=null,r=null,a=null;if(this.props.useGriddleStyles===!0){var i={float:"left",minHeight:"1px",marginTop:"5px"};a=o.extend({textAlign:"right",width:"34%"},i),r=o.extend({textAlign:"center",width:"33%"},i),s=o.extend({width:"33%"},i)}for(var l=[],p=1;p<=this.props.maxPage;p++)l.push(n.createElement("option",{value:p,key:p},p));return n.createElement("div",{style:this.props.useGriddleStyles?{minHeight:"35px"}:null},n.createElement("div",{className:this.props.previousClassName,style:s},e),n.createElement("div",{className:"griddle-page",style:r},n.createElement("select",{value:this.props.currentPage+1,onChange:this.pageChange},l)," / ",this.props.maxPage),n.createElement("div",{className:this.props.nextClassName,style:a},t))}});e.exports=r},function(e,t,s){"use strict";var n=s(2),o=s(3),r=n.createClass({displayName:"GridSettings",getDefaultProps:function(){return{columns:[],columnMetadata:[],selectedColumns:[],settingsText:"",maxRowsText:"",resultsPerPage:0,enableToggleCustom:!1,useCustomComponent:!1,useGriddleStyles:!0,toggleCustomComponent:function(){}}},setPageSize:function(e){var t=parseInt(e.target.value,10);this.props.setPageSize(t)},handleChange:function(e){e.target.checked===!0&&o.contains(this.props.selectedColumns,e.target.dataset.name)===!1?(this.props.selectedColumns.push(e.target.dataset.name),this.props.setColumns(this.props.selectedColumns)):this.props.setColumns(o.without(this.props.selectedColumns,e.target.dataset.name))},render:function(){var e=this,t=[];e.props.useCustomComponent===!1&&(t=this.props.columns.map(function(t,s){var r=o.contains(e.props.selectedColumns,t),a=o.findWhere(e.props.columnMetadata,{columnName:t}),i=t;return"undefined"!=typeof a&&"undefined"!=typeof a.displayName&&null!=a.displayName&&(i=a.displayName),"undefined"!=typeof a&&null!=a&&a.locked?n.createElement("div",{className:"column checkbox"},n.createElement("label",null,n.createElement("input",{type:"checkbox",disabled:!0,name:"check",checked:r,"data-name":t}),i)):"undefined"!=typeof a&&null!=a&&"undefined"!=typeof a.visible&&a.visible===!1?null:n.createElement("div",{className:"griddle-column-selection checkbox",style:e.props.useGriddleStyles?{float:"left",width:"20%"}:null},n.createElement("label",null,n.createElement("input",{type:"checkbox",name:"check",onChange:e.handleChange,checked:r,"data-name":t}),i))}));var s=e.props.enableToggleCustom?n.createElement("div",{className:"form-group"},n.createElement("label",{htmlFor:"maxRows"},n.createElement("input",{type:"checkbox",checked:this.props.useCustomComponent,onChange:this.props.toggleCustomComponent})," ",this.props.enableCustomFormatText)):"",r=this.props.showSetPageSize?n.createElement("div",null,n.createElement("label",{htmlFor:"maxRows"},this.props.maxRowsText,":",n.createElement("select",{onChange:this.setPageSize,value:this.props.resultsPerPage},n.createElement("option",{value:"5"},"5"),n.createElement("option",{value:"10"},"10"),n.createElement("option",{value:"25"},"25"),n.createElement("option",{value:"50"},"50"),n.createElement("option",{value:"100"},"100")))):"";return n.createElement("div",{className:"griddle-settings",style:this.props.useGriddleStyles?{backgroundColor:"#FFF",border:"1px solid #DDD",color:"#222",padding:"10px",marginBottom:"10px"}:null},n.createElement("h6",null,this.props.settingsText),n.createElement("div",{className:"griddle-columns",style:this.props.useGriddleStyles?{clear:"both",display:"table",width:"100%",borderBottom:"1px solid #EDEDED",marginBottom:"10px"}:null},t),r,s)}});e.exports=r},function(e,t,s){"use strict";var n=s(2),o=n.createClass({displayName:"GridNoData",getDefaultProps:function(){return{noDataMessage:"No Data"}},render:function(){return n.createElement("div",null,this.props.noDataMessage)}});e.exports=o},function(e,t,s){"use strict";var n=s(2),o=n.createClass({displayName:"CustomRowComponentContainer",getDefaultProps:function(){return{data:[],metadataColumns:[],className:"",customComponent:{}}},render:function(){var e=this;if("function"!=typeof e.props.customComponent)return console.log("Couldn't find valid template."),n.createElement("div",{className:this.props.className});var t=this.props.data.map(function(t,s){return n.createElement(e.props.customComponent,{data:t,metadataColumns:e.props.metadataColumns,key:s})});this.props.showPager&&this.props.pagingContent;return n.createElement("div",{className:this.props.className,style:this.props.style},t)}});e.exports=o},function(e,t,s){"use strict";var n=s(2),o=n.createClass({displayName:"CustomPaginationContainer",getDefaultProps:function(){return{maxPage:0,nextText:"",previousText:"",currentPage:0,customPagerComponent:{}}},render:function(){var e=this;return"function"!=typeof e.props.customPagerComponent?(console.log("Couldn't find valid template."),n.createElement("div",null)):n.createElement(e.props.customPagerComponent,{maxPage:this.props.maxPage,nextText:this.props.nextText,previousText:this.props.previousText,currentPage:this.props.currentPage,setPage:this.props.setPage,previous:this.props.previous,next:this.props.next})}});e.exports=o},function(e,t,s){"use strict";var n=s(2),o=(s(3),s(4),n.createClass({displayName:"GridTitle",getDefaultProps:function(){return{columnSettings:null,rowSettings:null,sortSettings:null,headerStyle:null,useGriddleStyles:!0,useGriddleIcons:!0,headerStyles:{}}},componentWillMount:function(){this.verifyProps()},sort:function(e){this.props.sortSettings.changeSort(e.target.dataset.title||e.target.parentElement.dataset.title)},verifyProps:function(){null===this.props.columnSettings&&console.error("gridTitle: The columnSettings prop is null and it shouldn't be"),null===this.props.sortSettings&&console.error("gridTitle: The sortSettings prop is null and it shouldn't be")},render:function(){this.verifyProps();var e=this,t=this.props.columnSettings.getColumns().map(function(t,s){var o="",r=null,a=null;e.props.sortSettings.sortColumn==t&&e.props.sortSettings.sortAscending?(o=e.props.sortSettings.sortAscendingClassName,r=e.props.useGriddleIcons&&e.props.sortSettings.sortAscendingComponent):e.props.sortSettings.sortColumn==t&&e.props.sortSettings.sortAscending===!1&&(o+=e.props.sortSettings.sortDescendingClassName,r=e.props.useGriddleIcons&&e.props.sortSettings.sortDescendingComponent);var i=e.props.columnSettings.getColumnMetadataByName(t),l=e.props.columnSettings.getMetadataColumnProperty(t,"sortable",!0),p=e.props.columnSettings.getMetadataColumnProperty(t,"displayName",t);return o=null==i?o:(o&&o+" "||o)+e.props.columnSettings.getMetadataColumnProperty(t,"cssClassName",""),e.props.useGriddleStyles&&(a={backgroundColor:"#EDEDEF",border:"0",borderBottom:"1px solid #DDD",color:"#222",padding:"5px",cursor:l?"pointer":"default"}),n.createElement("th",{onClick:l?e.sort:null,"data-title":t,className:o,key:p,style:a},p,r)}),s=e.props.rowSettings&&e.props.rowSettings.getHeaderRowMetadataClass()||null;return n.createElement("thead",null,n.createElement("tr",{className:s,style:this.props.headerStyles},t))}}));e.exports=o},function(e,t,s){"use strict";var n=s(2),o=s(15),r=(s(4),n.createClass({displayName:"GridRowContainer",getDefaultProps:function(){return{useGriddleStyles:!0,useGriddleIcons:!0,isSubGriddle:!1,columnSettings:null,rowSettings:null,paddingHeight:null,rowHeight:null,parentRowCollapsedClassName:"parent-row",parentRowExpandedClassName:"parent-row expanded",parentRowCollapsedComponent:"▶",parentRowExpandedComponent:"▼"}},getInitialState:function(){return{data:{},showChildren:!1}},componentWillReceiveProps:function(){
this.setShowChildren(!1)},toggleChildren:function(){this.setShowChildren(this.state.showChildren===!1)},setShowChildren:function(e){this.setState({showChildren:e})},verifyProps:function(){null===this.props.columnSettings&&console.error("gridRowContainer: The columnSettings prop is null and it shouldn't be")},render:function(){this.verifyProps();var e=this;if("undefined"==typeof this.props.data)return n.createElement("tbody",null);var t=[];t.push(n.createElement(o,{useGriddleStyles:this.props.useGriddleStyles,isSubGriddle:this.props.isSubGriddle,data:this.props.data,columnSettings:this.props.columnSettings,rowSettings:this.props.rowSettings,hasChildren:e.props.hasChildren,toggleChildren:e.toggleChildren,showChildren:e.state.showChildren,key:e.props.uniqueId,useGriddleIcons:e.props.useGriddleIcons,parentRowExpandedClassName:this.props.parentRowExpandedClassName,parentRowCollapsedClassName:this.props.parentRowCollapsedClassName,parentRowExpandedComponent:this.props.parentRowExpandedComponent,parentRowCollapsedComponent:this.props.parentRowCollapsedComponent,paddingHeight:e.props.paddingHeight,rowHeight:e.props.rowHeight}));var s=null;return e.state.showChildren&&(s=e.props.hasChildren&&this.props.data.children.map(function(t,s){return"undefined"!=typeof t.children?n.createElement("tr",{style:{paddingLeft:5}},n.createElement("td",{colSpan:e.props.columnSettings.getVisibleColumnCount(),className:"griddle-parent",style:e.props.useGriddleStyles&&{border:"none",padding:"0 0 0 5px"}},n.createElement(Griddle,{isSubGriddle:!0,results:[t],columns:e.props.columnSettings.getColumns(),tableClassName:e.props.tableClassName,parentRowExpandedClassName:e.props.parentRowExpandedClassName,parentRowCollapsedClassName:e.props.parentRowCollapsedClassName,showTableHeading:!1,showPager:!1,columnMetadata:e.props.columnMetadata,parentRowExpandedComponent:e.props.parentRowExpandedComponent,parentRowCollapsedComponent:e.props.parentRowCollapsedComponent,paddingHeight:e.props.paddingHeight,rowHeight:e.props.rowHeight}))):n.createElement(o,{useGriddleStyles:e.props.useGriddleStyles,isSubGriddle:e.props.isSubGriddle,data:t,columnSettings:e.props.columnSettings,isChildRow:!0,columnMetadata:e.props.columnMetadata,key:e.props.rowSettings.getRowKey(t)})})),e.props.hasChildren===!1?t[0]:n.createElement("tbody",null,e.state.showChildren?t.concat(s):t)}}));e.exports=r},function(e,t,s){"use strict";var n=s(2),o=s(3),r=(s(4),n.createClass({displayName:"GridRow",getDefaultProps:function(){return{isChildRow:!1,showChildren:!1,data:{},columnSettings:null,rowSettings:null,hasChildren:!1,useGriddleStyles:!0,useGriddleIcons:!0,isSubGriddle:!1,paddingHeight:null,rowHeight:null,parentRowCollapsedClassName:"parent-row",parentRowExpandedClassName:"parent-row expanded",parentRowCollapsedComponent:"▶",parentRowExpandedComponent:"▼"}},handleClick:function(){this.props.toggleChildren()},verifyProps:function(){null===this.props.columnSettings&&console.error("gridRow: The columnSettings prop is null and it shouldn't be")},render:function(){var e=this;this.verifyProps();var t=this,s=null;this.props.useGriddleStyles&&(s={margin:"0",padding:t.props.paddingHeight+"px 5px "+t.props.paddingHeight+"px 5px",height:t.props.rowHeight?this.props.rowHeight-2*t.props.paddingHeight+"px":null,backgroundColor:"#FFF",borderTopColor:"#DDD",color:"#222"});var r=this.props.columnSettings.getColumns(),a=o.object(r,[]),i=Object.create(this.props.data);o.defaults(i,a);var l=o.pairs(o.pick(i,r)),p=l.map(function(t,r){var a=null,l=e.props.columnSettings.getColumnMetadataByName(t[0]),p=0===r&&e.props.hasChildren&&e.props.showChildren===!1&&e.props.useGriddleIcons?n.createElement("span",{style:e.props.useGriddleStyles&&{fontSize:"10px",marginRight:"5px"}},e.props.parentRowCollapsedComponent):0===r&&e.props.hasChildren&&e.props.showChildren&&e.props.useGriddleIcons?n.createElement("span",{style:e.props.useGriddleStyles&&{fontSize:"10px"}},e.props.parentRowExpandedComponent):"";if(0===r&&e.props.isChildRow&&e.props.useGriddleStyles&&(s=o.extend(s,{paddingLeft:10})),e.props.columnSettings.hasColumnMetadata()&&"undefined"!=typeof l){var u="undefined"==typeof l.customComponent||null===l.customComponent?t[1]:n.createElement(l.customComponent,{data:t[1],rowData:i,metadata:l});a=null==l?a:n.createElement("td",{onClick:e.props.hasChildren&&e.handleClick,className:l.cssClassName,key:r,style:s},u)}return a||n.createElement("td",{onClick:e.props.hasChildren&&e.handleClick,key:r,style:s},p,t[1])}),u=t.props.rowSettings&&t.props.rowSettings.getBodyRowMetadataClass()||"standard-row";return t.props.isChildRow?u="child-row":t.props.hasChildren&&(u=t.props.showChildren?this.props.parentRowExpandedClassName:this.props.parentRowCollapsedClassName),n.createElement("tr",{className:u},p)}}));e.exports=r}])});
//# sourceMappingURL=griddle.min.js.map