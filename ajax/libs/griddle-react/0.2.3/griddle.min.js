!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("React"),require("_")):"function"==typeof define&&define.amd?define(["React","_"],t):"object"==typeof exports?exports.Griddle=t(require("React"),require("_")):e.Griddle=t(e.React,e._)}(this,function(e,t){return function(e){function t(n){if(s[n])return s[n].exports;var o=s[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var s={};return t.m=e,t.c=s,t.p="/",t(0)}([function(e,t,s){e.exports=s(1)},function(e,t,s){var n=s(2),o=s(4),r=s(5),a=s(6),l=s(7),i=(s(8),s(9)),p=s(10),u=s(11),d=s(3),m=n.createClass({displayName:"Griddle",getDefaultProps:function(){return{columns:[],columnMetadata:[],resultsPerPage:5,results:[],initialSort:"",initialSortAscending:!0,gridClassName:"",tableClassName:"",customRowComponentClassName:"",settingsText:"Settings",filterPlaceholderText:"Filter Results",nextText:"Next",previousText:"Previous",maxRowsText:"Rows per page",enableCustomFormatText:"Enable Custom Formatting",childrenColumnName:"children",metadataColumns:[],showFilter:!1,showSettings:!1,useCustomRowComponent:!1,useCustomGridComponent:!1,useCustomPagerComponent:!1,useGriddleStyles:!0,useGriddleIcons:!0,customRowComponent:null,customGridComponent:null,customPagerComponent:{},enableToggleCustom:!1,noDataMessage:"There is no data to display.",customNoDataComponent:null,showTableHeading:!0,showPager:!0,useFixedHeader:!1,useExternal:!1,externalSetPage:null,externalChangeSort:null,externalSetFilter:null,externalSetPageSize:null,externalMaxPage:null,externalCurrentPage:null,externalSortColumn:null,externalSortAscending:!0,externalLoadingComponent:null,externalIsLoading:!1,enableInfiniteScroll:!1,bodyHeight:null,infiniteScrollSpacerHeight:50,useFixedLayout:!0,isSubGriddle:!1,enableSort:!0,sortAscendingClassName:"sort-ascending",sortDescendingClassName:"sort-descending",parentRowCollapsedClassName:"parent-row",parentRowExpandedClassName:"parent-row expanded",settingsToggleClassName:"settings",nextClassName:"griddle-next",previousClassName:"griddle-previous",sortAscendingComponent:" ▲",sortDescendingComponent:" ▼",parentRowCollapsedComponent:"▶",parentRowExpandedComponent:"▼",settingsIconComponent:"",nextIconComponent:"",previousIconComponent:""}},setFilter:function(e){if(this.props.useExternal)return void this.props.externalSetFilter(e);var t=this,s={page:0,filter:e};s.filteredResults=d.filter(this.props.results,function(t){for(var s=d.values(t),n=0;n<s.length;n++)if((s[n]||"").toString().toLowerCase().indexOf(e.toLowerCase())>=0)return!0;return!1}),s.maxPage=t.getMaxPage(s.filteredResults),(d.isUndefined(e)||d.isNull(e)||d.isEmpty(e))&&(s.filter=e,s.filteredResults=null),t.setState(s)},setPageSize:function(e){return this.props.useExternal?void this.props.externalSetPageSize(e):(this.props.resultsPerPage=e,void this.setMaxPage())},toggleColumnChooser:function(){this.setState({showColumnChooser:!this.state.showColumnChooser})},toggleCustomComponent:function(){"grid"===this.state.customComponentType?this.setProps({useCustomGridComponent:!this.props.useCustomGridComponent}):"row"===this.state.customComponentType&&this.setProps({useCustomRowComponent:!this.props.useCustomRowComponent})},getMaxPage:function(e,t){if(this.props.useExternal)return this.props.externalMaxPage;t||(t=(e||this.getCurrentResults()).length);var s=Math.ceil(t/this.props.resultsPerPage);return s},setMaxPage:function(e){var t=this.getMaxPage(e);this.state.maxPage!==t&&this.setState({page:0,maxPage:t,filteredColumns:this.props.columns})},setPage:function(e){if(this.props.useExternal)return void this.props.externalSetPage(e);if(e*this.props.resultsPerPage<=this.props.resultsPerPage*this.state.maxPage){var t=this,s={page:e};t.setState(s)}},getMetadataColumns:function(){var e=d.map(d.where(this.props.columnMetadata,{visible:!1}),function(e){return e.columnName});return e.indexOf(this.props.childrenColumnName)<0&&e.push(this.props.childrenColumnName),e.concat(this.props.metadataColumns)},getColumns:function(){var e=this,t=this.getCurrentResults();if(void 0===t||0===t.length)return[];var s=this.state.filteredColumns,n=this.getMetadataColumns();return 0===s.length&&(s=d.keys(d.omit(t[0],n))),s=d.difference(s,n),s=d.sortBy(s,function(t){var s=d.findWhere(e.props.columnMetadata,{columnName:t});return"undefined"==typeof s||null===s||isNaN(s.order)?100:s.order})},setColumns:function(e){e=d.isArray(e)?e:[e],this.setState({filteredColumns:e})},nextPage:function(){currentPage=this.getCurrentPage(),currentPage<this.getCurrentMaxPage()-1&&this.setPage(currentPage+1)},previousPage:function(){currentPage=this.getCurrentPage(),currentPage>0&&this.setPage(currentPage-1)},changeSort:function(e){if(this.props.enableSort!==!1){if(this.props.useExternal)return void this.props.externalChangeSort(e,this.props.externalSortColumn!==e||!this.props.externalSortAscending);var t={page:0,sortColumn:e,sortAscending:!0};this.state.sortColumn==e&&(t.sortAscending=!this.state.sortAscending),this.setState(t)}},componentWillReceiveProps:function(e){this.setMaxPage(e.results)},getInitialState:function(){var e={maxPage:0,page:0,filteredResults:null,filteredColumns:[],filter:"",sortColumn:this.props.initialSort,sortAscending:this.props.initialSortAscending,showColumnChooser:!1};return e},componentWillMount:function(){this.verifyExternal(),this.verifyCustom(),this.setMaxPage(),this.props.useCustomGridComponent===!0?this.setState({customComponentType:"grid"}):this.props.useCustomRowComponent===!0?this.setState({customComponentType:"row"}):this.setState({filteredColumns:this.props.columns})},verifyExternal:function(){this.props.useExternal===!0&&(null===this.props.externalSetPage&&console.error("useExternal is set to true but there is no externalSetPage function specified."),null===this.props.externalChangeSort&&console.error("useExternal is set to true but there is no externalChangeSort function specified."),null===this.props.externalSetFilter&&console.error("useExternal is set to true but there is no externalSetFilter function specified."),null===this.props.externalSetPageSize&&console.error("useExternal is set to true but there is no externalSetPageSize function specified."),null===this.props.externalMaxPage&&console.error("useExternal is set to true but externalMaxPage is not set."),null===this.props.externalCurrentPage&&console.error("useExternal is set to true but externalCurrentPage is not set. Griddle will not page correctly without that property when using external data."))},verifyCustom:function(){this.props.useCustomGridComponent===!0&&null===this.props.customGridComponent&&console.error("useCustomGridComponent is set to true but no custom component was specified."),this.props.useCustomRowComponent===!0&&null===this.props.customRowComponent&&console.error("useCustomRowComponent is set to true but no custom component was specified."),this.props.useCustomGridComponent===!0&&this.props.useCustomRowComponent===!0&&console.error("Cannot currently use both customGridComponent and customRowComponent.")},getDataForRender:function(e,t,s){var n=this;""===this.state.sortColumn&&""===this.props.initialSort||(e=d.sortBy(e,function(e){return e[n.state.sortColumn||n.props.initialSort]}),this.state.sortAscending===!1&&e.reverse());var o=this.getCurrentPage();if(!this.props.useExternal&&s&&this.props.resultsPerPage*(o+1)<=this.props.resultsPerPage*this.state.maxPage&&o>=0)if(this.isInfiniteScrollEnabled())e=d.first(e,(o+1)*this.props.resultsPerPage);else{var r=d.rest(e,o*this.props.resultsPerPage);e=d.initial(r,r.length-this.props.resultsPerPage)}var a=[].concat(this.props.metadataColumns);a.indexOf(this.props.childrenColumnName)<0&&a.push(this.props.childrenColumnName);for(var l=[],i=0;i<e.length;i++){var p=d.pick(e[i],t.concat(a));"undefined"!=typeof p[n.props.childrenColumnName]&&p[n.props.childrenColumnName].length>0&&(p.children=n.getDataForRender(p[n.props.childrenColumnName],t,!1),"children"!==n.props.childrenColumnName&&delete p[n.props.childrenColumnName]),l.push(p)}return l},getCurrentResults:function(){return this.state.filteredResults||this.props.results},getCurrentPage:function(){return this.props.externalCurrentPage||this.state.page},getCurrentSort:function(){return this.props.useExternal?this.props.externalSortColumn:this.state.sortColumn},getCurrentSortAscending:function(){return this.props.useExternal?this.props.externalSortAscending:this.state.sortAscending},getCurrentMaxPage:function(){return this.props.useExternal?this.props.externalMaxPage:this.state.maxPage},isInfiniteScrollEnabled:function(){return!this.props.useCustomPagerComponent&&this.props.enableInfiniteScroll},getClearFixStyles:function(){return{clear:"both",display:"table",width:"100%"}},getSettingsStyles:function(){return{float:"left",width:"50%",textAlign:"right"}},getFilterStyles:function(){return{float:"left",width:"50%",textAlign:"left",color:"#222",minHeight:"1px"}},getFilter:function(){return this.props.showFilter&&this.props.useCustomGridComponent===!1?n.createElement(r,{changeFilter:this.setFilter,placeholderText:this.props.filterPlaceholderText}):""},getSettings:function(){return this.props.showSettings?n.createElement("button",{type:"button",className:this.props.settingsToggleClassName,onClick:this.toggleColumnChooser,style:this.props.useGriddleStyles?{background:"none",border:"none",padding:0,margin:0,fontSize:14}:null},this.props.settingsText,this.props.settingsIconComponent):""},getTopSection:function(e,t){if(this.props.showFilter===!1&&this.props.showSettings===!1)return"";var s=null,o=null,r=null;return this.props.useGriddleStyles&&(s=this.getFilterStyles(),o=this.getSettingsStyles(),r=this.getClearFixStyles()),n.createElement("div",{className:"top-section",style:r},n.createElement("div",{className:"griddle-filter",style:s},e),n.createElement("div",{className:"griddle-settings-toggle",style:o},t))},getPagingSection:function(e,t){return(this.props.showPager&&!this.isInfiniteScrollEnabled()&&!this.props.useCustomGridComponent)===!1?"":n.createElement("div",{className:"griddle-footer"},this.props.useCustomPagerComponent?n.createElement(u,{next:this.nextPage,previous:this.previousPage,currentPage:e,maxPage:t,setPage:this.setPage,nextText:this.props.nextText,previousText:this.props.previousText,customPagerComponent:this.props.customPagerComponent}):n.createElement(a,{useGriddleStyles:this.props.useGriddleStyles,next:this.nextPage,previous:this.previousPage,nextClassName:this.props.nextClassName,nextIconComponent:this.props.nextIconComponent,previousClassName:this.props.previousClassName,previousIconComponent:this.props.previousIconComponent,currentPage:e,maxPage:t,setPage:this.setPage,nextText:this.props.nextText,previousText:this.props.previousText}))},getColumnSelectorSection:function(e,t){return this.state.showColumnChooser?n.createElement(l,{columns:e,selectedColumns:t,setColumns:this.setColumns,settingsText:this.props.settingsText,settingsIconComponent:this.props.settingsIconComponent,maxRowsText:this.props.maxRowsText,setPageSize:this.setPageSize,showSetPageSize:!this.props.useCustomGridComponent,resultsPerPage:this.props.resultsPerPage,enableToggleCustom:this.props.enableToggleCustom,toggleCustomComponent:this.toggleCustomComponent,useCustomComponent:this.props.useCustomRowComponent||this.props.useCustomGridComponent,useGriddleStyles:this.props.useGriddleStyles,enableCustomFormatText:this.props.enableCustomFormatText,columnMetadata:this.props.columnMetadata}):""},getCustomGridSection:function(){return n.createElement(this.props.customGridComponent,{data:this.props.results,className:this.props.customGridComponentClassName})},getCustomRowSection:function(e,t,s,o){return n.createElement("div",null,n.createElement(p,{data:e,columns:t,metadataColumns:s,className:this.props.customRowComponentClassName,customComponent:this.props.customRowComponent,style:this.getClearFixStyles()}),this.props.showPager&&o)},getStandardGridSection:function(e,t,s,r,a){return n.createElement("div",{className:"griddle-body"},n.createElement(o,{useGriddleStyles:this.props.useGriddleStyles,isSubGriddle:this.props.isSubGriddle,useGriddleIcons:this.props.useGriddleIcons,useFixedLayout:this.props.useFixedLayout,columnMetadata:this.props.columnMetadata,showPager:this.props.showPager,pagingContent:r,data:e,columns:t,metadataColumns:s,className:this.props.tableClassName,enableInfiniteScroll:this.isInfiniteScrollEnabled(),enableSort:this.props.enableSort,nextPage:this.nextPage,changeSort:this.changeSort,sortColumn:this.getCurrentSort(),sortAscending:this.getCurrentSortAscending(),showTableHeading:this.props.showTableHeading,useFixedHeader:this.props.useFixedHeader,sortAscendingClassName:this.props.sortAscendingClassName,sortDescendingClassName:this.props.sortDescendingClassName,parentRowCollapsedClassName:this.props.parentRowCollapsedClassName,parentRowExpandedClassName:this.props.parentRowExpandedClassName,sortAscendingComponent:this.props.sortAscendingComponent,sortDescendingComponent:this.props.sortDescendingComponent,parentRowCollapsedComponent:this.props.parentRowCollapsedComponent,parentRowExpandedComponent:this.props.parentRowExpandedComponent,bodyHeight:this.props.bodyHeight,infiniteScrollSpacerHeight:this.props.infiniteScrollSpacerHeight,externalLoadingComponent:this.props.externalLoadingComponent,externalIsLoading:this.props.externalIsLoading,hasMorePages:a}))},getContentSection:function(e,t,s,n,o){return this.props.useCustomGridComponent&&null!==this.props.customGridComponent?this.getCustomGridSection():this.props.useCustomRowComponent?this.getCustomRowSection(e,t,s,n):this.getStandardGridSection(e,t,s,n,o)},getNoDataSection:function(e,t){var s=null;return s=null!=this.props.customNoDataComponent?n.createElement("div",{className:e},n.createElement(this.props.customNoDataComponent,null)):n.createElement("div",{className:e},t,n.createElement(i,{noDataMessage:this.props.noDataMessage}))},shouldShowNoDataSection:function(e){return"undefined"==typeof e||0===e.length&&this.props.useExternal===!1&&this.props.externalIsLoading===!1},render:function(){var e=this.getCurrentResults(),t=(this.props.tableClassName+" table-header",this.getFilter()),s=this.getSettings(),o=this.getTopSection(t,s),r=[],a=this.getColumns(),l=this.getDataForRender(e,a,!0),i=this.props.metadataColumns;i.indexOf(this.props.childrenColumnName)<0&&i.push(this.props.childrenColumnName),r=d.keys(d.omit(e[0],i));var p=this.getCurrentPage(),u=this.getCurrentMaxPage(),m=p+1<u,c=this.getPagingSection(p,u),h=this.getContentSection(l,a,i,c,m),g=this.getColumnSelectorSection(r,a),C=this.props.gridClassName.length>0?"griddle "+this.props.gridClassName:"griddle";return C+=this.props.useCustomRowComponent?" griddle-custom":"",this.shouldShowNoDataSection(e)?this.getNoDataSection(C,o):n.createElement("div",{className:C},o,g,n.createElement("div",{className:"griddle-container",style:this.props.useGriddleStyles&&!this.props.isSubGriddle?{border:"1px solid #DDD"}:null},h))}});e.exports=m},function(t,s,n){t.exports=e},function(e,s,n){e.exports=t},function(e,t,s){var n=s(2),o=s(8),r=s(12),a=s(3),l=n.createClass({displayName:"GridTable",getDefaultProps:function(){return{data:[],metadataColumns:[],className:"",enableInfiniteScroll:!1,nextPage:null,hasMorePages:!1,useFixedHeader:!1,useFixedLayout:!0,infiniteScrollSpacerHeight:null,bodyHeight:null,tableHeading:"",useGriddleStyles:!0,useGriddleIcons:!0,isSubGriddle:!1,sortAscendingClassName:"sort-ascending",sortDescendingClassName:"sort-descending",parentRowCollapsedClassName:"parent-row",parentRowExpandedClassName:"parent-row expanded",sortAscendingComponent:" ▲",sortDescendingComponent:" ▼",parentRowCollapsedComponent:"▶",parentRowExpandedComponent:"▼",externalLoadingComponent:null,externalIsLoading:!1,enableSort:!0}},componentDidMount:function(){this.gridScroll()},componentDidUpdate:function(e,t){this.gridScroll()},gridScroll:function(){if(this.props.enableInfiniteScroll&&!this.props.externalIsLoading){var e=this.refs.scrollable.getDOMNode(),t=e.scrollTop,s=e.scrollHeight,n=e.clientHeight,o=s-(t+n)-this.props.infiniteScrollSpacerHeight,r=.8*o;r<=this.props.infiniteScrollSpacerHeight&&this.props.nextPage()}},render:function(){var e=this,t=!1,s=null;this.props.externalIsLoading&&!this.props.enableInfiniteScroll||(s=this.props.data.map(function(s,o){var l="undefined"!=typeof s.children&&s.children.length>0;return l&&(t=l),n.createElement(r,{useGriddleStyles:e.props.useGriddleStyles,isSubGriddle:e.props.isSubGriddle,sortAscendingClassName:e.props.sortAscendingClassName,sortDescendingClassName:e.props.sortDescendingClassName,parentRowExpandedClassName:e.props.parentRowExpandedClassName,parentRowCollapsedClassName:e.props.parentRowCollapsedClassName,parentRowExpandedComponent:e.props.parentRowExpandedComponent,parentRowCollapsedComponent:e.props.parentRowCollapsedComponent,data:s,metadataColumns:e.props.metadataColumns,columnMetadata:e.props.columnMetadata,key:o,uniqueId:a.uniqueId("grid_row"),hasChildren:l,tableClassName:e.props.className})}));var l=null,i=null,p={width:"100%"};this.props.useFixedLayout&&(p.tableLayout="fixed");var u=null;if(this.props.enableInfiniteScroll&&(l={position:"relative",overflowY:"scroll",height:this.props.bodyHeight+"px",width:"100%"},this.props.infiniteScrollSpacerHeight&&this.props.hasMorePages)){var d={height:this.props.infiniteScrollSpacerHeight+"px"};u=n.createElement("tr",{style:d})}if(this.props.externalIsLoading){var m=null,c=null;this.props.useGriddleStyles&&(m={textAlign:"center",paddingBottom:"40px"},c=this.props.columns.length);var h=this.props.externalLoadingComponent?n.createElement(this.props.externalLoadingComponent,null):n.createElement("div",null,"Loading...");i=n.createElement("tbody",null,n.createElement("tr",null,n.createElement("td",{style:m,colSpan:c},h)))}var g=this.props.showTableHeading?n.createElement(o,{columns:this.props.columns,useGriddleStyles:this.props.useGriddleStyles,useGriddleIcons:this.props.useGriddleIcons,changeSort:this.props.changeSort,sortColumn:this.props.sortColumn,sortAscending:this.props.sortAscending,sortAscendingClassName:this.props.sortAscendingClassName,sortDescendingClassName:this.props.sortDescendingClassName,sortAscendingComponent:this.props.sortAscendingComponent,sortDescendingComponent:this.props.sortDescendingComponent,columnMetadata:this.props.columnMetadata,enableSort:this.props.enableSort}):"";t||(s=n.createElement("tbody",null,s,u));var C="";if(this.props.showPager){var x=this.props.useGriddleStyles?{padding:"0",backgroundColor:"#EDEDED",border:"0",color:"#222"}:null;C=n.createElement("tbody",null,n.createElement("tr",null,n.createElement("td",{colSpan:this.props.columns.length,style:x,className:"footer-container"},this.props.pagingContent)))}return this.props.useFixedHeader?(this.props.useGriddleStyles&&(p.tableLayout="fixed"),n.createElement("div",null,n.createElement("table",{className:this.props.className,style:this.props.useGriddleStyles&&p||null},g),n.createElement("div",{ref:"scrollable",onScroll:this.gridScroll,style:l},n.createElement("table",{className:this.props.className,style:this.props.useGriddleStyles&&p||null},s,i,C)))):n.createElement("div",{ref:"scrollable",onScroll:this.gridScroll,style:l},n.createElement("table",{className:this.props.className,style:this.props.useGriddleStyles&&p||null},g,s,i,C))}});e.exports=l},function(e,t,s){var n=s(2),o=n.createClass({displayName:"GridFilter",getDefaultProps:function(){return{placeholderText:""}},handleChange:function(e){this.props.changeFilter(e.target.value)},render:function(){return n.createElement("div",{className:"row filter-container"},n.createElement("input",{type:"text",name:"filter",placeholder:this.props.placeholderText,className:"form-control",onChange:this.handleChange}))}});e.exports=o},function(e,t,s){var n=s(2),o=s(3),r=n.createClass({displayName:"GridPagination",getDefaultProps:function(){return{maxPage:0,nextText:"",previousText:"",currentPage:0,useGriddleStyles:!0,nextClassName:"griddle-next",previousClassName:"griddle-previous",nextIconComponent:null,previousIconComponent:null}},pageChange:function(e){this.props.setPage(parseInt(e.target.value,10)-1)},render:function(){var e="",t="";this.props.currentPage>0&&(e=n.createElement("button",{type:"button",onClick:this.props.previous,style:this.props.useGriddleStyles?{color:"#222",border:"none",background:"none",margin:"0 0 0 10px"}:null},this.props.previousIconComponent,this.props.previousText)),this.props.currentPage!==this.props.maxPage-1&&(t=n.createElement("button",{type:"button",onClick:this.props.next,style:this.props.useGriddleStyles?{color:"#222",border:"none",background:"none",margin:"0 10px 0 0"}:null},this.props.nextText,this.props.nextIconComponent));var s=null,r=null,a=null;if(this.props.useGriddleStyles===!0){var l={float:"left",minHeight:"1px",marginTop:"5px"};a=o.extend({textAlign:"right",width:"34%"},l),r=o.extend({textAlign:"center",width:"33%"},l),s=o.extend({width:"33%"},l)}for(var i=[],p=1;p<=this.props.maxPage;p++)i.push(n.createElement("option",{value:p,key:p},p));return n.createElement("div",{style:this.props.useGriddleStyles?{minHeight:"35px"}:null},n.createElement("div",{className:this.props.previousClassName,style:s},e),n.createElement("div",{className:"griddle-page",style:r},n.createElement("select",{value:this.props.currentPage+1,onChange:this.pageChange},i)," / ",this.props.maxPage),n.createElement("div",{className:this.props.nextClassName,style:a},t))}});e.exports=r},function(e,t,s){var n=s(2),o=s(3),r=n.createClass({displayName:"GridSettings",getDefaultProps:function(){return{columns:[],columnMetadata:[],selectedColumns:[],settingsText:"",maxRowsText:"",resultsPerPage:0,enableToggleCustom:!1,useCustomComponent:!1,useGriddleStyles:!0,toggleCustomComponent:function(){}}},setPageSize:function(e){var t=parseInt(e.target.value,10);this.props.setPageSize(t)},handleChange:function(e){e.target.checked===!0&&o.contains(this.props.selectedColumns,e.target.dataset.name)===!1?(this.props.selectedColumns.push(e.target.dataset.name),this.props.setColumns(this.props.selectedColumns)):this.props.setColumns(o.without(this.props.selectedColumns,e.target.dataset.name))},render:function(){var e=this,t=[];e.props.useCustomComponent===!1&&(t=this.props.columns.map(function(t,s){var r=o.contains(e.props.selectedColumns,t),a=o.findWhere(e.props.columnMetadata,{columnName:t}),l=t;return"undefined"!=typeof a&&"undefined"!=typeof a.displayName&&null!=a.displayName&&(l=a.displayName),"undefined"!=typeof a&&null!=a&&a.locked?n.createElement("div",{className:"column checkbox"},n.createElement("label",null,n.createElement("input",{type:"checkbox",disabled:!0,name:"check",checked:r,"data-name":t}),l)):"undefined"!=typeof a&&null!=a&&"undefined"!=typeof a.visible&&a.visible===!1?null:n.createElement("div",{className:"griddle-column-selection checkbox",style:e.props.useGriddleStyles?{float:"left",width:"20%"}:null},n.createElement("label",null,n.createElement("input",{type:"checkbox",name:"check",onChange:e.handleChange,checked:r,"data-name":t}),l))}));var s=e.props.enableToggleCustom?n.createElement("div",{className:"form-group"},n.createElement("label",{htmlFor:"maxRows"},n.createElement("input",{type:"checkbox",checked:this.props.useCustomComponent,onChange:this.props.toggleCustomComponent})," ",this.props.enableCustomFormatText)):"",r=this.props.showSetPageSize?n.createElement("div",null,n.createElement("label",{htmlFor:"maxRows"},this.props.maxRowsText,":",n.createElement("select",{onChange:this.setPageSize,value:this.props.resultsPerPage},n.createElement("option",{value:"5"},"5"),n.createElement("option",{value:"10"},"10"),n.createElement("option",{value:"25"},"25"),n.createElement("option",{value:"50"},"50"),n.createElement("option",{value:"100"},"100")))):"";return n.createElement("div",{className:"griddle-settings",style:this.props.useGriddleStyles?{backgroundColor:"#FFF",border:"1px solid #DDD",color:"#222",padding:"10px",marginBottom:"10px"}:null},n.createElement("h6",null,this.props.settingsText),n.createElement("div",{className:"griddle-columns",style:this.props.useGriddleStyles?{clear:"both",display:"table",width:"100%",borderBottom:"1px solid #EDEDED",marginBottom:"10px"}:null},t),r,s)}});e.exports=r},function(e,t,s){var n=s(2),o=s(3),r=n.createClass({displayName:"GridTitle",getDefaultProps:function(){return{columns:[],sortColumn:"",sortAscending:!0,headerStyle:null,useGriddleStyles:!0,usGriddleIcons:!0,sortAscendingClassName:"sort-ascending",sortDescendingClassName:"sort-descending",sortAscendingComponent:" ▲",sortDescendingComponent:" ▼",enableSort:!0,changeSort:null}},sort:function(e){this.props.changeSort(e.target.dataset.title||e.target.parentElement.dataset.title)},getMetadata:function(e,t){return null!==t?o.findWhere(t,{columnName:e}):null},isSortable:function(e,t){var s="undefined"!=typeof t&&null!==t;return s&&t.hasOwnProperty("sortable")&&null!==t.sortable?e&&t.sortable:e},render:function(){var e=this,t=this.props.columns.map(function(t,s){var o="",r=null,a=null;e.props.sortColumn==t&&e.props.sortAscending?(o=e.props.sortAscendingClassName,r=e.props.useGriddleIcons&&e.props.sortAscendingComponent):e.props.sortColumn==t&&e.props.sortAscending===!1&&(o+=e.props.sortDescendingClassName,r=e.props.useGriddleIcons&&e.props.sortDescendingComponent);var l=t,i=e.getMetadata(t,e.props.columnMetadata),p=e.isSortable(e.props.enableSort,i);return o=null==i?o:(o&&o+" "||o)+i.cssClassName,"undefined"!=typeof i&&"undefined"!=typeof i.displayName&&null!=i.displayName&&(l=i.displayName),e.props.useGriddleStyles&&(a={backgroundColor:"#EDEDEF",border:"0",borderBottom:"1px solid #DDD",color:"#222",padding:"5px",cursor:p?"pointer":"default"}),n.createElement("th",{onClick:p?e.sort:null,"data-title":t,className:o,key:l,style:a},l,r)});return n.createElement("thead",null,n.createElement("tr",{style:this.titleStyles},t))}});e.exports=r},function(e,t,s){var n=s(2),o=n.createClass({displayName:"GridNoData",getDefaultProps:function(){return{noDataMessage:"No Data"}},render:function(){return n.createElement("div",null,this.props.noDataMessage)}});e.exports=o},function(e,t,s){var n=s(2),o=n.createClass({displayName:"CustomRowComponentContainer",getDefaultProps:function(){return{data:[],metadataColumns:[],className:"",customComponent:{}}},render:function(){var e=this;if("function"!=typeof e.props.customComponent)return console.log("Couldn't find valid template."),n.createElement("div",{className:this.props.className});var t=this.props.data.map(function(t,s){return n.createElement(e.props.customComponent,{data:t,metadataColumns:e.props.metadataColumns,key:s})});this.props.showPager&&this.props.pagingContent;return n.createElement("div",{className:this.props.className,style:this.props.style},t)}});e.exports=o},function(e,t,s){var n=s(2),o=n.createClass({displayName:"CustomPaginationContainer",getDefaultProps:function(){return{maxPage:0,nextText:"",previousText:"",currentPage:0,customPagerComponent:{}}},render:function(){var e=this;return"function"!=typeof e.props.customPagerComponent?(console.log("Couldn't find valid template."),n.createElement("div",null)):n.createElement(e.props.customPagerComponent,{maxPage:this.props.maxPage,nextText:this.props.nextText,previousText:this.props.previousText,currentPage:this.props.currentPage,setPage:this.props.setPage,previous:this.props.previous,next:this.props.next})}});e.exports=o},function(e,t,s){var n=s(2),o=s(13),r=n.createClass({displayName:"GridRowContainer",getDefaultProps:function(){return{useGriddleStyles:!0,useGriddleIcons:!0,isSubGriddle:!1,parentRowCollapsedClassName:"parent-row",parentRowExpandedClassName:"parent-row expanded",parentRowCollapsedComponent:"▶",parentRowExpandedComponent:"▼"}},getInitialState:function(){return{data:{},metadataColumns:[],showChildren:!1}},componentWillReceiveProps:function(){this.setShowChildren(!1)},toggleChildren:function(){this.setShowChildren(this.state.showChildren===!1)},setShowChildren:function(e){this.setState({showChildren:e})},render:function(){var e=this;if("undefined"==typeof this.props.data)return n.createElement("tbody",null);var t=[];t.push(n.createElement(o,{useGriddleStyles:this.props.useGriddleStyles,isSubGriddle:this.props.isSubGriddle,data:this.props.data,columnMetadata:this.props.columnMetadata,metadataColumns:e.props.metadataColumns,hasChildren:e.props.hasChildren,toggleChildren:e.toggleChildren,showChildren:e.state.showChildren,key:e.props.uniqueId,useGriddleIcons:e.props.useGriddleIcons,parentRowExpandedClassName:this.props.parentRowExpandedClassName,parentRowCollapsedClassName:this.props.parentRowCollapsedClassName,parentRowExpandedComponent:this.props.parentRowExpandedComponent,parentRowCollapsedComponent:this.props.parentRowCollapsedComponent}));var s=null;return e.state.showChildren&&(s=e.props.hasChildren&&this.props.data.children.map(function(t,s){return"undefined"!=typeof t.children?n.createElement("tr",{style:{paddingLeft:5}},n.createElement("td",{colSpan:Object.keys(e.props.data).length-e.props.metadataColumns.length,className:"griddle-parent",style:e.props.useGriddleStyles&&{border:"none",padding:"0 0 0 5px"}},n.createElement(Griddle,{isSubGriddle:!0,results:[t],tableClassName:e.props.tableClassName,parentRowExpandedClassName:e.props.parentRowExpandedClassName,parentRowCollapsedClassName:e.props.parentRowCollapsedClassName,showTableHeading:!1,showPager:!1,columnMetadata:e.props.columnMetadata,parentRowExpandedComponent:e.props.parentRowExpandedComponent,parentRowCollapsedComponent:e.props.parentRowCollapsedComponent}))):n.createElement(o,{useGriddleStyles:e.props.useGriddleStyles,isSubGriddle:e.props.isSubGriddle,data:t,metadataColumns:e.props.metadataColumns,isChildRow:!0,columnMetadata:e.props.columnMetadata,key:_.uniqueId("grid_row")})})),e.props.hasChildren===!1?t[0]:n.createElement("tbody",null,e.state.showChildren?t.concat(s):t)}});e.exports=r},function(e,t,s){var n=s(2),o=s(3),r=n.createClass({displayName:"GridRow",getDefaultProps:function(){return{isChildRow:!1,showChildren:!1,data:{},metadataColumns:[],hasChildren:!1,columnMetadata:null,useGriddleStyles:!0,useGriddleIcons:!0,isSubGriddle:!1,parentRowCollapsedClassName:"parent-row",parentRowExpandedClassName:"parent-row expanded",parentRowCollapsedComponent:"▶",parentRowExpandedComponent:"▼"}},handleClick:function(){this.props.toggleChildren()},render:function(){var e=this,t=this.props.useGriddleStyles?{padding:"5px",backgroundColor:"#FFF",borderTopColor:"#DDD",color:"#222"}:null,s=o.pairs(o.omit(this.props.data,this.props.metadataColumns)).map(function(s,r){var a=null,l=o.findWhere(e.props.columnMetadata,{columnName:s[0]});if(firstColAppend=0===r&&e.props.hasChildren&&e.props.showChildren===!1&&e.props.useGriddleIcons?n.createElement("span",{style:e.props.useGriddleStyles&&{fontSize:"10px",marginRight:"5px"}},e.props.parentRowCollapsedComponent):0===r&&e.props.hasChildren&&e.props.showChildren&&e.props.useGriddleIcons?n.createElement("span",{style:e.props.useGriddleStyles&&{fontSize:"10px"}},e.props.parentRowExpandedComponent):"",0===r&&e.props.isChildRow&&e.props.useGriddleStyles&&(t=o.extend(t,{paddingLeft:10})),null!==e.props.columnMetadata&&e.props.columnMetadata.length>0&&"undefined"!=typeof l){var i="undefined"==typeof l||"undefined"==typeof l.customComponent||null===l.customComponent?s[1]:n.createElement(l.customComponent,{data:s[1],rowData:e.props.data});a=null==l?a:n.createElement("td",{onClick:e.props.hasChildren&&e.handleClick,className:l.cssClassName,key:r,style:t},i)}return a||n.createElement("td",{onClick:e.props.hasChildren&&e.handleClick,key:r,style:t},firstColAppend,s[1])}),r="standard-row";return e.props.isChildRow?r="child-row":e.props.hasChildren&&(r=e.props.showChildren?this.props.parentRowExpandedClassName:this.props.parentRowCollapsedClassName),n.createElement("tr",{className:r},s)}});e.exports=r}])});
//# sourceMappingURL=griddle.min.js.map