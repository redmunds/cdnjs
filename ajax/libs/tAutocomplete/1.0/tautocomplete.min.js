function isDivHeightVisible(d){var t=$(window).scrollTop(),e=t+$(window).height(),i=$(d).offset().top,a=i+$(d).height();return a>=t&&e>=i&&e>=a&&i>=t}function isDivWidthVisible(d){var t=$(window).scrollLeft(),e=t+$(window).width(),i=$(d).offset().left,a=i+$(d).width();return a>=t&&e>=i&&e>=a&&i>=t}!function(d){"use strict";d.fn.tautocomplete=function(t,e){function i(){var t=s.ddTable.find("tbody").find(".selected");s.ddTextbox.data("id",t.find("td").eq(0).text()),s.ddTextbox.data("text",t.find("td").eq(1).text()),s.ddTextbox.val(t.find("td").eq(1).text()),p.val(t.find("td").eq(0).text()+"#$#"+t.find("td").eq(1).text()),a(),d.isFunction(n.callback)&&n.callback.call(this),s.ddTextbox.focus()}function a(){s.ddTable.hide(),s.ddTextbox.removeClass("inputfocus"),s.ddDiv.removeClass("highlight"),s.ddTableCaption.hide()}function o(){s.ddDiv.css("top","0px"),s.ddDiv.css("left","0px"),s.ddTable.css("margin","35px 1px 0px 1px"),s.ddTextbox.addClass("inputfocus"),s.ddDiv.addClass("highlight"),s.ddTable.show(),isDivHeightVisible(s.ddDiv)||(s.ddDiv.css("top",-1*s.ddTable.height()+"px"),s.ddTable.css("margin","1px 1px 35px 1px"),isDivHeightVisible(s.ddDiv)||(s.ddDiv.css("top","0px"),s.ddTable.css("margin","35px 1px 0px 1px"),d("html, body").animate({scrollTop:s.ddDiv.offset().top-60},250))),isDivWidthVisible(s.ddDiv)||s.ddDiv.css("left","-"+(s.ddTable.width()-s.ddTextbox.width()-20)+"px")}function l(d){s.ddTextbox.removeClass("loading"),s.ddTable.find("tbody").find("tr").remove();var t=0,e=0,i=null,a=null;if(null!=d)for(t=0;t<d.length;t++)if(!(t>=15)){var l=d[t];i="",e=0;for(var n in l)b>=e?(a=l[n],i=i+"<td>"+a+"</td>",e++):alert("TEST");s.ddTable.append("<tr>"+i+"</tr>")}0==t&&s.ddTableCaption.show(),s.ddTable.find("td:nth-child(1)").hide(),s.ddTable.find("tbody").find("tr:first").addClass("selected"),o()}var n=d.extend({width:"500px",columns:[],callback:null,norecord:"No Records Found",dataproperty:null,regex:"^[a-zA-Z0-9\b]+$",data:null},t),s={ddDiv:d("<div>",{"class":"adropdown"}),ddTable:d("<table></table>",{style:"width:"+n.width}),ddTableCaption:d("<caption>"+n.norecord+"</caption>"),ddTextbox:d("<input type='text' class='adropdown-input'>")},r={UP:38,DOWN:40,ENTER:13,TAB:9},x={id:function(){return s.ddTextbox.data("id")},text:function(){return s.ddTextbox.data("text")},searchdata:function(){return s.ddTextbox.val()},isNull:function(){return""==s.ddTextbox.data("id")}},c=function(){var d=0;return function(t,e){clearTimeout(d),d=setTimeout(t,e)}}(),f=!1;this.is(":focus")&&(f=!0);var b=n.columns.length,p=this;if(this.wrap("<div style='position: relative; display:inline-block; border:0px solid blue;'></div>"),this.after(s.ddTextbox),s.ddTextbox.attr("autocomplete","off"),s.ddTextbox.css("width",this.width+"px"),null!=n.dataproperty)for(var u in n.dataproperty)s.ddTextbox.attr("data-"+u,n.dataproperty[u]);this.after(s.ddDiv),this.hide(),s.ddDiv.append(s.ddTable),s.ddTable.append(s.ddTableCaption);for(var h="<thead><tr>",v=0;b-1>=v;v++)h=h+"<th>"+n.columns[v]+"</th>";h+="</thead></tr>",s.ddTable.append(h);var T="",C="";if(""!=this.val()){var w=this.val().split("#$#");T=w[0],C=w[1]}return s.ddTextbox.attr("data-id",T),s.ddTextbox.attr("data-text",C),s.ddTextbox.val(C),f&&s.ddTextbox.focus(),s.ddTextbox.keyup(function(t){return(t.keyCode<46||t.keyCode>90)&&8!=t.keyCode?void t.preventDefault():void c(function(){if(""==s.ddTextbox.val())return void a();if(s.ddTableCaption.hide(),s.ddTextbox.addClass("loading"),d.isFunction(n.data)){var t=n.data.call(this);l(t)}},1e3)}),s.ddTextbox.keypress(function(d){var t=new RegExp(n.regex),e=String.fromCharCode(d.charCode?d.charCode:d.which);return t.test(e)?void 0:(d.preventDefault(),!1)}),s.ddTextbox.keydown(function(d){var t=s.ddTable.find("tbody"),e=t.find(".selected");d.keyCode==r.ENTER&&(d.preventDefault(),i()),d.keyCode==r.UP&&(s.ddTable.find(".selected").removeClass("selected"),0==e.prev().length?t.find("tr:last").addClass("selected"):e.prev().addClass("selected")),d.keyCode==r.DOWN&&(t.find(".selected").removeClass("selected"),0==e.next().length?t.find("tr:first").addClass("selected"):(s.ddTable.find(".selected").removeClass("selected"),e.next().addClass("selected")))}),s.ddTable.delegate("tr","mousedown",function(){s.ddTable.find(".selected").removeClass("selected"),d(this).addClass("selected"),i()}),s.ddTextbox.focusout(function(){a(),d(this).val()!=d(this).data("text")&&(d(this).data("text",""),d(this).data("id",""),d(this).val(""),p.val(""))}),x}}(jQuery);
//# sourceMappingURL=tautocomplete.min.js.map