!function(){"use strict";angular.module("mdDataTable",["mdtTemplates","ngMaterial","ngMdIcons"])}(),function(){"use strict";function t(){return{restrict:"E",templateUrl:"/main/templates/mdtAlternateHeaders.html",transclude:!0,replace:!0,scope:!0,require:["^mdtTable"],link:function(t){function e(){var e=t.tableDataStorageService.deleteSelectedRows();t.deleteRowCallback({rows:e})}t.deleteSelectedRows=e}}}angular.module("mdDataTable").directive("mdtAlternateHeaders",t)}(),function(){"use strict";function t(t,e){return{restrict:"E",templateUrl:"/main/templates/mdtTable.html",transclude:!0,scope:{tableCard:"=",selectableRows:"=",alternateHeaders:"=",sortableColumns:"=",deleteRowCallback:"&",animateSortIcon:"=",rippleEffect:"=",paginatedRows:"=",mdtRow:"="},controller:["$scope",function(n){function a(){n.tableDataStorageService=t.getInstance(),n.mdtPaginationHelper=e.getInstance(n.tableDataStorageService,n.paginatedRows),o.addRowData=_.bind(n.tableDataStorageService.addRowData,n.tableDataStorageService)}function r(t){n.tableDataStorageService.addHeaderCellData(t)}var o=this;o.addHeaderCell=r,a()}],link:function(t,e,n,a,r){function o(){return!!(t.paginatedRows===!0||t.paginatedRows&&t.paginatedRows.hasOwnProperty("isEnabled")&&t.paginatedRows.isEnabled===!0)}function i(){r(function(t){var n=[],a=[];_.each(t,function(t){var e=angular.element(t);e.hasClass("theadTrRow")?n.push(e):a.push(e)}),e.find("#reader").append(n).append(a)})}i(),t.isAnyRowSelected=_.bind(t.tableDataStorageService.isAnyRowSelected,t.tableDataStorageService),t.isPaginationEnabled=o,t.$watch("mdtRow",function(e){if("object"==typeof e){t.tableDataStorageService.storage=[];var n,a=[];_.each(e.data,function(r){n=r[e["table-row-id-key"]],a=[],_.each(e["column-keys"],function(t){a.push(r[t])}),t.tableDataStorageService.addRowData(n,a)})}},!0)}}}t.$inject=["TableDataStorageFactory","mdtPaginationHelperFactory"],angular.module("mdDataTable").directive("mdtTable",t)}(),function(){"use strict";function t(t){function e(){this.storage=[],this.header=[],this.sortByColumnLastIndex=null,this.orderByAscending=!0}return e.prototype.addHeaderCellData=function(t){this.header.push(t)},e.prototype.addRowData=function(e,n){return n instanceof Array?void this.storage.push({rowId:e,optionList:{selected:!1,deleted:!1,visible:!0},data:n}):void t.error("`rowArray` parameter should be array")},e.prototype.getRowData=function(e){return this.storage[e]?this.storage[e].data:void t.error("row is not exists at index: "+e)},e.prototype.getRowOptions=function(e){return this.storage[e]?this.storage[e].optionList:void t.error("row is not exists at index: "+e)},e.prototype.setAllRowsSelected=function(e,n){return"undefined"==typeof e?void t.error("`isSelected` parameter is required"):void _.each(this.storage,function(t){n?t.optionList.visible&&(t.optionList.selected=!!e):t.optionList.selected=!!e})},e.prototype.reverseRows=function(){this.storage.reverse()},e.prototype.sortByColumn=function(t,e){return this.sortByColumnLastIndex===t?(this.reverseRows(),this.orderByAscending=!this.orderByAscending):(this.sortByColumnIndex(t,e),this.sortByColumnLastIndex=t,this.orderByAscending=!0),this.orderByAscending?-1:1},e.prototype.sortByColumnIndex=function(t,e){var n;n="function"==typeof e?function(n){return e(n.data[t],n,t)}:function(e){return e.data[t]};var a=_.sortBy(this.storage,n);this.storage=a},e.prototype.isAnyRowSelected=function(){return _.some(this.storage,function(t){return t.optionList.selected===!0&&t.optionList.deleted===!1})},e.prototype.getNumberOfSelectedRows=function(){var t=_.countBy(this.storage,function(t){return t.optionList.selected===!0&&t.optionList.deleted===!1?"selected":"unselected"});return t.selected?t.selected:0},e.prototype.deleteSelectedRows=function(){var t=[];return _.each(this.storage,function(e){e.optionList.selected&&e.optionList.deleted===!1&&(e.rowId?t.push(e.rowId):t.push(e.data),e.optionList.deleted=!0)}),t},{getInstance:function(){return new e}}}t.$inject=["$log"],angular.module("mdDataTable").factory("TableDataStorageFactory",t)}(),function(){"use strict";function t(){function t(t,e){this.tableDataStorageService=t,e&&e.hasOwnProperty("rowsPerPageValues")&&e.rowsPerPageValues.length>0?this.rowsPerPageValues=e.rowsPerPageValues:this.rowsPerPageValues=[10,20,30,50,100],this.rowsPerPage=this.rowsPerPageValues[0],this.page=1}return t.prototype.getRows=function(){var t=this;return _.each(this.tableDataStorageService.storage,function(e,n){n>=t.getStartRowIndex()&&n<=t.getEndRowIndex()?e.optionList.visible=!0:e.optionList.visible=!1}),this.tableDataStorageService.storage},t.prototype.getStartRowIndex=function(){return(this.page-1)*this.rowsPerPage},t.prototype.getEndRowIndex=function(){return this.getStartRowIndex()+this.rowsPerPage-1},t.prototype.getTotalRowsCount=function(){return this.tableDataStorageService.storage.length},t.prototype.previousPage=function(){this.page>1&&this.page--},t.prototype.nextPage=function(){var t=Math.ceil(this.getTotalRowsCount()/this.rowsPerPage);this.page<t&&this.page++},{getInstance:function(e,n){return new t(e,n)}}}angular.module("mdDataTable").service("mdtPaginationHelperFactory",t)}(),function(){"use strict";function t(t){function e(e){return e===t.ALIGN_RULE.ALIGN_RIGHT?"rightAlignedColumn":"leftAlignedColumn"}var n=this;n.getColumnAlignClass=e}t.$inject=["ColumnOptionProvider"],angular.module("mdDataTable").service("ColumnAlignmentHelper",t)}(),function(){"use strict";var t={ALIGN_RULE:{ALIGN_LEFT:"left",ALIGN_RIGHT:"right"}};angular.module("mdDataTable").value("ColumnOptionProvider",t)}(),function(){"use strict";function t(){return{restrict:"E",transclude:!0,replace:!0,scope:{alignRule:"@",sortBy:"=",columnDefinition:"@"},require:["^mdtTable"],link:function(t,e,n,a,r){var o=a[0];r(function(e){o.addHeaderCell({alignRule:t.alignRule,sortBy:t.sortBy,columnDefinition:t.columnDefinition,columnName:e.html()})})}}}angular.module("mdDataTable").directive("mdtColumn",t)}(),function(){"use strict";function t(){return{restrict:"E",templateUrl:"/main/templates/mdtGeneratedHeaderCellContent.html",replace:!0,scope:!1,link:function(){}}}angular.module("mdDataTable").directive("mdtGeneratedHeaderCellContent",t)}(),function(){"use strict";function t(){return{restrict:"E",replace:!0,transclude:!0,require:"^mdtTable",scope:!0,link:function(t,e,n,a,r){function o(){r(function(t){e.append(t)})}o()}}}angular.module("mdDataTable").directive("mdtHeaderRow",t)}(),function(){"use strict";function t(t){return{restrict:"E",replace:!0,transclude:!0,require:["^mdtTable","^mdtRow"],link:function(e,n,a,r,o){var i=r[1];o(function(n){if(a.htmlContent)i.addToRowDataStorage(n,"htmlContent");else{var r=t(n.html().replace("{{","").replace("}}",""))(e.$parent);i.addToRowDataStorage(r)}})}}}t.$inject=["$parse"],angular.module("mdDataTable").directive("mdtCell",t)}(),function(){"use strict";function t(){return{restrict:"E",transclude:!0,require:"^mdtTable",scope:{tableRowId:"="},controller:["$scope",function(t){function e(e,n){"htmlContent"===n?t.rowDataStorage.push({value:e,type:"html"}):t.rowDataStorage.push(e)}var n=this;n.addToRowDataStorage=e,t.rowDataStorage=[]}],link:function(t,e,n,a,r){function o(){r(function(t){e.append(t)})}o(),a.addRowData(t.tableRowId,t.rowDataStorage)}}}angular.module("mdDataTable").directive("mdtRow",t)}(),function(){"use strict";function t(t){return{restrict:"A",scope:{mdtAddAlignClass:"="},link:function(e,n){var a=t.getColumnAlignClass(e.mdtAddAlignClass);n.addClass(a)}}}t.$inject=["ColumnAlignmentHelper"],angular.module("mdDataTable").directive("mdtAddAlignClass",t)}(),function(){"use strict";function t(){return{restrict:"A",link:function(t,e,n){t.$watch("htmlContent",function(){e.empty(),e.append(t.$eval(n.mdtAddHtmlContentToCell))})}}}angular.module("mdDataTable").directive("mdtAddHtmlContentToCell",t)}(),function(){"use strict";function t(){return{restrict:"A",scope:!1,link:function(t,e){t.animateSortIcon&&e.addClass("animate-sort-icon")}}}angular.module("mdDataTable").directive("mdtAnimateSortIconHandler",t)}(),function(){"use strict";function t(){return{restrict:"A",scope:!1,link:function(t){t.selectAllRows=!1,t.$watch("selectAllRows",function(e){t.tableDataStorageService.setAllRowsSelected(e,t.isPaginationEnabled())})}}}angular.module("mdDataTable").directive("mdtSelectAllRowsHandler",t)}(),function(){"use strict";function t(){return{restrict:"A",scope:!1,link:function(t,e){function n(){t.sortableColumns&&t.$apply(function(){t.direction=t.tableDataStorageService.sortByColumn(r,t.headerRowData.sortBy)})}function a(){return t.tableDataStorageService.sortByColumnLastIndex===r}var r=t.$index;t.isSorted=a,t.direction=1,e.on("click",n),t.$on("$destroy",function(){e.off("click",n)})}}}angular.module("mdDataTable").directive("mdtSortHandler",t)}(),function(){"use strict";function t(){return{restrict:"E",templateUrl:"/main/templates/mdtCardFooter.html",transclude:!0,replace:!0,scope:!0,require:["^mdtTable"],link:function(t){}}}angular.module("mdDataTable").directive("mdtCardFooter",t)}(),function(){"use strict";function t(){return{restrict:"E",templateUrl:"/main/templates/mdtCardHeader.html",transclude:!0,replace:!0,scope:!0,require:["^mdtTable"]}}angular.module("mdDataTable").directive("mdtCardHeader",t)}();
//# sourceMappingURL=md-data-table.min.js.map