!function(){"use strict";angular.module("mdDataTable",["templates","ngMaterial","ngMdIcons"])}(),function(){"use strict";function e(){function e(){this.indexValue=0}return e.prototype.increaseIndex=function(){this.indexValue++},e.prototype.getIndex=function(){return this.indexValue},{getInstance:function(){return new e}}}angular.module("mdDataTable").service("IndexTrackerFactory",e)}(),function(){"use strict";function e(e){function t(){this.storage=[],this.header=[],this.sortByColumnLastIndex=null,this.orderByAscending=!0}return t.prototype.addHeaderCellData=function(e){this.header.push(e)},t.prototype.addRowData=function(t,a){return void 0===a?void e.error("`rowArray` parameter is required"):a instanceof Array?void this.storage.push({rowId:t,optionList:{selected:!1,deleted:!1,visible:!0},data:a}):void e.error("`rowArray` parameter should be array")},t.prototype.getRowData=function(t){return this.storage[t]?this.storage[t].data:void e.error("row is not exists at index: "+t)},t.prototype.getRowOptions=function(t){return this.storage[t]?this.storage[t].optionList:void e.error("row is not exists at index: "+t)},t.prototype.setAllRowsSelected=function(t,a){return void 0===t?void e.error("`isSelected` parameter is required"):void _.each(this.storage,function(e){a?e.optionList.visible&&(e.optionList.selected=!!t):e.optionList.selected=!!t})},t.prototype.reverseRows=function(){this.storage.reverse()},t.prototype.sortByColumn=function(e,t){return this.sortByColumnLastIndex===e?(this.reverseRows(),this.orderByAscending=!this.orderByAscending):(this.sortByColumnIndex(e,t),this.sortByColumnLastIndex=e,this.orderByAscending=!0),this.orderByAscending?-1:1},t.prototype.sortByColumnIndex=function(e,t){var a;a="function"==typeof t?function(a){return t(a.data[e],a,e)}:function(t){return t.data[e]};var n=_.sortBy(this.storage,a);this.storage=n},t.prototype.isAnyRowSelected=function(){return _.some(this.storage,function(e){return e.optionList.selected===!0&&e.optionList.deleted===!1})},t.prototype.getNumberOfSelectedRows=function(){var e=_.countBy(this.storage,function(e){return e.optionList.selected===!0&&e.optionList.deleted===!1?"selected":"unselected"});return e.selected?e.selected:0},t.prototype.deleteSelectedRows=function(){var e=[];return _.each(this.storage,function(t){t.optionList.selected&&t.optionList.deleted===!1&&(t.rowId?e.push(t.rowId):e.push(t.data),t.optionList.deleted=!0)}),e},{getInstance:function(){return new t}}}e.$inject=["$log"],angular.module("mdDataTable").factory("TableDataStorageFactory",e)}(),function(){"use strict";function e(){function e(e,t){this.tableDataStorageService=e,t.hasOwnProperty("rowsPerPageValues")&&t.rowsPerPageValues.length>0?this.rowsPerPageValues=t.rowsPerPageValues:this.rowsPerPageValues=[10,20,30,50,100],this.rowsPerPage=this.rowsPerPageValues[0],this.page=1}return e.prototype.getRows=function(){var e=this;return _.each(this.tableDataStorageService.storage,function(t,a){a>=e.getStartRowIndex()&&a<=e.getEndRowIndex()?t.optionList.visible=!0:t.optionList.visible=!1}),this.tableDataStorageService.storage},e.prototype.getStartRowIndex=function(){return(this.page-1)*this.rowsPerPage},e.prototype.getEndRowIndex=function(){return this.getStartRowIndex()+this.rowsPerPage-1},e.prototype.getTotalRowsCount=function(){return this.tableDataStorageService.storage.length},e.prototype.previousPage=function(){this.page>1&&this.page--},e.prototype.nextPage=function(){var e=Math.ceil(this.getTotalRowsCount()/this.rowsPerPage);this.page<e&&this.page++},{getInstance:function(t,a){return new e(t,a)}}}angular.module("mdDataTable").service("mdtPaginationHelperFactory",e)}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"/main/templates/mdDataTableAlternateHeaders.html",transclude:!0,replace:!0,scope:!0,require:["^mdDataTable"],link:function(e){function t(){var t=e.tableDataStorageService.deleteSelectedRows();e.deleteRowCallback({rows:t})}e.deleteSelectedRows=t}}}angular.module("mdDataTable").directive("mdDataTableAlternateHeaders",e)}(),function(){"use strict";function e(e,t,a){return{restrict:"E",templateUrl:"/main/templates/mdDataTable.html",transclude:!0,scope:{tableCard:"=",selectableRows:"=",alternateHeaders:"=",sortableColumns:"=",deleteRowCallback:"&",animateSortIcon:"=",rippleEffect:"=",paginatedRows:"="},controller:["$scope",function(n){function r(){n.tableDataStorageService=e.getInstance(),n.mdtPaginationHelper=t.getInstance(n.tableDataStorageService,n.paginatedRows),l.addRowData=_.bind(n.tableDataStorageService.addRowData,n.tableDataStorageService)}function o(){var e=a.getInstance();l.increaseIndex=_.bind(e.increaseIndex,e),l.getIndex=_.bind(e.getIndex,e)}function i(e){n.tableDataStorageService.addHeaderCellData(e)}var l=this;r(),o(),l.addHeaderCell=i}],link:function(e,t,a,n,r){function o(){return!!(e.paginatedRows===!0||e.paginatedRows.hasOwnProperty("isEnabled")&&e.paginatedRows.isEnabled===!0)}function i(){r(function(e){var a=[],n=[];_.each(e,function(e){var t=angular.element(e);t.hasClass("theadTrRow")?a.push(t):n.push(t)}),t.find("#reader").append(a).append(n)})}i(),e.isAnyRowSelected=_.bind(e.tableDataStorageService.isAnyRowSelected,e.tableDataStorageService),e.isPaginationEnabled=o}}}e.$inject=["TableDataStorageFactory","mdtPaginationHelperFactory","IndexTrackerFactory"],angular.module("mdDataTable").directive("mdDataTable",e)}(),function(){"use strict";function e(e){function t(t){return t===e.ALIGN_RULE.ALIGN_RIGHT?"rightAlignedColumn":"leftAlignedColumn"}var a=this;a.getColumnAlignClass=t}e.$inject=["ColumnOptionProvider"],angular.module("mdDataTable").service("ColumnAlignmentHelper",e)}(),function(){"use strict";var e={ALIGN_RULE:{ALIGN_LEFT:"left",ALIGN_RIGHT:"right"}};angular.module("mdDataTable").value("ColumnOptionProvider",e)}(),function(){"use strict";function e(e){return{restrict:"E",replace:!0,transclude:!0,scope:{htmlContent:"@"},require:["^mdDataTable","^mdDataTableRow"],link:function(t,a,n,r,o){var i=r[1];o(function(a){if(t.htmlContent)i.addToRowDataStorage(a,"htmlContent");else{var n=e(a.html().replace("{{","").replace("}}",""))(t.$parent);i.addToRowDataStorage(n)}})}}}e.$inject=["$parse"],angular.module("mdDataTable").directive("mdDataTableCell",e)}(),function(){"use strict";function e(e){return{restrict:"E",transclude:!0,require:"^mdDataTable",scope:{tableRowId:"="},controller:["$scope",function(t){function a(){var t=e.getInstance();r.increaseIndex=_.bind(t.increaseIndex,t),r.getIndex=_.bind(t.getIndex,t)}function n(e,a){"htmlContent"===a?t.rowDataStorage.push({value:e,type:"html"}):t.rowDataStorage.push(e)}var r=this;r.addToRowDataStorage=n,t.rowDataStorage=[],a()}],link:function(e,t,a,n,r){function o(){r(function(e){t.append(e)})}o(),n.addRowData(e.tableRowId,e.rowDataStorage)}}}e.$inject=["IndexTrackerFactory"],angular.module("mdDataTable").directive("mdDataTableRow",e)}(),function(){"use strict";function e(){return{restrict:"E",transclude:!0,replace:!0,scope:{alignRule:"@",sortBy:"=",columnDefinition:"@"},require:["^mdDataTable"],link:function(e,t,a,n,r){var o=n[0];r(function(t){o.addHeaderCell({alignRule:e.alignRule,sortBy:e.sortBy,columnDefinition:e.columnDefinition,columnName:t.html()})})}}}angular.module("mdDataTable").directive("mdDataTableColumn",e)}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"/main/templates/mdDataTableGeneratedHeaderCellContent.html",replace:!0,scope:!1,link:function(){}}}angular.module("mdDataTable").directive("mdDataTableGeneratedHeaderCellContentDirective",e)}(),function(){"use strict";function e(){return{restrict:"E",replace:!0,transclude:!0,require:"^mdDataTable",scope:!0,link:function(e,t,a,n,r){function o(){r(function(e){t.append(e)})}o()}}}angular.module("mdDataTable").directive("mdDataTableHeaderRow",e)}(),function(){"use strict";function e(e){return{restrict:"A",scope:{mdDataTableAddAlignClass:"="},link:function(t,a){var n=e.getColumnAlignClass(t.mdDataTableAddAlignClass);a.addClass(n)}}}e.$inject=["ColumnAlignmentHelper"],angular.module("mdDataTable").directive("mdDataTableAddAlignClass",e)}(),function(){"use strict";function e(){return{restrict:"A",scope:{htmlContent:"=mdDataTableAddHtmlContentToCell"},link:function(e,t){t.append(e.htmlContent)}}}angular.module("mdDataTable").directive("mdDataTableAddHtmlContentToCell",e)}(),function(){"use strict";function e(){return{restrict:"A",scope:!1,link:function(e,t){e.animateSortIcon&&t.addClass("animate-sort-icon")}}}angular.module("mdDataTable").directive("mdDataTableAnimateSortIconHandler",e)}(),function(){"use strict";function e(){return{restrict:"A",scope:!1,link:function(e){e.selectAllRows=!1,e.$watch("selectAllRows",function(t){e.tableDataStorageService.setAllRowsSelected(t,e.isPaginationEnabled())})}}}angular.module("mdDataTable").directive("mdDataTableSelectAllRowsHandler",e)}(),function(){"use strict";function e(){return{restrict:"A",scope:!1,link:function(e,t){function a(){e.$apply(function(){e.direction=e.tableDataStorageService.sortByColumn(r,e.headerRowData.sortBy)})}function n(){return e.tableDataStorageService.sortByColumnLastIndex===r}var r=e.$index;e.isSorted=n,e.direction=1,t.on("click",a),e.$on("$destroy",function(){t.off("click",a)})}}}angular.module("mdDataTable").directive("mdDataTableSortHandler",e)}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"/main/templates/mdDataTableCardFooter.html",transclude:!0,replace:!0,scope:!0,require:["^mdDataTable"],link:function(e){}}}angular.module("mdDataTable").directive("mdDataTableCardFooter",e)}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"/main/templates/mdDataTableCardHeader.html",transclude:!0,replace:!0,scope:!0,require:["^mdDataTable"]}}angular.module("mdDataTable").directive("mdDataTableCardHeader",e)}();
//# sourceMappingURL=md-data-table.min.js.map