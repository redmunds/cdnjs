!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.OptimalSelect=e():t.OptimalSelect=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var u=n[r]={exports:{},id:r,loaded:!1};return t[r].call(u.exports,u,u.exports,e),u.loaded=!0,u.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function u(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.common=e.optimize=e.select=void 0;var o=n(5),i=u(o),a=n(3),c=u(a),f=n(2),l=r(f);e.select=i.default,e.optimize=c.default,e.common=l,e.default=i.default},function(t,e){(function(n){"use strict";function r(t){return Array.isArray(t)?t:Array.from(t)}function u(t,e){if(n.document)return!1;var u=e.context;n.document=u||function(){for(var e=t;e.parent;)e=e.parent;return e}();var a=Object.getPrototypeOf(n.document);return Object.getOwnPropertyDescriptor(a,"childTags")||Object.defineProperty(a,"childTags",{enumerable:!0,get:function(){return this.children.filter(function(t){return"tag"===t.type||"script"===t.type||"style"===t.type})}}),Object.getOwnPropertyDescriptor(a,"attributes")||Object.defineProperty(a,"attributes",{enumerable:!0,get:function(){var t=this.attribs,e=Object.keys(t),n=e.reduce(function(e,n,r){return e[r]={name:n,value:t[n]},e},{});return Object.defineProperty(n,"length",{enumerable:!1,configurable:!1,value:e.length}),n}}),a.getAttribute||(a.getAttribute=function(t){return this.attribs[t]||null}),a.getElementsByTagName||(a.getElementsByTagName=function(t){var e=[];return i(this.childTags,function(n){n.name!==t&&"*"!==t||e.push(n)}),e}),a.getElementsByClassName||(a.getElementsByClassName=function(t){var e=t.trim().replace(/\s+/g," ").split(" "),n=[];return i([this],function(t){var r=t.attribs.class;r&&e.every(function(t){return r.indexOf(t)>-1})&&n.push(t)}),n}),a.querySelectorAll||(a.querySelectorAll=function(t){var e=this;t=t.replace(/(>)(\S)/g,"$1 $2").trim();var n=o(t),u=r(n),i=u[0],a=u.slice(1),c=a.length;return i(this).filter(function(t){for(var n=0;n<c;){if(t=a[n](t,e),!t)return!1;n+=1}return!0})}),a.contains||(a.contains=function(t){var e=!1;return i([this],function(n,r){n===t&&(e=!0,r())}),e}),!0}function o(t){return t.split(" ").reverse().map(function(t,e){var n=0===e,r=t.split(":"),u=f(r,2),o=u[0],l=u[1],s=null,d=null;if(function(){switch(!0){case/>/.test(o):d=function(t){return function(e){return e(t.parent)&&t.parent}};break;case/^\./.test(o):var t=o.substr(1).split(".");s=function(e){var n=e.attribs.class;return n&&t.every(function(t){return n.indexOf(t)>-1})},d=function(e,r){return n?e.getElementsByClassName(t.join(" ")):"function"==typeof e?e(s):a(e,r,s)};break;case/^\[/.test(o):var e=o.replace(/\[|\]|"/g,"").split("="),r=f(e,2),u=r[0],l=r[1];s=function(t){var e=Object.keys(t.attribs).indexOf(u)>-1;return!(!e||l&&t.attribs[u]!==l)},d=function(t,e){if(n){var r=function(){var e=[];return i([t],function(t){s(t)&&e.push(t)}),{v:e}}();if("object"===("undefined"==typeof r?"undefined":c(r)))return r.v}return"function"==typeof t?t(s):a(t,e,s)};break;case/^#/.test(o):var p=o.substr(1);s=function(t){return t.attribs.id===p},d=function(t,e){if(n){var r=function(){var e=[];return i([t],function(t,n){s(t)&&(e.push(t),n())}),{v:e}}();if("object"===("undefined"==typeof r?"undefined":c(r)))return r.v}return"function"==typeof t?t(s):a(t,e,s)};break;case/\*/.test(o):s=function(t){return!0},d=function(t,e){if(n){var r=function(){var e=[];return i([t],function(t){return e.push(t)}),{v:e}}();if("object"===("undefined"==typeof r?"undefined":c(r)))return r.v}return"function"==typeof t?t(s):a(t,e,s)};break;default:s=function(t){return t.name===o},d=function(t,e){if(n){var r=function(){var e=[];return i([t],function(t){s(t)&&e.push(t)}),{v:e}}();if("object"===("undefined"==typeof r?"undefined":c(r)))return r.v}return"function"==typeof t?t(s):a(t,e,s)}}}(),!l)return d;var p=l.match(/-(child|type)\((\d+)\)$/),v=p[1],y=parseInt(p[2],10)-1,h=function(t){if(t){var e=t.parent.childTags;"type"===v&&(e=e.filter(s));var n=e.findIndex(function(e){return e===t});if(n===y)return!0}return!1};return function(t){var e=d(t);return n?e.reduce(function(t,e){return h(e)&&t.push(e),t},[]):h(e)&&e}})}function i(t,e){t.forEach(function(t){var n=!0;e(t,function(){return n=!1}),t.childTags&&n&&i(t.childTags,e)})}function a(t,e,n){for(;t.parent;){if(t=t.parent,n(t))return t;if(t===e)break}return null}Object.defineProperty(e,"__esModule",{value:!0});var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},f=function(){function t(t,e){var n=[],r=!0,u=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(r=(i=a.next()).done)&&(n.push(i.value),!e||n.length!==e);r=!0);}catch(c){u=!0,o=c}finally{try{!r&&a.return&&a.return()}finally{if(u)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();e.default=u,t.exports=e.default}).call(e,function(){return this}())},function(t,e){"use strict";function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.root,r=void 0===n?document:n,u=(e.skip,e.ignore,[]);t.forEach(function(t,e){for(var n=[];t!==r;)t=t.parentNode,n.unshift(t);u[e]=n}),u.sort(function(t,e){return t.length-e.length});for(var o=u.shift(),i=null,a=function(){var t=o[c],e=u.some(function(e){return!e.some(function(e){return e===t})});return e?"break":void(i=t)},c=0,f=o.length;c<f;c++){var l=a();if("break"===l)break}return i}function r(t){var e={classes:[],attributes:{},tag:null};return t.forEach(function(t){var n=e.classes,r=e.attributes,u=e.tag;if(void 0!==n&&!function(){var r=t.getAttribute("class").trim().split(" ");r.length?n.length?(n=n.filter(function(t){return r.some(function(e){return e===t})}),n.length?e.classes=n:delete e.classes):e.classes=r:delete e.classes}(),void 0!==r&&!function(){var n=t.attributes,u=Object.keys(n).reduce(function(t,e){var r=n[e],u=r.name;return"class"!==u&&(t[u]=r.value),t},{}),o=Object.keys(u),i=Object.keys(r);o.length?i.length?(r=i.reduce(function(t,e){var n=r[e];return valeu===u[e]&&(t[e]=n),t},{}),Object.keys(r).length?e.attributes=r:delete e.attributes):e.attributes=u:delete e.attributes}(),void 0!==u){var o=t.tagName.toLowerCase();u?o!==u&&delete e.tag:e.tag=o}}),e}Object.defineProperty(e,"__esModule",{value:!0}),e.getCommonAncestor=n,e.getCommonProperties=r},function(t,e,n){(function(r){"use strict";function u(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e||1!==e.nodeType)throw new Error('Invalid input - to compare HTMLElements its necessary to provide a reference of the node! (missing "element")');var u=(0,c.default)(e,n),o=t.replace(/> /g,">").split(/\s+(?=(?:(?:[^"]*"){2})*[^"]*$)/);if(o.length<3)return i("",t,"",e);for(var a=[o.pop()];o.length>1;){var f=o.pop(),l=o.join(" "),s=a.join(" "),d=l+" "+s,p=document.querySelectorAll(d);1!==p.length&&a.unshift(i(l,f,s,e))}return a.unshift(o[0]),o=a,o[0]=i("",o[0],o.slice(1).join(" "),e),o[o.length-1]=i(o.slice(0,-1).join(" "),o[o.length-1],"",e),u&&delete r.document,o.join(" ").replace(/>/g,"> ").trim()}function i(t,e,n,r){if(t.length&&(t+=" "),n.length&&(n=" "+n),/\[*\]/.test(e)){var u=e.replace(/=.*$/,"]"),o=""+t+u+n,i=document.querySelectorAll(o);if(1===i.length&&i[0]===r)e=u;else for(var a=document.querySelectorAll(""+t+u),c=0,f=a.length;c<f;c++)if(a[c].contains(r)){var l=a[c].tagName.toLowerCase(),o=""+t+l+n,i=document.querySelectorAll(o);1===i.length&&i[0]===r&&(e=l);break}}if(/>/.test(e)){var s=e.replace(/>/,""),o=""+t+s+n,i=document.querySelectorAll(o);1===i.length&&i[0]===r&&(e=s)}if(/:nth-child/.test(e)){var d=e.replace(/nth-child/g,"nth-of-type"),o=""+t+d+n,i=document.querySelectorAll(o);1===i.length&&i[0]===r&&(e=d)}if(/\.\S+\.\S+/.test(e)){for(var p=e.trim().split(".").slice(1).map(function(t){return"."+t}).sort(function(t,e){return t.length-e.length});p.length;){var v=e.replace(p.shift(),"").trim(),o=""+t+v+n;if(!o||">"===v)break;var i=document.querySelectorAll(o);1===i.length&&i[0]===r&&(e=v)}if(e&&e.match(/\./g).length>2)for(var y=document.querySelectorAll(""+t+e),c=0,f=y.length;c<f;c++)if(y[c].contains(r)){var h=y[c].tagName.toLowerCase(),o=""+t+h+n,i=document.querySelectorAll(o);1===i.length&&i[0]===r&&(e=h);break}}return e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var a=n(1),c=u(a);t.exports=e.default}).call(e,function(){return this}())},function(t,e){"use strict";function n(t,e){var n=e.root,p=void 0===n?document:n,v=e.skip,y=void 0===v?null:v,h=e.ignore,m=void 0===h?{}:h,g=[],b=t,j=g.length,A=y&&(Array.isArray(y)?y:[y]).map(function(t){return"function"!=typeof t?function(e){return e===t}:t}),O=function(t){return y&&A.some(function(e){return e(t)})},S=!1;for(Object.keys(m).forEach(function(t){"class"===t&&(S=!0);var e=m[t];"function"!=typeof e&&("number"==typeof e&&(e=e.toString()),"string"==typeof e&&(e=new RegExp(e)),m[t]=e.test.bind(e))}),S&&!function(){var t=m.attribute;m.attribute=function(e,n,r){return m.class(n)||t&&t(e,n,r)}}();b!==p;){if(O(b)!==!0){if(d(b,g,m))break;if(r(b,g,m,p))break;if(i(b,g,m,p))break;if(f(b,g,m,p))break;u(b,g,m),g.length===j&&a(b,g,m),g.length===j&&l(b,g,m),g.length===j&&o(b,g,m),g.length===j&&c(b,g,m),g.length===j&&s(b,g,m)}b=b.parentNode,j=g.length}return b===p&&g.unshift("*"),g.join(" ")}function r(t,e,n,r){return p(t,e,n,r)}function u(t,e,n){return p(t,e,n,t.parentNode)}function o(t,e,n){var r=t.getAttribute("class");return!m(n.class,r)&&h(t,e,"."+r.trim().replace(/\s+/g,"."))}function i(t,e,n,r){return v(t,e,n,r)}function a(t,e,n){return v(t,e,n,t.parentNode)}function c(t,e,n){var r=t.attributes;return Object.keys(r).some(function(u){var o=r[u],i=o.name,a=o.value;if(m(n.attribute,i,a,g.attribute))return!1;var c="["+i+'="'+a+'"]';return h(t,e,c)})}function f(t,e,n,r){return y(t,e,n,r)}function l(t,e,n){return y(t,e,n,t.parentNode)}function s(t,e,n){var r=t.tagName.toLowerCase();return!m(n.tag,r)&&h(t,e,r)}function d(t,e,n){var r=t.getAttribute("id");return!m(n.id,r)&&(e.unshift("#"+r),!0)}function p(t,e,n,r){var u=t.getAttribute("class");if(m(n.class,u))return!1;var o=r.getElementsByClassName(u);return 1===o.length&&(e.unshift("."+u.trim().replace(/\s+/g,".")),!0)}function v(t,e,n,r){var u=t.attributes;return Object.keys(u).some(function(t){var o=u[t],i=o.name,a=o.value;if(m(n.attribute,i,a,g.attribute))return!1;var c="["+i+'="'+a+'"]',f=r.querySelectorAll(c);return 1===f.length?(e.unshift(c),!0):void 0})}function y(t,e,n,r){var u=t.tagName.toLowerCase();if(m(n.tag,u))return!1;var o=r.getElementsByTagName(u);return 1===o.length&&(e.unshift(u),!0)}function h(t,e,n){for(var r=t.parentNode,u=r.childTags||r.children,o=0,i=u.length;o<i;o++)if(u[o]===t)return e.unshift("> "+n+":nth-child("+(o+1)+")"),!0;return!1}function m(t,e,n,r){if(!e)return!0;var u=t||r;return!!u&&u(e,n||e,r)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var g={attribute:function(t){return["style","data-reactid","data-react-checksum"].indexOf(t)>-1}};t.exports=e.default},function(t,e,n){(function(t){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function u(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Array.isArray(t)?a(t,e):i(t,e)}function i(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(3===e.nodeType&&(e=e.parentNode),1!==e.nodeType)throw new Error('Invalid input - only HTMLElements or representations of them are supported! (not "'+("undefined"==typeof e?"undefined":f(e))+'")');var r=(0,s.default)(e,n),u=(0,p.default)(e,n),o=(0,y.default)(u,e,n);return r&&delete t.document,o}function a(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e.some(function(t){return 1!==t.nodeType}))throw new Error("Invalid input - only an Array of HTMLElements or representations of them is supported!");var r=(0,s.default)(e[0],n),o=(0,h.getCommonAncestor)(e,n),a=i(o,n),f=c(e),l=f[0],d=a+" "+l,p=[].concat(u(document.querySelectorAll(d)));return e.every(function(t){return p.some(function(e){return e===t})})?(r&&delete t.document,d):console.warn("\n      The selected elements can't be efficiently mapped.\n      Its probably best to use multiple single selectors instead!\n    ",e)}function c(t){var e=(0,h.getCommonProperties)(t),n=e.classes,r=e.attributes,u=e.tag,o=[];if(u&&o.push(u),n){var i=n.map(function(t){return"."+t}).join("");o.push(i)}if(r){var a=Object.keys(r).reduce(function(t,e){return t.push("["+e+'="'+r[e]+'"]'),t},[]).join("");o.push(a)}return o.length,[o.join("")]}Object.defineProperty(e,"__esModule",{value:!0});var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};e.default=o,e.getSingleSelector=i,e.getMultiSelector=a;var l=n(1),s=r(l),d=n(4),p=r(d),v=n(3),y=r(v),h=n(2)}).call(e,function(){return this}())}])});
//# sourceMappingURL=optimal-select.min.js.map