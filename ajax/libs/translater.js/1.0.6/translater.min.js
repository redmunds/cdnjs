/* translater.js 1.0.6    https://github.com/jaywcjlove/translater.js  Copyright 2016, kenny wang */
!function(e,n){"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?module.exports=n():e.Translater=n()}(this,function(){function e(e){for(var n=e+"=",t=document.cookie.split(";"),a=0;a<t.length;a++){for(var r=t[a];" "==r.charAt(0);)r=r.substring(1,r.length);if(0==r.indexOf(n))return unescape(r.substring(n.length,r.length))}return!1}function n(e,n,t){var a=new Date;a.setTime(a.getTime()+3600*Number(t)*1e3),document.cookie=e+"="+n+"; path=/;expires = "+a.toGMTString()}function t(){for(var e=Array.prototype.concat.apply(f(document),c(document)),n=[],t=new Object,a=0;a<e.length;a++)e[a].nodeValue=g(e[a].nodeValue),""!==e[a].nodeValue&&(t=l(e[a]),Object.getOwnPropertyNames(t).length>2&&n.push(t));return n}function a(e){var n={},t=e.nodeValue,a=0;if(n.element=e.parentElement,n["lang-default"]=t.replace(/<!--(.*)-->.*/,""),t&&(t=e.nodeValue.match(/<!--\{\w+\}[\s\S]*?-->/gi)),t&&t.length>0)for(;a<t.length;a++){var r=t[a].match(/\{([^\ ]*)\}/)[0];r=r.replace(/\{([^\ ]*)\}/g,"$1"),n["lang-"+r]=t[a].replace(/<!--\{\w+\}(.*)-->/g,"$1")}return e.parentElement.innerHTML=n["lang-default"],n}function r(e){var n=0,t={},a=e.outerHTML,r=a.match(/src=\"(.*?)\"/);if(t.element=e,t["lang-default"]=2===r.length?r[1]:"",r=a.match(/data-lang-.(\w+).\".*?\"/g),r&&r.length>0)for(;n<r.length;n++){var l=r[n].match(/data-lang-(.*?)=/,"$1")[1],o=r[n].match(/data-lang-(.*?)=\"(.*?)\"/,"$1")[2];t["lang-"+l]=o}return t}function l(e,n){if(n=n||{},e.parentElement&&"TITLE"===e.parentElement.tagName)return a(e);if("IMG"===e.tagName&&1===e.nodeType)return r(e);var t="lang-default",o=e.nodeValue,u=/^\{\w+\}/;8===e.nodeType&&u.test(o)&&(t=o.match(u)[0],t="lang-"+(t?t.replace(/\{([^\ ]*)\}/g,"$1"):""),o=o.replace(u,""),""!==g(o)&&(n[t]=o)),""===g(o)||n["lang-default"]||(n[t]=o,n.element=e);var i=e.nextSibling;return i&&1!==i.nodeType&&l(i,n),n}function g(e){return""+(null==e?"":(e+"").replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"").replace(/[\r\n]+/g,""))}function u(e,n){var t=n||location.search,a={};if(-1!=t.indexOf("?"))for(var r=t.substr(1).split("&"),l=0,o=r.length;o>l;l++){var g=r[l].split("=");a[g[0]]=g[1]&&decodeURIComponent(g[1])}return e?a[e]:a}var i=function(a,r){a=a||{},u("lang")&&(a.lang=u("lang")),a.lang?(n("t-lang",a.lang,24),this.lang_name=a.lang):this.lang_name="default",this.callback=r||function(){},this.langs=t()||[],"default"!==this.lang_name&&this.setLang(a.lang);var l=e("t-lang");l&&"default"!==l&&this.setLang(l)};i.prototype={setLang:function(e){var t=this.langs,a="";this.lang_name=e;for(var r=0;r<t.length;r++)t[r]["lang-"+e]&&(a="TITLE"===t[r].element.tagName?"innerHTML":"IMG"===t[r].element.tagName?"src":"nodeValue",t[r].element[a]=t[r]["lang-"+e]);n("t-lang",e,24)},getLang:function(){return this.lang_name}};var c=function(e){for(var n=0,t=[],a=e.getElementsByTagName("IMG");n<a.length;n++){var r=a[n].outerHTML.match(/data-lang-.(\w+).\".*?\"/g);a[n]&&1===a[n].nodeType&&r&&r.length>0&&t.push(a[n])}return t},f=window.NodeFilter?function(e){var n,t,a=[];for(t=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,null,null);n=t.nextNode();)"SCRIPT"!==n.parentElement.tagName&&"STYLE"!==n.parentElement.tagName&&"CODE"!==n.parentElement.tagName&&""!==g(n.nodeValue)&&a.push(n);return a}:function(e){switch(e.nodeType){case 3:return[e];case 1:case 9:var n,t=e.childNodes,a=[];if("SCRIPT"!==e.tagName&&"STYLE"!==e.tagName&&"CODE"!==e.tagName&&""!==g(o.nodeValue)){for(n=0;n<t.length;n++)f(t[n])&&a.push(f(t[n]));return Array.prototype.concat.apply([],a)}}};return i});