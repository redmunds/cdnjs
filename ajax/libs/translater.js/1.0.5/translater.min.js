/* translater.js 1.0.5    https://github.com/jaywcjlove/translater.js  Copyright 2016, kenny wang */
!function(e,n){"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?module.exports=n():e.Translater=n()}(this,function(){function e(e){for(var n=e+"=",t=document.cookie.split(";"),a=0;a<t.length;a++){for(var l=t[a];" "==l.charAt(0);)l=l.substring(1,l.length);if(0==l.indexOf(n))return unescape(l.substring(n.length,l.length))}return!1}function n(e,n,t){var a=new Date;a.setTime(a.getTime()+3600*Number(t)*1e3),document.cookie=e+"="+n+"; path=/;expires = "+a.toGMTString()}function t(){for(var e=Array.prototype.concat.apply(s(document),i(document)),n=[],t=new Object,a=0;a<e.length;a++)e[a].nodeValue=g(e[a].nodeValue),""!==e[a].nodeValue&&(t=r(e[a]),Object.getOwnPropertyNames(t).length>2&&n.push(t));return n}function a(e){var n={},t=e.nodeValue,a=0;if(n.element=e.parentElement,n["lang-default"]=t.replace(/<!--(.*)-->.*/,""),t&&(t=e.nodeValue.match(/<!--\{\w+\}[\s\S]*?-->/gi)),t&&t.length>0)for(;a<t.length;a++){var l=t[a].match(/\{([^\ ]*)\}/)[0];l=l.replace(/\{([^\ ]*)\}/g,"$1"),n["lang-"+l]=t[a].replace(/<!--\{\w+\}(.*)-->/g,"$1")}return e.parentElement.innerHTML=n["lang-default"],n}function l(e){var n=0,t={},a=e.outerHTML,l=a.match(/src=\"(.*?)\"/);if(t.element=e,t["lang-default"]=2===l.length?l[1]:"",l=a.match(/data-lang-.(\w+).\".*?\"/g),l&&l.length>0)for(;n<l.length;n++){var r=l[n].match(/data-lang-(.*?)=/,"$1")[1],o=l[n].match(/data-lang-(.*?)=\"(.*?)\"/,"$1")[2];t["lang-"+r]=o}return t}function r(e,n){if(n=n||{},e.parentElement&&"TITLE"===e.parentElement.tagName)return a(e);if("IMG"===e.tagName&&1===e.nodeType)return l(e);var t="lang-default",o=e.nodeValue,u=/^\{\w+\}/;8===e.nodeType&&u.test(o)&&(t=o.match(u)[0],t="lang-"+(t?t.replace(/\{([^\ ]*)\}/g,"$1"):""),o=o.replace(u,""),""!==g(o)&&(n[t]=o)),""===g(o)||n["lang-default"]||(n[t]=o,n.element=e);var c=e.nextSibling;return c&&1!==c.nodeType&&r(c,n),n}function g(e){return""+(null==e?"":(e+"").replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"").replace(/[\r\n]+/g,""))}function u(e,n){var t=n||location.search,a={};if(-1!=t.indexOf("?"))for(var l=t.substr(1).split("&"),r=0,o=l.length;o>r;r++){var g=l[r].split("=");a[g[0]]=g[1]&&decodeURIComponent(g[1])}return e?a[e]:a}var c=function(a,l){a=a||{},u("lang")&&(a.lang=u("lang")),console.log(a),a.lang?(console.log("wwww"),n("t-lang",a.lang,24),this.lang_name=a.lang):this.lang_name="default",this.callback=l||function(){},this.langs=t()||[],"default"!==this.lang_name&&this.setLang(a.lang);var r=e("t-lang");r&&"default"!==r&&this.setLang(r)};c.prototype={setLang:function(e){var t=this.langs,a="";this.lang_name=e;for(var l=0;l<t.length;l++)t[l]["lang-"+e]&&(a="TITLE"===t[l].element.tagName?"innerHTML":"IMG"===t[l].element.tagName?"src":"nodeValue",t[l].element[a]=t[l]["lang-"+e]);n("t-lang",e,24)}};var i=function(e){for(var n=0,t=[],a=e.getElementsByTagName("IMG");n<a.length;n++){var l=a[n].outerHTML.match(/data-lang-.(\w+).\".*?\"/g);a[n]&&1===a[n].nodeType&&l&&l.length>0&&t.push(a[n])}return t},s=window.NodeFilter?function(e){var n,t,a=[];for(t=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,null,null);n=t.nextNode();)"SCRIPT"!==n.parentElement.tagName&&"STYLE"!==n.parentElement.tagName&&"CODE"!==n.parentElement.tagName&&""!==g(n.nodeValue)&&a.push(n);return a}:function(e){switch(e.nodeType){case 3:return[e];case 1:case 9:var n,t=e.childNodes,a=[];if("SCRIPT"!==e.tagName&&"STYLE"!==e.tagName&&"CODE"!==e.tagName&&""!==g(o.nodeValue)){for(n=0;n<t.length;n++)s(t[n])&&a.push(s(t[n]));return Array.prototype.concat.apply([],a)}}};return c});