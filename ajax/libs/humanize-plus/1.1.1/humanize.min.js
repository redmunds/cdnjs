(function(){var n,t,e,r,i,u,a,l;i=new function(){},l=i.toString,u=function(n,t,e){var r,i,u,a;for(null==e&&(e=function(n){return n}),a=e(t),i=0,r=n.length;i<r;)u=i+r>>1,e(n[u])<a?i=u+1:r=u;return i},n=[].indexOf||function(n){var t,e,r,i,u;for(t=this,r=i=0,u=t.length;i<u;r=++i)if(e=t[r],e===n)return r;return-1},r=function(n){return n!==n},e=function(n){return window.isFinite(n)&&!r(parseFloat(n))},t=function(n){return"[object Array]"===l.call(n)},a=[{name:"second",value:1e3},{name:"minute",value:6e4},{name:"hour",value:36e5},{name:"day",value:864e5},{name:"week",value:6048e5}],this.Humanize={},this.Humanize.intword=function(t,e,r){var i,a,l,o,s,c;return t=parseInt(t,10),t.toString().length<=e?this.intcomma(t):(s=[1e3,1e6,1e9],c=["k","M","B"],o=n.call(s,t),o===-1&&(o=u(s,t)-1),l=s[o],i=(t/l+"").slice(0,e),a=i.split(".")[1],null==r&&(r=null!=a&&parseInt(a,10)&&a.length||0),this.intcomma(i,r)+c[o])},this.Humanize.intcomma=function(n,t){return null==t&&(t=0),this.formatNumber(n,t)},this.Humanize.filesize=function(n){var t;return t=n>=1073741824?this.formatNumber(n/1073741824,2,"")+" GB":n>=1048576?this.formatNumber(n/1048576,2,"")+" MB":n>=1024?this.formatNumber(n/1024,0)+" KB":this.formatNumber(n,0)+this.pluralize(n," byte")},this.Humanize.formatNumber=function(n,t,e,r){var i,u,a,l,o,s,c,h=this;return null==t&&(t=0),null==e&&(e=","),null==r&&(r="."),l=function(n,t,e){return e?n.substr(0,e)+t:""},u=function(n,t,e){return n.substr(e).replace(/(\d{3})(?=\d)/g,"$1"+t)},a=function(n,t,e){return e?t+h.toFixed(Math.abs(n),e).split(".")[1]:""},c=this.normalizePrecision(t),s=n<0&&"-"||"",i=parseInt(this.toFixed(Math.abs(n||0),c),10)+"",o=i.length>3?i.length%3:0,s+l(i,e,o)+u(i,e,o)+a(n,r,c)},this.Humanize.toFixed=function(n,t){var e;return null==t&&(t=this.normalizePrecision(t,0)),e=Math.pow(10,t),(Math.round(n*e)/e).toFixed(t)},this.Humanize.normalizePrecision=function(n,t){return n=Math.round(Math.abs(n)),r(n)?t:n},this.Humanize.ordinal=function(n){var t,e,r,i;if(r=parseInt(n,10),0===r)return n;if(i=r%100,11===i||12===i||13===i)return r+"th";switch(e=r%10){case 1:t="st";break;case 2:t="nd";break;case 3:t="rd";break;default:t="th"}return r+t},this.Humanize.times=function(n,t){var r,i;if(null==t&&(t={}),e(n)&&n>=0)switch(r=parseFloat(n)){case 0:i=null!=t[0]||"never";break;case 1:i=null!=t[1]||"once";break;case 2:i=null!=t[2]||"twice";break;default:i=(t[r]||r)+" times"}return i},this.Humanize.pluralize=function(n,t,e){if(null!=n&&null!=t)return null==e&&(e=t+"s"),1===parseInt(n,10)?t:e},this.Humanize.truncate=function(n,t,e){return null==t&&(t=100),null==e&&(e="..."),n.length>t?n.substring(0,t-e.length)+e:n},this.Humanize.truncatewords=function(n,t){var e,r,i;for(e=n.split(" "),i="",r=0;r<t;)null!=e[r]&&(i+=e[r]+" "),r++;if(e.length>t)return i+="..."},this.Humanize.truncatenumber=function(n,t,r){var i;return null==t&&(t=100),null==r&&(r="+"),i=null,e(n)&&e(t)&&n>t&&(i=t+r),(i||n).toString()},this.Humanize.oxford=function(n,t,e){var r,i,u;return u=n.length,u<2?""+n:2===u?n.join(" and "):(null!=t&&u>t?(r=u-t,i=t,null==e&&(e=", and "+r+" "+this.pluralize(r,"other"))):(i=-1,e=", and "+n[u-1]),n.slice(0,i).join(", ")+e)},this.Humanize.dictionary=function(n,t,e){var r,i,u,a;if(null==t&&(t=" is "),null==e&&(e=", "),u="",null!=n&&"object"==typeof n&&"[object Array]"!==Object.prototype.toString.call(n)){r=[];for(i in n)a=n[i],r.push(i+t+a);u=r.join(e)}return u},this.Humanize.frequency=function(n,e){var r,i,u;if(t(n))return r=n.length,u=this.times(r),i=0===r?""+u+" "+e:""+e+" "+u},this.Humanize.pace=function(n,t,e){var r,i,u,l,o,s,c,h;if(null==e&&(e="time"),0===n||0===t)return"No "+this.pluralize(e);for(i="Approximately",s=null,u=n/t,c=0,h=a.length;c<h;c++)if(r=a[c],l=u*r.value,l>1){s=r.name;break}return s||(i="Less than",l=1,s=a[a.length-1].name),o=Math.round(l),e=this.pluralize(o,e),""+i+" "+o+" "+e+" per "+s},this.Humanize.nl2br=function(n,t){return null==t&&(t="<br/>"),n.replace(/\n/g,t)},this.Humanize.br2nl=function(n,t){return null==t&&(t="\r\n"),n.replace(/\<br\s*\/?\>/g,t)},this.Humanize.capitalize=function(n){return n.charAt(0).toUpperCase()+n.slice(1)},this.Humanize.titlecase=function(n){return n.replace(/(?:^|\s)\S/g,function(n){return n.toUpperCase()})},"undefined"!=typeof module&&null!==module&&(module.exports=this.Humanize)}).call(this);