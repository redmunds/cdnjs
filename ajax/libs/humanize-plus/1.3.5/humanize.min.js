(function(){var n,t,e,i,r,u,a,l;r=new function(){},l=r.toString,u=function(n,t,e){var i,r,u,a;for(null==e&&(e=function(n){return n}),a=e(t),r=0,i=n.length;r<i;)u=r+i>>1,e(n[u])<a?r=u+1:i=u;return r},n=[].indexOf||function(n){var t,e,i,r,u;for(t=this,i=r=0,u=t.length;r<u;i=++r)if(e=t[i],e===n)return i;return-1},i=function(n){return n!==n},e=function(n){return(("undefined"!=typeof window&&null!==window?window.isFinite:void 0)||global.isFinite)(n)&&!i(parseFloat(n))},t=function(n){return"[object Array]"===l.call(n)},a=[{name:"second",value:1e3},{name:"minute",value:6e4},{name:"hour",value:36e5},{name:"day",value:864e5},{name:"week",value:6048e5}],this.Humanize={},this.Humanize.intword=function(n,t,e){return null==e&&(e=2),this.compactInteger(n,e)},this.Humanize.compactInteger=function(n,t){var e,i,r,u,a,l,o,s,h,c,f,m,p,d,z,b,g,v,H;if(null==t&&(t=0),t=Math.max(t,0),l=parseInt(n,10),f=l<0?"-":"",m=Math.abs(l),d=""+m,o=d.length,s=[13,10,7,4],e=["T","B","M","k"],m<1e3)return t>0&&(d+="."+Array(t+1).join("0")),""+f+d;if(o>s[0]+3)return l.toExponential(t).replace("e+","x10^");for(g=0,v=s.length;g<v;g++)if(H=s[g],o>=H){a=H;break}return i=o-a+1,p=d.split(""),b=p.slice(0,i),u=p.slice(i,i+t+1),z=b.join(""),r=u.join(""),r.length<t&&(r+=""+Array(t-r.length+1).join("0")),0===t?h=""+f+z+e[s.indexOf(a)]:(c=(+(""+z+"."+r)).toFixed(t),h=""+f+c+e[s.indexOf(a)]),h},this.Humanize.intcomma=function(n,t){return null==t&&(t=0),this.formatNumber(n,t)},this.Humanize.filesize=function(n){var t;return t=n>=1073741824?this.formatNumber(n/1073741824,2,"")+" GB":n>=1048576?this.formatNumber(n/1048576,2,"")+" MB":n>=1024?this.formatNumber(n/1024,0)+" KB":this.formatNumber(n,0)+this.pluralize(n," byte")},this.Humanize.formatNumber=function(n,t,e,i){var r,u,a,l,o,s,h,c=this;return null==t&&(t=0),null==e&&(e=","),null==i&&(i="."),l=function(n,t,e){return e?n.substr(0,e)+t:""},u=function(n,t,e){return n.substr(e).replace(/(\d{3})(?=\d)/g,"$1"+t)},a=function(n,t,e){return e?t+c.toFixed(Math.abs(n),e).split(".")[1]:""},h=this.normalizePrecision(t),s=n<0&&"-"||"",r=parseInt(this.toFixed(Math.abs(n||0),h),10)+"",o=r.length>3?r.length%3:0,s+l(r,e,o)+u(r,e,o)+a(n,i,h)},this.Humanize.toFixed=function(n,t){var e;return null==t&&(t=this.normalizePrecision(t,0)),e=Math.pow(10,t),(Math.round(n*e)/e).toFixed(t)},this.Humanize.normalizePrecision=function(n,t){return n=Math.round(Math.abs(n)),i(n)?t:n},this.Humanize.ordinal=function(n){var t,e,i,r;if(i=parseInt(n,10),0===i)return n;if(r=i%100,11===r||12===r||13===r)return i+"th";switch(e=i%10){case 1:t="st";break;case 2:t="nd";break;case 3:t="rd";break;default:t="th"}return i+t},this.Humanize.times=function(n,t){var i,r,u;if(null==t&&(t={}),e(n)&&n>=0)return i=parseFloat(n),r={0:"never",1:"once",2:"twice"},null!=t[i]?""+t[i]+" times":""+((null!=(u=r[i])?u.toString():void 0)||i.toString()+" times")},this.Humanize.pluralize=function(n,t,e){if(null!=n&&null!=t)return null==e&&(e=t+"s"),1===parseInt(n,10)?t:e},this.Humanize.truncate=function(n,t,e){return null==t&&(t=100),null==e&&(e="..."),n.length>t?n.substring(0,t-e.length)+e:n},this.Humanize.truncatewords=function(n,t){var e,i,r;for(e=n.split(" "),r="",i=0;i<t;)null!=e[i]&&(r+=e[i]+" "),i++;if(e.length>t)return r+="..."},this.Humanize.truncatenumber=function(n,t,i){var r;return null==t&&(t=100),null==i&&(i="+"),r=null,e(n)&&e(t)&&n>t&&(r=t+i),(r||n).toString()},this.Humanize.oxford=function(n,t,e){var i,r,u;return u=n.length,u<2?""+n:2===u?n.join(" and "):(null!=t&&u>t?(i=u-t,r=t,null==e&&(e=", and "+i+" "+this.pluralize(i,"other"))):(r=-1,e=", and "+n[u-1]),n.slice(0,r).join(", ")+e)},this.Humanize.dictionary=function(n,t,e){var i,r,u,a;if(null==t&&(t=" is "),null==e&&(e=", "),u="",null!=n&&"object"==typeof n&&"[object Array]"!==Object.prototype.toString.call(n)){i=[];for(r in n)a=n[r],i.push(r+t+a);u=i.join(e)}return u},this.Humanize.frequency=function(n,e){var i,r,u;if(t(n))return i=n.length,u=this.times(i),r=0===i?""+u+" "+e:""+e+" "+u},this.Humanize.pace=function(n,t,e){var i,r,u,l,o,s,h,c;if(null==e&&(e="time"),0===n||0===t)return"No "+this.pluralize(e);for(r="Approximately",s=null,u=n/t,h=0,c=a.length;h<c;h++)if(i=a[h],l=u*i.value,l>1){s=i.name;break}return s||(r="Less than",l=1,s=a[a.length-1].name),o=Math.round(l),e=this.pluralize(o,e),""+r+" "+o+" "+e+" per "+s},this.Humanize.nl2br=function(n,t){return null==t&&(t="<br/>"),n.replace(/\n/g,t)},this.Humanize.br2nl=function(n,t){return null==t&&(t="\r\n"),n.replace(/\<br\s*\/?\>/g,t)},this.Humanize.capitalize=function(n){return n.charAt(0).toUpperCase()+n.slice(1)},this.Humanize.capitalizeAll=function(n){return n.replace(/(?:^|\s)\S/g,function(n){return n.toUpperCase()})},this.Humanize.titlecase=function(n){var t,e,i,r,u,a=this;return i=/\b(a|an|and|at|but|by|de|en|for|if|in|of|on|or|the|to|via|vs?\.?)\b/i,e=/\S+[A-Z]+\S*/,u=/\s+/,r=/-/,(t=function(n,l,o){var s,h,c,f,m,p;for(null==l&&(l=!1),null==o&&(o=!0),c=[],h=n.split(l?r:u),s=m=0,p=h.length;m<p;s=++m)f=h[s],f.indexOf("-")!==-1?0===s||s===h.length-1?c.push(t(f,!0,!0)):c.push(t(f,!0,!1)):0!==s&&s!==h.length-1||!o?e.test(f)?c.push(f):i.test(f)?c.push(f.toLowerCase()):c.push(a.capitalize(f)):c.push(e.test(f)?f:a.capitalize(f));return c.join(l?"-":" ")})(n)},"undefined"!=typeof module&&null!==module&&(module.exports=this.Humanize)}).call(this);