{"version":3,"sources":["webpack:///task.min.js","webpack:///webpack/bootstrap 238bd7e15f2ddb8e4b92","webpack:///./src/client/index.js","webpack:///./src/client/isModern.js","webpack:///./src/client/functionToObjectURL.js","webpack:///./src/WorkerManager.js","webpack:///./src/Worker.js","webpack:///./src/generateTaskFactoryMethod.js","webpack:///./src/client/WebWorkerProxy.js","webpack:///./src/client/CompatibilityWorkerProxy.js"],"names":["task","modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","_isModern","_isModern2","_WorkerManager","_WorkerManager2","_generateTaskFactoryMethod","_generateTaskFactoryMethod2","defaults","maxWorkers","navigator","hardwareConcurrency","WorkerProxy","_functionToObjectURL","_functionToObjectURL2","Worker","window","URL","webkitURL","worker","terminate","error","func","blob","stringFunc","toString","substring","indexOf","lastIndexOf","Blob","type","BlobBuilder","WebKitBlobBuilder","MozBlobBuilder","append","getBlob","createObjectURL","_classCallCheck","instance","Constructor","TypeError","_typeof","Symbol","iterator","constructor","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","_Worker","_Worker2","WorkerManager","$config","_this","this","_next","_queue","_getWorker","setTimeout","shift","run","_onWorkerTaskComplete","_onWorkerExit","_workers","filter","item","tasks","forEach","push","$options","_WorkerProxy","_maxWorkers","_idleTimeout","idleTimeout","_idleCheckInterval","idleCheckInterval","_warmStart","warmStart","_globals","globals","_globalsInitializationFunction","initialize","_workersInitializing","bind","_flushIdleWorkers","_createWorker","value","_idleCheckIntervalID","setInterval","arguments","Error","Array","slice","callback","Promise","resolve","reject","args","function","from","pop","clearInterval","Date","lastTaskTimestamp","idleWorkers","onTaskComplete","onExit","globalsInitializationFunction","trim","_runOnWorker","then","_onExit","_onWorkerMessage","message","taskIndex","some","index","result","_onTaskComplete","splice","addEventListener","Math","random","exists","_generateTaskID","String","keys","postMessage","transferables","reason","_purgeTasks","WorkerProxyOverride","config","WebWorkerProxy","WORKER_SOURCE","_onMessage","event","data","callbacks","_listeners","_worker","options","_toConsumableArray","arr","isArray","arr2","CompatibilityWorkerProxy","_setTimeoutID","_this2","match","sort","a","b","parseInt","map","functionBody","argNames","split","Function","apply","concat","undefined","clearTimeout"],"mappings":"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","file":"task.min.js","sourcesContent":["var task =\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _isModern = __webpack_require__(1);\n\t\n\tvar _isModern2 = _interopRequireDefault(_isModern);\n\t\n\tvar _WorkerManager = __webpack_require__(3);\n\t\n\tvar _WorkerManager2 = _interopRequireDefault(_WorkerManager);\n\t\n\tvar _generateTaskFactoryMethod = __webpack_require__(5);\n\t\n\tvar _generateTaskFactoryMethod2 = _interopRequireDefault(_generateTaskFactoryMethod);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tvar defaults = {\n\t\tmaxWorkers: navigator.hardwareConcurrency\n\t};\n\t\n\tvar WorkerProxy = (0, _isModern2['default'])() ? __webpack_require__(6) : __webpack_require__(7);\n\t\n\t// expose default instance directly\n\tmodule.exports = new _WorkerManager2['default'](defaults, WorkerProxy);\n\t\n\t// allow custom settings (task.js factory)\n\tmodule.exports.defaults = (0, _generateTaskFactoryMethod2['default'])(defaults, WorkerProxy, _WorkerManager2['default']);\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _functionToObjectURL = __webpack_require__(2);\n\t\n\tvar _functionToObjectURL2 = _interopRequireDefault(_functionToObjectURL);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tmodule.exports = function isModern() {\n\t\tif (typeof Worker != 'undefined' && (window.URL || window.webkitURL)) {\n\t\t\ttry {\n\t\t\t\tvar worker = new Worker((0, _functionToObjectURL2['default'])(function () {}));\n\t\t\t\tworker.terminate();\n\t\t\t\treturn true;\n\t\t\t} catch (error) {}\n\t\t}\n\t\n\t\treturn false;\n\t};\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tmodule.exports = function functionToObjectURL(func) {\n\t\tvar blob,\n\t\t    stringFunc = func.toString();\n\t\n\t\tstringFunc = stringFunc.substring(stringFunc.indexOf('{') + 1, stringFunc.lastIndexOf('}'));\n\t\n\t\ttry {\n\t\t\tblob = new Blob([stringFunc], { 'type': 'text/javascript' });\n\t\t} catch (error) {\n\t\t\t// Backwards-compatibility\n\t\t\twindow.BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder;\n\t\t\tblob = new BlobBuilder();\n\t\t\tblob.append(stringFunc);\n\t\t\tblob = blob.getBlob();\n\t\t}\n\t\n\t\treturn (window.URL || window.webkitURL).createObjectURL(blob);\n\t};\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _Worker = __webpack_require__(4);\n\t\n\tvar _Worker2 = _interopRequireDefault(_Worker);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar WorkerManager = function () {\n\t\tfunction WorkerManager($config, WorkerProxy) {\n\t\t\tvar _this = this;\n\t\n\t\t\t_classCallCheck(this, WorkerManager);\n\t\n\t\t\tthis._next = function () {\n\t\t\t\tif (!_this._queue.length) return;\n\t\n\t\t\t\tvar worker = _this._getWorker();\n\t\n\t\t\t\tif (!worker) {\n\t\t\t\t\tsetTimeout(_this._next, 0);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\n\t\t\t\tvar task = _this._queue.shift();\n\t\n\t\t\t\tworker.run(task);\n\t\t\t};\n\t\n\t\t\tthis._onWorkerTaskComplete = function () {\n\t\t\t\t_this._next();\n\t\t\t};\n\t\n\t\t\tthis._onWorkerExit = function (worker) {\n\t\t\t\t// purge dead worker from pool\n\t\t\t\t_this._workers = _this._workers.filter(function (item) {\n\t\t\t\t\treturn item != worker;\n\t\t\t\t});\n\t\n\t\t\t\t// add work back to queue\n\t\t\t\tworker.tasks.forEach(function (task) {\n\t\t\t\t\t_this._queue.push(task.$options);\n\t\t\t\t});\n\t\n\t\t\t\t// run tick\n\t\t\t\t_this._next();\n\t\t\t};\n\t\n\t\t\t$config = $config || {};\n\t\n\t\t\tthis._WorkerProxy = WorkerProxy;\n\t\n\t\t\tthis._maxWorkers = $config.maxWorkers || 4;\n\t\t\tthis._idleTimeout = $config.idleTimeout === false ? false : $config.idleTimeout;\n\t\t\tthis._idleCheckInterval = $config.idleCheckInterval || 1000;\n\t\t\tthis._warmStart = $config.warmStart || false;\n\t\t\tthis._globals = $config.globals;\n\t\t\tthis._globalsInitializationFunction = $config.initialize;\n\t\n\t\t\tthis._workers = [];\n\t\t\tthis._workersInitializing = [];\n\t\t\tthis._queue = [];\n\t\t\tthis._onWorkerTaskComplete = this._onWorkerTaskComplete.bind(this);\n\t\t\tthis._flushIdleWorkers = this._flushIdleWorkers.bind(this);\n\t\n\t\t\tif (this._warmStart) {\n\t\t\t\tfor (var i = 0; i < this._maxWorkers; i++) {\n\t\t\t\t\tthis._createWorker();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t\t_createClass(WorkerManager, [{\n\t\t\tkey: 'getActiveWorkerCount',\n\t\t\tvalue: function getActiveWorkerCount() {\n\t\t\t\treturn this._workersInitializing.length + this._workers.length;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'run',\n\t\t\tvalue: function run(task) {\n\t\t\t\tif (this._idleTimeout && typeof this._idleCheckIntervalID !== 'number') {\n\t\t\t\t\tthis._idleCheckIntervalID = setInterval(this._flushIdleWorkers, this._idleCheckInterval);\n\t\t\t\t}\n\t\n\t\t\t\tif (!task.arguments || typeof task.arguments.length === 'undefined') {\n\t\t\t\t\tthrow new Error('task.js: \"arguments\" is required property, and it must be an array/array-like');\n\t\t\t\t}\n\t\n\t\t\t\tif (!task['function'] && (typeof task['function'] !== 'function' || typeof task['function'] !== 'string')) {\n\t\t\t\t\tthrow new Error('task.js: \"function\" is required property, and it must be a string or a function');\n\t\t\t\t}\n\t\n\t\t\t\tif (_typeof(task.arguments) === 'object') {\n\t\t\t\t\ttask.arguments = Array.prototype.slice.call(task.arguments);\n\t\t\t\t}\n\t\n\t\t\t\tif (!task.callback) {\n\t\t\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\t\t\ttask.resolve = resolve;\n\t\t\t\t\t\ttask.reject = reject;\n\t\t\t\t\t\tthis._queue.push(task);\n\t\t\t\t\t\tthis._next();\n\t\t\t\t\t}.bind(this));\n\t\t\t\t} else {\n\t\t\t\t\tthis._queue.push(task);\n\t\t\t\t\tthis._next();\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_runOnWorker',\n\t\t\tvalue: function _runOnWorker(worker, args, func) {\n\t\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\t\tworker.run({\n\t\t\t\t\t\targuments: args,\n\t\t\t\t\t\t'function': func,\n\t\t\t\t\t\tresolve: resolve,\n\t\t\t\t\t\treject: reject\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'wrap',\n\t\t\tvalue: function wrap(func) {\n\t\t\t\treturn function () {\n\t\t\t\t\tvar args = Array.from(arguments),\n\t\t\t\t\t    callback = null;\n\t\n\t\t\t\t\tif (typeof args[args.length - 1] === 'function') {\n\t\t\t\t\t\t// apparently splice is broken in ie8\n\t\t\t\t\t\tcallback = args.slice(-1).pop();\n\t\t\t\t\t\targs = args.slice(0, -1);\n\t\t\t\t\t}\n\t\n\t\t\t\t\treturn this.run({\n\t\t\t\t\t\targuments: args,\n\t\t\t\t\t\t'function': func,\n\t\t\t\t\t\tcallback: callback\n\t\t\t\t\t});\n\t\t\t\t}.bind(this);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'terminate',\n\t\t\tvalue: function terminate() {\n\t\t\t\t// kill idle timeout (if it exists)\n\t\t\t\tif (this._idleTimeout && typeof this._idleCheckIntervalID == 'number') {\n\t\t\t\t\tclearInterval(this._idleCheckIntervalID);\n\t\t\t\t\tthis._idleCheckIntervalID = null;\n\t\t\t\t}\n\t\n\t\t\t\t// terminate all existing workers\n\t\t\t\tthis._workers.forEach(function (worker) {\n\t\t\t\t\tworker.terminate();\n\t\t\t\t});\n\t\n\t\t\t\t// flush worker pool\n\t\t\t\tthis._workers = [];\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_flushIdleWorkers',\n\t\t\tvalue: function _flushIdleWorkers() {\n\t\t\t\tthis._workers = this._workers.filter(function (worker) {\n\t\t\t\t\tif (worker.tasks.length === 0 && new Date() - worker.lastTaskTimestamp > this._idleTimeout) {\n\t\t\t\t\t\tworker.terminate();\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}, this);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_getWorker',\n\t\t\tvalue: function _getWorker() {\n\t\t\t\tvar idleWorkers = this._workers.filter(function (worker) {\n\t\t\t\t\treturn worker.tasks.length === 0;\n\t\t\t\t});\n\t\n\t\t\t\tif (idleWorkers.length) {\n\t\t\t\t\treturn idleWorkers[0];\n\t\t\t\t} else if (this._workers.length < this._maxWorkers && this._workersInitializing.length === 0) {\n\t\t\t\t\treturn this._createWorker();\n\t\t\t\t} else {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_createWorker',\n\t\t\tvalue: function _createWorker() {\n\t\t\t\tvar worker = new _Worker2['default']({\n\t\t\t\t\tonTaskComplete: this._onWorkerTaskComplete,\n\t\t\t\t\tonExit: this._onWorkerExit\n\t\t\t\t}, this._WorkerProxy);\n\t\n\t\t\t\tif (this._globalsInitializationFunction || this._globals) {\n\t\t\t\t\tvar globalsInitializationFunction = ('\\n\\t\\t\\t\\tfunction (_globals) {\\n\\t\\t\\t\\t\\tglobals = (' + (this._globalsInitializationFunction || function (globals) {\n\t\t\t\t\t\treturn globals;\n\t\t\t\t\t}).toString() + ')(_globals || {});\\n\\t\\t\\t\\t}\\n\\t\\t\\t').trim();\n\t\n\t\t\t\t\tthis._workersInitializing.push(worker);\n\t\t\t\t\tthis._runOnWorker(worker, [this._globals || {}], globalsInitializationFunction).then(function () {\n\t\t\t\t\t\tthis._workersInitializing = this._workersInitializing.filter(function (item) {\n\t\t\t\t\t\t\treturn item != worker;\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthis._workers.push(worker);\n\t\t\t\t\t}.bind(this));\n\t\t\t\t\treturn null;\n\t\t\t\t} else {\n\t\t\t\t\tthis._workers.push(worker);\n\t\t\t\t\treturn worker;\n\t\t\t\t}\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn WorkerManager;\n\t}();\n\t\n\tmodule.exports = WorkerManager;\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Worker = function () {\n\t\tfunction Worker($config, WorkerProxy) {\n\t\t\tvar _this = this;\n\t\n\t\t\t_classCallCheck(this, Worker);\n\t\n\t\t\tthis._onWorkerExit = function () {\n\t\t\t\t// something went wrong, and the worker died!\n\t\t\t\t_this._onExit(_this);\n\t\t\t};\n\t\n\t\t\tthis._onWorkerMessage = function (message) {\n\t\t\t\tvar taskIndex = null;\n\t\n\t\t\t\t_this.tasks.some(function (task, index) {\n\t\t\t\t\tif (message.id === task.id) {\n\t\t\t\t\t\ttaskIndex = index;\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\n\t\t\t\tif (taskIndex !== null) {\n\t\t\t\t\tvar task = _this.tasks[taskIndex];\n\t\t\t\t\tif (message.error) {\n\t\t\t\t\t\tif (task.callback) {\n\t\t\t\t\t\t\ttask.callback(new Error('task.js: ' + message.error));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttask.reject(new Error('task.js: ' + message.error));\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (task.callback) {\n\t\t\t\t\t\t\ttask.callback(null, message.result);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttask.resolve(message.result);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t_this._onTaskComplete(_this);\n\t\t\t\t\t_this.tasks.splice(taskIndex, 1);\n\t\t\t\t}\n\t\t\t};\n\t\n\t\t\tthis.worker = new WorkerProxy();\n\t\t\tthis.worker.addEventListener('message', this._onWorkerMessage);\n\t\t\tthis.worker.addEventListener('exit', this._onWorkerExit);\n\t\t\tthis.tasks = [];\n\t\t\tthis.lastTaskTimestamp = null;\n\t\n\t\t\tthis._onTaskComplete = $config.onTaskComplete;\n\t\t\tthis._onExit = $config.onExit;\n\t\t}\n\t\n\t\t_createClass(Worker, [{\n\t\t\tkey: '_generateTaskID',\n\t\t\tvalue: function _generateTaskID() {\n\t\t\t\tvar id = Math.random(),\n\t\t\t\t    exists = false;\n\t\n\t\t\t\tthis.tasks.some(function (task) {\n\t\t\t\t\tif (task.id === true) {\n\t\t\t\t\t\texists = true;\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\n\t\t\t\treturn exists ? this._generateTaskID() : id;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'run',\n\t\t\tvalue: function run($options) {\n\t\t\t\tvar id = this._generateTaskID();\n\t\n\t\t\t\tthis.lastTaskTimestamp = new Date();\n\t\n\t\t\t\tthis.tasks.push({\n\t\t\t\t\tid: id,\n\t\t\t\t\tresolve: $options.resolve,\n\t\t\t\t\treject: $options.reject,\n\t\t\t\t\tcallback: $options.callback,\n\t\t\t\t\t$options: $options\n\t\t\t\t});\n\t\n\t\t\t\tvar message = {\n\t\t\t\t\tid: id,\n\t\t\t\t\tfunc: String($options['function'])\n\t\t\t\t};\n\t\n\t\t\t\t// because of transferables (we want to keep this object flat)\n\t\t\t\tObject.keys($options.arguments).forEach(function (key, index) {\n\t\t\t\t\tmessage['argument' + index] = $options.arguments[index];\n\t\t\t\t});\n\t\n\t\t\t\tthis.worker.postMessage(message, $options.transferables);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_purgeTasks',\n\t\t\tvalue: function _purgeTasks(reason) {\n\t\t\t\tthis.tasks.forEach(function (task) {\n\t\t\t\t\tif (task.callback) {\n\t\t\t\t\t\ttask.callback(reason);\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttask.reject(reason);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tthis.tasks = [];\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'terminate',\n\t\t\tvalue: function terminate() {\n\t\t\t\tthis._purgeTasks();\n\t\t\t\tthis.worker.terminate();\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn Worker;\n\t}();\n\t\n\tmodule.exports = Worker;\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tmodule.exports = function generateTaskFactoryMethod(defaults, WorkerProxy, WorkerManager) {\n\t\treturn function ($config, WorkerProxyOverride) {\n\t\t\tvar config = {};\n\t\n\t\t\t// clone defaults\n\t\t\tObject.keys(defaults).forEach(function (key) {\n\t\t\t\treturn config[key] = defaults[key];\n\t\t\t});\n\t\n\t\t\t// apply user settings\n\t\t\tObject.keys($config).forEach(function (key) {\n\t\t\t\treturn config[key] = $config[key];\n\t\t\t});\n\t\n\t\t\treturn new WorkerManager(config, WorkerProxyOverride || WorkerProxy);\n\t\t};\n\t};\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _functionToObjectURL = __webpack_require__(2);\n\t\n\tvar _functionToObjectURL2 = _interopRequireDefault(_functionToObjectURL);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar WebWorkerProxy = function () {\n\t\tfunction WebWorkerProxy() {\n\t\t\tvar _this = this;\n\t\n\t\t\t_classCallCheck(this, WebWorkerProxy);\n\t\n\t\t\tthis.WORKER_SOURCE = 'function () {\\n\\t\\tonmessage = function (event) {\\n\\t\\t\\tvar message = event.data;\\n\\n\\t\\t\\tvar args = Object.keys(message).filter(function (key) {\\n\\t\\t\\t\\treturn key.match(/^argument/);\\n\\t\\t\\t}).sort(function (a, b) {\\n\\t\\t\\t\\treturn parseInt(a.slice(8), 10) - parseInt(b.slice(8), 10);\\n\\t\\t\\t}).map(function (key) {\\n\\t\\t\\t\\treturn message[key];\\n\\t\\t\\t});\\n\\n\\t\\t\\ttry {\\n\\t\\t\\t\\tpostMessage({id: message.id, result: eval(\\'(\\' + message.func + \\')\\').apply(null, args)});\\n\\t\\t\\t} catch (error) {\\n\\t\\t\\t\\tpostMessage({id: message.id, error: error.message});\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}';\n\t\n\t\t\tthis._onMessage = function (event) {\n\t\t\t\tvar message = event.data;\n\t\n\t\t\t\tvar callbacks = _this._listeners.message;\n\t\t\t\tif (callbacks) {\n\t\t\t\t\tcallbacks.forEach(function (callback) {\n\t\t\t\t\t\treturn callback(message);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\t\n\t\t\tthis._listeners = {};\n\t\t\tthis._worker = new Worker((0, _functionToObjectURL2['default'])(this.WORKER_SOURCE));\n\t\t\tthis._worker.addEventListener('message', this._onMessage);\n\t\t}\n\t\n\t\t_createClass(WebWorkerProxy, [{\n\t\t\tkey: 'addEventListener',\n\t\t\tvalue: function addEventListener(event, callback) {\n\t\t\t\tthis._listeners[event] = this._listeners[event] || [];\n\t\t\t\tthis._listeners[event].push(callback);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'postMessage',\n\t\t\tvalue: function postMessage(message, options) {\n\t\t\t\tthis._worker.postMessage(message, options);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'terminate',\n\t\t\tvalue: function terminate() {\n\t\t\t\tthis._worker.terminate();\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn WebWorkerProxy;\n\t}();\n\t\n\tmodule.exports = WebWorkerProxy;\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar CompatibilityWorkerProxy = function () {\n\t\tfunction CompatibilityWorkerProxy() {\n\t\t\tvar _this = this;\n\t\n\t\t\t_classCallCheck(this, CompatibilityWorkerProxy);\n\t\n\t\t\tthis._onMessage = function (event) {\n\t\t\t\tvar message = event;\n\t\n\t\t\t\tvar callbacks = _this._listeners.message;\n\t\t\t\tif (callbacks) {\n\t\t\t\t\tcallbacks.forEach(function (callback) {\n\t\t\t\t\t\treturn callback(message);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\t\n\t\t\tthis._listeners = {};\n\t\t\tthis._setTimeoutID = null;\n\t\t}\n\t\n\t\t_createClass(CompatibilityWorkerProxy, [{\n\t\t\tkey: 'addEventListener',\n\t\t\tvalue: function addEventListener(event, callback) {\n\t\t\t\tthis._listeners[event] = this._listeners[event] || [];\n\t\t\t\tthis._listeners[event].push(callback);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'postMessage',\n\t\t\tvalue: function postMessage(message, options) {\n\t\t\t\tvar _this2 = this;\n\t\n\t\t\t\t// toss it out of the event loop\n\t\t\t\tthis._setTimeoutID = setTimeout(function () {\n\t\t\t\t\tvar args = Object.keys(message).filter(function (key) {\n\t\t\t\t\t\treturn key.match(/^argument/);\n\t\t\t\t\t}).sort(function (a, b) {\n\t\t\t\t\t\treturn parseInt(a.slice(8), 10) - parseInt(b.slice(8), 10);\n\t\t\t\t\t}).map(function (key) {\n\t\t\t\t\t\treturn message[key];\n\t\t\t\t\t});\n\t\n\t\t\t\t\tvar functionBody = message.func.substring(message.func.indexOf('{') + 1, message.func.lastIndexOf('}')),\n\t\t\t\t\t    argNames = message.func.substring(message.func.indexOf('(') + 1, message.func.indexOf(')')).split(',');\n\t\n\t\t\t\t\tvar func = new (Function.prototype.bind.apply(Function, [null].concat(_toConsumableArray(argNames), [functionBody])))();\n\t\n\t\t\t\t\t// we cant use eval\n\t\t\t\t\ttry {\n\t\t\t\t\t\tvar result = func.apply(undefined, _toConsumableArray(args));\n\t\t\t\t\t\t_this2._onMessage({ id: message.id, result: result });\n\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\t_this2._onMessage({ id: message.id, 'error': error.message });\n\t\t\t\t\t}\n\t\t\t\t}, 1);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'terminate',\n\t\t\tvalue: function terminate() {\n\t\t\t\tclearTimeout(this._setTimeoutID);\n\t\t\t\tthis._setTimeoutID = null;\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn CompatibilityWorkerProxy;\n\t}();\n\t\n\tmodule.exports = CompatibilityWorkerProxy;\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** task.min.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 238bd7e15f2ddb8e4b92\n **/","import isModern from './isModern';\nimport WorkerManager from '../WorkerManager';\nimport generateTaskFactoryMethod from '../generateTaskFactoryMethod';\n\nconst defaults = {\n\tmaxWorkers: navigator.hardwareConcurrency\n};\n\nvar WorkerProxy = isModern() ? require('./WebWorkerProxy') : require('./CompatibilityWorkerProxy');\n\n// expose default instance directly\nmodule.exports = new WorkerManager(defaults, WorkerProxy);\n\n// allow custom settings (task.js factory)\nmodule.exports.defaults = generateTaskFactoryMethod(defaults, WorkerProxy, WorkerManager);\n\n\n/** WEBPACK FOOTER **\n ** ./src/client/index.js\n **/","import functionToObjectURL from './functionToObjectURL';\n\nmodule.exports = function isModern () {\n\tif (typeof Worker != 'undefined' && (window.URL || window.webkitURL)) {\n\t\ttry {\n\t\t\tvar worker = new Worker(functionToObjectURL(function () {}));\n\t\t\tworker.terminate();\n\t\t\treturn true;\n\t\t} catch (error) {}\n\t}\n\n\treturn false;\n};\n\n\n/** WEBPACK FOOTER **\n ** ./src/client/isModern.js\n **/","module.exports = function functionToObjectURL (func) {\n\tvar blob,\n\t\tstringFunc = func.toString();\n\n\tstringFunc = stringFunc.substring(stringFunc.indexOf('{') + 1, stringFunc.lastIndexOf('}'))\n\n\ttry {\n\t\tblob = new Blob([stringFunc], { 'type' : 'text/javascript' });\n\t} catch (error) { // Backwards-compatibility\n\t\twindow.BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder;\n\t\tblob = new BlobBuilder();\n\t\tblob.append(stringFunc);\n\t\tblob = blob.getBlob();\n\t}\n\n\treturn (window.URL || window.webkitURL).createObjectURL(blob);\n};\n\n\n/** WEBPACK FOOTER **\n ** ./src/client/functionToObjectURL.js\n **/","import Worker from './Worker';\n\nclass WorkerManager {\n\tconstructor ($config, WorkerProxy) {\n\t\t$config = $config || {};\n\n\t\tthis._WorkerProxy = WorkerProxy;\n\n\t\tthis._maxWorkers = $config.maxWorkers || 4;\n\t\tthis._idleTimeout = $config.idleTimeout === false ? false : $config.idleTimeout;\n\t\tthis._idleCheckInterval = $config.idleCheckInterval || 1000;\n\t\tthis._warmStart = $config.warmStart || false;\n\t\tthis._globals = $config.globals;\n\t\tthis._globalsInitializationFunction = $config.initialize;\n\n\t\tthis._workers = [];\n\t\tthis._workersInitializing = [];\n\t\tthis._queue = [];\n\t\tthis._onWorkerTaskComplete = this._onWorkerTaskComplete.bind(this);\n\t\tthis._flushIdleWorkers = this._flushIdleWorkers.bind(this);\n\n\t\tif (this._warmStart) {\n\t\t\tfor (var i = 0; i < this._maxWorkers; i++) {\n\t\t\t\tthis._createWorker();\n\t\t\t}\n\t\t}\n\t}\n\n\tgetActiveWorkerCount () {\n\t\treturn this._workersInitializing.length + this._workers.length;\n\t}\n\n\trun (task) {\n\t\tif (this._idleTimeout && typeof this._idleCheckIntervalID !== 'number') {\n\t\t\tthis._idleCheckIntervalID = setInterval(this._flushIdleWorkers, this._idleCheckInterval);\n\t\t}\n\n\t\tif (!task.arguments || typeof task.arguments.length === 'undefined') {\n\t\t\tthrow new Error('task.js: \"arguments\" is required property, and it must be an array/array-like');\n\t\t}\n\n\t\tif (!task.function && (typeof task.function !== 'function' || typeof task.function !== 'string')) {\n\t\t\tthrow new Error('task.js: \"function\" is required property, and it must be a string or a function');\n\t\t}\n\n\t\tif (typeof task.arguments === 'object') {\n\t\t\ttask.arguments = Array.prototype.slice.call(task.arguments);\n\t\t}\n\n\t\tif (!task.callback) {\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\ttask.resolve = resolve;\n\t\t\t\ttask.reject = reject;\n\t\t\t\tthis._queue.push(task);\n\t\t\t\tthis._next();\n\t\t\t}.bind(this));\n\t\t} else {\n\t\t\tthis._queue.push(task);\n\t\t\tthis._next();\n\t\t}\n\t}\n\n\t_runOnWorker(worker, args, func) {\n\t\treturn new Promise (function (resolve, reject) {\n\t\t\tworker.run({\n\t\t\t\targuments: args,\n\t\t\t\tfunction: func,\n\t\t\t\tresolve: resolve,\n\t\t\t\treject: reject\n\t\t\t});\n\t\t});\n\t}\n\n\twrap (func) {\n\t\treturn function () {\n\t\t\tvar args = Array.from(arguments),\n\t\t\t\tcallback = null;\n\n\t\t\tif (typeof args[args.length - 1] === 'function') {\n\t\t\t\t// apparently splice is broken in ie8\n\t\t\t\tcallback = args.slice(-1).pop();\n\t\t\t\targs = args.slice(0, -1);\n\t\t\t}\n\n\t\t\treturn this.run({\n\t\t\t\targuments: args,\n\t\t\t\tfunction: func,\n\t\t\t\tcallback: callback\n\t\t\t});\n\t\t}.bind(this);\n\t}\n\n\tterminate () {\n\t\t// kill idle timeout (if it exists)\n\t\tif (this._idleTimeout && typeof this._idleCheckIntervalID == 'number') {\n\t\t\tclearInterval(this._idleCheckIntervalID);\n\t\t\tthis._idleCheckIntervalID = null;\n\t\t}\n\n\t\t// terminate all existing workers\n\t\tthis._workers.forEach(function (worker) {\n\t\t\tworker.terminate();\n\t\t});\n\n\t\t// flush worker pool\n\t\tthis._workers = [];\n\t}\n\n\t_next = () => {\n\t\tif (!this._queue.length) return;\n\n\t\tlet worker = this._getWorker();\n\n\t\tif (!worker) {\n\t\t\tsetTimeout(this._next, 0);\n\t\t\treturn;\n\t\t}\n\n\t\tlet task = this._queue.shift();\n\n\t\tworker.run(task);\n\t}\n\n\t_onWorkerTaskComplete = () => {\n\t\tthis._next();\n\t}\n\n\t_onWorkerExit = (worker) => {\n\t\t// purge dead worker from pool\n\t\tthis._workers = this._workers.filter(item => item != worker);\n\n\t\t// add work back to queue\n\t\tworker.tasks.forEach(task => {\n\t\t\tthis._queue.push(task.$options);\n\t\t});\n\n\t\t// run tick\n\t\tthis._next();\n\t}\n\n\t_flushIdleWorkers () {\n\t\tthis._workers = this._workers.filter(function (worker) {\n\t\t\tif (worker.tasks.length === 0 && new Date() - worker.lastTaskTimestamp > this._idleTimeout) {\n\t\t\t\tworker.terminate();\n\t\t\t\treturn false;\n\t\t\t} else {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}, this);\n\t}\n\n\t_getWorker () {\n\t\tlet idleWorkers = this._workers.filter(worker => worker.tasks.length === 0);\n\n\t\tif (idleWorkers.length) {\n\t\t\treturn idleWorkers[0];\n\t\t} else if (this._workers.length < this._maxWorkers && this._workersInitializing.length === 0) {\n\t\t\treturn this._createWorker();\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t}\n\n\t_createWorker () {\n\t\tlet worker = new Worker({\n\t\t\tonTaskComplete: this._onWorkerTaskComplete,\n\t\t\tonExit: this._onWorkerExit\n\t\t}, this._WorkerProxy);\n\n\t\tif (this._globalsInitializationFunction || this._globals) {\n\t\t\tvar globalsInitializationFunction = `\n\t\t\t\tfunction (_globals) {\n\t\t\t\t\tglobals = (${(this._globalsInitializationFunction || function (globals) {return globals}).toString()})(_globals || {});\n\t\t\t\t}\n\t\t\t`.trim();\n\n\t\t\tthis._workersInitializing.push(worker);\n\t\t\tthis._runOnWorker(worker, [this._globals || {}], globalsInitializationFunction).then(function () {\n\t\t\t\tthis._workersInitializing = this._workersInitializing.filter(item => item != worker);\n\t\t\t\tthis._workers.push(worker);\n\t\t\t}.bind(this));\n\t\t\treturn null;\n\t\t} else {\n\t\t\tthis._workers.push(worker);\n\t\t\treturn worker;\n\t\t}\n\t}\n}\n\nmodule.exports = WorkerManager;\n\n\n/** WEBPACK FOOTER **\n ** ./src/WorkerManager.js\n **/","class Worker {\n\tconstructor ($config, WorkerProxy) {\n\t\tthis.worker = new WorkerProxy();\n\t\tthis.worker.addEventListener('message', this._onWorkerMessage);\n\t\tthis.worker.addEventListener('exit', this._onWorkerExit);\n\t\tthis.tasks = [];\n\t\tthis.lastTaskTimestamp = null;\n\n\t\tthis._onTaskComplete = $config.onTaskComplete;\n\t\tthis._onExit = $config.onExit;\n\t}\n\n\t_generateTaskID () {\n\t\tlet id = Math.random(),\n\t\t\texists = false;\n\n\t\tthis.tasks.some(function (task) {\n\t\t\tif (task.id === true) {\n\t\t\t\texists = true;\n\t\t\t\treturn true;\n\t\t\t}\n\t\t});\n\n\t\treturn exists ? this._generateTaskID() : id;\n\t}\n\n\t_onWorkerExit = () => {\n\t\t// something went wrong, and the worker died!\n\t\tthis._onExit(this);\n\t}\n\n\t_onWorkerMessage = (message) => {\n\t\tlet taskIndex = null;\n\n\t\tthis.tasks.some(function (task, index) {\n\t\t\tif (message.id === task.id) {\n\t\t\t\ttaskIndex = index;\n\t\t\t\treturn true;\n\t\t\t}\n\t\t});\n\n\t\tif (taskIndex !== null) {\n\t\t\tvar task = this.tasks[taskIndex];\n\t\t\tif (message.error) {\n\t\t\t\tif (task.callback) {\n\t\t\t\t\ttask.callback(new Error(`task.js: ${message.error}`));\n\t\t\t\t} else {\n\t\t\t\t\ttask.reject(new Error(`task.js: ${message.error}`));\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (task.callback) {\n\t\t\t\t\ttask.callback(null, message.result);\n\t\t\t\t} else {\n\t\t\t\t\ttask.resolve(message.result);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._onTaskComplete(this);\n\t\t\tthis.tasks.splice(taskIndex, 1);\n\t\t}\n\t}\n\n\trun ($options) {\n\t\tlet id = this._generateTaskID();\n\n\t\tthis.lastTaskTimestamp = new Date();\n\n\t\tthis.tasks.push({\n\t\t\tid: id,\n\t\t\tresolve: $options.resolve,\n\t\t\treject: $options.reject,\n\t\t\tcallback: $options.callback,\n\t\t\t$options: $options\n\t\t});\n\n\t\tlet message = {\n\t\t\tid: id,\n\t\t\tfunc: String($options.function)\n\t\t};\n\n\t\t// because of transferables (we want to keep this object flat)\n\t\tObject.keys($options.arguments).forEach(function (key, index) {\n\t\t\tmessage['argument' + index] = $options.arguments[index];\n\t\t});\n\n\t\tthis.worker.postMessage(message, $options.transferables);\n\t}\n\n\t_purgeTasks(reason) {\n\t\tthis.tasks.forEach(task => {\n\t\t\tif (task.callback) {\n\t\t\t\ttask.callback(reason);\n\t\t\t} else {\n\t\t\t\ttask.reject(reason);\n\t\t\t}\n\t\t});\n\t\tthis.tasks = [];\n\t}\n\n\tterminate () {\n\t\tthis._purgeTasks();\n\t\tthis.worker.terminate();\n\t}\n}\n\nmodule.exports = Worker;\n\n\n/** WEBPACK FOOTER **\n ** ./src/Worker.js\n **/","module.exports = function generateTaskFactoryMethod (defaults, WorkerProxy, WorkerManager) {\n\treturn function ($config, WorkerProxyOverride) {\n\t\tlet config = {};\n\n\t\t// clone defaults\n\t\tObject.keys(defaults).forEach(key => config[key] = defaults[key]);\n\n\t\t// apply user settings\n\t\tObject.keys($config).forEach(key => config[key] = $config[key]);\n\n\t\treturn new WorkerManager(config, WorkerProxyOverride || WorkerProxy);\n\t}\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/generateTaskFactoryMethod.js\n **/","import functionToObjectURL from './functionToObjectURL';\n\nclass WebWorkerProxy {\n\tconstructor () {\n\t\tthis._listeners = {};\n\t\tthis._worker = new Worker(functionToObjectURL(this.WORKER_SOURCE));\n\t\tthis._worker.addEventListener('message', this._onMessage);\n\t}\n\n\tWORKER_SOURCE = `function () {\n\t\tonmessage = function (event) {\n\t\t\tvar message = event.data;\n\n\t\t\tvar args = Object.keys(message).filter(function (key) {\n\t\t\t\treturn key.match(/^argument/);\n\t\t\t}).sort(function (a, b) {\n\t\t\t\treturn parseInt(a.slice(8), 10) - parseInt(b.slice(8), 10);\n\t\t\t}).map(function (key) {\n\t\t\t\treturn message[key];\n\t\t\t});\n\n\t\t\ttry {\n\t\t\t\tpostMessage({id: message.id, result: eval('(' + message.func + ')').apply(null, args)});\n\t\t\t} catch (error) {\n\t\t\t\tpostMessage({id: message.id, error: error.message});\n\t\t\t}\n\t\t}\n\t}`;\n\n\t_onMessage = (event) => {\n\t\tlet message = event.data;\n\n\t\tlet callbacks = this._listeners.message;\n\t\tif (callbacks) {\n\t\t\tcallbacks.forEach(callback => callback(message));\n\t\t}\n\t}\n\n\taddEventListener(event, callback) {\n\t\tthis._listeners[event] = this._listeners[event] || [];\n\t\tthis._listeners[event].push(callback);\n\t}\n\n\tpostMessage(message, options) {\n\t\tthis._worker.postMessage(message, options);\n\t}\n\n\tterminate () {\n\t\tthis._worker.terminate();\n\t}\n}\n\nmodule.exports = WebWorkerProxy;\n\n\n/** WEBPACK FOOTER **\n ** ./src/client/WebWorkerProxy.js\n **/","class CompatibilityWorkerProxy {\n\tconstructor () {\n\t\tthis._listeners = {};\n\t\tthis._setTimeoutID = null;\n\t}\n\n\t_onMessage = (event) => {\n\t\tlet message = event;\n\n\t\tlet callbacks = this._listeners.message;\n\t\tif (callbacks) {\n\t\t\tcallbacks.forEach(callback => callback(message));\n\t\t}\n\t}\n\n\taddEventListener(event, callback) {\n\t\tthis._listeners[event] = this._listeners[event] || [];\n\t\tthis._listeners[event].push(callback);\n\t}\n\n\tpostMessage(message, options) {\n\t\t// toss it out of the event loop\n\t\tthis._setTimeoutID = setTimeout(() => {\n\t\t\tlet args = Object.keys(message).filter(function (key) {\n\t\t\t\treturn key.match(/^argument/);\n\t\t\t}).sort(function (a, b) {\n\t\t\t\treturn parseInt(a.slice(8), 10) - parseInt(b.slice(8), 10);\n\t\t\t}).map(function (key) {\n\t\t\t\treturn message[key];\n\t\t\t});\n\n\t\t\tlet functionBody = message.func.substring(message.func.indexOf('{') + 1, message.func.lastIndexOf('}')),\n\t\t\t\targNames = message.func.substring(message.func.indexOf('(') + 1, message.func.indexOf(')')).split(',');\n\n\t\t\tlet func = (new Function(...argNames, functionBody));\n\n\t\t\t// we cant use eval\n\t\t\ttry {\n\t\t\t\tlet result = func(...args);\n\t\t\t\tthis._onMessage({id: message.id, result: result});\n\t\t\t} catch (error) {\n\t\t\t\tthis._onMessage({id: message.id, 'error': error.message});\n\t\t\t}\n\t\t}, 1);\n\t}\n\n\tterminate () {\n\t\tclearTimeout(this._setTimeoutID);\n\t\tthis._setTimeoutID = null;\n\t}\n}\n\nmodule.exports = CompatibilityWorkerProxy;\n\n\n/** WEBPACK FOOTER **\n ** ./src/client/CompatibilityWorkerProxy.js\n **/"],"sourceRoot":""}