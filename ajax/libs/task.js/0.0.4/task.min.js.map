{"version":3,"sources":["webpack:///task.min.js","webpack:///webpack/bootstrap 844c7102d27b649c2da7","webpack:///./src/client/index.js","webpack:///./src/client/WebWorkerProxy.js","webpack:///./src/client/CompatibilityWorkerProxy.js","webpack:///./src/WorkerManager.js","webpack:///./src/Worker.js"],"names":["task","modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","_WebWorkerProxy","_WebWorkerProxy2","_CompatibilityWorkerProxy","_CompatibilityWorkerProxy2","_WorkerManager","_WorkerManager2","defaults","maxWorkers","navigator","hardwareConcurrency","window","Worker","$config","WorkerProxy","config","Object","keys","forEach","key","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","defineProperty","protoProps","staticProps","prototype","WebWorkerProxy","_this","this","WORKER_SOURCE","_onMessage","event","message","data","callbacks","_listeners","callback","_worker","_functionToObjectURL","addEventListener","value","func","blob","stringFunc","toString","substring","indexOf","lastIndexOf","Blob","type","error","BlobBuilder","WebKitBlobBuilder","MozBlobBuilder","append","getBlob","URL","webkitURL","createObjectURL","push","options","postMessage","terminate","CompatibilityWorkerProxy","_this2","setTimeout","args","filter","match","sort","a","b","parseInt","slice","map","result","eval","apply","_Worker","_Worker2","WorkerManager","_next","_queue","worker","_getWorker","shift","run","_WorkerProxy","_maxWorkers","_idleTimeout","idleTimeout","_idleCheckInterval","idleCheckInterval","_workers","_onWorkerTaskComplete","bind","_flushIdleWorkers","_idleCheckIntervalID","setInterval","Promise","resolve","reject","arguments","Array","from","function","clearInterval","tasks","Date","lastTaskTimestamp","idleWorkers","_createWorker","onTaskComplete","_onWorkerMessage","_onTaskComplete","Math","random","exists","some","_generateTaskID","taskIndex","index","splice","$options","String","transferables"],"mappings":";AAAA,GAAIA,MACK,SAAUC,GCGnB,QAAAC,GAAAC,GAGA,GAAAC,EAAAD,GACA,MAAAC,GAAAD,GAAAE,OAGA,IAAAC,GAAAF,EAAAD,IACAE,WACAE,GAAAJ,EACAK,QAAA,EAUA,OANAP,GAAAE,GAAAM,KAAAH,EAAAD,QAAAC,IAAAD,QAAAH,GAGAI,EAAAE,QAAA,EAGAF,EAAAD,QAvBA,GAAAD,KAqCA,OATAF,GAAAQ,EAAAT,EAGAC,EAAAS,EAAAP,EAGAF,EAAAU,EAAA,GAGAV,EAAA,KDOM,SAASI,EAAQD,EAASH,GAE/B,YAcA,SAASW,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAASF,GE7DxF,GAAAG,GAAAf,EAAA,GFmDKgB,EAAmBL,EAAuBI,GElD/CE,EAAAjB,EAAA,GFsDKkB,EAA6BP,EAAuBM,GErDzDE,EAAAnB,EAAA,GFyDKoB,EAAkBT,EAAuBQ,GEvDxCE,GACLC,WAAYC,UAAUC,oBAIvBpB,GAAOD,QAAU,GAAAiB,cAAkBC,EAAUI,OAAOC,OAAPV,aAAAE,cAG7Cd,EAAOD,QAAQkB,SAAW,SAAUM,EAASC,GAC5C,GAAIC,KAQJ,OALAC,QAAOC,KAAKV,GAAUW,QAAQ,SAAAC,GAAA,MAAOJ,GAAOI,GAAOZ,EAASY,KAG5DH,OAAOC,KAAKJ,GAASK,QAAQ,SAAAC,GAAA,MAAOJ,GAAOI,GAAON,EAAQM,KAEnD,GAAAb,cAAkBS,EAAQD,GAAAZ,gBFoE5B,SAASZ,EAAQD,GAEtB,YAIA,SAAS+B,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAFhH,GAAIC,GAAe,WAAc,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAIC,GAAI,EAAGA,EAAID,EAAME,OAAQD,IAAK,CAAE,GAAIE,GAAaH,EAAMC,EAAIE,GAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,SAAWF,KAAYA,EAAWG,UAAW,GAAMjB,OAAOkB,eAAeR,EAAQI,EAAWX,IAAKW,IAAiB,MAAO,UAAUR,EAAaa,EAAYC,GAAiJ,MAA9HD,IAAYV,EAAiBH,EAAYe,UAAWF,GAAiBC,GAAaX,EAAiBH,EAAac,GAAqBd,MG7F3hBgB,EHiGgB,WGhGrB,QAAAA,KAAe,GAAAC,GAAAC,IAAApB,GAAAoB,KAAAF,GAAAE,KAMfC,cANe,0dAAAD,KAwCfE,WAAa,SAACC,GACb,GAAIC,GAAUD,EAAME,KAEhBC,EAAYP,EAAKQ,WAAWH,OAC5BE,IACHA,EAAU5B,QAAQ,SAAA8B,GAAA,MAAYA,GAASJ,MA5CxCJ,KAAKO,cACLP,KAAKS,QAAU,GAAIrC,QAAO4B,KAAKU,qBAAqBV,KAAKC,gBACzDD,KAAKS,QAAQE,iBAAiB,UAAWX,KAAKE,YH2J9C,MAtCAlB,GAAac,IACZnB,IAAK,uBACLiC,MAAO,SGpGaC,GACrB,GAAIC,GAAA,OACHC,EAAaF,EAAKG,UAEnBD,GAAaA,EAAWE,UAAUF,EAAWG,QAAQ,KAAO,EAAGH,EAAWI,YAAY,KAEtF,KACCL,EAAO,GAAIM,OAAML,IAAeM,KAAS,oBACxC,MAAOC,GACRnD,OAAOoD,YAAcpD,OAAOoD,aAAepD,OAAOqD,mBAAqBrD,OAAOsD,eAC9EX,EAAO,GAAIS,aACXT,EAAKY,OAAOX,GACZD,EAAOA,EAAKa,UAGb,OAAQxD,OAAOyD,KAAOzD,OAAO0D,WAAWC,gBAAgBhB,MHwGvDnC,IAAK,mBACLiC,MAAO,SG7FQT,EAAOK,GACvBR,KAAKO,WAAWJ,GAASH,KAAKO,WAAWJ,OACzCH,KAAKO,WAAWJ,GAAO4B,KAAKvB,MHgG3B7B,IAAK,cACLiC,MAAO,SG9FGR,EAAS4B,GACpBhC,KAAKS,QAAQwB,YAAY7B,EAAS4B,MHiGjCrD,IAAK,YACLiC,MAAO,WG9FRZ,KAAKS,QAAQyB,gBHmGNpC,IG/FThD,GAAOD,QAAUiD,GHsGX,SAAShD,OAAQD,SAEtB,YAIA,SAAS+B,iBAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAFhH,GAAIC,cAAe,WAAc,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAIC,GAAI,EAAGA,EAAID,EAAME,OAAQD,IAAK,CAAE,GAAIE,GAAaH,EAAMC,EAAIE,GAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,SAAWF,KAAYA,EAAWG,UAAW,GAAMjB,OAAOkB,eAAeR,EAAQI,EAAWX,IAAKW,IAAiB,MAAO,UAAUR,EAAaa,EAAYC,GAAiJ,MAA9HD,IAAYV,EAAiBH,EAAYe,UAAWF,GAAiBC,GAAaX,EAAiBH,EAAac,GAAqBd,MI1K3hBqD,yBJ8K0B,WI7K/B,QAAAA,4BAAe,GAAApC,GAAAC,IAAApB,iBAAAoB,KAAAmC,0BAAAnC,KAIfE,WAAa,SAACC,GACb,GAAIC,GAAUD,EAEVG,EAAYP,EAAKQ,WAAWH,OAC5BE,IACHA,EAAU5B,QAAQ,SAAA8B,GAAA,MAAYA,GAASJ,MARxCJ,KAAKO,cJ+NL,MA/BAvB,cAAamD,2BACZxD,IAAK,mBACLiC,MAAO,SItLQT,EAAOK,GACvBR,KAAKO,WAAWJ,GAASH,KAAKO,WAAWJ,OACzCH,KAAKO,WAAWJ,GAAO4B,KAAKvB,MJyL3B7B,IAAK,cACLiC,MAAO,QAASqB,aIvLN7B,QAAS4B,SAAS,GAAAI,QAAApC,IAE7BqC,YAAW,WACV,GAAIC,MAAO9D,OAAOC,KAAK2B,SAASmC,OAAO,SAAU5D,GAChD,MAAOA,GAAI6D,MAAM,eACfC,KAAK,SAAUC,EAAGC,GACpB,MAAOC,UAASF,EAAEG,MAAM,GAAI,IAAMD,SAASD,EAAEE,MAAM,GAAI,MACrDC,IAAI,SAAUnE,GAChB,MAAOyB,SAAQzB,IAGhByD,QAAKlC,YAAYnD,GAAIqD,QAAQrD,GAAIgG,OAAQC,KAAK,IAAM5C,QAAQS,KAAO,KAAKoC,MAAM,KAAMX,SAClF,MJ4LF3D,IAAK,YACLiC,MAAO,WIzLRZ,KAAKS,QAAQyB,gBJ8LNC,2BI1LTrF,QAAOD,QAAUsF,0BJiMX,SAASrF,EAAQD,EAASH,GAE/B,YAQA,SAASW,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAASF,GAEvF,QAASsB,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCARhH,GAAIC,GAAe,WAAc,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAIC,GAAI,EAAGA,EAAID,EAAME,OAAQD,IAAK,CAAE,GAAIE,GAAaH,EAAMC,EAAIE,GAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,SAAWF,KAAYA,EAAWG,UAAW,GAAMjB,OAAOkB,eAAeR,EAAQI,EAAWX,IAAKW,IAAiB,MAAO,UAAUR,EAAaa,EAAYC,GAAiJ,MAA9HD,IAAYV,EAAiBH,EAAYe,UAAWF,GAAiBC,GAAaX,EAAiBH,EAAac,GAAqBd,MK5OjiBoE,EAAAxG,EAAA,GLgPKyG,EAAW9F,EAAuB6F,GK9OjCE,ELoPe,WKnPpB,QAAAA,GAAa/E,EAASC,GAAa,GAAAyB,GAAAC,IAAApB,GAAAoB,KAAAoD,GAAApD,KAsDnCqD,MAAQ,WACP,GAAKtD,EAAKuD,OAAOjE,OAAjB,CAEA,GAAIkE,GAASxD,EAAKyD,YAElB,KAAKD,EAEJ,WADAlB,YAAWtC,EAAKsD,MAAO,EAIxB,IAAI7G,GAAOuD,EAAKuD,OAAOG,OAEvBF,GAAOG,IAAIlH,KAjEX6B,EAAUA,MAEV2B,KAAK2D,aAAerF,EAEpB0B,KAAK4D,YAAcvF,EAAQL,YAAc,EACzCgC,KAAK6D,aAAexF,EAAQyF,eAAgB,IAAgBzF,EAAQyF,aAAe,KACnF9D,KAAK+D,mBAAqB1F,EAAQ2F,mBAAqB,IAEvDhE,KAAKiE,YACLjE,KAAKsD,UACLtD,KAAKkE,sBAAwBlE,KAAKkE,sBAAsBC,KAAKnE,MAC7DA,KAAKoE,kBAAoBpE,KAAKoE,kBAAkBD,KAAKnE,MLiWrD,MAvFAhB,GAAaoE,IACZzE,IAAK,MACLiC,MAAO,SKzQJpE,GAKJ,MAJIwD,MAAK6D,cAAqD,gBAA9B7D,MAAKqE,uBACpCrE,KAAKqE,qBAAuBC,YAAYtE,KAAKoE,kBAAmBpE,KAAK+D,qBAG/D,GAAIQ,SAAQ,SAAUC,EAASC,GAErCjI,EAAKgI,QAAUA,EACfhI,EAAKiI,OAASA,EACdzE,KAAKsD,OAAOvB,KAAKvF,GACjBwD,KAAKqD,SACJc,KAAKnE,UL4QNrB,IAAK,OACLiC,MAAO,SK1QHC,GACL,MAAO,YACN,MAAOb,MAAK0D,KACXgB,UAAWC,MAAMC,KAAKF,WACtBG,WAAUhE,KAEVsD,KAAKnE,SL6QNrB,IAAK,YACLiC,MAAO,WKzQJZ,KAAK6D,cAAoD,gBAA7B7D,MAAKqE,uBACpCS,cAAc9E,KAAKqE,sBACnBrE,KAAKqE,qBAAuB,MAI7BrE,KAAKiE,SAASvF,QAAQ,SAAU6E,GAC/BA,EAAOA,OAAOrB,cAIflC,KAAKiE,eL8QJtF,IAAK,wBACLiC,MAAO,WK5PRZ,KAAKqD,WLgQJ1E,IAAK,oBACLiC,MAAO,WK7PRZ,KAAKiE,SAAWjE,KAAKiE,SAAS1B,OAAO,SAAUgB,GAC9C,QAA4B,IAAxBA,EAAOwB,MAAM1F,QAAgB,GAAI2F,MAASzB,EAAO0B,kBAAoBjF,KAAK6D,gBAC7EN,EAAOA,OAAOrB,aACP,IAINlC,SLiQFrB,IAAK,aACLiC,MAAO,WK9PR,GAAIsE,GAAclF,KAAKiE,SAAS1B,OAAO,SAAAgB,GAAA,MAAkC,KAAxBA,EAAOwB,MAAM1F,QAE9D,OAAI6F,GAAY7F,OACR6F,EAAY,GACTlF,KAAKiE,SAAS5E,OAASW,KAAK4D,YAC/B5D,KAAKmF,gBAEL,QLqQPxG,IAAK,gBACLiC,MAAO,WKjQR,GAAI2C,GAAS,GAAAJ,eACZiC,eAAgBpF,KAAKkE,uBACnBlE,KAAK2D,aAIR,OAFA3D,MAAKiE,SAASlC,KAAKwB,GAEZA,MLsQAH,IKlQTtG,GAAOD,QAAUuG,GLyQX,SAAStG,EAAQD,GAEtB,YAIA,SAAS+B,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAFhH,GAAIC,GAAe,WAAc,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAIC,GAAI,EAAGA,EAAID,EAAME,OAAQD,IAAK,CAAE,GAAIE,GAAaH,EAAMC,EAAIE,GAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,SAAWF,KAAYA,EAAWG,UAAW,GAAMjB,OAAOkB,eAAeR,EAAQI,EAAWX,IAAKW,IAAiB,MAAO,UAAUR,EAAaa,EAAYC,GAAiJ,MAA9HD,IAAYV,EAAiBH,EAAYe,UAAWF,GAAiBC,GAAaX,EAAiBH,EAAac,GAAqBd,MM3X3hBV,EN+XQ,WM9Xb,QAAAA,GAAaC,EAASC,GAAaM,EAAAoB,KAAA5B,GAClC4B,KAAKuD,OAAS,GAAIjF,GAClB0B,KAAKuD,OAAO5C,iBAAiB,UAAWX,KAAKqF,iBAAiBlB,KAAKnE,OACnEA,KAAK+E,SACL/E,KAAKiF,kBAAoB,KAEzBjF,KAAKsF,gBAAkBjH,EAAQ+G,eNgc/B,MA5DApG,GAAaZ,IACZO,IAAK,kBACLiC,MAAO,WMlYR,GAAI7D,GAAKwI,KAAKC,SACbC,GAAS,CASV,OAPAzF,MAAK+E,MAAMW,KAAK,SAAUlJ,GACzB,GAAIA,EAAKO,MAAO,EAEf,MADA0I,IAAS,GACF,IAIFA,EAASzF,KAAK2F,kBAAoB5I,KNsYxC4B,IAAK,mBACLiC,MAAO,SMpYSR,GACjB,GAAIwF,GAAY,IAEhB5F,MAAK+E,MAAMW,KAAK,SAAUlJ,EAAMqJ,GAC/B,GAAIzF,EAAQrD,KAAOP,EAAKO,GAEvB,MADA6I,GAAYC,GACL,IAIS,OAAdD,IACH5F,KAAK+E,MAAMa,GAAWpB,QAAQpE,EAAQ2C,QACtC/C,KAAKsF,gBAAgBtF,MACrBA,KAAK+E,MAAMe,OAAOF,EAAW,ONwY7BjH,IAAK,MACLiC,MAAO,SMrYJmF,GACJ,GAAIhJ,GAAKiD,KAAK2F,iBAEd3F,MAAKiF,kBAAoB,GAAID,MAE7BhF,KAAK+E,MAAMhD,MACVhF,GAAIA,EACJyH,QAASuB,EAASvB,QAClBC,OAAQsB,EAAStB,QAGlB,IAAIrE,IACHrD,GAAIA,EACJ8D,KAAMmF,OAAOD,eAIdvH,QAAOC,KAAKsH,EAASrB,WAAWhG,QAAQ,SAAUC,EAAKkH,GACtDzF,EAAQ,WAAayF,GAASE,EAASrB,UAAUmB,KAGlD7F,KAAKuD,OAAOtB,YAAY7B,EAAS2F,EAASE,mBNyYnC7H,IMrYTtB,GAAOD,QAAUuB","file":"task.min.js","sourcesContent":["var task =\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _WebWorkerProxy = __webpack_require__(1);\n\t\n\tvar _WebWorkerProxy2 = _interopRequireDefault(_WebWorkerProxy);\n\t\n\tvar _CompatibilityWorkerProxy = __webpack_require__(2);\n\t\n\tvar _CompatibilityWorkerProxy2 = _interopRequireDefault(_CompatibilityWorkerProxy);\n\t\n\tvar _WorkerManager = __webpack_require__(3);\n\t\n\tvar _WorkerManager2 = _interopRequireDefault(_WorkerManager);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar defaults = {\n\t\tmaxWorkers: navigator.hardwareConcurrency\n\t};\n\t\n\t// expose default instance directly\n\tmodule.exports = new _WorkerManager2.default(defaults, window.Worker ? _WebWorkerProxy2.default : _CompatibilityWorkerProxy2.default);\n\t\n\t// allow custom settings (task.js factory)\n\tmodule.exports.defaults = function ($config, WorkerProxy) {\n\t\tvar config = {};\n\t\n\t\t// clone defaults\n\t\tObject.keys(defaults).forEach(function (key) {\n\t\t\treturn config[key] = defaults[key];\n\t\t});\n\t\n\t\t// apply user settings\n\t\tObject.keys($config).forEach(function (key) {\n\t\t\treturn config[key] = $config[key];\n\t\t});\n\t\n\t\treturn new _WorkerManager2.default(config, WorkerProxy || _WebWorkerProxy2.default);\n\t};\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar WebWorkerProxy = function () {\n\t\tfunction WebWorkerProxy() {\n\t\t\tvar _this = this;\n\t\n\t\t\t_classCallCheck(this, WebWorkerProxy);\n\t\n\t\t\tthis.WORKER_SOURCE = 'function () {\\n\\t\\tonmessage = function (event) {\\n\\t\\t\\tvar message = event.data;\\n\\n\\t\\t\\tvar args = Object.keys(message).filter(function (key) {\\n\\t\\t\\t\\treturn key.match(/^argument/);\\n\\t\\t\\t}).sort(function (a, b) {\\n\\t\\t\\t\\treturn parseInt(a.slice(8), 10) - parseInt(b.slice(8), 10);\\n\\t\\t\\t}).map(function (key) {\\n\\t\\t\\t\\treturn message[key];\\n\\t\\t\\t});\\n\\n\\t\\t\\tpostMessage({id: message.id, result: eval(\\'(\\' + message.func + \\')\\').apply(null, args)});\\n\\t\\t}\\n\\t}';\n\t\n\t\t\tthis._onMessage = function (event) {\n\t\t\t\tvar message = event.data;\n\t\n\t\t\t\tvar callbacks = _this._listeners.message;\n\t\t\t\tif (callbacks) {\n\t\t\t\t\tcallbacks.forEach(function (callback) {\n\t\t\t\t\t\treturn callback(message);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\t\n\t\t\tthis._listeners = {};\n\t\t\tthis._worker = new Worker(this._functionToObjectURL(this.WORKER_SOURCE));\n\t\t\tthis._worker.addEventListener('message', this._onMessage);\n\t\t}\n\t\n\t\t_createClass(WebWorkerProxy, [{\n\t\t\tkey: '_functionToObjectURL',\n\t\t\tvalue: function _functionToObjectURL(func) {\n\t\t\t\tvar blob = void 0,\n\t\t\t\t    stringFunc = func.toString();\n\t\n\t\t\t\tstringFunc = stringFunc.substring(stringFunc.indexOf('{') + 1, stringFunc.lastIndexOf('}'));\n\t\n\t\t\t\ttry {\n\t\t\t\t\tblob = new Blob([stringFunc], { 'type': 'text/javascript' });\n\t\t\t\t} catch (error) {\n\t\t\t\t\t// Backwards-compatibility\n\t\t\t\t\twindow.BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder;\n\t\t\t\t\tblob = new BlobBuilder();\n\t\t\t\t\tblob.append(stringFunc);\n\t\t\t\t\tblob = blob.getBlob();\n\t\t\t\t}\n\t\n\t\t\t\treturn (window.URL || window.webkitURL).createObjectURL(blob);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'addEventListener',\n\t\t\tvalue: function addEventListener(event, callback) {\n\t\t\t\tthis._listeners[event] = this._listeners[event] || [];\n\t\t\t\tthis._listeners[event].push(callback);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'postMessage',\n\t\t\tvalue: function postMessage(message, options) {\n\t\t\t\tthis._worker.postMessage(message, options);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'terminate',\n\t\t\tvalue: function terminate() {\n\t\t\t\tthis._worker.terminate();\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn WebWorkerProxy;\n\t}();\n\t\n\tmodule.exports = WebWorkerProxy;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar CompatibilityWorkerProxy = function () {\n\t\tfunction CompatibilityWorkerProxy() {\n\t\t\tvar _this = this;\n\t\n\t\t\t_classCallCheck(this, CompatibilityWorkerProxy);\n\t\n\t\t\tthis._onMessage = function (event) {\n\t\t\t\tvar message = event;\n\t\n\t\t\t\tvar callbacks = _this._listeners.message;\n\t\t\t\tif (callbacks) {\n\t\t\t\t\tcallbacks.forEach(function (callback) {\n\t\t\t\t\t\treturn callback(message);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\t\n\t\t\tthis._listeners = {};\n\t\t}\n\t\n\t\t_createClass(CompatibilityWorkerProxy, [{\n\t\t\tkey: 'addEventListener',\n\t\t\tvalue: function addEventListener(event, callback) {\n\t\t\t\tthis._listeners[event] = this._listeners[event] || [];\n\t\t\t\tthis._listeners[event].push(callback);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'postMessage',\n\t\t\tvalue: function postMessage(message, options) {\n\t\t\t\tvar _this2 = this;\n\t\n\t\t\t\t// toss it out of the event loop\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\tvar args = Object.keys(message).filter(function (key) {\n\t\t\t\t\t\treturn key.match(/^argument/);\n\t\t\t\t\t}).sort(function (a, b) {\n\t\t\t\t\t\treturn parseInt(a.slice(8), 10) - parseInt(b.slice(8), 10);\n\t\t\t\t\t}).map(function (key) {\n\t\t\t\t\t\treturn message[key];\n\t\t\t\t\t});\n\t\n\t\t\t\t\t_this2._onMessage({ id: message.id, result: eval('(' + message.func + ')').apply(null, args) });\n\t\t\t\t}, 1);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'terminate',\n\t\t\tvalue: function terminate() {\n\t\t\t\tthis._worker.terminate();\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn CompatibilityWorkerProxy;\n\t}();\n\t\n\tmodule.exports = CompatibilityWorkerProxy;\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _Worker = __webpack_require__(4);\n\t\n\tvar _Worker2 = _interopRequireDefault(_Worker);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar WorkerManager = function () {\n\t\tfunction WorkerManager($config, WorkerProxy) {\n\t\t\tvar _this = this;\n\t\n\t\t\t_classCallCheck(this, WorkerManager);\n\t\n\t\t\tthis._next = function () {\n\t\t\t\tif (!_this._queue.length) return;\n\t\n\t\t\t\tvar worker = _this._getWorker();\n\t\n\t\t\t\tif (!worker) {\n\t\t\t\t\tsetTimeout(_this._next, 0);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\n\t\t\t\tvar task = _this._queue.shift();\n\t\n\t\t\t\tworker.run(task);\n\t\t\t};\n\t\n\t\t\t$config = $config || {};\n\t\n\t\t\tthis._WorkerProxy = WorkerProxy;\n\t\n\t\t\tthis._maxWorkers = $config.maxWorkers || 4;\n\t\t\tthis._idleTimeout = $config.idleTimeout === false ? false : $config.idleTimeout || 10000;\n\t\t\tthis._idleCheckInterval = $config.idleCheckInterval || 1000;\n\t\n\t\t\tthis._workers = [];\n\t\t\tthis._queue = [];\n\t\t\tthis._onWorkerTaskComplete = this._onWorkerTaskComplete.bind(this);\n\t\t\tthis._flushIdleWorkers = this._flushIdleWorkers.bind(this);\n\t\t}\n\t\n\t\t_createClass(WorkerManager, [{\n\t\t\tkey: 'run',\n\t\t\tvalue: function run(task) {\n\t\t\t\tif (this._idleTimeout && typeof this._idleCheckIntervalID !== 'number') {\n\t\t\t\t\tthis._idleCheckIntervalID = setInterval(this._flushIdleWorkers, this._idleCheckInterval);\n\t\t\t\t}\n\t\n\t\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\t\t// kind of a hack\n\t\t\t\t\ttask.resolve = resolve;\n\t\t\t\t\ttask.reject = reject;\n\t\t\t\t\tthis._queue.push(task);\n\t\t\t\t\tthis._next();\n\t\t\t\t}.bind(this));\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'wrap',\n\t\t\tvalue: function wrap(func) {\n\t\t\t\treturn function () {\n\t\t\t\t\treturn this.run({\n\t\t\t\t\t\targuments: Array.from(arguments),\n\t\t\t\t\t\tfunction: func\n\t\t\t\t\t});\n\t\t\t\t}.bind(this);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'terminate',\n\t\t\tvalue: function terminate() {\n\t\t\t\t// kill idle timeout (if it exists)\n\t\t\t\tif (this._idleTimeout && typeof this._idleCheckIntervalID == 'number') {\n\t\t\t\t\tclearInterval(this._idleCheckIntervalID);\n\t\t\t\t\tthis._idleCheckIntervalID = null;\n\t\t\t\t}\n\t\n\t\t\t\t// terminate all existing workers\n\t\t\t\tthis._workers.forEach(function (worker) {\n\t\t\t\t\tworker.worker.terminate();\n\t\t\t\t});\n\t\n\t\t\t\t// flush worker pool\n\t\t\t\tthis._workers = [];\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_onWorkerTaskComplete',\n\t\t\tvalue: function _onWorkerTaskComplete() {\n\t\t\t\tthis._next();\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_flushIdleWorkers',\n\t\t\tvalue: function _flushIdleWorkers() {\n\t\t\t\tthis._workers = this._workers.filter(function (worker) {\n\t\t\t\t\tif (worker.tasks.length === 0 && new Date() - worker.lastTaskTimestamp > this._idleTimeout) {\n\t\t\t\t\t\tworker.worker.terminate();\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}, this);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_getWorker',\n\t\t\tvalue: function _getWorker() {\n\t\t\t\tvar idleWorkers = this._workers.filter(function (worker) {\n\t\t\t\t\treturn worker.tasks.length === 0;\n\t\t\t\t});\n\t\n\t\t\t\tif (idleWorkers.length) {\n\t\t\t\t\treturn idleWorkers[0];\n\t\t\t\t} else if (this._workers.length < this._maxWorkers) {\n\t\t\t\t\treturn this._createWorker();\n\t\t\t\t} else {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_createWorker',\n\t\t\tvalue: function _createWorker() {\n\t\t\t\tvar worker = new _Worker2.default({\n\t\t\t\t\tonTaskComplete: this._onWorkerTaskComplete\n\t\t\t\t}, this._WorkerProxy);\n\t\n\t\t\t\tthis._workers.push(worker);\n\t\n\t\t\t\treturn worker;\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn WorkerManager;\n\t}();\n\t\n\tmodule.exports = WorkerManager;\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Worker = function () {\n\t\tfunction Worker($config, WorkerProxy) {\n\t\t\t_classCallCheck(this, Worker);\n\t\n\t\t\tthis.worker = new WorkerProxy();\n\t\t\tthis.worker.addEventListener('message', this._onWorkerMessage.bind(this));\n\t\t\tthis.tasks = [];\n\t\t\tthis.lastTaskTimestamp = null;\n\t\n\t\t\tthis._onTaskComplete = $config.onTaskComplete;\n\t\t}\n\t\n\t\t_createClass(Worker, [{\n\t\t\tkey: '_generateTaskID',\n\t\t\tvalue: function _generateTaskID() {\n\t\t\t\tvar id = Math.random(),\n\t\t\t\t    exists = false;\n\t\n\t\t\t\tthis.tasks.some(function (task) {\n\t\t\t\t\tif (task.id === true) {\n\t\t\t\t\t\texists = true;\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\n\t\t\t\treturn exists ? this._generateTaskID() : id;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_onWorkerMessage',\n\t\t\tvalue: function _onWorkerMessage(message) {\n\t\t\t\tvar taskIndex = null;\n\t\n\t\t\t\tthis.tasks.some(function (task, index) {\n\t\t\t\t\tif (message.id === task.id) {\n\t\t\t\t\t\ttaskIndex = index;\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\n\t\t\t\tif (taskIndex !== null) {\n\t\t\t\t\tthis.tasks[taskIndex].resolve(message.result);\n\t\t\t\t\tthis._onTaskComplete(this);\n\t\t\t\t\tthis.tasks.splice(taskIndex, 1);\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'run',\n\t\t\tvalue: function run($options) {\n\t\t\t\tvar id = this._generateTaskID();\n\t\n\t\t\t\tthis.lastTaskTimestamp = new Date();\n\t\n\t\t\t\tthis.tasks.push({\n\t\t\t\t\tid: id,\n\t\t\t\t\tresolve: $options.resolve,\n\t\t\t\t\treject: $options.reject\n\t\t\t\t});\n\t\n\t\t\t\tvar message = {\n\t\t\t\t\tid: id,\n\t\t\t\t\tfunc: String($options.function)\n\t\t\t\t};\n\t\n\t\t\t\t// because of transferables (we want to keep this object flat)\n\t\t\t\tObject.keys($options.arguments).forEach(function (key, index) {\n\t\t\t\t\tmessage['argument' + index] = $options.arguments[index];\n\t\t\t\t});\n\t\n\t\t\t\tthis.worker.postMessage(message, $options.transferables);\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn Worker;\n\t}();\n\t\n\tmodule.exports = Worker;\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** task.min.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 844c7102d27b649c2da7\n **/","import WebWorkerProxy from './WebWorkerProxy';\nimport CompatibilityWorkerProxy from './CompatibilityWorkerProxy';\nimport WorkerManager from '../WorkerManager';\n\nconst defaults = {\n\tmaxWorkers: navigator.hardwareConcurrency\n};\n\n// expose default instance directly\nmodule.exports = new WorkerManager(defaults, window.Worker ? WebWorkerProxy : CompatibilityWorkerProxy);\n\n// allow custom settings (task.js factory)\nmodule.exports.defaults = function ($config, WorkerProxy) {\n\tlet config = {};\n\n\t// clone defaults\n\tObject.keys(defaults).forEach(key => config[key] = defaults[key]);\n\n\t// apply user settings\n\tObject.keys($config).forEach(key => config[key] = $config[key]);\n\n\treturn new WorkerManager(config, WorkerProxy || WebWorkerProxy);\n};\n\n\n/** WEBPACK FOOTER **\n ** ./src/client/index.js\n **/","class WebWorkerProxy {\n\tconstructor () {\n\t\tthis._listeners = {};\n\t\tthis._worker = new Worker(this._functionToObjectURL(this.WORKER_SOURCE));\n\t\tthis._worker.addEventListener('message', this._onMessage);\n\t}\n\n\tWORKER_SOURCE = `function () {\n\t\tonmessage = function (event) {\n\t\t\tvar message = event.data;\n\n\t\t\tvar args = Object.keys(message).filter(function (key) {\n\t\t\t\treturn key.match(/^argument/);\n\t\t\t}).sort(function (a, b) {\n\t\t\t\treturn parseInt(a.slice(8), 10) - parseInt(b.slice(8), 10);\n\t\t\t}).map(function (key) {\n\t\t\t\treturn message[key];\n\t\t\t});\n\n\t\t\tpostMessage({id: message.id, result: eval('(' + message.func + ')').apply(null, args)});\n\t\t}\n\t}`;\n\n\t_functionToObjectURL (func) {\n\t\tlet blob,\n\t\t\tstringFunc = func.toString();\n\n\t\tstringFunc = stringFunc.substring(stringFunc.indexOf('{') + 1, stringFunc.lastIndexOf('}'))\n\n\t\ttry {\n\t\t\tblob = new Blob([stringFunc], { 'type' : 'text/javascript' });\n\t\t} catch (error) { // Backwards-compatibility\n\t\t\twindow.BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder;\n\t\t\tblob = new BlobBuilder();\n\t\t\tblob.append(stringFunc);\n\t\t\tblob = blob.getBlob();\n\t\t}\n\n\t\treturn (window.URL || window.webkitURL).createObjectURL(blob);\n\t}\n\n\t_onMessage = (event) => {\n\t\tlet message = event.data;\n\n\t\tlet callbacks = this._listeners.message;\n\t\tif (callbacks) {\n\t\t\tcallbacks.forEach(callback => callback(message));\n\t\t}\n\t}\n\n\taddEventListener(event, callback) {\n\t\tthis._listeners[event] = this._listeners[event] || [];\n\t\tthis._listeners[event].push(callback);\n\t}\n\n\tpostMessage(message, options) {\n\t\tthis._worker.postMessage(message, options);\n\t}\n\n\tterminate () {\n\t\tthis._worker.terminate();\n\t}\n}\n\nmodule.exports = WebWorkerProxy;\n\n\n/** WEBPACK FOOTER **\n ** ./src/client/WebWorkerProxy.js\n **/","class CompatibilityWorkerProxy {\n\tconstructor () {\n\t\tthis._listeners = {};\n\t}\n\n\t_onMessage = (event) => {\n\t\tlet message = event;\n\n\t\tlet callbacks = this._listeners.message;\n\t\tif (callbacks) {\n\t\t\tcallbacks.forEach(callback => callback(message));\n\t\t}\n\t}\n\n\taddEventListener(event, callback) {\n\t\tthis._listeners[event] = this._listeners[event] || [];\n\t\tthis._listeners[event].push(callback);\n\t}\n\n\tpostMessage(message, options) {\n\t\t// toss it out of the event loop\n\t\tsetTimeout(() => {\n\t\t\tlet args = Object.keys(message).filter(function (key) {\n\t\t\t\treturn key.match(/^argument/);\n\t\t\t}).sort(function (a, b) {\n\t\t\t\treturn parseInt(a.slice(8), 10) - parseInt(b.slice(8), 10);\n\t\t\t}).map(function (key) {\n\t\t\t\treturn message[key];\n\t\t\t});\n\n\t\t\tthis._onMessage({id: message.id, result: eval('(' + message.func + ')').apply(null, args)});\n\t\t}, 1);\n\t}\n\n\tterminate () {\n\t\tthis._worker.terminate();\n\t}\n}\n\nmodule.exports = CompatibilityWorkerProxy;\n\n\n/** WEBPACK FOOTER **\n ** ./src/client/CompatibilityWorkerProxy.js\n **/","import Worker from './Worker';\n\nclass WorkerManager {\n\tconstructor ($config, WorkerProxy) {\n\t\t$config = $config || {};\n\n\t\tthis._WorkerProxy = WorkerProxy;\n\n\t\tthis._maxWorkers = $config.maxWorkers || 4;\n\t\tthis._idleTimeout = $config.idleTimeout === false ? false : $config.idleTimeout || 10000;\n\t\tthis._idleCheckInterval = $config.idleCheckInterval || 1000;\n\n\t\tthis._workers = [];\n\t\tthis._queue = [];\n\t\tthis._onWorkerTaskComplete = this._onWorkerTaskComplete.bind(this);\n\t\tthis._flushIdleWorkers = this._flushIdleWorkers.bind(this);\n\t}\n\n\trun (task) {\n\t\tif (this._idleTimeout && typeof this._idleCheckIntervalID !== 'number') {\n\t\t\tthis._idleCheckIntervalID = setInterval(this._flushIdleWorkers, this._idleCheckInterval);\n\t\t}\n\n\t\treturn new Promise(function (resolve, reject) {\n\t\t\t// kind of a hack\n\t\t\ttask.resolve = resolve;\n\t\t\ttask.reject = reject;\n\t\t\tthis._queue.push(task);\n\t\t\tthis._next();\n\t\t}.bind(this));\n\t}\n\n\twrap (func) {\n\t\treturn function () {\n\t\t\treturn this.run({\n\t\t\t\targuments: Array.from(arguments),\n\t\t\t\tfunction: func\n\t\t\t});\n\t\t}.bind(this);\n\t}\n\n\tterminate () {\n\t\t// kill idle timeout (if it exists)\n\t\tif (this._idleTimeout && typeof this._idleCheckIntervalID == 'number') {\n\t\t\tclearInterval(this._idleCheckIntervalID);\n\t\t\tthis._idleCheckIntervalID = null;\n\t\t}\n\n\t\t// terminate all existing workers\n\t\tthis._workers.forEach(function (worker) {\n\t\t\tworker.worker.terminate();\n\t\t});\n\n\t\t// flush worker pool\n\t\tthis._workers = [];\n\t}\n\n\t_next = () => {\n\t\tif (!this._queue.length) return;\n\n\t\tlet worker = this._getWorker();\n\n\t\tif (!worker) {\n\t\t\tsetTimeout(this._next, 0);\n\t\t\treturn;\n\t\t}\n\n\t\tlet task = this._queue.shift();\n\n\t\tworker.run(task);\n\t}\n\n\t_onWorkerTaskComplete () {\n\t\tthis._next();\n\t}\n\n\t_flushIdleWorkers () {\n\t\tthis._workers = this._workers.filter(function (worker) {\n\t\t\tif (worker.tasks.length === 0 && new Date() - worker.lastTaskTimestamp > this._idleTimeout) {\n\t\t\t\tworker.worker.terminate();\n\t\t\t\treturn false;\n\t\t\t} else {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}, this);\n\t}\n\n\t_getWorker () {\n\t\tlet idleWorkers = this._workers.filter(worker => worker.tasks.length === 0);\n\n\t\tif (idleWorkers.length) {\n\t\t\treturn idleWorkers[0];\n\t\t} else if (this._workers.length < this._maxWorkers) {\n\t\t\treturn this._createWorker();\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t}\n\n\t_createWorker () {\n\t\tlet worker = new Worker({\n\t\t\tonTaskComplete: this._onWorkerTaskComplete\n\t\t}, this._WorkerProxy);\n\n\t\tthis._workers.push(worker);\n\n\t\treturn worker;\n\t}\n}\n\nmodule.exports = WorkerManager;\n\n\n/** WEBPACK FOOTER **\n ** ./src/WorkerManager.js\n **/","class Worker {\n\tconstructor ($config, WorkerProxy) {\n\t\tthis.worker = new WorkerProxy();\n\t\tthis.worker.addEventListener('message', this._onWorkerMessage.bind(this));\n\t\tthis.tasks = [];\n\t\tthis.lastTaskTimestamp = null;\n\n\t\tthis._onTaskComplete = $config.onTaskComplete;\n\t}\n\n\t_generateTaskID () {\n\t\tlet id = Math.random(),\n\t\t\texists = false;\n\n\t\tthis.tasks.some(function (task) {\n\t\t\tif (task.id === true) {\n\t\t\t\texists = true;\n\t\t\t\treturn true;\n\t\t\t}\n\t\t});\n\n\t\treturn exists ? this._generateTaskID() : id;\n\t}\n\n\t_onWorkerMessage (message) {\n\t\tlet taskIndex = null;\n\n\t\tthis.tasks.some(function (task, index) {\n\t\t\tif (message.id === task.id) {\n\t\t\t\ttaskIndex = index;\n\t\t\t\treturn true;\n\t\t\t}\n\t\t});\n\n\t\tif (taskIndex !== null) {\n\t\t\tthis.tasks[taskIndex].resolve(message.result);\n\t\t\tthis._onTaskComplete(this);\n\t\t\tthis.tasks.splice(taskIndex, 1);\n\t\t}\n\t}\n\n\trun ($options) {\n\t\tlet id = this._generateTaskID();\n\n\t\tthis.lastTaskTimestamp = new Date();\n\n\t\tthis.tasks.push({\n\t\t\tid: id,\n\t\t\tresolve: $options.resolve,\n\t\t\treject: $options.reject,\n\t\t});\n\n\t\tlet message = {\n\t\t\tid: id,\n\t\t\tfunc: String($options.function)\n\t\t};\n\n\t\t// because of transferables (we want to keep this object flat)\n\t\tObject.keys($options.arguments).forEach(function (key, index) {\n\t\t\tmessage['argument' + index] = $options.arguments[index];\n\t\t});\n\n\t\tthis.worker.postMessage(message, $options.transferables);\n\t}\n}\n\nmodule.exports = Worker;\n\n\n/** WEBPACK FOOTER **\n ** ./src/Worker.js\n **/"],"sourceRoot":""}