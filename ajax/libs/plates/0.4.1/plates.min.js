var Plates="undefined"!=typeof process&&"node"===process.title?exports:{};!function(t){function e(t){return t&&this.mappings.push({}),this.mappings[this.mappings.length-1]}var a=function(){};a.prototype={tag:new RegExp(["<","(/?)","([-:\\w]+)","((?:[-\\w]+(?:","=","(?:\\w+|[\"|'](?:.*)[\"|']))?)*)","(/?)",">"].join("\\s*")),attr:/([\-\w]*)=(?:["\']([\-\.\w\s\/]*)["\'])/gi,hasClass:function(t,e){return t.indexOf(e)>-1},bind:function(t,e,a){t=t||"",e=e||{};var n=this;a&&(a=a.mappings);var i,s,r=0,o=!1,c="",u=!1,h=!1;matchmode=!1;for(var l,d,f="",p=0,m=t.length;p<m;p++)if(l=t[p],"!"===l&&o&&!matchmode)o=!1,f+=t.slice(d,p+1);else if("<"!==l||o)if(">"===l&&o){if(o=!1,tagbody=t.slice(d,p+1),i=this.tag.exec(tagbody),!i)continue;if(u=i[1],c=i[2],s=i[3],h=i[4],matchmode&&(u?r<=0?matchmode=!1:--r:h||++r),s&&!u&&!matchmode)if(a)for(var g=a.length-1;g>=0;g--)tagbody=tagbody.replace(this.attr,function(t,i,s,r){var o=a[g].dataKey?e[a[g].dataKey]:e[i];if(a[g].replace===i){var o=a[g].dataKey?e[a[g].dataKey]:e[i];return i+'="'+(o||"")+'"'}return a[g].replace||a[g].attribute!==i||(a[g].value===s||n.hasClass(s,a[g].value))&&(f+=tagbody+(o||""),matchmode=!0),t});else tagbody.replace(this.attr,function(t,a,n,i){"id"===a&&e[n]&&(f+=tagbody+e[n],matchmode=!0)});matchmode||(f+=tagbody)}else o||matchmode||(f+=l);else closing=!0,o=!0,d=p;return f}};var n=function t(e){return this instanceof t?void(this.mappings=[]):new t(e)};n.prototype={use:function(t){return e.call(this).dataKey=t,this},to:function(t){return this.use(t)},where:function(t){return e.call(this,!0).attribute=t,this},class:function(t){return this.where("class").is(t)},is:function(t){return e.call(this).value=t,this},as:function(t){return e.call(this).replace=t,this}},t.bind=function(t,e,n){var i=new a;return i.bind(t,e,n)},t.Map=n}(Plates);
//# sourceMappingURL=plates.min.js.map