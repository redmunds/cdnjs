var Plates="undefined"!=typeof process&&"undefined"!=typeof process.title?exports:{};!function(t){function e(t){return t&&this.mappings.push({}),this.mappings[this.mappings.length-1]}var n=function(){};n.prototype={tag:new RegExp(["<","(/?)","([-:\\w]+)","((?:[-\\w]+(?:","=","(?:\\w+|[\"|'](?:.*)[\"|']))?)*)","(/?)",">"].join("\\s*")),attr:/([\-\w]*)=(?:["\']([\-\.\w\s\/]*)["\'])/gi,hasClass:function(t,e){return t.indexOf(e)>-1},bind:function(t,e,n){if(~{}.toString.call(e).indexOf("Array")){for(var a="",i=0,r=e.length;i<r;i++)a+=this.bind(t,e[i],n);return a}t=t||"",e=e||{};var s,o,c=this,h=0,u=n&&n.mappings,l=!1,f="",d=!1,p=!1;matchmode=!1;for(var g,m,y="",i=0,r=t.length;i<r;i++)if(g=t[i],"!"===g&&l&&!matchmode)l=!1,y+=t.slice(m,i+1);else if("<"!==g||l)if(">"===g&&l){if(l=!1,tagbody=t.slice(m,i+1),s=this.tag.exec(tagbody),!s)continue;if(d=s[1],f=s[2],o=s[3],p=s[4],matchmode&&(d?h<=0?matchmode=!1:--h:p||++h),o&&!d&&!matchmode)if(u&&u.length>0)for(var b=u.length-1;b>=0;b--)tagbody=tagbody.replace(this.attr,function(t,n,a,i){var r=u[b].dataKey?e[u[b].dataKey]:e[n];return u[b].replace===n?n+'="'+(r||"")+'"':(u[b].replace||u[b].attribute!==n||(u[b].value===a||c.hasClass(a,u[b].value||u.conf.where===n))&&(y+=tagbody+(r||""),matchmode=!0),t)});else tagbody.replace(this.attr,function(t,a,i,r){(a===n&&n.conf.where||e[i])&&(y+=tagbody+e[i],matchmode=!0)});matchmode||(y+=tagbody)}else l||matchmode||(y+=g);else closing=!0,l=!0,m=i;return y}};var a=function t(e){return this instanceof t?(this.mappings=[],void(this.conf=e||{})):new t(e)};a.prototype={use:function(t){return e.call(this).dataKey=t,this},to:function(t){return this.use(t)},where:function(t){return e.call(this,!0).attribute=t,this},class:function(t){return this.where("class").is(t)},is:function(t){return e.call(this).value=t,this},insert:function(t){var n=e.call(this);return n.replace=n.attribute,n.dataKey=t,this},as:function(t){return e.call(this).replace=t,this}},t.bind=function(t,e,a){var i=new n;return i.bind(t,e,a)},t.Map=a}(Plates);
//# sourceMappingURL=plates.min.js.map