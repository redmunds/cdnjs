var Plates=function t(e){function a(t){return t&&this.mappings.push({}),this.mappings[this.mappings.length-1]}var n=function(){};n.prototype={tag:new RegExp(["<","(/?)","([-:\\w]+)","((?:[-\\w]+(?:","=","(?:\\w+|[\"|'](?:.*)[\"|']))?)*)","(/?)",">"].join("\\s*")),attr:/([\-\w]*)=(?:["\']([\-\.\w\s\/]*)["\'])/gi,hasClass:function(t,e){return t.indexOf(e)>-1},bind:function(t,e,a){t=t||"",e=e||{};var n=this;a&&(a=a.mappings);var i,r,s=0,o=!1,c="",u=!1,h=!1;matchmode=!1;for(var d,l,f="",p=0,m=t.length;p<m;p++)if(d=t[p],"!"===d&&o&&!matchmode)o=!1,f+=t.slice(l,p+1);else if("<"!==d||o)if(">"===d&&o){if(o=!1,tagbody=t.slice(l,p+1),i=this.tag.exec(tagbody),!i)continue;if(u=i[1],c=i[2],r=i[3],h=i[4],matchmode&&(u?s<=0?matchmode=!1:--s:h||++s),r&&!u&&!matchmode)if(a)for(var g=a.length-1;g>=0;g--)tagbody=tagbody.replace(this.attr,function(t,i,r,s){var o=a[g].dataKey?e[a[g].dataKey]:e[i];if(a[g].replace===i){var o=a[g].dataKey?e[a[g].dataKey]:e[i];return i+'="'+(o||"")+'"'}return a[g].replace||a[g].attribute!==i||(a[g].value===r||n.hasClass(r,a[g].value))&&(f+=tagbody+(o||""),matchmode=!0),t});else tagbody.replace(this.attr,function(t,a,n,i){"id"===a&&e[n]&&(f+=tagbody+e[n],matchmode=!0)});matchmode||(f+=tagbody)}else o||matchmode||(f+=d);else closing=!0,o=!0,l=p;return f}};var i=function t(e){return this instanceof t?void(this.mappings=[]):new t(e)};i.prototype={use:function(t){return a.call(this).dataKey=t,this},where:function(t){return a.call(this,!0).attribute=t,this},is:function(t){return a.call(this).value=t,this},as:function(t){return a.call(this).replace=t,this}};var r="undefined"!=typeof process&&"node"===process.title?exports:t;return r.bind=function(t,e,a){var i=new n;return i.bind(t,e,a)},r.Map=i,r}();
//# sourceMappingURL=plates.min.js.map