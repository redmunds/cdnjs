!function(e,t){if("function"==typeof define&&define.amd)define(["exports"],t);else if("undefined"!=typeof exports)t(exports);else{var s={exports:{}};t(s.exports),e.notie=s.exports}}(this,function(e){"use strict";function t(e,t){var s={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(s[n]=e[n]);return s}Object.defineProperty(e,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},a={alertTime:3,dateMonths:["January","February","March","April","May","June","July","August","September","October","November","December"],overlayClickDismiss:!0,overlayOpacity:.75,transitionCurve:"ease",transitionDuration:.3,transitionSelector:"all",classes:{container:"notie-container",textbox:"notie-textbox",textboxInner:"notie-textbox-inner",button:"notie-button",element:"notie-element",elementHalf:"notie-element-half",elementThird:"notie-element-third",overlay:"notie-overlay",backgroundSuccess:"notie-background-success",backgroundWarning:"notie-background-warning",backgroundError:"notie-background-error",backgroundInfo:"notie-background-info",backgroundNeutral:"notie-background-neutral",backgroundOverlay:"notie-background-overlay",alert:"notie-alert",inputField:"notie-input-field",selectChoiceRepeated:"notie-select-choice-repeated",dateSelectorInner:"notie-date-selector-inner",dateSelectorUp:"notie-date-selector-up"},ids:{overlay:"notie-overlay"}},c=(e.setOptions=function(e){a=n({},a,e,{classes:n({},a.classes,e.classes),ids:n({},a.ids,e.ids)})},function(){return new Promise(function(e){return setTimeout(e,0)})}),i=function(e){return new Promise(function(t){return setTimeout(t,1e3*e)})},l=function(){document.activeElement&&document.activeElement.blur()},o=function(){var e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,s="x"===e?t:3&t|8;return s.toString(16)});return"notie-"+e},d={1:a.classes.backgroundSuccess,success:a.classes.backgroundSuccess,2:a.classes.backgroundWarning,warning:a.classes.backgroundWarning,3:a.classes.backgroundError,error:a.classes.backgroundError,4:a.classes.backgroundInfo,info:a.classes.backgroundInfo,5:a.classes.backgroundNeutral,neutral:a.classes.backgroundNeutral},r=function(){return a.transitionSelector+" "+a.transitionDuration+"s "+a.transitionCurve},u=function(e){return 13===e.keyCode},v=function(e){return 27===e.keyCode},m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top";e.classList.add(a.classes.container),e.style[t]="-10000px",document.body.appendChild(e),e.style[t]="-"+e.offsetHeight+"px",e.listener&&window.addEventListener("keydown",e.listener),c().then(function(){e.style.transition=r(),e.style[t]=0})},p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",s=document.getElementById(e);s&&(s.style[t]="-"+s.offsetHeight+"px",s.listener&&window.removeEventListener("keydown",s.listener),i(a.transitionDuration).then(function(){s.parentNode&&s.parentNode.removeChild(s)}))},f=function(e,t){var s=document.createElement("div");s.id=a.ids.overlay,s.classList.add(a.classes.overlay),s.classList.add(a.classes.backgroundOverlay),s.style.opacity=0,e&&a.overlayClickDismiss&&(s.onclick=function(){p(e.id,t),b()}),document.body.appendChild(s),c().then(function(){s.style.transition=r(),s.style.opacity=a.overlayOpacity})},b=function(){var e=document.getElementById(a.ids.overlay);e.style.opacity=0,i(a.transitionDuration).then(function(){e.parentNode&&e.parentNode.removeChild(e)})},x=e.hideAlerts=function(e){var t=document.getElementsByClassName(a.classes.alert);if(t.length){for(var s=0;s<t.length;s++){var n=t[s];p(n.id)}e&&i(a.transitionDuration).then(function(){return e()})}},L=(e.alert=function(e){var t=e.type,s=void 0===t?4:t,n=e.text,c=e.time,r=void 0===c?a.alertTime:c,f=e.stay,b=void 0!==f&&f;l(),x();var L=document.createElement("div"),h=o();L.id=h,L.classList.add(a.classes.textbox),L.classList.add(d[s]),L.classList.add(a.classes.alert),L.innerHTML='<div class="'+a.classes.textboxInner+'">'+n+"</div>",L.onclick=function(){return p(h)},L.listener=function(e){(u(e)||v(e))&&x()},m(L),r&&r<1&&(r=1),!b&&r&&i(r).then(function(){return p(h)})},e.force=function(e,t){var s=e.type,n=void 0===s?5:s,c=e.text,i=e.buttonText,r=void 0===i?"OK":i;l(),x();var v=document.createElement("div"),L=o();v.id=L;var h=document.createElement("div");h.classList.add(a.classes.textbox),h.classList.add(a.classes.backgroundInfo),h.innerHTML='<div class="'+a.classes.textboxInner+'">'+c+"</div>";var y=document.createElement("div");y.classList.add(a.classes.button),y.classList.add(d[n]),y.innerHTML=r,y.onclick=function(){p(L),b(),t&&t()},v.appendChild(h),v.appendChild(y),v.listener=function(e){u(e)&&y.click()},m(v),f()},e.confirm=function(e,t,s){var n=e.text,c=e.yesText,i=void 0===c?"Yes":c,d=e.noText,r=void 0===d?"Cancel":d;l(),x();var L=document.createElement("div"),h=o();L.id=h;var y=document.createElement("div");y.classList.add(a.classes.textbox),y.classList.add(a.classes.backgroundInfo),y.innerHTML='<div class="'+a.classes.textboxInner+'">'+n+"</div>";var g=document.createElement("div");g.classList.add(a.classes.button),g.classList.add(a.classes.elementHalf),g.classList.add(a.classes.backgroundSuccess),g.innerHTML=i,g.onclick=function(){p(h),b(),t&&t()};var k=document.createElement("div");k.classList.add(a.classes.button),k.classList.add(a.classes.elementHalf),k.classList.add(a.classes.backgroundError),k.innerHTML=r,k.onclick=function(){p(h),b(),s&&s()},L.appendChild(y),L.appendChild(g),L.appendChild(k),L.listener=function(e){u(e)?g.click():v(e)&&k.click()},m(L),f(L)},function(e,n,c){var i=e.text,d=e.submitText,r=void 0===d?"Submit":d,L=e.cancelText,h=void 0===L?"Cancel":L,y=t(e,["text","submitText","cancelText"]);l(),x();var g=document.createElement("div"),k=o();g.id=k;var T=document.createElement("div");T.classList.add(a.classes.textbox),T.classList.add(a.classes.backgroundInfo),T.innerHTML='<div class="'+a.classes.textboxInner+'">'+i+"</div>";var E=document.createElement("input");E.classList.add(a.classes.inputField),E.setAttribute("autocapitalize",y.autocapitalize||"none"),E.setAttribute("autocomplete",y.autocomplete||"off"),E.setAttribute("autocorrect",y.autocorrect||"off"),E.setAttribute("autofocus",y.autofocus||"true"),E.setAttribute("inputmode",y.inputmode||"verbatim"),E.setAttribute("max",y.max||""),E.setAttribute("maxlength",y.maxlength||""),E.setAttribute("min",y.min||""),E.setAttribute("minlength",y.minlength||""),E.setAttribute("placeholder",y.placeholder||""),E.setAttribute("spellcheck",y.spellcheck||"default"),E.setAttribute("step",y.step||"any"),E.setAttribute("type",y.type||"text"),E.value=y.value||"",y.allowed&&(E.oninput=function(){var e=void 0;if(Array.isArray(y.allowed)){for(var t="",n=y.allowed,a=0;a<n.length;a++)"an"===n[a]?t+="0-9a-zA-Z":"a"===n[a]?t+="a-zA-Z":"n"===n[a]&&(t+="0-9"),"s"===n[a]&&(t+=" ");e=new RegExp("[^"+t+"]","g")}else"object"===s(y.allowed)&&(e=y.allowed);E.value=E.value.replace(e,"")});var C=document.createElement("div");C.classList.add(a.classes.button),C.classList.add(a.classes.elementHalf),C.classList.add(a.classes.backgroundSuccess),C.innerHTML=r,C.onclick=function(){p(k),b(),n&&n(E.value)};var M=document.createElement("div");M.classList.add(a.classes.button),M.classList.add(a.classes.elementHalf),M.classList.add(a.classes.backgroundError),M.innerHTML=h,M.onclick=function(){p(k),b(),c&&c(E.value)},g.appendChild(T),g.appendChild(E),g.appendChild(C),g.appendChild(M),g.listener=function(e){u(e)?C.click():v(e)&&M.click()},m(g),E.focus(),f(g)});e.input=L;e.select=function(e){var t=e.text,s=e.cancelText,n=void 0===s?"Cancel":s,c=e.choices;l(),x();var i="bottom",r=document.createElement("div"),u=o();r.id=u;var L=document.createElement("div");L.classList.add(a.classes.textbox),L.classList.add(a.classes.backgroundInfo),L.innerHTML='<div class="'+a.classes.textboxInner+'">'+t+"</div>",r.appendChild(L),c.forEach(function(e,t){var s=e.type,n=void 0===s?1:s,l=e.text,o=e.handler,v=document.createElement("div");v.classList.add(d[n]),v.classList.add(a.classes.button),v.classList.add(a.classes.selectChoice);var m=c[t+1];m&&!m.type&&(m.type=1),m&&m.type===n&&v.classList.add(a.classes.selectChoiceRepeated),v.innerHTML=l,v.onclick=function(){p(u,i),b(),o()},r.appendChild(v)});var h=document.createElement("div");h.classList.add(a.classes.backgroundNeutral),h.classList.add(a.classes.button),h.innerHTML=n,h.onclick=function(){p(u,i),b()},r.appendChild(h),r.listener=function(e){v(e)&&h.click()},m(r,i),f(r,i)},e.date=function(e,t,s){var n=e.value,c=void 0===n?new Date:n,i=e.submitText,d=void 0===i?"OK":i,r=e.cancelText,L=void 0===r?"Cancel":r;l(),x();var h="&#9662",y=document.createElement("div"),g=o();y.id=g;var k=document.createElement("div");k.classList.add(a.classes.backgroundInfo);var T=document.createElement("div");T.classList.add(a.classes.dateSelectorInner);var E=document.createElement("div");E.classList.add(a.classes.button),E.classList.add(a.classes.elementThird),E.classList.add(a.classes.dateSelectorUp),E.innerHTML=h;var C=document.createElement("div");C.classList.add(a.classes.button),C.classList.add(a.classes.elementThird),C.classList.add(a.classes.dateSelectorUp),C.innerHTML=h;var M=document.createElement("div");M.classList.add(a.classes.button),M.classList.add(a.classes.elementThird),M.classList.add(a.classes.dateSelectorUp),M.innerHTML=h;var H=document.createElement("div");H.classList.add(a.classes.element),H.classList.add(a.classes.elementThird),H.innerHTML=a.dateMonths[c.getMonth()];var S=document.createElement("div");S.classList.add(a.classes.element),S.classList.add(a.classes.elementThird),S.innerHTML=c.getDate();var A=document.createElement("div");A.classList.add(a.classes.element),A.classList.add(a.classes.elementThird),A.innerHTML=c.getFullYear();var w=document.createElement("div");w.classList.add(a.classes.button),w.classList.add(a.classes.elementThird),w.innerHTML=h;var I=document.createElement("div");I.classList.add(a.classes.button),I.classList.add(a.classes.elementThird),I.innerHTML=h;var D=document.createElement("div");D.classList.add(a.classes.button),D.classList.add(a.classes.elementThird),D.innerHTML=h;var O=function(e){H.innerHTML=a.dateMonths[e.getMonth()],S.innerHTML=e.getDate(),A.innerHTML=e.getFullYear()};E.onclick=function(){c.setMonth(c.getMonth()-1),O(c)},C.onclick=function(){c.setDate(c.getDate()-1),O(c)},M.onclick=function(){c.setFullYear(c.getFullYear()-1),O(c)},w.onclick=function(){c.setMonth(c.getMonth()+1),O(c)},I.onclick=function(){c.setDate(c.getDate()+1),O(c)},D.onclick=function(){c.setFullYear(c.getFullYear()+1),O(c)};var N=document.createElement("div");N.classList.add(a.classes.button),N.classList.add(a.classes.elementHalf),N.classList.add(a.classes.backgroundSuccess),N.innerHTML=d,N.onclick=function(){p(g),b(),t&&t(c)};var F=document.createElement("div");F.classList.add(a.classes.button),F.classList.add(a.classes.elementHalf),F.classList.add(a.classes.backgroundError),F.innerHTML=L,F.onclick=function(){p(g),b(),s&&s(c)},T.appendChild(E),T.appendChild(C),T.appendChild(M),T.appendChild(H),T.appendChild(S),T.appendChild(A),T.appendChild(w),T.appendChild(I),T.appendChild(D),k.appendChild(T),y.appendChild(k),y.appendChild(N),y.appendChild(F),y.listener=function(e){u(e)?N.click():v(e)&&F.click()},m(y),f(y)}});