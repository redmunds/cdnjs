/*!
 * baguetteBox.js
 * @author  feimosi
 * @version 0.2.0
 */
var baguetteBox=function(e){function t(){n(),[].forEach.call(B,function(e,t){e.dataset.baguetteBoxId=t,N[t]=e.querySelectorAll("a"),[].forEach.call(N[t],function(e,n){e.addEventListener("click",function(e){e.preventDefault(),o(t),l(n)},!1)})})}function n(){g=document.getElementById(k),g||(g=document.createElement("div"),g=document.querySelector("body").appendChild(g),g.id=k,f=document.createElement("div"),f=g.appendChild(f),f.id=E,f.style.left="0%",p=document.createElement("button"),p.id="previousButton",p.innerHTML=y,p=g.appendChild(p),h=document.createElement("button"),h.id="nextButton",h.innerHTML=b,h=g.appendChild(h),v=document.createElement("button"),v.id="closeButton",v.innerHTML=w,v=g.appendChild(v),p.className=h.className=v.className="baguetteBoxButton",i())}function i(){g.addEventListener("click",function(e){e.target&&"IMG"!==e.target.nodeName&&r()},!1),document.querySelector("#previousButton").addEventListener("click",function(e){e.stopPropagation(),u()},!1),document.querySelector("#nextButton").addEventListener("click",function(e){e.stopPropagation(),c()},!1),window.addEventListener("keydown",function(e){switch(e.keyCode){case 37:u();break;case 39:c();break;case 27:r()}},!1)}function o(e){if(x!==e){for(x=e;f.firstChild;)f.removeChild(f.firstChild);L=[];for(var t=0;t<N[e].length;t++)L.push(a()),f.appendChild(L[t])}}function a(){var e=document.createElement("div");return e.className="fullImage",e}function l(e){"block"!==g.style.display&&(g.style.display="block",C=e,s(C),d(),setTimeout(function(){g.className="visible"},10))}function r(){"none"!==g.style.display&&(g.className="",setTimeout(function(){g.style.display="none"},500))}function s(e){if(!(e>L.length-1)){var t=L[e];imageElement=N[x][e],imageCaption=imageElement.dataset.caption,imageCaption="undefined"!=typeof imageCaption?"<figcaption>"+imageCaption+"</figcaption>":"",t.innerHTML='<figure><img src="'+imageElement.getAttribute("href")+'">'+imageCaption+"</figure>"}}function c(){C<=L.length-2?(C++,d()):(f.className="bounceFromRight",setTimeout(function(){f.className=""},400))}function u(){C>=1?(C--,d()):(f.className="bounceFromLeft",setTimeout(function(){f.className=""},400))}function d(){f.style.left=100*-C+"%",m()}function m(){C<=L.length-2&&s(C+1),C>=1&&s(C-1)}var g,f,p,h,v,y='<svg width="45" height="60" xmlns="http://www.w3.org/2000/svg" version="1.1"><polyline points="10 30 30 10 50 30" stroke="rgba(255,255,255,0.5)" stroke-width="5"stroke-linecap="butt" fill="none" stroke-linejoin="round" transform="translate(0, 60) rotate(-90)"/></svg>',b='<svg width="45" height="60" xmlns="http://www.w3.org/2000/svg" version="1.1"><polyline points="10 30 30 10 50 30" stroke="rgba(255,255,255,0.5)" stroke-width="5"stroke-linecap="butt" fill="none" stroke-linejoin="round" transform="translate(45) rotate(90)"/></svg>',w='<svg width="30" height="30" xmlns="http://www.w3.org/2000/svg" version="1.1"><g stroke="rgb(187, 187, 187)" stroke-width="4"><line x1="5" y1="5" x2="25" y2="25"/><line x1="5" y1="25" x2="25" y2="5"/></g></svg>',k="baguetteBoxOverlay",E="baguetteBoxSlider",C=0,x=-1,B=document.querySelectorAll(e),N={},L=[];t()};