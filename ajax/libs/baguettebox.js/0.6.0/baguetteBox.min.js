/*!
 * baguetteBox.js
 * @author  feimosi
 * @version 0.6.0
 * @url https://github.com/feimosi/baguetteBox.js
 */
var baguetteBox=function(){function e(e,n){t(),M=document.querySelectorAll(e),[].forEach.call(M,function(e){var t=H.length;H.push(e.getElementsByTagName("a")),H[t].options=n,[].forEach.call(H[t],function(e,n){g(e,"click",function(e){e.preventDefault?e.preventDefault():e.returnValue=!1,o(t),s(n)})})})}function t(){return(y=document.getElementById(N))?(h=document.getElementById(T),v=document.getElementById("previous-button"),b=document.getElementById("next-button"),void(E=document.getElementById("close-button"))):(y=document.createElement("div"),y=document.getElementsByTagName("body")[0].appendChild(y),y.id=N,h=document.createElement("div"),h=y.appendChild(h),h.id=T,h.style.left="0%",v=document.createElement("button"),v.id="previous-button",v.innerHTML=w,v=y.appendChild(v),b=document.createElement("button"),b.id="next-button",b.innerHTML=B,b=y.appendChild(b),E=document.createElement("button"),E.id="close-button",E.innerHTML=C,E=y.appendChild(E),v.className=b.className=E.className="baguetteBox-button",void n())}function n(){g(y,"click",function(e){e.target&&"IMG"!==e.target.nodeName&&l()}),g(document.getElementById("previous-button"),"click",function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,d()}),g(document.getElementById("next-button"),"click",function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,u()}),g(document.getElementById("close-button"),"click",function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,l()}),g(y,"touchstart",function(e){k=e.changedTouches[0].pageX}),g(y,"touchmove",function(e){A||(e.preventDefault?e.preventDefault():e.returnValue=!1,touch=e.touches[0]||e.changedTouches[0],touch.pageX-k>40?(A=!0,d()):touch.pageX-k<-40&&(A=!0,u()))}),g(y,"touchend",function(){A=!1}),g(document,"keydown",function(e){switch(e.keyCode){case 37:d();break;case 39:u();break;case 27:l()}})}function o(e){if(P!==e){for(P=e,i(H[e].options);h.firstChild;)h.removeChild(h.firstChild);D.length=0;for(var t=0;t<H[e].length;t++)D.push(a()),h.appendChild(D[t])}}function i(e){e||(e={});for(var t in I)x[t]=I[t],"undefined"!=typeof e[t]&&(x[t]=e[t]);h.style.transition="fadeIn"===x.animation?"opacity .4s ease":"",h.style.webkitTransition="fadeIn"===x.animation?"opacity .4s ease":"","auto"===x.buttons&&("ontouchstart"in window||1===H[P].length)&&(x.buttons=!1),v.style.display=b.style.display=x.buttons?"":"none"}function a(){var e=document.createElement("div");return e.className="full-image",e}function s(e){"block"!==y.style.display&&(y.style.display="block",L=e,c(L,function(){m(L),f(L)}),h.style.display="none",p(),h.style.display="",setTimeout(function(){y.className="visible"},50))}function l(){"none"!==y.style.display&&(y.className="",setTimeout(function(){y.style.display="none"},500))}function c(e,t){var n=D[e];if("undefined"!=typeof n){if(n.getElementsByTagName("img")[0])return void(t&&t());imageElement=H[P][e],imageCaption=imageElement.getAttribute("data-caption"),imageSrc=r(imageElement);var o=document.createElement("figure"),i=document.createElement("img"),a=document.createElement("figcaption");n.appendChild(o),i.onload=function(){var e=this.parentNode.querySelector(".spinner");this.parentNode.removeChild(e),!x.async&&t&&t()},i.setAttribute("src",imageSrc),o.innerHTML='<div class="spinner"><div class="double-bounce1"></div><div class="double-bounce2"></div></div>',o.appendChild(i),x.captions&&imageCaption&&(a.innerHTML=imageCaption,o.appendChild(a)),x.async&&t&&t()}}function r(e){var t=imageElement.getAttribute("href");if(e.dataset){var n=[];for(var o in e.dataset)"at-"===o.substring(0,3)&&(n[o.replace("at-","")]=e.dataset[o]);keys=Object.keys(n).sort(function(e,t){return parseInt(e)<parseInt(t)?-1:1});for(var i=window.innerWidth*window.devicePixelRatio,a=0;a<keys.length;a++){if(keys[a]>=i){t=n[keys[a]];break}t=n[keys[a]]}}return t}function u(){L<=D.length-2?(L++,p(),m(L)):(h.className="bounce-from-right",setTimeout(function(){h.className=""},400))}function d(){L>=1?(L--,p(),f(L)):(h.className="bounce-from-left",setTimeout(function(){h.className=""},400))}function p(){"fadeIn"===x.animation?(h.style.opacity=0,setTimeout(function(){h.style.left=100*-L+"%",h.style.opacity=1},400)):h.style.left=100*-L+"%"}function m(e){e-L>=x.preload||c(e+1,function(){m(e+1)})}function f(e){L-e>=x.preload||c(e-1,function(){f(e-1)})}function g(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)}var y,h,v,b,E,k,w='<svg width="40" height="60" xmlns="http://www.w3.org/2000/svg" version="1.1"><polyline points="30 10 10 30 30 50" stroke="rgba(255,255,255,0.5)" stroke-width="4"stroke-linecap="butt" fill="none" stroke-linejoin="round">&lt;</polyline></svg>',B='<svg width="40" height="60" xmlns="http://www.w3.org/2000/svg" version="1.1"><polyline points="10 10 30 30 10 50" stroke="rgba(255,255,255,0.5)" stroke-width="4"stroke-linecap="butt" fill="none" stroke-linejoin="round">&gt;</polyline></svg>',C='<svg width="30" height="30" xmlns="http://www.w3.org/2000/svg" version="1.1"><g stroke="rgb(160, 160, 160)" stroke-width="4"><line x1="5" y1="5" x2="25" y2="25"/><line x1="5" y1="25" x2="25" y2="5"/>X</g></svg>',N="baguetteBox-overlay",T="baguetteBox-slider",x={},I={captions:!0,buttons:"auto",async:!1,preload:2,animation:"slideIn"},L=0,P=-1,A=!1,M=[],H=[],D=[];return Array.prototype.forEach||(Array.prototype.forEach=function(e,t){for(var n=this.length,o=0;n>o;o++)e.call(t,this[o],o,this)}),{run:e}}();