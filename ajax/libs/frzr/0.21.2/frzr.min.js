!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.frzr=e.frzr||{})}(this,function(e){"use strict";function t(e){return document.createTextNode(e)}function n(e){if(g){var t=g[e];if(t)return t.apply(this,arguments)}if("function"==typeof e){var n=new Array(arguments.length);n[0]=this;for(var r=1;r<arguments.length;r++)n[r]=arguments[r];return new(Function.prototype.bind.apply(e,n))}for(var i=document.createElement(e),r=1;r<arguments.length;r++){var o=arguments[r];if(null!=o&&!s(i,o)&&"object"==typeof o)for(var u in o){if(m){var f=m[u];if(f){f(i,o[u]);continue}}var l=o[u];"style"===u||null==i[u]&&"function"!=typeof l?i.setAttribute(u,l):i[u]=l}}return i}function r(e,t){g||(g={}),g[e]=t}function i(e,t){m||(m={}),m[e]=t}function o(e){g&&g[e]&&delete g[e]}function u(e){m&&m[e]&&delete m[e]}function f(e){for(var t=document.createElementNS("http://www.w3.org/2000/svg",e),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r&&!s(t,r)&&"object"==typeof r)for(var i in r){var o=r[i];"function"==typeof o?t[i]=o:t.setAttribute(i,o)}}return t}function l(e,t,n,r){return new a(e,t,n,r)}function a(e,t,n,r){this.View=e,this.views=[],this.initData=n,this.skipRender=r,t&&(this.key=t,this.lookup={})}function s(e,t,n){var r=e.el||e,i=t.el||t,o=null!=i.parentNode;if(o?t.remounting&&t.remounting():t.mounting&&t.mounting(),i instanceof Node){if(n){var u=n.el||n;r.insertBefore(i,u)}else r.appendChild(i);o?t.remounted&&t.remounted():t.mounted&&t.mounted(),i!==t&&(i.view=t,t.parent=e)}else if("string"==typeof i||"number"==typeof i)s(r,document.createTextNode(i),n);else if(i instanceof Array)for(var f=0;f<i.length;f++)s(r,i[f],n);else{if(!(t instanceof a))return!1;t.parent=e,v(r,t.views)}return!0}function d(e,t,n){var r=e.el||e,i=t.el||t,o=n.el||n,u=null!=i.parentNode;n.unmounting&&n.unmounting(),u?t.remounting&&t.remounting():t.mounting&&t.mounting(),r.replaceChild(i,o),n.unmounted&&n.unmounted(),o!==n&&(n.parent=null),u?t.remounted&&t.remounted():t.mounted&&t.mounted(),i!==t&&(i.view=t,t.parent=e)}function p(e,t){var n=e.el||e,r=t.el||t;t.unmounting&&t.unmounting(),n.removeChild(r),t.unmounted&&t.unmounted(),r!==t&&(t.parent=null)}function c(e){var t=e.el||e,n=t.parentNode,r=n.view||n;e.destroying&&e.destroying(e),h(e,"destroying"),n&&p(r,e),e.destroyed&&e.destroyed(e),h(e,"destroyed")}function h(e,t,n){for(var r=e.el||e,i=r.firstChild;i;){var o=i.nextSibling,u=i.view||i,f=u[t];f&&f.call(u,n||e),h(i,t,n||e),i=o}}function v(e,t){for(var n=e.el||e,r=n.firstChild,i=0;i<t.length;i++){var o=t[i],u=o.el||o;r!==u?s(e,o,r):r=r.nextSibling}for(;r;){var f=r.nextSibling;p(e,r.view||r),r=f}}var g,m;n.extend=function(e){return function(){for(var t=new Array(arguments.length),r=0;r<t.length;r++)t[r]=arguments[r];return n.apply(this,[e].concat(t))}},f.extend=function(e){return function(){for(var t=new Array(arguments.length),n=0;n<t.length;n++)t[n]=arguments[n];return f.apply(this,[e].concat(t))}},a.prototype.update=function(e,t){var n=this.View,r=this.views,i=this.parent,o=this.key,u=this.initData,f=this.skipRender;if(t)var l=[],a=[],s=[];if(o){var d=this.lookup,p={};r.length=e.length;for(var h=0;h<e.length;h++){var g=e[h],m=g[o],y=d[m];y?t&&a.push(y):(y=new n(u,g,h),t&&l.push(y)),r[h]=p[m]=y,y.update&&y.update(g,h)}if(t)for(var m in d)p[m]||(s.push(d[m]),!f&&i&&c(d[m]));this.lookup=p}else{if(t)for(var h=e.length;h<r.length;h++){var y=r[h];!f&&i&&c(y),s.push(y)}r.length=e.length;for(var h=0;h<e.length;h++){var g=e[h],y=r[h];y?t&&a.push(y):(y=new n(u,g,h),t&&l.push(y)),y.update&&y.update(g,h),r[h]=y}}!f&&i&&v(i,r),t&&t(l,a,s)};var y=s;e.text=t,e.el=n,e.registerElement=r,e.registerAttribute=i,e.unregisterElement=o,e.unregisterAttribute=u,e.svg=f,e.list=l,e.List=a,e.mount=s,e.mountBefore=y,e.replace=d,e.unmount=p,e.destroy=c,e.notifyDown=h,e.setChildren=v});