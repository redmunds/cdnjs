!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(e.frzr=e.frzr||{})}(this,function(e){"use strict";function n(e){return document.createTextNode(e)}function t(e){if(m){var n=m[e];if(n)return n.apply(this,arguments)}if("function"==typeof e){var t=new Array(arguments.length);t[0]=this;for(var r=1;r<arguments.length;r++)t[r]=arguments[r];return new(Function.prototype.bind.apply(e,t))}for(var i=document.createElement(e),r=1;r<arguments.length;r++){var o=arguments[r];if(null!=o&&!s(i,o)&&"object"==typeof o)for(var u in o){if(y){var f=y[u];if(f){f(i,o[u]);continue}}var l=o[u];"style"===u||null==i[u]&&"function"!=typeof l?i.setAttribute(u,l):i[u]=l}}return i}function r(e,n){m||(m={}),m[e]=n}function i(e,n){y||(y={}),y[e]=n}function o(e){m&&m[e]&&delete m[e]}function u(e){y&&y[e]&&delete y[e]}function f(e){for(var n=document.createElementNS("http://www.w3.org/2000/svg",e),t=1;t<arguments.length;t++){var r=arguments[t];if(null!=r&&!s(n,r)&&"object"==typeof r)for(var i in r){var o=r[i];"function"==typeof o?n[i]=o:n.setAttribute(i,o)}}return n}function l(e,n,t,r){return new a(e,n,t,r)}function a(e,n,t,r){this.View=e,this.views=[],this.initData=t,this.skipRender=r,n&&(this.key=n,this.lookup={})}function s(e,t,r){var i=e.el||e,o=t.el||t,u=null!=o.parentNode;if(u?t.remounting&&t.remounting():t.mounting&&t.mounting(),o instanceof Node){if(r){var f=r.el||r;i.insertBefore(o,f)}else i.appendChild(o);u?t.remounted&&t.remounted():t.mounted&&t.mounted(),o!==t&&(o.view=t,t.parent=e)}else if("string"==typeof o||"number"==typeof o)s(i,n(o),r);else if(o instanceof Array)for(var l=0;l<o.length;l++)s(i,o[l],r);else{if(!t.views)return!1;t.parent=e,c(i,t.views)}return!0}function d(e,n,t){var r=e.el||e,i=n.el||n,o=t.el||t,u=null!=i.parentNode;t.unmounting&&t.unmounting(),u?n.remounting&&n.remounting():n.mounting&&n.mounting(),r.replaceChild(i,o),t.unmounted&&t.unmounted(),o!==t&&(t.parent=null),u?n.remounted&&n.remounted():n.mounted&&n.mounted(),i!==n&&(i.view=n,n.parent=e)}function p(e,n){var t=e.el||e,r=n.el||n;n.unmounting&&n.unmounting(),t.removeChild(r),n.unmounted&&n.unmounted(),r!==n&&(n.parent=null)}function h(e){var n=e.el||e,t=n.parentNode,r=t.view||t;e.destroying&&e.destroying(e),v(e,"destroying"),t&&p(r,e),e.destroyed&&e.destroyed(e),v(e,"destroyed")}function v(e,n,t){for(var r=e.el||e,i=r.firstChild;i;){var o=i.nextSibling,u=i.view||i,f=u[n];f&&f.call(u,t||e),v(i,n,t||e),i=o}}function c(e,n){for(var t=e.el||e,r=t.firstChild,i=0;i<n.length;i++){var o=n[i];if(o){var u=o.el||o;r!==u?s(e,o,r):r=r.nextSibling}}for(;r;){var f=r.nextSibling;p(e,r.view||r),r=f}}function g(e,n,r,i){if(i){var o=e[n]||(e[n]=t(r));return o.update&&o.update(i),o}e[n]=null}var m,y;t.extend=function(e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(this,[e].concat(n))}},f.extend=function(e){return function(){for(var n=new Array(arguments.length),t=0;t<n.length;t++)n[t]=arguments[t];return f.apply(this,[e].concat(n))}},a.prototype.update=function(e,n){var t=this.View,r=this.views,i=this.parent,o=this.key,u=this.initData,f=this.skipRender;if(n)var l=[],a=[],s=[];if(o){var d=this.lookup,p={};r.length=e.length;for(var v=0;v<e.length;v++){var g=e[v],m=g[o],y=d[m];y?n&&a.push(y):(y=new t(u,g,v),n&&l.push(y)),r[v]=p[m]=y,y.update&&y.update(g,v)}if(n)for(var m in d)p[m]||(s.push(d[m]),!f&&i&&h(d[m]));this.lookup=p}else{if(n)for(var v=e.length;v<r.length;v++){var y=r[v];!f&&i&&h(y),s.push(y)}r.length=e.length;for(var v=0;v<e.length;v++){var g=e[v],y=r[v];y?n&&a.push(y):(y=new t(u,g,v),n&&l.push(y)),y.update&&y.update(g,v),r[v]=y}}!f&&i&&c(i,r),n&&n(l,a,s)};var w=s;e.text=n,e.el=t,e.registerElement=r,e.registerAttribute=i,e.unregisterElement=o,e.unregisterAttribute=u,e.svg=f,e.list=l,e.List=a,e.mount=s,e.mountBefore=w,e.replace=d,e.unmount=p,e.destroy=h,e.notifyDown=v,e.setChildren=c,e.conditionalChild=g});