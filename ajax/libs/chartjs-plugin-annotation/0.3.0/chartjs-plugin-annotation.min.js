/*!
 * chartjs-plugin-annotation.js
 * http://chartjs.org/
 * Version: 0.2.0
 *
 * Copyright 2016 Evert Timberg
 * Released under the MIT license
 * https://github.com/chartjs/Chart.Annotation.js/blob/master/LICENSE.md
 */
!function e(t,a,o){function n(r,i){if(!a[r]){if(!t[r]){var d="function"==typeof require&&require;if(!i&&d)return d(r,!0);if(l)return l(r,!0);var s=new Error("Cannot find module '"+r+"'");throw s.code="MODULE_NOT_FOUND",s}var b=a[r]={exports:{}};t[r][0].call(b.exports,function(e){var a=t[r][1][e];return n(a?a:e)},b,b.exports,e,t,a,o)}return a[r].exports}for(var l="function"==typeof require&&require,r=0;r<o.length;r++)n(o[r]);return n}({1:[function(e,t,a){},{}],2:[function(e,t,a){t.exports=function(e){function t(e){return!isNaN(e)&&isFinite(e)}function a(e,a,o){var n,l,r=e._model=e._model||{},i=o.scales[a.xScaleID],d=o.scales[a.yScaleID],s=o.chartArea,b=s.left,f=s.top,u=s.right,c=s.bottom;i&&(n=t(a.xMin)?i.getPixelForValue(a.xMin):s.left,l=t(a.xMax)?i.getPixelForValue(a.xMax):s.right,b=Math.min(n,l),u=Math.max(n,l)),d&&(n=t(a.yMin)?d.getPixelForValue(a.yMin):s.bottom,l=t(a.yMax)?d.getPixelForValue(a.yMax):s.top,f=Math.min(n,l),c=Math.max(n,l)),r.left=b,r.top=f,r.right=u,r.bottom=c,r.borderColor=a.borderColor,r.borderWidth=a.borderWidth,r.backgroundColor=a.backgroundColor}var o=e.Element.extend({draw:function(e){var t=this._view;e.lineWidth=t.borderWidth,e.strokeStyle=t.borderColor,e.fillStyle=t.backgroundColor;var a=t.right-t.left,o=t.bottom-t.top;e.fillRect(t.left,t.top,a,o),e.strokeRect(t.left,t.top,a,o)}});return{Constructor:o,update:a}}},{}],3:[function(e,t,a){function o(e,t,a){var o=t.options.annotation;if(o.drawTime==e){var n=t._annotationObjects;if(r(n)){var l=t.chart.ctx;n.forEach(function(e){e.transition(a).draw(l)})}}}var n=e("chart.js");n="function"==typeof n?n:window.Chart;var l=n.helpers,r=l.isArray;n.Annotation=n.Annotation||{};var i=(n.Annotation.defaults={drawTime:"afterDraw",annotations:[]},e("./line.js")(n)),d=e("./box.js")(n),s=n.Annotation.annotationTypes={line:i.Constructor,box:d.Constructor},b=n.Annotation.updateFunctions={line:i.update,box:d.update},f=(n.Annotation.drawTimeOptions={afterDraw:"afterDraw",afterDatasetsDraw:"afterDatasetsDraw",beforeDatasetsDraw:"beforeDatasetsDraw"},{beforeInit:function(e){var t=e.options;t.annotation=l.configMerge(n.Annotation.defaults,t.annotation);var a={backgroundColor:"rgba(0,0,0,0.8)",fontFamily:t.defaultFontFamily,fontSize:t.defaultFontSize,fontStyle:"bold",fontColor:"#fff",xPadding:6,yPadding:6,cornerRadius:6,position:"center",xAdjust:0,yAdjust:0,enabled:!1,content:null},o=t.annotation.annotations;if(r(o)){var i=e._annotationObjects=[];o.forEach(function(e,t){e.label=l.configMerge(a,e.label);var o=s[e.type];o&&i.push(new o({_index:t}))})}},afterScaleUpdate:function(e){var t=e._annotationObjects,a=e.options.annotation;r(t)&&t.forEach(function(t,o){var n=a.annotations[t._index],l=b[n.type];l&&l(t,n,e)})},afterDraw:function(e,t){o(n.Annotation.drawTimeOptions.afterDraw,e,t)},afterDatasetsDraw:function(e,t){o(n.Annotation.drawTimeOptions.afterDatasetsDraw,e,t)},beforeDatasetsDraw:function(e,t){o(n.Annotation.drawTimeOptions.beforeDatasetsDraw,e,t)}});t.exports=f,n.pluginService.register(f)},{"./box.js":2,"./line.js":4,"chart.js":1}],4:[function(e,t,a){var o=e("chart.js");o="function"==typeof o?o:window.Chart;var n=o.helpers;t.exports=function(e){function t(e){return!isNaN(e)&&isFinite(e)}function a(e,t,a,o,n){var i=(e.x2-e.x1)/(e.y2-e.y1),d=e.x1||0,s=function(t){return i*(t-e.y1)+d},b=function(t){return(t-d)/i+e.y1},f={},u=0,c=0;switch(!0){case e.mode==r&&"top"==e.labelPosition:c=n+e.labelYAdjust,u=t/2+e.labelXAdjust,f.y=e.y1+c,f.x=(isFinite(i)?s(f.y):e.x1)-u;break;case e.mode==r&&"bottom"==e.labelPosition:c=a+n+e.labelYAdjust,u=t/2+e.labelXAdjust,f.y=e.y2-c,f.x=(isFinite(i)?s(f.y):e.x1)-u;break;case e.mode==l&&"left"==e.labelPosition:u=o+e.labelXAdjust,c=-(a/2)+e.labelYAdjust,f.x=e.x1+u,f.y=b(f.x)+c;break;case e.mode==l&&"right"==e.labelPosition:u=t+o+e.labelXAdjust,c=-(a/2)+e.labelYAdjust,f.x=e.x2-u,f.y=b(f.x)+c;break;default:f.x=(e.x1+e.x2-t)/2+e.labelXAdjust,f.y=(e.y1+e.y2-a)/2+e.labelYAdjust}return f}function o(e,o,r){var i=e._model=n.clone(e._model)||{},d=r.scales[o.scaleID],s=d?d.getPixelForValue(o.value):NaN,b=d&&t(o.endValue)?d.getPixelForValue(o.endValue):NaN;isNaN(b)&&(b=s);var f=r.chartArea,u=r.chart.ctx;isNaN(s)||(o.mode==l?(i.x1=f.left,i.x2=f.right,i.y1=s,i.y2=b):(i.y1=f.top,i.y2=f.bottom,i.x1=s,i.x2=b)),i.mode=o.mode,i.labelBackgroundColor=o.label.backgroundColor,i.labelFontFamily=o.label.fontFamily,i.labelFontSize=o.label.fontSize,i.labelFontStyle=o.label.fontStyle,i.labelFontColor=o.label.fontColor,i.labelXPadding=o.label.xPadding,i.labelYPadding=o.label.yPadding,i.labelCornerRadius=o.label.cornerRadius,i.labelPosition=o.label.position,i.labelXAdjust=o.label.xAdjust,i.labelYAdjust=o.label.yAdjust,i.labelEnabled=o.label.enabled,i.labelContent=o.label.content,u.font=n.fontString(i.labelFontSize,i.labelFontStyle,i.labelFontFamily);var c=u.measureText(i.labelContent).width,x=u.measureText("M").width,h=a(i,c,x,i.labelXPadding,i.labelYPadding);i.labelX=h.x-i.labelXPadding,i.labelY=h.y-i.labelYPadding,i.labelWidth=c+2*i.labelXPadding,i.labelHeight=x+2*i.labelYPadding,i.borderColor=o.borderColor,i.borderWidth=o.borderWidth,i.borderDash=o.borderDash||[],i.borderDashOffset=o.borderDashOffset||0}var l="horizontal",r="vertical",i=e.Element.extend({draw:function(e){var t=this._view;e.save(),e.lineWidth=t.borderWidth,e.strokeStyle=t.borderColor,e.setLineDash&&e.setLineDash(t.borderDash),e.lineDashOffset=t.borderDashOffset,e.beginPath(),e.moveTo(t.x1,t.y1),e.lineTo(t.x2,t.y2),e.stroke(),e.restore(),t.labelEnabled&&t.labelContent&&(e.fillStyle=t.labelBackgroundColor,n.drawRoundedRectangle(e,t.labelX,t.labelY,t.labelWidth,t.labelHeight,t.labelCornerRadius),e.fill(),e.font=n.fontString(t.labelFontSize,t.labelFontStyle,t.labelFontFamily),e.fillStyle=t.labelFontColor,e.textAlign="center",e.textBaseline="middle",e.fillText(t.labelContent,t.labelX+t.labelWidth/2,t.labelY+t.labelHeight/2))}});return{Constructor:i,update:o}}},{"chart.js":1}]},{},[3]);