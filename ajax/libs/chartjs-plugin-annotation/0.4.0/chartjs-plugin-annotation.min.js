/*!
 * chartjs-plugin-annotation.js
 * http://chartjs.org/
 * Version: 0.4.0
 *
 * Copyright 2016 Evert Timberg
 * Released under the MIT license
 * https://github.com/chartjs/Chart.Annotation.js/blob/master/LICENSE.md
 */
!function e(t,a,n){function o(r,i){if(!a[r]){if(!t[r]){var s="function"==typeof require&&require;if(!i&&s)return s(r,!0);if(l)return l(r,!0);var d=new Error("Cannot find module '"+r+"'");throw d.code="MODULE_NOT_FOUND",d}var b=a[r]={exports:{}};t[r][0].call(b.exports,function(e){var a=t[r][1][e];return o(a?a:e)},b,b.exports,e,t,a,n)}return a[r].exports}for(var l="function"==typeof require&&require,r=0;r<n.length;r++)o(n[r]);return o}({1:[function(e,t,a){},{}],2:[function(e,t,a){t.exports=function(e){function t(e){return!isNaN(e)&&isFinite(e)}var a=e.Element.extend({configure:function(e,a){var n,o,l=this._model=this._model||{},r=a.scales[e.xScaleID],i=a.scales[e.yScaleID],s=a.chartArea,d=s.left,b=s.top,f=s.right,u=s.bottom;r&&(n=t(e.xMin)?r.getPixelForValue(e.xMin):s.left,o=t(e.xMax)?r.getPixelForValue(e.xMax):s.right,d=Math.min(n,o),f=Math.max(n,o)),i&&(n=t(e.yMin)?i.getPixelForValue(e.yMin):s.bottom,o=t(e.yMax)?i.getPixelForValue(e.yMax):s.top,b=Math.min(n,o),u=Math.max(n,o)),l.left=d,l.top=b,l.right=f,l.bottom=u,l.borderColor=e.borderColor,l.borderWidth=e.borderWidth,l.backgroundColor=e.backgroundColor},draw:function(e){var t=this._view;e.lineWidth=t.borderWidth,e.strokeStyle=t.borderColor,e.fillStyle=t.backgroundColor;var a=t.right-t.left,n=t.bottom-t.top;e.fillRect(t.left,t.top,a,n),e.strokeRect(t.left,t.top,a,n)}});return a}},{}],3:[function(e,t,a){function n(e,t){i.isArray(e.annotations)&&e.annotations.forEach(function(a){a.transition(t).draw(e.chart.ctx)})}function o(e){return e=i.configMerge(u,e),i.isArray(e.annotations)&&e.annotations.forEach(function(e){e.label=i.configMerge(c,e.label)}),e}function l(e){return e.filter(function(e){return!!f[e.type]}).map(function(e,t){var a=f[e.type];return new a({_index:t,config:e})})}var r=e("chart.js");r="function"==typeof r?r:window.Chart;var i=r.helpers;r.Annotation=r.Annotation||{};var s="afterDraw",d="afterDatasetsDraw",b="beforeDatasetsDraw";r.Annotation.drawTimeOptions={afterDraw:s,afterDatasetsDraw:d,beforeDatasetsDraw:b};var f=r.Annotation.types={line:e("./line.js")(r),box:e("./box.js")(r)},u=r.Annotation.defaults={drawTime:s,annotations:[]},c=r.Annotation.labelDefaults={backgroundColor:"rgba(0,0,0,0.8)",fontFamily:r.defaults.global.defaultFontFamily,fontSize:r.defaults.global.defaultFontSize,fontStyle:"bold",fontColor:"#fff",xPadding:6,yPadding:6,cornerRadius:6,position:"center",xAdjust:0,yAdjust:0,enabled:!1,content:null},x={afterUpdate:function(e){var t=e.options.annotation;t=o(t||{}),i.isArray(t.annotations)&&(e.annotations=l(t.annotations),e.annotations._config=t,e.annotations.forEach(function(t){t.configure(t.config,e)}))},afterDraw:function(e,t){var a=e.annotations._config;a.drawTime==s&&n(e,t)},afterDatasetsDraw:function(e,t){var a=e.annotations._config;a.drawTime==d&&n(e,t)},beforeDatasetsDraw:function(e,t){var a=e.annotations._config;a.drawTime==b&&n(e,t)}};t.exports=x,r.pluginService.register(x)},{"./box.js":2,"./line.js":4,"chart.js":1}],4:[function(e,t,a){var n=e("chart.js");n="function"==typeof n?n:window.Chart;var o=n.helpers;t.exports=function(e){function t(e){return!isNaN(e)&&isFinite(e)}function a(e,t,a,o,r){var i=(e.x2-e.x1)/(e.y2-e.y1),s=e.x1||0,d=function(t){return i*(t-e.y1)+s},b=function(t){return(t-s)/i+e.y1},f={},u=0,c=0;switch(!0){case e.mode==l&&"top"==e.labelPosition:c=r+e.labelYAdjust,u=t/2+e.labelXAdjust,f.y=e.y1+c,f.x=(isFinite(i)?d(f.y):e.x1)-u;break;case e.mode==l&&"bottom"==e.labelPosition:c=a+r+e.labelYAdjust,u=t/2+e.labelXAdjust,f.y=e.y2-c,f.x=(isFinite(i)?d(f.y):e.x1)-u;break;case e.mode==n&&"left"==e.labelPosition:u=o+e.labelXAdjust,c=-(a/2)+e.labelYAdjust,f.x=e.x1+u,f.y=b(f.x)+c;break;case e.mode==n&&"right"==e.labelPosition:u=t+o+e.labelXAdjust,c=-(a/2)+e.labelYAdjust,f.x=e.x2-u,f.y=b(f.x)+c;break;default:f.x=(e.x1+e.x2-t)/2+e.labelXAdjust,f.y=(e.y1+e.y2-a)/2+e.labelYAdjust}return f}var n="horizontal",l="vertical",r=e.Element.extend({configure:function(e,l){var r=this._model=o.clone(this._model)||{},i=l.scales[e.scaleID],s=i?i.getPixelForValue(e.value):NaN,d=i&&t(e.endValue)?i.getPixelForValue(e.endValue):NaN;isNaN(d)&&(d=s);var b=l.chartArea,f=l.chart.ctx;isNaN(s)||(e.mode==n?(r.x1=b.left,r.x2=b.right,r.y1=s,r.y2=d):(r.y1=b.top,r.y2=b.bottom,r.x1=s,r.x2=d)),r.mode=e.mode,r.labelBackgroundColor=e.label.backgroundColor,r.labelFontFamily=e.label.fontFamily,r.labelFontSize=e.label.fontSize,r.labelFontStyle=e.label.fontStyle,r.labelFontColor=e.label.fontColor,r.labelXPadding=e.label.xPadding,r.labelYPadding=e.label.yPadding,r.labelCornerRadius=e.label.cornerRadius,r.labelPosition=e.label.position,r.labelXAdjust=e.label.xAdjust,r.labelYAdjust=e.label.yAdjust,r.labelEnabled=e.label.enabled,r.labelContent=e.label.content,f.font=o.fontString(r.labelFontSize,r.labelFontStyle,r.labelFontFamily);var u=f.measureText(r.labelContent).width,c=f.measureText("M").width,x=a(r,u,c,r.labelXPadding,r.labelYPadding);r.labelX=x.x-r.labelXPadding,r.labelY=x.y-r.labelYPadding,r.labelWidth=u+2*r.labelXPadding,r.labelHeight=c+2*r.labelYPadding,r.borderColor=e.borderColor,r.borderWidth=e.borderWidth,r.borderDash=e.borderDash||[],r.borderDashOffset=e.borderDashOffset||0},draw:function(e){var t=this._view;e.save(),e.lineWidth=t.borderWidth,e.strokeStyle=t.borderColor,e.setLineDash&&e.setLineDash(t.borderDash),e.lineDashOffset=t.borderDashOffset,e.beginPath(),e.moveTo(t.x1,t.y1),e.lineTo(t.x2,t.y2),e.stroke(),e.restore(),t.labelEnabled&&t.labelContent&&(e.fillStyle=t.labelBackgroundColor,o.drawRoundedRectangle(e,t.labelX,t.labelY,t.labelWidth,t.labelHeight,t.labelCornerRadius),e.fill(),e.font=o.fontString(t.labelFontSize,t.labelFontStyle,t.labelFontFamily),e.fillStyle=t.labelFontColor,e.textAlign="center",e.textBaseline="middle",e.fillText(t.labelContent,t.labelX+t.labelWidth/2,t.labelY+t.labelHeight/2))}});return r}},{"chart.js":1}]},{},[3]);