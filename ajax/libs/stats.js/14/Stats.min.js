var Stats=function(){function e(e,n,t){var r=document.createElement(e);return r.id=n,r.style.cssText=t,r}function n(n,t,r){var i=e("div",n,"padding:0 0 3px 3px;text-align:left;background:"+r),a=e("div",n+"Text","font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px;color:"+t);a.innerHTML=n.toUpperCase(),i.appendChild(a);var o=e("div",n+"Graph","width:74px;height:30px;background:"+t);i.appendChild(o);for(var d=0;d<74;d++)o.appendChild(e("span","","width:1px;height:30px;float:left;opacity:0.9;background:"+r));return i}function t(e){for(var n=l.children,t=0;t<n.length;t++)n[t].style.display=t===e?"block":"none";p=e}function r(e,n){var t=e.appendChild(e.firstChild);t.style.height=Math.min(30,30-30*n)+"px"}var i=self.performance&&self.performance.now?self.performance.now.bind(performance):Date.now,a=i(),o=a,d=0,p=0,l=e("div","stats","width:80px;opacity:0.9;cursor:pointer");l.addEventListener("mousedown",function(e){e.preventDefault(),t(++p%l.children.length)},!1);var f=0,h=1/0,c=0,m=n("fps","#0ff","#002"),s=m.children[0],u=m.children[1];l.appendChild(m);var v=0,x=1/0,g=0,M=n("ms","#0f0","#020"),C=M.children[0],y=M.children[1];if(l.appendChild(M),self.performance&&self.performance.memory){var b=0,w=1/0,S=0,k=n("mb","#f08","#201"),E=k.children[0],H=k.children[1];l.appendChild(k)}return t(p),{REVISION:14,domElement:l,setMode:t,begin:function(){a=i()},end:function(){var e=i();if(v=e-a,x=Math.min(x,v),g=Math.max(g,v),C.textContent=(0|v)+" MS ("+(0|x)+"-"+(0|g)+")",r(y,v/200),d++,e>o+1e3&&(f=Math.round(1e3*d/(e-o)),h=Math.min(h,f),c=Math.max(c,f),s.textContent=f+" FPS ("+h+"-"+c+")",r(u,f/100),o=e,d=0,void 0!==b)){var n=performance.memory.usedJSHeapSize,t=performance.memory.jsHeapSizeLimit;b=Math.round(9.54e-7*n),w=Math.min(w,b),S=Math.max(S,b),E.textContent=b+" MB ("+w+"-"+S+")",r(H,n/t)}return e},update:function(){a=this.end()}}};"object"==typeof module&&(module.exports=Stats);