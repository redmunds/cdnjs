d3.parcoords=function(t){function n(t,n){n.strokeStyle=d3.functor(u.color)(t),n.beginPath(),u.dimensions.map(function(e,r){0==r?n.moveTo(i(e),b[e](t[e])):n.lineTo(i(e),b[e](t[e]))}),n.stroke()}function e(t,n){n.clearRect(-1,-1,f()+2,m()+2),n.beginPath(),t.forEach(function(t){u.dimensions.map(function(e,r){0==r?n.moveTo(i(e),b[e](t[e])):n.lineTo(i(e),b[e](t[e]))})}),n.stroke()}function r(t){return!b[t].brush.empty()}function i(t){var n=x[t];return null==n?v(t):n}function a(){var t=u.dimensions.filter(r),n=t.map(function(t){return b[t].brush.extent()});return u.data.filter(function(e){return t.every(function(t,r){return n[r][0]<=e[t]&&e[t]<=n[r][1]})})}function s(t){return n(t,w.foreground)}function o(t){return n(t,w.highlight)}function l(t,n,e){d3.keys(n).forEach(function(r){t[r]=function(i){if(!arguments.length)return n[r];p.debug&&console.log(hey,i);var a=n[r];return n[r]=i,k[r].call(h,{value:i,previous:a}),e[r].call(h,{value:i,previous:a}),t}})}function c(t,n){for(key in n)t[key]=n[key];return t}var u={dimensions:[],data:[],brushed:!1,width:600,height:300,margin:{top:24,right:0,bottom:12,left:0},color:"#069",composite:"source-over",alpha:"0.7"};c(u,t);var d,h=function(t){return t=h.selection=d3.select(t),u.width=t[0][0].clientWidth,u.height=t[0][0].clientHeight,["extents","shadows","marks","foreground","highlight"].forEach(function(n){w[n]=t.append("canvas").attr("class",n)[0][0].getContext("2d")}),h.svg=t.append("svg").attr("width",u.width).attr("height",u.height).append("svg:g").attr("transform","translate("+u.margin.left+","+u.margin.top+")"),h},g=d3.dispatch.apply(this,["render","resize","highlight","brush"].concat(d3.keys(u))),f=function(){return u.width-u.margin.right-u.margin.left},m=function(){return u.height-u.margin.top-u.margin.bottom},p={brushable:!1,reorderable:!1,axes:!1,interactive:!1,shadows:!1,debug:!1},v=d3.scale.ordinal(),b={},x={},y=(d3.svg.line(),d3.svg.axis().orient("left").ticks(5)),w={},k=d3.dispatch.apply(this,d3.keys(u)).on("composite",function(t){w.foreground.globalCompositeOperation=t.value}).on("alpha",function(t){w.foreground.globalAlpha=t.value}).on("width",function(t){h.resize()}).on("height",function(t){h.resize()}).on("margin",function(t){h.resize()}).on("data",function(t){p.shadows&&e(u.data,w.shadows)}).on("dimensions",function(t){v.domain(u.dimensions),p.interactive&&h.render().updateAxes()});return h.toString=function(){return"Parallel Coordinates: "+u.dimensions.length+" dimensions ("+d3.keys(u.data[0]).length+" total) , "+u.data.length+" rows"},h.state=u,h.flags=p,l(h,u,g),d3.rebind(h,g,"on"),d3.rebind(h,y,"ticks","orient","tickValues","tickSubdivide","tickSize","tickPadding","tickFormat"),h.autoscale=function(){return v.rangePoints([0,f()],1),u.dimensions.forEach(function(t){b[t]=d3.scale.linear().domain(d3.extent(u.data,function(n){return+n[t]})).range([m(),0])}),h.selection.selectAll("canvas").style("margin-top",u.margin.top+"px").style("margin-left",u.margin.left+"px").attr("width",f()+2).attr("height",m()+2),w.foreground.strokeStyle=u.color,w.foreground.lineWidth=1.4,w.foreground.globalCompositeOperation=u.composite,w.foreground.globalAlpha=u.alpha,w.highlight.lineWidth=3,w.shadows.strokeStyle="#dadada",w.extents.strokeStyle="rgba(140,140,140,0.25)",w.extents.fillStyle="rgba(255,255,255,0.4)",this},h.detectDimensions=function(){return h.dimensions(d3.parcoords.quantitative(u.data)),this},h.render=function(){return u.dimensions.length||h.detectDimensions(),u.dimensions[0]in b||h.autoscale(),h.clear("foreground"),u.brushed?u.brushed.forEach(s):u.data.forEach(s),g.render.call(this),this},h.shadows=function(){return p.shadows=!0,u.data.length>0&&e(u.data,w.shadows),this},h.axisDots=function(){var t=h.ctx.marks;return t.globalAlpha=d3.min([1/Math.pow(data.length,.5),1]),u.data.forEach(function(n){u.dimensions.map(function(e,r){t.fillRect(i(e)-.75,b[e](n[e])-.75,1.5,1.5)})}),this},h.clear=function(t){return w[t].clearRect(0,0,f()+1,m()+1),this},h.createAxes=function(){return d&&h.removeAxes(),d=h.svg.selectAll(".dimension").data(u.dimensions,function(t){return t}).enter().append("svg:g").attr("class","dimension").attr("transform",function(t){return"translate("+v(t)+")"}),d.append("svg:g").attr("class","axis").attr("transform","translate(0,0)").each(function(t){d3.select(this).call(y.scale(b[t]))}).append("svg:text").attr({"text-anchor":"middle",y:0,transform:"translate(0,-12)",x:0,class:"label"}).text(String),p.axes=!0,this},h.removeAxes=function(){return d.remove(),this},h.updateAxes=function(){var t=h.svg.selectAll(".dimension").data(u.dimensions,function(t){return t});return t.enter().append("svg:g").attr("class","dimension").attr("transform",function(t){return"translate("+i(t)+")"}).style("opacity",0).append("svg:g").attr("class","axis").attr("transform","translate(0,0)").each(function(t){d3.select(this).call(y.scale(b[t]))}).append("svg:text").attr({"text-anchor":"middle",y:0,transform:"translate(0,-12)",x:0,class:"label"}).text(String),t.exit().remove(),d=h.svg.selectAll(".dimension"),d.transition().duration(1100).attr("transform",function(t){return"translate("+i(t)+")"}).style("opacity",1),p.shadows&&e(u.data,w.shadows),this},h.brushable=function(){return d||h.createAxes(),d.append("svg:g").attr("class","brush").each(function(t){d3.select(this).call(b[t].brush=d3.svg.brush().y(b[t]).on("brush",h.brush))}).selectAll("rect").style("visibility",null).attr("x",-15).attr("width",30),p.brushable=!0,this},h.reorderable=function(){return d||h.createAxes(),d.style("cursor","move").call(d3.behavior.drag().on("dragstart",function(t){x[t]=this.__origin__=v(t)}).on("drag",function(t){x[t]=Math.min(f(),Math.max(0,this.__origin__+=d3.event.dx)),u.dimensions.sort(function(t,n){return i(t)-i(n)}),v.domain(u.dimensions),h.render(),d.attr("transform",function(t){return"translate("+i(t)+")"})}).on("dragend",function(t){delete this.__origin__,delete x[t],d3.select(this).transition().attr("transform","translate("+v(t)+")"),h.render()})),p.reorderable=!0,this},h.interactive=function(){return p.interactive=!0,this},h.brush=function(){u.brushed=a(),h.render(),g.brush.call(h,u.brushed)},h.xscale=v,h.yscale=b,h.ctx=w,h.g=function(){return d},h.brushReset=function(t){return b[t].brush.clear()(pc1.g().filter(function(n){return t==n})),this},h.resize=function(){return h.selection.select("svg").attr("width",u.width).attr("height",u.height),h.svg.attr("transform","translate("+u.margin.left+","+u.margin.top+")"),h.autoscale(),d&&(d.attr("transform",function(t){return"translate("+v(t)+")"}),d.selectAll("g.axis").each(function(t){d3.select(this).call(y.scale(b[t]))})),h.render(),g.resize.call(this,{width:u.width,height:u.height,margin:u.margin}),this},h.highlight=function(t){return h.clear("highlight"),w.highlight.fillStyle="rgba(255,255,255,0.8)",w.highlight.fillRect(-1,-1,f()+2,m()+2),t.forEach(o),g.highlight.call(this,t),this},h.unhighlight=function(t){return h.clear("highlight"),this},h},d3.parcoords.version="0.1.4",d3.parcoords.quantitative=function(t){return d3.keys(t[0]).filter(function(n){var e=t[0][n];return parseFloat(e)==e&&null!=e})},d3.parcoords.adjacent_pairs=function(t){for(var n=[],e=0;e<t.length-1;e++)n.push([t[e],t[e+1]]);return n};
//# sourceMappingURL=d3.parcoords.min.js.map