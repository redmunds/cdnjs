d3.parcoords=function(t){function e(t,e){e.strokeStyle=d3.functor(d.color)(t),e.beginPath(),d.dimensions.map(function(n,r){0==r?e.moveTo(i(n),b[n](t[n])):e.lineTo(i(n),b[n](t[n]))}),e.stroke()}function n(t,e){e.clearRect(-1,-1,g()+2,m()+2),e.beginPath(),t.forEach(function(t){d.dimensions.map(function(n,r){0==r?e.moveTo(i(n),b[n](t[n])):e.lineTo(i(n),b[n](t[n]))})}),e.stroke()}function r(t){return!b[t].brush.empty()}function i(t){var e=y[t];return null==e?v(t):e}function a(){var t=d.dimensions.filter(r),e=t.map(function(t){return b[t].brush.extent()});return d.data.filter(function(n){return t.every(function(t,r){return e[r][0]<=n[t]&&n[t]<=e[r][1]})})}function o(t){return e(t,w.foreground)}function s(t){return e(t,w.highlight)}function c(t,e,n){d3.keys(e).forEach(function(r){t[r]=function(i){if(!arguments.length)return e[r];var a=e[r];return e[r]=i,A[r].call(h,{value:i,previous:a}),n[r].call(h,{value:i,previous:a}),t}})}function u(t,e){for(key in e)t[key]=e[key];return t}var d={data:[],dimensions:[],types:{},brushed:!1,mode:"default",rate:10,width:600,height:300,margin:{top:24,right:0,bottom:12,left:0},color:"#069",composite:"source-over",alpha:"0.7"};u(d,t);var l,h=function(t){return t=h.selection=d3.select(t),d.width=t[0][0].clientWidth,d.height=t[0][0].clientHeight,["extents","shadows","marks","foreground","highlight"].forEach(function(e){k[e]=t.append("canvas").attr("class",e)[0][0],w[e]=k[e].getContext("2d")}),h.svg=t.append("svg").attr("width",d.width).attr("height",d.height).append("svg:g").attr("transform","translate("+d.margin.left+","+d.margin.top+")"),h},f=d3.dispatch.apply(this,["render","resize","highlight","brush"].concat(d3.keys(d))),g=function(){return d.width-d.margin.right-d.margin.left},m=function(){return d.height-d.margin.top-d.margin.bottom},p={brushable:!1,reorderable:!1,axes:!1,interactive:!1,shadows:!1,debug:!1},v=d3.scale.ordinal(),b={},y={},x=(d3.svg.line(),d3.svg.axis().orient("left").ticks(5)),w={},k={},A=d3.dispatch.apply(this,d3.keys(d)).on("composite",function(t){w.foreground.globalCompositeOperation=t.value}).on("alpha",function(t){w.foreground.globalAlpha=t.value}).on("width",function(t){h.resize()}).on("height",function(t){h.resize()}).on("margin",function(t){h.resize()}).on("rate",function(t){_.rate(t.value)}).on("data",function(t){p.shadows&&n(d.data,w.shadows)}).on("dimensions",function(t){v.domain(d.dimensions),p.interactive&&h.render().updateAxes()});h.toString=function(){return"Parallel Coordinates: "+d.dimensions.length+" dimensions ("+d3.keys(d.data[0]).length+" total) , "+d.data.length+" rows"},h.state=d,h.flags=p,c(h,d,f),d3.rebind(h,f,"on"),d3.rebind(h,x,"ticks","orient","tickValues","tickSubdivide","tickSize","tickPadding","tickFormat"),h.autoscale=function(){return v.rangePoints([0,g()],1),d.dimensions.forEach(function(t){b[t]=d3.scale.linear().domain(d3.extent(d.data,function(e){return+e[t]})).range([m()+1,1])}),h.selection.selectAll("canvas").style("margin-top",d.margin.top+"px").style("margin-left",d.margin.left+"px").attr("width",g()+2).attr("height",m()+2),w.foreground.strokeStyle=d.color,w.foreground.lineWidth=1.4,w.foreground.globalCompositeOperation=d.composite,w.foreground.globalAlpha=d.alpha,w.highlight.lineWidth=3,w.shadows.strokeStyle="#dadada",w.extents.strokeStyle="rgba(140,140,140,0.25)",w.extents.fillStyle="rgba(255,255,255,0.4)",this},h.detectDimensions=function(){return h.types(d3.parcoords.detectDimensionTypes(d.data)),h.dimensions(d3.parcoords.quantitative(d.data)),this};var _=d3.renderQueue(o).rate(50).clear(function(){h.clear("foreground")});return h.render=function(){return d.dimensions.length||h.detectDimensions(),d.dimensions[0]in b||h.autoscale(),h.render[d.mode](),f.render.call(this),this},h.render.default=function(){h.clear("foreground"),d.brushed?d.brushed.forEach(o):d.data.forEach(o)},h.render.queue=function(){_(d.brushed?d.brushed:d.data)},h.shadows=function(){return p.shadows=!0,d.data.length>0&&n(d.data,w.shadows),this},h.axisDots=function(){var t=h.ctx.marks;return t.globalAlpha=d3.min([1/Math.pow(data.length,.5),1]),d.data.forEach(function(e){d.dimensions.map(function(n,r){t.fillRect(i(n)-.75,b[n](e[n])-.75,1.5,1.5)})}),this},h.clear=function(t){return w[t].clearRect(0,0,g()+2,m()+2),this},h.createAxes=function(){return l&&h.removeAxes(),l=h.svg.selectAll(".dimension").data(d.dimensions,function(t){return t}).enter().append("svg:g").attr("class","dimension").attr("transform",function(t){return"translate("+v(t)+")"}),l.append("svg:g").attr("class","axis").attr("transform","translate(0,0)").each(function(t){d3.select(this).call(x.scale(b[t]))}).append("svg:text").attr({"text-anchor":"middle",y:0,transform:"translate(0,-12)",x:0,class:"label"}).text(String),p.axes=!0,this},h.removeAxes=function(){return l.remove(),this},h.updateAxes=function(){var t=h.svg.selectAll(".dimension").data(d.dimensions,function(t){return t});return t.enter().append("svg:g").attr("class","dimension").attr("transform",function(t){return"translate("+i(t)+")"}).style("opacity",0).append("svg:g").attr("class","axis").attr("transform","translate(0,0)").each(function(t){d3.select(this).call(x.scale(b[t]))}).append("svg:text").attr({"text-anchor":"middle",y:0,transform:"translate(0,-12)",x:0,class:"label"}).text(String),t.exit().remove(),l=h.svg.selectAll(".dimension"),l.transition().duration(1100).attr("transform",function(t){return"translate("+i(t)+")"}).style("opacity",1),p.shadows&&n(d.data,w.shadows),this},h.brushable=function(){return l||h.createAxes(),l.append("svg:g").attr("class","brush").each(function(t){d3.select(this).call(b[t].brush=d3.svg.brush().y(b[t]).on("brush",h.brush))}).selectAll("rect").style("visibility",null).attr("x",-15).attr("width",30),p.brushable=!0,this},h.reorderable=function(){return l||h.createAxes(),l.style("cursor","move").call(d3.behavior.drag().on("dragstart",function(t){y[t]=this.__origin__=v(t)}).on("drag",function(t){y[t]=Math.min(g(),Math.max(0,this.__origin__+=d3.event.dx)),d.dimensions.sort(function(t,e){return i(t)-i(e)}),v.domain(d.dimensions),h.render(),l.attr("transform",function(t){return"translate("+i(t)+")"})}).on("dragend",function(t){delete this.__origin__,delete y[t],d3.select(this).transition().attr("transform","translate("+v(t)+")"),h.render()})),p.reorderable=!0,this},h.interactive=function(){return p.interactive=!0,this},h.brush=function(){d.brushed=a(),h.render(),f.brush.call(h,d.brushed)},h.xscale=v,h.yscale=b,h.ctx=w,h.canvas=k,h.g=function(){return l},h.brushReset=function(t){return b[t].brush.clear()(h.g().filter(function(e){return t==e})),this},h.resize=function(){return h.selection.select("svg").attr("width",d.width).attr("height",d.height),h.svg.attr("transform","translate("+d.margin.left+","+d.margin.top+")"),h.autoscale(),l&&(l.attr("transform",function(t){return"translate("+v(t)+")"}),l.selectAll("g.axis").each(function(t){d3.select(this).call(x.scale(b[t]))})),h.render(),f.resize.call(this,{width:d.width,height:d.height,margin:d.margin}),this},h.highlight=function(t){return h.clear("highlight"),d3.select(k.foreground).classed("faded",!0),t.forEach(s),f.highlight.call(this,t),this},h.unhighlight=function(t){return h.clear("highlight"),d3.select(k.foreground).classed("faded",!1),this},h},d3.parcoords.version="0.1.6",d3.parcoords.quantitative=function(t){return d3.keys(t[0]).filter(function(e){var n=t[0][e];return parseFloat(n)==n&&null!=n})},d3.parcoords.toType=function(t){return{}.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()},d3.parcoords.toTypeCoerceNumbers=function(t){return parseFloat(t)==t&&null!=t?"number":d3.parcoords.toType(t)},d3.parcoords.detectDimensionTypes=function(t){var e={};return d3.keys(t[0]).forEach(function(n){e[n]=d3.parcoords.toTypeCoerceNumbers(t[0][n])}),e},d3.parcoords.adjacent_pairs=function(t){for(var e=[],n=0;n<t.length-1;n++)e.push([t[n],t[n+1]]);return e},d3.renderQueue=function(t){var e=[],n=10,r=function(){},i=function(){},a=function(t){t&&a.data(t),r(),i(),a.render()};a.render=function(){function i(){if(!s)return!0;if(!e.length)return!0;var r=e.splice(0,n);r.map(t),o(i)}var s=!0;r=a.invalidate=function(){s=!1},i()},a.data=function(t){return r(),e=t.slice(0),a},a.add=function(t){e=e.concat(t)},a.rate=function(t){return arguments.length?(n=t,a):n},a.remaining=function(){return e.length},a.clear=function(t){return arguments.length?(i=t,a):(i(),a)},a.invalidate=r;var o=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){setTimeout(t,17)};return a};
//# sourceMappingURL=d3.parcoords.min.js.map