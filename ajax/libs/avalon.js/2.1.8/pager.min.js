!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("avalon")):"function"==typeof define&&define.amd?define(["avalon"],t):"object"==typeof exports?exports.pager=t(require("avalon")):e.pager=t(e.avalon)}(this,function(e){return function(e){function t(s){if(a[s])return a[s].exports;var r=a[s]={exports:{},id:s,loaded:!1};return e[s].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var a={};return t.m=e,t.c=a,t.p="",t(0)}({0:function(e,t,a){var s=a(109);a(110),window.vm=s.define({$id:"test",config:{totalPages:0,showPages:2,currentPage:1,nextText:"下一页",prevText:"上一页"}}),setTimeout(function(){window.vm.config={totalPages:2,showPages:2}},3e3)},109:function(t,a){t.exports=e},110:function(e,t,a){function s(e){var t=[],a=this.showPages,s=this.totalPages,r=Math.floor(a/2),i=e-r+1-a%2,n=e+r;i<=0&&(i=1,n=a),n>s&&(i=s-a+1,n=s);for(var o=i;o<=n;)t.push(o),o++;return{currentPage:e,pages:t}}var r=a(109);a(!function(){var e=new Error('Cannot find module "./style.scss"');throw e.code="MODULE_NOT_FOUND",e}()),r.component("ms-pager",{template:a(112),defaults:{getHref:function(e){return"#page-"+this.toPage(e)},getTitle:function(e){return e},isDisabled:function(e,t){return this.$buttons[e]=this.currentPage===t},$buttons:{},showPages:5,pages:[],totalPages:15,currentPage:1,firstText:"First",prevText:"Previous",nextText:"Next",lastText:"Last",onPageClick:r.noop,toPage:function(e){var t=this.currentPage,a=this.totalPages;switch(e){case"first":return 1;case"prev":return Math.max(t-1,0);case"next":return Math.min(t+1,a);case"last":return a;default:return e}},cbProxy:function(e,t){if(this.$buttons[t]||t===this.currentPage)return void e.preventDefault();var a=this.toPage(t);return this.render(a),this.onPageClick(e,t)},render:function(e){var t=s.call(this,e);this.pages=t.pages,this.currentPage=t.currentPage},rpage:/(?:#|\?)page\-(\d+)/,onInit:function(){var e=this.currentPage,t=this.rpage&&location.href.match(this.rpage);if(t&&t[1]){var e=~~t[1];(e<0||e>this.totalPages)&&(e=1)}var a=this;this.$watch("totalPages",function(){setTimeout(function(){a.render(a.currentPage)},4)}),this.render(e)}}})},112:function(e,t){e.exports='<ul class=pagination ms-visible=@totalPages><li class=first ms-class=\'{disabled: @isDisabled("first", 1)}\'><a ms-attr=\'{href:@getHref("first"),title:@getTitle("first")}\' ms-click=\'@cbProxy($event,"first")\' class=icon-double-angle-left></a></li><li class=prev ms-class=\'{disabled: @isDisabled("prev",1)}\'><a ms-attr=\'{href:@getHref("prev"),title:@getTitle("prev")}\' ms-click=\'@cbProxy($event,"prev")\' class=icon-angle-left></a></li><li ms-for="page in @pages" ms-class="{active: page === @currentPage}"><a ms-attr={href:@getHref(page),title:@getTitle(page)} ms-click=@cbProxy($event,page)>{{page}}</a></li><li class=next ms-class=\'{disabled: @isDisabled("next",@totalPages)}\'><a ms-attr=\'{href:@getHref("next"),title: @getTitle("next")}\' ms-click=\'@cbProxy($event,"next")\' class=icon-angle-right></a></li><li class=last ms-class=\'{disabled: @isDisabled("last",@totalPages)}\'><a ms-attr=\'{href:@getHref("last"),title: @getTitle("last")}\' ms-click=\'@cbProxy($event,"last")\' class=icon-double-angle-right></a></li></ul>'}})});
//# sourceMappingURL=pager.min.js.map