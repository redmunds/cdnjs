!function(r,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):"object"==typeof exports?exports.formulajs=e():r.formulajs=e()}(this,function(){return function(r){function e(t){if(n[t])return n[t].exports;var u=n[t]={exports:{},id:t,loaded:!1};return r[t].call(u.exports,u,u.exports,e),u.loaded=!0,u.exports}var n={};return e.m=r,e.c=n,e.p="",e(0)}([function(r,e,n){var t=[n(1),n(2),n(3),n(4),n(5),n(6),n(7),n(8),n(9),n(10),n(11),n(12)];for(var u in t){var i=t[u];for(var a in i)e[a]=e[a]||i[a]}},function(r,e,n){function t(r,e){if(e)for(var n in e)r[n]=e[n];return r}var u=n(5),i=n(11),a=n(3),o=n(7);e.BETADIST=i.BETA.DIST,e.BETAINV=i.BETA.INV,e.BINOMDIST=i.BINOM.DIST,e.CEILING=e.ISOCEILING=t(u.CEILING.MATH,u.CEILING),e.CEILINGMATH=u.CEILING.MATH,e.CEILINGPRECISE=u.CEILING.PRECISE,e.CHIDIST=i.CHISQ.DIST,e.CHIDISTRT=i.CHISQ.DIST.RT,e.CHIINV=i.CHISQ.INV,e.CHIINVRT=i.CHISQ.INV.RT,e.CHITEST=i.CHISQ.TEST,e.CONFIDENCE=t(i.CONFIDENCE.NORM,i.CONFIDENCE),e.COVAR=i.COVARIANCE.P,e.COVARIANCEP=i.COVARIANCE.P,e.COVARIANCES=i.COVARIANCE.S,e.CRITBINOM=i.BINOM.INV,e.EXPONDIST=i.EXPON.DIST,e.ERFCPRECISE=a.ERFC.PRECISE,e.ERFPRECISE=a.ERF.PRECISE,e.FDIST=i.F.DIST,e.FDISTRT=i.F.DIST.RT,e.FINVRT=i.F.INV.RT,e.FINV=i.F.INV,e.FLOOR=t(u.FLOOR.MATH,u.FLOOR),e.FLOORMATH=u.FLOOR.MATH,e.FLOORPRECISE=u.FLOOR.PRECISE,e.FTEST=i.F.TEST,e.GAMMADIST=i.GAMMA.DIST,e.GAMMAINV=i.GAMMA.INV,e.GAMMALNPRECISE=i.GAMMALN.PRECISE,e.HYPGEOMDIST=i.HYPGEOM.DIST,e.LOGINV=i.LOGNORM.INV,e.LOGNORMINV=i.LOGNORM.INV,e.LOGNORMDIST=i.LOGNORM.DIST,e.MODE=t(i.MODE.SNGL,i.MODE),e.MODEMULT=i.MODE.MULT,e.MODESNGL=i.MODE.SNGL,e.NEGBINOMDIST=i.NEGBINOM.DIST,e.NETWORKDAYSINTL=o.NETWORKDAYS.INTL,e.NORMDIST=i.NORM.DIST,e.NORMINV=i.NORM.INV,e.NORMSDIST=i.NORM.S.DIST,e.NORMSINV=i.NORM.S.INV,e.PERCENTILE=t(i.PERCENTILE.EXC,i.PERCENTILE),e.PERCENTILEEXC=i.PERCENTILE.EXC,e.PERCENTILEINC=i.PERCENTILE.INC,e.PERCENTRANK=t(i.PERCENTRANK.INC,i.PERCENTRANK),e.PERCENTRANKEXC=i.PERCENTRANK.EXC,e.PERCENTRANKINC=i.PERCENTRANK.INC,e.POISSON=t(i.POISSON.DIST,i.POISSON),e.POISSONDIST=i.POISSON.DIST,e.QUARTILE=t(i.QUARTILE.INC,i.QUARTILE),e.QUARTILEEXC=i.QUARTILE.EXC,e.QUARTILEINC=i.QUARTILE.INC,e.RANK=t(i.RANK.EQ,i.RANK),e.RANKAVG=i.RANK.AVG,e.RANKEQ=i.RANK.EQ,e.SKEWP=i.SKEW.P,e.STDEV=t(i.STDEV.S,i.STDEV),e.STDEVP=i.STDEV.P,e.STDEVS=i.STDEV.S,e.TDIST=i.T.DIST,e.TDISTRT=i.T.DIST.RT,e.TINV=i.T.INV,e.TTEST=i.T.TEST,e.VAR=t(i.VAR.S,i.VAR),e.VARP=i.VAR.P,e.VARS=i.VAR.S,e.WEIBULL=t(i.WEIBULL.DIST,i.WEIBULL),e.WEIBULLDIST=i.WEIBULL.DIST,e.WORKDAYINTL=o.WORKDAY.INTL,e.ZTEST=i.Z.TEST},function(module,exports,__webpack_require__){function compact(r){if(!r)return r;for(var e=[],n=0;n<r.length;++n)r[n]&&e.push(r[n]);return e}function findResultIndex(database,criterias){for(var matches={},i=1;i<database[0].length;++i)matches[i]=!0;var maxCriteriaLength=criterias[0].length;for(i=1;i<criterias.length;++i)criterias[i].length>maxCriteriaLength&&(maxCriteriaLength=criterias[i].length);for(var k=1;k<database.length;++k)for(var l=1;l<database[k].length;++l){for(var currentCriteriaResult=!1,hasMatchingCriteria=!1,j=0;j<criterias.length;++j){var criteria=criterias[j];if(!(criteria.length<maxCriteriaLength)){var criteriaField=criteria[0];if(database[k][0]===criteriaField){hasMatchingCriteria=!0;for(var p=1;p<criteria.length;++p)currentCriteriaResult=currentCriteriaResult||eval(database[k][l]+criteria[p])}}}hasMatchingCriteria&&(matches[l]=matches[l]&&currentCriteriaResult)}for(var result=[],n=0;n<database[0].length;++n)matches[n]&&result.push(n-1);return result}var error=__webpack_require__(13),stats=__webpack_require__(11),maths=__webpack_require__(5),utils=__webpack_require__(14);exports.FINDFIELD=function(r,e){for(var n=null,t=0;t<r.length;t++)if(r[t][0]===e){n=t;break}return null==n?error.value:n},exports.DAVERAGE=function(r,e,n){if(isNaN(e)&&"string"!=typeof e)return error.value;var t=findResultIndex(r,n),u=[];if("string"==typeof e){var i=exports.FINDFIELD(r,e);u=utils.rest(r[i])}else u=utils.rest(r[e]);for(var a=0,o=0;o<t.length;o++)a+=u[t[o]];return 0===t.length?error.div0:a/t.length},exports.DCOUNT=function(r,e,n){if(isNaN(e)&&"string"!=typeof e)return error.value;var t=findResultIndex(r,n),u=[];if("string"==typeof e){var i=exports.FINDFIELD(r,e);u=utils.rest(r[i])}else u=utils.rest(r[e]);for(var a=[],o=0;o<t.length;o++)a[o]=u[t[o]];return stats.COUNT(a)},exports.DCOUNTA=function(r,e,n){if(isNaN(e)&&"string"!=typeof e)return error.value;var t=findResultIndex(r,n),u=[];if("string"==typeof e){var i=exports.FINDFIELD(r,e);u=utils.rest(r[i])}else u=utils.rest(r[e]);for(var a=[],o=0;o<t.length;o++)a[o]=u[t[o]];return stats.COUNTA(a)},exports.DGET=function(r,e,n){if(isNaN(e)&&"string"!=typeof e)return error.value;var t=findResultIndex(r,n),u=[];if("string"==typeof e){var i=exports.FINDFIELD(r,e);u=utils.rest(r[i])}else u=utils.rest(r[e]);return 0===t.length?error.value:t.length>1?error.num:u[t[0]]},exports.DMAX=function(r,e,n){if(isNaN(e)&&"string"!=typeof e)return error.value;var t=findResultIndex(r,n),u=[];if("string"==typeof e){var i=exports.FINDFIELD(r,e);u=utils.rest(r[i])}else u=utils.rest(r[e]);for(var a=u[t[0]],o=1;o<t.length;o++)a<u[t[o]]&&(a=u[t[o]]);return a},exports.DMIN=function(r,e,n){if(isNaN(e)&&"string"!=typeof e)return error.value;var t=findResultIndex(r,n),u=[];if("string"==typeof e){var i=exports.FINDFIELD(r,e);u=utils.rest(r[i])}else u=utils.rest(r[e]);for(var a=u[t[0]],o=1;o<t.length;o++)a>u[t[o]]&&(a=u[t[o]]);return a},exports.DPRODUCT=function(r,e,n){if(isNaN(e)&&"string"!=typeof e)return error.value;var t=findResultIndex(r,n),u=[];if("string"==typeof e){var i=exports.FINDFIELD(r,e);u=utils.rest(r[i])}else u=utils.rest(r[e]);for(var a=[],o=0;o<t.length;o++)a[o]=u[t[o]];a=compact(a);var s=1;for(o=0;o<a.length;o++)s*=a[o];return s},exports.DSTDEV=function(r,e,n){if(isNaN(e)&&"string"!=typeof e)return error.value;var t=findResultIndex(r,n),u=[];if("string"==typeof e){var i=exports.FINDFIELD(r,e);u=utils.rest(r[i])}else u=utils.rest(r[e]);for(var a=[],o=0;o<t.length;o++)a[o]=u[t[o]];return a=compact(a),stats.STDEV.S(a)},exports.DSTDEVP=function(r,e,n){if(isNaN(e)&&"string"!=typeof e)return error.value;var t=findResultIndex(r,n),u=[];if("string"==typeof e){var i=exports.FINDFIELD(r,e);u=utils.rest(r[i])}else u=utils.rest(r[e]);for(var a=[],o=0;o<t.length;o++)a[o]=u[t[o]];return a=compact(a),stats.STDEV.P(a)},exports.DSUM=function(r,e,n){if(isNaN(e)&&"string"!=typeof e)return error.value;var t=findResultIndex(r,n),u=[];if("string"==typeof e){var i=exports.FINDFIELD(r,e);u=utils.rest(r[i])}else u=utils.rest(r[e]);for(var a=[],o=0;o<t.length;o++)a[o]=u[t[o]];return maths.SUM(a)},exports.DVAR=function(r,e,n){if(isNaN(e)&&"string"!=typeof e)return error.value;var t=findResultIndex(r,n),u=[];if("string"==typeof e){var i=exports.FINDFIELD(r,e);u=utils.rest(r[i])}else u=utils.rest(r[e]);for(var a=[],o=0;o<t.length;o++)a[o]=u[t[o]];return stats.VAR.S(a)},exports.DVARP=function(r,e,n){if(isNaN(e)&&"string"!=typeof e)return error.value;var t=findResultIndex(r,n),u=[];if("string"==typeof e){var i=exports.FINDFIELD(r,e);u=utils.rest(r[i])}else u=utils.rest(r[e]);for(var a=[],o=0;o<t.length;o++)a[o]=u[t[o]];return stats.VAR.P(a)}},function(r,e,n){function t(r){return/^[01]{1,10}$/.test(r)}var u=n(13),i=n(18).jStat,a=n(6),o=n(14),s=n(15);e.BESSELI=function(r,e){return r=o.parseNumber(r),e=o.parseNumber(e),o.anyIsError(r,e)?u.value:s.besseli(r,e)},e.BESSELJ=function(r,e){return r=o.parseNumber(r),e=o.parseNumber(e),o.anyIsError(r,e)?u.value:s.besselj(r,e)},e.BESSELK=function(r,e){return r=o.parseNumber(r),e=o.parseNumber(e),o.anyIsError(r,e)?u.value:s.besselk(r,e)},e.BESSELY=function(r,e){return r=o.parseNumber(r),e=o.parseNumber(e),o.anyIsError(r,e)?u.value:s.bessely(r,e)},e.BIN2DEC=function(r){if(!t(r))return u.num;var e=parseInt(r,2),n=r.toString();return 10===n.length&&"1"===n.substring(0,1)?parseInt(n.substring(1),2)-512:e},e.BIN2HEX=function(r,e){if(!t(r))return u.num;var n=r.toString();if(10===n.length&&"1"===n.substring(0,1))return(0xfffffffe00+parseInt(n.substring(1),2)).toString(16);var i=parseInt(r,2).toString(16);return void 0===e?i:isNaN(e)?u.value:0>e?u.num:(e=Math.floor(e),e>=i.length?a.REPT("0",e-i.length)+i:u.num)},e.BIN2OCT=function(r,e){if(!t(r))return u.num;var n=r.toString();if(10===n.length&&"1"===n.substring(0,1))return(1073741312+parseInt(n.substring(1),2)).toString(8);var i=parseInt(r,2).toString(8);return void 0===e?i:isNaN(e)?u.value:0>e?u.num:(e=Math.floor(e),e>=i.length?a.REPT("0",e-i.length)+i:u.num)},e.BITAND=function(r,e){return r=o.parseNumber(r),e=o.parseNumber(e),o.anyIsError(r,e)?u.value:0>r||0>e?u.num:Math.floor(r)!==r||Math.floor(e)!==e?u.num:r>0xffffffffffff||e>0xffffffffffff?u.num:r&e},e.BITLSHIFT=function(r,e){return r=o.parseNumber(r),e=o.parseNumber(e),o.anyIsError(r,e)?u.value:0>r?u.num:Math.floor(r)!==r?u.num:r>0xffffffffffff?u.num:Math.abs(e)>53?u.num:e>=0?r<<e:r>>-e},e.BITOR=function(r,e){return r=o.parseNumber(r),e=o.parseNumber(e),o.anyIsError(r,e)?u.value:0>r||0>e?u.num:Math.floor(r)!==r||Math.floor(e)!==e?u.num:r>0xffffffffffff||e>0xffffffffffff?u.num:r|e},e.BITRSHIFT=function(r,e){return r=o.parseNumber(r),e=o.parseNumber(e),o.anyIsError(r,e)?u.value:0>r?u.num:Math.floor(r)!==r?u.num:r>0xffffffffffff?u.num:Math.abs(e)>53?u.num:e>=0?r>>e:r<<-e},e.BITXOR=function(r,e){return r=o.parseNumber(r),e=o.parseNumber(e),o.anyIsError(r,e)?u.value:0>r||0>e?u.num:Math.floor(r)!==r||Math.floor(e)!==e?u.num:r>0xffffffffffff||e>0xffffffffffff?u.num:r^e},e.COMPLEX=function(r,e,n){if(r=o.parseNumber(r),e=o.parseNumber(e),o.anyIsError(r,e))return r;if(n=void 0===n?"i":n,"i"!==n&&"j"!==n)return u.value;if(0===r&&0===e)return 0;if(0===r)return 1===e?n:e.toString()+n;if(0===e)return r.toString();var t=e>0?"+":"";return r.toString()+t+(1===e?n:e.toString()+n)},e.CONVERT=function(r,e,n){if(r=o.parseNumber(r),r instanceof Error)return r;for(var t,i=[["a.u. of action","?",null,"action",!1,!1,1.05457168181818e-34],["a.u. of charge","e",null,"electric_charge",!1,!1,1.60217653141414e-19],["a.u. of energy","Eh",null,"energy",!1,!1,4.35974417757576e-18],["a.u. of length","a?",null,"length",!1,!1,5.29177210818182e-11],["a.u. of mass","m?",null,"mass",!1,!1,9.10938261616162e-31],["a.u. of time","?/Eh",null,"time",!1,!1,2.41888432650516e-17],["admiralty knot","admkn",null,"speed",!1,!0,.514773333],["ampere","A",null,"electric_current",!0,!1,1],["ampere per meter","A/m",null,"magnetic_field_intensity",!0,!1,1],["ångström","Å",["ang"],"length",!1,!0,1e-10],["are","ar",null,"area",!1,!0,100],["astronomical unit","ua",null,"length",!1,!1,1.49597870691667e-11],["bar","bar",null,"pressure",!1,!1,1e5],["barn","b",null,"area",!1,!1,1e-28],["becquerel","Bq",null,"radioactivity",!0,!1,1],["bit","bit",["b"],"information",!1,!0,1],["btu","BTU",["btu"],"energy",!1,!0,1055.05585262],["byte","byte",null,"information",!1,!0,8],["candela","cd",null,"luminous_intensity",!0,!1,1],["candela per square metre","cd/m?",null,"luminance",!0,!1,1],["coulomb","C",null,"electric_charge",!0,!1,1],["cubic ångström","ang3",["ang^3"],"volume",!1,!0,1e-30],["cubic foot","ft3",["ft^3"],"volume",!1,!0,.028316846592],["cubic inch","in3",["in^3"],"volume",!1,!0,16387064e-12],["cubic light-year","ly3",["ly^3"],"volume",!1,!0,8.46786664623715e-47],["cubic metre","m?",null,"volume",!0,!0,1],["cubic mile","mi3",["mi^3"],"volume",!1,!0,4168181825.44058],["cubic nautical mile","Nmi3",["Nmi^3"],"volume",!1,!0,6352182208],["cubic Pica","Pica3",["Picapt3","Pica^3","Picapt^3"],"volume",!1,!0,7.58660370370369e-8],["cubic yard","yd3",["yd^3"],"volume",!1,!0,.764554857984],["cup","cup",null,"volume",!1,!0,.0002365882365],["dalton","Da",["u"],"mass",!1,!1,1.66053886282828e-27],["day","d",["day"],"time",!1,!0,86400],["degree","°",null,"angle",!1,!1,.0174532925199433],["degrees Rankine","Rank",null,"temperature",!1,!0,.555555555555556],["dyne","dyn",["dy"],"force",!1,!0,1e-5],["electronvolt","eV",["ev"],"energy",!1,!0,1.60217656514141],["ell","ell",null,"length",!1,!0,1.143],["erg","erg",["e"],"energy",!1,!0,1e-7],["farad","F",null,"electric_capacitance",!0,!1,1],["fluid ounce","oz",null,"volume",!1,!0,295735295625e-16],["foot","ft",null,"length",!1,!0,.3048],["foot-pound","flb",null,"energy",!1,!0,1.3558179483314],["gal","Gal",null,"acceleration",!1,!1,.01],["gallon","gal",null,"volume",!1,!0,.003785411784],["gauss","G",["ga"],"magnetic_flux_density",!1,!0,1],["grain","grain",null,"mass",!1,!0,647989e-10],["gram","g",null,"mass",!1,!0,.001],["gray","Gy",null,"absorbed_dose",!0,!1,1],["gross registered ton","GRT",["regton"],"volume",!1,!0,2.8316846592],["hectare","ha",null,"area",!1,!0,1e4],["henry","H",null,"inductance",!0,!1,1],["hertz","Hz",null,"frequency",!0,!1,1],["horsepower","HP",["h"],"power",!1,!0,745.69987158227],["horsepower-hour","HPh",["hh","hph"],"energy",!1,!0,2684519.538],["hour","h",["hr"],"time",!1,!0,3600],["imperial gallon (U.K.)","uk_gal",null,"volume",!1,!0,.00454609],["imperial hundredweight","lcwt",["uk_cwt","hweight"],"mass",!1,!0,50.802345],["imperial quart (U.K)","uk_qt",null,"volume",!1,!0,.0011365225],["imperial ton","brton",["uk_ton","LTON"],"mass",!1,!0,1016.046909],["inch","in",null,"length",!1,!0,.0254],["international acre","uk_acre",null,"area",!1,!0,4046.8564224],["IT calorie","cal",null,"energy",!1,!0,4.1868],["joule","J",null,"energy",!0,!0,1],["katal","kat",null,"catalytic_activity",!0,!1,1],["kelvin","K",["kel"],"temperature",!0,!0,1],["kilogram","kg",null,"mass",!0,!0,1],["knot","kn",null,"speed",!1,!0,.514444444444444],["light-year","ly",null,"length",!1,!0,9460730472580800],["litre","L",["l","lt"],"volume",!1,!0,.001],["lumen","lm",null,"luminous_flux",!0,!1,1],["lux","lx",null,"illuminance",!0,!1,1],["maxwell","Mx",null,"magnetic_flux",!1,!1,1e-18],["measurement ton","MTON",null,"volume",!1,!0,1.13267386368],["meter per hour","m/h",["m/hr"],"speed",!1,!0,.00027777777777778],["meter per second","m/s",["m/sec"],"speed",!0,!0,1],["meter per second squared","m?s??",null,"acceleration",!0,!1,1],["parsec","pc",["parsec"],"length",!1,!0,0x6da012f958ee1c],["meter squared per second","m?/s",null,"kinematic_viscosity",!0,!1,1],["metre","m",null,"length",!0,!0,1],["miles per hour","mph",null,"speed",!1,!0,.44704],["millimetre of mercury","mmHg",null,"pressure",!1,!1,133.322],["minute","?",null,"angle",!1,!1,.000290888208665722],["minute","min",["mn"],"time",!1,!0,60],["modern teaspoon","tspm",null,"volume",!1,!0,5e-6],["mole","mol",null,"amount_of_substance",!0,!1,1],["morgen","Morgen",null,"area",!1,!0,2500],["n.u. of action","?",null,"action",!1,!1,1.05457168181818e-34],["n.u. of mass","m?",null,"mass",!1,!1,9.10938261616162e-31],["n.u. of speed","c?",null,"speed",!1,!1,299792458],["n.u. of time","?/(me?c??)",null,"time",!1,!1,1.28808866778687e-21],["nautical mile","M",["Nmi"],"length",!1,!0,1852],["newton","N",null,"force",!0,!0,1],["œrsted","Oe ",null,"magnetic_field_intensity",!1,!1,79.5774715459477],["ohm","Ω",null,"electric_resistance",!0,!1,1],["ounce mass","ozm",null,"mass",!1,!0,.028349523125],["pascal","Pa",null,"pressure",!0,!1,1],["pascal second","Pa?s",null,"dynamic_viscosity",!0,!1,1],["pferdestärke","PS",null,"power",!1,!0,735.49875],["phot","ph",null,"illuminance",!1,!1,1e-4],["pica (1/6 inch)","pica",null,"length",!1,!0,.00035277777777778],["pica (1/72 inch)","Pica",["Picapt"],"length",!1,!0,.00423333333333333],["poise","P",null,"dynamic_viscosity",!1,!1,.1],["pond","pond",null,"force",!1,!0,.00980665],["pound force","lbf",null,"force",!1,!0,4.4482216152605],["pound mass","lbm",null,"mass",!1,!0,.45359237],["quart","qt",null,"volume",!1,!0,.000946352946],["radian","rad",null,"angle",!0,!1,1],["second","?",null,"angle",!1,!1,484813681109536e-20],["second","s",["sec"],"time",!0,!0,1],["short hundredweight","cwt",["shweight"],"mass",!1,!0,45.359237],["siemens","S",null,"electrical_conductance",!0,!1,1],["sievert","Sv",null,"equivalent_dose",!0,!1,1],["slug","sg",null,"mass",!1,!0,14.59390294],["square ångström","ang2",["ang^2"],"area",!1,!0,1e-20],["square foot","ft2",["ft^2"],"area",!1,!0,.09290304],["square inch","in2",["in^2"],"area",!1,!0,64516e-8],["square light-year","ly2",["ly^2"],"area",!1,!0,8.95054210748189e31],["square meter","m?",null,"area",!0,!0,1],["square mile","mi2",["mi^2"],"area",!1,!0,2589988.110336],["square nautical mile","Nmi2",["Nmi^2"],"area",!1,!0,3429904],["square Pica","Pica2",["Picapt2","Pica^2","Picapt^2"],"area",!1,!0,1792111111111e-17],["square yard","yd2",["yd^2"],"area",!1,!0,.83612736],["statute mile","mi",null,"length",!1,!0,1609.344],["steradian","sr",null,"solid_angle",!0,!1,1],["stilb","sb",null,"luminance",!1,!1,1e-4],["stokes","St",null,"kinematic_viscosity",!1,!1,1e-4],["stone","stone",null,"mass",!1,!0,6.35029318],["tablespoon","tbs",null,"volume",!1,!0,147868e-10],["teaspoon","tsp",null,"volume",!1,!0,492892e-11],["tesla","T",null,"magnetic_flux_density",!0,!0,1],["thermodynamic calorie","c",null,"energy",!1,!0,4.184],["ton","ton",null,"mass",!1,!0,907.18474],["tonne","t",null,"mass",!1,!1,1e3],["U.K. pint","uk_pt",null,"volume",!1,!0,.00056826125],["U.S. bushel","bushel",null,"volume",!1,!0,.03523907],["U.S. oil barrel","barrel",null,"volume",!1,!0,.158987295],["U.S. pint","pt",["us_pt"],"volume",!1,!0,.000473176473],["U.S. survey mile","survey_mi",null,"length",!1,!0,1609.347219],["U.S. survey/statute acre","us_acre",null,"area",!1,!0,4046.87261],["volt","V",null,"voltage",!0,!1,1],["watt","W",null,"power",!0,!0,1],["watt-hour","Wh",["wh"],"energy",!1,!0,3600],["weber","Wb",null,"magnetic_flux",!0,!1,1],["yard","yd",null,"length",!1,!0,.9144],["year","yr",null,"time",!1,!0,31557600]],a={Yi:["yobi",80,1.2089258196146292e24,"Yi","yotta"],Zi:["zebi",70,0x400000000000000000,"Zi","zetta"],Ei:["exbi",60,0x1000000000000000,"Ei","exa"],Pi:["pebi",50,0x4000000000000,"Pi","peta"],Ti:["tebi",40,1099511627776,"Ti","tera"],Gi:["gibi",30,1073741824,"Gi","giga"],Mi:["mebi",20,1048576,"Mi","mega"],ki:["kibi",10,1024,"ki","kilo"]},s={Y:["yotta",1e24,"Y"],Z:["zetta",1e21,"Z"],E:["exa",1e18,"E"],P:["peta",1e15,"P"],T:["tera",1e12,"T"],G:["giga",1e9,"G"],M:["mega",1e6,"M"],k:["kilo",1e3,"k"],h:["hecto",100,"h"],e:["dekao",10,"e"],d:["deci",.1,"d"],c:["centi",.01,"c"],m:["milli",.001,"m"],u:["micro",1e-6,"u"],n:["nano",1e-9,"n"],p:["pico",1e-12,"p"],f:["femto",1e-15,"f"],a:["atto",1e-18,"a"],z:["zepto",1e-21,"z"],y:["yocto",1e-24,"y"]},f=null,l=null,c=e,m=n,p=1,h=1,g=0;g<i.length;g++)t=null===i[g][2]?[]:i[g][2],(i[g][1]===c||t.indexOf(c)>=0)&&(f=i[g]),(i[g][1]===m||t.indexOf(m)>=0)&&(l=i[g]);if(null===f){var v=a[e.substring(0,2)],d=s[e.substring(0,1)];"da"===e.substring(0,2)&&(d=["dekao",10,"da"]),v?(p=v[2],c=e.substring(2)):d&&(p=d[1],c=e.substring(d[2].length));for(var y=0;y<i.length;y++)t=null===i[y][2]?[]:i[y][2],(i[y][1]===c||t.indexOf(c)>=0)&&(f=i[y])}if(null===l){var b=a[n.substring(0,2)],N=s[n.substring(0,1)];"da"===n.substring(0,2)&&(N=["dekao",10,"da"]),b?(h=b[2],m=n.substring(2)):N&&(h=N[1],m=n.substring(N[2].length));for(var E=0;E<i.length;E++)t=null===i[E][2]?[]:i[E][2],(i[E][1]===m||t.indexOf(m)>=0)&&(l=i[E])}return null===f||null===l?u.na:f[3]!==l[3]?u.na:r*f[6]*p/(l[6]*h)},e.DEC2BIN=function(r,e){if(r=o.parseNumber(r),r instanceof Error)return r;if(!/^-?[0-9]{1,3}$/.test(r)||-512>r||r>511)return u.num;if(0>r)return"1"+a.REPT("0",9-(512+r).toString(2).length)+(512+r).toString(2);var n=parseInt(r,10).toString(2);return"undefined"==typeof e?n:isNaN(e)?u.value:0>e?u.num:(e=Math.floor(e),e>=n.length?a.REPT("0",e-n.length)+n:u.num)},e.DEC2HEX=function(r,e){if(r=o.parseNumber(r),r instanceof Error)return r;if(!/^-?[0-9]{1,12}$/.test(r)||-549755813888>r||r>549755813887)return u.num;if(0>r)return(1099511627776+r).toString(16);var n=parseInt(r,10).toString(16);return"undefined"==typeof e?n:isNaN(e)?u.value:0>e?u.num:(e=Math.floor(e),e>=n.length?a.REPT("0",e-n.length)+n:u.num)},e.DEC2OCT=function(r,e){if(r=o.parseNumber(r),r instanceof Error)return r;if(!/^-?[0-9]{1,9}$/.test(r)||-536870912>r||r>536870911)return u.num;if(0>r)return(1073741824+r).toString(8);var n=parseInt(r,10).toString(8);return"undefined"==typeof e?n:isNaN(e)?u.value:0>e?u.num:(e=Math.floor(e),e>=n.length?a.REPT("0",e-n.length)+n:u.num)},e.DELTA=function(r,e){return e=void 0===e?0:e,r=o.parseNumber(r),e=o.parseNumber(e),o.anyIsError(r,e)?u.value:r===e?1:0},e.ERF=function(r,e){return e=void 0===e?0:e,r=o.parseNumber(r),e=o.parseNumber(e),o.anyIsError(r,e)?u.value:i.erf(r)},e.ERF.PRECISE=function(){throw new Error("ERF.PRECISE is not implemented")},e.ERFC=function(r){return isNaN(r)?u.value:i.erfc(r)},e.ERFC.PRECISE=function(){throw new Error("ERFC.PRECISE is not implemented")},e.GESTEP=function(r,e){return e=e||0,r=o.parseNumber(r),o.anyIsError(e,r)?r:r>=e?1:0},e.HEX2BIN=function(r,e){if(!/^[0-9A-Fa-f]{1,10}$/.test(r))return u.num;var n=10===r.length&&"f"===r.substring(0,1).toLowerCase()?!0:!1,t=n?parseInt(r,16)-1099511627776:parseInt(r,16);if(-512>t||t>511)return u.num;if(n)return"1"+a.REPT("0",9-(512+t).toString(2).length)+(512+t).toString(2);var i=t.toString(2);return void 0===e?i:isNaN(e)?u.value:0>e?u.num:(e=Math.floor(e),e>=i.length?a.REPT("0",e-i.length)+i:u.num)},e.HEX2DEC=function(r){if(!/^[0-9A-Fa-f]{1,10}$/.test(r))return u.num;var e=parseInt(r,16);return e>=549755813888?e-1099511627776:e},e.HEX2OCT=function(r,e){if(!/^[0-9A-Fa-f]{1,10}$/.test(r))return u.num;var n=parseInt(r,16);if(n>536870911&&0xffe0000000>n)return u.num;if(n>=0xffe0000000)return(n-0xffc0000000).toString(8);var t=n.toString(8);return void 0===e?t:isNaN(e)?u.value:0>e?u.num:(e=Math.floor(e),e>=t.length?a.REPT("0",e-t.length)+t:u.num)},e.IMABS=function(r){var n=e.IMREAL(r),t=e.IMAGINARY(r);return o.anyIsError(n,t)?u.value:Math.sqrt(Math.pow(n,2)+Math.pow(t,2))},e.IMAGINARY=function(r){if(void 0===r||r===!0||r===!1)return u.value;if(0===r||"0"===r)return 0;if(["i","j"].indexOf(r)>=0)return 1;r=r.replace("+i","+1i").replace("-i","-1i").replace("+j","+1j").replace("-j","-1j");var e=r.indexOf("+"),n=r.indexOf("-");0===e&&(e=r.indexOf("+",1)),0===n&&(n=r.indexOf("-",1));var t=r.substring(r.length-1,r.length),i="i"===t||"j"===t;return e>=0||n>=0?i?e>=0?isNaN(r.substring(0,e))||isNaN(r.substring(e+1,r.length-1))?u.num:Number(r.substring(e+1,r.length-1)):isNaN(r.substring(0,n))||isNaN(r.substring(n+1,r.length-1))?u.num:-Number(r.substring(n+1,r.length-1)):u.num:i?isNaN(r.substring(0,r.length-1))?u.num:r.substring(0,r.length-1):isNaN(r)?u.num:0},e.IMARGUMENT=function(r){var n=e.IMREAL(r),t=e.IMAGINARY(r);return o.anyIsError(n,t)?u.value:0===n&&0===t?u.div0:0===n&&t>0?Math.PI/2:0===n&&0>t?-Math.PI/2:0===t&&n>0?0:0===t&&0>n?-Math.PI:n>0?Math.atan(t/n):0>n&&t>=0?Math.atan(t/n)+Math.PI:Math.atan(t/n)-Math.PI},e.IMCONJUGATE=function(r){var n=e.IMREAL(r),t=e.IMAGINARY(r);if(o.anyIsError(n,t))return u.value;var i=r.substring(r.length-1);return i="i"===i||"j"===i?i:"i",0!==t?e.COMPLEX(n,-t,i):r},e.IMCOS=function(r){var n=e.IMREAL(r),t=e.IMAGINARY(r);if(o.anyIsError(n,t))return u.value;var i=r.substring(r.length-1);return i="i"===i||"j"===i?i:"i",e.COMPLEX(Math.cos(n)*(Math.exp(t)+Math.exp(-t))/2,-Math.sin(n)*(Math.exp(t)-Math.exp(-t))/2,i)},e.IMCOSH=function(r){var n=e.IMREAL(r),t=e.IMAGINARY(r);if(o.anyIsError(n,t))return u.value;var i=r.substring(r.length-1);return i="i"===i||"j"===i?i:"i",e.COMPLEX(Math.cos(t)*(Math.exp(n)+Math.exp(-n))/2,Math.sin(t)*(Math.exp(n)-Math.exp(-n))/2,i)},e.IMCOT=function(r){var n=e.IMREAL(r),t=e.IMAGINARY(r);return o.anyIsError(n,t)?u.value:e.IMDIV(e.IMCOS(r),e.IMSIN(r))},e.IMDIV=function(r,n){var t=e.IMREAL(r),i=e.IMAGINARY(r),a=e.IMREAL(n),s=e.IMAGINARY(n);if(o.anyIsError(t,i,a,s))return u.value;var f=r.substring(r.length-1),l=n.substring(n.length-1),c="i";if("j"===f?c="j":"j"===l&&(c="j"),0===a&&0===s)return u.num;var m=a*a+s*s;return e.COMPLEX((t*a+i*s)/m,(i*a-t*s)/m,c)},e.IMEXP=function(r){var n=e.IMREAL(r),t=e.IMAGINARY(r);if(o.anyIsError(n,t))return u.value;var i=r.substring(r.length-1);i="i"===i||"j"===i?i:"i";var a=Math.exp(n);return e.COMPLEX(a*Math.cos(t),a*Math.sin(t),i)},e.IMLN=function(r){var n=e.IMREAL(r),t=e.IMAGINARY(r);if(o.anyIsError(n,t))return u.value;var i=r.substring(r.length-1);return i="i"===i||"j"===i?i:"i",e.COMPLEX(Math.log(Math.sqrt(n*n+t*t)),Math.atan(t/n),i)},e.IMLOG10=function(r){var n=e.IMREAL(r),t=e.IMAGINARY(r);if(o.anyIsError(n,t))return u.value;var i=r.substring(r.length-1);return i="i"===i||"j"===i?i:"i",e.COMPLEX(Math.log(Math.sqrt(n*n+t*t))/Math.log(10),Math.atan(t/n)/Math.log(10),i)},e.IMLOG2=function(r){var n=e.IMREAL(r),t=e.IMAGINARY(r);if(o.anyIsError(n,t))return u.value;var i=r.substring(r.length-1);return i="i"===i||"j"===i?i:"i",e.COMPLEX(Math.log(Math.sqrt(n*n+t*t))/Math.log(2),Math.atan(t/n)/Math.log(2),i)},e.IMPOWER=function(r,n){n=o.parseNumber(n);var t=e.IMREAL(r),i=e.IMAGINARY(r);if(o.anyIsError(n,t,i))return u.value;var a=r.substring(r.length-1);a="i"===a||"j"===a?a:"i";var s=Math.pow(e.IMABS(r),n),f=e.IMARGUMENT(r);return e.COMPLEX(s*Math.cos(n*f),s*Math.sin(n*f),a)},e.IMPRODUCT=function(){for(var r=arguments[0],n=1;n<arguments.length;n++){var t=e.IMREAL(r),i=e.IMAGINARY(r),a=e.IMREAL(arguments[n]),s=e.IMAGINARY(arguments[n]);if(o.anyIsError(t,i,a,s))return u.value;r=e.COMPLEX(t*a-i*s,t*s+i*a)}return r},e.IMREAL=function(r){if(void 0===r||r===!0||r===!1)return u.value;if(0===r||"0"===r)return 0;if(["i","+i","1i","+1i","-i","-1i","j","+j","1j","+1j","-j","-1j"].indexOf(r)>=0)return 0;var e=r.indexOf("+"),n=r.indexOf("-");0===e&&(e=r.indexOf("+",1)),0===n&&(n=r.indexOf("-",1));var t=r.substring(r.length-1,r.length),i="i"===t||"j"===t;return e>=0||n>=0?i?e>=0?isNaN(r.substring(0,e))||isNaN(r.substring(e+1,r.length-1))?u.num:Number(r.substring(0,e)):isNaN(r.substring(0,n))||isNaN(r.substring(n+1,r.length-1))?u.num:Number(r.substring(0,n)):u.num:i?isNaN(r.substring(0,r.length-1))?u.num:0:isNaN(r)?u.num:r},e.IMSEC=function(r){if(r===!0||r===!1)return u.value;var n=e.IMREAL(r),t=e.IMAGINARY(r);return o.anyIsError(n,t)?u.value:e.IMDIV("1",e.IMCOS(r))},e.IMSECH=function(r){var n=e.IMREAL(r),t=e.IMAGINARY(r);return o.anyIsError(n,t)?u.value:e.IMDIV("1",e.IMCOSH(r))},e.IMSIN=function(r){var n=e.IMREAL(r),t=e.IMAGINARY(r);if(o.anyIsError(n,t))return u.value;var i=r.substring(r.length-1);return i="i"===i||"j"===i?i:"i",e.COMPLEX(Math.sin(n)*(Math.exp(t)+Math.exp(-t))/2,Math.cos(n)*(Math.exp(t)-Math.exp(-t))/2,i)},e.IMSINH=function(r){var n=e.IMREAL(r),t=e.IMAGINARY(r);if(o.anyIsError(n,t))return u.value;var i=r.substring(r.length-1);return i="i"===i||"j"===i?i:"i",e.COMPLEX(Math.cos(t)*(Math.exp(n)-Math.exp(-n))/2,Math.sin(t)*(Math.exp(n)+Math.exp(-n))/2,i)},e.IMSQRT=function(r){var n=e.IMREAL(r),t=e.IMAGINARY(r);if(o.anyIsError(n,t))return u.value;var i=r.substring(r.length-1);i="i"===i||"j"===i?i:"i";var a=Math.sqrt(e.IMABS(r)),s=e.IMARGUMENT(r);return e.COMPLEX(a*Math.cos(s/2),a*Math.sin(s/2),i)},e.IMCSC=function(r){if(r===!0||r===!1)return u.value;var n=e.IMREAL(r),t=e.IMAGINARY(r);return o.anyIsError(n,t)?u.num:e.IMDIV("1",e.IMSIN(r))},e.IMCSCH=function(r){if(r===!0||r===!1)return u.value;var n=e.IMREAL(r),t=e.IMAGINARY(r);return o.anyIsError(n,t)?u.num:e.IMDIV("1",e.IMSINH(r))},e.IMSUB=function(r,e){var n=this.IMREAL(r),t=this.IMAGINARY(r),i=this.IMREAL(e),a=this.IMAGINARY(e);if(o.anyIsError(n,t,i,a))return u.value;var s=r.substring(r.length-1),f=e.substring(e.length-1),l="i";return"j"===s?l="j":"j"===f&&(l="j"),this.COMPLEX(n-i,t-a,l)},e.IMSUM=function(){for(var r=o.flatten(arguments),e=r[0],n=1;n<r.length;n++){var t=this.IMREAL(e),i=this.IMAGINARY(e),a=this.IMREAL(r[n]),s=this.IMAGINARY(r[n]);if(o.anyIsError(t,i,a,s))return u.value;e=this.COMPLEX(t+a,i+s)}return e},e.IMTAN=function(r){if(r===!0||r===!1)return u.value;var n=e.IMREAL(r),t=e.IMAGINARY(r);return o.anyIsError(n,t)?u.value:this.IMDIV(this.IMSIN(r),this.IMCOS(r))},e.OCT2BIN=function(r,e){if(!/^[0-7]{1,10}$/.test(r))return u.num;var n=10===r.length&&"7"===r.substring(0,1)?!0:!1,t=n?parseInt(r,8)-1073741824:parseInt(r,8);if(-512>t||t>511)return u.num;if(n)return"1"+a.REPT("0",9-(512+t).toString(2).length)+(512+t).toString(2);var i=t.toString(2);return"undefined"==typeof e?i:isNaN(e)?u.value:0>e?u.num:(e=Math.floor(e),e>=i.length?a.REPT("0",e-i.length)+i:u.num)},e.OCT2DEC=function(r){if(!/^[0-7]{1,10}$/.test(r))return u.num;var e=parseInt(r,8);return e>=536870912?e-1073741824:e},e.OCT2HEX=function(r,e){if(!/^[0-7]{1,10}$/.test(r))return u.num;var n=parseInt(r,8);if(n>=536870912)return"ff"+(n+3221225472).toString(16);var t=n.toString(16);return void 0===e?t:isNaN(e)?u.value:0>e?u.num:(e=Math.floor(e),e>=t.length?a.REPT("0",e-t.length)+t:u.num)}},function(r,e,n){var t=n(13),u=n(14),i=n(9);e.AND=function(){for(var r=u.flatten(arguments),e=!0,n=0;n<r.length;n++)r[n]||(e=!1);return e},e.CHOOSE=function(){if(arguments.length<2)return t.na;var r=arguments[0];return 1>r||r>254?t.value:arguments.length<r+1?t.value:arguments[r]},e.FALSE=function(){return!1},e.IF=function(r,e,n){return r?e:n},e.IFERROR=function(r,e){return i.ISERROR(r)?e:r},e.IFNA=function(r,e){return r===t.na?e:r},e.NOT=function(r){return!r},e.OR=function(){for(var r=u.flatten(arguments),e=!1,n=0;n<r.length;n++)r[n]&&(e=!0);return e},e.TRUE=function(){return!0},e.XOR=function(){for(var r=u.flatten(arguments),e=0,n=0;n<r.length;n++)r[n]&&e++;return 1&Math.floor(Math.abs(e))?!0:!1},e.SWITCH=function(){var r;if(arguments.length>0){var e=arguments[0],n=arguments.length-1,t=Math.floor(n/2),u=!1,i=n%2===0?null:arguments[arguments.length-1];if(t)for(var a=0;t>a;a++)if(e===arguments[2*a+1]){r=arguments[2*a+2],u=!0;break}!u&&i&&(r=i)}return r}},function(module,exports,__webpack_require__){var numeric=__webpack_require__(16),utils=__webpack_require__(14),error=__webpack_require__(13),statistical=__webpack_require__(11),information=__webpack_require__(9);exports.ABS=function(r){return r=utils.parseNumber(r),r instanceof Error?r:Math.abs(utils.parseNumber(r))},exports.ACOS=function(r){return r=utils.parseNumber(r),r instanceof Error?r:Math.acos(r)},exports.ACOSH=function(r){return r=utils.parseNumber(r),r instanceof Error?r:Math.log(r+Math.sqrt(r*r-1))},exports.ACOT=function(r){return r=utils.parseNumber(r),r instanceof Error?r:Math.atan(1/r)},exports.ACOTH=function(r){return r=utils.parseNumber(r),r instanceof Error?r:.5*Math.log((r+1)/(r-1))},exports.AGGREGATE=function(r,e,n,t){if(r=utils.parseNumber(r),e=utils.parseNumber(r),utils.anyIsError(r,e))return error.value;switch(r){case 1:return statistical.AVERAGE(n);case 2:return statistical.COUNT(n);case 3:return statistical.COUNTA(n);case 4:return statistical.MAX(n);case 5:return statistical.MIN(n);case 6:return exports.PRODUCT(n);case 7:return statistical.STDEV.S(n);case 8:return statistical.STDEV.P(n);case 9:return exports.SUM(n);case 10:return statistical.VAR.S(n);case 11:return statistical.VAR.P(n);case 12:return statistical.MEDIAN(n);case 13:return statistical.MODE.SNGL(n);case 14:return statistical.LARGE(n,t);case 15:return statistical.SMALL(n,t);case 16:return statistical.PERCENTILE.INC(n,t);case 17:return statistical.QUARTILE.INC(n,t);case 18:return statistical.PERCENTILE.EXC(n,t);case 19:return statistical.QUARTILE.EXC(n,t)}},exports.ARABIC=function(r){if(!/^M*(?:D?C{0,3}|C[MD])(?:L?X{0,3}|X[CL])(?:V?I{0,3}|I[XV])$/.test(r))return error.value;var e=0;return r.replace(/[MDLV]|C[MD]?|X[CL]?|I[XV]?/g,function(r){e+={M:1e3,CM:900,D:500,CD:400,C:100,XC:90,L:50,XL:40,X:10,IX:9,V:5,IV:4,I:1}[r]}),e},exports.ASIN=function(r){return r=utils.parseNumber(r),r instanceof Error?r:Math.asin(r)},exports.ASINH=function(r){return r=utils.parseNumber(r),r instanceof Error?r:Math.log(r+Math.sqrt(r*r+1))},exports.ATAN=function(r){return r=utils.parseNumber(r),r instanceof Error?r:Math.atan(r)},exports.ATAN2=function(r,e){return r=utils.parseNumber(r),e=utils.parseNumber(e),utils.anyIsError(r,e)?error.value:Math.atan2(r,e)},exports.ATANH=function(r){return r=utils.parseNumber(r),r instanceof Error?r:Math.log((1+r)/(1-r))/2},exports.BASE=function(r,e,n){if(n=n||0,r=utils.parseNumber(r),e=utils.parseNumber(e),n=utils.parseNumber(n),utils.anyIsError(r,e,n))return error.value;
n=void 0===n?0:n;var t=r.toString(e);return new Array(Math.max(n+1-t.length,0)).join("0")+t},exports.CEILING=function(r,e,n){if(e=void 0===e?1:Math.abs(e),n=n||0,r=utils.parseNumber(r),e=utils.parseNumber(e),n=utils.parseNumber(n),utils.anyIsError(r,e,n))return error.value;if(0===e)return 0;var t=-Math.floor(Math.log(e)/Math.log(10));return r>=0?exports.ROUND(Math.ceil(r/e)*e,t):0===n?-exports.ROUND(Math.floor(Math.abs(r)/e)*e,t):-exports.ROUND(Math.ceil(Math.abs(r)/e)*e,t)},exports.CEILING.MATH=exports.CEILING,exports.CEILING.PRECISE=exports.CEILING,exports.COMBIN=function(r,e){return r=utils.parseNumber(r),e=utils.parseNumber(e),utils.anyIsError(r,e)?error.value:exports.FACT(r)/(exports.FACT(e)*exports.FACT(r-e))},exports.COMBINA=function(r,e){return r=utils.parseNumber(r),e=utils.parseNumber(e),utils.anyIsError(r,e)?error.value:0===r&&0===e?1:exports.COMBIN(r+e-1,r-1)},exports.COS=function(r){return r=utils.parseNumber(r),r instanceof Error?r:Math.cos(r)},exports.COSH=function(r){return r=utils.parseNumber(r),r instanceof Error?r:(Math.exp(r)+Math.exp(-r))/2},exports.COT=function(r){return r=utils.parseNumber(r),r instanceof Error?r:1/Math.tan(r)},exports.COTH=function(r){if(r=utils.parseNumber(r),r instanceof Error)return r;var e=Math.exp(2*r);return(e+1)/(e-1)},exports.CSC=function(r){return r=utils.parseNumber(r),r instanceof Error?r:1/Math.sin(r)},exports.CSCH=function(r){return r=utils.parseNumber(r),r instanceof Error?r:2/(Math.exp(r)-Math.exp(-r))},exports.DECIMAL=function(r,e){return arguments.length<1?error.value:parseInt(r,e)},exports.DEGREES=function(r){return r=utils.parseNumber(r),r instanceof Error?r:180*r/Math.PI},exports.EVEN=function(r){return r=utils.parseNumber(r),r instanceof Error?r:exports.CEILING(r,-2,-1)},exports.EXP=Math.exp;var MEMOIZED_FACT=[];exports.FACT=function(r){if(r=utils.parseNumber(r),r instanceof Error)return r;var e=Math.floor(r);return 0===e||1===e?1:MEMOIZED_FACT[e]>0?MEMOIZED_FACT[e]:(MEMOIZED_FACT[e]=exports.FACT(e-1)*e,MEMOIZED_FACT[e])},exports.FACTDOUBLE=function(r){if(r=utils.parseNumber(r),r instanceof Error)return r;var e=Math.floor(r);return 0>=e?1:e*exports.FACTDOUBLE(e-2)},exports.FLOOR=function(r,e){if(r=utils.parseNumber(r),e=utils.parseNumber(e),utils.anyIsError(r,e))return error.value;if(0===e)return 0;if(!(r>0&&e>0||0>r&&0>e))return error.num;e=Math.abs(e);var n=-Math.floor(Math.log(e)/Math.log(10));return r>=0?exports.ROUND(Math.floor(r/e)*e,n):-exports.ROUND(Math.ceil(Math.abs(r)/e),n)},exports.FLOOR.MATH=function(r,e,n){if(e=void 0===e?1:e,n=void 0===n?0:n,r=utils.parseNumber(r),e=utils.parseNumber(e),n=utils.parseNumber(n),utils.anyIsError(r,e,n))return error.value;if(0===e)return 0;e=e?Math.abs(e):1;var t=-Math.floor(Math.log(e)/Math.log(10));return r>=0?exports.ROUND(Math.floor(r/e)*e,t):0===n||void 0===n?-exports.ROUND(Math.ceil(Math.abs(r)/e)*e,t):-exports.ROUND(Math.floor(Math.abs(r)/e)*e,t)},exports.FLOOR.PRECISE=exports.FLOOR.MATH,exports.GCD=function(){var r=utils.parseNumberArray(utils.flatten(arguments));if(r instanceof Error)return r;for(var e=r.length,n=r[0],t=0>n?-n:n,u=1;e>u;u++){for(var i=r[u],a=0>i?-i:i;t&&a;)t>a?t%=a:a%=t;t+=a}return t},exports.INT=function(r){return r=utils.parseNumber(r),r instanceof Error?r:Math.floor(r)},exports.ISO={CEILING:exports.CEILING},exports.LCM=function(){var r=utils.parseNumberArray(utils.flatten(arguments));if(r instanceof Error)return r;for(var e,n,t,u,i=1;void 0!==(t=r.pop());)for(;t>1;){if(t%2){for(e=3,n=Math.floor(Math.sqrt(t));n>=e&&t%e;e+=2);u=n>=e?e:t}else u=2;for(t/=u,i*=u,e=r.length;e;r[--e]%u===0&&1===(r[e]/=u)&&r.splice(e,1));}return i},exports.LN=function(r){return r=utils.parseNumber(r),r instanceof Error?r:Math.log(r)},exports.LOG=function(r,e){return r=utils.parseNumber(r),e=utils.parseNumber(e),utils.anyIsError(r,e)?error.value:(e=void 0===e?10:e,Math.log(r)/Math.log(e))},exports.LOG10=function(r){return r=utils.parseNumber(r),r instanceof Error?r:Math.log(r)/Math.log(10)},exports.MDETERM=function(r){return r=utils.parseMatrix(r),r instanceof Error?r:numeric.det(r)},exports.MINVERSE=function(r){return r=utils.parseMatrix(r),r instanceof Error?r:numeric.inv(r)},exports.MMULT=function(r,e){return r=utils.parseMatrix(r),e=utils.parseMatrix(e),utils.anyIsError(r,e)?error.value:numeric.dot(r,e)},exports.MOD=function(r,e){if(r=utils.parseNumber(r),e=utils.parseNumber(e),utils.anyIsError(r,e))return error.value;if(0===e)return error.div0;var n=Math.abs(r%e);return e>0?n:-n},exports.MROUND=function(r,e){return r=utils.parseNumber(r),e=utils.parseNumber(e),utils.anyIsError(r,e)?error.value:0>r*e?error.num:Math.round(r/e)*e},exports.MULTINOMIAL=function(){var r=utils.parseNumberArray(utils.flatten(arguments));if(r instanceof Error)return r;for(var e=0,n=1,t=0;t<r.length;t++)e+=r[t],n*=exports.FACT(r[t]);return exports.FACT(e)/n},exports.MUNIT=function(r){return r=utils.parseNumber(r),r instanceof Error?r:numeric.identity(r)},exports.ODD=function(r){if(r=utils.parseNumber(r),r instanceof Error)return r;var e=Math.ceil(Math.abs(r));return e=1&e?e:e+1,r>0?e:-e},exports.PI=function(){return Math.PI},exports.POWER=function(r,e){if(r=utils.parseNumber(r),e=utils.parseNumber(e),utils.anyIsError(r,e))return error.value;var n=Math.pow(r,e);return isNaN(n)?error.num:n},exports.PRODUCT=function(){var r=utils.parseNumberArray(utils.flatten(arguments));if(r instanceof Error)return r;for(var e=1,n=0;n<r.length;n++)e*=r[n];return e},exports.QUOTIENT=function(r,e){return r=utils.parseNumber(r),e=utils.parseNumber(e),utils.anyIsError(r,e)?error.value:parseInt(r/e,10)},exports.RADIANS=function(r){return r=utils.parseNumber(r),r instanceof Error?r:r*Math.PI/180},exports.RAND=function(){return Math.random()},exports.RANDBETWEEN=function(r,e){return r=utils.parseNumber(r),e=utils.parseNumber(e),utils.anyIsError(r,e)?error.value:r+Math.ceil((e-r+1)*Math.random())-1},exports.ROMAN=function(r){if(r=utils.parseNumber(r),r instanceof Error)return r;for(var e=String(r).split(""),n=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"],t="",u=3;u--;)t=(n[+e.pop()+10*u]||"")+t;return new Array(+e.join("")+1).join("M")+t},exports.ROUND=function(r,e){return r=utils.parseNumber(r),e=utils.parseNumber(e),utils.anyIsError(r,e)?error.value:Math.round(r*Math.pow(10,e))/Math.pow(10,e)},exports.ROUNDDOWN=function(r,e){if(r=utils.parseNumber(r),e=utils.parseNumber(e),utils.anyIsError(r,e))return error.value;var n=r>0?1:-1;return n*Math.floor(Math.abs(r)*Math.pow(10,e))/Math.pow(10,e)},exports.ROUNDUP=function(r,e){if(r=utils.parseNumber(r),e=utils.parseNumber(e),utils.anyIsError(r,e))return error.value;var n=r>0?1:-1;return n*Math.ceil(Math.abs(r)*Math.pow(10,e))/Math.pow(10,e)},exports.SEC=function(r){return r=utils.parseNumber(r),r instanceof Error?r:1/Math.cos(r)},exports.SECH=function(r){return r=utils.parseNumber(r),r instanceof Error?r:2/(Math.exp(r)+Math.exp(-r))},exports.SERIESSUM=function(r,e,n,t){if(r=utils.parseNumber(r),e=utils.parseNumber(e),n=utils.parseNumber(n),t=utils.parseNumberArray(t),utils.anyIsError(r,e,n,t))return error.value;for(var u=t[0]*Math.pow(r,e),i=1;i<t.length;i++)u+=t[i]*Math.pow(r,e+i*n);return u},exports.SIGN=function(r){return r=utils.parseNumber(r),r instanceof Error?r:0>r?-1:0===r?0:1},exports.SIN=function(r){return r=utils.parseNumber(r),r instanceof Error?r:Math.sin(r)},exports.SINH=function(r){return r=utils.parseNumber(r),r instanceof Error?r:(Math.exp(r)-Math.exp(-r))/2},exports.SQRT=function(r){return r=utils.parseNumber(r),r instanceof Error?r:0>r?error.num:Math.sqrt(r)},exports.SQRTPI=function(r){return r=utils.parseNumber(r),r instanceof Error?r:Math.sqrt(r*Math.PI)},exports.SUBTOTAL=function(r,e){if(r=utils.parseNumber(r),r instanceof Error)return r;switch(r){case 1:return statistical.AVERAGE(e);case 2:return statistical.COUNT(e);case 3:return statistical.COUNTA(e);case 4:return statistical.MAX(e);case 5:return statistical.MIN(e);case 6:return exports.PRODUCT(e);case 7:return statistical.STDEV.S(e);case 8:return statistical.STDEV.P(e);case 9:return exports.SUM(e);case 10:return statistical.VAR.S(e);case 11:return statistical.VAR.P(e);case 101:return statistical.AVERAGE(e);case 102:return statistical.COUNT(e);case 103:return statistical.COUNTA(e);case 104:return statistical.MAX(e);case 105:return statistical.MIN(e);case 106:return exports.PRODUCT(e);case 107:return statistical.STDEV.S(e);case 108:return statistical.STDEV.P(e);case 109:return exports.SUM(e);case 110:return statistical.VAR.S(e);case 111:return statistical.VAR.P(e)}},exports.ADD=function(r,e){return 2!==arguments.length?error.na:(r=utils.parseNumber(r),e=utils.parseNumber(e),utils.anyIsError(r,e)?error.value:r+e)},exports.MINUS=function(r,e){return 2!==arguments.length?error.na:(r=utils.parseNumber(r),e=utils.parseNumber(e),utils.anyIsError(r,e)?error.value:r-e)},exports.DIVIDE=function(r,e){return 2!==arguments.length?error.na:(r=utils.parseNumber(r),e=utils.parseNumber(e),utils.anyIsError(r,e)?error.value:0===e?error.div0:r/e)},exports.MULTIPLY=function(r,e){return 2!==arguments.length?error.na:(r=utils.parseNumber(r),e=utils.parseNumber(e),utils.anyIsError(r,e)?error.value:r*e)},exports.GTE=function(r,e){return 2!==arguments.length?error.na:(r=utils.parseNumber(r),e=utils.parseNumber(e),utils.anyIsError(r,e)?error.error:r>=e)},exports.LT=function(r,e){return 2!==arguments.length?error.na:(r=utils.parseNumber(r),e=utils.parseNumber(e),utils.anyIsError(r,e)?error.error:e>r)},exports.LTE=function(r,e){return 2!==arguments.length?error.na:(r=utils.parseNumber(r),e=utils.parseNumber(e),utils.anyIsError(r,e)?error.error:e>=r)},exports.EQ=function(r,e){return 2!==arguments.length?error.na:r===e},exports.NE=function(r,e){return 2!==arguments.length?error.na:r!==e},exports.POW=function(r,e){return 2!==arguments.length?error.na:(r=utils.parseNumber(r),e=utils.parseNumber(e),utils.anyIsError(r,e)?error.error:exports.POWER(r,e))},exports.SUM=function(){for(var r=0,e=Object.keys(arguments),n=0;n<e.length;++n){var t=arguments[e[n]];if("number"==typeof t)r+=t;else if("string"==typeof t){var u=parseFloat(t);!isNaN(u)&&(r+=u)}else Array.isArray(t)&&(r+=exports.SUM.apply(null,t))}return r},exports.SUMIF=function(range,criteria){if(range=utils.parseNumberArray(utils.flatten(range)),range instanceof Error)return range;for(var result=0,i=0;i<range.length;i++)result+=eval(range[i]+criteria)?range[i]:0;return result},exports.SUMIFS=function(){var args=utils.argsToArray(arguments),range=utils.parseNumberArray(utils.flatten(args.shift()));if(range instanceof Error)return range;for(var criteria=args,n_range_elements=range.length,n_criterias=criteria.length,result=0,i=0;n_range_elements>i;i++){for(var el=range[i],condition="",c=0;n_criterias>c;c++)condition+=el+criteria[c],c!==n_criterias-1&&(condition+="&&");eval(condition)&&(result+=el)}return result},exports.SUMPRODUCT=function(){if(!arguments||0===arguments.length)return error.value;for(var r,e,n,t,u=arguments.length+1,i=0,a=0;a<arguments[0].length;a++)if(arguments[0][a]instanceof Array)for(var o=0;o<arguments[0][a].length;o++){for(r=1,e=1;u>e;e++){if(t=utils.parseNumber(arguments[e-1][a][o]),t instanceof Error)return t;r*=t}i+=r}else{for(r=1,e=1;u>e;e++){if(n=utils.parseNumber(arguments[e-1][a]),n instanceof Error)return n;r*=n}i+=r}return i},exports.SUMSQ=function(){var r=utils.parseNumberArray(utils.flatten(arguments));if(r instanceof Error)return r;for(var e=0,n=r.length,t=0;n>t;t++)e+=information.ISNUMBER(r[t])?r[t]*r[t]:0;return e},exports.SUMX2MY2=function(r,e){if(r=utils.parseNumberArray(utils.flatten(r)),e=utils.parseNumberArray(utils.flatten(e)),utils.anyIsError(r,e))return error.value;for(var n=0,t=0;t<r.length;t++)n+=r[t]*r[t]-e[t]*e[t];return n},exports.SUMX2PY2=function(r,e){if(r=utils.parseNumberArray(utils.flatten(r)),e=utils.parseNumberArray(utils.flatten(e)),utils.anyIsError(r,e))return error.value;var n=0;r=utils.parseNumberArray(utils.flatten(r)),e=utils.parseNumberArray(utils.flatten(e));for(var t=0;t<r.length;t++)n+=r[t]*r[t]+e[t]*e[t];return n},exports.SUMXMY2=function(r,e){if(r=utils.parseNumberArray(utils.flatten(r)),e=utils.parseNumberArray(utils.flatten(e)),utils.anyIsError(r,e))return error.value;var n=0;r=utils.flatten(r),e=utils.flatten(e);for(var t=0;t<r.length;t++)n+=Math.pow(r[t]-e[t],2);return n},exports.TAN=function(r){return r=utils.parseNumber(r),r instanceof Error?r:Math.tan(r)},exports.TANH=function(r){if(r=utils.parseNumber(r),r instanceof Error)return r;var e=Math.exp(2*r);return(e-1)/(e+1)},exports.TRUNC=function(r,e){if(e=void 0===e?0:e,r=utils.parseNumber(r),e=utils.parseNumber(e),utils.anyIsError(r,e))return error.value;var n=r>0?1:-1;return n*Math.floor(Math.abs(r)*Math.pow(10,e))/Math.pow(10,e)}},function(r,e,n){var t=n(14),u=n(13),i=n(17);e.ASC=function(){throw new Error("ASC is not implemented")},e.BAHTTEXT=function(){throw new Error("BAHTTEXT is not implemented")},e.CHAR=function(r){return r=t.parseNumber(r),r instanceof Error?r:String.fromCharCode(r)},e.CLEAN=function(r){r=r||"";var e=/[\0-\x1F]/g;return r.replace(e,"")},e.CODE=function(r){return r=r||"",r.charCodeAt(0)},e.CONCATENATE=function(){for(var r=t.flatten(arguments),e=0;(e=r.indexOf(!0))>-1;)r[e]="TRUE";for(var n=0;(n=r.indexOf(!1))>-1;)r[n]="FALSE";return r.join("")},e.DBCS=function(){throw new Error("DBCS is not implemented")},e.DOLLAR=function(r,e){if(e=void 0===e?2:e,r=t.parseNumber(r),e=t.parseNumber(e),t.anyIsError(r,e))return u.value;var n="";return 0>=e?(r=Math.round(r*Math.pow(10,e))/Math.pow(10,e),n="($0,0)"):e>0&&(n="($0,0."+new Array(e+1).join("0")+")"),i(r).format(n)},e.EXACT=function(r,e){return r===e},e.FIND=function(r,e,n){return n=void 0===n?0:n,e?e.indexOf(r,n-1)+1:null},e.FIXED=function(r,e,n){if(e=void 0===e?2:e,n=void 0===n?!1:n,r=t.parseNumber(r),e=t.parseNumber(e),t.anyIsError(r,e))return u.value;var a=n?"0":"0,0";return 0>=e?r=Math.round(r*Math.pow(10,e))/Math.pow(10,e):e>0&&(a+="."+new Array(e+1).join("0")),i(r).format(a)},e.HTML2TEXT=function(r){var e="";return r&&(r instanceof Array?r.forEach(function(r){""!==e&&(e+="\n"),e+=r.replace(/<(?:.|\n)*?>/gm,"")}):e=r.replace(/<(?:.|\n)*?>/gm,"")),e},e.LEFT=function(r,e){return e=void 0===e?1:e,e=t.parseNumber(e),e instanceof Error||"string"!=typeof r?u.value:r?r.substring(0,e):null},e.LEN=function(r){return 0===arguments.length?u.error:"string"==typeof r?r?r.length:0:r.length?r.length:u.value},e.LOWER=function(r){return"string"!=typeof r?u.value:r?r.toLowerCase():r},e.MID=function(r,e,n){return e=t.parseNumber(e),n=t.parseNumber(n),t.anyIsError(e,n)||"string"!=typeof r?n:r.substring(e-1,n)},e.NUMBERVALUE=function(r,e,n){return e="undefined"==typeof e?".":e,n="undefined"==typeof n?",":n,Number(r.replace(e,".").replace(n,""))},e.PRONETIC=function(){throw new Error("PRONETIC is not implemented")},e.PROPER=function(r){return void 0===r||0===r.length?u.value:(r===!0&&(r="TRUE"),r===!1&&(r="FALSE"),isNaN(r)&&"number"==typeof r?u.value:("number"==typeof r&&(r=""+r),r.replace(/\w\S*/g,function(r){return r.charAt(0).toUpperCase()+r.substr(1).toLowerCase()})))},e.REGEXEXTRACT=function(r,e){var n=r.match(new RegExp(e));return n?n[n.length>1?n.length-1:0]:null},e.REGEXMATCH=function(r,e,n){var t=r.match(new RegExp(e));return n?t:!!t},e.REGEXREPLACE=function(r,e,n){return r.replace(new RegExp(e),n)},e.REPLACE=function(r,e,n,i){return e=t.parseNumber(e),n=t.parseNumber(n),t.anyIsError(e,n)||"string"!=typeof r||"string"!=typeof i?u.value:r.substr(0,e-1)+i+r.substr(e-1+n)},e.REPT=function(r,e){return e=t.parseNumber(e),e instanceof Error?e:new Array(e+1).join(r)},e.RIGHT=function(r,e){return e=void 0===e?1:e,e=t.parseNumber(e),e instanceof Error?e:r?r.substring(r.length-e):null},e.SEARCH=function(r,e,n){var t;return"string"!=typeof r||"string"!=typeof e?u.value:(n=void 0===n?0:n,t=e.toLowerCase().indexOf(r.toLowerCase(),n-1)+1,0===t?u.value:t)},e.SPLIT=function(r,e){return r.split(e)},e.SUBSTITUTE=function(r,e,n,t){if(!(r&&e&&n))return r;if(void 0===t)return r.replace(new RegExp(e,"g"),n);for(var u=0,i=0;r.indexOf(e,u)>0;)if(u=r.indexOf(e,u+1),i++,i===t)return r.substring(0,u)+n+r.substring(u+e.length)},e.T=function(r){return"string"==typeof r?r:""},e.TEXT=function(r,e){return r=t.parseNumber(r),t.anyIsError(r)?u.na:i(r).format(e)},e.TRIM=function(r){return"string"!=typeof r?u.value:r.replace(/ +/g," ").trim()},e.UNICHAR=this.CHAR,e.UNICODE=this.CODE,e.UPPER=function(r){return"string"!=typeof r?u.value:r.toUpperCase()},e.VALUE=function(r){return"string"!=typeof r?u.value:i().unformat(r)}},function(r,e,n){function t(r){return 1===new Date(r,1,29).getMonth()}function u(r,e){return Math.ceil((e-r)/1e3/60/60/24)}function i(r){var e=r>-22038912e5?2:1;return(r-s)/864e5+e}var a=n(13),o=n(14),s=new Date(1900,0,1),f=[void 0,0,1,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,1,2,3,4,5,6,0],l=[[],[1,2,3,4,5,6,7],[7,1,2,3,4,5,6],[6,0,1,2,3,4,5],[],[],[],[],[],[],[],[7,1,2,3,4,5,6],[6,7,1,2,3,4,5],[5,6,7,1,2,3,4],[4,5,6,7,1,2,3],[3,4,5,6,7,1,2],[2,3,4,5,6,7,1],[1,2,3,4,5,6,7]],c=[[],[6,0],[0,1],[1,2],[2,3],[3,4],[4,5],[5,6],void 0,void 0,void 0,[0,0],[1,1],[2,2],[3,3],[4,4],[5,5],[6,6]];e.DATE=function(r,e,n){if(r=o.parseNumber(r),e=o.parseNumber(e),n=o.parseNumber(n),o.anyIsError(r,e,n))return a.value;if(0>r||0>e||0>n)return a.num;var t=new Date(r,e-1,n);return t},e.DATEVALUE=function(r){if("string"!=typeof r)return a.value;var e=Date.parse(r);return isNaN(e)?a.value:-22038912e5>=e?(e-s)/864e5+1:(e-s)/864e5+2},e.DAY=function(r){var e=o.parseDate(r);return e instanceof Error?e:e.getDate()},e.DAYS=function(r,e){return r=o.parseDate(r),e=o.parseDate(e),r instanceof Error?r:e instanceof Error?e:i(r)-i(e)},e.DAYS360=function(r,e,n){if(n=o.parseBool(n),r=o.parseDate(r),e=o.parseDate(e),r instanceof Error)return r;if(e instanceof Error)return e;if(n instanceof Error)return n;var t,u,i=r.getMonth(),a=e.getMonth();if(n)t=31===r.getDate()?30:r.getDate(),u=31===e.getDate()?30:e.getDate();else{var s=new Date(r.getFullYear(),i+1,0).getDate(),f=new Date(e.getFullYear(),a+1,0).getDate();t=r.getDate()===s?30:r.getDate(),e.getDate()===f?30>t?(a++,u=1):u=30:u=e.getDate()}return 360*(e.getFullYear()-r.getFullYear())+30*(a-i)+(u-t)},e.EDATE=function(r,e){return r=o.parseDate(r),r instanceof Error?r:isNaN(e)?a.value:(e=parseInt(e,10),r.setMonth(r.getMonth()+e),i(r))},e.EOMONTH=function(r,e){return r=o.parseDate(r),r instanceof Error?r:isNaN(e)?a.value:(e=parseInt(e,10),i(new Date(r.getFullYear(),r.getMonth()+e+1,0)))},e.HOUR=function(r){return r=o.parseDate(r),r instanceof Error?r:r.getHours()},e.INTERVAL=function(r){if("number"!=typeof r&&"string"!=typeof r)return a.value;r=parseInt(r,10);var e=Math.floor(r/94608e4);r%=94608e4;var n=Math.floor(r/2592e3);r%=2592e3;var t=Math.floor(r/86400);r%=86400;var u=Math.floor(r/3600);r%=3600;var i=Math.floor(r/60);r%=60;var o=r;return e=e>0?e+"Y":"",n=n>0?n+"M":"",t=t>0?t+"D":"",u=u>0?u+"H":"",i=i>0?i+"M":"",o=o>0?o+"S":"","P"+e+n+t+"T"+u+i+o},e.ISOWEEKNUM=function(r){if(r=o.parseDate(r),r instanceof Error)return r;r.setHours(0,0,0),r.setDate(r.getDate()+4-(r.getDay()||7));var e=new Date(r.getFullYear(),0,1);return Math.ceil(((r-e)/864e5+1)/7)},e.MINUTE=function(r){return r=o.parseDate(r),r instanceof Error?r:r.getMinutes()},e.MONTH=function(r){return r=o.parseDate(r),r instanceof Error?r:r.getMonth()+1},e.NETWORKDAYS=function(r,e,n){return this.NETWORKDAYS.INTL(r,e,1,n)},e.NETWORKDAYS.INTL=function(r,e,n,t){if(r=o.parseDate(r),r instanceof Error)return r;if(e=o.parseDate(e),e instanceof Error)return e;if(n=void 0===n?c[1]:c[n],!(n instanceof Array))return a.value;void 0===t?t=[]:t instanceof Array||(t=[t]);for(var u=0;u<t.length;u++){var i=o.parseDate(t[u]);if(i instanceof Error)return i;t[u]=i}var s=(e-r)/864e5+1,f=s,l=r;for(u=0;s>u;u++){var m=(new Date).getTimezoneOffset()>0?l.getUTCDay():l.getDay(),p=!1;(m===n[0]||m===n[1])&&(p=!0);for(var h=0;h<t.length;h++){var g=t[h];if(g.getDate()===l.getDate()&&g.getMonth()===l.getMonth()&&g.getFullYear()===l.getFullYear()){p=!0;break}}p&&f--,l.setDate(l.getDate()+1)}return f},e.NOW=function(){return new Date},e.SECOND=function(r){return r=o.parseDate(r),r instanceof Error?r:r.getSeconds()},e.TIME=function(r,e,n){return r=o.parseNumber(r),e=o.parseNumber(e),n=o.parseNumber(n),o.anyIsError(r,e,n)?a.value:0>r||0>e||0>n?a.num:(3600*r+60*e+n)/86400},e.TIMEVALUE=function(r){return r=o.parseDate(r),r instanceof Error?r:(3600*r.getHours()+60*r.getMinutes()+r.getSeconds())/86400},e.TODAY=function(){return new Date},e.WEEKDAY=function(r,e){if(r=o.parseDate(r),r instanceof Error)return r;void 0===e&&(e=1);var n=r.getDay();return l[e][n]},e.WEEKNUM=function(r,e){if(r=o.parseDate(r),r instanceof Error)return r;if(void 0===e&&(e=1),21===e)return this.ISOWEEKNUM(r);var n=f[e],t=new Date(r.getFullYear(),0,1),u=t.getDay()<n?1:0;return t-=24*Math.abs(t.getDay()-n)*60*60*1e3,Math.floor((r-t)/864e5/7+1)+u},e.WORKDAY=function(r,e,n){return this.WORKDAY.INTL(r,e,1,n)},e.WORKDAY.INTL=function(r,e,n,t){if(r=o.parseDate(r),r instanceof Error)return r;if(e=o.parseNumber(e),e instanceof Error)return e;if(0>e)return a.num;if(n=void 0===n?c[1]:c[n],!(n instanceof Array))return a.value;void 0===t?t=[]:t instanceof Array||(t=[t]);for(var u=0;u<t.length;u++){var i=o.parseDate(t[u]);if(i instanceof Error)return i;t[u]=i}for(var s=0;e>s;){r.setDate(r.getDate()+1);var f=r.getDay();if(f!==n[0]&&f!==n[1]){for(var l=0;l<t.length;l++){var m=t[l];if(m.getDate()===r.getDate()&&m.getMonth()===r.getMonth()&&m.getFullYear()===r.getFullYear()){s--;break}}s++}}return r},e.YEAR=function(r){return r=o.parseDate(r),r instanceof Error?r:r.getFullYear()},e.YEARFRAC=function(r,e,n){if(r=o.parseDate(r),r instanceof Error)return r;if(e=o.parseDate(e),e instanceof Error)return e;n=n||0;var i=r.getDate(),a=r.getMonth()+1,s=r.getFullYear(),f=e.getDate(),l=e.getMonth()+1,c=e.getFullYear();switch(n){case 0:return 31===i&&31===f?(i=30,f=30):31===i?i=30:30===i&&31===f&&(f=30),(f+30*l+360*c-(i+30*a+360*s))/360;case 1:var m=function(r,e){var n=r.getFullYear(),u=new Date(n,2,1);if(t(n)&&u>r&&e>=u)return!0;var i=e.getFullYear(),a=new Date(i,2,1);return t(i)&&e>=a&&a>r},p=365;if(s===c||s+1===c&&(a>l||a===l&&i>=f))return(s===c&&t(s)||m(r,e)||1===l&&29===f)&&(p=366),u(r,e)/p;var h=c-s+1,g=(new Date(c+1,0,1)-new Date(s,0,1))/1e3/60/60/24,v=g/h;return u(r,e)/v;case 2:return u(r,e)/360;case 3:return u(r,e)/365;case 4:return(f+30*l+360*c-(i+30*a+360*s))/360}}},function(r,e,n){function t(r){return r&&r.getTime&&!isNaN(r.getTime())}function u(r){return r instanceof Date?r:new Date(r)}var i=n(13),a=n(7),o=n(14);e.ACCRINT=function(r,e,n,i,o,s,f){return r=u(r),e=u(e),n=u(n),t(r)&&t(e)&&t(n)?0>=i||0>=o?"#NUM!":-1===[1,2,4].indexOf(s)?"#NUM!":-1===[0,1,2,3,4].indexOf(f)?"#NUM!":r>=n?"#NUM!":(o=o||0,f=f||0,o*i*a.YEARFRAC(r,n,f)):"#VALUE!"},e.ACCRINTM=function(){throw new Error("ACCRINTM is not implemented")},e.AMORDEGRC=function(){throw new Error("AMORDEGRC is not implemented")},e.AMORLINC=function(){throw new Error("AMORLINC is not implemented")},e.COUPDAYBS=function(){throw new Error("COUPDAYBS is not implemented")},e.COUPDAYS=function(){throw new Error("COUPDAYS is not implemented")},e.COUPDAYSNC=function(){throw new Error("COUPDAYSNC is not implemented")},e.COUPNCD=function(){throw new Error("COUPNCD is not implemented")},e.COUPNUM=function(){throw new Error("COUPNUM is not implemented")},e.COUPPCD=function(){throw new Error("COUPPCD is not implemented")},e.CUMIPMT=function(r,n,t,u,a,s){if(r=o.parseNumber(r),n=o.parseNumber(n),t=o.parseNumber(t),o.anyIsError(r,n,t))return i.value;if(0>=r||0>=n||0>=t)return i.num;if(1>u||1>a||u>a)return i.num;if(0!==s&&1!==s)return i.num;var f=e.PMT(r,n,t,0,s),l=0;1===u&&0===s&&(l=-t,u++);for(var c=u;a>=c;c++)l+=1===s?e.FV(r,c-2,f,t,1)-f:e.FV(r,c-1,f,t,0);return l*=r},e.CUMPRINC=function(r,n,t,u,a,s){if(r=o.parseNumber(r),n=o.parseNumber(n),t=o.parseNumber(t),o.anyIsError(r,n,t))return i.value;if(0>=r||0>=n||0>=t)return i.num;if(1>u||1>a||u>a)return i.num;if(0!==s&&1!==s)return i.num;var f=e.PMT(r,n,t,0,s),l=0;1===u&&(l=0===s?f+t*r:f,u++);for(var c=u;a>=c;c++)l+=s>0?f-(e.FV(r,c-2,f,t,1)-f)*r:f-e.FV(r,c-1,f,t,0)*r;return l},e.DB=function(r,e,n,t,u){if(u=void 0===u?12:u,r=o.parseNumber(r),e=o.parseNumber(e),n=o.parseNumber(n),t=o.parseNumber(t),u=o.parseNumber(u),o.anyIsError(r,e,n,t,u))return i.value;if(0>r||0>e||0>n||0>t)return i.num;if(-1===[1,2,3,4,5,6,7,8,9,10,11,12].indexOf(u))return i.num;if(t>n)return i.num;if(e>=r)return 0;for(var a=(1-Math.pow(e/r,1/n)).toFixed(3),s=r*a*u/12,f=s,l=0,c=t===n?n-1:t,m=2;c>=m;m++)l=(r-f)*a,f+=l;return 1===t?s:t===n?(r-f)*a:l},e.DDB=function(r,e,n,t,u){if(u=void 0===u?2:u,r=o.parseNumber(r),e=o.parseNumber(e),n=o.parseNumber(n),t=o.parseNumber(t),u=o.parseNumber(u),o.anyIsError(r,e,n,t,u))return i.value;if(0>r||0>e||0>n||0>t||0>=u)return i.num;if(t>n)return i.num;if(e>=r)return 0;for(var a=0,s=0,f=1;t>=f;f++)s=Math.min((r-a)*(u/n),r-e-a),a+=s;return s},e.DISC=function(){throw new Error("DISC is not implemented")},e.DOLLARDE=function(r,e){if(r=o.parseNumber(r),e=o.parseNumber(e),o.anyIsError(r,e))return i.value;if(0>e)return i.num;if(e>=0&&1>e)return i.div0;e=parseInt(e,10);var n=parseInt(r,10);n+=r%1*Math.pow(10,Math.ceil(Math.log(e)/Math.LN10))/e;var t=Math.pow(10,Math.ceil(Math.log(e)/Math.LN2)+1);return n=Math.round(n*t)/t},e.DOLLARFR=function(r,e){if(r=o.parseNumber(r),e=o.parseNumber(e),o.anyIsError(r,e))return i.value;if(0>e)return i.num;if(e>=0&&1>e)return i.div0;e=parseInt(e,10);var n=parseInt(r,10);return n+=r%1*Math.pow(10,-Math.ceil(Math.log(e)/Math.LN10))*e},e.DURATION=function(){throw new Error("DURATION is not implemented")},e.EFFECT=function(r,e){return r=o.parseNumber(r),e=o.parseNumber(e),o.anyIsError(r,e)?i.value:0>=r||1>e?i.num:(e=parseInt(e,10),Math.pow(1+r/e,e)-1)},e.FV=function(r,e,n,t,u){if(t=t||0,u=u||0,r=o.parseNumber(r),e=o.parseNumber(e),n=o.parseNumber(n),t=o.parseNumber(t),u=o.parseNumber(u),o.anyIsError(r,e,n,t,u))return i.value;var a;if(0===r)a=t+n*e;else{var s=Math.pow(1+r,e);a=1===u?t*s+n*(1+r)*(s-1)/r:t*s+n*(s-1)/r}return-a},e.FVSCHEDULE=function(r,e){if(r=o.parseNumber(r),e=o.parseNumberArray(o.flatten(e)),o.anyIsError(r,e))return i.value;for(var n=e.length,t=r,u=0;n>u;u++)t*=1+e[u];return t},e.INTRATE=function(){throw new Error("INTRATE is not implemented")},e.IPMT=function(r,n,t,u,a,s){if(a=a||0,s=s||0,r=o.parseNumber(r),n=o.parseNumber(n),t=o.parseNumber(t),u=o.parseNumber(u),a=o.parseNumber(a),s=o.parseNumber(s),o.anyIsError(r,n,t,u,a,s))return i.value;var f,l=e.PMT(r,t,u,a,s);return f=1===n?1===s?0:-u:1===s?e.FV(r,n-2,l,u,1)-l:e.FV(r,n-1,l,u,0),f*r},e.IRR=function(r,e){if(e=e||0,r=o.parseNumberArray(o.flatten(r)),e=o.parseNumber(e),o.anyIsError(r,e))return i.value;for(var n=function(r,e,n){for(var t=n+1,u=r[0],i=1;i<r.length;i++)u+=r[i]/Math.pow(t,(e[i]-e[0])/365);return u},t=function(r,e,n){for(var t=n+1,u=0,i=1;i<r.length;i++){var a=(e[i]-e[0])/365;u-=a*r[i]/Math.pow(t,a+1)}return u},u=[],a=!1,s=!1,f=0;f<r.length;f++)u[f]=0===f?0:u[f-1]+365,r[f]>0&&(a=!0),r[f]<0&&(s=!0);if(!a||!s)return i.num;e=void 0===e?.1:e;var l,c,m,p=e,h=1e-10,g=!0;do m=n(r,u,p),l=p-m/t(r,u,p),c=Math.abs(l-p),p=l,g=c>h&&Math.abs(m)>h;while(g);return p},e.ISPMT=function(r,e,n,t){return r=o.parseNumber(r),e=o.parseNumber(e),n=o.parseNumber(n),t=o.parseNumber(t),o.anyIsError(r,e,n,t)?i.value:t*r*(e/n-1)},e.MDURATION=function(){throw new Error("MDURATION is not implemented")},e.MIRR=function(r,n,t){if(r=o.parseNumberArray(o.flatten(r)),n=o.parseNumber(n),t=o.parseNumber(t),o.anyIsError(r,n,t))return i.value;for(var u=r.length,a=[],s=[],f=0;u>f;f++)r[f]<0?a.push(r[f]):s.push(r[f]);var l=-e.NPV(t,s)*Math.pow(1+t,u-1),c=e.NPV(n,a)*(1+n);return Math.pow(l/c,1/(u-1))-1},e.NOMINAL=function(r,e){return r=o.parseNumber(r),e=o.parseNumber(e),o.anyIsError(r,e)?i.value:0>=r||1>e?i.num:(e=parseInt(e,10),(Math.pow(r+1,1/e)-1)*e)},e.NPER=function(r,e,n,t,u){if(u=void 0===u?0:u,t=void 0===t?0:t,r=o.parseNumber(r),e=o.parseNumber(e),n=o.parseNumber(n),t=o.parseNumber(t),u=o.parseNumber(u),o.anyIsError(r,e,n,t,u))return i.value;var a=e*(1+r*u)-t*r,s=n*r+e*(1+r*u);return Math.log(a/s)/Math.log(1+r)},e.NPV=function(){var r=o.parseNumberArray(o.flatten(arguments));if(r instanceof Error)return r;for(var e=r[0],n=0,t=1;t<r.length;t++)n+=r[t]/Math.pow(1+e,t);return n},e.ODDFPRICE=function(){throw new Error("ODDFPRICE is not implemented")},e.ODDFYIELD=function(){throw new Error("ODDFYIELD is not implemented")},e.ODDLPRICE=function(){throw new Error("ODDLPRICE is not implemented")},e.ODDLYIELD=function(){throw new Error("ODDLYIELD is not implemented")},e.PDURATION=function(r,e,n){return r=o.parseNumber(r),e=o.parseNumber(e),n=o.parseNumber(n),o.anyIsError(r,e,n)?i.value:0>=r?i.num:(Math.log(n)-Math.log(e))/Math.log(1+r)},e.PMT=function(r,e,n,t,u){if(t=t||0,u=u||0,r=o.parseNumber(r),e=o.parseNumber(e),n=o.parseNumber(n),t=o.parseNumber(t),u=o.parseNumber(u),o.anyIsError(r,e,n,t,u))return i.value;var a;if(0===r)a=(n+t)/e;else{var s=Math.pow(1+r,e);a=1===u?(t*r/(s-1)+n*r/(1-1/s))/(1+r):t*r/(s-1)+n*r/(1-1/s)}return-a},e.PPMT=function(r,n,t,u,a,s){return a=a||0,s=s||0,r=o.parseNumber(r),t=o.parseNumber(t),u=o.parseNumber(u),a=o.parseNumber(a),s=o.parseNumber(s),o.anyIsError(r,t,u,a,s)?i.value:e.PMT(r,t,u,a,s)-e.IPMT(r,n,t,u,a,s)},e.PRICE=function(){throw new Error("PRICE is not implemented")},e.PRICEDISC=function(){throw new Error("PRICEDISC is not implemented")},e.PRICEMAT=function(){throw new Error("PRICEMAT is not implemented")},e.PV=function(r,e,n,t,u){return t=t||0,u=u||0,r=o.parseNumber(r),e=o.parseNumber(e),n=o.parseNumber(n),t=o.parseNumber(t),u=o.parseNumber(u),o.anyIsError(r,e,n,t,u)?i.value:0===r?-n*e-t:((1-Math.pow(1+r,e))/r*n*(1+r*u)-t)/Math.pow(1+r,e)},e.RATE=function(r,e,n,t,u,a){if(a=void 0===a?.01:a,t=void 0===t?0:t,u=void 0===u?0:u,r=o.parseNumber(r),e=o.parseNumber(e),n=o.parseNumber(n),t=o.parseNumber(t),u=o.parseNumber(u),a=o.parseNumber(a),o.anyIsError(r,e,n,t,u,a))return i.value;var s,f,l,c,m=1e-10,p=50,h=0,g=0,v=0,d=a;for(Math.abs(d)<m?s=n*(1+r*d)+e*(1+d*u)*r+t:(g=Math.exp(r*Math.log(1+d)),s=n*g+e*(1/d+u)*(g-1)+t),f=n+e*r+t,l=n*g+e*(1/d+u)*(g-1)+t,v=c=0,h=d;Math.abs(f-l)>m&&p>v;)d=(l*c-f*h)/(l-f),c=h,h=d,Math.abs(d)<m?s=n*(1+r*d)+e*(1+d*u)*r+t:(g=Math.exp(r*Math.log(1+d)),s=n*g+e*(1/d+u)*(g-1)+t),f=l,l=s,++v;return d},e.RECEIVED=function(){throw new Error("RECEIVED is not implemented")},e.RRI=function(r,e,n){return r=o.parseNumber(r),e=o.parseNumber(e),n=o.parseNumber(n),o.anyIsError(r,e,n)?i.value:0===r||0===e?i.num:Math.pow(n/e,1/r)-1},e.SLN=function(r,e,n){return r=o.parseNumber(r),e=o.parseNumber(e),n=o.parseNumber(n),o.anyIsError(r,e,n)?i.value:0===n?i.num:(r-e)/n},e.SYD=function(r,e,n,t){return r=o.parseNumber(r),e=o.parseNumber(e),n=o.parseNumber(n),t=o.parseNumber(t),o.anyIsError(r,e,n,t)?i.value:0===n?i.num:1>t||t>n?i.num:(t=parseInt(t,10),(r-e)*(n-t+1)*2/(n*(n+1)))},e.TBILLEQ=function(r,e,n){return r=o.parseDate(r),e=o.parseDate(e),n=o.parseNumber(n),o.anyIsError(r,e,n)?i.value:0>=n?i.num:r>e?i.num:e-r>31536e6?i.num:365*n/(360-n*a.DAYS360(r,e,!1))},e.TBILLPRICE=function(r,e,n){return r=o.parseDate(r),e=o.parseDate(e),n=o.parseNumber(n),o.anyIsError(r,e,n)?i.value:0>=n?i.num:r>e?i.num:e-r>31536e6?i.num:100*(1-n*a.DAYS360(r,e,!1)/360)},e.TBILLYIELD=function(r,e,n){return r=o.parseDate(r),e=o.parseDate(e),n=o.parseNumber(n),o.anyIsError(r,e,n)?i.value:0>=n?i.num:r>e?i.num:e-r>31536e6?i.num:360*(100-n)/(n*a.DAYS360(r,e,!1))},e.VDB=function(){throw new Error("VDB is not implemented")},e.XIRR=function(r,e,n){if(r=o.parseNumberArray(o.flatten(r)),e=o.parseDateArray(o.flatten(e)),n=o.parseNumber(n),o.anyIsError(r,e,n))return i.value;for(var t=function(r,e,n){for(var t=n+1,u=r[0],i=1;i<r.length;i++)u+=r[i]/Math.pow(t,a.DAYS(e[i],e[0])/365);return u},u=function(r,e,n){for(var t=n+1,u=0,i=1;i<r.length;i++){var o=a.DAYS(e[i],e[0])/365;u-=o*r[i]/Math.pow(t,o+1)}return u},s=!1,f=!1,l=0;l<r.length;l++)r[l]>0&&(s=!0),r[l]<0&&(f=!0);if(!s||!f)return i.num;
n=n||.1;var c,m,p,h=n,g=1e-10,v=!0;do p=t(r,e,h),c=h-p/u(r,e,h),m=Math.abs(c-h),h=c,v=m>g&&Math.abs(p)>g;while(v);return h},e.XNPV=function(r,e,n){if(r=o.parseNumber(r),e=o.parseNumberArray(o.flatten(e)),n=o.parseDateArray(o.flatten(n)),o.anyIsError(r,e,n))return i.value;for(var t=0,u=0;u<e.length;u++)t+=e[u]/Math.pow(1+r,a.DAYS(n[u],n[0])/365);return t},e.YIELD=function(){throw new Error("YIELD is not implemented")},e.YIELDDISC=function(){throw new Error("YIELDDISC is not implemented")},e.YIELDMAT=function(){throw new Error("YIELDMAT is not implemented")}},function(r,e,n){var t=n(13);e.CELL=function(){throw new Error("CELL is not implemented")},e.ERROR={},e.ERROR.TYPE=function(r){switch(r){case t.nil:return 1;case t.div0:return 2;case t.value:return 3;case t.ref:return 4;case t.name:return 5;case t.num:return 6;case t.na:return 7;case t.data:return 8}return t.na},e.INFO=function(){throw new Error("INFO is not implemented")},e.ISBLANK=function(r){return null===r},e.ISBINARY=function(r){return/^[01]{1,10}$/.test(r)},e.ISERR=function(r){return[t.value,t.ref,t.div0,t.num,t.name,t.nil].indexOf(r)>=0||"number"==typeof r&&(isNaN(r)||!isFinite(r))},e.ISERROR=function(r){return e.ISERR(r)||r===t.na},e.ISEVEN=function(r){return 1&Math.floor(Math.abs(r))?!1:!0},e.ISFORMULA=function(){throw new Error("ISFORMULA is not implemented")},e.ISLOGICAL=function(r){return r===!0||r===!1},e.ISNA=function(r){return r===t.na},e.ISNONTEXT=function(r){return"string"!=typeof r},e.ISNUMBER=function(r){return"number"==typeof r&&!isNaN(r)&&isFinite(r)},e.ISODD=function(r){return 1&Math.floor(Math.abs(r))?!0:!1},e.ISREF=function(){throw new Error("ISREF is not implemented")},e.ISTEXT=function(r){return"string"==typeof r},e.N=function(r){return this.ISNUMBER(r)?r:r instanceof Date?r.getTime():r===!0?1:r===!1?0:this.ISERROR(r)?r:0},e.NA=function(){return t.na},e.SHEET=function(){throw new Error("SHEET is not implemented")},e.SHEETS=function(){throw new Error("SHEETS is not implemented")},e.TYPE=function(r){return this.ISNUMBER(r)?1:this.ISTEXT(r)?2:this.ISLOGICAL(r)?4:this.ISERROR(r)?16:Array.isArray(r)?64:void 0}},function(r,e,n){var t=n(13);e.MATCH=function(r,e,n){if(!r&&!e)return t.na;if(2===arguments.length&&(n=1),!(e instanceof Array))return t.na;if(-1!==n&&0!==n&&1!==n)return t.na;for(var u,i,a=0;a<e.length;a++)if(1===n){if(e[a]===r)return a+1;e[a]<r&&(i?e[a]>i&&(u=a+1,i=e[a]):(u=a+1,i=e[a]))}else if(0===n){if("string"==typeof r){if(r=r.replace(/\?/g,"."),e[a].toLowerCase().match(r.toLowerCase()))return a+1}else if(e[a]===r)return a+1}else if(-1===n){if(e[a]===r)return a+1;e[a]>r&&(i?e[a]<i&&(u=a+1,i=e[a]):(u=a+1,i=e[a]))}return u?u:t.na}},function(module,exports,__webpack_require__){var mathTrig=__webpack_require__(5),text=__webpack_require__(6),jStat=__webpack_require__(18).jStat,utils=__webpack_require__(14),error=__webpack_require__(13),misc=__webpack_require__(12),SQRT2PI=2.5066282746310002;exports.AVEDEV=function(){var r=utils.parseNumberArray(utils.flatten(arguments));return r instanceof Error?r:jStat.sum(jStat(r).subtract(jStat.mean(r)).abs()[0])/r.length},exports.AVERAGE=function(){for(var r=utils.numbers(utils.flatten(arguments)),e=r.length,n=0,t=0,u=0;e>u;u++)n+=r[u],t+=1;return n/t},exports.AVERAGEA=function(){for(var r=utils.flatten(arguments),e=r.length,n=0,t=0,u=0;e>u;u++){var i=r[u];"number"==typeof i&&(n+=i),i===!0&&n++,null!==i&&t++}return n/t},exports.AVERAGEIF=function(range,criteria,average_range){if(average_range=average_range||range,range=utils.flatten(range),average_range=utils.parseNumberArray(utils.flatten(average_range)),average_range instanceof Error)return average_range;for(var average_count=0,result=0,i=0;i<range.length;i++)eval(range[i]+criteria)&&(result+=average_range[i],average_count++);return result/average_count},exports.AVERAGEIFS=function(){for(var args=utils.argsToArray(arguments),criteria=(args.length-1)/2,range=utils.flatten(args[0]),count=0,result=0,i=0;i<range.length;i++){for(var condition="",j=0;criteria>j;j++)condition+=args[2*j+1][i]+args[2*j+2],j!==criteria-1&&(condition+="&&");eval(condition)&&(result+=range[i],count++)}var average=result/count;return isNaN(average)?0:average},exports.BETA={},exports.BETA.DIST=function(r,e,n,t,u,i){return u=void 0===u?0:u,i=void 0===i?1:i,r=utils.parseNumber(r),e=utils.parseNumber(e),n=utils.parseNumber(n),u=utils.parseNumber(u),i=utils.parseNumber(i),utils.anyIsError(r,e,n,u,i)?error.value:(r=(r-u)/(i-u),t?jStat.beta.cdf(r,e,n):jStat.beta.pdf(r,e,n))},exports.BETA.INV=function(r,e,n,t,u){return t=void 0===t?0:t,u=void 0===u?1:u,r=utils.parseNumber(r),e=utils.parseNumber(e),n=utils.parseNumber(n),t=utils.parseNumber(t),u=utils.parseNumber(u),utils.anyIsError(r,e,n,t,u)?error.value:jStat.beta.inv(r,e,n)*(u-t)+t},exports.BINOM={},exports.BINOM.DIST=function(r,e,n,t){return r=utils.parseNumber(r),e=utils.parseNumber(e),n=utils.parseNumber(n),t=utils.parseNumber(t),utils.anyIsError(r,e,n,t)?error.value:t?jStat.binomial.cdf(r,e,n):jStat.binomial.pdf(r,e,n)},exports.BINOM.DIST.RANGE=function(r,e,n,t){if(t=void 0===t?n:t,r=utils.parseNumber(r),e=utils.parseNumber(e),n=utils.parseNumber(n),t=utils.parseNumber(t),utils.anyIsError(r,e,n,t))return error.value;for(var u=0,i=n;t>=i;i++)u+=mathTrig.COMBIN(r,i)*Math.pow(e,i)*Math.pow(1-e,r-i);return u},exports.BINOM.INV=function(r,e,n){if(r=utils.parseNumber(r),e=utils.parseNumber(e),n=utils.parseNumber(n),utils.anyIsError(r,e,n))return error.value;for(var t=0;r>=t;){if(jStat.binomial.cdf(t,r,e)>=n)return t;t++}},exports.CHISQ={},exports.CHISQ.DIST=function(r,e,n){return r=utils.parseNumber(r),e=utils.parseNumber(e),utils.anyIsError(r,e)?error.value:n?jStat.chisquare.cdf(r,e):jStat.chisquare.pdf(r,e)},exports.CHISQ.DIST.RT=function(r,e){return!r|!e?error.na:1>r||e>Math.pow(10,10)?error.num:"number"!=typeof r||"number"!=typeof e?error.value:1-jStat.chisquare.cdf(r,e)},exports.CHISQ.INV=function(r,e){return r=utils.parseNumber(r),e=utils.parseNumber(e),utils.anyIsError(r,e)?error.value:jStat.chisquare.inv(r,e)},exports.CHISQ.INV.RT=function(r,e){return!r|!e?error.na:0>r||r>1||1>e||e>Math.pow(10,10)?error.num:"number"!=typeof r||"number"!=typeof e?error.value:jStat.chisquare.inv(1-r,e)},exports.CHISQ.TEST=function(r,e){function n(r,e){var n=Math.exp(-.5*r);e%2===1&&(n*=Math.sqrt(2*r/l));for(var t=e;t>=2;)n=n*r/t,t-=2;for(var u=n,i=e;u>1e-10*n;)i+=2,u=u*r/i,n+=u;return 1-n}if(2!==arguments.length)return error.na;if(!(r instanceof Array&&e instanceof Array))return error.value;if(r.length!==e.length)return error.value;if(r[0]&&e[0]&&r[0].length!==e[0].length)return error.value;var t,u,i,a=r.length;for(u=0;a>u;u++)r[u]instanceof Array||(t=r[u],r[u]=[],r[u].push(t)),e[u]instanceof Array||(t=e[u],e[u]=[],e[u].push(t));var o=r[0].length,s=1===o?a-1:(a-1)*(o-1),f=0,l=Math.PI;for(u=0;a>u;u++)for(i=0;o>i;i++)f+=Math.pow(r[u][i]-e[u][i],2)/e[u][i];return Math.round(1e6*n(f,s))/1e6},exports.COLUMN=function(r,e){return 2!==arguments.length?error.na:0>e?error.num:r instanceof Array&&"number"==typeof e?0===r.length?void 0:jStat.col(r,e):error.value},exports.COLUMNS=function(r){return 1!==arguments.length?error.na:r instanceof Array?0===r.length?0:jStat.cols(r):error.value},exports.CONFIDENCE={},exports.CONFIDENCE.NORM=function(r,e,n){return r=utils.parseNumber(r),e=utils.parseNumber(e),n=utils.parseNumber(n),utils.anyIsError(r,e,n)?error.value:jStat.normalci(1,r,e,n)[1]-1},exports.CONFIDENCE.T=function(r,e,n){return r=utils.parseNumber(r),e=utils.parseNumber(e),n=utils.parseNumber(n),utils.anyIsError(r,e,n)?error.value:jStat.tci(1,r,e,n)[1]-1},exports.CORREL=function(r,e){return r=utils.parseNumberArray(utils.flatten(r)),e=utils.parseNumberArray(utils.flatten(e)),utils.anyIsError(r,e)?error.value:jStat.corrcoeff(r,e)},exports.COUNT=function(){return utils.numbers(utils.flatten(arguments)).length},exports.COUNTA=function(){var r=utils.flatten(arguments);return r.length-exports.COUNTBLANK(r)},exports.COUNTIN=function(r,e){for(var n=0,t=0;t<r.length;t++)r[t]===e&&n++;return n},exports.COUNTBLANK=function(){for(var r,e=utils.flatten(arguments),n=0,t=0;t<e.length;t++)r=e[t],(null===r||""===r)&&n++;return n},exports.COUNTIF=function(range,criteria){range=utils.flatten(range),/[<>=!]/.test(criteria)||(criteria='=="'+criteria+'"');for(var matches=0,i=0;i<range.length;i++)"string"!=typeof range[i]?eval(range[i]+criteria)&&matches++:eval('"'+range[i]+'"'+criteria)&&matches++;return matches},exports.COUNTIFS=function(){for(var args=utils.argsToArray(arguments),results=new Array(utils.flatten(args[0]).length),i=0;i<results.length;i++)results[i]=!0;for(i=0;i<args.length;i+=2){var range=utils.flatten(args[i]),criteria=args[i+1];/[<>=!]/.test(criteria)||(criteria='=="'+criteria+'"');for(var j=0;j<range.length;j++)results[j]="string"!=typeof range[j]?results[j]&&eval(range[j]+criteria):results[j]&&eval('"'+range[j]+'"'+criteria)}var result=0;for(i=0;i<results.length;i++)results[i]&&result++;return result},exports.COUNTUNIQUE=function(){return misc.UNIQUE.apply(null,utils.flatten(arguments)).length},exports.COVARIANCE={},exports.COVARIANCE.P=function(r,e){if(r=utils.parseNumberArray(utils.flatten(r)),e=utils.parseNumberArray(utils.flatten(e)),utils.anyIsError(r,e))return error.value;for(var n=jStat.mean(r),t=jStat.mean(e),u=0,i=r.length,a=0;i>a;a++)u+=(r[a]-n)*(e[a]-t);return u/i},exports.COVARIANCE.S=function(r,e){return r=utils.parseNumberArray(utils.flatten(r)),e=utils.parseNumberArray(utils.flatten(e)),utils.anyIsError(r,e)?error.value:jStat.covariance(r,e)},exports.DEVSQ=function(){var r=utils.parseNumberArray(utils.flatten(arguments));if(r instanceof Error)return r;for(var e=jStat.mean(r),n=0,t=0;t<r.length;t++)n+=Math.pow(r[t]-e,2);return n},exports.EXPON={},exports.EXPON.DIST=function(r,e,n){return r=utils.parseNumber(r),e=utils.parseNumber(e),utils.anyIsError(r,e)?error.value:n?jStat.exponential.cdf(r,e):jStat.exponential.pdf(r,e)},exports.F={},exports.F.DIST=function(r,e,n,t){return r=utils.parseNumber(r),e=utils.parseNumber(e),n=utils.parseNumber(n),utils.anyIsError(r,e,n)?error.value:t?jStat.centralF.cdf(r,e,n):jStat.centralF.pdf(r,e,n)},exports.F.DIST.RT=function(r,e,n){return 3!==arguments.length?error.na:0>r||1>e||1>n?error.num:"number"!=typeof r||"number"!=typeof e||"number"!=typeof n?error.value:1-jStat.centralF.cdf(r,e,n)},exports.F.INV=function(r,e,n){return r=utils.parseNumber(r),e=utils.parseNumber(e),n=utils.parseNumber(n),utils.anyIsError(r,e,n)?error.value:0>=r||r>1?error.num:jStat.centralF.inv(r,e,n)},exports.F.INV.RT=function(r,e,n){return 3!==arguments.length?error.na:0>r||r>1||1>e||e>Math.pow(10,10)||1>n||n>Math.pow(10,10)?error.num:"number"!=typeof r||"number"!=typeof e||"number"!=typeof n?error.value:jStat.centralF.inv(1-r,e,n)},exports.F.TEST=function(r,e){if(!r||!e)return error.na;if(!(r instanceof Array&&e instanceof Array))return error.na;if(r.length<2||e.length<2)return error.div0;var n=function(r,e){for(var n=0,t=0;t<r.length;t++)n+=Math.pow(r[t]-e,2);return n},t=mathTrig.SUM(r)/r.length,u=mathTrig.SUM(e)/e.length,i=n(r,t)/(r.length-1),a=n(e,u)/(e.length-1);return i/a},exports.FISHER=function(r){return r=utils.parseNumber(r),r instanceof Error?r:Math.log((1+r)/(1-r))/2},exports.FISHERINV=function(r){if(r=utils.parseNumber(r),r instanceof Error)return r;var e=Math.exp(2*r);return(e-1)/(e+1)},exports.FORECAST=function(r,e,n){if(r=utils.parseNumber(r),e=utils.parseNumberArray(utils.flatten(e)),n=utils.parseNumberArray(utils.flatten(n)),utils.anyIsError(r,e,n))return error.value;for(var t=jStat.mean(n),u=jStat.mean(e),i=n.length,a=0,o=0,s=0;i>s;s++)a+=(n[s]-t)*(e[s]-u),o+=Math.pow(n[s]-t,2);var f=a/o,l=u-f*t;return l+f*r},exports.FREQUENCY=function(r,e){if(r=utils.parseNumberArray(utils.flatten(r)),e=utils.parseNumberArray(utils.flatten(e)),utils.anyIsError(r,e))return error.value;for(var n=r.length,t=e.length,u=[],i=0;t>=i;i++){u[i]=0;for(var a=0;n>a;a++)0===i?r[a]<=e[0]&&(u[0]+=1):t>i?r[a]>e[i-1]&&r[a]<=e[i]&&(u[i]+=1):i===t&&r[a]>e[t-1]&&(u[t]+=1)}return u},exports.GAMMA=function(r){return r=utils.parseNumber(r),r instanceof Error?r:0===r?error.num:parseInt(r,10)===r&&0>r?error.num:jStat.gammafn(r)},exports.GAMMA.DIST=function(r,e,n,t){return 4!==arguments.length?error.na:0>r||0>=e||0>=n?error.value:"number"!=typeof r||"number"!=typeof e||"number"!=typeof n?error.value:t?jStat.gamma.cdf(r,e,n,!0):jStat.gamma.pdf(r,e,n,!1)},exports.GAMMA.INV=function(r,e,n){return 3!==arguments.length?error.na:0>r||r>1||0>=e||0>=n?error.num:"number"!=typeof r||"number"!=typeof e||"number"!=typeof n?error.value:jStat.gamma.inv(r,e,n)},exports.GAMMALN=function(r){return r=utils.parseNumber(r),r instanceof Error?r:jStat.gammaln(r)},exports.GAMMALN.PRECISE=function(r){return 1!==arguments.length?error.na:0>=r?error.num:"number"!=typeof r?error.value:jStat.gammaln(r)},exports.GAUSS=function(r){return r=utils.parseNumber(r),r instanceof Error?r:jStat.normal.cdf(r,0,1)-.5},exports.GEOMEAN=function(){var r=utils.parseNumberArray(utils.flatten(arguments));return r instanceof Error?r:jStat.geomean(r)},exports.GROWTH=function(r,e,n,t){if(r=utils.parseNumberArray(r),r instanceof Error)return r;var u;if(void 0===e)for(e=[],u=1;u<=r.length;u++)e.push(u);if(void 0===n)for(n=[],u=1;u<=r.length;u++)n.push(u);if(e=utils.parseNumberArray(e),n=utils.parseNumberArray(n),utils.anyIsError(e,n))return error.value;void 0===t&&(t=!0);var i=r.length,a=0,o=0,s=0,f=0;for(u=0;i>u;u++){var l=e[u],c=Math.log(r[u]);a+=l,o+=c,s+=l*c,f+=l*l}a/=i,o/=i,s/=i,f/=i;var m,p;t?(m=(s-a*o)/(f-a*a),p=o-m*a):(m=s/f,p=0);var h=[];for(u=0;u<n.length;u++)h.push(Math.exp(p+m*n[u]));return h},exports.HARMEAN=function(){var r=utils.parseNumberArray(utils.flatten(arguments));if(r instanceof Error)return r;for(var e=r.length,n=0,t=0;e>t;t++)n+=1/r[t];return e/n},exports.HYPGEOM={},exports.HYPGEOM.DIST=function(r,e,n,t,u){function i(r,e,n,t){return mathTrig.COMBIN(n,r)*mathTrig.COMBIN(t-n,e-r)/mathTrig.COMBIN(t,e)}function a(r,e,n,t){for(var u=0,a=0;r>=a;a++)u+=i(a,e,n,t);return u}return r=utils.parseNumber(r),e=utils.parseNumber(e),n=utils.parseNumber(n),t=utils.parseNumber(t),utils.anyIsError(r,e,n,t)?error.value:u?a(r,e,n,t):i(r,e,n,t)},exports.INTERCEPT=function(r,e){return r=utils.parseNumberArray(r),e=utils.parseNumberArray(e),utils.anyIsError(r,e)?error.value:r.length!==e.length?error.na:exports.FORECAST(0,r,e)},exports.KURT=function(){var r=utils.parseNumberArray(utils.flatten(arguments));if(r instanceof Error)return r;for(var e=jStat.mean(r),n=r.length,t=0,u=0;n>u;u++)t+=Math.pow(r[u]-e,4);return t/=Math.pow(jStat.stdev(r,!0),4),n*(n+1)/((n-1)*(n-2)*(n-3))*t-3*(n-1)*(n-1)/((n-2)*(n-3))},exports.LARGE=function(r,e){return r=utils.parseNumberArray(utils.flatten(r)),e=utils.parseNumber(e),utils.anyIsError(r,e)?r:r.sort(function(r,e){return e-r})[e-1]},exports.LINEST=function(r,e){if(r=utils.parseNumberArray(utils.flatten(r)),e=utils.parseNumberArray(utils.flatten(e)),utils.anyIsError(r,e))return error.value;for(var n=jStat.mean(r),t=jStat.mean(e),u=e.length,i=0,a=0,o=0;u>o;o++)i+=(e[o]-t)*(r[o]-n),a+=Math.pow(e[o]-t,2);var s=i/a,f=n-s*t;return[s,f]},exports.LOGEST=function(r,e){if(r=utils.parseNumberArray(utils.flatten(r)),e=utils.parseNumberArray(utils.flatten(e)),utils.anyIsError(r,e))return error.value;for(var n=0;n<r.length;n++)r[n]=Math.log(r[n]);var t=exports.LINEST(r,e);return t[0]=Math.round(1e6*Math.exp(t[0]))/1e6,t[1]=Math.round(1e6*Math.exp(t[1]))/1e6,t},exports.LOGNORM={},exports.LOGNORM.DIST=function(r,e,n,t){return r=utils.parseNumber(r),e=utils.parseNumber(e),n=utils.parseNumber(n),utils.anyIsError(r,e,n)?error.value:t?jStat.lognormal.cdf(r,e,n):jStat.lognormal.pdf(r,e,n)},exports.LOGNORM.INV=function(r,e,n){return r=utils.parseNumber(r),e=utils.parseNumber(e),n=utils.parseNumber(n),utils.anyIsError(r,e,n)?error.value:jStat.lognormal.inv(r,e,n)},exports.MAX=function(){var r=utils.numbers(utils.flatten(arguments));return 0===r.length?0:Math.max.apply(Math,r)},exports.MAXA=function(){var r=utils.arrayValuesToNumbers(utils.flatten(arguments));return 0===r.length?0:Math.max.apply(Math,r)},exports.MEDIAN=function(){var r=utils.arrayValuesToNumbers(utils.flatten(arguments));return jStat.median(r)},exports.MIN=function(){var r=utils.numbers(utils.flatten(arguments));return 0===r.length?0:Math.min.apply(Math,r)},exports.MINA=function(){var r=utils.arrayValuesToNumbers(utils.flatten(arguments));return 0===r.length?0:Math.min.apply(Math,r)},exports.MODE={},exports.MODE.MULT=function(){var r=utils.parseNumberArray(utils.flatten(arguments));if(r instanceof Error)return r;for(var e,n=r.length,t={},u=[],i=0,a=0;n>a;a++)e=r[a],t[e]=t[e]?t[e]+1:1,t[e]>i&&(i=t[e],u=[]),t[e]===i&&(u[u.length]=e);return u},exports.MODE.SNGL=function(){var r=utils.parseNumberArray(utils.flatten(arguments));return r instanceof Error?r:exports.MODE.MULT(r).sort(function(r,e){return r-e})[0]},exports.NEGBINOM={},exports.NEGBINOM.DIST=function(r,e,n,t){return r=utils.parseNumber(r),e=utils.parseNumber(e),n=utils.parseNumber(n),utils.anyIsError(r,e,n)?error.value:t?jStat.negbin.cdf(r,e,n):jStat.negbin.pdf(r,e,n)},exports.NORM={},exports.NORM.DIST=function(r,e,n,t){return r=utils.parseNumber(r),e=utils.parseNumber(e),n=utils.parseNumber(n),utils.anyIsError(r,e,n)?error.value:0>=n?error.num:t?jStat.normal.cdf(r,e,n):jStat.normal.pdf(r,e,n)},exports.NORM.INV=function(r,e,n){return r=utils.parseNumber(r),e=utils.parseNumber(e),n=utils.parseNumber(n),utils.anyIsError(r,e,n)?error.value:jStat.normal.inv(r,e,n)},exports.NORM.S={},exports.NORM.S.DIST=function(r,e){return r=utils.parseNumber(r),r instanceof Error?error.value:e?jStat.normal.cdf(r,0,1):jStat.normal.pdf(r,0,1)},exports.NORM.S.INV=function(r){return r=utils.parseNumber(r),r instanceof Error?error.value:jStat.normal.inv(r,0,1)},exports.PEARSON=function(r,e){if(e=utils.parseNumberArray(utils.flatten(e)),r=utils.parseNumberArray(utils.flatten(r)),utils.anyIsError(e,r))return error.value;for(var n=jStat.mean(r),t=jStat.mean(e),u=r.length,i=0,a=0,o=0,s=0;u>s;s++)i+=(r[s]-n)*(e[s]-t),a+=Math.pow(r[s]-n,2),o+=Math.pow(e[s]-t,2);return i/Math.sqrt(a*o)},exports.PERCENTILE={},exports.PERCENTILE.EXC=function(r,e){if(r=utils.parseNumberArray(utils.flatten(r)),e=utils.parseNumber(e),utils.anyIsError(r,e))return error.value;r=r.sort(function(r,e){return r-e});var n=r.length;if(1/(n+1)>e||e>1-1/(n+1))return error.num;var t=e*(n+1)-1,u=Math.floor(t);return utils.cleanFloat(t===u?r[t]:r[u]+(t-u)*(r[u+1]-r[u]))},exports.PERCENTILE.INC=function(r,e){if(r=utils.parseNumberArray(utils.flatten(r)),e=utils.parseNumber(e),utils.anyIsError(r,e))return error.value;r=r.sort(function(r,e){return r-e});var n=r.length,t=e*(n-1),u=Math.floor(t);return utils.cleanFloat(t===u?r[t]:r[u]+(t-u)*(r[u+1]-r[u]))},exports.PERCENTRANK={},exports.PERCENTRANK.EXC=function(r,e,n){if(n=void 0===n?3:n,r=utils.parseNumberArray(utils.flatten(r)),e=utils.parseNumber(e),n=utils.parseNumber(n),utils.anyIsError(r,e,n))return error.value;r=r.sort(function(r,e){return r-e});for(var t=misc.UNIQUE.apply(null,r),u=r.length,i=t.length,a=Math.pow(10,n),o=0,s=!1,f=0;!s&&i>f;)e===t[f]?(o=(r.indexOf(t[f])+1)/(u+1),s=!0):e>=t[f]&&(e<t[f+1]||f===i-1)&&(o=(r.indexOf(t[f])+1+(e-t[f])/(t[f+1]-t[f]))/(u+1),s=!0),f++;return Math.floor(o*a)/a},exports.PERCENTRANK.INC=function(r,e,n){if(n=void 0===n?3:n,r=utils.parseNumberArray(utils.flatten(r)),e=utils.parseNumber(e),n=utils.parseNumber(n),utils.anyIsError(r,e,n))return error.value;r=r.sort(function(r,e){return r-e});for(var t=misc.UNIQUE.apply(null,r),u=r.length,i=t.length,a=Math.pow(10,n),o=0,s=!1,f=0;!s&&i>f;)e===t[f]?(o=r.indexOf(t[f])/(u-1),s=!0):e>=t[f]&&(e<t[f+1]||f===i-1)&&(o=(r.indexOf(t[f])+(e-t[f])/(t[f+1]-t[f]))/(u-1),s=!0),f++;return Math.floor(o*a)/a},exports.PERMUT=function(r,e){return r=utils.parseNumber(r),e=utils.parseNumber(e),utils.anyIsError(r,e)?error.value:mathTrig.FACT(r)/mathTrig.FACT(r-e)},exports.PERMUTATIONA=function(r,e){return r=utils.parseNumber(r),e=utils.parseNumber(e),utils.anyIsError(r,e)?error.value:Math.pow(r,e)},exports.PHI=function(r){return r=utils.parseNumber(r),r instanceof Error?error.value:Math.exp(-.5*r*r)/SQRT2PI},exports.POISSON={},exports.POISSON.DIST=function(r,e,n){return r=utils.parseNumber(r),e=utils.parseNumber(e),utils.anyIsError(r,e)?error.value:n?jStat.poisson.cdf(r,e):jStat.poisson.pdf(r,e)},exports.PROB=function(r,e,n,t){if(void 0===n)return 0;if(t=void 0===t?n:t,r=utils.parseNumberArray(utils.flatten(r)),e=utils.parseNumberArray(utils.flatten(e)),n=utils.parseNumber(n),t=utils.parseNumber(t),utils.anyIsError(r,e,n,t))return error.value;if(n===t)return r.indexOf(n)>=0?e[r.indexOf(n)]:0;for(var u=r.sort(function(r,e){return r-e}),i=u.length,a=0,o=0;i>o;o++)u[o]>=n&&u[o]<=t&&(a+=e[r.indexOf(u[o])]);return a},exports.QUARTILE={},exports.QUARTILE.EXC=function(r,e){if(r=utils.parseNumberArray(utils.flatten(r)),e=utils.parseNumber(e),utils.anyIsError(r,e))return error.value;switch(e){case 1:return exports.PERCENTILE.EXC(r,.25);case 2:return exports.PERCENTILE.EXC(r,.5);case 3:return exports.PERCENTILE.EXC(r,.75);default:return error.num}},exports.QUARTILE.INC=function(r,e){if(r=utils.parseNumberArray(utils.flatten(r)),e=utils.parseNumber(e),utils.anyIsError(r,e))return error.value;switch(e){case 1:return exports.PERCENTILE.INC(r,.25);case 2:return exports.PERCENTILE.INC(r,.5);case 3:return exports.PERCENTILE.INC(r,.75);default:return error.num}},exports.RANK={},exports.RANK.AVG=function(r,e,n){if(r=utils.parseNumber(r),e=utils.parseNumberArray(utils.flatten(e)),utils.anyIsError(r,e))return error.value;e=utils.flatten(e),n=n||!1;var t=n?function(r,e){return r-e}:function(r,e){return e-r};e=e.sort(t);for(var u=e.length,i=0,a=0;u>a;a++)e[a]===r&&i++;return i>1?(2*e.indexOf(r)+i+1)/2:e.indexOf(r)+1},exports.RANK.EQ=function(r,e,n){if(r=utils.parseNumber(r),e=utils.parseNumberArray(utils.flatten(e)),utils.anyIsError(r,e))return error.value;n=n||!1;var t=n?function(r,e){return r-e}:function(r,e){return e-r};return e=e.sort(t),e.indexOf(r)+1},exports.ROW=function(r,e){return 2!==arguments.length?error.na:0>e?error.num:r instanceof Array&&"number"==typeof e?0===r.length?void 0:jStat.row(r,e):error.value},exports.ROWS=function(r){return 1!==arguments.length?error.na:r instanceof Array?0===r.length?0:jStat.rows(r):error.value},exports.RSQ=function(r,e){return r=utils.parseNumberArray(utils.flatten(r)),e=utils.parseNumberArray(utils.flatten(e)),utils.anyIsError(r,e)?error.value:Math.pow(exports.PEARSON(r,e),2)},exports.SKEW=function(){var r=utils.parseNumberArray(utils.flatten(arguments));if(r instanceof Error)return r;for(var e=jStat.mean(r),n=r.length,t=0,u=0;n>u;u++)t+=Math.pow(r[u]-e,3);return n*t/((n-1)*(n-2)*Math.pow(jStat.stdev(r,!0),3))},exports.SKEW.P=function(){var r=utils.parseNumberArray(utils.flatten(arguments));if(r instanceof Error)return r;for(var e=jStat.mean(r),n=r.length,t=0,u=0,i=0;n>i;i++)u+=Math.pow(r[i]-e,3),t+=Math.pow(r[i]-e,2);return u/=n,t/=n,u/Math.pow(t,1.5)},exports.SLOPE=function(r,e){if(r=utils.parseNumberArray(utils.flatten(r)),e=utils.parseNumberArray(utils.flatten(e)),utils.anyIsError(r,e))return error.value;for(var n=jStat.mean(e),t=jStat.mean(r),u=e.length,i=0,a=0,o=0;u>o;o++)i+=(e[o]-n)*(r[o]-t),a+=Math.pow(e[o]-n,2);return i/a},exports.SMALL=function(r,e){return r=utils.parseNumberArray(utils.flatten(r)),e=utils.parseNumber(e),utils.anyIsError(r,e)?r:r.sort(function(r,e){return r-e})[e-1]},exports.STANDARDIZE=function(r,e,n){return r=utils.parseNumber(r),e=utils.parseNumber(e),n=utils.parseNumber(n),utils.anyIsError(r,e,n)?error.value:(r-e)/n},exports.STDEV={},exports.STDEV.P=function(){var r=exports.VAR.P.apply(this,arguments);return Math.sqrt(r)},exports.STDEV.S=function(){var r=exports.VAR.S.apply(this,arguments);return Math.sqrt(r)},exports.STDEVA=function(){var r=exports.VARA.apply(this,arguments);return Math.sqrt(r)},exports.STDEVPA=function(){var r=exports.VARPA.apply(this,arguments);return Math.sqrt(r)},exports.STEYX=function(r,e){if(r=utils.parseNumberArray(utils.flatten(r)),e=utils.parseNumberArray(utils.flatten(e)),utils.anyIsError(r,e))return error.value;for(var n=jStat.mean(e),t=jStat.mean(r),u=e.length,i=0,a=0,o=0,s=0;u>s;s++)i+=Math.pow(r[s]-t,2),a+=(e[s]-n)*(r[s]-t),o+=Math.pow(e[s]-n,2);return Math.sqrt((i-a*a/o)/(u-2))},exports.TRANSPOSE=function(r){return r?jStat.transpose(r):error.na},exports.T=text.T,exports.T.DIST=function(r,e,n){return r=utils.parseNumber(r),e=utils.parseNumber(e),utils.anyIsError(r,e)?error.value:n?jStat.studentt.cdf(r,e):jStat.studentt.pdf(r,e)},exports.T.DIST["2T"]=function(r,e){return 2!==arguments.length?error.na:0>r||1>e?error.num:"number"!=typeof r||"number"!=typeof e?error.value:2*(1-jStat.studentt.cdf(r,e))},exports.T.DIST.RT=function(r,e){return 2!==arguments.length?error.na:0>r||1>e?error.num:"number"!=typeof r||"number"!=typeof e?error.value:1-jStat.studentt.cdf(r,e)},exports.T.INV=function(r,e){return r=utils.parseNumber(r),e=utils.parseNumber(e),utils.anyIsError(r,e)?error.value:jStat.studentt.inv(r,e)},exports.T.INV["2T"]=function(r,e){return r=utils.parseNumber(r),e=utils.parseNumber(e),0>=r||r>1||1>e?error.num:utils.anyIsError(r,e)?error.value:Math.abs(jStat.studentt.inv(r/2,e))},exports.T.TEST=function(r,e){if(r=utils.parseNumberArray(utils.flatten(r)),e=utils.parseNumberArray(utils.flatten(e)),utils.anyIsError(r,e))return error.value;var n,t=jStat.mean(r),u=jStat.mean(e),i=0,a=0;for(n=0;n<r.length;n++)i+=Math.pow(r[n]-t,2);for(n=0;n<e.length;n++)a+=Math.pow(e[n]-u,2);i/=r.length-1,a/=e.length-1;var o=Math.abs(t-u)/Math.sqrt(i/r.length+a/e.length);return exports.T.DIST["2T"](o,r.length+e.length-2)},exports.TREND=function(r,e,n){if(r=utils.parseNumberArray(utils.flatten(r)),e=utils.parseNumberArray(utils.flatten(e)),n=utils.parseNumberArray(utils.flatten(n)),utils.anyIsError(r,e,n))return error.value;var t=exports.LINEST(r,e),u=t[0],i=t[1],a=[];return n.forEach(function(r){a.push(u*r+i)}),a},exports.TRIMMEAN=function(r,e){if(r=utils.parseNumberArray(utils.flatten(r)),e=utils.parseNumber(e),utils.anyIsError(r,e))return error.value;var n=mathTrig.FLOOR(r.length*e,2)/2;return jStat.mean(utils.initial(utils.rest(r.sort(function(r,e){return r-e}),n),n))},exports.VAR={},exports.VAR.P=function(){for(var r=utils.numbers(utils.flatten(arguments)),e=r.length,n=0,t=exports.AVERAGE(r),u=0;e>u;u++)n+=Math.pow(r[u]-t,2);return n/e},exports.VAR.S=function(){for(var r=utils.numbers(utils.flatten(arguments)),e=r.length,n=0,t=exports.AVERAGE(r),u=0;e>u;u++)n+=Math.pow(r[u]-t,2);return n/(e-1)},exports.VARA=function(){for(var r=utils.flatten(arguments),e=r.length,n=0,t=0,u=exports.AVERAGEA(r),i=0;e>i;i++){var a=r[i];n+="number"==typeof a?Math.pow(a-u,2):a===!0?Math.pow(1-u,2):Math.pow(0-u,2),null!==a&&t++}return n/(t-1)},exports.VARPA=function(){for(var r=utils.flatten(arguments),e=r.length,n=0,t=0,u=exports.AVERAGEA(r),i=0;e>i;i++){var a=r[i];n+="number"==typeof a?Math.pow(a-u,2):a===!0?Math.pow(1-u,2):Math.pow(0-u,2),null!==a&&t++}return n/t},exports.WEIBULL={},exports.WEIBULL.DIST=function(r,e,n,t){return r=utils.parseNumber(r),e=utils.parseNumber(e),n=utils.parseNumber(n),utils.anyIsError(r,e,n)?error.value:t?1-Math.exp(-Math.pow(r/n,e)):Math.pow(r,e-1)*Math.exp(-Math.pow(r/n,e))*e/Math.pow(n,e)},exports.Z={},exports.Z.TEST=function(r,e,n){if(r=utils.parseNumberArray(utils.flatten(r)),e=utils.parseNumber(e),utils.anyIsError(r,e))return error.value;n=n||exports.STDEV.S(r);var t=r.length;return 1-exports.NORM.S.DIST((exports.AVERAGE(r)-e)/(n/Math.sqrt(t)),!0)}},function(r,e,n){var t=n(14),u=n(17);e.UNIQUE=function(){for(var r=[],e=0;e<arguments.length;++e){for(var n=!1,t=arguments[e],u=0;u<r.length&&!(n=r[u]===t);++u);n||r.push(t)}return r},e.FLATTEN=t.flatten,e.ARGS2ARRAY=function(){return Array.prototype.slice.call(arguments,0)},e.REFERENCE=function(r,e){try{for(var n=e.split("."),t=r,u=0;u<n.length;++u){var i=n[u];if("]"===i[i.length-1]){var a=i.indexOf("["),o=i.substring(a+1,i.length-1);t=t[i.substring(0,a)][o]}else t=t[i]}return t}catch(s){}},e.JOIN=function(r,e){return r.join(e)},e.NUMBERS=function(){var r=t.flatten(arguments);return r.filter(function(r){return"number"==typeof r})},e.NUMERAL=function(r,e){return u(r).format(e)}},function(r,e){e.nil=new Error("#NULL!"),e.div0=new Error("#DIV/0!"),e.value=new Error("#VALUE?"),e.ref=new Error("#REF!"),e.name=new Error("#NAME?"),e.num=new Error("#NUM!"),e.na=new Error("#N/A"),e.error=new Error("#ERROR!"),e.data=new Error("#GETTING_DATA")},function(r,e,n){function t(r){return r&&r.reduce?r.reduce(function(r,e){var n=Array.isArray(r),t=Array.isArray(e);return n&&t?r.concat(e):n?(r.push(e),r):t?[r].concat(e):[r,e]}):r}function u(r){if(!r)return!1;for(var e=0;e<r.length;++e)if(Array.isArray(r[e]))return!1;return!0}var i=n(13);e.flatten=function(){for(var r=e.argsToArray.apply(null,arguments);!u(r);)r=t(r);return r},e.argsToArray=function(r){return Array.prototype.slice.call(r,0)},e.numbers=function(){var r=this.flatten.apply(null,arguments);return r.filter(function(r){return"number"==typeof r})},e.cleanFloat=function(r){var e=1e14;return Math.round(r*e)/e},e.parseBool=function(r){if("boolean"==typeof r)return r;if(r instanceof Error)return r;if("number"==typeof r)return 0!==r;if("string"==typeof r){var e=r.toUpperCase();if("TRUE"===e)return!0;if("FALSE"===e)return!1}return r instanceof Date&&!isNaN(r)?!0:i.value},e.parseNumber=function(r){return void 0===r||""===r?i.value:isNaN(r)?i.value:parseFloat(r)},e.parseNumberArray=function(r){var n;if(!r||0===(n=r.length))return i.value;for(var t;n--;){if(t=e.parseNumber(r[n]),t===i.value)return t;r[n]=t}return r},e.parseMatrix=function(r){var n;if(!r||0===(n=r.length))return i.value;for(var t,u=0;u<r.length;u++)if(t=e.parseNumberArray(r[u]),r[u]=t,t instanceof Error)return t;return r};var a=new Date(1900,0,1);e.parseDate=function(r){if(!isNaN(r)){if(r instanceof Date)return new Date(r);var e=parseInt(r,10);return 0>e?i.num:new Date(60>=e?a.getTime()+864e5*(e-1):a.getTime()+864e5*(e-2))}return"string"!=typeof r||(r=new Date(r),isNaN(r))?i.value:r},e.parseDateArray=function(r){for(var e,n=r.length;n--;){if(e=this.parseDate(r[n]),e===i.value)return e;r[n]=e}return r},e.anyIsError=function(){for(var r=arguments.length;r--;)if(arguments[r]instanceof Error)return!0;return!1},e.arrayValuesToNumbers=function(r){for(var e,n=r.length;n--;)if(e=r[n],"number"!=typeof e)if(e!==!0)if(e!==!1){if("string"==typeof e){var t=this.parseNumber(e);r[n]=t instanceof Error?0:t}}else r[n]=0;else r[n]=1;return r},e.rest=function(r,e){return e=e||1,r&&"function"==typeof r.slice?r.slice(e):r},e.initial=function(r,e){return e=e||1,r&&"function"==typeof r.slice?r.slice(0,r.length-e):r}},function(r,e){function n(r,e){return r.reduce(function(r,n){return e*r+n},0)}function t(r,e,n,t,u){u||(u=-1);var i,a=2/r;if(0===e)return n;if(1===e)return t;for(var o=1;o!=e;++o)i=t*o*a+u*n,n=t,t=i;return t}function u(r,e,n,u,i){return function(a,o){if(0===o)return r(a);if(1===o)return e(a);if(0>o)throw n+": Order ("+o+") must be nonnegative";if(1==u&&0===a)throw n+": Undefined when x == 0";if(2==u&&0>=a)throw n+": Undefined when x <= 0";var s=r(a),f=e(a);return t(a,o,s,f,i)}}var i=Math,a=function(){function r(r){var e,t,l,c=r*r,m=i.abs(r)-.785398164;return i.abs(r)<8?(t=n(u,c),l=n(a,c),e=t/l):(c=64/c,t=n(o,c),l=n(s,c),e=i.sqrt(f/i.abs(r))*(i.cos(m)*t-i.sin(m)*l*8/i.abs(r))),e}function e(r){var e,t,u,a=r*r,o=i.abs(r)-2.356194491;return Math.abs(r)<8?(t=r*n(l,a),u=n(c,a),e=t/u):(a=64/a,t=n(m,a),u=n(p,a),e=i.sqrt(f/i.abs(r))*(i.cos(o)*t-i.sin(o)*u*8/i.abs(r)),0>r&&(e=-e)),e}var u=[57568490574,-13362590354,651619640.7,-11214424.18,77392.33017,-184.9052456].reverse(),a=[57568490411,1029532985,9494680.718,59272.64853,267.8532712,1].reverse(),o=[1,-.001098628627,2734510407e-14,-2073370639e-15,2.093887211e-7].reverse(),s=[-.01562499995,.0001430488765,-6911147651e-15,7.621095161e-7,-9.34935152e-8].reverse(),f=.636619772,l=[72362614232,-7895059235,242396853.1,-2972611.439,15704.4826,-30.16036606].reverse(),c=[144725228442,2300535178,18583304.74,99447.43394,376.9991397,1].reverse(),m=[1,.00183105,-3516396496e-14,2457520174e-15,-2.40337019e-7].reverse(),p=[.04687499995,-.0002002690873,8449199096e-15,-8.8228987e-7,1.05787412e-7].reverse();
return function(n,u){if(u=Math.round(u),0===u)return r(i.abs(n));if(1===u)return e(i.abs(n));if(0>u)throw"BESSELJ: Order ("+u+") must be nonnegative";if(0===i.abs(n))return 0;var a,o,s,f,l,c,m,p,h=2/i.abs(n);if(i.abs(n)>u)a=t(n,u,r(i.abs(n)),e(i.abs(n)),-1);else{for(s=2*i.floor((u+i.floor(i.sqrt(40*u)))/2),f=0,c=a=l=0,m=1,o=s;o>0;o--)p=o*h*m-c,c=m,m=p,i.abs(m)>1e10&&(m*=1e-10,c*=1e-10,a*=1e-10,l*=1e-10),f&&(l+=m),f=!f,o==u&&(a=c);l=2*l-m,a/=l}return 0>n&&u%2?-a:a}}(),o=function(){function r(r){var e,u,c,m=r*r,p=r-.785398164;return 8>r?(u=n(t,m),c=n(o,m),e=u/c+l*a(r,0)*i.log(r)):(m=64/m,u=n(s,m),c=n(f,m),e=i.sqrt(l/r)*(i.sin(p)*u+i.cos(p)*c*8/r)),e}function e(r){var e,t,u,o=r*r,s=r-2.356194491;return 8>r?(t=r*n(c,o),u=n(m,o),e=t/u+l*(a(r,1)*i.log(r)-1/r)):(o=64/o,t=n(p,o),u=n(h,o),e=i.sqrt(l/r)*(i.sin(s)*t+i.cos(s)*u*8/r)),e}var t=[-2957821389,7062834065,-512359803.6,10879881.29,-86327.92757,228.4622733].reverse(),o=[40076544269,745249964.8,7189466.438,47447.2647,226.1030244,1].reverse(),s=[1,-.001098628627,2734510407e-14,-2073370639e-15,2.093887211e-7].reverse(),f=[-.01562499995,.0001430488765,-6911147651e-15,7.621095161e-7,-9.34945152e-8].reverse(),l=.636619772,c=[-4900604943e3,127527439e4,-51534381390,734926455.1,-4237922.726,8511.937935].reverse(),m=[249958057e5,424441966400,3733650367,22459040.02,102042.605,354.9632885,1].reverse(),p=[1,.00183105,-3516396496e-14,2457520174e-15,-2.40337019e-7].reverse(),h=[.04687499995,-.0002002690873,8449199096e-15,-8.8228987e-7,1.05787412e-7].reverse();return u(r,e,"BESSELY",1,-1)}(),s=function(){function r(r){return 3.75>=r?n(t,r*r/14.0625):i.exp(i.abs(r))/i.sqrt(i.abs(r))*n(u,3.75/i.abs(r))}function e(r){return 3.75>r?r*n(a,r*r/14.0625):(0>r?-1:1)*i.exp(i.abs(r))/i.sqrt(i.abs(r))*n(o,3.75/i.abs(r))}var t=[1,3.5156229,3.0899424,1.2067492,.2659732,.0360768,.0045813].reverse(),u=[.39894228,.01328592,.00225319,-.00157565,.00916281,-.02057706,.02635537,-.01647633,.00392377].reverse(),a=[.5,.87890594,.51498869,.15084934,.02658733,.00301532,32411e-8].reverse(),o=[.39894228,-.03988024,-.00362018,.00163801,-.01031555,.02282967,-.02895312,.01787654,-.00420059].reverse();return function s(n,t){if(t=Math.round(t),0===t)return r(n);if(1==t)return e(n);if(0>t)throw"BESSELI Order ("+t+") must be nonnegative";if(0===i.abs(n))return 0;var u,a,o,f,l,c,m=2/i.abs(n);for(o=2*i.round((t+i.round(i.sqrt(40*t)))/2),f=u=0,l=1,a=o;a>0;a--)c=a*m*l+f,f=l,l=c,i.abs(l)>1e10&&(l*=1e-10,f*=1e-10,u*=1e-10),a==t&&(u=f);return u*=s(n,0)/l,0>n&&t%2?-u:u}}(),f=function(){function r(r){return 2>=r?-i.log(r/2)*s(r,0)+n(t,r*r/4):i.exp(-r)/i.sqrt(r)*n(a,2/r)}function e(r){return 2>=r?i.log(r/2)*s(r,1)+1/r*n(o,r*r/4):i.exp(-r)/i.sqrt(r)*n(f,2/r)}var t=[-.57721566,.4227842,.23069756,.0348859,.00262698,1075e-7,74e-7].reverse(),a=[1.25331414,-.07832358,.02189568,-.01062446,.00587872,-.0025154,53208e-8].reverse(),o=[1,.15443144,-.67278579,-.18156897,-.01919402,-.00110404,-4686e-8].reverse(),f=[1.25331414,.23498619,-.0365562,.01504268,-.00780353,.00325614,-68245e-8].reverse();return u(r,e,"BESSELK",2,1)}();e.besselj=a,e.bessely=o,e.besseli=s,e.besselk=f},function(module,exports,__webpack_require__){(function(global){"use strict";var numeric=exports;"undefined"!=typeof global&&(global.numeric=numeric),numeric.version="1.2.6",numeric.bench=function(r,e){var n,t,u,i;for("undefined"==typeof e&&(e=15),u=.5,n=new Date;;){for(u*=2,i=u;i>3;i-=4)r(),r(),r(),r();for(;i>0;)r(),i--;if(t=new Date,t-n>e)break}for(i=u;i>3;i-=4)r(),r(),r(),r();for(;i>0;)r(),i--;return t=new Date,1e3*(3*u-1)/(t-n)},numeric._myIndexOf=function(r){var e,n=this.length;for(e=0;n>e;++e)if(this[e]===r)return e;return-1},numeric.myIndexOf=Array.prototype.indexOf?Array.prototype.indexOf:numeric._myIndexOf,numeric.Function=Function,numeric.precision=4,numeric.largeArray=50,numeric.prettyPrint=function(r){function e(r){if(0===r)return"0";if(isNaN(r))return"NaN";if(0>r)return"-"+e(-r);if(isFinite(r)){var n=Math.floor(Math.log(r)/Math.log(10)),t=r/Math.pow(10,n),u=t.toPrecision(numeric.precision);return 10===parseFloat(u)&&(n++,t=1,u=t.toPrecision(numeric.precision)),parseFloat(u).toString()+"e"+n.toString()}return"Infinity"}function n(r){var u;if("undefined"==typeof r)return t.push(Array(numeric.precision+8).join(" ")),!1;if("string"==typeof r)return t.push('"'+r+'"'),!1;if("boolean"==typeof r)return t.push(r.toString()),!1;if("number"==typeof r){var i=e(r),a=r.toPrecision(numeric.precision),o=parseFloat(r.toString()).toString(),s=[i,a,o,parseFloat(a).toString(),parseFloat(o).toString()];for(u=1;u<s.length;u++)s[u].length<i.length&&(i=s[u]);return t.push(Array(numeric.precision+8-i.length).join(" ")+i),!1}if(null===r)return t.push("null"),!1;if("function"==typeof r){t.push(r.toString());var f=!1;for(u in r)r.hasOwnProperty(u)&&(t.push(f?",\n":"\n{"),f=!0,t.push(u),t.push(": \n"),n(r[u]));return f&&t.push("}\n"),!0}if(r instanceof Array){if(r.length>numeric.largeArray)return t.push("...Large Array..."),!0;var f=!1;for(t.push("["),u=0;u<r.length;u++)u>0&&(t.push(","),f&&t.push("\n ")),f=n(r[u]);return t.push("]"),!0}t.push("{");var f=!1;for(u in r)r.hasOwnProperty(u)&&(f&&t.push(",\n"),f=!0,t.push(u),t.push(": \n"),n(r[u]));return t.push("}"),!0}var t=[];return n(r),t.join("")},numeric.parseDate=function(r){function e(r){if("string"==typeof r)return Date.parse(r.replace(/-/g,"/"));if(!(r instanceof Array))throw new Error("parseDate: parameter must be arrays of strings");var n,t=[];for(n=0;n<r.length;n++)t[n]=e(r[n]);return t}return e(r)},numeric.parseFloat=function(r){function e(r){if("string"==typeof r)return parseFloat(r);if(!(r instanceof Array))throw new Error("parseFloat: parameter must be arrays of strings");var n,t=[];for(n=0;n<r.length;n++)t[n]=e(r[n]);return t}return e(r)},numeric.parseCSV=function(r){var e,n,t=r.split("\n"),u=[],i=/(([^'",]*)|('[^']*')|("[^"]*")),/g,a=/^\s*(([+-]?[0-9]+(\.[0-9]*)?(e[+-]?[0-9]+)?)|([+-]?[0-9]*(\.[0-9]+)?(e[+-]?[0-9]+)?))\s*$/,o=function(r){return r.substr(0,r.length-1)},s=0;for(n=0;n<t.length;n++){var f,l=(t[n]+",").match(i);if(l.length>0){for(u[s]=[],e=0;e<l.length;e++)f=o(l[e]),u[s][e]=a.test(f)?parseFloat(f):f;s++}}return u},numeric.toCSV=function(r){var e,n,t,u,i,a,o=numeric.dim(r);for(t=o[0],u=o[1],a=[],e=0;t>e;e++){for(i=[],n=0;t>n;n++)i[n]=r[e][n].toString();a[e]=i.join(", ")}return a.join("\n")+"\n"},numeric.getURL=function(r){var e=new XMLHttpRequest;return e.open("GET",r,!1),e.send(),e},numeric.imageURL=function(r){function e(r){var e,n,t,u,i,a,o,s,f=r.length,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c="";for(e=0;f>e;e+=3)n=r[e],t=r[e+1],u=r[e+2],i=n>>2,a=((3&n)<<4)+(t>>4),o=((15&t)<<2)+(u>>6),s=63&u,e+1>=f?o=s=64:e+2>=f&&(s=64),c+=l.charAt(i)+l.charAt(a)+l.charAt(o)+l.charAt(s);return c}function n(r,e,n){"undefined"==typeof e&&(e=0),"undefined"==typeof n&&(n=r.length);{var t,u=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],i=-1,a=0;r.length}for(t=e;n>t;t++)a=255&(i^r[t]),i=i>>>8^u[a];return-1^i}var t,u,i,a,o,s,f,l,c,m,p=r[0].length,h=r[0][0].length,g=[137,80,78,71,13,10,26,10,0,0,0,13,73,72,68,82,h>>24&255,h>>16&255,h>>8&255,255&h,p>>24&255,p>>16&255,p>>8&255,255&p,8,2,0,0,0,-1,-2,-3,-4,-5,-6,-7,-8,73,68,65,84,8,29];for(m=n(g,12,29),g[29]=m>>24&255,g[30]=m>>16&255,g[31]=m>>8&255,g[32]=255&m,t=1,u=0,f=0;p>f;f++){for(g.push(p-1>f?0:1),o=3*h+1+(0===f)&255,s=3*h+1+(0===f)>>8&255,g.push(o),g.push(s),g.push(255&~o),g.push(255&~s),0===f&&g.push(0),l=0;h>l;l++)for(i=0;3>i;i++)o=r[i][f][l],o=o>255?255:0>o?0:Math.round(o),t=(t+o)%65521,u=(u+t)%65521,g.push(o);g.push(0)}return c=(u<<16)+t,g.push(c>>24&255),g.push(c>>16&255),g.push(c>>8&255),g.push(255&c),a=g.length-41,g[33]=a>>24&255,g[34]=a>>16&255,g[35]=a>>8&255,g[36]=255&a,m=n(g,37),g.push(m>>24&255),g.push(m>>16&255),g.push(m>>8&255),g.push(255&m),g.push(0),g.push(0),g.push(0),g.push(0),g.push(73),g.push(69),g.push(78),g.push(68),g.push(174),g.push(66),g.push(96),g.push(130),"data:image/png;base64,"+e(g)},numeric._dim=function(r){for(var e=[];"object"==typeof r;)e.push(r.length),r=r[0];return e},numeric.dim=function(r){var e,n;return"object"==typeof r?(e=r[0],"object"==typeof e?(n=e[0],"object"==typeof n?numeric._dim(r):[r.length,e.length]):[r.length]):[]},numeric.mapreduce=function(r,e){return Function("x","accum","_s","_k",'if(typeof accum === "undefined") accum = '+e+';\nif(typeof x === "number") { var xi = x; '+r+'; return accum; }\nif(typeof _s === "undefined") _s = numeric.dim(x);\nif(typeof _k === "undefined") _k = 0;\nvar _n = _s[_k];\nvar i,xi;\nif(_k < _s.length-1) {\n    for(i=_n-1;i>=0;i--) {\n        accum = arguments.callee(x[i],accum,_s,_k+1);\n    }    return accum;\n}\nfor(i=_n-1;i>=1;i-=2) { \n    xi = x[i];\n    '+r+";\n    xi = x[i-1];\n    "+r+";\n}\nif(i === 0) {\n    xi = x[i];\n    "+r+"\n}\nreturn accum;")},numeric.mapreduce2=function(r,e){return Function("x","var n = x.length;\nvar i,xi;\n"+e+";\nfor(i=n-1;i!==-1;--i) { \n    xi = x[i];\n    "+r+";\n}\nreturn accum;")},numeric.same=function r(e,n){var t,u;if(!(e instanceof Array&&n instanceof Array))return!1;if(u=e.length,u!==n.length)return!1;for(t=0;u>t;t++)if(e[t]!==n[t]){if("object"!=typeof e[t])return!1;if(!r(e[t],n[t]))return!1}return!0},numeric.rep=function(r,e,n){"undefined"==typeof n&&(n=0);var t,u=r[n],i=Array(u);if(n===r.length-1){for(t=u-2;t>=0;t-=2)i[t+1]=e,i[t]=e;return-1===t&&(i[0]=e),i}for(t=u-1;t>=0;t--)i[t]=numeric.rep(r,e,n+1);return i},numeric.dotMMsmall=function(r,e){var n,t,u,i,a,o,s,f,l,c,m;for(i=r.length,a=e.length,o=e[0].length,s=Array(i),n=i-1;n>=0;n--){for(f=Array(o),l=r[n],u=o-1;u>=0;u--){for(c=l[a-1]*e[a-1][u],t=a-2;t>=1;t-=2)m=t-1,c+=l[t]*e[t][u]+l[m]*e[m][u];0===t&&(c+=l[0]*e[0][u]),f[u]=c}s[n]=f}return s},numeric._getCol=function(r,e,n){var t,u=r.length;for(t=u-1;t>0;--t)n[t]=r[t][e],--t,n[t]=r[t][e];0===t&&(n[0]=r[0][e])},numeric.dotMMbig=function(r,e){var n,t,u,i,a=numeric._getCol,o=e.length,s=Array(o),f=r.length,l=e[0].length,c=new Array(f),m=numeric.dotVV;for(--o,--f,t=f;-1!==t;--t)c[t]=Array(l);for(--l,t=l;-1!==t;--t)for(a(e,t,s),u=f;-1!==u;--u)i=0,n=r[u],c[u][t]=m(n,s);return c},numeric.dotMV=function(r,e){var n,t=r.length,u=(e.length,Array(t)),i=numeric.dotVV;for(n=t-1;n>=0;n--)u[n]=i(r[n],e);return u},numeric.dotVM=function(r,e){var n,t,u,i,a,o,s;for(u=r.length,i=e[0].length,a=Array(i),t=i-1;t>=0;t--){for(o=r[u-1]*e[u-1][t],n=u-2;n>=1;n-=2)s=n-1,o+=r[n]*e[n][t]+r[s]*e[s][t];0===n&&(o+=r[0]*e[0][t]),a[t]=o}return a},numeric.dotVV=function(r,e){var n,t,u=r.length,i=r[u-1]*e[u-1];for(n=u-2;n>=1;n-=2)t=n-1,i+=r[n]*e[n]+r[t]*e[t];return 0===n&&(i+=r[0]*e[0]),i},numeric.dot=function(r,e){var n=numeric.dim;switch(1e3*n(r).length+n(e).length){case 2002:return e.length<10?numeric.dotMMsmall(r,e):numeric.dotMMbig(r,e);case 2001:return numeric.dotMV(r,e);case 1002:return numeric.dotVM(r,e);case 1001:return numeric.dotVV(r,e);case 1e3:return numeric.mulVS(r,e);case 1:return numeric.mulSV(r,e);case 0:return r*e;default:throw new Error("numeric.dot only works on vectors and matrices")}},numeric.diag=function(r){var e,n,t,u,i=r.length,a=Array(i);for(e=i-1;e>=0;e--){for(u=Array(i),n=e+2,t=i-1;t>=n;t-=2)u[t]=0,u[t-1]=0;for(t>e&&(u[t]=0),u[e]=r[e],t=e-1;t>=1;t-=2)u[t]=0,u[t-1]=0;0===t&&(u[0]=0),a[e]=u}return a},numeric.getDiag=function(r){var e,n=Math.min(r.length,r[0].length),t=Array(n);for(e=n-1;e>=1;--e)t[e]=r[e][e],--e,t[e]=r[e][e];return 0===e&&(t[0]=r[0][0]),t},numeric.identity=function(r){return numeric.diag(numeric.rep([r],1))},numeric.pointwise=function(r,e,n){"undefined"==typeof n&&(n="");var t,u,i=[],a=/\[i\]$/,o="",s=!1;for(t=0;t<r.length;t++)a.test(r[t])?(u=r[t].substring(0,r[t].length-3),o=u):u=r[t],"ret"===u&&(s=!0),i.push(u);return i[r.length]="_s",i[r.length+1]="_k",i[r.length+2]='if(typeof _s === "undefined") _s = numeric.dim('+o+');\nif(typeof _k === "undefined") _k = 0;\nvar _n = _s[_k];\nvar i'+(s?"":", ret = Array(_n)")+";\nif(_k < _s.length-1) {\n    for(i=_n-1;i>=0;i--) ret[i] = arguments.callee("+r.join(",")+",_s,_k+1);\n    return ret;\n}\n"+n+"\nfor(i=_n-1;i!==-1;--i) {\n    "+e+"\n}\nreturn ret;",Function.apply(null,i)},numeric.pointwise2=function(r,e,n){"undefined"==typeof n&&(n="");var t,u,i=[],a=/\[i\]$/,o="",s=!1;for(t=0;t<r.length;t++)a.test(r[t])?(u=r[t].substring(0,r[t].length-3),o=u):u=r[t],"ret"===u&&(s=!0),i.push(u);return i[r.length]="var _n = "+o+".length;\nvar i"+(s?"":", ret = Array(_n)")+";\n"+n+"\nfor(i=_n-1;i!==-1;--i) {\n"+e+"\n}\nreturn ret;",Function.apply(null,i)},numeric._biforeach=function e(r,n,t,u,i){if(u===t.length-1)return void i(r,n);var a,o=t[u];for(a=o-1;a>=0;a--)e("object"==typeof r?r[a]:r,"object"==typeof n?n[a]:n,t,u+1,i)},numeric._biforeach2=function n(r,e,t,u,i){if(u===t.length-1)return i(r,e);var a,o=t[u],s=Array(o);for(a=o-1;a>=0;--a)s[a]=n("object"==typeof r?r[a]:r,"object"==typeof e?e[a]:e,t,u+1,i);return s},numeric._foreach=function t(r,e,n,u){if(n===e.length-1)return void u(r);var i,a=e[n];for(i=a-1;i>=0;i--)t(r[i],e,n+1,u)},numeric._foreach2=function u(r,e,n,t){if(n===e.length-1)return t(r);var i,a=e[n],o=Array(a);for(i=a-1;i>=0;i--)o[i]=u(r[i],e,n+1,t);return o},numeric.ops2={add:"+",sub:"-",mul:"*",div:"/",mod:"%",and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">=",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"},numeric.opseq={addeq:"+=",subeq:"-=",muleq:"*=",diveq:"/=",modeq:"%=",lshifteq:"<<=",rshifteq:">>=",rrshifteq:">>>=",bandeq:"&=",boreq:"|=",bxoreq:"^="},numeric.mathfuns=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan","isNaN","isFinite"],numeric.mathfuns2=["atan2","pow","max","min"],numeric.ops1={neg:"-",not:"!",bnot:"~",clone:""},numeric.mapreducers={any:["if(xi) return true;","var accum = false;"],all:["if(!xi) return false;","var accum = true;"],sum:["accum += xi;","var accum = 0;"],prod:["accum *= xi;","var accum = 1;"],norm2Squared:["accum += xi*xi;","var accum = 0;"],norminf:["accum = max(accum,abs(xi));","var accum = 0, max = Math.max, abs = Math.abs;"],norm1:["accum += abs(xi)","var accum = 0, abs = Math.abs;"],sup:["accum = max(accum,xi);","var accum = -Infinity, max = Math.max;"],inf:["accum = min(accum,xi);","var accum = Infinity, min = Math.min;"]},function(){var r,e;for(r=0;r<numeric.mathfuns2.length;++r)e=numeric.mathfuns2[r],numeric.ops2[e]=e;for(r in numeric.ops2)if(numeric.ops2.hasOwnProperty(r)){e=numeric.ops2[r];var n,t,u="";-1!==numeric.myIndexOf.call(numeric.mathfuns2,r)?(u="var "+e+" = Math."+e+";\n",n=function(r,n,t){return r+" = "+e+"("+n+","+t+")"},t=function(r,n){return r+" = "+e+"("+r+","+n+")"}):(n=function(r,n,t){return r+" = "+n+" "+e+" "+t},t=numeric.opseq.hasOwnProperty(r+"eq")?function(r,n){return r+" "+e+"= "+n}:function(r,n){return r+" = "+r+" "+e+" "+n}),numeric[r+"VV"]=numeric.pointwise2(["x[i]","y[i]"],n("ret[i]","x[i]","y[i]"),u),numeric[r+"SV"]=numeric.pointwise2(["x","y[i]"],n("ret[i]","x","y[i]"),u),numeric[r+"VS"]=numeric.pointwise2(["x[i]","y"],n("ret[i]","x[i]","y"),u),numeric[r]=Function("var n = arguments.length, i, x = arguments[0], y;\nvar VV = numeric."+r+"VV, VS = numeric."+r+"VS, SV = numeric."+r+'SV;\nvar dim = numeric.dim;\nfor(i=1;i!==n;++i) { \n  y = arguments[i];\n  if(typeof x === "object") {\n      if(typeof y === "object") x = numeric._biforeach2(x,y,dim(x),0,VV);\n      else x = numeric._biforeach2(x,y,dim(x),0,VS);\n  } else if(typeof y === "object") x = numeric._biforeach2(x,y,dim(y),0,SV);\n  else '+t("x","y")+"\n}\nreturn x;\n"),numeric[e]=numeric[r],numeric[r+"eqV"]=numeric.pointwise2(["ret[i]","x[i]"],t("ret[i]","x[i]"),u),numeric[r+"eqS"]=numeric.pointwise2(["ret[i]","x"],t("ret[i]","x"),u),numeric[r+"eq"]=Function("var n = arguments.length, i, x = arguments[0], y;\nvar V = numeric."+r+"eqV, S = numeric."+r+'eqS\nvar s = numeric.dim(x);\nfor(i=1;i!==n;++i) { \n  y = arguments[i];\n  if(typeof y === "object") numeric._biforeach(x,y,s,0,V);\n  else numeric._biforeach(x,y,s,0,S);\n}\nreturn x;\n')}for(r=0;r<numeric.mathfuns2.length;++r)e=numeric.mathfuns2[r],delete numeric.ops2[e];for(r=0;r<numeric.mathfuns.length;++r)e=numeric.mathfuns[r],numeric.ops1[e]=e;for(r in numeric.ops1)numeric.ops1.hasOwnProperty(r)&&(u="",e=numeric.ops1[r],-1!==numeric.myIndexOf.call(numeric.mathfuns,r)&&Math.hasOwnProperty(e)&&(u="var "+e+" = Math."+e+";\n"),numeric[r+"eqV"]=numeric.pointwise2(["ret[i]"],"ret[i] = "+e+"(ret[i]);",u),numeric[r+"eq"]=Function("x",'if(typeof x !== "object") return '+e+"x\nvar i;\nvar V = numeric."+r+"eqV;\nvar s = numeric.dim(x);\nnumeric._foreach(x,s,0,V);\nreturn x;\n"),numeric[r+"V"]=numeric.pointwise2(["x[i]"],"ret[i] = "+e+"(x[i]);",u),numeric[r]=Function("x",'if(typeof x !== "object") return '+e+"(x)\nvar i;\nvar V = numeric."+r+"V;\nvar s = numeric.dim(x);\nreturn numeric._foreach2(x,s,0,V);\n"));for(r=0;r<numeric.mathfuns.length;++r)e=numeric.mathfuns[r],delete numeric.ops1[e];for(r in numeric.mapreducers)numeric.mapreducers.hasOwnProperty(r)&&(e=numeric.mapreducers[r],numeric[r+"V"]=numeric.mapreduce2(e[0],e[1]),numeric[r]=Function("x","s","k",e[1]+'if(typeof x !== "object") {    xi = x;\n'+e[0]+';\n    return accum;\n}if(typeof s === "undefined") s = numeric.dim(x);\nif(typeof k === "undefined") k = 0;\nif(k === s.length-1) return numeric.'+r+"V(x);\nvar xi;\nvar n = x.length, i;\nfor(i=n-1;i!==-1;--i) {\n   xi = arguments.callee(x[i]);\n"+e[0]+";\n}\nreturn accum;\n"))}(),numeric.truncVV=numeric.pointwise(["x[i]","y[i]"],"ret[i] = round(x[i]/y[i])*y[i];","var round = Math.round;"),numeric.truncVS=numeric.pointwise(["x[i]","y"],"ret[i] = round(x[i]/y)*y;","var round = Math.round;"),numeric.truncSV=numeric.pointwise(["x","y[i]"],"ret[i] = round(x/y[i])*y[i];","var round = Math.round;"),numeric.trunc=function(r,e){return"object"==typeof r?"object"==typeof e?numeric.truncVV(r,e):numeric.truncVS(r,e):"object"==typeof e?numeric.truncSV(r,e):Math.round(r/e)*e},numeric.inv=function(r){var e,n,t,u,i,a,o,r,s=numeric.dim(r),f=Math.abs,l=s[0],c=s[1],m=numeric.clone(r),p=numeric.identity(l);for(a=0;c>a;++a){var h=-1,g=-1;for(i=a;i!==l;++i)o=f(m[i][a]),o>g&&(h=i,g=o);for(n=m[h],m[h]=m[a],m[a]=n,u=p[h],p[h]=p[a],p[a]=u,r=n[a],o=a;o!==c;++o)n[o]/=r;for(o=c-1;-1!==o;--o)u[o]/=r;for(i=l-1;-1!==i;--i)if(i!==a){for(e=m[i],t=p[i],r=e[a],o=a+1;o!==c;++o)e[o]-=n[o]*r;for(o=c-1;o>0;--o)t[o]-=u[o]*r,--o,t[o]-=u[o]*r;0===o&&(t[0]-=u[0]*r)}}return p},numeric.det=function(r){var e=numeric.dim(r);if(2!==e.length||e[0]!==e[1])throw new Error("numeric: det() only works on square matrices");var n,t,u,i,a,o,s,f,l=e[0],c=1,m=numeric.clone(r);for(t=0;l-1>t;t++){for(u=t,n=t+1;l>n;n++)Math.abs(m[n][t])>Math.abs(m[u][t])&&(u=n);for(u!==t&&(s=m[u],m[u]=m[t],m[t]=s,c*=-1),i=m[t],n=t+1;l>n;n++){for(a=m[n],o=a[t]/i[t],u=t+1;l-1>u;u+=2)f=u+1,a[u]-=i[u]*o,a[f]-=i[f]*o;u!==l&&(a[u]-=i[u]*o)}if(0===i[t])return 0;c*=i[t]}return c*m[t][t]},numeric.transpose=function(r){var e,n,t,u,i,a=r.length,o=r[0].length,s=Array(o);for(n=0;o>n;n++)s[n]=Array(a);for(e=a-1;e>=1;e-=2){for(u=r[e],t=r[e-1],n=o-1;n>=1;--n)i=s[n],i[e]=u[n],i[e-1]=t[n],--n,i=s[n],i[e]=u[n],i[e-1]=t[n];0===n&&(i=s[0],i[e]=u[0],i[e-1]=t[0])}if(0===e){for(t=r[0],n=o-1;n>=1;--n)s[n][0]=t[n],--n,s[n][0]=t[n];0===n&&(s[0][0]=t[0])}return s},numeric.negtranspose=function(r){var e,n,t,u,i,a=r.length,o=r[0].length,s=Array(o);for(n=0;o>n;n++)s[n]=Array(a);for(e=a-1;e>=1;e-=2){for(u=r[e],t=r[e-1],n=o-1;n>=1;--n)i=s[n],i[e]=-u[n],i[e-1]=-t[n],--n,i=s[n],i[e]=-u[n],i[e-1]=-t[n];0===n&&(i=s[0],i[e]=-u[0],i[e-1]=-t[0])}if(0===e){for(t=r[0],n=o-1;n>=1;--n)s[n][0]=-t[n],--n,s[n][0]=-t[n];0===n&&(s[0][0]=-t[0])}return s},numeric._random=function i(r,e){var n,t,u=r[e],a=Array(u);if(e===r.length-1){for(t=Math.random,n=u-1;n>=1;n-=2)a[n]=t(),a[n-1]=t();return 0===n&&(a[0]=t()),a}for(n=u-1;n>=0;n--)a[n]=i(r,e+1);return a},numeric.random=function(r){return numeric._random(r,0)},numeric.norm2=function(r){return Math.sqrt(numeric.norm2Squared(r))},numeric.linspace=function(r,e,n){if("undefined"==typeof n&&(n=Math.max(Math.round(e-r)+1,1)),2>n)return 1===n?[r]:[];var t,u=Array(n);for(n--,t=n;t>=0;t--)u[t]=(t*e+(n-t)*r)/n;return u},numeric.getBlock=function(r,e,n){function t(r,i){var a,o=e[i],s=n[i]-o,f=Array(s);if(i===u.length-1){for(a=s;a>=0;a--)f[a]=r[a+o];return f}for(a=s;a>=0;a--)f[a]=t(r[a+o],i+1);return f}var u=numeric.dim(r);return t(r,0)},numeric.setBlock=function(r,e,n,t){function u(r,t,a){var o,s=e[a],f=n[a]-s;if(a===i.length-1)for(o=f;o>=0;o--)r[o+s]=t[o];for(o=f;o>=0;o--)u(r[o+s],t[o],a+1)}var i=numeric.dim(r);return u(r,t,0),r},numeric.getRange=function(r,e,n){var t,u,i,a,o=e.length,s=n.length,f=Array(o);for(t=o-1;-1!==t;--t)for(f[t]=Array(s),i=f[t],a=r[e[t]],u=s-1;-1!==u;--u)i[u]=a[n[u]];return f},numeric.blockMatrix=function(r){var e=numeric.dim(r);if(e.length<4)return numeric.blockMatrix([r]);var n,t,u,i,a,o=e[0],s=e[1];for(n=0,t=0,u=0;o>u;++u)n+=r[u][0].length;for(i=0;s>i;++i)t+=r[0][i][0].length;var f=Array(n);for(u=0;n>u;++u)f[u]=Array(t);var l,c,m,p,h,g=0;for(u=0;o>u;++u){for(l=t,i=s-1;-1!==i;--i)for(a=r[u][i],l-=a[0].length,m=a.length-1;-1!==m;--m)for(h=a[m],c=f[g+m],p=h.length-1;-1!==p;--p)c[l+p]=h[p];g+=r[u][0].length}return f},numeric.tensor=function(r,e){if("number"==typeof r||"number"==typeof e)return numeric.mul(r,e);var n=numeric.dim(r),t=numeric.dim(e);if(1!==n.length||1!==t.length)throw new Error("numeric: tensor product is only defined for vectors");var u,i,a,o,s=n[0],f=t[0],l=Array(s);for(i=s-1;i>=0;i--){for(u=Array(f),o=r[i],a=f-1;a>=3;--a)u[a]=o*e[a],--a,u[a]=o*e[a],--a,u[a]=o*e[a],--a,u[a]=o*e[a];for(;a>=0;)u[a]=o*e[a],--a;l[i]=u}return l},numeric.T=function(r,e){this.x=r,this.y=e},numeric.t=function(r,e){return new numeric.T(r,e)},numeric.Tbinop=function(r,e,n,t,u){numeric.indexOf;if("string"!=typeof u){var i;u="";for(i in numeric)numeric.hasOwnProperty(i)&&(r.indexOf(i)>=0||e.indexOf(i)>=0||n.indexOf(i)>=0||t.indexOf(i)>=0)&&i.length>1&&(u+="var "+i+" = numeric."+i+";\n")}return Function(["y"],"var x = this;\nif(!(y instanceof numeric.T)) { y = new numeric.T(y); }\n"+u+"\nif(x.y) {  if(y.y) {    return new numeric.T("+t+");\n  }\n  return new numeric.T("+n+");\n}\nif(y.y) {\n  return new numeric.T("+e+");\n}\nreturn new numeric.T("+r+");\n")},numeric.T.prototype.add=numeric.Tbinop("add(x.x,y.x)","add(x.x,y.x),y.y","add(x.x,y.x),x.y","add(x.x,y.x),add(x.y,y.y)"),numeric.T.prototype.sub=numeric.Tbinop("sub(x.x,y.x)","sub(x.x,y.x),neg(y.y)","sub(x.x,y.x),x.y","sub(x.x,y.x),sub(x.y,y.y)"),numeric.T.prototype.mul=numeric.Tbinop("mul(x.x,y.x)","mul(x.x,y.x),mul(x.x,y.y)","mul(x.x,y.x),mul(x.y,y.x)","sub(mul(x.x,y.x),mul(x.y,y.y)),add(mul(x.x,y.y),mul(x.y,y.x))"),numeric.T.prototype.reciprocal=function(){var r=numeric.mul,e=numeric.div;if(this.y){var n=numeric.add(r(this.x,this.x),r(this.y,this.y));return new numeric.T(e(this.x,n),e(numeric.neg(this.y),n))}return new T(e(1,this.x))},numeric.T.prototype.div=function a(r){if(r instanceof numeric.T||(r=new numeric.T(r)),r.y)return this.mul(r.reciprocal());var a=numeric.div;return this.y?new numeric.T(a(this.x,r.x),a(this.y,r.x)):new numeric.T(a(this.x,r.x))},numeric.T.prototype.dot=numeric.Tbinop("dot(x.x,y.x)","dot(x.x,y.x),dot(x.x,y.y)","dot(x.x,y.x),dot(x.y,y.x)","sub(dot(x.x,y.x),dot(x.y,y.y)),add(dot(x.x,y.y),dot(x.y,y.x))"),numeric.T.prototype.transpose=function(){var r=numeric.transpose,e=this.x,n=this.y;return n?new numeric.T(r(e),r(n)):new numeric.T(r(e))},numeric.T.prototype.transjugate=function(){var r=numeric.transpose,e=this.x,n=this.y;return n?new numeric.T(r(e),numeric.negtranspose(n)):new numeric.T(r(e))},numeric.Tunop=function(r,e,n){return"string"!=typeof n&&(n=""),Function("var x = this;\n"+n+"\nif(x.y) {  "+e+";\n}\n"+r+";\n")},numeric.T.prototype.exp=numeric.Tunop("return new numeric.T(ex)","return new numeric.T(mul(cos(x.y),ex),mul(sin(x.y),ex))","var ex = numeric.exp(x.x), cos = numeric.cos, sin = numeric.sin, mul = numeric.mul;"),numeric.T.prototype.conj=numeric.Tunop("return new numeric.T(x.x);","return new numeric.T(x.x,numeric.neg(x.y));"),numeric.T.prototype.neg=numeric.Tunop("return new numeric.T(neg(x.x));","return new numeric.T(neg(x.x),neg(x.y));","var neg = numeric.neg;"),numeric.T.prototype.sin=numeric.Tunop("return new numeric.T(numeric.sin(x.x))","return x.exp().sub(x.neg().exp()).div(new numeric.T(0,2));"),numeric.T.prototype.cos=numeric.Tunop("return new numeric.T(numeric.cos(x.x))","return x.exp().add(x.neg().exp()).div(2);"),numeric.T.prototype.abs=numeric.Tunop("return new numeric.T(numeric.abs(x.x));","return new numeric.T(numeric.sqrt(numeric.add(mul(x.x,x.x),mul(x.y,x.y))));","var mul = numeric.mul;"),numeric.T.prototype.log=numeric.Tunop("return new numeric.T(numeric.log(x.x));","var theta = new numeric.T(numeric.atan2(x.y,x.x)), r = x.abs();\nreturn new numeric.T(numeric.log(r.x),theta.x);"),numeric.T.prototype.norm2=numeric.Tunop("return numeric.norm2(x.x);","var f = numeric.norm2Squared;\nreturn Math.sqrt(f(x.x)+f(x.y));"),numeric.T.prototype.inv=function(){var r=this;if("undefined"==typeof r.y)return new numeric.T(numeric.inv(r.x));var e,n,t,u,i,a,o,s,f,l,c,e,n,t,m,p,h,g,v,d,y,b=r.x.length,N=numeric.identity(b),E=numeric.rep([b,b],0),x=numeric.clone(r.x),M=numeric.clone(r.y);for(e=0;b>e;e++){for(h=x[e][e],g=M[e][e],m=h*h+g*g,t=e,n=e+1;b>n;n++)h=x[n][e],g=M[n][e],p=h*h+g*g,p>m&&(t=n,m=p);for(t!==e&&(y=x[e],x[e]=x[t],x[t]=y,y=M[e],M[e]=M[t],M[t]=y,y=N[e],N[e]=N[t],N[t]=y,y=E[e],E[e]=E[t],E[t]=y),u=x[e],i=M[e],s=N[e],f=E[e],h=u[e],g=i[e],n=e+1;b>n;n++)v=u[n],d=i[n],u[n]=(v*h+d*g)/m,i[n]=(d*h-v*g)/m;for(n=0;b>n;n++)v=s[n],d=f[n],s[n]=(v*h+d*g)/m,f[n]=(d*h-v*g)/m;for(n=e+1;b>n;n++){for(a=x[n],o=M[n],l=N[n],c=E[n],h=a[e],g=o[e],t=e+1;b>t;t++)v=u[t],d=i[t],a[t]-=v*h-d*g,o[t]-=d*h+v*g;for(t=0;b>t;t++)v=s[t],d=f[t],l[t]-=v*h-d*g,c[t]-=d*h+v*g}}for(e=b-1;e>0;e--)for(s=N[e],f=E[e],n=e-1;n>=0;n--)for(l=N[n],c=E[n],h=x[n][e],g=M[n][e],t=b-1;t>=0;t--)v=s[t],d=f[t],l[t]-=h*v-g*d,c[t]-=h*d+g*v;return new numeric.T(N,E)},numeric.T.prototype.get=function(r){var e,n=this.x,t=this.y,u=0,i=r.length;if(t){for(;i>u;)e=r[u],n=n[e],t=t[e],u++;return new numeric.T(n,t)}for(;i>u;)e=r[u],n=n[e],u++;return new numeric.T(n)},numeric.T.prototype.set=function(r,e){var n,t=this.x,u=this.y,i=0,a=r.length,o=e.x,s=e.y;if(0===a)return s?this.y=s:u&&(this.y=void 0),this.x=t,this;if(s){for(u||(u=numeric.rep(numeric.dim(t),0),this.y=u);a-1>i;)n=r[i],t=t[n],u=u[n],i++;return n=r[i],t[n]=o,u[n]=s,this}if(u){for(;a-1>i;)n=r[i],t=t[n],u=u[n],i++;return n=r[i],t[n]=o,u[n]=o instanceof Array?numeric.rep(numeric.dim(o),0):0,this}for(;a-1>i;)n=r[i],t=t[n],i++;return n=r[i],t[n]=o,this},numeric.T.prototype.getRows=function(r,e){var n,t,u=e-r+1,i=Array(u),a=this.x,o=this.y;for(n=r;e>=n;n++)i[n-r]=a[n];if(o){for(t=Array(u),n=r;e>=n;n++)t[n-r]=o[n];return new numeric.T(i,t)}return new numeric.T(i)},numeric.T.prototype.setRows=function(r,e,n){var t,u=this.x,i=this.y,a=n.x,o=n.y;for(t=r;e>=t;t++)u[t]=a[t-r];if(o)for(i||(i=numeric.rep(numeric.dim(u),0),this.y=i),t=r;e>=t;t++)i[t]=o[t-r];else if(i)for(t=r;e>=t;t++)i[t]=numeric.rep([a[t-r].length],0);return this},numeric.T.prototype.getRow=function(r){var e=this.x,n=this.y;return n?new numeric.T(e[r],n[r]):new numeric.T(e[r])},numeric.T.prototype.setRow=function(r,e){var n=this.x,t=this.y,u=e.x,i=e.y;return n[r]=u,i?(t||(t=numeric.rep(numeric.dim(n),0),this.y=t),t[r]=i):t&&(t=numeric.rep([u.length],0)),this},numeric.T.prototype.getBlock=function(r,e){var n=this.x,t=this.y,u=numeric.getBlock;return t?new numeric.T(u(n,r,e),u(t,r,e)):new numeric.T(u(n,r,e))},numeric.T.prototype.setBlock=function(r,e,n){n instanceof numeric.T||(n=new numeric.T(n));var t=this.x,u=this.y,i=numeric.setBlock,a=n.x,o=n.y;return o?(u||(this.y=numeric.rep(numeric.dim(this),0),u=this.y),i(t,r,e,a),i(u,r,e,o),this):(i(t,r,e,a),void(u&&i(u,r,e,numeric.rep(numeric.dim(a),0))))},numeric.T.rep=function(r,e){var n=numeric.T;e instanceof n||(e=new n(e));var t=e.x,u=e.y,i=numeric.rep;return u?new n(i(r,t),i(r,u)):new n(i(r,t))},numeric.T.diag=function o(r){r instanceof numeric.T||(r=new numeric.T(r));var e=r.x,n=r.y,o=numeric.diag;return n?new numeric.T(o(e),o(n)):new numeric.T(o(e))},numeric.T.eig=function(){if(this.y)throw new Error("eig: not implemented for complex matrices.");return numeric.eig(this.x)},numeric.T.identity=function(r){return new numeric.T(numeric.identity(r))},numeric.T.prototype.getDiag=function(){var r=numeric,e=this.x,n=this.y;return n?new r.T(r.getDiag(e),r.getDiag(n)):new r.T(r.getDiag(e))},numeric.house=function(r){var e=numeric.clone(r),n=r[0]>=0?1:-1,t=n*numeric.norm2(r);e[0]+=t;var u=numeric.norm2(e);if(0===u)throw new Error("eig: internal error");return numeric.div(e,u)},numeric.toUpperHessenberg=function(r){var e=numeric.dim(r);if(2!==e.length||e[0]!==e[1])throw new Error("numeric: toUpperHessenberg() only works on square matrices");var n,t,u,i,a,o,s,f,l,c,m=e[0],p=numeric.clone(r),h=numeric.identity(m);for(t=0;m-2>t;t++){for(i=Array(m-t-1),n=t+1;m>n;n++)i[n-t-1]=p[n][t];if(numeric.norm2(i)>0){for(a=numeric.house(i),o=numeric.getBlock(p,[t+1,t],[m-1,m-1]),s=numeric.tensor(a,numeric.dot(a,o)),n=t+1;m>n;n++)for(f=p[n],l=s[n-t-1],u=t;m>u;u++)f[u]-=2*l[u-t];for(o=numeric.getBlock(p,[0,t+1],[m-1,m-1]),s=numeric.tensor(numeric.dot(o,a),a),n=0;m>n;n++)for(f=p[n],l=s[n],u=t+1;m>u;u++)f[u]-=2*l[u-t-1];for(o=Array(m-t-1),n=t+1;m>n;n++)o[n-t-1]=h[n];for(s=numeric.tensor(a,numeric.dot(a,o)),n=t+1;m>n;n++)for(c=h[n],l=s[n-t-1],u=0;m>u;u++)c[u]-=2*l[u]
}}return{H:p,Q:h}},numeric.epsilon=2.220446049250313e-16,numeric.QRFrancis=function(r,e){"undefined"==typeof e&&(e=1e4),r=numeric.clone(r);var n,t,u,i,a,o,s,f,l,c,m,p,h,g,v,d,y,b,N=(numeric.clone(r),numeric.dim(r)),E=N[0],x=numeric.identity(E);if(3>E)return{Q:x,B:[[0,E-1]]};var M=numeric.epsilon;for(b=0;e>b;b++){for(d=0;E-1>d;d++)if(Math.abs(r[d+1][d])<M*(Math.abs(r[d][d])+Math.abs(r[d+1][d+1]))){var I=numeric.QRFrancis(numeric.getBlock(r,[0,0],[d,d]),e),A=numeric.QRFrancis(numeric.getBlock(r,[d+1,d+1],[E-1,E-1]),e);for(p=Array(d+1),v=0;d>=v;v++)p[v]=x[v];for(h=numeric.dot(I.Q,p),v=0;d>=v;v++)x[v]=h[v];for(p=Array(E-d-1),v=d+1;E>v;v++)p[v-d-1]=x[v];for(h=numeric.dot(A.Q,p),v=d+1;E>v;v++)x[v]=h[v-d-1];return{Q:x,B:I.B.concat(numeric.add(A.B,d+1))}}if(u=r[E-2][E-2],i=r[E-2][E-1],a=r[E-1][E-2],o=r[E-1][E-1],f=u+o,s=u*o-i*a,l=numeric.getBlock(r,[0,0],[2,2]),f*f>=4*s){var T,w;T=.5*(f+Math.sqrt(f*f-4*s)),w=.5*(f-Math.sqrt(f*f-4*s)),l=numeric.add(numeric.sub(numeric.dot(l,l),numeric.mul(l,T+w)),numeric.diag(numeric.rep([3],T*w)))}else l=numeric.add(numeric.sub(numeric.dot(l,l),numeric.mul(l,f)),numeric.diag(numeric.rep([3],s)));for(n=[l[0][0],l[1][0],l[2][0]],t=numeric.house(n),p=[r[0],r[1],r[2]],h=numeric.tensor(t,numeric.dot(t,p)),v=0;3>v;v++)for(m=r[v],g=h[v],y=0;E>y;y++)m[y]-=2*g[y];for(p=numeric.getBlock(r,[0,0],[E-1,2]),h=numeric.tensor(numeric.dot(p,t),t),v=0;E>v;v++)for(m=r[v],g=h[v],y=0;3>y;y++)m[y]-=2*g[y];for(p=[x[0],x[1],x[2]],h=numeric.tensor(t,numeric.dot(t,p)),v=0;3>v;v++)for(c=x[v],g=h[v],y=0;E>y;y++)c[y]-=2*g[y];var S;for(d=0;E-2>d;d++){for(y=d;d+1>=y;y++)if(Math.abs(r[y+1][y])<M*(Math.abs(r[y][y])+Math.abs(r[y+1][y+1]))){var I=numeric.QRFrancis(numeric.getBlock(r,[0,0],[y,y]),e),A=numeric.QRFrancis(numeric.getBlock(r,[y+1,y+1],[E-1,E-1]),e);for(p=Array(y+1),v=0;y>=v;v++)p[v]=x[v];for(h=numeric.dot(I.Q,p),v=0;y>=v;v++)x[v]=h[v];for(p=Array(E-y-1),v=y+1;E>v;v++)p[v-y-1]=x[v];for(h=numeric.dot(A.Q,p),v=y+1;E>v;v++)x[v]=h[v-y-1];return{Q:x,B:I.B.concat(numeric.add(A.B,y+1))}}for(S=Math.min(E-1,d+3),n=Array(S-d),v=d+1;S>=v;v++)n[v-d-1]=r[v][d];for(t=numeric.house(n),p=numeric.getBlock(r,[d+1,d],[S,E-1]),h=numeric.tensor(t,numeric.dot(t,p)),v=d+1;S>=v;v++)for(m=r[v],g=h[v-d-1],y=d;E>y;y++)m[y]-=2*g[y-d];for(p=numeric.getBlock(r,[0,d+1],[E-1,S]),h=numeric.tensor(numeric.dot(p,t),t),v=0;E>v;v++)for(m=r[v],g=h[v],y=d+1;S>=y;y++)m[y]-=2*g[y-d-1];for(p=Array(S-d),v=d+1;S>=v;v++)p[v-d-1]=x[v];for(h=numeric.tensor(t,numeric.dot(t,p)),v=d+1;S>=v;v++)for(c=x[v],g=h[v-d-1],y=0;E>y;y++)c[y]-=2*g[y]}}throw new Error("numeric: eigenvalue iteration does not converge -- increase maxiter?")},numeric.eig=function(r,e){var n,t,u,i,a,o,s,f,l,c,m,p,h,g,v,d,y,b=numeric.toUpperHessenberg(r),N=numeric.QRFrancis(b.H,e),E=numeric.T,x=r.length,M=N.B,I=numeric.dot(N.Q,numeric.dot(b.H,numeric.transpose(N.Q))),A=new E(numeric.dot(N.Q,b.Q)),T=M.length,w=Math.sqrt;for(t=0;T>t;t++)if(n=M[t][0],n===M[t][1]);else{if(i=n+1,a=I[n][n],o=I[n][i],s=I[i][n],f=I[i][i],0===o&&0===s)continue;l=-a-f,c=a*f-o*s,m=l*l-4*c,m>=0?(p=0>l?-.5*(l-w(m)):-.5*(l+w(m)),d=(a-p)*(a-p)+o*o,y=s*s+(f-p)*(f-p),d>y?(d=w(d),g=(a-p)/d,v=o/d):(y=w(y),g=s/y,v=(f-p)/y),u=new E([[v,-g],[g,v]]),A.setRows(n,i,u.dot(A.getRows(n,i)))):(p=-.5*l,h=.5*w(-m),d=(a-p)*(a-p)+o*o,y=s*s+(f-p)*(f-p),d>y?(d=w(d+h*h),g=(a-p)/d,v=o/d,p=0,h/=d):(y=w(y+h*h),g=s/y,v=(f-p)/y,p=h/y,h=0),u=new E([[v,-g],[g,v]],[[p,h],[h,-p]]),A.setRows(n,i,u.dot(A.getRows(n,i))))}var S=A.dot(r).dot(A.transjugate()),x=r.length,R=numeric.T.identity(x);for(i=0;x>i;i++)if(i>0)for(t=i-1;t>=0;t--){var O=S.get([t,t]),D=S.get([i,i]);numeric.neq(O.x,D.x)||numeric.neq(O.y,D.y)?(p=S.getRow(t).getBlock([t],[i-1]),h=R.getRow(i).getBlock([t],[i-1]),R.set([i,t],S.get([t,i]).neg().sub(p.dot(h)).div(O.sub(D)))):R.setRow(i,R.getRow(t))}for(i=0;x>i;i++)p=R.getRow(i),R.setRow(i,p.div(p.norm2()));return R=R.transpose(),R=A.transjugate().dot(R),{lambda:S.getDiag(),E:R}},numeric.ccsSparse=function(r){var e,n,t,u,i=r.length,a=[];for(t=i-1;-1!==t;--t){n=r[t];for(u in n){for(u=parseInt(u);u>=a.length;)a[a.length]=0;0!==n[u]&&a[u]++}}var e=a.length,o=Array(e+1);for(o[0]=0,t=0;e>t;++t)o[t+1]=o[t]+a[t];var s=Array(o[e]),f=Array(o[e]);for(t=i-1;-1!==t;--t){n=r[t];for(u in n)0!==n[u]&&(a[u]--,s[o[u]+a[u]]=t,f[o[u]+a[u]]=n[u])}return[o,s,f]},numeric.ccsFull=function(r){var e,n,t,u,i=r[0],a=r[1],o=r[2],s=numeric.ccsDim(r),f=s[0],l=s[1],c=numeric.rep([f,l],0);for(e=0;l>e;e++)for(t=i[e],u=i[e+1],n=t;u>n;++n)c[a[n]][e]=o[n];return c},numeric.ccsTSolve=function(r,e,n,t,u){function i(r){var e;if(0===n[r]){for(n[r]=1,e=a[r];e<a[r+1];++e)i(o[e]);u[c]=r,++c}}var a=r[0],o=r[1],s=r[2],f=a.length-1,l=Math.max,c=0;"undefined"==typeof t&&(n=numeric.rep([f],0)),"undefined"==typeof t&&(t=numeric.linspace(0,n.length-1)),"undefined"==typeof u&&(u=[]);var m,p,h,g,v,d,y;for(m=t.length-1;-1!==m;--m)i(t[m]);for(u.length=c,m=u.length-1;-1!==m;--m)n[u[m]]=0;for(m=t.length-1;-1!==m;--m)p=t[m],n[p]=e[p];for(m=u.length-1;-1!==m;--m){for(p=u[m],h=a[p],g=l(a[p+1],h),v=h;v!==g;++v)if(o[v]===p){n[p]/=s[v];break}for(y=n[p],v=h;v!==g;++v)d=o[v],d!==p&&(n[d]-=y*s[v])}return n},numeric.ccsDFS=function(r){this.k=Array(r),this.k1=Array(r),this.j=Array(r)},numeric.ccsDFS.prototype.dfs=function(r,e,n,t,u,i){var a,o,s,f=0,l=u.length,c=this.k,m=this.k1,p=this.j;if(0===t[r])for(t[r]=1,p[0]=r,c[0]=o=e[r],m[0]=s=e[r+1];;)if(o>=s){if(u[l]=p[f],0===f)return;++l,--f,o=c[f],s=m[f]}else a=i[n[o]],0===t[a]?(t[a]=1,c[f]=o,++f,p[f]=a,o=e[a],m[f]=s=e[a+1]):++o},numeric.ccsLPSolve=function(r,e,n,t,u,i,a){var o,s,f,l,c,m,p,h,g,v=r[0],d=r[1],y=r[2],b=(v.length-1,e[0]),N=e[1],E=e[2];for(s=b[u],f=b[u+1],t.length=0,o=s;f>o;++o)a.dfs(i[N[o]],v,d,n,t,i);for(o=t.length-1;-1!==o;--o)n[t[o]]=0;for(o=s;o!==f;++o)l=i[N[o]],n[l]=E[o];for(o=t.length-1;-1!==o;--o){for(l=t[o],c=v[l],m=v[l+1],p=c;m>p;++p)if(i[d[p]]===l){n[l]/=y[p];break}for(g=n[l],p=c;m>p;++p)h=i[d[p]],h!==l&&(n[h]-=g*y[p])}return n},numeric.ccsLUP1=function(r,e){var n,t,u,i,a,o,s,f=r[0].length-1,l=[numeric.rep([f+1],0),[],[]],c=[numeric.rep([f+1],0),[],[]],m=l[0],p=l[1],h=l[2],g=c[0],v=c[1],d=c[2],y=numeric.rep([f],0),b=numeric.rep([f],0),N=numeric.ccsLPSolve,E=(Math.max,Math.abs),x=numeric.linspace(0,f-1),M=numeric.linspace(0,f-1),I=new numeric.ccsDFS(f);for("undefined"==typeof e&&(e=1),n=0;f>n;++n){for(N(l,r,y,b,n,M,I),i=-1,a=-1,t=b.length-1;-1!==t;--t)u=b[t],n>=u||(o=E(y[u]),o>i&&(a=u,i=o));for(E(y[n])<e*i&&(t=x[n],i=x[a],x[n]=i,M[i]=n,x[a]=t,M[t]=a,i=y[n],y[n]=y[a],y[a]=i),i=m[n],a=g[n],s=y[n],p[i]=x[n],h[i]=1,++i,t=b.length-1;-1!==t;--t)u=b[t],o=y[u],b[t]=0,y[u]=0,n>=u?(v[a]=u,d[a]=o,++a):(p[i]=x[u],h[i]=o/s,++i);m[n+1]=i,g[n+1]=a}for(t=p.length-1;-1!==t;--t)p[t]=M[p[t]];return{L:l,U:c,P:x,Pinv:M}},numeric.ccsDFS0=function(r){this.k=Array(r),this.k1=Array(r),this.j=Array(r)},numeric.ccsDFS0.prototype.dfs=function(r,e,n,t,u,i){var a,o,s,f=0,l=u.length,c=this.k,m=this.k1,p=this.j;if(0===t[r])for(t[r]=1,p[0]=r,c[0]=o=e[i[r]],m[0]=s=e[i[r]+1];;){if(isNaN(o))throw new Error("Ow!");if(o>=s){if(u[l]=i[p[f]],0===f)return;++l,--f,o=c[f],s=m[f]}else a=n[o],0===t[a]?(t[a]=1,c[f]=o,++f,p[f]=a,a=i[a],o=e[a],m[f]=s=e[a+1]):++o}},numeric.ccsLPSolve0=function(r,e,n,t,u,i,a,o){var s,f,l,c,m,p,h,g,v,d=r[0],y=r[1],b=r[2],N=(d.length-1,e[0]),E=e[1],x=e[2];for(f=N[u],l=N[u+1],t.length=0,s=f;l>s;++s)o.dfs(E[s],d,y,n,t,i,a);for(s=t.length-1;-1!==s;--s)c=t[s],n[a[c]]=0;for(s=f;s!==l;++s)c=E[s],n[c]=x[s];for(s=t.length-1;-1!==s;--s){for(c=t[s],g=a[c],m=d[c],p=d[c+1],h=m;p>h;++h)if(y[h]===g){n[g]/=b[h];break}for(v=n[g],h=m;p>h;++h)n[y[h]]-=v*b[h];n[g]=v}},numeric.ccsLUP0=function(r,e){var n,t,u,i,a,o,s,f=r[0].length-1,l=[numeric.rep([f+1],0),[],[]],c=[numeric.rep([f+1],0),[],[]],m=l[0],p=l[1],h=l[2],g=c[0],v=c[1],d=c[2],y=numeric.rep([f],0),b=numeric.rep([f],0),N=numeric.ccsLPSolve0,E=(Math.max,Math.abs),x=numeric.linspace(0,f-1),M=numeric.linspace(0,f-1),I=new numeric.ccsDFS0(f);for("undefined"==typeof e&&(e=1),n=0;f>n;++n){for(N(l,r,y,b,n,M,x,I),i=-1,a=-1,t=b.length-1;-1!==t;--t)u=b[t],n>=u||(o=E(y[x[u]]),o>i&&(a=u,i=o));for(E(y[x[n]])<e*i&&(t=x[n],i=x[a],x[n]=i,M[i]=n,x[a]=t,M[t]=a),i=m[n],a=g[n],s=y[x[n]],p[i]=x[n],h[i]=1,++i,t=b.length-1;-1!==t;--t)u=b[t],o=y[x[u]],b[t]=0,y[x[u]]=0,n>=u?(v[a]=u,d[a]=o,++a):(p[i]=x[u],h[i]=o/s,++i);m[n+1]=i,g[n+1]=a}for(t=p.length-1;-1!==t;--t)p[t]=M[p[t]];return{L:l,U:c,P:x,Pinv:M}},numeric.ccsLUP=numeric.ccsLUP0,numeric.ccsDim=function(r){return[numeric.sup(r[1])+1,r[0].length-1]},numeric.ccsGetBlock=function(r,e,n){var t=numeric.ccsDim(r),u=t[0],i=t[1];"undefined"==typeof e?e=numeric.linspace(0,u-1):"number"==typeof e&&(e=[e]),"undefined"==typeof n?n=numeric.linspace(0,i-1):"number"==typeof n&&(n=[n]);var a,o,s,f,l,c=e.length,m=n.length,p=numeric.rep([i],0),h=[],g=[],v=[p,h,g],d=r[0],y=r[1],b=r[2],N=numeric.rep([u],0),E=0,x=numeric.rep([u],0);for(o=0;m>o;++o){f=n[o];var M=d[f],I=d[f+1];for(a=M;I>a;++a)s=y[a],x[s]=1,N[s]=b[a];for(a=0;c>a;++a)l=e[a],x[l]&&(h[E]=a,g[E]=N[e[a]],++E);for(a=M;I>a;++a)s=y[a],x[s]=0;p[o+1]=E}return v},numeric.ccsDot=function(r,e){var n,t,u,i,a,o,s,f,l,c,m,p=r[0],h=r[1],g=r[2],v=e[0],d=e[1],y=e[2],b=numeric.ccsDim(r),N=numeric.ccsDim(e),E=b[0],x=(b[1],N[1]),M=numeric.rep([E],0),I=numeric.rep([E],0),A=Array(E),T=numeric.rep([x],0),w=[],S=[],R=[T,w,S];for(u=0;u!==x;++u){for(i=v[u],a=v[u+1],l=0,t=i;a>t;++t)for(c=d[t],m=y[t],o=p[c],s=p[c+1],n=o;s>n;++n)f=h[n],0===I[f]&&(A[l]=f,I[f]=1,l+=1),M[f]=M[f]+g[n]*m;for(i=T[u],a=i+l,T[u+1]=a,t=l-1;-1!==t;--t)m=i+t,n=A[t],w[m]=n,S[m]=M[n],I[n]=0,M[n]=0;T[u+1]=T[u]+l}return R},numeric.ccsLUPSolve=function(r,e){var n=r.L,t=r.U,u=(r.P,e[0]),i=!1;"object"!=typeof u&&(e=[[0,e.length],numeric.linspace(0,e.length-1),e],u=e[0],i=!0);var a,o,s,f,l,c,m=e[1],p=e[2],h=n[0].length-1,g=u.length-1,v=numeric.rep([h],0),d=Array(h),y=numeric.rep([h],0),b=Array(h),N=numeric.rep([g+1],0),E=[],x=[],M=numeric.ccsTSolve,I=0;for(a=0;g>a;++a){for(l=0,s=u[a],f=u[a+1],o=s;f>o;++o)c=r.Pinv[m[o]],b[l]=c,y[c]=p[o],++l;for(b.length=l,M(n,y,v,b,d),o=b.length-1;-1!==o;--o)y[b[o]]=0;if(M(t,v,y,d,b),i)return y;for(o=d.length-1;-1!==o;--o)v[d[o]]=0;for(o=b.length-1;-1!==o;--o)c=b[o],E[I]=c,x[I]=y[c],y[c]=0,++I;N[a+1]=I}return[N,E,x]},numeric.ccsbinop=function(r,e){return"undefined"==typeof e&&(e=""),Function("X","Y","var Xi = X[0], Xj = X[1], Xv = X[2];\nvar Yi = Y[0], Yj = Y[1], Yv = Y[2];\nvar n = Xi.length-1,m = Math.max(numeric.sup(Xj),numeric.sup(Yj))+1;\nvar Zi = numeric.rep([n+1],0), Zj = [], Zv = [];\nvar x = numeric.rep([m],0),y = numeric.rep([m],0);\nvar xk,yk,zk;\nvar i,j,j0,j1,k,p=0;\n"+e+"for(i=0;i<n;++i) {\n  j0 = Xi[i]; j1 = Xi[i+1];\n  for(j=j0;j!==j1;++j) {\n    k = Xj[j];\n    x[k] = 1;\n    Zj[p] = k;\n    ++p;\n  }\n  j0 = Yi[i]; j1 = Yi[i+1];\n  for(j=j0;j!==j1;++j) {\n    k = Yj[j];\n    y[k] = Yv[j];\n    if(x[k] === 0) {\n      Zj[p] = k;\n      ++p;\n    }\n  }\n  Zi[i+1] = p;\n  j0 = Xi[i]; j1 = Xi[i+1];\n  for(j=j0;j!==j1;++j) x[Xj[j]] = Xv[j];\n  j0 = Zi[i]; j1 = Zi[i+1];\n  for(j=j0;j!==j1;++j) {\n    k = Zj[j];\n    xk = x[k];\n    yk = y[k];\n"+r+"\n    Zv[j] = zk;\n  }\n  j0 = Xi[i]; j1 = Xi[i+1];\n  for(j=j0;j!==j1;++j) x[Xj[j]] = 0;\n  j0 = Yi[i]; j1 = Yi[i+1];\n  for(j=j0;j!==j1;++j) y[Yj[j]] = 0;\n}\nreturn [Zi,Zj,Zv];")},function(){var k,A,B,C;for(k in numeric.ops2)A=isFinite(eval("1"+numeric.ops2[k]+"0"))?"[Y[0],Y[1],numeric."+k+"(X,Y[2])]":"NaN",B=isFinite(eval("0"+numeric.ops2[k]+"1"))?"[X[0],X[1],numeric."+k+"(X[2],Y)]":"NaN",C=isFinite(eval("1"+numeric.ops2[k]+"0"))&&isFinite(eval("0"+numeric.ops2[k]+"1"))?"numeric.ccs"+k+"MM(X,Y)":"NaN",numeric["ccs"+k+"MM"]=numeric.ccsbinop("zk = xk "+numeric.ops2[k]+"yk;"),numeric["ccs"+k]=Function("X","Y",'if(typeof X === "number") return '+A+';\nif(typeof Y === "number") return '+B+";\nreturn "+C+";\n")}(),numeric.ccsScatter=function(r){var e,n=r[0],t=r[1],u=r[2],i=numeric.sup(t)+1,a=n.length,o=numeric.rep([i],0),s=Array(a),f=Array(a),l=numeric.rep([i],0);for(e=0;a>e;++e)l[t[e]]++;for(e=0;i>e;++e)o[e+1]=o[e]+l[e];var c,m,p=o.slice(0);for(e=0;a>e;++e)m=t[e],c=p[m],s[c]=n[e],f[c]=u[e],p[m]=p[m]+1;return[o,s,f]},numeric.ccsGather=function(r){var e,n,t,u,i,a=r[0],o=r[1],s=r[2],f=a.length-1,l=o.length,c=Array(l),m=Array(l),p=Array(l);for(i=0,e=0;f>e;++e)for(t=a[e],u=a[e+1],n=t;n!==u;++n)m[i]=e,c[i]=o[n],p[i]=s[n],++i;return[c,m,p]},numeric.sdim=function s(r,e,n){if("undefined"==typeof e&&(e=[]),"object"!=typeof r)return e;"undefined"==typeof n&&(n=0),n in e||(e[n]=0),r.length>e[n]&&(e[n]=r.length);var t;for(t in r)r.hasOwnProperty(t)&&s(r[t],e,n+1);return e},numeric.sclone=function f(r,e,n){"undefined"==typeof e&&(e=0),"undefined"==typeof n&&(n=numeric.sdim(r).length);var t,u=Array(r.length);if(e===n-1){for(t in r)r.hasOwnProperty(t)&&(u[t]=r[t]);return u}for(t in r)r.hasOwnProperty(t)&&(u[t]=f(r[t],e+1,n));return u},numeric.sdiag=function(r){var e,n,t=r.length,u=Array(t);for(e=t-1;e>=1;e-=2)n=e-1,u[e]=[],u[e][e]=r[e],u[n]=[],u[n][n]=r[n];return 0===e&&(u[0]=[],u[0][0]=r[e]),u},numeric.sidentity=function(r){return numeric.sdiag(numeric.rep([r],1))},numeric.stranspose=function(r){{var e,n,t,u=[];r.length}for(e in r)if(r.hasOwnProperty(e)){t=r[e];for(n in t)t.hasOwnProperty(n)&&("object"!=typeof u[n]&&(u[n]=[]),u[n][e]=t[n])}return u},numeric.sLUP=function(){throw new Error("The function numeric.sLUP had a bug in it and has been removed. Please use the new numeric.ccsLUP function instead.")},numeric.sdotMM=function(r,e){var n,t,u,i,a,o,s,f=r.length,l=(e.length,numeric.stranspose(e)),c=l.length,m=Array(f);for(u=f-1;u>=0;u--){for(s=[],n=r[u],a=c-1;a>=0;a--){o=0,t=l[a];for(i in n)n.hasOwnProperty(i)&&i in t&&(o+=n[i]*t[i]);o&&(s[a]=o)}m[u]=s}return m},numeric.sdotMV=function(r,e){var n,t,u,i,a=r.length,o=Array(a);for(t=a-1;t>=0;t--){n=r[t],i=0;for(u in n)n.hasOwnProperty(u)&&e[u]&&(i+=n[u]*e[u]);i&&(o[t]=i)}return o},numeric.sdotVM=function(r,e){var n,t,u,i,a=[];for(n in r)if(r.hasOwnProperty(n)){u=e[n],i=r[n];for(t in u)u.hasOwnProperty(t)&&(a[t]||(a[t]=0),a[t]+=i*u[t])}return a},numeric.sdotVV=function(r,e){var n,t=0;for(n in r)r[n]&&e[n]&&(t+=r[n]*e[n]);return t},numeric.sdot=function(r,e){var n=numeric.sdim(r).length,t=numeric.sdim(e).length,u=1e3*n+t;switch(u){case 0:return r*e;case 1001:return numeric.sdotVV(r,e);case 2001:return numeric.sdotMV(r,e);case 1002:return numeric.sdotVM(r,e);case 2002:return numeric.sdotMM(r,e);default:throw new Error("numeric.sdot not implemented for tensors of order "+n+" and "+t)}},numeric.sscatter=function(r){var e,n,t,u,i=r[0].length,a=r.length,o=[];for(n=i-1;n>=0;--n)if(r[a-1][n]){for(u=o,t=0;a-2>t;t++)e=r[t][n],u[e]||(u[e]=[]),u=u[e];u[r[t][n]]=r[t+1][n]}return o},numeric.sgather=function l(r,e,n){"undefined"==typeof e&&(e=[]),"undefined"==typeof n&&(n=[]);var t,u,i;t=n.length;for(u in r)if(r.hasOwnProperty(u))if(n[t]=parseInt(u),i=r[u],"number"==typeof i){if(i){if(0===e.length)for(u=t+1;u>=0;--u)e[u]=[];for(u=t;u>=0;--u)e[u].push(n[u]);e[t+1].push(i)}}else l(i,e,n);return n.length>t&&n.pop(),e},numeric.cLU=function(r){var e,n,t,u,i,a,o=r[0],s=r[1],f=r[2],l=o.length,c=0;for(e=0;l>e;e++)o[e]>c&&(c=o[e]);c++;var m,p,h,g=Array(c),v=Array(c),d=numeric.rep([c],1/0),y=numeric.rep([c],-1/0);for(t=0;l>t;t++)e=o[t],n=s[t],n<d[e]&&(d[e]=n),n>y[e]&&(y[e]=n);for(e=0;c-1>e;e++)y[e]>y[e+1]&&(y[e+1]=y[e]);for(e=c-1;e>=1;e--)d[e]<d[e-1]&&(d[e-1]=d[e]);var b=0,N=0;for(e=0;c>e;e++)v[e]=numeric.rep([y[e]-d[e]+1],0),g[e]=numeric.rep([e-d[e]],0),b+=e-d[e]+1,N+=y[e]-e+1;for(t=0;l>t;t++)e=o[t],v[e][s[t]-d[e]]=f[t];for(e=0;c-1>e;e++)for(u=e-d[e],m=v[e],n=e+1;d[n]<=e&&c>n;n++)if(i=e-d[n],a=y[e]-e,p=v[n],h=p[i]/m[u]){for(t=1;a>=t;t++)p[t+i]-=h*m[t+u];g[n][e-d[n]]=h}var l,E,x,m=[],p=[],M=[],I=[],A=[],T=[];for(l=0,E=0,e=0;c>e;e++){for(u=d[e],i=y[e],x=v[e],n=e;i>=n;n++)x[n-u]&&(m[l]=e,p[l]=n,M[l]=x[n-u],l++);for(x=g[e],n=u;e>n;n++)x[n-u]&&(I[E]=e,A[E]=n,T[E]=x[n-u],E++);I[E]=e,A[E]=e,T[E]=1,E++}return{U:[m,p,M],L:[I,A,T]}},numeric.cLUsolve=function(r,e){var n,t,u=r.L,i=r.U,a=numeric.clone(e),o=u[0],s=u[1],f=u[2],l=i[0],c=i[1],m=i[2],p=l.length,h=(o.length,a.length);for(t=0,n=0;h>n;n++){for(;s[t]<n;)a[n]-=f[t]*a[s[t]],t++;t++}for(t=p-1,n=h-1;n>=0;n--){for(;c[t]>n;)a[n]-=m[t]*a[c[t]],t--;a[n]/=m[t],t--}return a},numeric.cgrid=function(r,e){"number"==typeof r&&(r=[r,r]);var n,t,u,i=numeric.rep(r,-1);if("function"!=typeof e)switch(e){case"L":e=function(e,n){return e>=r[0]/2||n<r[1]/2};break;default:e=function(){return!0}}for(u=0,n=1;n<r[0]-1;n++)for(t=1;t<r[1]-1;t++)e(n,t)&&(i[n][t]=u,u++);return i},numeric.cdelsq=function(r){var e,n,t,u,i,a=[[-1,0],[0,-1],[0,1],[1,0]],o=numeric.dim(r),s=o[0],f=o[1],l=[],c=[],m=[];for(e=1;s-1>e;e++)for(n=1;f-1>n;n++)if(!(r[e][n]<0)){for(t=0;4>t;t++)u=e+a[t][0],i=n+a[t][1],r[u][i]<0||(l.push(r[e][n]),c.push(r[u][i]),m.push(-1));l.push(r[e][n]),c.push(r[e][n]),m.push(4)}return[l,c,m]},numeric.cdotMV=function(r,e){var n,t,u,i=r[0],a=r[1],o=r[2],s=i.length;for(u=0,t=0;s>t;t++)i[t]>u&&(u=i[t]);for(u++,n=numeric.rep([u],0),t=0;s>t;t++)n[i[t]]+=o[t]*e[a[t]];return n},numeric.Spline=function(r,e,n,t,u){this.x=r,this.yl=e,this.yr=n,this.kl=t,this.kr=u},numeric.Spline.prototype._at=function(r,e){var r,n,t,u,i=this.x,a=this.yl,o=this.yr,s=this.kl,f=this.kr,l=numeric.add,c=numeric.sub,m=numeric.mul;n=c(m(s[e],i[e+1]-i[e]),c(o[e+1],a[e])),t=l(m(f[e+1],i[e]-i[e+1]),c(o[e+1],a[e])),u=(r-i[e])/(i[e+1]-i[e]);var p=u*(1-u);return l(l(l(m(1-u,a[e]),m(u,o[e+1])),m(n,p*(1-u))),m(t,p*u))},numeric.Spline.prototype.at=function(r){if("number"==typeof r){var e,n,t,u=this.x,i=u.length,a=Math.floor;for(e=0,n=i-1;n-e>1;)t=a((e+n)/2),u[t]<=r?e=t:n=t;return this._at(r,e)}var o,i=r.length,s=Array(i);for(o=i-1;-1!==o;--o)s[o]=this.at(r[o]);return s},numeric.Spline.prototype.diff=function(){var r,e,n,t=this.x,u=this.yl,i=this.yr,a=this.kl,o=this.kr,s=u.length,f=a,l=o,c=Array(s),m=Array(s),p=numeric.add,h=numeric.mul,g=numeric.div,v=numeric.sub;for(r=s-1;-1!==r;--r)e=t[r+1]-t[r],n=v(i[r+1],u[r]),c[r]=g(p(h(n,6),h(a[r],-4*e),h(o[r+1],-2*e)),e*e),m[r+1]=g(p(h(n,-6),h(a[r],2*e),h(o[r+1],4*e)),e*e);return new numeric.Spline(t,f,l,c,m)},numeric.Spline.prototype.roots=function(){function r(r){return r*r}var e=[],n=this.x,t=this.yl,u=this.yr,i=this.kl,a=this.kr;"number"==typeof t[0]&&(t=[t],u=[u],i=[i],a=[a]);var o,s,f,l,c,m,p,h,g,v,d,y,b,N,E,x,M,I,A,T,w,S,R,O,D=t.length,C=n.length-1,e=Array(D),L=Math.sqrt;for(o=0;o!==D;++o){for(l=t[o],c=u[o],m=i[o],p=a[o],h=[],s=0;s!==C;s++){for(s>0&&c[s]*l[s]<0&&h.push(n[s]),x=n[s+1]-n[s],M=n[s],d=l[s],y=c[s+1],g=m[s]/x,v=p[s+1]/x,E=r(g-v+3*(d-y))+12*v*d,b=v+3*d+2*g-3*y,N=3*(v+g+2*(d-y)),0>=E?(A=b/N,I=A>n[s]&&A<n[s+1]?[n[s],A,n[s+1]]:[n[s],n[s+1]]):(A=(b-L(E))/N,T=(b+L(E))/N,I=[n[s]],A>n[s]&&A<n[s+1]&&I.push(A),T>n[s]&&T<n[s+1]&&I.push(T),I.push(n[s+1])),S=I[0],A=this._at(S,s),f=0;f<I.length-1;f++)if(R=I[f+1],T=this._at(R,s),0!==A)if(0===T||A*T>0)S=R,A=T;else{for(var P=0;;){if(O=(A*R-T*S)/(A-T),S>=O||O>=R)break;if(w=this._at(O,s),w*T>0)R=O,T=w,-1===P&&(A*=.5),P=-1;else{if(!(w*A>0))break;S=O,A=w,1===P&&(T*=.5),P=1}}h.push(O),S=I[f+1],A=this._at(S,s)}else h.push(S),S=R,A=T;0===T&&h.push(R)}e[o]=h}return"number"==typeof this.yl[0]?e[0]:e},numeric.spline=function(r,e,n,t){var u,i=r.length,a=[],o=[],s=[],f=numeric.sub,l=numeric.mul,c=numeric.add;for(u=i-2;u>=0;u--)o[u]=r[u+1]-r[u],s[u]=f(e[u+1],e[u]);("string"==typeof n||"string"==typeof t)&&(n=t="periodic");var m=[[],[],[]];switch(typeof n){case"undefined":a[0]=l(3/(o[0]*o[0]),s[0]),m[0].push(0,0),m[1].push(0,1),m[2].push(2/o[0],1/o[0]);break;case"string":a[0]=c(l(3/(o[i-2]*o[i-2]),s[i-2]),l(3/(o[0]*o[0]),s[0])),m[0].push(0,0,0),m[1].push(i-2,0,1),m[2].push(1/o[i-2],2/o[i-2]+2/o[0],1/o[0]);break;default:a[0]=n,m[0].push(0),m[1].push(0),m[2].push(1)}for(u=1;i-1>u;u++)a[u]=c(l(3/(o[u-1]*o[u-1]),s[u-1]),l(3/(o[u]*o[u]),s[u])),m[0].push(u,u,u),m[1].push(u-1,u,u+1),m[2].push(1/o[u-1],2/o[u-1]+2/o[u],1/o[u]);switch(typeof t){case"undefined":a[i-1]=l(3/(o[i-2]*o[i-2]),s[i-2]),m[0].push(i-1,i-1),m[1].push(i-2,i-1),m[2].push(1/o[i-2],2/o[i-2]);break;case"string":m[1][m[1].length-1]=0;break;default:a[i-1]=t,m[0].push(i-1),m[1].push(i-1),m[2].push(1)}a="number"!=typeof a[0]?numeric.transpose(a):[a];var p=Array(a.length);if("string"==typeof n)for(u=p.length-1;-1!==u;--u)p[u]=numeric.ccsLUPSolve(numeric.ccsLUP(numeric.ccsScatter(m)),a[u]),p[u][i-1]=p[u][0];else for(u=p.length-1;-1!==u;--u)p[u]=numeric.cLUsolve(numeric.cLU(m),a[u]);return p="number"==typeof e[0]?p[0]:numeric.transpose(p),new numeric.Spline(r,e,e,p,p)},numeric.fftpow2=function c(r,e){var n=r.length;if(1!==n){var t,u,i=Math.cos,a=Math.sin,o=Array(n/2),s=Array(n/2),f=Array(n/2),l=Array(n/2);for(u=n/2,t=n-1;-1!==t;--t)--u,f[u]=r[t],l[u]=e[t],--t,o[u]=r[t],s[u]=e[t];c(o,s),c(f,l),u=n/2;var m,p,h,g=-6.283185307179586/n;for(t=n-1;-1!==t;--t)--u,-1===u&&(u=n/2-1),m=g*t,p=i(m),h=a(m),r[t]=o[u]+p*f[u]-h*l[u],e[t]=s[u]+p*l[u]+h*f[u]}},numeric._ifftpow2=function m(r,e){var n=r.length;if(1!==n){var t,u,i=Math.cos,a=Math.sin,o=Array(n/2),s=Array(n/2),f=Array(n/2),l=Array(n/2);for(u=n/2,t=n-1;-1!==t;--t)--u,f[u]=r[t],l[u]=e[t],--t,o[u]=r[t],s[u]=e[t];m(o,s),m(f,l),u=n/2;var c,p,h,g=6.283185307179586/n;for(t=n-1;-1!==t;--t)--u,-1===u&&(u=n/2-1),c=g*t,p=i(c),h=a(c),r[t]=o[u]+p*f[u]-h*l[u],e[t]=s[u]+p*l[u]+h*f[u]}},numeric.ifftpow2=function(r,e){numeric._ifftpow2(r,e),numeric.diveq(r,r.length),numeric.diveq(e,e.length)},numeric.convpow2=function(r,e,n,t){numeric.fftpow2(r,e),numeric.fftpow2(n,t);var u,i,a,o,s,f=r.length;for(u=f-1;-1!==u;--u)i=r[u],o=e[u],a=n[u],s=t[u],r[u]=i*a-o*s,e[u]=i*s+o*a;numeric.ifftpow2(r,e)},numeric.T.prototype.fft=function(){{var r,e,n=this.x,t=this.y,u=n.length,i=Math.log,a=i(2),o=Math.ceil(i(2*u-1)/a),s=Math.pow(2,o),f=numeric.rep([s],0),l=numeric.rep([s],0),c=Math.cos,m=Math.sin,p=-3.141592653589793/u,h=numeric.rep([s],0),g=numeric.rep([s],0);Math.floor(u/2)}for(r=0;u>r;r++)h[r]=n[r];if("undefined"!=typeof t)for(r=0;u>r;r++)g[r]=t[r];for(f[0]=1,r=1;s/2>=r;r++)e=p*r*r,f[r]=c(e),l[r]=m(e),f[s-r]=c(e),l[s-r]=m(e);var v=new numeric.T(h,g),d=new numeric.T(f,l);return v=v.mul(d),numeric.convpow2(v.x,v.y,numeric.clone(d.x),numeric.neg(d.y)),v=v.mul(d),v.x.length=u,v.y.length=u,v},numeric.T.prototype.ifft=function(){{var r,e,n=this.x,t=this.y,u=n.length,i=Math.log,a=i(2),o=Math.ceil(i(2*u-1)/a),s=Math.pow(2,o),f=numeric.rep([s],0),l=numeric.rep([s],0),c=Math.cos,m=Math.sin,p=3.141592653589793/u,h=numeric.rep([s],0),g=numeric.rep([s],0);Math.floor(u/2)}for(r=0;u>r;r++)h[r]=n[r];if("undefined"!=typeof t)for(r=0;u>r;r++)g[r]=t[r];for(f[0]=1,r=1;s/2>=r;r++)e=p*r*r,f[r]=c(e),l[r]=m(e),f[s-r]=c(e),l[s-r]=m(e);var v=new numeric.T(h,g),d=new numeric.T(f,l);return v=v.mul(d),numeric.convpow2(v.x,v.y,numeric.clone(d.x),numeric.neg(d.y)),v=v.mul(d),v.x.length=u,v.y.length=u,v.div(u)},numeric.gradient=function(r,e){var n=e.length,t=r(e);if(isNaN(t))throw new Error("gradient: f(x) is a NaN!");var u,i,a,o,s,f,l,c,m,p,h=Math.max,g=numeric.clone(e),v=Array(n),h=(numeric.div,numeric.sub,Math.max),d=.001,y=Math.abs,b=Math.min,N=0;for(u=0;n>u;u++)for(var E=h(1e-6*t,1e-8);;){if(++N,N>20)throw new Error("Numerical gradient fails");if(g[u]=e[u]+E,i=r(g),g[u]=e[u]-E,a=r(g),g[u]=e[u],isNaN(i)||isNaN(a))E/=16;else{if(v[u]=(i-a)/(2*E),s=e[u]-E,f=e[u],l=e[u]+E,c=(i-t)/E,m=(t-a)/E,p=h(y(v[u]),y(t),y(i),y(a),y(s),y(f),y(l),1e-8),o=b(h(y(c-v[u]),y(m-v[u]),y(c-m))/p,E/p),!(o>d))break;E/=16}}return v},numeric.uncmin=function(r,e,n,t,u,i,a){var o=numeric.gradient;"undefined"==typeof a&&(a={}),"undefined"==typeof n&&(n=1e-8),"undefined"==typeof t&&(t=function(e){return o(r,e)}),"undefined"==typeof u&&(u=1e3),e=numeric.clone(e);var s,f,l=e.length,c=r(e);if(isNaN(c))throw new Error("uncmin: f(x0) is a NaN!");var m=Math.max,p=numeric.norm2;n=m(n,numeric.epsilon);var h,g,v,d,y,b,N,E,x,M,I=a.Hinv||numeric.identity(l),A=numeric.dot,T=(numeric.inv,numeric.sub),w=numeric.add,S=numeric.tensor,R=numeric.div,O=numeric.mul,D=numeric.all,C=numeric.isFinite,L=numeric.neg,P=0,j="";for(g=t(e);u>P;){if("function"==typeof i&&i(P,e,c,g,I)){j="Callback returned true";break}if(!D(C(g))){j="Gradient has Infinity or NaN";break}if(h=L(A(I,g)),!D(C(h))){j="Search direction has Infinity or NaN";break}if(M=p(h),n>M){j="Newton step smaller than tol";break}for(x=1,f=A(g,h),y=e;u>P&&!(n>x*M)&&(d=O(h,x),y=w(e,d),s=r(y),s-c>=.1*x*f||isNaN(s));)x*=.5,++P;if(n>x*M){j="Line search step size smaller than tol";break}if(P===u){j="maxit reached during line search";break}v=t(y),b=T(v,g),E=A(b,d),N=A(I,b),I=T(w(I,O((E+A(b,N))/(E*E),S(d,d))),R(w(S(N,d),S(d,N)),E)),e=y,c=s,g=v,++P}return{solution:e,f:c,gradient:g,invHessian:I,iterations:P,message:j}},numeric.Dopri=function(r,e,n,t,u,i,a){this.x=r,this.y=e,this.f=n,this.ymid=t,this.iterations=u,this.events=a,this.message=i},numeric.Dopri.prototype._at=function(r,e){function n(r){return r*r}var t,u,i,a,o,s,r,f,l,c,m,p=this,h=p.x,g=p.y,v=p.f,d=p.ymid,y=(h.length,Math.floor,.5),b=numeric.add,N=numeric.mul,E=numeric.sub;return t=h[e],u=h[e+1],a=g[e],o=g[e+1],f=u-t,i=t+y*f,s=d[e],l=E(v[e],N(a,1/(t-i)+2/(t-u))),c=E(v[e+1],N(o,1/(u-i)+2/(u-t))),m=[n(r-u)*(r-i)/n(t-u)/(t-i),n(r-t)*n(r-u)/n(t-i)/n(u-i),n(r-t)*(r-i)/n(u-t)/(u-i),(r-t)*n(r-u)*(r-i)/n(t-u)/(t-i),(r-u)*n(r-t)*(r-i)/n(t-u)/(u-i)],b(b(b(b(N(a,m[0]),N(s,m[1])),N(o,m[2])),N(l,m[3])),N(c,m[4]))},numeric.Dopri.prototype.at=function(r){var e,n,t,u=Math.floor;if("number"!=typeof r){var i=r.length,a=Array(i);for(e=i-1;-1!==e;--e)a[e]=this.at(r[e]);return a}var o=this.x;for(e=0,n=o.length-1;n-e>1;)t=u(.5*(e+n)),o[t]<=r?e=t:n=t;return this._at(r,e)},numeric.dopri=function(r,e,n,t,u,i,a){"undefined"==typeof u&&(u=1e-6),"undefined"==typeof i&&(i=1e3);var o,s,f,l,c,m,p,h,g,v,d,y,b,N=[r],E=[n],x=[t(r,n)],M=[],I=.2,A=[.075,.225],T=[44/45,-56/15,32/9],w=[19372/6561,-25360/2187,64448/6561,-212/729],S=[9017/3168,-355/33,46732/5247,49/176,-5103/18656],R=[35/384,0,500/1113,125/192,-2187/6784,11/84],O=[.10013431883002395,0,.3918321794184259,-0.02982460176594817,.05893268337240795,-0.04497888809104361,.023904308236133973],D=[.2,.3,.8,8/9,1,1],C=[-71/57600,0,71/16695,-71/1920,17253/339200,-22/525,.025],L=0,P=(e-r)/10,j=0,_=numeric.add,V=numeric.mul,F=(Math.max,Math.min),U=Math.abs,k=numeric.norminf,q=Math.pow,G=numeric.any,B=numeric.lt,Y=numeric.and,X=(numeric.sub,new numeric.Dopri(N,E,x,M,-1,""));for("function"==typeof a&&(d=a(r,n));e>r&&i>j;)if(++j,r+P>e&&(P=e-r),o=t(r+D[0]*P,_(n,V(I*P,x[L]))),s=t(r+D[1]*P,_(_(n,V(A[0]*P,x[L])),V(A[1]*P,o))),f=t(r+D[2]*P,_(_(_(n,V(T[0]*P,x[L])),V(T[1]*P,o)),V(T[2]*P,s))),l=t(r+D[3]*P,_(_(_(_(n,V(w[0]*P,x[L])),V(w[1]*P,o)),V(w[2]*P,s)),V(w[3]*P,f))),c=t(r+D[4]*P,_(_(_(_(_(n,V(S[0]*P,x[L])),V(S[1]*P,o)),V(S[2]*P,s)),V(S[3]*P,f)),V(S[4]*P,l))),g=_(_(_(_(_(n,V(x[L],P*R[0])),V(s,P*R[2])),V(f,P*R[3])),V(l,P*R[4])),V(c,P*R[5])),m=t(r+P,g),p=_(_(_(_(_(V(x[L],P*C[0]),V(s,P*C[2])),V(f,P*C[3])),V(l,P*C[4])),V(c,P*C[5])),V(m,P*C[6])),v="number"==typeof p?U(p):k(p),v>u){if(P=.2*P*q(u/v,.25),r+P===r){X.msg="Step size became too small";break}}else{if(M[L]=_(_(_(_(_(_(n,V(x[L],P*O[0])),V(s,P*O[2])),V(f,P*O[3])),V(l,P*O[4])),V(c,P*O[5])),V(m,P*O[6])),++L,N[L]=r+P,E[L]=g,x[L]=m,"function"==typeof a){var H,Q,K=r,W=r+.5*P;if(y=a(W,M[L-1]),b=Y(B(d,0),B(0,y)),G(b)||(K=W,W=r+P,d=y,y=a(W,g),b=Y(B(d,0),B(0,y))),G(b)){for(var z,Z,$=0,J=1,re=1;;){if("number"==typeof d)Q=(re*y*K-J*d*W)/(re*y-J*d);else for(Q=W,h=d.length-1;-1!==h;--h)d[h]<0&&y[h]>0&&(Q=F(Q,(re*y[h]*K-J*d[h]*W)/(re*y[h]-J*d[h])));if(K>=Q||Q>=W)break;H=X._at(Q,L-1),Z=a(Q,H),z=Y(B(d,0),B(0,Z)),G(z)?(W=Q,y=Z,b=z,re=1,-1===$?J*=.5:J=1,$=-1):(K=Q,d=Z,J=1,1===$?re*=.5:re=1,$=1)}return g=X._at(.5*(r+Q),L-1),X.f[L]=t(Q,H),X.x[L]=Q,X.y[L]=H,X.ymid[L-1]=g,X.events=b,X.iterations=j,X}}r+=P,n=g,d=y,P=F(.8*P*q(u/v,.25),4*P)}return X.iterations=j,X},numeric.LU=function(r,e){e=e||!1;var n,t,u,i,a,o,s,f,l,c=Math.abs,m=r.length,p=m-1,h=new Array(m);for(e||(r=numeric.clone(r)),u=0;m>u;++u){for(s=u,o=r[u],l=c(o[u]),t=u+1;m>t;++t)i=c(r[t][u]),i>l&&(l=i,s=t);for(h[u]=s,s!=u&&(r[u]=r[s],r[s]=o,o=r[u]),a=o[u],n=u+1;m>n;++n)r[n][u]/=a;for(n=u+1;m>n;++n){for(f=r[n],t=u+1;p>t;++t)f[t]-=f[u]*o[t],++t,f[t]-=f[u]*o[t];t===p&&(f[t]-=f[u]*o[t])}}return{LU:r,P:h}},numeric.LUsolve=function(r,e){var n,t,u,i,a,o=r.LU,s=o.length,f=numeric.clone(e),l=r.P;for(n=s-1;-1!==n;--n)f[n]=e[n];for(n=0;s>n;++n)for(u=l[n],l[n]!==n&&(a=f[n],f[n]=f[u],f[u]=a),i=o[n],t=0;n>t;++t)f[n]-=f[t]*i[t];for(n=s-1;n>=0;--n){for(i=o[n],t=n+1;s>t;++t)f[n]-=f[t]*i[t];f[n]/=i[n]}return f},numeric.solve=function(r,e,n){return numeric.LUsolve(numeric.LU(r,n),e)},numeric.echelonize=function(r){var e,n,t,u,i,a,o,s,f=numeric.dim(r),l=f[0],c=f[1],m=numeric.identity(l),p=Array(l),h=Math.abs,g=numeric.diveq;for(r=numeric.clone(r),e=0;l>e;++e){for(t=0,i=r[e],a=m[e],n=1;c>n;++n)h(i[t])<h(i[n])&&(t=n);for(p[e]=t,g(a,i[t]),g(i,i[t]),n=0;l>n;++n)if(n!==e){for(o=r[n],s=o[t],u=c-1;-1!==u;--u)o[u]-=i[u]*s;for(o=m[n],u=l-1;-1!==u;--u)o[u]-=a[u]*s}}return{I:m,A:r,P:p}},numeric.__solveLP=function(r,e,n,t,u,i,a){var o,s,f,l,c=numeric.sum,m=(numeric.log,numeric.mul),p=numeric.sub,h=numeric.dot,g=numeric.div,v=numeric.add,d=r.length,y=n.length,b=!1,N=0,E=1,x=(numeric.transpose(e),numeric.svd,numeric.transpose),M=(numeric.leq,Math.sqrt),I=Math.abs,A=(numeric.muleq,numeric.norminf,numeric.any,Math.min),T=numeric.all,w=numeric.gt,S=Array(d),R=Array(y),O=(numeric.rep([y],1),numeric.solve),D=p(n,h(e,i)),C=h(r,r);for(f=N;u>f;++f){var L,P;for(L=y-1;-1!==L;--L)R[L]=g(e[L],D[L]);var j=x(R);for(L=d-1;-1!==L;--L)S[L]=c(j[L]);E=.25*I(C/h(r,S));var _=100*M(C/h(S,S));for((!isFinite(E)||E>_)&&(E=_),l=v(r,m(E,S)),s=h(j,R),L=d-1;-1!==L;--L)s[L][L]+=1;P=O(s,g(l,E),!0);var V=g(D,h(e,P)),F=1;for(L=y-1;-1!==L;--L)V[L]<0&&(F=A(F,-.999*V[L]));if(o=p(i,m(P,F)),D=p(n,h(e,o)),!T(w(D,0)))return{solution:i,message:"",iterations:f};if(i=o,t>E)return{solution:o,message:"",iterations:f};if(a){var U=h(r,l),k=h(e,l);for(b=!0,L=y-1;-1!==L;--L)if(U*k[L]<0){b=!1;break}}else b=i[d-1]>=0?!1:!0;if(b)return{solution:o,message:"Unbounded",iterations:f}}return{solution:i,message:"maximum iteration count exceeded",iterations:f}},numeric._solveLP=function(r,e,n,t,u){var i,a=r.length,o=n.length,s=(numeric.sum,numeric.log,numeric.mul,numeric.sub),f=numeric.dot,l=(numeric.div,numeric.add,numeric.rep([a],0).concat([1])),c=numeric.rep([o,1],-1),m=numeric.blockMatrix([[e,c]]),p=n,i=numeric.rep([a],0).concat(Math.max(0,numeric.sup(numeric.neg(n)))+1),h=numeric.__solveLP(l,m,p,t,u,i,!1),g=numeric.clone(h.solution);g.length=a;var v=numeric.inf(s(n,f(e,g)));if(0>v)return{solution:0/0,message:"Infeasible",iterations:h.iterations};var d=numeric.__solveLP(r,e,n,t,u-h.iterations,g,!0);return d.iterations+=h.iterations,d},numeric.solveLP=function(r,e,n,t,u,i,a){if("undefined"==typeof a&&(a=1e3),"undefined"==typeof i&&(i=numeric.epsilon),"undefined"==typeof t)return numeric._solveLP(r,e,n,i,a);var o,s=t.length,f=t[0].length,l=e.length,c=numeric.echelonize(t),m=numeric.rep([f],0),p=c.P,h=[];for(o=p.length-1;-1!==o;--o)m[p[o]]=1;for(o=f-1;-1!==o;--o)0===m[o]&&h.push(o);var g=numeric.getRange,v=numeric.linspace(0,s-1),d=numeric.linspace(0,l-1),y=g(t,v,h),b=g(e,d,p),N=g(e,d,h),E=numeric.dot,x=numeric.sub,M=E(b,c.I),I=x(N,E(M,y)),A=x(n,E(M,u)),T=Array(p.length),w=Array(h.length);for(o=p.length-1;-1!==o;--o)T[o]=r[p[o]];for(o=h.length-1;-1!==o;--o)w[o]=r[h[o]];var S=x(w,E(T,E(c.I,y))),R=numeric._solveLP(S,I,A,i,a),O=R.solution;if(O!==O)return R;var D=E(c.I,x(u,E(y,O))),C=Array(r.length);for(o=p.length-1;-1!==o;--o)C[p[o]]=D[o];for(o=h.length-1;-1!==o;--o)C[h[o]]=O[o];return{solution:C,message:R.message,iterations:R.iterations}},numeric.MPStoLP=function(r){function e(e){throw new Error("MPStoLP: "+e+"\nLine "+n+": "+r[n]+"\nCurrent state: "+o[a]+"\n")}r instanceof String&&r.split("\n");var n,t,u,i,a=0,o=["Initial state","NAME","ROWS","COLUMNS","RHS","BOUNDS","ENDATA"],s=r.length,f=0,l={},c=[],m=0,p={},h=0,g=[],v=[],d=[];for(n=0;s>n;++n){u=r[n];var y=u.match(/\S*/g),b=[];for(t=0;t<y.length;++t)""!==y[t]&&b.push(y[t]);if(0!==b.length){for(t=0;t<o.length&&u.substr(0,o[t].length)!==o[t];++t);if(t<o.length){if(a=t,1===t&&(i=b[1]),6===t)return{name:i,c:g,A:numeric.transpose(v),b:d,rows:l,vars:p}}else switch(a){case 0:case 1:e("Unexpected line");
case 2:switch(b[0]){case"N":0===f?f=b[1]:e("Two or more N rows");break;case"L":l[b[1]]=m,c[m]=1,d[m]=0,++m;break;case"G":l[b[1]]=m,c[m]=-1,d[m]=0,++m;break;case"E":l[b[1]]=m,c[m]=0,d[m]=0,++m;break;default:e("Parse error "+numeric.prettyPrint(b))}break;case 3:p.hasOwnProperty(b[0])||(p[b[0]]=h,g[h]=0,v[h]=numeric.rep([m],0),++h);var N=p[b[0]];for(t=1;t<b.length;t+=2)if(b[t]!==f){var E=l[b[t]];v[N][E]=(c[E]<0?-1:1)*parseFloat(b[t+1])}else g[N]=parseFloat(b[t+1]);break;case 4:for(t=1;t<b.length;t+=2)d[l[b[t]]]=(c[l[b[t]]]<0?-1:1)*parseFloat(b[t+1]);break;case 5:break;case 6:e("Internal error")}}}e("Reached end of file without ENDATA")},numeric.seedrandom={pow:Math.pow,random:Math.random},function(r,e,n,t,u,i,a){function o(r){var e,t,u=this,i=r.length,a=0,o=u.i=u.j=u.m=0;for(u.S=[],u.c=[],i||(r=[i++]);n>a;)u.S[a]=a++;for(a=0;n>a;a++)e=u.S[a],o=l(o+e+r[a%i]),t=u.S[o],u.S[a]=t,u.S[o]=e;u.g=function(r){var e=u.S,t=l(u.i+1),i=e[t],a=l(u.j+i),o=e[a];e[t]=o,e[a]=i;for(var s=e[l(i+o)];--r;)t=l(t+1),i=e[t],a=l(a+i),o=e[a],e[t]=o,e[a]=i,s=s*n+e[l(i+o)];return u.i=t,u.j=a,s},u.g(n)}function s(r,e,n,t,u){if(n=[],u=typeof r,e&&"object"==u)for(t in r)if(t.indexOf("S")<5)try{n.push(s(r[t],e-1))}catch(i){}return n.length?n:r+("string"!=u?"\x00":"")}function f(r,e,n,t){for(r+="",n=0,t=0;t<r.length;t++)e[l(t)]=l((n^=19*e[l(t)])+r.charCodeAt(t));r="";for(t in e)r+=String.fromCharCode(e[t]);return r}function l(r){return r&n-1}e.seedrandom=function(l,c){var m,p=[];return l=f(s(c?[l,r]:arguments.length?l:[(new Date).getTime(),r,window],3),p),m=new o(p),f(m.S,r),e.random=function(){for(var r=m.g(t),e=a,o=0;u>r;)r=(r+o)*n,e*=n,o=m.g(1);for(;r>=i;)r/=2,e/=2,o>>>=1;return(r+o)/e},l},a=e.pow(n,t),u=e.pow(2,u),i=2*u,f(e.random(),r)}([],numeric.seedrandom,256,6,52),function(r){function e(r){if("object"!=typeof r)return r;var n,t=[],u=r.length;for(n=0;u>n;n++)t[n+1]=e(r[n]);return t}function n(r){if("object"!=typeof r)return r;var e,t=[],u=r.length;for(e=1;u>e;e++)t[e-1]=n(r[e]);return t}function t(r,e,n){var t,u,i,a,o;for(i=1;n>=i;i+=1){for(r[i][i]=1/r[i][i],o=-r[i][i],t=1;i>t;t+=1)r[t][i]=o*r[t][i];if(a=i+1,a>n)break;for(u=a;n>=u;u+=1)for(o=r[i][u],r[i][u]=0,t=1;i>=t;t+=1)r[t][u]=r[t][u]+o*r[t][i]}}function u(r,e,n,t){var u,i,a,o;for(i=1;n>=i;i+=1){for(o=0,u=1;i>u;u+=1)o+=r[u][i]*t[u];t[i]=(t[i]-o)/r[i][i]}for(a=1;n>=a;a+=1)for(i=n+1-a,t[i]=t[i]/r[i][i],o=-t[i],u=1;i>u;u+=1)t[u]=t[u]+o*r[u][i]}function i(r,e,n,t){var u,i,a,o,s,f;for(i=1;n>=i;i+=1){if(t[1]=i,f=0,a=i-1,1>a){if(f=r[i][i]-f,0>=f)break;r[i][i]=Math.sqrt(f)}else{for(o=1;a>=o;o+=1){for(s=r[o][i],u=1;o>u;u+=1)s-=r[u][i]*r[u][o];s/=r[o][o],r[o][i]=s,f+=s*s}if(f=r[i][i]-f,0>=f)break;r[i][i]=Math.sqrt(f)}t[1]=0}}function a(r,e,n,a,o,s,f,l,c,m,p,h,g,v,d,y){function b(){for(v[1]=v[1]+1,T=L,I=1;m>=I;I+=1){for(T+=1,U=-l[I],A=1;a>=A;A+=1)U+=f[A][I]*o[A];if(Math.abs(U)<Q&&(U=0),I>p)d[T]=U;else if(d[T]=-Math.abs(U),U>0){for(A=1;a>=A;A+=1)f[A][I]=-f[A][I];l[I]=-l[I]}}for(I=1;g>=I;I+=1)d[L+h[I]]=0;for(j=0,F=0,I=1;m>=I;I+=1)d[L+I]<F*d[V+I]&&(j=I,F=d[L+I]/d[V+I]);return 0===j?999:0}function N(){for(I=1;a>=I;I+=1){for(U=0,A=1;a>=A;A+=1)U+=r[A][I]*f[A][j];d[I]=U}for(w=O,I=1;a>=I;I+=1)d[w+I]=0;for(A=g+1;a>=A;A+=1)for(I=1;a>=I;I+=1)d[w+I]=d[w+I]+r[I][A]*d[A];for(X=!0,I=g;I>=1;I-=1){for(U=d[I],T=C+I*(I+3)/2,w=T-I,A=I+1;g>=A;A+=1)U-=d[T]*d[D+A],T+=A;if(U/=d[w],d[D+I]=U,h[I]<p)break;if(0>U)break;X=!1,R=I}if(!X)for(k=d[P+R]/d[D+R],I=1;g>=I&&!(h[I]<p)&&!(d[D+I]<0);I+=1)F=d[P+I]/d[D+I],k>F&&(k=F,R=I);for(U=0,I=O+1;O+a>=I;I+=1)U+=d[I]*d[I];if(Math.abs(U)<=Q){if(X)return y[1]=1,999;for(I=1;g>=I;I+=1)d[P+I]=d[P+I]-k*d[D+I];return d[P+g+1]=d[P+g+1]+k,700}for(U=0,I=1;a>=I;I+=1)U+=d[O+I]*f[I][j];for(q=-d[L+j]/U,H=!0,X||q>k&&(q=k,H=!1),I=1;a>=I;I+=1)o[I]=o[I]+q*d[O+I],Math.abs(o[I])<Q&&(o[I]=0);for(s[1]=s[1]+q*U*(q/2+d[P+g+1]),I=1;g>=I;I+=1)d[P+I]=d[P+I]-q*d[D+I];if(d[P+g+1]=d[P+g+1]+q,!H){for(U=-l[j],A=1;a>=A;A+=1)U+=o[A]*f[A][j];if(j>p)d[L+j]=U;else if(d[L+j]=-Math.abs(U),U>0){for(A=1;a>=A;A+=1)f[A][j]=-f[A][j];l[j]=-l[j]}return 700}for(g+=1,h[g]=j,T=C+(g-1)*g/2+1,I=1;g-1>=I;I+=1)d[T]=d[I],T+=1;if(g===a)d[T]=d[a];else{for(I=a;I>=g+1&&0!==d[I]&&(G=Math.max(Math.abs(d[I-1]),Math.abs(d[I])),B=Math.min(Math.abs(d[I-1]),Math.abs(d[I])),F=d[I-1]>=0?Math.abs(G*Math.sqrt(1+B*B/(G*G))):-Math.abs(G*Math.sqrt(1+B*B/(G*G))),G=d[I-1]/F,B=d[I]/F,1!==G);I-=1)if(0===G)for(d[I-1]=B*F,A=1;a>=A;A+=1)F=r[A][I-1],r[A][I-1]=r[A][I],r[A][I]=F;else for(d[I-1]=F,Y=B/(1+G),A=1;a>=A;A+=1)F=G*r[A][I-1]+B*r[A][I],r[A][I]=Y*(r[A][I-1]+F)-r[A][I],r[A][I-1]=F;d[T]=d[g]}return 0}function E(){if(T=C+R*(R+1)/2+1,w=T+R,0===d[w])return 798;if(G=Math.max(Math.abs(d[w-1]),Math.abs(d[w])),B=Math.min(Math.abs(d[w-1]),Math.abs(d[w])),F=d[w-1]>=0?Math.abs(G*Math.sqrt(1+B*B/(G*G))):-Math.abs(G*Math.sqrt(1+B*B/(G*G))),G=d[w-1]/F,B=d[w]/F,1===G)return 798;if(0===G){for(I=R+1;g>=I;I+=1)F=d[w-1],d[w-1]=d[w],d[w]=F,w+=I;for(I=1;a>=I;I+=1)F=r[I][R],r[I][R]=r[I][R+1],r[I][R+1]=F}else{for(Y=B/(1+G),I=R+1;g>=I;I+=1)F=G*d[w-1]+B*d[w],d[w]=Y*(d[w-1]+F)-d[w],d[w-1]=F,w+=I;for(I=1;a>=I;I+=1)F=G*r[I][R]+B*r[I][R+1],r[I][R+1]=Y*(r[I][R]+F)-r[I][R+1],r[I][R]=F}return 0}function x(){for(w=T-R,I=1;R>=I;I+=1)d[w]=d[T],T+=1,w+=1;return d[P+R]=d[P+R+1],h[R]=h[R+1],R+=1,g>R?797:0}function M(){return d[P+g]=d[P+g+1],d[P+g+1]=0,h[g]=0,g-=1,v[2]=v[2]+1,0}var I,A,T,w,S,R,O,D,C,L,P,j,_,V,F,U,k,q,G,B,Y,X,H,Q,K,W,z;_=Math.min(a,m),T=2*a+_*(_+5)/2+2*m+1,Q=1e-60;do Q+=Q,K=1+.1*Q,W=1+.2*Q;while(1>=K||1>=W);for(I=1;a>=I;I+=1)d[I]=e[I];for(I=a+1;T>=I;I+=1)d[I]=0;for(I=1;m>=I;I+=1)h[I]=0;if(S=[],0===y[1]){if(i(r,n,a,S),0!==S[1])return void(y[1]=2);u(r,n,a,e),t(r,n,a)}else{for(A=1;a>=A;A+=1)for(o[A]=0,I=1;A>=I;I+=1)o[A]=o[A]+r[I][A]*e[I];for(A=1;a>=A;A+=1)for(e[A]=0,I=A;a>=I;I+=1)e[A]=e[A]+r[A][I]*o[I]}for(s[1]=0,A=1;a>=A;A+=1)for(o[A]=e[A],s[1]=s[1]+d[A]*o[A],d[A]=0,I=A+1;a>=I;I+=1)r[I][A]=0;for(s[1]=-s[1]/2,y[1]=0,O=a,D=O+a,P=D+_,C=P+_+1,L=C+_*(_+1)/2,V=L+m,I=1;m>=I;I+=1){for(U=0,A=1;a>=A;A+=1)U+=f[A][I]*f[A][I];d[V+I]=Math.sqrt(U)}for(g=0,v[1]=0,v[2]=0,z=0;;){if(z=b(),999===z)return;for(;;){if(z=N(),0===z)break;if(999===z)return;if(700===z)if(R===g)M();else{for(;;)if(E(),z=x(),797!==z)break;M()}}}}function o(r,t,u,i,o,s){r=e(r),t=e(t),u=e(u);var f,l,c,m,p,h,g=[],v=[],d=[],y=[],b=[];if(o=o||0,s=s?e(s):[void 0,0],i=i?e(i):[],l=r.length-1,c=u[1].length-1,!i)for(f=1;c>=f;f+=1)i[f]=0;for(f=1;c>=f;f+=1)v[f]=0;for(m=0,p=Math.min(l,c),f=1;l>=f;f+=1)d[f]=0;for(g[1]=0,f=1;2*l+p*(p+5)/2+2*c+1>=f;f+=1)y[f]=0;for(f=1;2>=f;f+=1)b[f]=0;return a(r,t,l,l,d,g,u,i,l,c,o,v,m,b,y,s),h="",1===s[1]&&(h="constraints are inconsistent, no solution!"),2===s[1]&&(h="matrix D in quadratic function is not positive definite!"),{solution:n(d),value:n(g),unconstrained_solution:n(t),iterations:n(b),iact:n(v),message:h}}r.solveQP=o}(numeric),numeric.svd=function(r){function e(r,e){return r=Math.abs(r),e=Math.abs(e),r>e?r*Math.sqrt(1+e*e/r/r):0==e?r:e*Math.sqrt(1+r*r/e/e)}var n,t=numeric.epsilon,u=1e-64/t,i=50,a=0,o=0,s=0,f=0,l=0,c=numeric.clone(r),m=c.length,p=c[0].length;if(p>m)throw"Need more rows than columns";var h=new Array(p),g=new Array(p);for(o=0;p>o;o++)h[o]=g[o]=0;var v=numeric.rep([p,p],0),d=0,y=0,b=0,N=0,E=0,x=0,M=0;for(o=0;p>o;o++){for(h[o]=y,M=0,l=o+1,s=o;m>s;s++)M+=c[s][o]*c[s][o];if(u>=M)y=0;else for(d=c[o][o],y=Math.sqrt(M),d>=0&&(y=-y),b=d*y-M,c[o][o]=d-y,s=l;p>s;s++){for(M=0,f=o;m>f;f++)M+=c[f][o]*c[f][s];for(d=M/b,f=o;m>f;f++)c[f][s]+=d*c[f][o]}for(g[o]=y,M=0,s=l;p>s;s++)M+=c[o][s]*c[o][s];if(u>=M)y=0;else{for(d=c[o][o+1],y=Math.sqrt(M),d>=0&&(y=-y),b=d*y-M,c[o][o+1]=d-y,s=l;p>s;s++)h[s]=c[o][s]/b;for(s=l;m>s;s++){for(M=0,f=l;p>f;f++)M+=c[s][f]*c[o][f];for(f=l;p>f;f++)c[s][f]+=M*h[f]}}E=Math.abs(g[o])+Math.abs(h[o]),E>N&&(N=E)}for(o=p-1;-1!=o;o+=-1){if(0!=y){for(b=y*c[o][o+1],s=l;p>s;s++)v[s][o]=c[o][s]/b;for(s=l;p>s;s++){for(M=0,f=l;p>f;f++)M+=c[o][f]*v[f][s];for(f=l;p>f;f++)v[f][s]+=M*v[f][o]}}for(s=l;p>s;s++)v[o][s]=0,v[s][o]=0;v[o][o]=1,y=h[o],l=o}for(o=p-1;-1!=o;o+=-1){for(l=o+1,y=g[o],s=l;p>s;s++)c[o][s]=0;if(0!=y){for(b=c[o][o]*y,s=l;p>s;s++){for(M=0,f=l;m>f;f++)M+=c[f][o]*c[f][s];for(d=M/b,f=o;m>f;f++)c[f][s]+=d*c[f][o]}for(s=o;m>s;s++)c[s][o]=c[s][o]/y}else for(s=o;m>s;s++)c[s][o]=0;c[o][o]+=1}for(t*=N,f=p-1;-1!=f;f+=-1)for(var I=0;i>I;I++){var A=!1;for(l=f;-1!=l;l+=-1){if(Math.abs(h[l])<=t){A=!0;break}if(Math.abs(g[l-1])<=t)break}if(!A){a=0,M=1;var T=l-1;for(o=l;f+1>o&&(d=M*h[o],h[o]=a*h[o],!(Math.abs(d)<=t));o++)for(y=g[o],b=e(d,y),g[o]=b,a=y/b,M=-d/b,s=0;m>s;s++)E=c[s][T],x=c[s][o],c[s][T]=E*a+x*M,c[s][o]=-E*M+x*a}if(x=g[f],l==f){if(0>x)for(g[f]=-x,s=0;p>s;s++)v[s][f]=-v[s][f];break}if(I>=i-1)throw"Error: no convergence.";for(N=g[l],E=g[f-1],y=h[f-1],b=h[f],d=((E-x)*(E+x)+(y-b)*(y+b))/(2*b*E),y=e(d,1),d=0>d?((N-x)*(N+x)+b*(E/(d-y)-b))/N:((N-x)*(N+x)+b*(E/(d+y)-b))/N,a=1,M=1,o=l+1;f+1>o;o++){for(y=h[o],E=g[o],b=M*y,y=a*y,x=e(d,b),h[o-1]=x,a=d/x,M=b/x,d=N*a+y*M,y=-N*M+y*a,b=E*M,E*=a,s=0;p>s;s++)N=v[s][o-1],x=v[s][o],v[s][o-1]=N*a+x*M,v[s][o]=-N*M+x*a;for(x=e(d,b),g[o-1]=x,a=d/x,M=b/x,d=a*y+M*E,N=-M*y+a*E,s=0;m>s;s++)E=c[s][o-1],x=c[s][o],c[s][o-1]=E*a+x*M,c[s][o]=-E*M+x*a}h[l]=0,h[f]=d,g[f]=N}for(o=0;o<g.length;o++)g[o]<t&&(g[o]=0);for(o=0;p>o;o++)for(s=o-1;s>=0;s--)if(g[s]<g[o]){for(a=g[s],g[s]=g[o],g[o]=a,f=0;f<c.length;f++)n=c[f][o],c[f][o]=c[f][s],c[f][s]=n;for(f=0;f<v.length;f++)n=v[f][o],v[f][o]=v[f][s],v[f][s]=n;o=s}return{U:c,S:g,V:v}}}).call(exports,function(){return this}())},function(r,e){var n,t;/*!
	 * numeral.js
	 * version : 1.5.3
	 * author : Adam Draper
	 * license : MIT
	 * http://adamwdraper.github.com/Numeral-js/
	 */
(function(){function u(r){this._value=r}function i(r,e,n,t){var u,i,a=Math.pow(10,e);return i=(n(r*a)/a).toFixed(e),t&&(u=new RegExp("0{1,"+t+"}$"),i=i.replace(u,"")),i}function a(r,e,n){var t;return t=e.indexOf("$")>-1?s(r,e,n):e.indexOf("%")>-1?f(r,e,n):e.indexOf(":")>-1?l(r,e):m(r._value,e,n)}function o(r,e){var n,t,u,i,a,o=e,s=["KB","MB","GB","TB","PB","EB","ZB","YB"],f=!1;if(e.indexOf(":")>-1)r._value=c(e);else if(e===N)r._value=0;else{for("."!==y[b].delimiters.decimal&&(e=e.replace(/\./g,"").replace(y[b].delimiters.decimal,".")),n=new RegExp("[^a-zA-Z]"+y[b].abbreviations.thousand+"(?:\\)|(\\"+y[b].currency.symbol+")?(?:\\))?)?$"),t=new RegExp("[^a-zA-Z]"+y[b].abbreviations.million+"(?:\\)|(\\"+y[b].currency.symbol+")?(?:\\))?)?$"),u=new RegExp("[^a-zA-Z]"+y[b].abbreviations.billion+"(?:\\)|(\\"+y[b].currency.symbol+")?(?:\\))?)?$"),i=new RegExp("[^a-zA-Z]"+y[b].abbreviations.trillion+"(?:\\)|(\\"+y[b].currency.symbol+")?(?:\\))?)?$"),a=0;a<=s.length&&!(f=e.indexOf(s[a])>-1?Math.pow(1024,a+1):!1);a++);r._value=(f?f:1)*(o.match(n)?Math.pow(10,3):1)*(o.match(t)?Math.pow(10,6):1)*(o.match(u)?Math.pow(10,9):1)*(o.match(i)?Math.pow(10,12):1)*(e.indexOf("%")>-1?.01:1)*((e.split("-").length+Math.min(e.split("(").length-1,e.split(")").length-1))%2?1:-1)*Number(e.replace(/[^0-9\.]+/g,"")),r._value=f?Math.ceil(r._value):r._value}return r._value}function s(r,e,n){var t,u,i=e.indexOf("$"),a=e.indexOf("("),o=e.indexOf("-"),s="";return e.indexOf(" $")>-1?(s=" ",e=e.replace(" $","")):e.indexOf("$ ")>-1?(s=" ",e=e.replace("$ ","")):e=e.replace("$",""),u=m(r._value,e,n),1>=i?u.indexOf("(")>-1||u.indexOf("-")>-1?(u=u.split(""),t=1,(a>i||o>i)&&(t=0),u.splice(t,0,y[b].currency.symbol+s),u=u.join("")):u=y[b].currency.symbol+s+u:u.indexOf(")")>-1?(u=u.split(""),u.splice(-1,0,s+y[b].currency.symbol),u=u.join("")):u=u+s+y[b].currency.symbol,u}function f(r,e,n){var t,u="",i=100*r._value;return e.indexOf(" %")>-1?(u=" ",e=e.replace(" %","")):e=e.replace("%",""),t=m(i,e,n),t.indexOf(")")>-1?(t=t.split(""),t.splice(-1,0,u+"%"),t=t.join("")):t=t+u+"%",t}function l(r){var e=Math.floor(r._value/60/60),n=Math.floor((r._value-60*e*60)/60),t=Math.round(r._value-60*e*60-60*n);return e+":"+(10>n?"0"+n:n)+":"+(10>t?"0"+t:t)}function c(r){var e=r.split(":"),n=0;return 3===e.length?(n+=60*Number(e[0])*60,n+=60*Number(e[1]),n+=Number(e[2])):2===e.length&&(n+=60*Number(e[0]),n+=Number(e[1])),Number(n)}function m(r,e,n){var t,u,a,o,s,f,l=!1,c=!1,m=!1,p="",h=!1,g=!1,v=!1,d=!1,E=!1,x="",M="",I=Math.abs(r),A=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],T="",w=!1;if(0===r&&null!==N)return N;if(e.indexOf("(")>-1?(l=!0,e=e.slice(1,-1)):e.indexOf("+")>-1&&(c=!0,e=e.replace(/\+/g,"")),e.indexOf("a")>-1&&(h=e.indexOf("aK")>=0,g=e.indexOf("aM")>=0,v=e.indexOf("aB")>=0,d=e.indexOf("aT")>=0,E=h||g||v||d,e.indexOf(" a")>-1?(p=" ",e=e.replace(" a","")):e=e.replace("a",""),I>=Math.pow(10,12)&&!E||d?(p+=y[b].abbreviations.trillion,r/=Math.pow(10,12)):I<Math.pow(10,12)&&I>=Math.pow(10,9)&&!E||v?(p+=y[b].abbreviations.billion,r/=Math.pow(10,9)):I<Math.pow(10,9)&&I>=Math.pow(10,6)&&!E||g?(p+=y[b].abbreviations.million,r/=Math.pow(10,6)):(I<Math.pow(10,6)&&I>=Math.pow(10,3)&&!E||h)&&(p+=y[b].abbreviations.thousand,r/=Math.pow(10,3))),e.indexOf("b")>-1)for(e.indexOf(" b")>-1?(x=" ",e=e.replace(" b","")):e=e.replace("b",""),a=0;a<=A.length;a++)if(t=Math.pow(1024,a),u=Math.pow(1024,a+1),r>=t&&u>r){x+=A[a],t>0&&(r/=t);break}return e.indexOf("o")>-1&&(e.indexOf(" o")>-1?(M=" ",e=e.replace(" o","")):e=e.replace("o",""),M+=y[b].ordinal(r)),e.indexOf("[.]")>-1&&(m=!0,e=e.replace("[.]",".")),o=r.toString().split(".")[0],s=e.split(".")[1],f=e.indexOf(","),s?(s.indexOf("[")>-1?(s=s.replace("]",""),s=s.split("["),T=i(r,s[0].length+s[1].length,n,s[1].length)):T=i(r,s.length,n),o=T.split(".")[0],T=T.split(".")[1].length?y[b].delimiters.decimal+T.split(".")[1]:"",m&&0===Number(T.slice(1))&&(T="")):o=i(r,null,n),o.indexOf("-")>-1&&(o=o.slice(1),w=!0),f>-1&&(o=o.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+y[b].delimiters.thousands)),0===e.indexOf(".")&&(o=""),(l&&w?"(":"")+(!l&&w?"-":"")+(!w&&c?"+":"")+o+T+(M?M:"")+(p?p:"")+(x?x:"")+(l&&w?")":"")}function p(r,e){y[r]=e}function h(r){var e=r.toString().split(".");return e.length<2?1:Math.pow(10,e[1].length)}function g(){var r=Array.prototype.slice.call(arguments);return r.reduce(function(r,e){var n=h(r),t=h(e);return n>t?n:t},-1/0)}var v,d="1.5.3",y={},b="en",N=null,E="0,0",x="undefined"!=typeof r&&r.exports;v=function(r){return v.isNumeral(r)?r=r.value():0===r||"undefined"==typeof r?r=0:Number(r)||(r=v.fn.unformat(r)),new u(Number(r))},v.version=d,v.isNumeral=function(r){return r instanceof u},v.language=function(r,e){if(!r)return b;if(r&&!e){if(!y[r])throw new Error("Unknown language : "+r);b=r}return(e||!y[r])&&p(r,e),v},v.languageData=function(r){if(!r)return y[b];if(!y[r])throw new Error("Unknown language : "+r);return y[r]},v.language("en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(r){var e=r%10;return 1===~~(r%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th"},currency:{symbol:"$"}}),v.zeroFormat=function(r){N="string"==typeof r?r:null},v.defaultFormat=function(r){E="string"==typeof r?r:"0.0"},"function"!=typeof Array.prototype.reduce&&(Array.prototype.reduce=function(r,e){"use strict";if(null===this||"undefined"==typeof this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof r)throw new TypeError(r+" is not a function");var n,t,u=this.length>>>0,i=!1;for(1<arguments.length&&(t=e,i=!0),n=0;u>n;++n)this.hasOwnProperty(n)&&(i?t=r(t,this[n],n,this):(t=this[n],i=!0));if(!i)throw new TypeError("Reduce of empty array with no initial value");return t}),v.fn=u.prototype={clone:function(){return v(this)},format:function(r,e){return a(this,r?r:E,void 0!==e?e:Math.round)},unformat:function(r){return"[object Number]"===Object.prototype.toString.call(r)?r:o(this,r?r:E)},value:function(){return this._value},valueOf:function(){return this._value},set:function(r){return this._value=Number(r),this},add:function(r){function e(r,e){return r+n*e}var n=g.call(null,this._value,r);return this._value=[this._value,r].reduce(e,0)/n,this},subtract:function(r){function e(r,e){return r-n*e}var n=g.call(null,this._value,r);return this._value=[r].reduce(e,this._value*n)/n,this},multiply:function(r){function e(r,e){var n=g(r,e);return r*n*e*n/(n*n)}return this._value=[this._value,r].reduce(e,1),this},divide:function(r){function e(r,e){var n=g(r,e);return r*n/(e*n)}return this._value=[this._value,r].reduce(e),this},difference:function(r){return Math.abs(v(this._value).subtract(r).value())}},x&&(r.exports=v),"undefined"==typeof ender&&(this.numeral=v),n=[],t=function(){return v}.apply(e,n),!(void 0!==t&&(r.exports=t))}).call(this)},function(){this.j$=this.jStat=function(r){function e(e,n){var t=e>n?e:n;return r.pow(10,17-~~(r.log(t>0?t:-t)*r.LOG10E))}function n(r){return"[object Function]"===c.call(r)}function t(r){return"number"==typeof r&&r===r}function u(r){return f.apply([],r)}function i(){return new i._init(arguments)}function a(){return 0}function o(){return 1}function s(r,e){return r===e?1:0}var f=Array.prototype.concat,l=Array.prototype.slice,c=Object.prototype.toString,m=Array.isArray||function(r){return"[object Array]"===c.call(r)};i.fn=i.prototype,i._init=function(r){var e;if(m(r[0]))if(m(r[0][0])){for(n(r[1])&&(r[0]=i.map(r[0],r[1])),e=0;e<r[0].length;e++)this[e]=r[0][e];this.length=r[0].length}else this[0]=n(r[1])?i.map(r[0],r[1]):r[0],this.length=1;else if(t(r[0]))this[0]=i.seq.apply(null,r),this.length=1;else{if(r[0]instanceof i)return i(r[0].toArray());this[0]=[],this.length=1}return this},i._init.prototype=i.prototype,i._init.constructor=i,i.utils={calcRdx:e,isArray:m,isFunction:n,isNumber:t,toVector:u},i.extend=function(r){var e,n;if(1===arguments.length){for(n in r)i[n]=r[n];return this}for(e=1;e<arguments.length;e++)for(n in arguments[e])r[n]=arguments[e][n];return r},i.rows=function(r){return r.length||1},i.cols=function(r){return r[0].length||1},i.dimensions=function(r){return{rows:i.rows(r),cols:i.cols(r)}},i.row=function(r,e){return r[e]},i.col=function(r,e){for(var n=new Array(r.length),t=0;t<r.length;t++)n[t]=[r[t][e]];return n},i.diag=function(r){for(var e=i.rows(r),n=new Array(e),t=0;e>t;t++)n[t]=[r[t][t]];return n},i.antidiag=function(r){for(var e=i.rows(r)-1,n=new Array(e),t=0;e>=0;e--,t++)n[t]=[r[t][e]];return n},i.transpose=function(r){var e,n,t,u,i,a=[];for(m(r[0])||(r=[r]),n=r.length,t=r[0].length,i=0;t>i;i++){for(e=new Array(n),u=0;n>u;u++)e[u]=r[u][i];a.push(e)}return 1===a.length?a[0]:a},i.map=function(r,e,n){var t,u,i,a,o;for(m(r[0])||(r=[r]),u=r.length,i=r[0].length,a=n?r:new Array(u),t=0;u>t;t++)for(a[t]||(a[t]=new Array(i)),o=0;i>o;o++)a[t][o]=e(r[t][o],t,o);return 1===a.length?a[0]:a},i.alter=function(r,e){return i.map(r,e,!0)},i.create=function(r,e,t){var u,i,a=new Array(r);for(n(e)&&(t=e,e=r),u=0;r>u;u++)for(a[u]=new Array(e),i=0;e>i;i++)a[u][i]=t(u,i);return a},i.zeros=function(r,e){return t(e)||(e=r),i.create(r,e,a)},i.ones=function(r,e){return t(e)||(e=r),i.create(r,e,o)},i.rand=function(e,n){return t(n)||(n=e),i.create(e,n,r.random)},i.identity=function(r,e){return t(e)||(e=r),i.create(r,e,s)},i.symmetric=function(r){var e,n,t=r.length;if(r.length!==r[0].length)return!1;for(e=0;t>e;e++)for(n=0;t>n;n++)if(r[n][e]!==r[e][n])return!1;return!0},i.clear=function(r){return i.alter(r,a)},i.seq=function(r,t,u,i){n(i)||(i=!1);var a,o=[],s=e(r,t),f=(t*s-r*s)/((u-1)*s),l=r;for(a=0;t>=l;a++,l=(r*s+f*s*a)/s)o.push(i?i(l,a):l);return o};var p=i.prototype;return p.length=0,p.push=Array.prototype.push,p.sort=Array.prototype.sort,p.splice=Array.prototype.splice,p.slice=Array.prototype.slice,p.toArray=function(){return this.length>1?l.call(this):l.call(this)[0]},p.map=function(r,e){return i(i.map(this,r,e))},p.alter=function(r){return i.alter(this,r),this},function(r){for(var e=0;e<r.length;e++)(function(r){p[r]=function(e){var n,t=this;return e?(setTimeout(function(){e.call(t,p[r].call(t))}),this):(n=i[r](this),m(n)?i(n):n)}})(r[e])}("transpose clear symmetric rows cols dimensions diag antidiag".split(" ")),function(r){for(var e=0;e<r.length;e++)(function(r){p[r]=function(e,n){var t=this;return n?(setTimeout(function(){n.call(t,p[r].call(t,e))}),this):i(i[r](this,e))}})(r[e])}("row col".split(" ")),function(r){for(var e=0;e<r.length;e++)(function(r){p[r]=new Function("return jStat(jStat."+r+".apply(null, arguments));")})(r[e])}("create zeros ones rand identity".split(" ")),i}(Math),function(r,e){function n(r,e){return r-e}function t(r,n,t){return e.max(n,e.min(r,t))}var u=r.utils.isFunction;r.sum=function a(r){for(var a=0,e=r.length;--e>=0;)a+=r[e];return a},r.sumsqrd=function(r){for(var e=0,n=r.length;--n>=0;)e+=r[n]*r[n];return e},r.sumsqerr=function(e){for(var n,t=r.mean(e),u=0,i=e.length;--i>=0;)n=e[i]-t,u+=n*n;return u},r.product=function(r){for(var e=1,n=r.length;--n>=0;)e*=r[n];return e},r.min=function(r){for(var e=r[0],n=0;++n<r.length;)r[n]<e&&(e=r[n]);return e},r.max=function(r){for(var e=r[0],n=0;++n<r.length;)r[n]>e&&(e=r[n]);return e},r.mean=function(e){return r.sum(e)/e.length},r.meansqerr=function(e){return r.sumsqerr(e)/e.length},r.geomean=function(n){return e.pow(r.product(n),1/n.length)},r.median=function(r){var e=r.length,t=r.slice().sort(n);return 1&e?t[e/2|0]:(t[e/2-1]+t[e/2])/2},r.cumsum=function(r){var e,n=r.length,t=new Array(n);for(t[0]=r[0],e=1;n>e;e++)t[e]=t[e-1]+r[e];return t},r.diff=function(r){var e,n=[],t=r.length;for(e=1;t>e;e++)n.push(r[e]-r[e-1]);return n},r.mode=function(r){var e,t=r.length,u=r.slice().sort(n),i=1,a=0,o=0,s=[];for(e=0;t>e;e++)u[e]===u[e+1]?i++:(i>a?(s=[u[e]],a=i,o=0):i===a&&(s.push(u[e]),o++),i=1);return 0===o?s[0]:s},r.range=function(e){return r.max(e)-r.min(e)},r.variance=function(e,n){return r.sumsqerr(e)/(e.length-(n?1:0))},r.stdev=function(n,t){return e.sqrt(r.variance(n,t))},r.meandev=function(n){var t,u=0,i=r.mean(n);for(t=n.length-1;t>=0;t--)u+=e.abs(n[t]-i);return u/n.length},r.meddev=function(n){var t,u=0,i=r.median(n);for(t=n.length-1;t>=0;t--)u+=e.abs(n[t]-i);return u/n.length},r.coeffvar=function(e){return r.stdev(e)/r.mean(e)},r.quartiles=function(r){var t=r.length,u=r.slice().sort(n);return[u[e.round(t/4)-1],u[e.round(t/2)-1],u[e.round(3*t/4)-1]]},r.quantiles=function(r,u,i,a){var o,s,f,l,c,m,p=r.slice().sort(n),h=[u.length],g=r.length;for("undefined"==typeof i&&(i=3/8),"undefined"==typeof a&&(a=3/8),o=0;o<u.length;o++)s=u[o],f=i+s*(1-i-a),l=g*s+f,c=e.floor(t(l,1,g-1)),m=t(l-c,0,1),h[o]=(1-m)*p[c-1]+m*p[c];return h},r.percentileOfScore=function(r,e,n){var t,u,i=0,a=r.length,o=!1;for("strict"===n&&(o=!0),u=0;a>u;u++)t=r[u],(o&&e>t||!o&&e>=t)&&i++;return i/a},r.covariance=function(e,n){var t,u=r.mean(e),i=r.mean(n),a=e.length,o=new Array(a);for(t=0;a>t;t++)o[t]=(e[t]-u)*(n[t]-i);return r.sum(o)/(a-1)},r.corrcoeff=function(e,n){return r.covariance(e,n)/r.stdev(e,1)/r.stdev(n,1)};var i=r.prototype;i.cumsum=function(e,n){var t=[],a=0,o=this;if(u(e)&&(n=e,e=!1),n)return setTimeout(function(){n.call(o,i.cumsum.call(o,e))}),this;if(this.length>1){for(o=e===!0?this:this.transpose();a<o.length;a++)t[a]=r.cumsum(o[a]);return t}return r.cumsum(this[0],e)},function(e){for(var n=0;n<e.length;n++)(function(e){i[e]=function(n,t){var a=[],o=0,s=this;if(u(n)&&(t=n,n=!1),t)return setTimeout(function(){t.call(s,i[e].call(s,n))}),this;if(this.length>1){for(s=n===!0?this:this.transpose();o<s.length;o++)a[o]=r[e](s[o]);return n===!0?r[e](r.utils.toVector(a)):a}return r[e](this[0],n)}})(e[n])}("sum sumsqrd sumsqerr product min max mean meansqerr geomean median diff mode range variance stdev meandev meddev coeffvar quartiles".split(" ")),function(e){for(var n=0;n<e.length;n++)(function(e){i[e]=function(){var n=[],t=0,a=this,o=Array.prototype.slice.call(arguments);if(u(o[o.length-1])){var s=o[o.length-1],f=o.slice(0,o.length-1);return setTimeout(function(){s.call(a,i[e].apply(a,f))}),this}var s=void 0,l=function(n){return r[e].apply(a,[n].concat(o))};if(this.length>1){for(a=a.transpose();t<a.length;t++)n[t]=l(a[t]);return n}return l(this[0])}})(e[n])}("quantiles percentileOfScore".split(" "))}(this.jStat,Math),function(r,e){r.gammaln=function(r){var n,t,u,i=0,a=[76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18],o=1.000000000190015;for(u=(t=n=r)+5.5,u-=(n+.5)*e.log(u);6>i;i++)o+=a[i]/++t;return e.log(2.5066282746310007*o/n)-u},r.gammafn=function(r){var n,t,u,i,a=[-1.716185138865495,24.76565080557592,-379.80425647094563,629.3311553128184,866.9662027904133,-31451.272968848367,-36144.413418691176,66456.14382024054],o=[-30.8402300119739,315.35062697960416,-1015.1563674902192,-3107.771671572311,22538.11842098015,4755.846277527881,-134659.9598649693,-115132.2596755535],s=!1,f=0,l=0,c=0,m=r;if(0>=m){if(i=m%1+3.6e-16,!i)return 1/0;s=(1&m?-1:1)*e.PI/e.sin(e.PI*i),m=1-m}for(u=m,t=1>m?m++:(m-=f=(0|m)-1)-1,n=0;8>n;++n)c=(c+a[n])*t,l=l*t+o[n];if(i=c/l+1,m>u)i/=u;else if(u>m)for(n=0;f>n;++n)i*=m,m++;return s&&(i=s/i),i},r.gammap=function(n,t){var u,i=r.gammaln(n),a=n,o=1/n,s=o,f=t+1-n,l=1/1e-30,c=1/f,m=c,p=1,h=-~(8.5*e.log(n>=1?n:1/n)+.4*n+17);if(0>t||0>=n)return 0/0;if(n+1>t){for(;h>=p;p++)o+=s*=t/++a;return o*e.exp(-t+n*e.log(t)-i)}for(;h>=p;p++)u=-p*(p-n),f+=2,c=u*c+f,l=f+u/l,c=1/c,m*=c*l;return 1-m*e.exp(-t+n*e.log(t)-i)},r.factorialln=function(e){return 0>e?0/0:r.gammaln(e+1)},r.factorial=function(e){return 0>e?0/0:r.gammafn(e+1)},r.combination=function(n,t){return n>170||t>170?e.exp(r.combinationln(n,t)):r.factorial(n)/r.factorial(t)/r.factorial(n-t)},r.combinationln=function(e,n){return r.factorialln(e)-r.factorialln(n)-r.factorialln(e-n)},r.permutation=function(e,n){return r.factorial(e)/r.factorial(e-n)},r.betafn=function(n,t){return 0>=n||0>=t?void 0:n+t>170?e.exp(r.betaln(n,t)):r.gammafn(n)*r.gammafn(t)/r.gammafn(n+t)},r.betaln=function(e,n){return r.gammaln(e)+r.gammaln(n)-r.gammaln(e+n)},r.betacf=function(r,n,t){var u,i,a,o,s=1e-30,f=1,l=n+t,c=n+1,m=n-1,p=1,h=1-l*r/c;for(e.abs(h)<s&&(h=s),h=1/h,o=h;100>=f&&(u=2*f,i=f*(t-f)*r/((m+u)*(n+u)),h=1+i*h,e.abs(h)<s&&(h=s),p=1+i/p,e.abs(p)<s&&(p=s),h=1/h,o*=h*p,i=-(n+f)*(l+f)*r/((n+u)*(c+u)),h=1+i*h,e.abs(h)<s&&(h=s),p=1+i/p,e.abs(p)<s&&(p=s),h=1/h,a=h*p,o*=a,!(e.abs(a-1)<3e-7));f++);return o},r.gammapinv=function(n,t){var u,i,a,o,s,f,l,c=0,m=t-1,p=1e-8,h=r.gammaln(t);if(n>=1)return e.max(100,t+100*e.sqrt(t));if(0>=n)return 0;for(t>1?(f=e.log(m),l=e.exp(m*(f-1)-h),s=.5>n?n:1-n,a=e.sqrt(-2*e.log(s)),u=(2.30753+.27061*a)/(1+a*(.99229+.04481*a))-a,.5>n&&(u=-u),u=e.max(.001,t*e.pow(1-1/(9*t)-u/(3*e.sqrt(t)),3))):(a=1-t*(.253+.12*t),u=a>n?e.pow(n/a,1/t):1-e.log(1-(n-a)/(1-a)));12>c;c++){if(0>=u)return 0;if(i=r.gammap(t,u)-n,a=t>1?l*e.exp(-(u-m)+m*(e.log(u)-f)):e.exp(-u+m*e.log(u)-h),o=i/a,u-=a=o/(1-.5*e.min(1,o*((t-1)/u-1))),0>=u&&(u=.5*(u+a)),e.abs(a)<p*u)break}return u},r.erf=function(r){var n,t,u,i,a=[-1.3026537197817094,.6419697923564902,.019476473204185836,-.00956151478680863,-.000946595344482036,.000366839497852761,42523324806907e-18,-20278578112534e-18,-1624290004647e-18,130365583558e-17,1.5626441722e-8,-8.5238095915e-8,6.529054439e-9,5.059343495e-9,-9.91364156e-10,-2.27365122e-10,9.6467911e-11,2.394038e-12,-6.886027e-12,8.94487e-13,3.13092e-13,-1.12708e-13,3.81e-16,7.106e-15,-1.523e-15,-9.4e-17,1.21e-16,-2.8e-17],o=a.length-1,s=!1,f=0,l=0;for(0>r&&(r=-r,s=!0),n=2/(2+r),t=4*n-2;o>0;o--)u=f,f=t*f-l+a[o],l=u;return i=n*e.exp(-r*r+.5*(a[0]+t*f)-l),s?i-1:1-i},r.erfc=function(e){return 1-r.erf(e)},r.erfcinv=function(n){var t,u,i,a,o=0;if(n>=2)return-100;if(0>=n)return 100;for(a=1>n?n:2-n,i=e.sqrt(-2*e.log(a/2)),t=-.70711*((2.30753+.27061*i)/(1+i*(.99229+.04481*i))-i);2>o;o++)u=r.erfc(t)-a,t+=u/(1.1283791670955126*e.exp(-t*t)-t*u);return 1>n?t:-t},r.ibetainv=function(n,t,u){var i,a,o,s,f,l,c,m,p,h,g,v=1e-8,d=t-1,y=u-1,b=0;if(0>=n)return 0;if(n>=1)return 1;for(t>=1&&u>=1?(o=.5>n?n:1-n,s=e.sqrt(-2*e.log(o)),c=(2.30753+.27061*s)/(1+s*(.99229+.04481*s))-s,.5>n&&(c=-c),m=(c*c-3)/6,p=2/(1/(2*t-1)+1/(2*u-1)),h=c*e.sqrt(m+p)/p-(1/(2*u-1)-1/(2*t-1))*(m+5/6-2/(3*p)),c=t/(t+u*e.exp(2*h))):(i=e.log(t/(t+u)),a=e.log(u/(t+u)),s=e.exp(t*i)/t,f=e.exp(u*a)/u,h=s+f,c=s/h>n?e.pow(t*h*n,1/t):1-e.pow(u*h*(1-n),1/u)),g=-r.gammaln(t)-r.gammaln(u)+r.gammaln(t+u);10>b;b++){if(0===c||1===c)return c;if(l=r.ibeta(c,t,u)-n,s=e.exp(d*e.log(c)+y*e.log(1-c)+g),f=l/s,c-=s=f/(1-.5*e.min(1,f*(d/c-y/(1-c)))),0>=c&&(c=.5*(c+s)),c>=1&&(c=.5*(c+s+1)),e.abs(s)<v*c&&b>0)break}return c},r.ibeta=function(n,t,u){var i=0===n||1===n?0:e.exp(r.gammaln(t+u)-r.gammaln(t)-r.gammaln(u)+t*e.log(n)+u*e.log(1-n));return 0>n||n>1?!1:(t+1)/(t+u+2)>n?i*r.betacf(n,t,u)/t:1-i*r.betacf(1-n,u,t)/u},r.randn=function(n,t){var u,i,a,o,s;if(t||(t=n),n)return r.create(n,t,function(){return r.randn()});do u=e.random(),i=1.7156*(e.random()-.5),a=u-.449871,o=e.abs(i)+.386595,s=a*a+o*(.196*o-.25472*a);while(s>.27597&&(s>.27846||i*i>-4*e.log(u)*u*u));return i/u},r.randg=function(n,t,u){var i,a,o,s,f,l,c=n;if(u||(u=t),n||(n=1),t)return l=r.zeros(t,u),l.alter(function(){return r.randg(n)}),l;1>n&&(n+=1),i=n-1/3,a=1/e.sqrt(9*i);do{do f=r.randn(),s=1+a*f;while(0>=s);s=s*s*s,o=e.random()}while(o>1-.331*e.pow(f,4)&&e.log(o)>.5*f*f+i*(1-s+e.log(s)));if(n==c)return i*s;do o=e.random();while(0===o);return e.pow(o,1/c)*i*s},function(e){for(var n=0;n<e.length;n++)(function(e){r.fn[e]=function(){return r(r.map(this,function(n){return r[e](n)}))}})(e[n])}("gammaln gammafn factorial factorialln".split(" ")),function(e){for(var n=0;n<e.length;n++)(function(e){r.fn[e]=function(){return r(r[e].apply(null,arguments))}})(e[n])}("randn".split(" "))}(this.jStat,Math),function(r,e){!function(e){for(var n=0;n<e.length;n++)(function(e){r[e]=function(r,e,n){return this instanceof arguments.callee?(this._a=r,this._b=e,this._c=n,this):new arguments.callee(r,e,n)},r.fn[e]=function(n,t,u){var i=r[e](n,t,u);return i.data=this,i},r[e].prototype.sample=function(n){var t=this._a,u=this._b,i=this._c;return n?r.alter(n,function(){return r[e].sample(t,u,i)}):r[e].sample(t,u,i)},function(n){for(var t=0;t<n.length;t++)(function(n){r[e].prototype[n]=function(t){var u=this._a,i=this._b,a=this._c;return t||0===t||(t=this.data),"number"!=typeof t?r.fn.map.call(t,function(t){return r[e][n](t,u,i,a)}):r[e][n](t,u,i,a)}})(n[t])}("pdf cdf inv".split(" ")),function(n){for(var t=0;t<n.length;t++)(function(n){r[e].prototype[n]=function(){return r[e][n](this._a,this._b,this._c)}})(n[t])}("mean median mode variance".split(" "))})(e[n])}("beta centralF cauchy chisquare exponential gamma invgamma kumaraswamy lognormal normal pareto studentt weibull uniform  binomial negbin hypgeom poisson triangular".split(" ")),r.extend(r.beta,{pdf:function(n,t,u){return n>1||0>n?0:1==t&&1==u?1:512>t||512>u?e.pow(n,t-1)*e.pow(1-n,u-1)/r.betafn(t,u):e.exp((t-1)*e.log(n)+(u-1)*e.log(1-n)-r.betaln(t,u))},cdf:function(e,n,t){return e>1||0>e?1*(e>1):r.ibeta(e,n,t)},inv:function(e,n,t){return r.ibetainv(e,n,t)},mean:function(r,e){return r/(r+e)},median:function(){throw new Error("median not yet implemented")},mode:function(r,n){return r*n/(e.pow(r+n,2)*(r+n+1))},sample:function(e,n){var t=r.randg(e);return t/(t+r.randg(n))},variance:function(r,n){return r*n/(e.pow(r+n,2)*(r+n+1))}}),r.extend(r.centralF,{pdf:function(n,t,u){return 0>n?void 0:e.sqrt(e.pow(t*n,t)*e.pow(u,u)/e.pow(t*n+u,t+u))/(n*r.betafn(t/2,u/2))},cdf:function(e,n,t){return r.ibeta(n*e/(n*e+t),n/2,t/2)},inv:function(e,n,t){return t/(n*(1/r.ibetainv(e,n/2,t/2)-1))},mean:function(r,e){return e>2?e/(e-2):void 0},mode:function(r,e){return r>2?e*(r-2)/(r*(e+2)):void 0},sample:function(e,n){var t=2*r.randg(e/2),u=2*r.randg(n/2);return t/e/(u/n)},variance:function(r,e){return 4>=e?void 0:2*e*e*(r+e-2)/(r*(e-2)*(e-2)*(e-4))}}),r.extend(r.cauchy,{pdf:function(r,n,t){return t/(e.pow(r-n,2)+e.pow(t,2))/e.PI},cdf:function(r,n,t){return e.atan((r-n)/t)/e.PI+.5},inv:function(r,n,t){return n+t*e.tan(e.PI*(r-.5))},median:function(r){return r},mode:function(r){return r},sample:function(n,t){return r.randn()*e.sqrt(1/(2*r.randg(.5)))*t+n}}),r.extend(r.chisquare,{pdf:function(n,t){return e.exp((t/2-1)*e.log(n)-n/2-t/2*e.log(2)-r.gammaln(t/2))},cdf:function(e,n){return r.gammap(n/2,e/2)},inv:function(e,n){return 2*r.gammapinv(e,.5*n)},mean:function(r){return r},median:function(r){return r*e.pow(1-2/(9*r),3)},mode:function(r){return r-2>0?r-2:0},sample:function(e){return 2*r.randg(e/2)},variance:function(r){return 2*r}}),r.extend(r.exponential,{pdf:function(r,n){return 0>r?0:n*e.exp(-n*r)},cdf:function(r,n){return 0>r?0:1-e.exp(-n*r)},inv:function(r,n){return-e.log(1-r)/n},mean:function(r){return 1/r},median:function(r){return 1/r*e.log(2)},mode:function(){return 0},sample:function(r){return-1/r*e.log(e.random())},variance:function(r){return e.pow(r,-2)}}),r.extend(r.gamma,{pdf:function(n,t,u){return e.exp((t-1)*e.log(n)-n/u-r.gammaln(t)-t*e.log(u))},cdf:function(e,n,t){return r.gammap(n,e/t)},inv:function(e,n,t){return r.gammapinv(e,n)*t},mean:function(r,e){return r*e},mode:function(r,e){return r>1?(r-1)*e:void 0},sample:function(e,n){return r.randg(e)*n},variance:function(r,e){return r*e*e}}),r.extend(r.invgamma,{pdf:function(n,t,u){return e.exp(-(t+1)*e.log(n)-u/n-r.gammaln(t)+t*e.log(u))},cdf:function(e,n,t){return 1-r.gammap(n,t/e)},inv:function(e,n,t){return t/r.gammapinv(1-e,n)},mean:function(r,e){return r>1?e/(r-1):void 0},mode:function(r,e){return e/(r+1)},sample:function(e,n){return n/r.randg(e)},variance:function(r,e){return 2>=r?void 0:e*e/((r-1)*(r-1)*(r-2))}}),r.extend(r.kumaraswamy,{pdf:function(r,n,t){return e.exp(e.log(n)+e.log(t)+(n-1)*e.log(r)+(t-1)*e.log(1-e.pow(r,n)))},cdf:function(r,n,t){return 1-e.pow(1-e.pow(r,n),t)},mean:function(e,n){return n*r.gammafn(1+1/e)*r.gammafn(n)/r.gammafn(1+1/e+n)},median:function(r,n){return e.pow(1-e.pow(2,-1/n),1/r)},mode:function(r,n){return r>=1&&n>=1&&1!==r&&1!==n?e.pow((r-1)/(r*n-1),1/r):void 0},variance:function(){throw new Error("variance not yet implemented")}}),r.extend(r.lognormal,{pdf:function(r,n,t){return e.exp(-e.log(r)-.5*e.log(2*e.PI)-e.log(t)-e.pow(e.log(r)-n,2)/(2*t*t))},cdf:function(n,t,u){return.5+.5*r.erf((e.log(n)-t)/e.sqrt(2*u*u))},inv:function(n,t,u){return e.exp(-1.4142135623730951*u*r.erfcinv(2*n)+t)},mean:function(r,n){return e.exp(r+n*n/2)},median:function(r){return e.exp(r)},mode:function(r,n){return e.exp(r-n*n)},sample:function(n,t){return e.exp(r.randn()*t+n)},variance:function(r,n){return(e.exp(n*n)-1)*e.exp(2*r+n*n)}}),r.extend(r.normal,{pdf:function(r,n,t){return e.exp(-.5*e.log(2*e.PI)-e.log(t)-e.pow(r-n,2)/(2*t*t))},cdf:function(n,t,u){return.5*(1+r.erf((n-t)/e.sqrt(2*u*u)))},inv:function(e,n,t){return-1.4142135623730951*t*r.erfcinv(2*e)+n},mean:function(r){return r},median:function(r){return r},mode:function(r){return r},sample:function(e,n){return r.randn()*n+e},variance:function(r,e){return e*e}}),r.extend(r.pareto,{pdf:function(r,n,t){return n>=r?void 0:t*e.pow(n,t)/e.pow(r,t+1)},cdf:function(r,n,t){return 1-e.pow(n/r,t)},mean:function(r,n){return 1>=n?void 0:n*e.pow(r,n)/(n-1)},median:function(r,n){return r*n*e.SQRT2},mode:function(r){return r},variance:function(r,n){return 2>=n?void 0:r*r*n/(e.pow(n-1,2)*(n-2))}}),r.extend(r.studentt,{pdf:function(n,t){return r.gammafn((t+1)/2)/(e.sqrt(t*e.PI)*r.gammafn(t/2))*e.pow(1+n*n/t,-((t+1)/2))},cdf:function(n,t){var u=t/2;return r.ibeta((n+e.sqrt(n*n+t))/(2*e.sqrt(n*n+t)),u,u)},inv:function(n,t){var u=r.ibetainv(2*e.min(n,1-n),.5*t,.5);return u=e.sqrt(t*(1-u)/u),n>.5?u:-u},mean:function(r){return r>1?0:void 0},median:function(){return 0},mode:function(){return 0},sample:function(n){return r.randn()*e.sqrt(n/(2*r.randg(n/2)))},variance:function(r){return r>2?r/(r-2):r>1?1/0:void 0}}),r.extend(r.weibull,{pdf:function(r,n,t){return 0>r?0:t/n*e.pow(r/n,t-1)*e.exp(-e.pow(r/n,t))},cdf:function(r,n,t){return 0>r?0:1-e.exp(-e.pow(r/n,t))},inv:function(r,n,t){return n*e.pow(-e.log(1-r),1/t)},mean:function(e,n){return e*r.gammafn(1+1/n)},median:function(r,n){return r*e.pow(e.log(2),1/n)},mode:function(r,n){return 1>=n?void 0:r*e.pow((n-1)/n,1/n)},sample:function(r,n){return r*e.pow(-e.log(e.random()),1/n)},variance:function(n,t){return n*n*r.gammafn(1+2/t)-e.pow(this.mean(n,t),2)}}),r.extend(r.uniform,{pdf:function(r,e,n){return e>r||r>n?0:1/(n-e)},cdf:function(r,e,n){return e>r?0:n>r?(r-e)/(n-e):1},mean:function(r,e){return.5*(r+e)},median:function(e,n){return r.mean(e,n)},mode:function(){throw new Error("mode is not yet implemented")},sample:function(r,n){return r/2+n/2+(n/2-r/2)*(2*e.random()-1)},variance:function(r,n){return e.pow(n-r,2)/12}}),r.extend(r.binomial,{pdf:function(n,t,u){return 0===u||1===u?t*u===n?1:0:r.combination(t,n)*e.pow(u,n)*e.pow(1-u,t-n)},cdf:function(e,n,t){var u=[],i=0;if(0>e)return 0;if(n>e){for(;e>=i;i++)u[i]=r.binomial.pdf(i,n,t);return r.sum(u)}return 1}}),r.extend(r.negbin,{pdf:function(n,t,u){return n!==n|0?!1:0>n?0:r.combination(n+t-1,t-1)*e.pow(1-u,n)*e.pow(u,t)},cdf:function(e,n,t){var u=0,i=0;if(0>e)return 0;for(;e>=i;i++)u+=r.negbin.pdf(i,n,t);return u}}),r.extend(r.hypgeom,{pdf:function(n,t,u,i){if(n!==n|0)return!1;if(0>n||u-(t-i)>n)return 0;if(n>i||n>u)return 0;if(2*u>t)return 2*i>t?r.hypgeom.pdf(t-u-i+n,t,t-u,t-i):r.hypgeom.pdf(i-n,t,t-u,i);if(2*i>t)return r.hypgeom.pdf(u-n,t,u,t-i);if(i>u)return r.hypgeom.pdf(n,t,i,u);for(var a=1,o=0,s=0;n>s;s++){for(;a>1&&i>o;)a*=1-u/(t-o),o++;a*=(i-s)*(u-s)/((s+1)*(t-u-i+s+1))}for(;i>o;o++)a*=1-u/(t-o);return e.min(1,e.max(0,a))},cdf:function(n,t,u,i){if(0>n||u-(t-i)>n)return 0;if(n>=i||n>=u)return 1;if(2*u>t)return 2*i>t?r.hypgeom.cdf(t-u-i+n,t,t-u,t-i):1-r.hypgeom.cdf(i-n-1,t,t-u,i);if(2*i>t)return 1-r.hypgeom.cdf(u-n-1,t,u,t-i);if(i>u)return r.hypgeom.cdf(n,t,i,u);for(var a=1,o=1,s=0,f=0;n>f;f++){for(;a>1&&i>s;){var l=1-u/(t-s);o*=l,a*=l,s++}o*=(i-f)*(u-f)/((f+1)*(t-u-i+f+1)),a+=o}for(;i>s;s++)a*=1-u/(t-s);return e.min(1,e.max(0,a))}}),r.extend(r.poisson,{pdf:function(n,t){return e.pow(t,n)*e.exp(-t)/r.factorial(n)},cdf:function(e,n){var t=[],u=0;if(0>e)return 0;for(;e>=u;u++)t.push(r.poisson.pdf(u,n));return r.sum(t)},mean:function(r){return r},variance:function(r){return r},sample:function(r){var n=1,t=0,u=e.exp(-r);do t++,n*=e.random();while(n>u);return t-1}}),r.extend(r.triangular,{pdf:function(r,e,n,t){return e>=n||e>t||t>n?void 0:e>r||r>n?0:t>=r?2*(r-e)/((n-e)*(t-e)):2*(n-r)/((n-e)*(n-t))},cdf:function(r,n,t,u){return n>=t||n>u||u>t?void 0:n>r?0:u>=r?e.pow(r-n,2)/((t-n)*(u-n)):1-e.pow(t-r,2)/((t-n)*(t-u))},mean:function(r,e,n){return(r+e+n)/3},median:function(r,n,t){return(r+n)/2>=t?n-e.sqrt((n-r)*(n-t))/e.sqrt(2):t>(r+n)/2?r+e.sqrt((n-r)*(t-r))/e.sqrt(2):void 0},mode:function(r,e,n){return n},sample:function(r,n,t){var u=e.random();return(t-r)/(n-r)>u?r+e.sqrt(u*(n-r)*(t-r)):n-e.sqrt((1-u)*(n-r)*(n-t))},variance:function(r,e,n){return(r*r+e*e+n*n-r*e-r*n-e*n)/18}})}(this.jStat,Math),function(r,e){var n=Array.prototype.push,t=r.utils.isArray;r.extend({add:function(e,n){return t(n)?(t(n[0])||(n=[n]),r.map(e,function(r,e,t){return r+n[e][t]})):r.map(e,function(r){return r+n})},subtract:function(e,n){return t(n)?(t(n[0])||(n=[n]),r.map(e,function(r,e,t){return r-n[e][t]||0})):r.map(e,function(r){return r-n})},divide:function(e,n){return t(n)?(t(n[0])||(n=[n]),r.multiply(e,r.inv(n))):r.map(e,function(r){return r/n})},multiply:function(e,n){var u,i,a,o,s=e.length,f=e[0].length,l=r.zeros(s,a=t(n)?n[0].length:f),c=0;if(t(n)){for(;a>c;c++)for(u=0;s>u;u++){for(o=0,i=0;f>i;i++)o+=e[u][i]*n[i][c];l[u][c]=o}return 1===s&&1===c?l[0][0]:l}return r.map(e,function(r){return r*n})},dot:function(e,n){t(e[0])||(e=[e]),t(n[0])||(n=[n]);for(var u,i,a=1===e[0].length&&1!==e.length?r.transpose(e):e,o=1===n[0].length&&1!==n.length?r.transpose(n):n,s=[],f=0,l=a.length,c=a[0].length;l>f;f++){for(s[f]=[],u=0,i=0;c>i;i++)u+=a[f][i]*o[f][i];s[f]=u}return 1===s.length?s[0]:s},pow:function(n,t){return r.map(n,function(r){return e.pow(r,t)})},abs:function(n){return r.map(n,function(r){return e.abs(r)})},norm:function(r,n){var u=0,i=0;for(isNaN(n)&&(n=2),t(r[0])&&(r=r[0]);i<r.length;i++)u+=e.pow(e.abs(r[i]),n);return e.pow(u,1/n)},angle:function(n,t){return e.acos(r.dot(n,t)/(r.norm(n)*r.norm(t)))},aug:function(r,e){for(var t=r.slice(),u=0;u<t.length;u++)n.apply(t[u],e[u]);return t},inv:function(e){for(var n,t=e.length,u=e[0].length,i=r.identity(t,u),a=r.gauss_jordan(e,i),o=[],s=0;t>s;s++)for(o[s]=[],n=u-1;n<a[0].length;n++)o[s][n-u]=a[s][n];return o},det:function(r){var e,n=r.length,t=2*n,u=new Array(t),i=n-1,a=t-1,o=i-n+1,s=a,f=0,l=0;if(2===n)return r[0][0]*r[1][1]-r[0][1]*r[1][0];for(;t>f;f++)u[f]=1;for(f=0;n>f;f++){for(e=0;n>e;e++)u[0>o?o+n:o]*=r[f][e],u[n>s?s+n:s]*=r[f][e],o++,s--;o=--i-n+1,s=--a}for(f=0;n>f;f++)l+=u[f];for(;t>f;f++)l-=u[f];return l},gauss_elimination:function(n,t){var u,i,a,o,s=0,f=0,l=n.length,c=n[0].length,m=1,p=0,h=[];for(n=r.aug(n,t),u=n[0].length;l>s;s++){for(i=n[s][s],f=s,o=s+1;c>o;o++)i<e.abs(n[o][s])&&(i=n[o][s],f=o);if(f!=s)for(o=0;u>o;o++)a=n[s][o],n[s][o]=n[f][o],n[f][o]=a;for(f=s+1;l>f;f++)for(m=n[f][s]/n[s][s],o=s;u>o;o++)n[f][o]=n[f][o]-m*n[s][o]}for(s=l-1;s>=0;s--){for(p=0,f=s+1;l-1>=f;f++)p=h[f]*n[s][f];h[s]=(n[s][u-1]-p)/n[s][s]}return h},gauss_jordan:function(n,t){for(var u=r.aug(n,t),i=u.length,a=u[0].length,o=0;i>o;o++){for(var s=o,f=o+1;i>f;f++)e.abs(u[f][o])>e.abs(u[s][o])&&(s=f);var l=u[o];u[o]=u[s],u[s]=l;for(var f=o+1;i>f;f++){c=u[f][o]/u[o][o];for(var m=o;a>m;m++)u[f][m]-=u[o][m]*c}}for(var o=i-1;o>=0;o--){c=u[o][o];for(var f=0;o>f;f++)for(var m=a-1;m>o-1;m--)u[f][m]-=u[o][m]*u[f][o]/c;u[o][o]/=c;for(var m=i;a>m;m++)u[o][m]/=c}return u},lu:function(){throw new Error("lu not yet implemented")},cholesky:function(){throw new Error("cholesky not yet implemented")},gauss_jacobi:function(n,t,u,i){for(var a,o,s,f,l=0,c=0,m=n.length,p=[],h=[],g=[];m>l;l++)for(p[l]=[],h[l]=[],g[l]=[],c=0;m>c;c++)l>c?(p[l][c]=n[l][c],h[l][c]=g[l][c]=0):c>l?(h[l][c]=n[l][c],p[l][c]=g[l][c]=0):(g[l][c]=n[l][c],p[l][c]=h[l][c]=0);
for(s=r.multiply(r.multiply(r.inv(g),r.add(p,h)),-1),o=r.multiply(r.inv(g),t),a=u,f=r.add(r.multiply(s,u),o),l=2;e.abs(r.norm(r.subtract(f,a)))>i;)a=f,f=r.add(r.multiply(s,a),o),l++;return f},gauss_seidel:function(n,t,u,i){for(var a,o,s,f,l,c=0,m=n.length,p=[],h=[],g=[];m>c;c++)for(p[c]=[],h[c]=[],g[c]=[],a=0;m>a;a++)c>a?(p[c][a]=n[c][a],h[c][a]=g[c][a]=0):a>c?(h[c][a]=n[c][a],p[c][a]=g[c][a]=0):(g[c][a]=n[c][a],p[c][a]=h[c][a]=0);for(f=r.multiply(r.multiply(r.inv(r.add(g,p)),h),-1),s=r.multiply(r.inv(r.add(g,p)),t),o=u,l=r.add(r.multiply(f,u),s),c=2;e.abs(r.norm(r.subtract(l,o)))>i;)o=l,l=r.add(r.multiply(f,o),s),c+=1;return l},SOR:function(n,t,u,i,a){for(var o,s,f,l,c,m=0,p=n.length,h=[],g=[],v=[];p>m;m++)for(h[m]=[],g[m]=[],v[m]=[],o=0;p>o;o++)m>o?(h[m][o]=n[m][o],g[m][o]=v[m][o]=0):o>m?(g[m][o]=n[m][o],h[m][o]=v[m][o]=0):(v[m][o]=n[m][o],h[m][o]=g[m][o]=0);for(l=r.multiply(r.inv(r.add(v,r.multiply(h,a))),r.subtract(r.multiply(v,1-a),r.multiply(g,a))),f=r.multiply(r.multiply(r.inv(r.add(v,r.multiply(h,a))),t),a),s=u,c=r.add(r.multiply(l,u),f),m=2;e.abs(r.norm(r.subtract(c,s)))>i;)s=c,c=r.add(r.multiply(l,s),f),m++;return c},householder:function(n){for(var t,u,i,a,o,s=n.length,f=n[0].length,l=0,c=[],m=[];s-1>l;l++){for(t=0,a=l+1;f>a;a++)t+=n[a][l]*n[a][l];for(o=n[l+1][l]>0?-1:1,t=o*e.sqrt(t),u=e.sqrt((t*t-n[l+1][l]*t)/2),c=r.zeros(s,1),c[l+1][0]=(n[l+1][l]-t)/(2*u),i=l+2;s>i;i++)c[i][0]=n[i][l]/(2*u);m=r.subtract(r.identity(s,f),r.multiply(r.multiply(c,r.transpose(c)),2)),n=r.multiply(m,r.multiply(n,m))}return n},QR:function(n,t){for(var u,i,a,o,s,f,l=n.length,c=n[0].length,m=0,p=[],h=[],g=[];l-1>m;m++){for(i=0,u=m+1;c>u;u++)i+=n[u][m]*n[u][m];for(s=n[m+1][m]>0?-1:1,i=s*e.sqrt(i),a=e.sqrt((i*i-n[m+1][m]*i)/2),p=r.zeros(l,1),p[m+1][0]=(n[m+1][m]-i)/(2*a),o=m+2;l>o;o++)p[o][0]=n[o][m]/(2*a);h=r.subtract(r.identity(l,c),r.multiply(r.multiply(p,r.transpose(p)),2)),n=r.multiply(h,n),t=r.multiply(h,t)}for(m=l-1;m>=0;m--){for(f=0,u=m+1;c-1>=u;u++)f=g[u]*n[m][u];g[m]=t[m][0]/n[m][m]}return g},jacobi:function(n){for(var t,u,i,a,o,s,f,l,c=1,m=0,p=n.length,h=r.identity(p,p),g=[];1===c;){for(m++,s=n[0][1],a=0,o=1,u=0;p>u;u++)for(i=0;p>i;i++)u!=i&&s<e.abs(n[u][i])&&(s=e.abs(n[u][i]),a=u,o=i);for(f=n[a][a]===n[o][o]?n[a][o]>0?e.PI/4:-e.PI/4:e.atan(2*n[a][o]/(n[a][a]-n[o][o]))/2,l=r.identity(p,p),l[a][a]=e.cos(f),l[a][o]=-e.sin(f),l[o][a]=e.sin(f),l[o][o]=e.cos(f),h=r.multiply(h,l),t=r.multiply(r.multiply(r.inv(l),n),l),n=t,c=0,u=1;p>u;u++)for(i=1;p>i;i++)u!=i&&e.abs(n[u][i])>.001&&(c=1)}for(u=0;p>u;u++)g.push(n[u][u]);return[h,g]},rungekutta:function(r,e,n,t,u,i){var a,o,s,f,l;if(2===i)for(;n>=t;)a=e*r(t,u),o=e*r(t+e,u+a),s=u+(a+o)/2,u=s,t+=e;if(4===i)for(;n>=t;)a=e*r(t,u),o=e*r(t+e/2,u+a/2),f=e*r(t+e/2,u+o/2),l=e*r(t+e,u+f),s=u+(a+2*o+2*f+l)/6,u=s,t+=e;return u},romberg:function(r,n,t,u){for(var i,a,o,s,f,l=0,c=(t-n)/2,m=[],p=[],h=[];u/2>l;){for(f=r(n),o=n,s=0;t>=o;o+=c,s++)m[s]=o;for(i=m.length,o=1;i-1>o;o++)f+=(o%2!==0?4:2)*r(m[o]);f=c/3*(f+r(t)),h[l]=f,c/=2,l++}for(a=h.length,i=1;1!==a;){for(o=0;a-1>o;o++)p[o]=(e.pow(4,i)*h[o+1]-h[o])/(e.pow(4,i)-1);a=p.length,h=p,p=[],i++}return h},richardson:function(r,n,t,u){function i(r,e){for(var n,t=0,u=r.length;u>t;t++)r[t]===e&&(n=t);return n}for(var a,o,s,f,l,c=(r.length,e.abs(t-r[i(r,t)+1])),m=0,p=[],h=[];u>=c;)a=i(r,t+u),o=i(r,t),p[m]=(n[a]-2*n[o]+n[2*o-a])/(u*u),u/=2,m++;for(f=p.length,s=1;1!=f;){for(l=0;f-1>l;l++)h[l]=(e.pow(4,s)*p[l+1]-p[l])/(e.pow(4,s)-1);f=h.length,p=h,h=[],s++}return p},simpson:function(r,e,n,t){for(var u,i=(n-e)/t,a=r(e),o=[],s=e,f=0,l=1;n>=s;s+=i,f++)o[f]=s;for(u=o.length;u-1>l;l++)a+=(l%2!==0?4:2)*r(o[l]);return i/3*(a+r(n))},hermite:function(r,e,n,t){for(var u,i=r.length,a=0,o=0,s=[],f=[],l=[],c=[];i>o;o++){for(s[o]=1,u=0;i>u;u++)o!=u&&(s[o]*=(t-r[u])/(r[o]-r[u]));for(f[o]=0,u=0;i>u;u++)o!=u&&(f[o]+=1/(r[o]-r[u]));l[o]=(1-2*(t-r[o])*f[o])*s[o]*s[o],c[o]=(t-r[o])*s[o]*s[o],a+=l[o]*e[o]+c[o]*n[o]}return a},lagrange:function(r,e,n){for(var t,u,i=0,a=0,o=r.length;o>a;a++){for(u=e[a],t=0;o>t;t++)a!=t&&(u*=(n-r[t])/(r[a]-r[t]));i+=u}return i},cubic_spline:function(e,n,t){for(var u,i=e.length,a=0,o=[],s=[],f=[],l=[],c=[],m=[],p=[];i-1>a;a++)c[a]=e[a+1]-e[a];for(f[0]=0,a=1;i-1>a;a++)f[a]=3/c[a]*(n[a+1]-n[a])-3/c[a-1]*(n[a]-n[a-1]);for(a=1;i-1>a;a++)o[a]=[],s[a]=[],o[a][a-1]=c[a-1],o[a][a]=2*(c[a-1]+c[a]),o[a][a+1]=c[a],s[a][0]=f[a];for(l=r.multiply(r.inv(o),s),u=0;i-1>u;u++)m[u]=(n[u+1]-n[u])/c[u]-c[u]*(l[u+1][0]+2*l[u][0])/3,p[u]=(l[u+1][0]-l[u][0])/(3*c[u]);for(u=0;i>u&&!(e[u]>t);u++);return u-=1,n[u]+(t-e[u])*m[u]+r.sq(t-e[u])*l[u]+(t-e[u])*r.sq(t-e[u])*p[u]},gauss_quadrature:function(){throw new Error("gauss_quadrature not yet implemented")},PCA:function(e){var n,t,u=e.length,i=e[0].length,a=0,o=[],s=[],f=[],l=[],c=[],m=[],p=[],h=[],g=[],v=[];for(a=0;u>a;a++)o[a]=r.sum(e[a])/i;for(a=0;i>a;a++)for(p[a]=[],n=0;u>n;n++)p[a][n]=e[n][a]-o[n];for(p=r.transpose(p),a=0;u>a;a++)for(h[a]=[],n=0;u>n;n++)h[a][n]=r.dot([p[a]],[p[n]])/(i-1);for(f=r.jacobi(h),g=f[0],s=f[1],v=r.transpose(g),a=0;a<s.length;a++)for(n=a;n<s.length;n++)s[a]<s[n]&&(t=s[a],s[a]=s[n],s[n]=t,l=v[a],v[a]=v[n],v[n]=l);for(m=r.transpose(p),a=0;u>a;a++)for(c[a]=[],n=0;n<m.length;n++)c[a][n]=r.dot([v[a]],[m[n]]);return[e,s,v,c]}}),function(e){for(var n=0;n<e.length;n++)(function(e){r.fn[e]=function(n,t){var u=this;return t?(setTimeout(function(){t.call(u,r.fn[e].call(u,n))},15),this):"number"==typeof r[e](this,n)?r[e](this,n):r(r[e](this,n))}})(e[n])}("add divide multiply subtract dot pow abs norm angle".split(" "))}(this.jStat,Math),function(r,e){var n=[].slice,t=r.utils.isNumber;r.extend({zscore:function(){var e=n.call(arguments);return t(e[1])?(e[0]-e[1])/e[2]:(e[0]-r.mean(e[1]))/r.stdev(e[1],e[2])},ztest:function(){var u=n.call(arguments);if(4===u.length){if(t(u[1])){var i=r.zscore(u[0],u[1],u[2]);return 1===u[3]?r.normal.cdf(-e.abs(i),0,1):2*r.normal.cdf(-e.abs(i),0,1)}var i=u[0];return 1===u[2]?r.normal.cdf(-e.abs(i),0,1):2*r.normal.cdf(-e.abs(i),0,1)}var i=r.zscore(u[0],u[1],u[3]);return 1===u[1]?r.normal.cdf(-e.abs(i),0,1):2*r.normal.cdf(-e.abs(i),0,1)}}),r.extend(r.fn,{zscore:function(r,e){return(r-this.mean())/this.stdev(e)},ztest:function(n,t,u){var i=e.abs(this.zscore(n,u));return 1===t?r.normal.cdf(-i,0,1):2*r.normal.cdf(-i,0,1)}}),r.extend({tscore:function(){var t=n.call(arguments);return 4===t.length?(t[0]-t[1])/(t[2]/e.sqrt(t[3])):(t[0]-r.mean(t[1]))/(r.stdev(t[1],!0)/e.sqrt(t[1].length))},ttest:function(){var u,i=n.call(arguments);return 5===i.length?(u=e.abs(r.tscore(i[0],i[1],i[2],i[3])),1===i[4]?r.studentt.cdf(-u,i[3]-1):2*r.studentt.cdf(-u,i[3]-1)):t(i[1])?(u=e.abs(i[0]),1==i[2]?r.studentt.cdf(-u,i[1]-1):2*r.studentt.cdf(-u,i[1]-1)):(u=e.abs(r.tscore(i[0],i[1])),1==i[2]?r.studentt.cdf(-u,i[1].length-1):2*r.studentt.cdf(-u,i[1].length-1))}}),r.extend(r.fn,{tscore:function(r){return(r-this.mean())/(this.stdev(!0)/e.sqrt(this.cols()))},ttest:function(n,t){return 1===t?1-r.studentt.cdf(e.abs(this.tscore(n)),this.cols()-1):2*r.studentt.cdf(-e.abs(this.tscore(n)),this.cols()-1)}}),r.extend({anovafscore:function(){var t,u,i,a,o,s,f,l,c=n.call(arguments);if(1===c.length){for(o=new Array(c[0].length),f=0;f<c[0].length;f++)o[f]=c[0][f];c=o}if(2===c.length)return r.variance(c[0])/r.variance(c[1]);for(u=new Array,f=0;f<c.length;f++)u=u.concat(c[f]);for(i=r.mean(u),t=0,f=0;f<c.length;f++)t+=c[f].length*e.pow(r.mean(c[f])-i,2);for(t/=c.length-1,s=0,f=0;f<c.length;f++)for(a=r.mean(c[f]),l=0;l<c[f].length;l++)s+=e.pow(c[f][l]-a,2);return s/=u.length-c.length,t/s},anovaftest:function(){var e,u,i,a,o=n.call(arguments);if(t(o[0]))return 1-r.centralF.cdf(o[0],o[1],o[2]);for(anovafscore=r.anovafscore(o),e=o.length-1,i=0,a=0;a<o.length;a++)i+=o[a].length;return u=i-e-1,1-r.centralF.cdf(anovafscore,e,u)},ftest:function(e,n,t){return 1-r.centralF.cdf(e,n,t)}}),r.extend(r.fn,{anovafscore:function(){return r.anovafscore(this.toArray())},anovaftes:function(){var e,n=0;for(e=0;e<this.length;e++)n+=this[e].length;return r.ftest(this.anovafscore(),this.length-1,n-this.length)}}),r.extend({normalci:function(){var t,u=n.call(arguments),i=new Array(2);return t=e.abs(4===u.length?r.normal.inv(u[1]/2,0,1)*u[2]/e.sqrt(u[3]):r.normal.inv(u[1]/2,0,1)*r.stdev(u[2])/e.sqrt(u[2].length)),i[0]=u[0]-t,i[1]=u[0]+t,i},tci:function(){var t,u=n.call(arguments),i=new Array(2);return t=e.abs(4===u.length?r.studentt.inv(u[1]/2,u[3]-1)*u[2]/e.sqrt(u[3]):r.studentt.inv(u[1]/2,u[2].length-1)*r.stdev(u[2],!0)/e.sqrt(u[2].length)),i[0]=u[0]-t,i[1]=u[0]+t,i},significant:function(r,e){return e>r}}),r.extend(r.fn,{normalci:function(e,n){return r.normalci(e,n,this.toArray())},tci:function(e,n){return r.tci(e,n,this.toArray())}})}(this.jStat,Math)}])});