!function(e){"use strict";jcf.addModule({name:"Textarea",selector:"textarea",options:{resize:!0,resizerStructure:'<span class="jcf-resize"></span>',fakeStructure:'<span class="jcf-textarea"></span>'},matchElement:function(e){return e.is("textarea")},init:function(){this.initStructure(),this.attachEvents(),this.refresh()},initStructure:function(){this.doc=e(document),this.realElement=e(this.options.element),this.fakeElement=e(this.options.fakeStructure).insertAfter(this.realElement),this.resizer=e(this.options.resizerStructure).appendTo(this.fakeElement),jcf.modules.Scrollable&&(this.realElement.prependTo(this.fakeElement).addClass().css({overflow:"hidden",resize:"none"}),this.scrollable=new jcf.modules.Scrollable({element:this.realElement,alwaysShowScrollbars:!0}),this.scrollable.setScrollBarEdge(this.resizer.outerHeight()))},attachEvents:function(){this.realElement.on({focus:this.onFocus,keyup:this.onChange,change:this.onChange}),this.resizer.on("jcf-pointerdown",this.onResizePress)},onResizePress:function(e){var t=this.resizer.offset(),s=this.fakeElement.offset();this.dragData={areaOffset:s,innerOffsetLeft:e.pageX-t.left,innerOffsetTop:e.pageY-t.top},this.doc.on({"jcf-pointermove":this.onResizeMove,"jcf-pointerup":this.onResizeRelease})},onResizeMove:function(e){var t=e.pageX+this.dragData.innerOffsetLeft-this.dragData.areaOffset.left,s=e.pageY+this.dragData.innerOffsetTop-this.dragData.areaOffset.top,i=this.fakeElement.innerWidth()-this.realElement.innerWidth();e.preventDefault(),this.realElement.innerWidth(t-i).innerHeight(s),this.refreshCustomScrollbars()},onResizeRelease:function(){this.doc.off({"jcf-pointermove":this.onResizeMove,"jcf-pointerup":this.onResizeRelease})},onFocus:function(){this.isFocused=!0,this.fakeElement.addClass(this.options.focusClass),this.realElement.on("blur",this.onBlur)},onBlur:function(){this.isFocused=!1,this.fakeElement.removeClass(this.options.focusClass),this.realElement.off("blur",this.onBlur)},onChange:function(){this.refreshCustomScrollbars()},refreshCustomScrollbars:function(){this.isFocused?this.scrollable.redrawScrollbars():this.scrollable.refresh()},refresh:function(){var e=this.realElement.is(":disabled");this.fakeElement.toggleClass(this.options.disabledClass,e)},destroy:function(){this.scrollable.destroy(),this.realElement.css({overflow:"",resize:""}).insertBefore(this.fakeElement).off({focus:this.onFocus,blur:this.onBlur}),this.fakeElement.remove()}})}(jQuery);
//# sourceMappingURL=jcf.textarea.min.js.map