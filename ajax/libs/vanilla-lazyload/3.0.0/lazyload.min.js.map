{"version":3,"file":"lazyload.min.js","sources":["../src/lazyload.js"],"names":["root","factory","define","amd","exports","module","LazyLoad","this","_init","_isInitialized","_defaultSettings","elements_selector","container","window","threshold","throttle","data_src","data_srcset","class_loading","class_loaded","skip_invisible","callback_load","callback_error","callback_set","callback_processed","_supportsAddEventListener","addEventListener","_supportsAttachEvent","attachEvent","_supportsClassList","document","body","classList","_addEventListener","element","eventName","callback","el","call","event","_removeEventListener","removeEventListener","detachEvent","_isInsideViewport","_getDocumentWidth","innerWidth","ownerDocument","documentElement","clientWidth","_getDocumentHeight","innerHeight","clientHeight","_getTopOffset","getBoundingClientRect","top","documentTop","clientTop","_getLeftOffset","left","documentLeft","clientLeft","_isBelowViewport","fold","offsetHeight","_isAtRightOfViewport","pageXOffset","_isAboveViewport","_isAtLeftOfViewport","offsetWidth","pageYOffset","scrollTop","scrollLeft","_now","d","Date","getTime","_merge_objects","obj1","obj2","propertyName","obj3","hasOwnProperty","_convertToArray","nodeSet","Array","prototype","slice","e","i","array","l","length","push","_addClass","className","add","_removeClass","remove","replace","RegExp","_setSourcesForPicture","srcsetDataAttribute","parent","parentElement","tagName","children","pictureChild","sourceSrcset","getAttribute","setAttribute","_setSources","srcDataAttribute","elementSrc","imgSrcset","style","backgroundImage","_bind","fn","obj","apply","arguments","instanceSettings","_settings","_queryOriginNode","_previousLoopTime","_loopTimeout","_handleScrollFn","handleScroll","update","_showOnAppear","loadCallback","settings","_loopThroughElements","elements","_elements","elementsLength","processedIndexes","offsetParent","wasProcessed","splice","pop","_stopScrollHandler","_purgeElements","elementsToPurge","_startScrollHandler","_isHandlingScroll","remainingTime","now","clearTimeout","setTimeout","querySelectorAll","destroy"],"mappings":"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"}