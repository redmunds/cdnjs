!function(t){function e(i){if(n[i])return n[i].exports;var a=n[i]={exports:{},id:i,loaded:!1};return t[i].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var a=n(1),o=i(a),r=n(2),u=i(r);!function(){$.fn.timer=function(t){return t=t||"start",this.each(function(){$.data(this,u.default.PLUGIN_NAME)instanceof o.default||$.data(this,u.default.PLUGIN_NAME,new o.default(this,t));var e=$.data(this,u.default.PLUGIN_NAME);"string"==typeof t?"function"==typeof e[t]&&e[t]():e.start()})}}()},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(2),u=i(r),s=n(3),l=i(s),d=function(){function t(e,n){if(a(this,t),this.element=e,this.originalConfig=Object.assign({},n),this.totalSeconds=0,this.intervalId=null,this.html="html","INPUT"!==e.tagName&&"TEXTAREA"!==e.tagName||(this.html="val"),this.config=l.default.getDefaultConfig(),n&&"string"!=typeof n&&(n.duration&&(n.duration=l.default.durationTimeToSeconds(n.duration)),this.config=Object.assign(this.config,n),this.config.seconds&&(this.totalSeconds=this.config.seconds),this.config.editable&&l.default.makeEditable(this),this.startTime=l.default.unixSeconds()-this.totalSeconds,this.config.duration&&this.config.repeat&&this.config.updateFrequency<1e3&&(this.config.updateFrequency=1e3),this.config.countdown)){if(!this.config.duration)throw new Error("Countdown option set without duration!");if(this.config.editable)throw new Error("Cannot set editable on a countdown timer!");this.config.startTime=l.default.unixSeconds()-this.config.duration,this.totalSeconds=this.config.duration}}return o(t,[{key:"start",value:function(){this.state!==u.default.TIMER_RUNNING&&(l.default.setState(this,u.default.TIMER_RUNNING),this.render(),this.intervalId=setInterval(l.default.intervalHandler.bind(null,this),this.config.updateFrequency))}},{key:"pause",value:function(){this.state===u.default.TIMER_RUNNING&&(l.default.setState(this,u.default.TIMER_PAUSED),clearInterval(this.intervalId))}},{key:"resume",value:function(){this.state===u.default.TIMER_PAUSED&&(l.default.setState(this,u.default.TIMER_RUNNING),this.startTime=l.default.unixSeconds()-this.totalSeconds,this.intervalId=setInterval(l.default.intervalHandler.bind(null,this),this.config.updateFrequency))}},{key:"remove",value:function(){clearInterval(this.intervalId),$(this.element).data(u.default.PLUGIN_NAME,null)}},{key:"reset",value:function(){var t=this.element,e=this.originalConfig;this.remove(),$(t).timer(e)}},{key:"render",value:function(){this.config.format?$(this.element)[this.html](l.default.secondsToFormattedTime(this.totalSeconds,this.config.format)):$(this.element)[this.html](l.default.secondsToPrettyTime(this.totalSeconds)),$(this.element).data("seconds",this.totalSeconds)}}]),t}();e.default=d},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={PLUGIN_NAME:"timer",TIMER_RUNNING:"running",TIMER_PAUSED:"paused",THIRTYSIXHUNDRED:3600,SIXTY:60,TEN:10};e.default=n},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=n(2),o=i(a),r=function(){var t=arguments.length<=0||void 0===arguments[0]?0:arguments[0],e=0,n=Math.floor(t/o.default.SIXTY),i=n,a=void 0;return t>=o.default.THIRTYSIXHUNDRED&&(e=Math.floor(t/o.default.THIRTYSIXHUNDRED)),t>=o.default.THIRTYSIXHUNDRED&&(i=Math.floor(t%o.default.THIRTYSIXHUNDRED/o.default.SIXTY)),a=t%o.default.SIXTY,{hours:e,minutes:i,totalMinutes:n,seconds:a,totalSeconds:t}},u=function(t){return t=parseInt(t,10),t<10?"0"+t:t},s=function(){return{seconds:0,editable:!1,duration:null,callback:function(){console.log("Time up!")},repeat:!1,countdown:!1,format:null,updateFrequency:500}},l=function(){return Math.round(Date.now()/1e3)},d=function(t){var e=r(t);if(e.hours)return e.hours+":"+u(e.minutes)+":"+u(e.seconds);var n="";return n=e.minutes?e.minutes+":"+u(e.seconds)+" min":e.seconds+" sec"},c=function(t,e){var n=r(t),i=[{identifier:"%h",value:n.hours},{identifier:"%m",value:n.minutes},{identifier:"%s",value:n.seconds},{identifier:"%g",value:n.totalMinutes},{identifier:"%t",value:n.totalSeconds},{identifier:"%H",value:u(n.hours)},{identifier:"%M",value:u(n.minutes)},{identifier:"%S",value:u(n.seconds)},{identifier:"%G",value:u(n.totalMinutes)},{identifier:"%T",value:u(n.totalSeconds)}];return i.forEach(function(t){e=e.replace(t.identifier,t.value)}),e},f=function(t){if(!t)throw new Error("durationTimeToSeconds expects a string argument!");if(!isNaN(Number(t)))return t;t=t.toLowerCase();var e=t.match(/\d{1,2}h/),n=t.match(/\d{1,2}m/),i=t.match(/\d{1,2}s/);if(!e&&!n&&!i)throw new Error("Invalid string passed in durationTimeToSeconds!");var a=0;return e&&(a+=Number(e[0].replace("h","")*o.default.THIRTYSIXHUNDRED)),n&&(a+=Number(n[0].replace("m",""))*o.default.SIXTY),i&&(a+=Number(i[0].replace("s",""))),a},h=function(t){var e=void 0,n=void 0;return t.indexOf("sec")>0?n=Number(t.replace(/\ssec/g,"")):t.indexOf("min")>0?(t=t.replace(/\smin/g,""),e=t.split(":"),n=Number(e[0]*o.default.SIXTY)+Number(e[1])):t.match(/\d{1,2}:\d{2}:\d{2}/)&&(e=t.split(":"),n=Number(e[0]*o.default.THIRTYSIXHUNDRED)+Number(e[1]*o.default.SIXTY)+Number(e[2])),n},m=function(t,e){t.state=e,$(t.element).data("state",e)},v=function(t){$(t.element).on("focus",function(){t.pause()}),$(t.element).on("blur",function(){t.totalSeconds=h($(t.element)[t.html]()),t.resume()})},T=function(t){return t.totalSeconds=l()-t.startTime,t.config.countdown?(t.totalSeconds=t.config.duration-t.totalSeconds,0===t.totalSeconds&&(clearInterval(t.intervalId),m(t,o.default.TIMER_STOPPED),t.config.callback(),$(t.element).data("seconds")),void t.render()):(t.render(),void(t.config.duration&&t.totalSeconds>0&&t.totalSeconds%t.config.duration===0&&(t.config.callback&&t.config.callback(),t.config.repeat||(clearInterval(t.intervalId),m(t,o.default.TIMER_STOPPED),t.config.duration=null))))};e.default={getDefaultConfig:s,unixSeconds:l,secondsToPrettyTime:d,secondsToFormattedTime:c,durationTimeToSeconds:f,prettyTimeToSeconds:h,setState:m,makeEditable:v,intervalHandler:T}}]);
//# sourceMappingURL=timer.jquery.min.js.map