(function(n){function t(n){return n.filter(function(n){return!(n instanceof Object)}).join("/")}function e(n){return n.filter(function(n){return n instanceof Object})[0]}function r(n){var t=Object.keys(n).map(function(t){return[t,encodeURIComponent(n[t])].join("=")});return["?"].concat(t).join("&")}function o(n,o,i,u){var f=e(o)||{mode:fetchival.mode};var c=t(o);f.method=n;f.headers={Accept:"application/json","Content-Type":"application/json"};if(u){c+=r(u)}if(i){f.body=JSON.stringify(i)}return fetchival.fetch(c,f).then(function(n){if(n.status>=200&&n.status<300){return n.json()}var t=new Error(n.statusText);t.response=n;throw t})}function fetchival(){var n=Array.prototype.slice;var t=n.call(arguments);var e=function(){return fetchival.apply(this,t.concat(n.call(arguments)))};e.get=function(n){return o("GET",t,null,n)};e.post=function(n){return o("POST",t,n)};e.put=function(n){return o("PUT",t,n)};e.patch=function(n){return o("PATCH",t,n)};e.delete=function(){return o("DELETE",t)};return e}fetchival.fetch=typeof fetch!=="undefined"?fetch.bind(n):null;if(typeof exports==="object")module.exports=fetchival;else if(typeof define==="function"&&define.amd)define(function(){return fetchival});else n.fetchival=fetchival})(typeof window!="undefined"?window:undefined);
