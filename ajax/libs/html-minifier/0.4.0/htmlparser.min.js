!function(){function e(e){for(var t={},n=e.split(","),a=0;a<n.length;a++)t[n[a]]=!0,t[n[a].toUpperCase()]=!0;return t}var t,n=/^<(\w+)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,a=/^<\/(\w+)[^>]*>/,r=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))?/g,i=/^<!DOCTYPE [^>]+>/i,o=e("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed"),s=e("address,applet,blockquote,button,center,dd,del,dir,div,dl,dt,fieldset,form,frameset,hr,iframe,ins,isindex,li,map,menu,noframes,noscript,object,ol,p,pre,script,table,tbody,td,tfoot,th,thead,tr,ul"),c=e("a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,span,strike,strong,sub,sup,textarea,tt,u,var"),l=e("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr"),d=e("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected"),m=e("script,style"),u={},p=this.HTMLParser=function(e,p){function f(e,t,n,a){if(s[t])for(;y.last()&&c[y.last()];)h("",y.last());if(l[t]&&y.last()==t&&h("",t),a=o[t]||!!a,a||y.push(t),p.start){var i=[];n.replace(r,function(e,t){var n=arguments[2]?arguments[2]:arguments[3]?arguments[3]:arguments[4]?arguments[4]:d[t]?t:"";i.push({name:t,value:n,escaped:n.replace(/(^|[^\\])"/g,'$1\\"')})}),p.start&&p.start(t,i,a)}}function h(e,t){if(t)for(var n=y.length-1;n>=0&&y[n]!=t;n--);else var n=0;if(n>=0){for(var a=y.length-1;a>=n;a--)p.end&&p.end(y[a]);y.length=n}}var g,b,v,y=[],D=e;for(y.last=function(){return this[this.length-1]};e;){if(b=!0,y.last()&&m[y.last()])t=y.last().toLowerCase(),reStackedTag=u[t]||(u[t]=new RegExp("([\\s\\S]*?)</"+t+"[^>]*>","i")),e=e.replace(reStackedTag,function(e,n){return"script"!==t&&"style"!==t&&(n=n.replace(/<!--([\s\S]*?)-->/g,"$1").replace(/<!\[CDATA\[([\s\S]*?)\]\]>/g,"$1")),p.chars&&p.chars(n),""}),h("",t);else if(0===e.indexOf("<!--")?(g=e.indexOf("-->"),g>=0&&(p.comment&&p.comment(e.substring(4,g)),e=e.substring(g+3),b=!1)):(v=i.exec(e))?(p.doctype&&p.doctype(v[0]),e=e.substring(v[0].length),b=!1):0===e.indexOf("</")?(v=e.match(a),v&&(e=e.substring(v[0].length),v[0].replace(a,h),b=!1)):0===e.indexOf("<")&&(v=e.match(n),v&&(e=e.substring(v[0].length),v[0].replace(n,f),b=!1)),b){g=e.indexOf("<");var E=g<0?e:e.substring(0,g);e=g<0?"":e.substring(g),p.chars&&p.chars(E)}if(e==D)throw"Parse Error: "+e;D=e}h()};this.HTMLtoXML=function(e){var t="";return p(e,{start:function(e,n,a){t+="<"+e;for(var r=0;r<n.length;r++)t+=" "+n[r].name+'="'+n[r].escaped+'"';t+=(a?"/":"")+">"},end:function(e){t+="</"+e+">"},chars:function(e){t+=e},comment:function(e){t+="<!--"+e+"-->"}}),t},this.HTMLtoDOM=function(t,n){var a=e("html,head,body,title"),r={link:"head",base:"head"};n?n=n.ownerDocument||n.getOwnerDocument&&n.getOwnerDocument()||n:"undefined"!=typeof DOMDocument?n=new DOMDocument:"undefined"!=typeof document&&document.implementation&&document.implementation.createDocument?n=document.implementation.createDocument("","",null):"undefined"!=typeof ActiveX&&(n=new ActiveXObject("Msxml.DOMDocument"));var i=[],o=n.documentElement||n.getDocumentElement&&n.getDocumentElement();if(!o&&n.createElement&&function(){var e=n.createElement("html"),t=n.createElement("head");t.appendChild(n.createElement("title")),e.appendChild(t),e.appendChild(n.createElement("body")),n.appendChild(e)}(),n.getElementsByTagName)for(var s in a)a[s]=n.getElementsByTagName(s)[0];var c=a.body;return p(t,{start:function(e,t,o){if(a[e])return void(c=a[e]);var s=n.createElement(e);for(var l in t)s.setAttribute(t[l].name,t[l].value);r[e]&&"boolean"!=typeof a[r[e]]?a[r[e]].appendChild(s):c&&c.appendChild&&c.appendChild(s),o||(i.push(s),c=s)},end:function(e){i.length-=1,c=i[i.length-1]},chars:function(e){c.appendChild(n.createTextNode(e))},comment:function(e){}}),n}}();