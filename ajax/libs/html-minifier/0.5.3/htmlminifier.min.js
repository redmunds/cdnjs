!function(e){function t(e){for(var t={},n=e.split(","),s=0;s<n.length;s++)t[n[s]]=!0,t[n[s].toUpperCase()]=!0;return t}var n,s=/^<([\w:-]+)((?:\s*[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,r=/^<\/([\w:-]+)[^>]*>/,o=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))?/g,a=/^<!DOCTYPE [^>]+>/i,i=t("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed"),l=(t("address,applet,blockquote,button,center,dd,del,dir,div,dl,dt,fieldset,form,frameset,hr,iframe,ins,isindex,li,map,menu,noframes,noscript,object,ol,p,pre,script,table,tbody,td,tfoot,th,thead,tr,ul"),t("a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,span,strike,strong,sub,sup,textarea,tt,u,var")),c=t("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr"),p=t("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected"),u=t("script,style"),d={},m=e.HTMLParser=function(e,t){function m(e,n,s,r){for(;!t.html5&&$.last()&&l[$.last()];)h("",$.last());if(c[n]&&$.last()==n&&h("",n),r=i[n]||!!r,r||$.push(n),t.start){var a=[];s.replace(o,function(e,t){var n=arguments[2]?arguments[2]:arguments[3]?arguments[3]:arguments[4]?arguments[4]:p[t]?t:"";a.push({name:t,value:n,escaped:n.replace(/(^|[^\\])"/g,'$1\\"')})}),t.start&&t.start(n,a,r)}}function h(e,n){if(n)for(var s=$.length-1;s>=0&&$[s]!=n;s--);else var s=0;if(s>=0){for(var r=$.length-1;r>=s;r--)t.end&&t.end($[r]);$.length=s}}var f,g,b,v,y,$=[],x=e;for($.last=function(){return this[this.length-1]};e;){if(g=!0,$.last()&&u[$.last()])n=$.last().toLowerCase(),reStackedTag=d[n]||(d[n]=new RegExp("([\\s\\S]*?)</"+n+"[^>]*>","i")),e=e.replace(reStackedTag,function(e,s){return"script"!==n&&"style"!==n&&(s=s.replace(/<!--([\s\S]*?)-->/g,"$1").replace(/<!\[CDATA\[([\s\S]*?)\]\]>/g,"$1")),t.chars&&t.chars(s),""}),h("",n);else if(0===e.indexOf("<!--")?(f=e.indexOf("-->"),f>=0&&(t.comment&&t.comment(e.substring(4,f)),e=e.substring(f+3),g=!1)):(b=a.exec(e))?(t.doctype&&t.doctype(b[0]),e=e.substring(b[0].length),g=!1):0===e.indexOf("</")?(b=e.match(r),b&&(e=e.substring(b[0].length),b[0].replace(r,h),v="/"+b[1],g=!1)):0===e.indexOf("<")&&(b=e.match(s),b&&(e=e.substring(b[0].length),b[0].replace(s,m),v=b[1],g=!1)),g){f=e.indexOf("<");var E=f<0?e:e.substring(0,f);e=f<0?"":e.substring(f),tagMatch=e.match(s),tagMatch?y=tagMatch[1]:(tagMatch=e.match(r),y=tagMatch?"/"+tagMatch[1]:""),t.chars&&t.chars(E,v,y)}if(e==x)throw"Parse Error: "+e;x=e}h()};e.HTMLtoXML=function(e){var t="";return m(e,{start:function(e,n,s){t+="<"+e;for(var r=0;r<n.length;r++)t+=" "+n[r].name+'="'+n[r].escaped+'"';t+=(s?"/":"")+">"},end:function(e){t+="</"+e+">"},chars:function(e){t+=e},comment:function(e){t+="<!--"+e+"-->"}}),t},e.HTMLtoDOM=function(e,n){var s=t("html,head,body,title"),r={link:"head",base:"head"};n?n=n.ownerDocument||n.getOwnerDocument&&n.getOwnerDocument()||n:"undefined"!=typeof DOMDocument?n=new DOMDocument:"undefined"!=typeof document&&document.implementation&&document.implementation.createDocument?n=document.implementation.createDocument("","",null):"undefined"!=typeof ActiveX&&(n=new ActiveXObject("Msxml.DOMDocument"));var o=[],a=n.documentElement||n.getDocumentElement&&n.getDocumentElement();if(!a&&n.createElement&&function(){var e=n.createElement("html"),t=n.createElement("head");t.appendChild(n.createElement("title")),e.appendChild(t),e.appendChild(n.createElement("body")),n.appendChild(e)}(),n.getElementsByTagName)for(var i in s)s[i]=n.getElementsByTagName(i)[0];var l=s.body;return m(e,{start:function(e,t,a){if(s[e])return void(l=s[e]);var i=n.createElement(e);for(var c in t)i.setAttribute(t[c].name,t[c].value);r[e]&&"boolean"!=typeof s[r[e]]?s[r[e]].appendChild(i):l&&l.appendChild&&l.appendChild(i),a||(o.push(i),l=i)},end:function(e){o.length-=1,l=o[o.length-1]},chars:function(e){l.appendChild(n.createTextNode(e))},comment:function(e){}}),n}}("undefined"==typeof exports?this:exports),function(e){function t(e){return e.replace(/\s+/g," ")}function n(e,t,n){var s=["a","b","big","button","code","em","font","i","kbd","mark","q","s","small","span","strike","strong","sub","sup","tt","u"];return t&&"img"!==t&&("/"!==t.substr(0,1)||"/"===t.substr(0,1)&&s.indexOf(t.substr(1))===-1)&&(e=e.replace(/^\s+/,"")),n&&"img"!==n&&("/"===n.substr(0,1)||"/"!==n.substr(0,1)&&s.indexOf(n)===-1)&&(e=e.replace(/\s+$/,"")),t&&n?e.replace(/[\t\n\r]+/g,"").replace(/[ ]+/g," "):e}function s(e){return/\[if[^\]]+\]/.test(e)||/\s*(<!\[endif\])$/.test(e)}function r(e){return/^on[a-z]+/.test(e)}function o(e){return/^[^\x20\t\n\f\r"'`=<>]+$/.test(e)}function a(e,t){for(var n=e.length;n--;)if(e[n].name.toLowerCase()===t)return!0;return!1}function i(e,t,n,s){return n=D(n.toLowerCase()),"script"===e&&"language"===t&&"javascript"===n||"form"===e&&"method"===t&&"get"===n||"input"===e&&"type"===t&&"text"===n||"script"===e&&"charset"===t&&!a(s,"src")||"a"===e&&"name"===t&&a(s,"id")||"area"===e&&"shape"===t&&"rect"===n}function l(e,t,n){return"script"===e&&"type"===t&&"text/javascript"===D(n.toLowerCase())}function c(e,t,n){return("style"===e||"link"===e)&&"type"===t&&"text/css"===D(n.toLowerCase())}function p(e){return/^(?:allowfullscreen|async|autofocus|checked|compact|declare|default|defer|disabled|formnovalidate|hidden|inert|ismap|itemscope|multiple|muted|nohref|noresize|noshade|novalidate|nowrap|open|readonly|required|reversed|seamless|selected|sortable|truespeed|typemustmatch)$/.test(e)}function u(e,t){return/^(?:a|area|link|base)$/.test(t)&&"href"===e||"img"===t&&/^(?:src|longdesc|usemap)$/.test(e)||"object"===t&&/^(?:classid|codebase|data|usemap)$/.test(e)||"q"===t&&"cite"===e||"blockquote"===t&&"cite"===e||("ins"===t||"del"===t)&&"cite"===e||"form"===t&&"action"===e||"input"===t&&("src"===e||"usemap"===e)||"head"===t&&"profile"===e||"script"===t&&("src"===e||"for"===e)}function d(e,t){return/^(?:a|area|object|button)$/.test(t)&&"tabindex"===e||"input"===t&&("maxlength"===e||"tabindex"===e)||"select"===t&&("size"===e||"tabindex"===e)||"textarea"===t&&/^(?:rows|cols|tabindex)$/.test(e)||"colgroup"===t&&"span"===e||"col"===t&&"span"===e||("th"===t||"td"===t)&&("rowspan"===e||"colspan"===e)}function m(e,n,s){return r(n)?D(s).replace(/^javascript:\s*/i,"").replace(/\s*;$/,""):"class"===n?t(D(s)):u(n,e)||d(n,e)?D(s):"style"===n?D(s).replace(/\s*;\s*$/,""):s}function h(e){return e.replace(/^(\[[^\]]+\]>)\s*/,"$1").replace(/\s*(<!\[endif\])$/,"$1")}function f(e){return e.replace(/^(?:\s*\/\*\s*<!\[CDATA\[\s*\*\/|\s*\/\/\s*<!\[CDATA\[.*)/,"").replace(/(?:\/\*\s*\]\]>\s*\*\/|\/\/\s*\]\]>)\s*$/,"")}function g(e,t){return e.replace(A[t],"").replace(L[t],"")}function b(e){return/^(?:html|t?body|t?head|tfoot|tr|option)$/.test(e)}function v(e,t,n){var s=/^(["'])?\s*\1$/.test(n);return!!s&&("input"===e&&"value"===t||M.test(t))}function y(e){return"textarea"!==e}function $(e){return!/^(?:script|style|pre|textarea)$/.test(e)}function x(e){return!/^(?:pre|textarea)$/.test(e)}function E(e,t,n,s){var r,a=e.name.toLowerCase(),u=e.escaped;return s.removeRedundantAttributes&&i(n,a,u,t)||s.removeScriptTypeAttributes&&l(n,a,u)||s.removeStyleLinkTypeAttributes&&c(n,a,u)?"":(u=m(n,a,u),s.removeAttributeQuotes&&o(u)||(u='"'+u+'"'),s.removeEmptyAttributes&&v(n,a,u)?"":(r=s.collapseBooleanAttributes&&p(a)?a:a+"="+u," "+r))}function w(e){for(var t=["canCollapseWhitespace","canTrimWhitespace"],n=0,s=t.length;n<s;n++)e[t[n]]||(e[t[n]]=function(){return!1})}function C(e,r){function o(e,t){return $(e)||r.canTrimWhitespace(e,t)}function a(e,t){return x(e)||r.canTrimWhitespace(e,t)}r=r||{},e=D(e),w(r);var i=[],l=[],c="",p="",u=[],d=[],m=[],v=r.lint,C=new Date;k(e,{html5:"undefined"==typeof r.html5||r.html5,start:function(e,t){e=e.toLowerCase(),p=e,c="",u=t,r.collapseWhitespace&&(a(e,t)||d.push(e),o(e,t)||m.push(e)),l.push("<",e),v&&v.testElement(e);for(var n=0,s=t.length;n<s;n++)v&&v.testAttribute(e,t[n].name.toLowerCase(),t[n].escaped),l.push(E(t[n],t,e,r));l.push(">")},end:function(e){r.collapseWhitespace&&(d.length&&e===d[d.length-1]&&d.pop(),m.length&&e===m[m.length-1]&&m.pop());var t=""===c&&e===p;return r.removeEmptyElements&&t&&y(e)?void l.splice(l.lastIndexOf("<")):void(r.removeOptionalTags&&b(e)||(l.push("</",e.toLowerCase(),">"),i.push.apply(i,l),l.length=0,c=""))},chars:function(e,s,i){"script"!==p&&"style"!==p||(r.removeCommentsFromCDATA&&(e=g(e,p)),r.removeCDATASectionsFromCDATA&&(e=f(e))),r.collapseWhitespace&&(!d.length&&a(p,u)&&(e=s||i?n(e,s,i):D(e)),!m.length&&o(p,u)&&(e=t(e))),c=e,v&&v.testChars(e),l.push(e)},comment:function(e){e=r.removeComments?s(e)?"<!--"+h(e)+"-->":"":"<!--"+e+"-->",l.push(e)},doctype:function(e){l.push(r.useShortDoctype?"<!DOCTYPE html>":t(e))}}),i.push.apply(i,l);var A=i.join("");return T("minified in: "+(new Date-C)+"ms"),A}var T,k;T=e.console&&e.console.log?function(t){e.console.log(t)}:function(){},e.HTMLParser?k=e.HTMLParser:"function"==typeof require&&(k=require("./htmlparser").HTMLParser);var D=function(e){return e.replace(/^\s+/,"").replace(/\s+$/,"")};String.prototype.trim&&(D=function(e){return e.trim()});var A={script:/^\s*(?:\/\/)?\s*<!--.*\n?/,style:/^\s*<!--\s*/},L={script:/\s*(?:\/\/)?\s*-->\s*$/,style:/\s*-->\s*$/},M=new RegExp("^(?:class|id|style|title|lang|dir|on(?:focus|blur|change|click|dblclick|mouse(?:down|up|over|move|out)|key(?:press|down|up)))$");"undefined"!=typeof exports?exports.minify=C:e.minify=C}(this),function(e){function t(e){return/^(?:b|i|big|small|hr|blink|marquee)$/.test(e)}function n(e){return/^(?:applet|basefont|center|dir|font|isindex|s|strike|u)$/.test(e)}function s(e){return/^on[a-z]+/.test(e)}function r(e){return"style"===e.toLowerCase()}function o(e,t){return"align"===t&&/^(?:caption|applet|iframe|img|imput|object|legend|table|hr|div|h[1-6]|p)$/.test(e)||"alink"===t&&"body"===e||"alt"===t&&"applet"===e||"archive"===t&&"applet"===e||"background"===t&&"body"===e||"bgcolor"===t&&/^(?:table|t[rdh]|body)$/.test(e)||"border"===t&&/^(?:img|object)$/.test(e)||"clear"===t&&"br"===e||"code"===t&&"applet"===e||"codebase"===t&&"applet"===e||"color"===t&&/^(?:base(?:font)?)$/.test(e)||"compact"===t&&/^(?:dir|[dou]l|menu)$/.test(e)||"face"===t&&/^base(?:font)?$/.test(e)||"height"===t&&/^(?:t[dh]|applet)$/.test(e)||"hspace"===t&&/^(?:applet|img|object)$/.test(e)||"language"===t&&"script"===e||"link"===t&&"body"===e||"name"===t&&"applet"===e||"noshade"===t&&"hr"===e||"nowrap"===t&&/^t[dh]$/.test(e)||"object"===t&&"applet"===e||"prompt"===t&&"isindex"===e||"size"===t&&/^(?:hr|font|basefont)$/.test(e)||"start"===t&&"ol"===e||"text"===t&&"body"===e||"type"===t&&/^(?:li|ol|ul)$/.test(e)||"value"===t&&"li"===e||"version"===t&&"html"===e||"vlink"===t&&"body"===e||"vspace"===t&&/^(?:applet|img|object)$/.test(e)||"width"===t&&/^(?:hr|td|th|applet|pre)$/.test(e)}function a(e,t){return"href"===e&&/^\s*javascript\s*:\s*void\s*(\s+0|\(\s*0\s*\))\s*$/i.test(t)}function i(){this.log=[],this._lastElement=null,this._isElementRepeated=!1}i.prototype.testElement=function(e){n(e)?this.log.push('<li>Found <span class="deprecated-element">deprecated</span> <strong><code>&lt;'+e+"&gt;</code></strong> element</li>"):t(e)?this.log.push('<li>Found <span class="presentational-element">presentational</span> <strong><code>&lt;'+e+"&gt;</code></strong> element</li>"):this.checkRepeatingElement(e)},i.prototype.checkRepeatingElement=function(e){"br"===e&&"br"===this._lastElement?this._isElementRepeated=!0:this._isElementRepeated&&(this._reportRepeatingElement(),this._isElementRepeated=!1),this._lastElement=e},i.prototype._reportRepeatingElement=function(){this.log.push("<li>Found <code>&lt;br></code> sequence. Try replacing it with styling.</li>")},i.prototype.testAttribute=function(e,t,n){s(t)?this.log.push('<li>Found <span class="event-attribute">event attribute</span> (<strong>',t,"</strong>) on <strong><code>&lt;"+e+"&gt;</code></strong> element</li>"):o(e,t)?this.log.push('<li>Found <span class="deprecated-attribute">deprecated</span> <strong>'+t+"</strong> attribute on <strong><code>&lt;",e,"&gt;</code></strong> element</li>"):r(t)?this.log.push('<li>Found <span class="style-attribute">style attribute</span> on <strong><code>&lt;',e,"&gt;</code></strong> element</li>"):a(t,n)&&this.log.push('<li>Found <span class="inaccessible-attribute">inaccessible attribute</span> (on <strong><code>&lt;',e,"&gt;</code></strong> element)</li>")},i.prototype.testChars=function(e){this._lastElement="",/(&nbsp;\s*){2,}/.test(e)&&this.log.push("<li>Found repeating <strong><code>&amp;nbsp;</code></strong> sequence. Try replacing it with styling.</li>")},i.prototype.test=function(e,t,n){this.testElement(e),this.testAttribute(e,t,n)},i.prototype.populate=function(e){this._isElementRepeated&&this._reportRepeatingElement();var t;this.log.length&&e&&(t="<ol>"+this.log.join("")+"</ol>",e.innerHTML=t)},e.HTMLLint=i}("undefined"==typeof exports?this:exports);