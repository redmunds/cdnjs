!function(e){function t(e){for(var t={},n=e.split(","),a=0;a<n.length;a++)t[n[a]]=!0,t[n[a].toUpperCase()]=!0;return t}var n,a=/^<(\w+)((?:\s*[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,r=/^<\/(\w+)[^>]*>/,o=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))?/g,i=/^<!DOCTYPE [^>]+>/i,s=t("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed"),c=t("address,applet,blockquote,button,center,dd,del,dir,div,dl,dt,fieldset,form,frameset,hr,iframe,ins,isindex,li,map,menu,noframes,noscript,object,ol,p,pre,script,table,tbody,td,tfoot,th,thead,tr,ul"),l=t("a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,span,strike,strong,sub,sup,textarea,tt,u,var"),d=t("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr"),m=t("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected"),p=t("script,style"),u={},f=e.HTMLParser=function(e,t){function f(e,n,a,r){if(c[n])for(;y.last()&&l[y.last()];)h("",y.last());if(d[n]&&y.last()==n&&h("",n),r=s[n]||!!r,r||y.push(n),t.start){var i=[];a.replace(o,function(e,t){var n=arguments[2]?arguments[2]:arguments[3]?arguments[3]:arguments[4]?arguments[4]:m[t]?t:"";i.push({name:t,value:n,escaped:n.replace(/(^|[^\\])"/g,'$1\\"')})}),t.start&&t.start(n,i,r)}}function h(e,n){if(n)for(var a=y.length-1;a>=0&&y[a]!=n;a--);else var a=0;if(a>=0){for(var r=y.length-1;r>=a;r--)t.end&&t.end(y[r]);y.length=a}}var g,b,v,y=[],D=e;for(y.last=function(){return this[this.length-1]};e;){if(b=!0,y.last()&&p[y.last()])n=y.last().toLowerCase(),reStackedTag=u[n]||(u[n]=new RegExp("([\\s\\S]*?)</"+n+"[^>]*>","i")),e=e.replace(reStackedTag,function(e,a){return"script"!==n&&"style"!==n&&(a=a.replace(/<!--([\s\S]*?)-->/g,"$1").replace(/<!\[CDATA\[([\s\S]*?)\]\]>/g,"$1")),t.chars&&t.chars(a),""}),h("",n);else if(0===e.indexOf("<!--")?(g=e.indexOf("-->"),g>=0&&(t.comment&&t.comment(e.substring(4,g)),e=e.substring(g+3),b=!1)):(v=i.exec(e))?(t.doctype&&t.doctype(v[0]),e=e.substring(v[0].length),b=!1):0===e.indexOf("</")?(v=e.match(r),v&&(e=e.substring(v[0].length),v[0].replace(r,h),b=!1)):0===e.indexOf("<")&&(v=e.match(a),v&&(e=e.substring(v[0].length),v[0].replace(a,f),b=!1)),b){g=e.indexOf("<");var w=g<0?e:e.substring(0,g);e=g<0?"":e.substring(g),t.chars&&t.chars(w)}if(e==D)throw"Parse Error: "+e;D=e}h()};e.HTMLtoXML=function(e){var t="";return f(e,{start:function(e,n,a){t+="<"+e;for(var r=0;r<n.length;r++)t+=" "+n[r].name+'="'+n[r].escaped+'"';t+=(a?"/":"")+">"},end:function(e){t+="</"+e+">"},chars:function(e){t+=e},comment:function(e){t+="<!--"+e+"-->"}}),t},e.HTMLtoDOM=function(e,n){var a=t("html,head,body,title"),r={link:"head",base:"head"};n?n=n.ownerDocument||n.getOwnerDocument&&n.getOwnerDocument()||n:"undefined"!=typeof DOMDocument?n=new DOMDocument:"undefined"!=typeof document&&document.implementation&&document.implementation.createDocument?n=document.implementation.createDocument("","",null):"undefined"!=typeof ActiveX&&(n=new ActiveXObject("Msxml.DOMDocument"));var o=[],i=n.documentElement||n.getDocumentElement&&n.getDocumentElement();if(!i&&n.createElement&&function(){var e=n.createElement("html"),t=n.createElement("head");t.appendChild(n.createElement("title")),e.appendChild(t),e.appendChild(n.createElement("body")),n.appendChild(e)}(),n.getElementsByTagName)for(var s in a)a[s]=n.getElementsByTagName(s)[0];var c=a.body;return f(e,{start:function(e,t,i){if(a[e])return void(c=a[e]);var s=n.createElement(e);for(var l in t)s.setAttribute(t[l].name,t[l].value);r[e]&&"boolean"!=typeof a[r[e]]?a[r[e]].appendChild(s):c&&c.appendChild&&c.appendChild(s),i||(o.push(s),c=s)},end:function(e){o.length-=1,c=o[o.length-1]},chars:function(e){c.appendChild(n.createTextNode(e))},comment:function(e){}}),n}}("undefined"==typeof exports?window:exports);