!function(e){function t(e){for(var t={},n=e.split(","),s=0;s<n.length;s++)t[n[s]]=!0,t[n[s].toUpperCase()]=!0;return t}var n,s=/^<([\w:-]+)((?:\s*[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,r=/^<\/([\w:-]+)[^>]*>/,o=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))?/g,a=/^<!DOCTYPE [^>]+>/i,i=t("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed"),c=(t("address,applet,blockquote,button,center,dd,del,dir,div,dl,dt,fieldset,form,frameset,hr,iframe,ins,isindex,li,map,menu,noframes,noscript,object,ol,p,pre,script,table,tbody,td,tfoot,th,thead,tr,ul"),t("a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,span,strike,strong,sub,sup,textarea,tt,u,var"),t("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr")),l=t("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected"),p=t("script,style"),u={},d=e.HTMLParser=function(e,t){function d(e,n,s,r){if(c[n]&&y.last()==n&&m("",n),r=i[n]||!!r,r||y.push(n),t.start){var a=[];s.replace(o,function(e,t){var n=arguments[2]?arguments[2]:arguments[3]?arguments[3]:arguments[4]?arguments[4]:l[t]?t:"";a.push({name:t,value:n,escaped:n.replace(/(^|[^\\])"/g,'$1\\"')})}),t.start&&t.start(n,a,r)}}function m(e,n){if(n)for(var s=y.length-1;s>=0&&y[s]!=n;s--);else var s=0;if(s>=0){for(var r=y.length-1;r>=s;r--)t.end&&t.end(y[r]);y.length=s}}var h,f,g,b,v,y=[],$=e;for(y.last=function(){return this[this.length-1]};e;){if(f=!0,y.last()&&p[y.last()])n=y.last().toLowerCase(),reStackedTag=u[n]||(u[n]=new RegExp("([\\s\\S]*?)</"+n+"[^>]*>","i")),e=e.replace(reStackedTag,function(e,s){return"script"!==n&&"style"!==n&&(s=s.replace(/<!--([\s\S]*?)-->/g,"$1").replace(/<!\[CDATA\[([\s\S]*?)\]\]>/g,"$1")),t.chars&&t.chars(s),""}),m("",n);else if(0===e.indexOf("<!--")?(h=e.indexOf("-->"),h>=0&&(t.comment&&t.comment(e.substring(4,h)),e=e.substring(h+3),f=!1)):(g=a.exec(e))?(t.doctype&&t.doctype(g[0]),e=e.substring(g[0].length),f=!1):0===e.indexOf("</")?(g=e.match(r),g&&(e=e.substring(g[0].length),g[0].replace(r,m),b="/"+g[1],f=!1)):0===e.indexOf("<")&&(g=e.match(s),g&&(e=e.substring(g[0].length),g[0].replace(s,d),b=g[1],f=!1)),f){h=e.indexOf("<");var x=h<0?e:e.substring(0,h);e=h<0?"":e.substring(h),tagMatch=e.match(s),tagMatch?v=tagMatch[1]:(tagMatch=e.match(r),v=tagMatch?"/"+tagMatch[1]:""),t.chars&&t.chars(x,b,v)}if(e==$)throw"Parse Error: "+e;$=e}m()};e.HTMLtoXML=function(e){var t="";return d(e,{start:function(e,n,s){t+="<"+e;for(var r=0;r<n.length;r++)t+=" "+n[r].name+'="'+n[r].escaped+'"';t+=(s?"/":"")+">"},end:function(e){t+="</"+e+">"},chars:function(e){t+=e},comment:function(e){t+="<!--"+e+"-->"}}),t},e.HTMLtoDOM=function(e,n){var s=t("html,head,body,title"),r={link:"head",base:"head"};n?n=n.ownerDocument||n.getOwnerDocument&&n.getOwnerDocument()||n:"undefined"!=typeof DOMDocument?n=new DOMDocument:"undefined"!=typeof document&&document.implementation&&document.implementation.createDocument?n=document.implementation.createDocument("","",null):"undefined"!=typeof ActiveX&&(n=new ActiveXObject("Msxml.DOMDocument"));var o=[],a=n.documentElement||n.getDocumentElement&&n.getDocumentElement();if(!a&&n.createElement&&function(){var e=n.createElement("html"),t=n.createElement("head");t.appendChild(n.createElement("title")),e.appendChild(t),e.appendChild(n.createElement("body")),n.appendChild(e)}(),n.getElementsByTagName)for(var i in s)s[i]=n.getElementsByTagName(i)[0];var c=s.body;return d(e,{start:function(e,t,a){if(s[e])return void(c=s[e]);var i=n.createElement(e);for(var l in t)i.setAttribute(t[l].name,t[l].value);r[e]&&"boolean"!=typeof s[r[e]]?s[r[e]].appendChild(i):c&&c.appendChild&&c.appendChild(i),a||(o.push(i),c=i)},end:function(e){o.length-=1,c=o[o.length-1]},chars:function(e){c.appendChild(n.createTextNode(e))},comment:function(e){}}),n}}("undefined"==typeof exports?this:exports),function(e){function t(e){return e.replace(/\s+/g," ")}function n(e,t,n){var s=["a","b","big","button","em","font","i","img","mark","s","small","span","strike","strong","sub","sup","tt","u"];return t&&("/"!==t.substr(0,1)||"/"===t.substr(0,1)&&s.indexOf(t.substr(1))===-1)&&(e=e.replace(/^\s+/,"")),n&&("/"===n.substr(0,1)||"/"!==n.substr(0,1)&&s.indexOf(n)===-1)&&(e=e.replace(/\s+$/,"")),t&&n?e.replace(/[\t\n\r]+/g,"").replace(/[ ]+/g," "):e}function s(e){return/\[if[^\]]+\]/.test(e)||/\s*(<!\[endif\])$/.test(e)}function r(e){return/^on[a-z]+/.test(e)}function o(e){return/^[a-zA-Z0-9-._:]+$/.test(e)}function a(e,t){for(var n=e.length;n--;)if(e[n].name.toLowerCase()===t)return!0;return!1}function i(e,t,n,s){return n=A(n.toLowerCase()),"script"===e&&"language"===t&&"javascript"===n||"form"===e&&"method"===t&&"get"===n||"input"===e&&"type"===t&&"text"===n||"script"===e&&"charset"===t&&!a(s,"src")||"a"===e&&"name"===t&&a(s,"id")||"area"===e&&"shape"===t&&"rect"===n}function c(e,t,n){return"script"===e&&"type"===t&&"text/javascript"===A(n.toLowerCase())}function l(e,t,n){return("style"===e||"link"===e)&&"type"===t&&"text/css"===A(n.toLowerCase())}function p(e){return/^(?:checked|disabled|selected|readonly)$/.test(e)}function u(e,t){return/^(?:a|area|link|base)$/.test(t)&&"href"===e||"img"===t&&/^(?:src|longdesc|usemap)$/.test(e)||"object"===t&&/^(?:classid|codebase|data|usemap)$/.test(e)||"q"===t&&"cite"===e||"blockquote"===t&&"cite"===e||("ins"===t||"del"===t)&&"cite"===e||"form"===t&&"action"===e||"input"===t&&("src"===e||"usemap"===e)||"head"===t&&"profile"===e||"script"===t&&("src"===e||"for"===e)}function d(e,t){return/^(?:a|area|object|button)$/.test(t)&&"tabindex"===e||"input"===t&&("maxlength"===e||"tabindex"===e)||"select"===t&&("size"===e||"tabindex"===e)||"textarea"===t&&/^(?:rows|cols|tabindex)$/.test(e)||"colgroup"===t&&"span"===e||"col"===t&&"span"===e||("th"===t||"td"===t)&&("rowspan"===e||"colspan"===e)}function m(e,n,s){return r(n)?A(s).replace(/^javascript:\s*/i,"").replace(/\s*;$/,""):"class"===n?t(A(s)):u(n,e)||d(n,e)?A(s):"style"===n?A(s).replace(/\s*;\s*$/,""):s}function h(e){return e.replace(/^(\[[^\]]+\]>)\s*/,"$1").replace(/\s*(<!\[endif\])$/,"$1")}function f(e){return e.replace(/^(?:\s*\/\*\s*<!\[CDATA\[\s*\*\/|\s*\/\/\s*<!\[CDATA\[.*)/,"").replace(/(?:\/\*\s*\]\]>\s*\*\/|\/\/\s*\]\]>)\s*$/,"")}function g(e,t){return e.replace(D[t],"").replace(L[t],"")}function b(e){return/^(?:html|t?body|t?head|tfoot|tr|option)$/.test(e)}function v(e,t,n){var s=/^(["'])?\s*\1$/.test(n);return!!s&&("input"===e&&"value"===t||M.test(t))}function y(e){return"textarea"!==e}function $(e){return!/^(?:script|style|pre|textarea)$/.test(e)}function x(e){return!/^(?:pre|textarea)$/.test(e)}function E(e,t,n,s){var r,a=e.name.toLowerCase(),u=e.escaped;return s.removeRedundantAttributes&&i(n,a,u,t)||s.removeScriptTypeAttributes&&c(n,a,u)||s.removeStyleLinkTypeAttributes&&l(n,a,u)?"":(u=m(n,a,u),s.removeAttributeQuotes&&o(u)||(u='"'+u+'"'),s.removeEmptyAttributes&&v(n,a,u)?"":(r=s.collapseBooleanAttributes&&p(a)?a:a+"="+u," "+r))}function w(e){for(var t=["canCollapseWhitespace","canTrimWhitespace"],n=0,s=t.length;n<s;n++)e[t[n]]||(e[t[n]]=function(){return!1})}function C(e,r){function o(e,t){return $(e)||r.canTrimWhitespace(e,t)}function a(e,t){return x(e)||r.canTrimWhitespace(e,t)}r=r||{},e=A(e),w(r);var i=[],c=[],l="",p="",u=[],d=[],m=[],v=r.lint,C=new Date;k(e,{start:function(e,t){e=e.toLowerCase(),p=e,l="",u=t,r.collapseWhitespace&&(a(e,t)||d.push(e),o(e,t)||m.push(e)),c.push("<",e),v&&v.testElement(e);for(var n=0,s=t.length;n<s;n++)v&&v.testAttribute(e,t[n].name.toLowerCase(),t[n].escaped),c.push(E(t[n],t,e,r));c.push(">")},end:function(e){r.collapseWhitespace&&(d.length&&e===d[d.length-1]&&d.pop(),m.length&&e===m[m.length-1]&&m.pop());var t=""===l&&e===p;return r.removeEmptyElements&&t&&y(e)?void c.splice(c.lastIndexOf("<")):void(r.removeOptionalTags&&b(e)||(c.push("</",e.toLowerCase(),">"),i.push.apply(i,c),c.length=0,l=""))},chars:function(e,s,i){"script"!==p&&"style"!==p||(r.removeCommentsFromCDATA&&(e=g(e,p)),r.removeCDATASectionsFromCDATA&&(e=f(e))),r.collapseWhitespace&&(!d.length&&a(p,u)&&(e=s||i?n(e,s,i):A(e)),!m.length&&o(p,u)&&(e=t(e))),l=e,v&&v.testChars(e),c.push(e)},comment:function(e){e=r.removeComments?s(e)?"<!--"+h(e)+"-->":"":"<!--"+e+"-->",c.push(e)},doctype:function(e){c.push(r.useShortDoctype?"<!DOCTYPE html>":t(e))}}),i.push.apply(i,c);var D=i.join("");return T("minified in: "+(new Date-C)+"ms"),D}var T,k;T=e.console&&e.console.log?function(t){e.console.log(t)}:function(){},e.HTMLParser?k=e.HTMLParser:"function"==typeof require&&(k=require("./htmlparser").HTMLParser);var A=function(e){return e.replace(/^\s+/,"").replace(/\s+$/,"")};String.prototype.trim&&(A=function(e){return e.trim()});var D={script:/^\s*(?:\/\/)?\s*<!--.*\n?/,style:/^\s*<!--\s*/},L={script:/\s*(?:\/\/)?\s*-->\s*$/,style:/\s*-->\s*$/},M=new RegExp("^(?:class|id|style|title|lang|dir|on(?:focus|blur|change|click|dblclick|mouse(?:down|up|over|move|out)|key(?:press|down|up)))$");"undefined"!=typeof exports?exports.minify=C:e.minify=C}(this),function(e){function t(e){return/^(?:b|i|big|small|hr|blink|marquee)$/.test(e)}function n(e){return/^(?:applet|basefont|center|dir|font|isindex|s|strike|u)$/.test(e)}function s(e){return/^on[a-z]+/.test(e)}function r(e){return"style"===e.toLowerCase()}function o(e,t){return"align"===t&&/^(?:caption|applet|iframe|img|imput|object|legend|table|hr|div|h[1-6]|p)$/.test(e)||"alink"===t&&"body"===e||"alt"===t&&"applet"===e||"archive"===t&&"applet"===e||"background"===t&&"body"===e||"bgcolor"===t&&/^(?:table|t[rdh]|body)$/.test(e)||"border"===t&&/^(?:img|object)$/.test(e)||"clear"===t&&"br"===e||"code"===t&&"applet"===e||"codebase"===t&&"applet"===e||"color"===t&&/^(?:base(?:font)?)$/.test(e)||"compact"===t&&/^(?:dir|[dou]l|menu)$/.test(e)||"face"===t&&/^base(?:font)?$/.test(e)||"height"===t&&/^(?:t[dh]|applet)$/.test(e)||"hspace"===t&&/^(?:applet|img|object)$/.test(e)||"language"===t&&"script"===e||"link"===t&&"body"===e||"name"===t&&"applet"===e||"noshade"===t&&"hr"===e||"nowrap"===t&&/^t[dh]$/.test(e)||"object"===t&&"applet"===e||"prompt"===t&&"isindex"===e||"size"===t&&/^(?:hr|font|basefont)$/.test(e)||"start"===t&&"ol"===e||"text"===t&&"body"===e||"type"===t&&/^(?:li|ol|ul)$/.test(e)||"value"===t&&"li"===e||"version"===t&&"html"===e||"vlink"===t&&"body"===e||"vspace"===t&&/^(?:applet|img|object)$/.test(e)||"width"===t&&/^(?:hr|td|th|applet|pre)$/.test(e)}function a(e,t){return"href"===e&&/^\s*javascript\s*:\s*void\s*(\s+0|\(\s*0\s*\))\s*$/i.test(t)}function i(){this.log=[],this._lastElement=null,this._isElementRepeated=!1}i.prototype.testElement=function(e){n(e)?this.log.push('<li>Found <span class="deprecated-element">deprecated</span> <strong><code>&lt;'+e+"&gt;</code></strong> element</li>"):t(e)?this.log.push('<li>Found <span class="presentational-element">presentational</span> <strong><code>&lt;'+e+"&gt;</code></strong> element</li>"):this.checkRepeatingElement(e)},i.prototype.checkRepeatingElement=function(e){"br"===e&&"br"===this._lastElement?this._isElementRepeated=!0:this._isElementRepeated&&(this._reportRepeatingElement(),this._isElementRepeated=!1),this._lastElement=e},i.prototype._reportRepeatingElement=function(){this.log.push("<li>Found <code>&lt;br></code> sequence. Try replacing it with styling.</li>")},i.prototype.testAttribute=function(e,t,n){s(t)?this.log.push('<li>Found <span class="event-attribute">event attribute</span> (<strong>',t,"</strong>) on <strong><code>&lt;"+e+"&gt;</code></strong> element</li>"):o(e,t)?this.log.push('<li>Found <span class="deprecated-attribute">deprecated</span> <strong>'+t+"</strong> attribute on <strong><code>&lt;",e,"&gt;</code></strong> element</li>"):r(t)?this.log.push('<li>Found <span class="style-attribute">style attribute</span> on <strong><code>&lt;',e,"&gt;</code></strong> element</li>"):a(t,n)&&this.log.push('<li>Found <span class="inaccessible-attribute">inaccessible attribute</span> (on <strong><code>&lt;',e,"&gt;</code></strong> element)</li>")},i.prototype.testChars=function(e){this._lastElement="",/(&nbsp;\s*){2,}/.test(e)&&this.log.push("<li>Found repeating <strong><code>&amp;nbsp;</code></strong> sequence. Try replacing it with styling.</li>")},i.prototype.test=function(e,t,n){this.testElement(e),this.testAttribute(e,t,n)},i.prototype.populate=function(e){this._isElementRepeated&&this._reportRepeatingElement();var t;this.log.length&&e&&(t="<ol>"+this.log.join("")+"</ol>",e.innerHTML=t)},e.HTMLLint=i}("undefined"==typeof exports?this:exports);