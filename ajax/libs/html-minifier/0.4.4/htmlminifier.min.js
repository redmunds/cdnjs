!function(e){function t(e){return e.replace(/^\s+/,"").replace(/\s+$/,"")}function r(e){return e.replace(/\s+/g," ")}function n(e){return/\[if[^\]]+\]/.test(e)}function s(e){return/^on[a-z]+/.test(e)}function o(e){return/^[a-zA-Z0-9-._:]+$/.test(e)}function a(e,t){for(var r=e.length;r--;)if(e[r].name.toLowerCase()===t)return!0;return!1}function c(e,r,n,s){return n=t(n.toLowerCase()),"script"===e&&"language"===r&&"javascript"===n||"form"===e&&"method"===r&&"get"===n||"input"===e&&"type"===r&&"text"===n||"script"===e&&"charset"===r&&!a(s,"src")||"a"===e&&"name"===r&&a(s,"id")||"area"===e&&"shape"===r&&"rect"===n}function i(e,r,n){return"script"===e&&"type"===r&&"text/javascript"===t(n.toLowerCase())}function u(e,r,n){return("style"===e||"link"===e)&&"type"===r&&"text/css"===t(n.toLowerCase())}function p(e){return/^(?:checked|disabled|selected|readonly)$/.test(e)}function l(e,t){return/^(?:a|area|link|base)$/.test(t)&&"href"===e||"img"===t&&/^(?:src|longdesc|usemap)$/.test(e)||"object"===t&&/^(?:classid|codebase|data|usemap)$/.test(e)||"q"===t&&"cite"===e||"blockquote"===t&&"cite"===e||("ins"===t||"del"===t)&&"cite"===e||"form"===t&&"action"===e||"input"===t&&("src"===e||"usemap"===e)||"head"===t&&"profile"===e||"script"===t&&("src"===e||"for"===e)}function f(e,t){return/^(?:a|area|object|button)$/.test(t)&&"tabindex"===e||"input"===t&&("maxlength"===e||"tabindex"===e)||"select"===t&&("size"===e||"tabindex"===e)||"textarea"===t&&/^(?:rows|cols|tabindex)$/.test(e)||"colgroup"===t&&"span"===e||"col"===t&&"span"===e||("th"===t||"td"==t)&&("rowspan"===e||"colspan"===e)}function m(e,n,o){return s(n)?t(o).replace(/^javascript:\s*/i,"").replace(/\s*;$/,""):"class"===n?r(t(o)):l(n,e)||f(n,e)?t(o):"style"===n?t(o).replace(/\s*;\s*$/,""):o}function d(e){return e.replace(/^(\[[^\]]+\]>)\s*/,"$1").replace(/\s*(<!\[endif\])$/,"$1")}function h(e){return e.replace(/^(?:\s*\/\*\s*<!\[CDATA\[\s*\*\/|\s*\/\/\s*<!\[CDATA\[.*)/,"").replace(/(?:\/\*\s*\]\]>\s*\*\/|\/\/\s*\]\]>)\s*$/,"")}function v(e,t){return e.replace(T[t],"").replace(D[t],"")}function y(e){return/^(?:html|t?body|t?head|tfoot|tr|option)$/.test(e)}function g(e,t,r){var n=/^(["'])?\s*\1$/.test(r);return!!n&&("input"===e&&"value"===t||k.test(t))}function b(e){return"textarea"!==e}function $(e){return!/^(?:script|style|pre|textarea)$/.test(e)}function A(e){return!/^(?:pre|textarea)$/.test(e)}function w(e,t,r,n){var s,a=e.name.toLowerCase(),l=e.escaped;return n.removeRedundantAttributes&&c(r,a,l,t)||n.removeScriptTypeAttributes&&i(r,a,l)||n.removeStyleLinkTypeAttributes&&u(r,a,l)?"":(l=m(r,a,l),n.removeAttributeQuotes&&o(l)||(l='"'+l+'"'),n.removeEmptyAttributes&&g(r,a,l)?"":(s=n.collapseBooleanAttributes&&p(a)?a:a+"="+l," "+s))}function C(e,s){s=s||{},e=t(e);var o=[],a=[],c="",i="",u=[],p=[],l=s.lint,f=new Date;L(e,{start:function(e,t,r){e=e.toLowerCase(),i=e,c="",s.collapseWhitespace&&(A(e)||u.push(e),$(e)||p.push(e)),a.push("<",e),l&&l.testElement(e);for(var n=0,o=t.length;n<o;n++)l&&l.testAttribute(e,t[n].name.toLowerCase(),t[n].escaped),a.push(w(t[n],t,e,s));a.push(">")},end:function(e){s.collapseWhitespace&&(u.length&&e==u[u.length-1]&&u.pop(),p.length&&e==p[p.length-1]&&p.pop());var t=""===c&&e===i;return s.removeEmptyElements&&t&&b(e)?void a.splice(a.lastIndexOf("<")):void(s.removeOptionalTags&&y(e)||(a.push("</",e.toLowerCase(),">"),o.push.apply(o,a),a.length=0,c=""))},chars:function(e){"script"!==i&&"style"!==i||(s.removeCommentsFromCDATA&&(e=v(e,i)),s.removeCDATASectionsFromCDATA&&(e=h(e))),s.collapseWhitespace&&(!u.length&&A(i)&&(e=t(e)),!p.length&&$(i)&&(e=r(e))),c=e,l&&l.testChars(e),a.push(e)},comment:function(e){e=s.removeComments?n(e)?"<!--"+d(e)+"-->":"":"<!--"+e+"-->",a.push(e)},doctype:function(e){a.push(s.useShortDoctype?"<!DOCTYPE html>":r(e))}}),o.push.apply(o,a);var m=o.join("");return x("minified in: "+(new Date-f)+"ms"),m}var x,L;x=e.console&&e.console.log?function(t){e.console.log(t)}:function(){},e.HTMLParser?L=e.HTMLParser:"function"==typeof require&&(L=require("./htmlparser").HTMLParser),String.prototype.trim&&(t=function(e){return e.trim()});var T={script:/^\s*(?:\/\/)?\s*<!--.*\n?/,style:/^\s*<!--\s*/},D={script:/\s*(?:\/\/)?\s*-->\s*$/,style:/\s*-->\s*$/},k=new RegExp("^(?:class|id|style|title|lang|dir|on(?:focus|blur|change|click|dblclick|mouse(?:down|up|over|move|out)|key(?:press|down|up)))$");e.minify=C}("undefined"==typeof exports?window:exports);