module.exports=function(a){var b=a||require("opal-npm-wrapper").Opal;b.modules["asciidoctor/extensions"]=function(a){function b(a,b){return"number"==typeof a&&"number"==typeof b?a+b:a["$+"](b)}function c(a,b){return"number"==typeof a&&"number"==typeof b?b>a:a["$<"](b)}function d(a,b){return"number"==typeof a&&"number"==typeof b?a>b:a["$>"](b)}function e(a,b){return"number"==typeof a&&"number"==typeof b?a-b:a["$-"](b)}a.dynamic_require_severity="ignore";var f=(a.top,a),g=a.nil,h=a.breaker,i=a.slice,j=a.module,k=a.klass,l=a.hash2,m=a.range,n=a.hash;return function(f){var o=j(f,"Asciidoctor"),p=(o.$$proto,o.$$scope);!function(f){var o=j(f,"Extensions"),p=(o.$$proto,o.$$scope);!function(b,c){function d(){}var e,f,h,j=d=k(b,c,"Processor",d),m=j.$$proto,n=j.$$scope;return m.config=g,function(b){b.$$scope,b.$$proto;return a.defn(b,"$config",function(){var a,b=this;return null==b.config&&(b.config=g),(a=b.config)!==!1&&a!==g?a:b.config=l([],{})}),a.defn(b,"$option",function(a,b){var c=this;return c.$config()["$[]="](a,b)}),a.defn(b,"$use_dsl",function(){var a,b=this;return(a=b.$name()["$nil_or_empty?"]())===g||a.$$is_boolean&&1!=a?(a=b.$constants().$grep("DSL"))===g||a.$$is_boolean&&1!=a?g:b.$extend(b.$const_get("DSL")):(a=b.$constants().$grep("DSL"))===g||a.$$is_boolean&&1!=a?g:b.$include(b.$const_get("DSL"))}),a.alias(b,"extend_dsl","use_dsl"),a.alias(b,"include_dsl","use_dsl")}(a.get_singleton_class(j)),j.$attr_reader("config"),a.defn(j,"$initialize",function(a){var b=this;return null==a&&(a=l([],{})),b.config=b.$class().$config().$merge(a)}),a.defn(j,"$update_config",function(a){var b=this;return b.config.$update(a)}),a.defn(j,"$process",function(){var b=this,c=arguments.length-0;0>c&&(c=0);for(var d=new Array(c),e=0;c>e;e++)d[e]=arguments[e+0];return b.$raise(a.get("NotImplementedError"))}),a.defn(j,"$create_block",function(a,b,c,d,e){return null==e&&(e=l([],{})),n.get("Block").$new(a,b,l(["source","attributes"],{source:c,attributes:d}).$merge(e))}),a.defn(j,"$create_image_block",function(a,b,c){var d=this;return null==c&&(c=l([],{})),d.$create_block(a,"image",g,b,c)}),a.defn(j,"$create_inline",function(a,b,c,d){return null==d&&(d=l([],{})),n.get("Inline").$new(a,b,c,d)}),a.defn(j,"$parse_content",function(a,b,c){var d,e,f=g,h=g;for(null==c&&(c=l([],{})),f=function(){return(d=b["$is_a?"](n.get("Reader")))===g||d.$$is_boolean&&1!=d?n.get("Reader").$new(b):b}();(e=f["$has_more_lines?"]())!==g&&(!e.$$is_boolean||1==e);)h=n.get("Parser").$next_block(f,a,c),h!==!1&&h!==g&&a["$<<"](h);return g}),(e=(f=[["create_paragraph","create_block","paragraph"],["create_open_block","create_block","open"],["create_example_block","create_block","example"],["create_pass_block","create_block","pass"],["create_listing_block","create_block","listing"],["create_literal_block","create_block","literal"],["create_anchor","create_inline","anchor"]]).$each,e.$$p=(h=function(b,c,d){var e,f,j,k=h.$$s||this;return null==b&&(b=g),null==c&&(c=g),null==d&&(d=g),(e=(f=k).$define_method,e.$$p=(j=function(b){var e,f=j.$$s||this;return b=i.call(arguments,0),(e=f).$send.apply(e,[c].concat(a.to_a(b.$dup().$insert(1,d))))},j.$$s=k,j),e).call(f,b)},h.$$s=j,h),e).call(f)}(p.base,null),function(b){var c,d=j(b,"ProcessorDsl");d.$$proto,d.$$scope;a.defn(d,"$option",function(a,b){var c=this;return c.$config()["$[]="](a,b)}),a.defn(d,"$process",c=function(){var b,d=this,e=c.$$p,f=e||g;null==d.process_block&&(d.process_block=g);var h=arguments.length-0;0>h&&(h=0);for(var i=new Array(h),j=0;h>j;j++)i[j]=arguments[j+0];return c.$$p=null,f!==g?d.process_block=f:(b=d.process_block)===g||b.$$is_boolean&&1!=b?d.$raise(a.get("NotImplementedError")):(b=d.process_block).$call.apply(b,a.to_a(i))}),a.defn(d,"$process_block_given?",function(){var a,b=this;return a=b.process_block,null!=a&&a!==g?"instance-variable":g})}(p.base),function(b,c){function d(){}var e=d=k(b,c,"Preprocessor",d);e.$$proto,e.$$scope;return a.defn(e,"$process",function(b,c){var d=this;return d.$raise(a.get("NotImplementedError"))}),g&&"process"}(p.base,p.get("Processor")),a.casgn(p.get("Preprocessor"),"DSL",p.get("ProcessorDsl")),function(b,c){function d(){}var e=d=k(b,c,"Treeprocessor",d);e.$$proto,e.$$scope;return a.defn(e,"$process",function(b){var c=this;return c.$raise(a.get("NotImplementedError"))}),g&&"process"}(p.base,p.get("Processor")),a.casgn(p.get("Treeprocessor"),"DSL",p.get("ProcessorDsl")),function(b,c){function d(){}var e=d=k(b,c,"Postprocessor",d);e.$$proto,e.$$scope;return a.defn(e,"$process",function(b,c){var d=this;return d.$raise(a.get("NotImplementedError"))}),g&&"process"}(p.base,p.get("Processor")),a.casgn(p.get("Postprocessor"),"DSL",p.get("ProcessorDsl")),function(b,c){function d(){}var e=d=k(b,c,"IncludeProcessor",d);e.$$proto,e.$$scope;return a.defn(e,"$process",function(b,c,d,e){var f=this;return f.$raise(a.get("NotImplementedError"))}),a.defn(e,"$handles?",function(a){return!0}),g&&"handles?"}(p.base,p.get("Processor")),a.casgn(p.get("IncludeProcessor"),"DSL",p.get("ProcessorDsl")),function(b,c){function d(){}var e,f=d=k(b,c,"DocinfoProcessor",d),h=f.$$proto;f.$$scope;return h.config=g,f.$attr_accessor("location"),a.defn(f,"$initialize",e=function(b){var c,d,f,h=this;e.$$p;return null==b&&(b=l([],{})),e.$$p=null,a.find_super_dispatcher(h,"initialize",e,null).apply(h,[b]),c="location",d=h.config,(f=d["$[]"](c))!==!1&&f!==g?f:d["$[]="](c,"head")}),a.defn(f,"$process",function(b){var c=this;return c.$raise(a.get("NotImplementedError"))}),g&&"process"}(p.base,p.get("Processor")),function(b){var c=j(b,"DocinfoProcessorDsl"),d=(c.$$proto,c.$$scope);c.$include(d.get("ProcessorDsl")),a.defn(c,"$at_location",function(a){var b=this;return b.$option("location",a)})}(p.base),a.casgn(p.get("DocinfoProcessor"),"DSL",p.get("DocinfoProcessorDsl")),function(b,c){function d(){}var e,f=d=k(b,c,"BlockProcessor",d),h=f.$$proto;f.$$scope;return h.config=g,f.$attr_accessor("name"),a.defn(f,"$initialize",e=function(b,c){var d,f,h,i=this,j=(e.$$p,g);return null==b&&(b=g),null==c&&(c=l([],{})),e.$$p=null,a.find_super_dispatcher(i,"initialize",e,null).apply(i,[c]),i.name=(d=b)!==!1&&d!==g?d:i.config["$[]"]("name"),j=i.config["$[]"]("contexts"),a.get("NilClass")["$==="](j)?(d="contexts",f=i.config,(h=f["$[]"](d))!==!1&&h!==g?h:f["$[]="](d,["open","paragraph"].$to_set())):a.get("Symbol")["$==="](j)?i.config["$[]="]("contexts",[i.config["$[]"]("contexts")].$to_set()):i.config["$[]="]("contexts",i.config["$[]"]("contexts").$to_set()),d="content_model",f=i.config,(h=f["$[]"](d))!==!1&&h!==g?h:f["$[]="](d,"compound")}),a.defn(f,"$process",function(b,c,d){var e=this;return e.$raise(a.get("NotImplementedError"))}),g&&"process"}(p.base,p.get("Processor")),function(b){var c=j(b,"BlockProcessorDsl"),d=(c.$$proto,c.$$scope);c.$include(d.get("ProcessorDsl")),a.defn(c,"$named",function(a){var b,c=this;return(b=c["$is_a?"](d.get("Processor")))===g||b.$$is_boolean&&1!=b?c.$option("name",a):c.name=a}),a.alias(c,"match_name","named"),a.alias(c,"bind_to","named"),a.defn(c,"$contexts",function(){var a=this,b=arguments.length-0;0>b&&(b=0);for(var c=new Array(b),d=0;b>d;d++)c[d]=arguments[d+0];return a.$option("contexts",c.$flatten())}),a.alias(c,"on_contexts","contexts"),a.alias(c,"on_context","contexts"),a.defn(c,"$content_model",function(a){var b=this;return b.$option("content_model",a)}),a.alias(c,"parse_content_as","content_model"),a.defn(c,"$positional_attributes",function(){var a=this,b=arguments.length-0;0>b&&(b=0);for(var c=new Array(b),d=0;b>d;d++)c[d]=arguments[d+0];return a.$option("pos_attrs",c.$flatten())}),a.alias(c,"pos_attrs","positional_attributes"),a.alias(c,"name_attributes","positional_attributes"),a.alias(c,"name_positional_attributes","positional_attributes"),a.defn(c,"$default_attrs",function(a){var b=this;return b.$option("default_attrs",a)}),a.alias(c,"seed_attributes_with","default_attrs")}(p.base),a.casgn(p.get("BlockProcessor"),"DSL",p.get("BlockProcessorDsl")),function(b,c){function d(){}var e,f=d=k(b,c,"MacroProcessor",d),h=f.$$proto;f.$$scope;return h.config=g,f.$attr_accessor("name"),a.defn(f,"$initialize",e=function(b,c){var d,f,h,i=this;e.$$p;return null==b&&(b=g),null==c&&(c=l([],{})),e.$$p=null,a.find_super_dispatcher(i,"initialize",e,null).apply(i,[c]),i.name=(d=b)!==!1&&d!==g?d:i.config["$[]"]("name"),d="content_model",f=i.config,(h=f["$[]"](d))!==!1&&h!==g?h:f["$[]="](d,"attributes")}),a.defn(f,"$process",function(b,c,d){var e=this;return e.$raise(a.get("NotImplementedError"))}),g&&"process"}(p.base,p.get("Processor")),function(b){var c=j(b,"MacroProcessorDsl"),d=(c.$$proto,c.$$scope);c.$include(d.get("ProcessorDsl")),a.defn(c,"$named",function(a){var b,c=this;return(b=c["$is_a?"](d.get("Processor")))===g||b.$$is_boolean&&1!=b?c.$option("name",a):c.name=a}),a.alias(c,"match_name","named"),a.alias(c,"bind_to","named"),a.defn(c,"$content_model",function(a){var b=this;return b.$option("content_model",a)}),a.alias(c,"parse_content_as","content_model"),a.defn(c,"$positional_attributes",function(){var a=this,b=arguments.length-0;0>b&&(b=0);for(var c=new Array(b),d=0;b>d;d++)c[d]=arguments[d+0];return a.$option("pos_attrs",c.$flatten())}),a.alias(c,"pos_attrs","positional_attributes"),a.alias(c,"name_attributes","positional_attributes"),a.alias(c,"name_positional_attributes","positional_attributes"),a.defn(c,"$default_attrs",function(a){var b=this;return b.$option("default_attrs",a)}),a.alias(c,"seed_attributes_with","default_attrs")}(p.base),function(a,b){function c(){}var d=c=k(a,b,"BlockMacroProcessor",c);d.$$proto,d.$$scope;return g}(p.base,p.get("MacroProcessor")),a.casgn(p.get("BlockMacroProcessor"),"DSL",p.get("MacroProcessorDsl")),function(b,c){function d(){}var e=d=k(b,c,"InlineMacroProcessor",d),f=e.$$proto;e.$$scope;return f.config=f.name=g,a.defn(e,"$regexp",function(){var a,b,c,d=this;return a="regexp",b=d.config,(c=b["$[]"](a))!==!1&&c!==g?c:b["$[]="](a,d.$resolve_regexp(d.name,d.config["$[]"]("format")))}),a.defn(e,"$resolve_regexp",function(a,b){return b["$=="]("short")?new RegExp("\\\\?"+a+":\\[((?:\\\\\\]|[^\\]])*?)\\]"):new RegExp("\\\\?"+a+":(\\S+?)\\[((?:\\\\\\]|[^\\]])*?)\\]")}),g&&"resolve_regexp"}(p.base,p.get("MacroProcessor")),function(b){var c=j(b,"InlineMacroProcessorDsl"),d=(c.$$proto,c.$$scope);c.$include(d.get("MacroProcessorDsl")),a.defn(c,"$using_format",function(a){var b=this;return b.$option("format",a)}),a.defn(c,"$match",function(a){var b=this;return b.$option("regexp",a)})}(p.base),a.casgn(p.get("InlineMacroProcessor"),"DSL",p.get("InlineMacroProcessorDsl")),function(b,c){function d(){}var e=d=k(b,c,"Extension",d);e.$$proto,e.$$scope;return e.$attr("kind"),e.$attr("config"),e.$attr("instance"),a.defn(e,"$initialize",function(a,b,c){var d=this;return d.kind=a,d.instance=b,d.config=c}),g&&"initialize"}(p.base,null),function(b,c){function d(){}var e,f=d=k(b,c,"ProcessorExtension",d);f.$$proto,f.$$scope;return f.$attr("process_method"),a.defn(f,"$initialize",e=function(b,c,d){var f,h=this;e.$$p;return null==d&&(d=g),e.$$p=null,a.find_super_dispatcher(h,"initialize",e,null).apply(h,[b,c,c.$config()]),h.process_method=(f=d)!==!1&&f!==g?f:c.$method("process")}),g&&"initialize"}(p.base,p.get("Extension")),function(b,c){function d(){}var e=d=k(b,c,"Group",d);e.$$proto,e.$$scope;return function(b){var c=b.$$scope;b.$$proto;return a.defn(b,"$register",function(a){var b=this;return null==a&&(a=g),c.get("Extensions").$register(a,b)}),g&&"register"}(a.get_singleton_class(e)),a.defn(e,"$activate",function(b){var c=this;return c.$raise(a.get("NotImplementedError"))}),g&&"activate"}(p.base,null),function(f,i){function j(){}var n,o,p,q,r,s,t,u,v,w,x=j=k(f,i,"Registry",j),y=x.$$proto,z=x.$$scope;return y.groups=y.preprocessor_extensions=y.treeprocessor_extensions=y.postprocessor_extensions=y.include_processor_extensions=y.docinfo_processor_extensions=y.block_extensions=y.block_macro_extensions=y.inline_macro_extensions=g,x.$attr_reader("document"),x.$attr_reader("groups"),a.defn(x,"$initialize",function(a){var b=this;return null==a&&(a=l([],{})),b.groups=a,b.preprocessor_extensions=b.treeprocessor_extensions=b.postprocessor_extensions=b.include_processor_extensions=b.docinfo_processor_extensions=g,b.block_extensions=b.block_macro_extensions=b.inline_macro_extensions=g,b.document=g}),a.defn(x,"$activate",function(c){var d,e,f,h=this;return h.document=c,(d=(e=b(z.get("Extensions").$groups().$values(),h.groups.$values())).$each,d.$$p=(f=function(b){var c,d,e=f.$$s||this,h=g;return null==b&&(b=g),function(){return h=b,a.get("Proc")["$==="](h)?function(){return h=b.$arity(),0["$==="](h)||(-1)["$==="](h)?(c=(d=e).$instance_exec,c.$$p=b.$to_proc(),c).call(d):1["$==="](h)?b.$call(e):g}():a.get("Class")["$==="](h)?b.$new().$activate(e):b.$activate(e)}()},f.$$s=h,f),d).call(e),h}),a.defn(x,"$preprocessor",n=function(){var a,b,c=this,d=n.$$p,e=d||g,f=arguments.length-0;0>f&&(f=0);for(var h=new Array(f),i=0;f>i;i++)h[i]=arguments[i+0];return n.$$p=null,(a=(b=c).$add_document_processor,a.$$p=e.$to_proc(),a).call(b,"preprocessor",h)}),a.defn(x,"$preprocessors?",function(){var a=this;return a.preprocessor_extensions["$!"]()["$!"]()}),a.defn(x,"$preprocessors",function(){var a=this;return a.preprocessor_extensions}),a.defn(x,"$treeprocessor",o=function(){var a,b,c=this,d=o.$$p,e=d||g,f=arguments.length-0;0>f&&(f=0);for(var h=new Array(f),i=0;f>i;i++)h[i]=arguments[i+0];return o.$$p=null,(a=(b=c).$add_document_processor,a.$$p=e.$to_proc(),a).call(b,"treeprocessor",h)}),a.defn(x,"$treeprocessors?",function(){var a=this;return a.treeprocessor_extensions["$!"]()["$!"]()}),a.defn(x,"$treeprocessors",function(){var a=this;return a.treeprocessor_extensions}),a.defn(x,"$postprocessor",p=function(){var a,b,c=this,d=p.$$p,e=d||g,f=arguments.length-0;0>f&&(f=0);for(var h=new Array(f),i=0;f>i;i++)h[i]=arguments[i+0];return p.$$p=null,(a=(b=c).$add_document_processor,a.$$p=e.$to_proc(),a).call(b,"postprocessor",h)}),a.defn(x,"$postprocessors?",function(){var a=this;return a.postprocessor_extensions["$!"]()["$!"]()}),a.defn(x,"$postprocessors",function(){var a=this;return a.postprocessor_extensions}),a.defn(x,"$include_processor",q=function(){var a,b,c=this,d=q.$$p,e=d||g,f=arguments.length-0;0>f&&(f=0);for(var h=new Array(f),i=0;f>i;i++)h[i]=arguments[i+0];return q.$$p=null,(a=(b=c).$add_document_processor,a.$$p=e.$to_proc(),a).call(b,"include_processor",h)}),a.defn(x,"$include_processors?",function(){var a=this;return a.include_processor_extensions["$!"]()["$!"]()}),a.defn(x,"$include_processors",function(){var a=this;return a.include_processor_extensions}),a.defn(x,"$docinfo_processor",r=function(){var a,b,c=this,d=r.$$p,e=d||g,f=arguments.length-0;0>f&&(f=0);for(var h=new Array(f),i=0;f>i;i++)h[i]=arguments[i+0];return r.$$p=null,(a=(b=c).$add_document_processor,a.$$p=e.$to_proc(),a).call(b,"docinfo_processor",h)}),a.defn(x,"$docinfo_processors?",function(a){var b,c,d,e=this;return null==a&&(a=g),(b=e.docinfo_processor_extensions)===g||b.$$is_boolean&&1!=b?!1:a!==!1&&a!==g?(b=(c=e.docinfo_processor_extensions).$find,b.$$p=(d=function(b){d.$$s||this;return null==b&&(b=g),b.$config()["$[]"]("location")["$=="](a)},d.$$s=e,d),b).call(c):!0}),a.defn(x,"$docinfo_processors",function(a){var b,c,d,e=this;return null==a&&(a=g),(b=e.docinfo_processor_extensions)===g||b.$$is_boolean&&1!=b?g:a!==!1&&a!==g?(b=(c=e.docinfo_processor_extensions).$select,b.$$p=(d=function(b){d.$$s||this;return null==b&&(b=g),b.$config()["$[]"]("location")["$=="](a)},d.$$s=e,d),b).call(c):e.docinfo_processor_extensions}),a.defn(x,"$block",s=function(){var a,b,c=this,d=s.$$p,e=d||g,f=arguments.length-0;0>f&&(f=0);for(var h=new Array(f),i=0;f>i;i++)h[i]=arguments[i+0];return s.$$p=null,(a=(b=c).$add_syntax_processor,a.$$p=e.$to_proc(),a).call(b,"block",h)}),a.defn(x,"$blocks?",function(){var a=this;return a.block_extensions["$!"]()["$!"]()}),a.defn(x,"$registered_for_block?",function(a,b){var c,d=this,e=g;return(c=e=d.block_extensions["$[]"](a.$to_sym()))===g||c.$$is_boolean&&1!=c?!1:(c=e.$config()["$[]"]("contexts")["$include?"](b))===g||c.$$is_boolean&&1!=c?!1:e}),a.defn(x,"$find_block_extension",function(a){var b=this;return b.block_extensions["$[]"](a.$to_sym())}),a.defn(x,"$block_macro",t=function(){var a,b,c=this,d=t.$$p,e=d||g,f=arguments.length-0;0>f&&(f=0);for(var h=new Array(f),i=0;f>i;i++)h[i]=arguments[i+0];return t.$$p=null,(a=(b=c).$add_syntax_processor,a.$$p=e.$to_proc(),a).call(b,"block_macro",h)}),a.defn(x,"$block_macros?",function(){var a=this;return a.block_macro_extensions["$!"]()["$!"]()}),a.defn(x,"$registered_for_block_macro?",function(a){var b,c=this,d=g;return(b=d=c.block_macro_extensions["$[]"](a.$to_sym()))===g||b.$$is_boolean&&1!=b?!1:d}),a.defn(x,"$find_block_macro_extension",function(a){var b=this;return b.block_macro_extensions["$[]"](a.$to_sym())}),a.defn(x,"$inline_macro",u=function(){var a,b,c=this,d=u.$$p,e=d||g,f=arguments.length-0;0>f&&(f=0);for(var h=new Array(f),i=0;f>i;i++)h[i]=arguments[i+0];return u.$$p=null,(a=(b=c).$add_syntax_processor,a.$$p=e.$to_proc(),a).call(b,"inline_macro",h)}),a.defn(x,"$inline_macros?",function(){var a=this;return a.inline_macro_extensions["$!"]()["$!"]()}),a.defn(x,"$registered_for_inline_macro?",function(a){var b,c=this,d=g;return(b=d=c.inline_macro_extensions["$[]"](a.$to_sym()))===g||b.$$is_boolean&&1!=b?!1:d}),a.defn(x,"$find_inline_macro_extension",function(a){var b=this;return b.inline_macro_extensions["$[]"](a.$to_sym())}),a.defn(x,"$inline_macros",function(){var a=this;return a.inline_macro_extensions.$values()}),x.$private(),a.defn(x,"$add_document_processor",v=function(b,d){var e,f,h,i,j,k,l=this,n=v.$$p,o=n||g,p=g,q=g,r=g,s=g,t=g,u=g,w=g,x=g,y=g;return v.$$p=null,p=b.$to_s().$tr("_"," "),q=(e=(f=p.$split(" ")).$map,e.$$p=(h=function(a){h.$$s||this;return null==a&&(a=g),""+a.$chr().$upcase()+a["$[]"](m(1,-1,!1))},h.$$s=l,h),e).call(f).$join().$to_sym(),r=z.get("Extensions").$const_get(q),s=function(){return(e=null==a.Object.$$scope.AsciidoctorJ?g:"constant")===g||e.$$is_boolean&&1!=e?g:a.get("AsciidoctorJ").$$scope.get("Extensions").$const_get(q)}(),t=(e=l.$instance_variable_get(("@"+b+"_extensions").$to_sym()))!==!1&&e!==g?e:l.$instance_variable_set(("@"+b+"_extensions").$to_sym(),[]),u=function(){return o!==g?(w=l.$resolve_args(d,1),x=r.$new(w),(e=r.$constants().$grep("DSL"))===g||e.$$is_boolean&&1!=e||x.$extend(r.$const_get("DSL")),(e=(i=x).$instance_exec,e.$$p=o.$to_proc(),e).call(i),x.$freeze(),((e=x["$process_block_given?"]())===g||e.$$is_boolean&&1!=e)&&l.$raise(a.get("ArgumentError").$new("No block specified to process "+p+" extension at "+o.$source_location())),z.get("ProcessorExtension").$new(b,x)):(e=a.to_ary(l.$resolve_args(d,2)),x=null==e[0]?g:e[0],w=null==e[1]?g:e[1],(e=(j=x["$is_a?"](a.get("Class")))!==!1&&j!==g?j:(k=x["$is_a?"](a.get("String")),k!==!1&&k!==g?x=z.get("Extensions").$class_for_name(x):k))===g||e.$$is_boolean&&1!=e?(e=(j=x["$is_a?"](r))!==!1&&j!==g?j:(k=s!==!1&&s!==g)?x["$is_a?"](s):s)===g||e.$$is_boolean&&1!=e?l.$raise(a.get("ArgumentError").$new("Invalid arguments specified for registering "+p+" extension: "+d)):(x.$update_config(w),x.$freeze(),z.get("ProcessorExtension").$new(b,x)):(((e=(j=c(x,r))!==!1&&j!==g?j:(k=s!==!1&&s!==g)?c(x,s):s)===g||e.$$is_boolean&&1!=e)&&l.$raise(a.get("ArgumentError").$new("Invalid type for "+p+" extension: "+x)),y=x.$new(w),y.$freeze(),z.get("ProcessorExtension").$new(b,y)))}(),u.$config()["$[]"]("position")["$=="](">>")?t.$unshift(u):t["$<<"](u)}),a.defn(x,"$add_syntax_processor",w=function(b,d){var e,f,i,j,k,n,o=this,p=w.$$p,q=p||g,r=g,s=g,t=g,u=g,v=g,x=g,y=g,A=g,B=g,C=g;if(w.$$p=null,r=b.$to_s().$tr("_"," "),s=(e=(f=r.$split(" ")).$map,e.$$p=(i=function(a){i.$$s||this;return null==a&&(a=g),""+a.$chr().$upcase()+a["$[]"](m(1,-1,!1))},i.$$s=o,i),e).call(f).$join(),t=(""+s+"Processor").$to_sym(),u=z.get("Extensions").$const_get(t),v=function(){return(e=null==a.Object.$$scope.AsciidoctorJ?g:"constant")===g||e.$$is_boolean&&1!=e?g:a.get("AsciidoctorJ").$$scope.get("Extensions").$const_get(t)}(),x=(e=o.$instance_variable_get(("@"+b+"_extensions").$to_sym()))!==!1&&e!==g?e:o.$instance_variable_set(("@"+b+"_extensions").$to_sym(),l([],{})),q!==g){if(e=a.to_ary(o.$resolve_args(d,2)),y=null==e[0]?g:e[0],A=null==e[1]?g:e[1],B=u.$new(o.$as_symbol(y),A),(e=u.$constants().$grep("DSL"))===g||e.$$is_boolean&&1!=e||B.$extend(u.$const_get("DSL")),q.$arity()["$=="](1)){if(a.yield1(q,B)===h)return h.$v}else(e=(j=B).$instance_exec,e.$$p=q.$to_proc(),e).call(j);return((e=y=o.$as_symbol(B.$name()))===g||e.$$is_boolean&&1!=e)&&o.$raise(a.get("ArgumentError").$new("No name specified for "+r+" extension at "+q.$source_location())),((e=B["$process_block_given?"]())===g||e.$$is_boolean&&1!=e)&&o.$raise(a.get("NoMethodError").$new("No block specified to process "+r+" extension at "+q.$source_location())),B.$freeze(),x["$[]="](y,z.get("ProcessorExtension").$new(b,B))}return e=a.to_ary(o.$resolve_args(d,3)),B=null==e[0]?g:e[0],y=null==e[1]?g:e[1],A=null==e[2]?g:e[2],(e=(k=B["$is_a?"](a.get("Class")))!==!1&&k!==g?k:(n=B["$is_a?"](a.get("String")),n!==!1&&n!==g?B=z.get("Extensions").$class_for_name(B):n))===g||e.$$is_boolean&&1!=e?(e=(k=B["$is_a?"](u))!==!1&&k!==g?k:(n=v!==!1&&v!==g)?B["$is_a?"](v):v)===g||e.$$is_boolean&&1!=e?o.$raise(a.get("ArgumentError").$new("Invalid arguments specified for registering "+r+" extension: "+d)):(B.$update_config(A),((e=y=function(){return y!==!1&&y!==g?(k=[o.$as_symbol(y)],n=B,n["$name="].apply(n,k),k[k.length-1]):o.$as_symbol(B.$name())}())===g||e.$$is_boolean&&1!=e)&&o.$raise(a.get("ArgumentError").$new("No name specified for "+r+" extension: "+B)),B.$freeze(),x["$[]="](y,z.get("ProcessorExtension").$new(b,B))):(((e=(k=c(B,u))!==!1&&k!==g?k:(n=v!==!1&&v!==g)?c(B,v):v)===g||e.$$is_boolean&&1!=e)&&o.$raise(a.get("ArgumentError").$new("Class specified for "+r+" extension does not inherit from "+u+": "+B)),C=B.$new(o.$as_symbol(y),A),((e=y=o.$as_symbol(C.$name()))===g||e.$$is_boolean&&1!=e)&&o.$raise(a.get("ArgumentError").$new("No name specified for "+r+" extension: "+B)),B.$freeze(),x["$[]="](y,z.get("ProcessorExtension").$new(b,C)))}),a.defn(x,"$resolve_args",function(b,f){var h,i=g,j=g,k=g;return i=function(){return(h=b["$[]"](-1)["$is_a?"](a.get("Hash")))===g||h.$$is_boolean&&1!=h?l([],{}):b.$pop()}(),f["$=="](1)?i:(j=b.$size(),d(k=e(e(f,1),j),0)?b.$fill(g,j,k):c(k,0)&&b.$pop(k["$-@"]()),b["$<<"](i),b)}),a.defn(x,"$as_symbol",function(b){var c;return b!==!1&&b!==g?function(){return(c=b["$is_a?"](a.get("Symbol")))===g||c.$$is_boolean&&1!=c?b.$to_sym():b}():g}),g&&"as_symbol"}(p.base,null),function(c){var d,e,f=c.$$scope;c.$$proto;return a.defn(c,"$generate_name",function(){var a=this;return"extgrp"+a.$next_auto_id()}),a.defn(c,"$next_auto_id",function(){var a,c=this;return null==c.auto_id&&(c.auto_id=g),(a=c.auto_id)!==!1&&a!==g?a:c.auto_id=-1,c.auto_id=b(c.auto_id,1)}),a.defn(c,"$groups",function(){var a,b=this;return null==b.groups&&(b.groups=g),(a=b.groups)!==!1&&a!==g?a:b.groups=l([],{})}),a.defn(c,"$build_registry",d=function(a){var b,c=this,e=d.$$p,h=e||g;return null==a&&(a=g),d.$$p=null,h!==g?((b=a)!==!1&&b!==g?b:a=c.$generate_name(),f.get("Registry").$new(n(a,h))):f.get("Registry").$new()}),a.defn(c,"$register",e=function(){var b,c=this,d=e.$$p,f=d||g,h=g,i=g,j=g,k=g,l=g,m=arguments.length-0;0>m&&(m=0);for(var n=new Array(m),o=0;m>o;o++)n[o]=arguments[o+0];return e.$$p=null,h=n.$length(),i=function(){return f!==g?f:(b=(j=n.$pop())["$!"]())===g||b.$$is_boolean&&1!=b?function(){return k=j,a.get("Class")["$==="](k)?j:a.get("String")["$==="](k)?c.$class_for_name(j):a.get("Symbol")["$==="](k)?c.$class_for_name(j.$to_s()):j}():c.$raise(a.get("ArgumentError").$new("Extension group to register not specified"))}(),l=(b=n.$pop())!==!1&&b!==g?b:c.$generate_name(),((b=n["$empty?"]())===g||b.$$is_boolean&&1!=b)&&c.$raise(a.get("ArgumentError").$new("Wrong number of arguments ("+h+" for 1..2)")),c.$groups()["$[]="](l,i)}),a.defn(c,"$unregister_all",function(){var a=this;return a.groups=l([],{})}),a.defn(c,"$resolve_class",function(b){var c,d=this;return(c=b["$is_a?"](a.get("Class")))===g||c.$$is_boolean&&1!=c?d.$class_for_name(b.$to_s()):b}),a.defn(c,"$class_for_name",function(b){var c,d,e,f=this,h=g;return h=a.get("Object"),(c=(d=b.$split("::")).$each,c.$$p=(e=function(a){var c,d=e.$$s||this;return null==a&&(a=g),(c=a["$empty?"]())===g||c.$$is_boolean&&1!=c?(c=h["$const_defined?"](a))===g||c.$$is_boolean&&1!=c?d.$raise("Could not resolve class for name: "+b):h=h.$const_get(a):g},e.$$s=f,e),c).call(d),h}),g&&"class_for_name"}(a.get_singleton_class(o))}(p.base)}(f.base)},("undefined"==typeof AsciidoctorConfiguration||"undefined"==typeof AsciidoctorConfiguration.autoRequireModule||Boolean(AsciidoctorConfiguration.autoRequireModule))&&b.require("asciidoctor/extensions")};