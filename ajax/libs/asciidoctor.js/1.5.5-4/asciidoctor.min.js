var Opal=this.Opal;"undefined"==typeof Opal&&"object"==typeof module&&module.exports&&(Opal=require("opal-runtime").Opal),"undefined"==typeof Opal&&(function(e){function t(){}function n(){}function $(){}function r(){}function i(){}if("undefined"!=typeof this.Opal)return console.warn("Opal already loaded. Loading twice can cause troubles, please fix your setup."),this.Opal;var l,o,a,s,u,c=this.Opal={},_={},p=function(){};p.prototype=c,c.constructor=p,c.constants=[],c.global=this,c.config={missing_require_severity:"error",unsupported_features_severity:"warning"};var d=c.hasOwnProperty,f=(c.slice=Array.prototype.slice,4),h=f;c.uid=function(){return h+=2},c.cvars={},c.gvars={},c.exit=function(e){c.gvars.DEBUG&&console.log("Exited with status "+e)},c.exceptions=[],c.pop_exception=function(){c.gvars["!"]=c.exceptions.pop()||l},c.get=function(e){var t=this[e];return null==t?this.base.$const_get(e):t},c.create_scope=function(e,t,n){var $=function(){},r=$.prototype=new e.constructor;t.$$scope=r,t.$$base_module=e.base,r.base=t,r.constructor=$,r.constants=[],n&&(c.cdecl(e,n,t),$.displayName=n+"_scope_alloc")},c.casgn=function(e,t,n){function $(e,t){e.$$name=t;for(t in e.$$scope){var n=e.$$scope[t];n.$$name===l&&(n.$$is_class||n.$$is_module)&&$(n,t)}}var r=e.$$scope;if((n.$$is_class||n.$$is_module)&&((n.$$is_class||n.$$base_module===a)&&(n.$$base_module=e),n.$$name===l&&n.$$base_module.$$name!==l&&$(n,t)),r.constants.push(t),r[t]=n,e.$$is_module&&e.$$dep)for(var i=0;i<e.$$dep.length;i++){var o=e.$$dep[i];c.casgn(o,t,n)}return n},c.cdecl=function(e,t,n){return(n.$$is_class||n.$$is_module)&&null==n.$$orig_scope&&(n.$$name=t,n.$$orig_scope=e,n.$$base_module=e.base,e.constructor[t]=n),e.constants.push(t),e[t]=n},c.klass=function(e,t,n,$){var r,i,l;if(e.$$is_class||e.$$is_module||(e=e.$$class),"function"==typeof t&&(i=t,t=a),r=e.$$scope[n],r&&r.$$orig_scope===e.$$scope){if(!r.$$is_class)throw c.TypeError.$new(n+" is not a class");if(t&&r.$$super!==t)throw c.TypeError.$new("superclass mismatch for class "+n);return r}return null==t&&(t=a),l=i||c.boot_class_alloc(n,$,t),r=c.setup_class_object(n,l,t.$$name,t.constructor),r.$$super=t,r.$$parent=t,c.create_scope(e.$$scope,r,n),e[n]=r,i?c.bridge(r,l):(t!==a&&t!==o&&c.donate_constants(t,r),t.$inherited&&t.$inherited(r)),r},c.boot_class_alloc=function(e,t,n){if(n){var $=function(){};$.prototype=n.$$proto||n.prototype,t.prototype=new $}return e&&(t.displayName=e+"_alloc"),t.prototype.constructor=t,t},c.setup_class_object=function(e,t,n,$){var r=function(){};r.prototype=$.prototype,r.displayName=n;var i=function(){};i.prototype=new r;var o=new i;return o.$$alloc=t,o.$$name=e||l,o.$$id=c.uid(),i.displayName="#<Class:"+(e||"#<Class:"+o.$$id+">")+">",o.$$proto=t.prototype,o.$$proto.$$class=o,o.constructor=i,o.$$is_class=!0,o.$$class=u,o.$$inc=[],o},c.module=function(e,t){var n;if(e.$$is_class||e.$$is_module||(e=e.$$class),d.call(e.$$scope,t)){if(n=e.$$scope[t],!n.$$is_module&&n!==a)throw c.TypeError.$new(t+" is not a module")}else n=c.module_allocate(s),c.create_scope(e.$$scope,n,t);return n},c.module_initialize=function(e,t){if(t!==l){var n=t.$$s;t.$$s=null,t.call(e),t.$$s=n}return l},c.module_allocate=function(e){function t(){}var n=function(){};n.prototype=e.$$alloc.prototype,t.prototype=new n;var $=new t,r={};return $.$$id=c.uid(),t.displayName="#<Class:#<Module:"+$.$$id+">>",$.$$proto=r,$.constructor=t,$.$$is_module=!0,$.$$class=s,$.$$super=e,$.$$parent=e,$.$$inc=[],$.$$is_module=!0,$.$$dep=[],$.$$name=l,$},c.get_singleton_class=function(e){return e.$$meta?e.$$meta:e.$$is_class||e.$$is_module?c.build_class_singleton_class(e):c.build_object_singleton_class(e)},c.build_class_singleton_class=function(e){var t,n,$;return e.$$meta?e.$$meta:(t=e.constructor,n=e===o?u:c.build_class_singleton_class(e.$$super),$=c.setup_class_object(null,t,n.$$name,n.constructor),$.$$super=n,$.$$parent=n,c.create_scope(e.$$scope,$),$.$$is_singleton=!0,$.$$singleton_of=e,e.$$meta=$)},c.build_object_singleton_class=function(e){var t=e.$$class,n="#<Class:#<"+t.$$name+":"+t.$$id+">>",$=c.boot_class_alloc(n,function(){},t),r=c.setup_class_object(n,$,t.$$name,t.constructor);return r.$$super=t,r.$$parent=t,r.$$class=t.$$class,r.$$scope=t.$$scope,r.$$proto=e,r.$$is_singleton=!0,r.$$singleton_of=e,e.$$meta=r},c.bridge_method=function(e,t,n,$){var r,i,l,o;for(r=e.$$bridge.$ancestors(),i=0,o=r.length;i<o&&(l=r[i],!d.call(l.$$proto,n)||!l.$$proto[n]||l.$$proto[n].$$donated||l.$$proto[n].$$stub||l===t);i++)if(l===t){e.prototype[n]=$;break}},c._bridge=function(e,t){var n,$,r,i,l;if("function"==typeof e){for(n=t.$__id__(),$=t.$instance_methods(),i=$.length-1;i>=0;i--)r="$"+$[i],c.bridge_method(e,t,r,t.$$proto[r]);_[n]||(_[n]=[]),_[n].push(e)}else if(l=_[e.$__id__()]){for(i=l.length-1;i>=0;i--)c._bridge(l[i],t);_[t.$__id__()]=l.slice()}},c.append_features=function(e,t){var n,$,r,i,l,o;for(o=t.$$inc.length-1;o>=0;o--)if(t.$$inc[o]===e)return;for(t.$$inc.push(e),e.$$dep.push(t),c._bridge(t,e),n={$$name:e.$$name,$$proto:e.$$proto,$$parent:t.$$parent,$$module:e,$$iclass:!0},t.$$parent=n,$=e.$$proto,r=t.$$proto,i=e.$instance_methods(),o=i.length-1;o>=0;o--)l="$"+i[o],(!r.hasOwnProperty(l)||r[l].$$donated||r[l].$$stub)&&(r[l]=$[l],r[l].$$donated=e);c.donate_constants(e,t)},c.stubs={},c.bridge=function(e,n){if(n.$$bridge)throw c.ArgumentError.$new("already bridged");c.stub_subscribers.push(n.prototype);for(var $ in c.stubs)$ in n.prototype||(n.prototype[$]=c.stub_for($));n.prototype.$$class=e,n.$$bridge=e;for(var r=e.$ancestors(),i=r.length-1;i>=0;i--)c._bridge(n,r[i]);for(var l in t.prototype){var o=t.prototype[o];!o||!o.$$stub||l in n.prototype||(n.prototype[l]=o)}return e},c.donate_constants=function(e,t){for(var n=e.$$scope.constants,$=t.$$scope,r=$.constants,i=0,l=n.length;i<l;i++)r.push(n[i]),$[n[i]]=e.$$scope[n[i]]},c.donate=function(e,t){var n,$,r,i,l,o,a,s,u,_,p=e.$$dep,d=e.$$proto[t];if(p)for(n=0,$=p.length;n<$;n++){if(r=p[n],i=r.$$proto,l=i[t],!i.hasOwnProperty(t)||l.$$donated||l.$$stub)if(i.hasOwnProperty(t)&&!l.$$stub){for(o=r.$$inc,a=0,s=o.length;a<s;a++)o[a]===l.$$donated&&(u=a),o[a]===e&&(_=a);u<=_&&(i[t]=d,i[t].$$donated=e)}else i[t]=d,i[t].$$donated=e;else;r.$$dep&&c.donate(r,t)}},c.ancestors=function(e){for(var t,n=e,$=[];n;){$.push(n);for(var r=0;r<n.$$inc.length;r++){t=c.ancestors(n.$$inc[r]);for(var i=0;i<t.length;i++)$.push(t[i])}n=n.$$is_singleton&&n.$$singleton_of.$$is_module?n.$$singleton_of.$$super:n.$$is_class?n.$$super:null}return $},c.add_stubs=function(e){var t,n,$,r,i,l=c.stub_subscribers,o=e.length,a=l.length;for(n=0;n<o;n++)for(r=e[n],c.stubs[r]=!0,i=c.stub_for(r),$=0;$<a;$++)t=l[$],r in t||(t[r]=i)},c.stub_subscribers=[t.prototype],c.add_stub_for=function(e,t){var n=c.stub_for(t);e[t]=n},c.stub_for=function(e){function t(){this.$method_missing.$$p=t.$$p,t.$$p=null;for(var n=new Array(arguments.length),$=0,r=n.length;$<r;$++)n[$]=arguments[$];return this.$method_missing.apply(this,[e.slice(1)].concat(n))}return t.$$stub=!0,t},c.ac=function(e,t,n,$){var r="";throw r+=n.$$is_class||n.$$is_module?n.$$name+".":n.$$class.$$name+"#",r+=$,c.ArgumentError.$new("["+r+"] wrong number of arguments("+e+" for "+t+")")},c.block_ac=function(e,t,n){var $="`block in "+n+"'";throw c.ArgumentError.$new($+": wrong number of arguments ("+e+" for "+t+")")},c.find_super_dispatcher=function(e,t,n,$,r){var i;if(i=r?e.$$is_class||e.$$is_module?r.$$super:e.$$class.$$proto:c.find_obj_super_dispatcher(e,t,n),i=i["$"+t],!$&&i.$$stub&&c.Kernel.$method_missing===e.$method_missing)throw c.NoMethodError.$new("super: no superclass method `"+t+"' for "+e,t);return i},c.find_iter_super_dispatcher=function(e,t,n,$,r){var i=t;if(!n)throw c.RuntimeError.$new("super called outside of method");if(r&&n.$$define_meth)throw c.RuntimeError.$new("implicit argument passing of super from method defined by define_method() is not supported. Specify all arguments explicitly");return n.$$def&&(i=n.$$jsid),c.find_super_dispatcher(e,i,n,$)},c.find_obj_super_dispatcher=function(e,t,n){var $=e.$$meta||e.$$class;if($=c.find_owning_class($,n),!$)throw new Error("could not find current class for super()");return t="$"+t,c.find_super_func($,t,n)},c.find_owning_class=function(e,t){for(var n=t.$$owner;e&&(!e.$$iclass||e.$$module!==t.$$donated)&&(!e.$$iclass||e.$$module!==n)&&(!n.$$is_singleton||e!==n.$$singleton_of.$$class)&&e!==n;)e=e.$$parent;return e},c.find_super_func=function(e,t,n){for(var $=e.$$parent;$;){var r=$.$$proto[t];if(r&&r!==n)break;$=$.$$parent}return $.$$proto},c.ret=function(e){throw c.returner.$v=e,c.returner},c.brk=function(e,t){throw t.$v=e,t},c.new_brk=function(){return new Error("unexpected break")},c.yield1=function(e,t){if("function"!=typeof e)throw c.LocalJumpError.$new("no block given");var n=e.$$has_top_level_mlhs_arg,$=e.$$has_trailing_comma_in_args;return(e.length>1||(n||$)&&1===e.length)&&(t=c.to_ary(t)),(e.length>1||$&&1===e.length)&&t.$$is_array?e.apply(null,t):e(t)},c.yieldX=function(e,t){if("function"!=typeof e)throw c.LocalJumpError.$new("no block given");if(e.length>1&&1===t.length&&t[0].$$is_array)return e.apply(null,t[0]);if(!t.$$is_array){for(var n=new Array(t.length),$=0,r=n.length;$<r;$++)n[$]=t[$];return e.apply(null,n)}return e.apply(null,t)},c.rescue=function(e,t){for(var n=0;n<t.length;n++){var $=t[n];if($.$$is_array){var r=c.rescue(e,$);if(r)return r}else if($["$==="](e))return $}return null},c.is_a=function(e,t){if(e.$$meta===t)return!0;var n,$,r=c.ancestors(e.$$class);for(n=0,$=r.length;n<$;n++)if(r[n]===t)return!0;for(r=c.ancestors(e.$$meta),n=0,$=r.length;n<$;n++)if(r[n]===t)return!0;return!1},c.to_hash=function(e){if(e.$$is_hash)return e;if(e["$respond_to?"]("to_hash",!0)){var t=e.$to_hash();if(t.$$is_hash)return t;throw c.TypeError.$new("Can't convert "+e.$$class+" to Hash ("+e.$$class+"#to_hash gives "+t.$$class+")")}throw c.TypeError.$new("no implicit conversion of "+e.$$class+" into Hash")},c.to_ary=function(e){if(e.$$is_array)return e;if(e["$respond_to?"]("to_ary",!0)){var t=e.$to_ary();if(t===l)return[e];if(t.$$is_array)return t;throw c.TypeError.$new("Can't convert "+e.$$class+" to Array ("+e.$$class+"#to_ary gives "+t.$$class+")")}return[e]},c.to_a=function(e){if(e.$$is_array)return e.slice();if(e["$respond_to?"]("to_a",!0)){var t=e.$to_a();if(t===l)return[e];if(t.$$is_array)return t;throw c.TypeError.$new("Can't convert "+e.$$class+" to Array ("+e.$$class+"#to_a gives "+t.$$class+")")}return[e]},c.extract_kwargs=function(e){var t=e[e.length-1];return null!=t&&t["$respond_to?"]("to_hash",!0)?(Array.prototype.splice.call(e,e.length-1,1),t.$to_hash()):c.hash2([],{})},c.kwrestargs=function(e,t){var n=[],$={},r=null,i=e.$$smap;for(r in i)t[r]||(n.push(r),$[r]=i[r]);return c.hash2(n,$)},c.send=function(e,t){for(var n=new Array(Math.max(arguments.length-2,0)),$=0,r=n.length;$<r;$++)n[$]=arguments[$+2];var i=e["$"+t];return i?i.apply(e,n):e.$method_missing.apply(e,[t].concat(n))},c.block_send=function(e,t,n){for(var $=new Array(Math.max(arguments.length-3,0)),r=0,i=$.length;r<i;r++)$[r]=arguments[r+3];var l=e["$"+t];return l?(l.$$p=n,l.apply(e,$)):e.$method_missing.apply(e,[t].concat($))},c.defn=function(e,t,n){if(e.$$proto[t]=n,n.$$owner=e,e.$$is_module&&(c.donate(e,t),e.$$module_function&&c.defs(e,t,n)),e.$__id__&&!e.$__id__.$$stub){var $=_[e.$__id__()];if($)for(var r=$.length-1;r>=0;r--)c.bridge_method($[r],e,t,n)}var i=e.$$singleton_of;return!e.$method_added||e.$method_added.$$stub||i?i&&i.$singleton_method_added&&!i.$singleton_method_added.$$stub&&i.$singleton_method_added(t.substr(1)):e.$method_added(t.substr(1)),l},c.defs=function(e,t,n){c.defn(c.get_singleton_class(e),t,n)},c.def=function(e,t,n){e.$$eval||!e.$$is_class&&!e.$$is_module?c.defs(e,t,n):c.defn(e,t,n)},c.rdef=function(e,t){if(!d.call(e.$$proto,t))throw c.NameError.$new("method '"+t.substr(1)+"' not defined in "+e.$name());delete e.$$proto[t],e.$$is_singleton?e.$$proto.$singleton_method_removed&&!e.$$proto.$singleton_method_removed.$$stub&&e.$$proto.$singleton_method_removed(t.substr(1)):e.$method_removed&&!e.$method_removed.$$stub&&e.$method_removed(t.substr(1))},c.udef=function(e,t){if(!e.$$proto[t]||e.$$proto[t].$$stub)throw c.NameError.$new("method '"+t.substr(1)+"' not defined in "+e.$name());c.add_stub_for(e.$$proto,t),e.$$is_singleton?e.$$proto.$singleton_method_undefined&&!e.$$proto.$singleton_method_undefined.$$stub&&e.$$proto.$singleton_method_undefined(t.substr(1)):e.$method_undefined&&!e.$method_undefined.$$stub&&e.$method_undefined(t.substr(1))},c.alias=function(e,t,n){var $="$"+t,r="$"+n,i=e.$$proto["$"+n];if(e.$$eval)return c.alias(c.get_singleton_class(e),t,n);if("function"!=typeof i||i.$$stub){for(var l=e.$$super;"function"!=typeof i&&l;)i=l[r],l=l.$$super;if("function"!=typeof i||i.$$stub)throw c.NameError.$new("undefined method `"+n+"' for class `"+e.$name()+"'")}return c.defn(e,$,i),e},c.alias_native=function(e,t,n){var $="$"+t,r=e.$$proto[n];if("function"!=typeof r||r.$$stub)throw c.NameError.$new("undefined native method `"+n+"' for class `"+e.$name()+"'");return c.defn(e,$,r),e},c.hash_init=function(e){e.$$smap={},e.$$map={},e.$$keys=[]},c.hash_clone=function(e,t){t.$$none=e.$$none,t.$$proc=e.$$proc;for(var n,$,r=0,i=e.$$keys,l=i.length;r<l;r++)n=e.$$keys[r],n.$$is_string?$=e.$$smap[n]:($=n.value,n=n.key),c.hash_put(t,n,$)},c.hash_put=function(t,n,$){if(n.$$is_string)return t.$$smap.hasOwnProperty(n)||t.$$keys.push(n),void(t.$$smap[n]=$);var r,i,l=n.$hash();if(!t.$$map.hasOwnProperty(l))return r={key:n,key_hash:l,value:$},t.$$keys.push(r),void(t.$$map[l]=r);for(r=t.$$map[l];r;){if(n===r.key||n["$eql?"](r.key)){i=e,r.value=$;break}i=r,r=r.next}i&&(r={key:n,key_hash:l,value:$},t.$$keys.push(r),i.next=r)},c.hash_get=function(e,t){if(t.$$is_string){if(e.$$smap.hasOwnProperty(t))return e.$$smap[t]}else{var n,$=t.$hash();if(e.$$map.hasOwnProperty($))for(n=e.$$map[$];n;){if(t===n.key||t["$eql?"](n.key))return n.value;n=n.next}}},c.hash_delete=function(e,t){var n,$,r=e.$$keys,i=r.length;if(t.$$is_string){if(!e.$$smap.hasOwnProperty(t))return;for(n=0;n<i;n++)if(r[n]===t){r.splice(n,1);break}return $=e.$$smap[t],delete e.$$smap[t],$}var l=t.$hash();if(e.$$map.hasOwnProperty(l))for(var o,a=e.$$map[l];a;){if(t===a.key||t["$eql?"](a.key)){for($=a.value,n=0;n<i;n++)if(r[n]===a){r.splice(n,1);break}return o&&a.next?o.next=a.next:o?delete o.next:a.next?e.$$map[l]=a.next:delete e.$$map[l],$}o=a,a=a.next}},c.hash_rehash=function(t){for(var n,$,r,i=0,l=t.$$keys.length;i<l;i++)if(!t.$$keys[i].$$is_string&&(n=t.$$keys[i].key.$hash(),n!==t.$$keys[i].key_hash)){for($=t.$$map[t.$$keys[i].key_hash],r=e;$;){if($===t.$$keys[i]){r&&$.next?r.next=$.next:r?delete r.next:$.next?t.$$map[t.$$keys[i].key_hash]=$.next:delete t.$$map[t.$$keys[i].key_hash];break}r=$,$=$.next}if(t.$$keys[i].key_hash=n,t.$$map.hasOwnProperty(n)){for($=t.$$map[n],r=e;$;){if($===t.$$keys[i]){r=e;break}r=$,$=$.next}r&&(r.next=t.$$keys[i])}else t.$$map[n]=t.$$keys[i]}},c.hash=function(){var e,t,n,$,r,i,l=arguments.length;if(1===l&&arguments[0].$$is_hash)return arguments[0];if(t=new c.Hash.$$alloc,c.hash_init(t),1===l&&arguments[0].$$is_array){for(e=arguments[0],$=e.length,n=0;n<$;n++){if(2!==e[n].length)throw c.ArgumentError.$new("value not of length 2: "+e[n].$inspect());r=e[n][0],i=e[n][1],c.hash_put(t,r,i)}return t}if(1===l){e=arguments[0];for(r in e)e.hasOwnProperty(r)&&(i=e[r],c.hash_put(t,r,i));return t}if(l%2!==0)throw c.ArgumentError.$new("odd number of arguments for Hash");for(n=0;n<l;n+=2)r=arguments[n],i=arguments[n+1],c.hash_put(t,r,i);return t},c.hash2=function(e,t){var n=new c.Hash.$$alloc;return n.$$smap=t,n.$$map={},n.$$keys=e,n},c.range=function(e,t,n){var $=new c.Range.$$alloc;return $.begin=e,$.end=t,$.exclude=n,$},c.ivar=function(e){return"constructor"===e||"displayName"===e||"__count__"===e||"__noSuchMethod__"===e||"__parent__"===e||"__proto__"===e||"hasOwnProperty"===e||"valueOf"===e?e+"$":e},c.modules={},c.loaded_features=["corelib/runtime"],c.current_dir=".",c.require_table={"corelib/runtime":!0},c.normalize=function(e){var t,n,$=[],r="/";"."!==c.current_dir&&(e=c.current_dir.replace(/\/*$/,"/")+e),e=e.replace(/\.(rb|opal|js)$/,""),t=e.split(r);for(var i=0,l=t.length;i<l;i++)n=t[i],""!==n&&(".."===n?$.pop():$.push(n));return $.join(r)},c.loaded=function(e){var t,n,$;for(t=0,n=e.length;t<n;t++){if($=c.normalize(e[t]),c.require_table[$])return;c.loaded_features.push($),c.require_table[$]=!0}},c.load=function(e){e=c.normalize(e),c.loaded([e]);var t=c.modules[e];if(t)t(c);else{var n=c.config.missing_require_severity,$="cannot load such file -- "+e;"error"===n?c.LoadError?c.LoadError.$new($):function(){throw $}():"warning"===n&&console.warn("WARNING: LoadError: "+$)}return!0},c.require=function(e){return e=c.normalize(e),!c.require_table[e]&&c.load(e)},c.boot_class_alloc("BasicObject",t),c.boot_class_alloc("Object",n,t),c.boot_class_alloc("Module",r,n),c.boot_class_alloc("Class",$,r),c.BasicObject=o=c.setup_class_object("BasicObject",t,"Class",$),c.Object=a=c.setup_class_object("Object",n,"BasicObject",o.constructor),c.Module=s=c.setup_class_object("Module",r,"Object",a.constructor),c.Class=u=c.setup_class_object("Class",$,"Module",s.constructor),c.constants.push("BasicObject"),c.constants.push("Object"),c.constants.push("Module"),c.constants.push("Class"),o.$$class=u,a.$$class=u,s.$$class=u,u.$$class=u,o.$$super=null,a.$$super=o,s.$$super=a,u.$$super=s,o.$$parent=null,a.$$parent=o,s.$$parent=a,u.$$parent=s,c.base=a,o.$$scope=a.$$scope=c,o.$$orig_scope=a.$$orig_scope=c,s.$$scope=a.$$scope,s.$$orig_scope=a.$$orig_scope,u.$$scope=a.$$scope,u.$$orig_scope=a.$$orig_scope,a.$$proto.toString=function(){return this.$to_s()},a.$$proto.$require=c.require,c.top=new a.$$alloc,c.klass(a,a,"NilClass",i),l=c.nil=new i,l.$$id=f,l.call=l.apply=function(){throw c.LocalJumpError.$new("no block given")},c.breaker=new Error("unexpected break (old)"),c.returner=new Error("unexpected return"),TypeError.$$super=Error}.call(this),"undefined"!=typeof global&&(global.Opal=this.Opal,Opal.global=global),"undefined"!=typeof window&&(window.Opal=this.Opal,Opal.global=window),Opal.modules["corelib/helpers"]=function(e){var t=(e.top,e),n=e.nil,$=(e.breaker,e.slice,e.module);return e.add_stubs(["$new","$class","$===","$respond_to?","$raise","$type_error","$__send__","$coerce_to","$nil?","$<=>","$inspect","$coerce_to!","$!=","$[]","$upcase"]),function(t){var r,i,l,o,a,s,u,c,_,p,d,f,h,g,b=r=$(t,"Opal"),m=(b.$$proto,b.$$scope);e.defs(b,"$bridge",i=function(t,n){return e.bridge(t,n)},i.$$arity=2),e.defs(b,"$type_error",l=function(e,t,$,r){var i,l;return null==$&&($=n),null==r&&(r=n),(i=(l=$!==!1&&$!==n&&null!=$)?r:$)===n||null==i||i.$$is_boolean&&1!=i?m.get("TypeError").$new("no implicit conversion of "+e.$class()+" into "+t):m.get("TypeError").$new("can't convert "+e.$class()+" into "+t+" ("+e.$class()+"#"+$+" gives "+r.$class())},l.$$arity=-3),e.defs(b,"$coerce_to",o=function(e,t,$){var r,i=this;return(r=t["$==="](e))===n||null==r||r.$$is_boolean&&1!=r?(((r=e["$respond_to?"]($))===n||null==r||r.$$is_boolean&&1!=r)&&i.$raise(i.$type_error(e,t)),e.$__send__($)):e},o.$$arity=3),e.defs(b,"$coerce_to!",a=function(e,t,$){var r,i=this,l=n;return l=i.$coerce_to(e,t,$),((r=t["$==="](l))===n||null==r||r.$$is_boolean&&1!=r)&&i.$raise(i.$type_error(e,t,$,l)),l},a.$$arity=3),e.defs(b,"$coerce_to?",s=function(e,t,$){var r,i=this,l=n;return(r=e["$respond_to?"]($))===n||null==r||r.$$is_boolean&&1!=r?n:(l=i.$coerce_to(e,t,$),(r=l["$nil?"]())===n||null==r||r.$$is_boolean&&1!=r?(((r=t["$==="](l))===n||null==r||r.$$is_boolean&&1!=r)&&i.$raise(i.$type_error(e,t,$,l)),l):n)},s.$$arity=3),e.defs(b,"$try_convert",u=function(e,t,$){var r;return(r=t["$==="](e))===n||null==r||r.$$is_boolean&&1!=r?(r=e["$respond_to?"]($))===n||null==r||r.$$is_boolean&&1!=r?n:e.$__send__($):e},u.$$arity=3),e.defs(b,"$compare",c=function(e,t){var $,r=this,i=n;return i=e["$<=>"](t),($=i===n)===n||null==$||$.$$is_boolean&&1!=$||r.$raise(m.get("ArgumentError"),"comparison of "+e.$class()+" with "+t.$class()+" failed"),i},c.$$arity=2),e.defs(b,"$destructure",_=function(e){if(1==e.length)return e[0];if(e.$$is_array)return e;for(var t=new Array(e.length),n=0,$=t.length;n<$;n++)t[n]=e[n];return t},_.$$arity=1),e.defs(b,"$respond_to?",p=function(e,t){return!(null==e||!e.$$class)&&e["$respond_to?"](t)},p.$$arity=2),e.defs(b,"$inspect",d=function(e){return void 0===e?"undefined":null===e?"null":e.$$class?e.$inspect():e.toString()},d.$$arity=1),e.defs(b,"$instance_variable_name!",f=function(e){var t,$=this;return e=m.get("Opal")["$coerce_to!"](e,m.get("String"),"to_str"),((t=/^@[a-zA-Z_][a-zA-Z0-9_]*?$/.test(e))===n||null==t||t.$$is_boolean&&1!=t)&&$.$raise(m.get("NameError").$new("'"+e+"' is not allowed as an instance variable name",e)),e},f.$$arity=1),e.defs(b,"$const_name!",h=function(e){var t,$=this;return e=m.get("Opal")["$coerce_to!"](e,m.get("String"),"to_str"),(t=e["$[]"](0)["$!="](e["$[]"](0).$upcase()))===n||null==t||t.$$is_boolean&&1!=t||$.$raise(m.get("NameError"),"wrong constant name "+e),e},h.$$arity=1),e.defs(b,"$pristine",g=function(e,t){var $,r=arguments.length,i=r-1;i<0&&(i=0),$=new Array(i);for(var l=1;l<r;l++)$[l-1]=arguments[l];for(var o,a=$.length-1;a>=0;a--)o=$[a],e.$$proto["$"+o].$$pristine=!0;return n},g.$$arity=-2)}(t.base)},Opal.modules["corelib/module"]=function(Opal){function $rb_lt(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}function $rb_gt(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}var self=Opal.top,$scope=Opal,nil=Opal.nil,$breaker=Opal.breaker,$slice=Opal.slice,$klass=Opal.klass,$range=Opal.range,$hash2=Opal.hash2;return Opal.add_stubs(["$===","$raise","$equal?","$<","$>","$nil?","$attr_reader","$attr_writer","$coerce_to!","$new","$const_name!","$=~","$inject","$const_get","$split","$const_missing","$==","$!","$start_with?","$to_proc","$lambda","$bind","$call","$class","$append_features","$included","$name","$cover?","$size","$merge","$compile","$proc","$to_s","$__id__","$constants","$include?"]),function($base,$super){function $Module(){}var self=$Module=$klass($base,$super,"Module",$Module),def=self.$$proto,$scope=self.$$scope,TMP_1,TMP_2,TMP_3,TMP_4,TMP_5,TMP_6,TMP_7,TMP_8,TMP_9,TMP_10,TMP_11,TMP_12,TMP_13,TMP_14,TMP_15,TMP_16,TMP_17,TMP_18,TMP_19,TMP_20,TMP_22,TMP_23,TMP_24,TMP_25,TMP_27,TMP_28,TMP_29,TMP_30,TMP_31,TMP_32,TMP_33,TMP_34,TMP_35,TMP_36,TMP_37,TMP_38,TMP_39,TMP_41,TMP_42,TMP_43,TMP_44,TMP_45,TMP_46,TMP_47,TMP_48,TMP_49;return Opal.defs(self,"$allocate",TMP_1=function(){var e,t=this;return e=Opal.module_allocate(t),Opal.create_scope(Opal.Module.$$scope,e,null),e},TMP_1.$$arity=0),Opal.defn(self,"$initialize",TMP_2=function(){var e=this,t=TMP_2.$$p,n=t||nil;return TMP_2.$$p=null,Opal.module_initialize(e,n)},TMP_2.$$arity=0),Opal.defn(self,"$===",TMP_3=function(e){var t,n=this;return!!((t=null==e)===nil||null==t||t.$$is_boolean&&1!=t)&&Opal.is_a(e,n)},TMP_3.$$arity=1),Opal.defn(self,"$<",TMP_4=function(e){var t,n=this;((t=$scope.get("Module")["$==="](e))===nil||null==t||t.$$is_boolean&&1!=t)&&n.$raise($scope.get("TypeError"),"compared with non class/module");var $,r,i,l=n;if(l===e)return!1;for(r=0,$=Opal.ancestors(n),i=$.length;r<i;r++)if($[r]===e)return!0;for(r=0,$=Opal.ancestors(e),i=$.length;r<i;r++)if($[r]===n)return!1;return nil},TMP_4.$$arity=1),Opal.defn(self,"$<=",TMP_5=function(e){var t,n=this;return(t=n["$equal?"](e))!==!1&&t!==nil&&null!=t?t:$rb_lt(n,e)},TMP_5.$$arity=1),Opal.defn(self,"$>",TMP_6=function(e){var t,n=this;return((t=$scope.get("Module")["$==="](e))===nil||null==t||t.$$is_boolean&&1!=t)&&n.$raise($scope.get("TypeError"),"compared with non class/module"),$rb_lt(e,n)},TMP_6.$$arity=1),Opal.defn(self,"$>=",TMP_7=function(e){var t,n=this;return(t=n["$equal?"](e))!==!1&&t!==nil&&null!=t?t:$rb_gt(n,e)},TMP_7.$$arity=1),Opal.defn(self,"$<=>",TMP_8=function(e){var t,n=this,$=nil;return n===e?0:(t=$scope.get("Module")["$==="](e))===nil||null==t||t.$$is_boolean&&1!=t?nil:($=$rb_lt(n,e),(t=$["$nil?"]())===nil||null==t||t.$$is_boolean&&1!=t?$!==!1&&$!==nil&&null!=$?-1:1:nil)},TMP_8.$$arity=1),Opal.defn(self,"$alias_method",TMP_9=function(e,t){var n=this;return Opal.alias(n,e,t),n},TMP_9.$$arity=2),Opal.defn(self,"$alias_native",TMP_10=function(e,t){var n=this;return null==t&&(t=e),Opal.alias_native(n,e,t),n},TMP_10.$$arity=-2),Opal.defn(self,"$ancestors",TMP_11=function(){var e=this;return Opal.ancestors(e)},TMP_11.$$arity=0),Opal.defn(self,"$append_features",TMP_12=function(e){var t=this;return Opal.append_features(t,e),t},TMP_12.$$arity=1),Opal.defn(self,"$attr_accessor",TMP_13=function(e){var t,n,$,r=this,i=arguments.length,l=i-0;l<0&&(l=0),$=new Array(l);for(var o=0;o<i;o++)$[o-0]=arguments[o];return(t=r).$attr_reader.apply(t,Opal.to_a($)),(n=r).$attr_writer.apply(n,Opal.to_a($))},TMP_13.$$arity=-1),Opal.alias(self,"attr","attr_accessor"),Opal.defn(self,"$attr_reader",TMP_14=function(e){var t,n=this,$=arguments.length,r=$-0;r<0&&(r=0),t=new Array(r);for(var i=0;i<$;i++)t[i-0]=arguments[i];for(var l=n.$$proto,o=t.length-1;o>=0;o--){var a=t[o],s="$"+a,u=Opal.ivar(a),c=function(e){return function(){return null==this[e]?nil:this[e]}}(u);l[u]=nil,c.$$parameters=[],c.$$arity=0,n.$$is_singleton?l.constructor.prototype[s]=c:Opal.defn(n,s,c)}return nil},TMP_14.$$arity=-1),Opal.defn(self,"$attr_writer",TMP_15=function(e){var t,n=this,$=arguments.length,r=$-0;r<0&&(r=0),t=new Array(r);for(var i=0;i<$;i++)t[i-0]=arguments[i];for(var l=n.$$proto,o=t.length-1;o>=0;o--){var a=t[o],s="$"+a+"=",u=Opal.ivar(a),c=function(e){return function(t){return this[e]=t}}(u);c.$$parameters=[["req"]],c.$$arity=1,l[u]=nil,n.$$is_singleton?l.constructor.prototype[s]=c:Opal.defn(n,s,c)}return nil},TMP_15.$$arity=-1),Opal.defn(self,"$autoload",TMP_16=function(e,t){var n,$=this;return(n=$.$$autoload)||(n=$.$$autoload={}),n[e]=t,nil},TMP_16.$$arity=2),Opal.defn(self,"$class_variable_get",TMP_17=function(e){var t,n=this;e=$scope.get("Opal")["$coerce_to!"](e,$scope.get("String"),"to_str"),(t=e.length<3||"@@"!==e.slice(0,2))===nil||null==t||t.$$is_boolean&&1!=t||n.$raise($scope.get("NameError").$new("class vars should start with @@",e));var $=Opal.cvars[e.slice(2)];return function(){return(t=null==$)===nil||null==t||t.$$is_boolean&&1!=t?nil:n.$raise($scope.get("NameError").$new("uninitialized class variable @@a in",e))}(),$},TMP_17.$$arity=1),Opal.defn(self,"$class_variable_set",TMP_18=function(e,t){var n,$=this;return e=$scope.get("Opal")["$coerce_to!"](e,$scope.get("String"),"to_str"),(n=e.length<3||"@@"!==e.slice(0,2))===nil||null==n||n.$$is_boolean&&1!=n||$.$raise($scope.get("NameError")),Opal.cvars[e.slice(2)]=t,t},TMP_18.$$arity=2),Opal.defn(self,"$constants",TMP_19=function(){var e=this;return e.$$scope.constants.slice(0)},TMP_19.$$arity=0),Opal.defn(self,"$const_defined?",TMP_20=function(e,t){var n,$=this;null==t&&(t=!0),e=$scope.get("Opal")["$const_name!"](e),((n=e["$=~"]($scope.get("Opal").$$scope.get("CONST_NAME_REGEXP")))===nil||null==n||n.$$is_boolean&&1!=n)&&$.$raise($scope.get("NameError").$new("wrong constant name "+e,e));var r=[$.$$scope];if(t||$===Opal.Object)for(var i=$.$$super;i!==Opal.BasicObject;)r.push(i.$$scope),i=i.$$super;for(var l=0,o=r.length;l<o;l++)if(r[l].hasOwnProperty(e))return!0;return!1},TMP_20.$$arity=-2),Opal.defn(self,"$const_get",TMP_22=function(e,t){var n,$,r,i=this;if(null==t&&(t=!0),e=$scope.get("Opal")["$const_name!"](e),0===e.indexOf("::")&&"::"!==e&&(e=e.slice(2)),(n=e.indexOf("::")!=-1&&"::"!=e)!==nil&&null!=n&&(!n.$$is_boolean||1==n))return(n=($=e.$split("::")).$inject,n.$$p=(r=function(e,t){r.$$s||this;return null==e&&(e=nil),null==t&&(t=nil),e.$const_get(t)},r.$$s=i,r.$$arity=2,r),n).call($,i);((n=e["$=~"]($scope.get("Opal").$$scope.get("CONST_NAME_REGEXP")))===nil||null==n||n.$$is_boolean&&1!=n)&&i.$raise($scope.get("NameError").$new("wrong constant name "+e,e));var l=[i.$$scope];if(t||i==Opal.Object)for(var o=i.$$super;o!==Opal.BasicObject;)l.push(o.$$scope),o=o.$$super;for(var a=0,s=l.length;a<s;a++)if(l[a].hasOwnProperty(e))return l[a][e];return i.$const_missing(e)},TMP_22.$$arity=-2),Opal.defn(self,"$const_missing",TMP_23=function(e){var t=this,n=nil;if(t.$$autoload){var $=t.$$autoload[e];if($)return t.$require($),t.$const_get(e)}return n=function(){return t["$=="]($scope.get("Object"))?e:""+t+"::"+e}(),t.$raise($scope.get("NameError").$new("uninitialized constant "+n,e))},TMP_23.$$arity=1),Opal.defn(self,"$const_set",TMP_24=function(e,t){var n,$,r=this;return e=$scope.get("Opal")["$const_name!"](e),(n=($=e["$=~"]($scope.get("Opal").$$scope.get("CONST_NAME_REGEXP"))["$!"]())!==!1&&$!==nil&&null!=$?$:e["$start_with?"]("::"))===nil||null==n||n.$$is_boolean&&1!=n||r.$raise($scope.get("NameError").$new("wrong constant name "+e,e)),Opal.casgn(r,e,t),t},TMP_24.$$arity=2),Opal.defn(self,"$define_method",TMP_25=function(e,t){var n,$,r,i,l=this,o=TMP_25.$$p,a=o||nil,s=nil;TMP_25.$$p=null,(n=void 0===t&&a===nil)===nil||null==n||n.$$is_boolean&&1!=n||l.$raise($scope.get("ArgumentError"),"tried to create a Proc object without a block"),(n=a)!==!1&&n!==nil&&null!=n?n:a=function(){return s=t,$scope.get("Proc")["$==="](s)?t:$scope.get("Method")["$==="](s)?t.$to_proc().$$unbound:$scope.get("UnboundMethod")["$==="](s)?($=(r=l).$lambda,$.$$p=(i=function(e){var n,$,r=i.$$s||this,l=nil,o=arguments.length,a=o-0;a<0&&(a=0),n=new Array(a);for(var s=0;s<o;s++)n[s-0]=arguments[s];return l=t.$bind(r),($=l).$call.apply($,Opal.to_a(n))},i.$$s=l,i.$$arity=-1,i),$).call(r):l.$raise($scope.get("TypeError"),"wrong argument type "+a.$class()+" (expected Proc/Method)")}();var u="$"+e;return a.$$jsid=e,a.$$s=null,a.$$def=a,a.$$define_meth=!0,Opal.defn(l,u,a),e},TMP_25.$$arity=-2),Opal.defn(self,"$remove_method",TMP_27=function(e){var t,n=this,$=arguments.length,r=$-0;r<0&&(r=0),t=new Array(r);for(var i=0;i<$;i++)t[i-0]=arguments[i];for(var l=0,o=t.length;l<o;l++)Opal.rdef(n,"$"+t[l]);return n},TMP_27.$$arity=-1),Opal.defn(self,"$singleton_class?",TMP_28=function(){var e=this;return!!e.$$is_singleton},TMP_28.$$arity=0),Opal.defn(self,"$include",TMP_29=function(e){var t,n=this,$=arguments.length,r=$-0;r<0&&(r=0),t=new Array(r);for(var i=0;i<$;i++)t[i-0]=arguments[i];for(var l=t.length-1;l>=0;l--){var o=t[l];o!==n&&(o.$$is_module||n.$raise($scope.get("TypeError"),"wrong argument type "+o.$class()+" (expected Module)"),o.$append_features(n),o.$included(n))}return n},TMP_29.$$arity=-1),Opal.defn(self,"$included_modules",TMP_30=function(){var e,t=this,n=function(e){for(var t=[],$=0;$!=e.$$inc.length;$++){var r=e.$$inc[$];t.push(r),t=t.concat(n(r))}return t};if(e=n(t),t.$$is_class)for(var $=t;$;$=$.$$super)e=e.concat(n($));return e},TMP_30.$$arity=0),Opal.defn(self,"$include?",TMP_31=function(e){for(var t=this,n=t;n;n=n.$$super)for(var $=0;$!=n.$$inc.length;$++){var r=n.$$inc[$];if(e===r)return!0}return!1},TMP_31.$$arity=1),Opal.defn(self,"$instance_method",TMP_32=function(e){var t=this,n=t.$$proto["$"+e];return n&&!n.$$stub||t.$raise($scope.get("NameError").$new("undefined method `"+e+"' for class `"+t.$name()+"'",e)),$scope.get("UnboundMethod").$new(t,n,e)},TMP_32.$$arity=1),Opal.defn(self,"$instance_methods",TMP_33=function(e){var t=this;null==e&&(e=!0);var n=[],$=t.$$proto;for(var r in $)if("$"===r.charAt(0)&&"function"==typeof $[r]&&!$[r].$$stub){if(!t.$$is_module){if(t!==Opal.BasicObject&&$[r]===Opal.BasicObject.$$proto[r])continue;if(!e&&!$.hasOwnProperty(r))continue;if(!e&&$[r].$$donated)continue}n.push(r.substr(1))}return n},TMP_33.$$arity=-1),Opal.defn(self,"$included",TMP_34=function(e){return nil},TMP_34.$$arity=1),Opal.defn(self,"$extended",TMP_35=function(e){return nil},TMP_35.$$arity=1),Opal.defn(self,"$method_added",TMP_36=function(e){return nil},TMP_36.$$arity=-1),Opal.defn(self,"$method_removed",TMP_37=function(e){return nil},TMP_37.$$arity=-1),Opal.defn(self,"$method_undefined",TMP_38=function(e){return nil},TMP_38.$$arity=-1),Opal.defn(self,"$module_eval",TMP_39=function ːmodule_eval($a_rest){var $b,$c,TMP_40,self=this,args,$iter=TMP_39.$$p,block=$iter||nil,string=nil,file=nil,_lineno=nil,default_eval_options=nil,compiling_options=nil,compiled=nil,$args_len=arguments.length,$rest_len=$args_len-0;
$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-0]=arguments[$arg_idx];TMP_39.$$p=null,$c=block["$nil?"](),($b=$c!==!1&&$c!==nil&&null!=$c?!!Opal.compile:$c)===nil||null==$b||$b.$$is_boolean&&1!=$b?($b=$rb_gt(args.$size(),0))===nil||null==$b||$b.$$is_boolean&&1!=$b||$scope.get("Kernel").$raise($scope.get("ArgumentError"),"wrong number of arguments ("+args.$size()+" for 0)"):((($b=$range(1,3,!1)["$cover?"](args.$size()))===nil||null==$b||$b.$$is_boolean&&1!=$b)&&$scope.get("Kernel").$raise($scope.get("ArgumentError"),"wrong number of arguments (0 for 1..3)"),$b=Opal.to_a(args),string=null==$b[0]?nil:$b[0],file=null==$b[1]?nil:$b[1],_lineno=null==$b[2]?nil:$b[2],$b,default_eval_options=$hash2(["file","eval"],{file:($b=file)!==!1&&$b!==nil&&null!=$b?$b:"(eval)",eval:!0}),compiling_options=Opal.hash({arity_check:!1}).$merge(default_eval_options),compiled=$scope.get("Opal").$compile(string,compiling_options),block=($b=($c=$scope.get("Kernel")).$proc,$b.$$p=(TMP_40=function(){var self=TMP_40.$$s||this;return function(self){return eval(compiled)}(self)},TMP_40.$$s=self,TMP_40.$$arity=0,TMP_40),$b).call($c));var old=block.$$s,result;return block.$$s=null,result=block.apply(self,[self]),block.$$s=old,result},TMP_39.$$arity=-1),Opal.alias(self,"class_eval","module_eval"),Opal.defn(self,"$module_exec",TMP_41=function(e){var t,n=this,$=TMP_41.$$p,r=$||nil,i=arguments.length,l=i-0;l<0&&(l=0),t=new Array(l);for(var o=0;o<i;o++)t[o-0]=arguments[o];TMP_41.$$p=null,r===nil&&n.$raise($scope.get("LocalJumpError"),"no block given");var a,s=r.$$s;return r.$$s=null,a=r.apply(n,t),r.$$s=s,a},TMP_41.$$arity=-1),Opal.alias(self,"class_exec","module_exec"),Opal.defn(self,"$method_defined?",TMP_42=function(e){var t=this,n=t.$$proto["$"+e];return!!n&&!n.$$stub},TMP_42.$$arity=1),Opal.defn(self,"$module_function",TMP_43=function(e){var t,n=this,$=arguments.length,r=$-0;r<0&&(r=0),t=new Array(r);for(var i=0;i<$;i++)t[i-0]=arguments[i];if(0===t.length)n.$$module_function=!0;else for(var l=0,o=t.length;l<o;l++){var a=t[l],s="$"+a,u=n.$$proto[s];Opal.defs(n,s,u)}return n},TMP_43.$$arity=-1),Opal.defn(self,"$name",TMP_44=function(){var e=this;if(e.$$full_name)return e.$$full_name;for(var t=[],n=e;n;){if(n.$$name===nil)return 0===t.length?nil:t.join("::");if(t.unshift(n.$$name),n=n.$$base_module,n===Opal.Object)break}return 0===t.length?nil:e.$$full_name=t.join("::")},TMP_44.$$arity=0),Opal.defn(self,"$remove_class_variable",TMP_45=function(e){return nil},TMP_45.$$arity=-1),Opal.defn(self,"$remove_const",TMP_46=function(e){var t=this,n=t.$$scope[e];return delete t.$$scope[e],n},TMP_46.$$arity=1),Opal.defn(self,"$to_s",TMP_47=function(){var e,t=this;return(e=Opal.Module.$name.call(t))!==!1&&e!==nil&&null!=e?e:"#<"+(t.$$is_module?"Module":"Class")+":0x"+t.$__id__().$to_s(16)+">"},TMP_47.$$arity=0),Opal.defn(self,"$undef_method",TMP_48=function(e){var t,n=this,$=arguments.length,r=$-0;r<0&&(r=0),t=new Array(r);for(var i=0;i<$;i++)t[i-0]=arguments[i];for(var l=0,o=t.length;l<o;l++)Opal.udef(n,"$"+t[l]);return n},TMP_48.$$arity=-1),Opal.defn(self,"$instance_variables",TMP_49=function(){var e=this,t=nil;t=e.$constants();var n=[];for(var $ in e)e.hasOwnProperty($)&&"$"!==$.charAt(0)&&"constructor"!==$&&!t["$include?"]($)&&n.push("@"+$);return n},TMP_49.$$arity=0),nil&&"instance_variables"}($scope.base,null)},Opal.modules["corelib/class"]=function(e){var t=e.top,n=e,$=e.nil,r=(e.breaker,e.slice,e.klass);return e.add_stubs(["$require","$allocate","$name","$to_s"]),t.$require("corelib/module"),function(t,n){function i(){}var l,o,a,s,u,c,_=i=r(t,n,"Class",i),p=(_.$$proto,_.$$scope);return e.defs(_,"$new",l=function(t){var n=l.$$p,r=n||$;if(null==t&&(t=p.get("Object")),l.$$p=null,!t.$$is_class)throw e.TypeError.$new("superclass must be a Class");var i=e.boot_class_alloc(null,function(){},t),o=e.setup_class_object(null,i,t.$$name,t.constructor);return o.$$super=t,o.$$parent=t,e.create_scope(t.$$scope,o),t.$inherited(o),e.module_initialize(o,r),o},l.$$arity=-1),e.defn(_,"$allocate",o=function(){var t=this,n=new t.$$alloc;return n.$$id=e.uid(),n},o.$$arity=0),e.defn(_,"$inherited",a=function(e){return $},a.$$arity=1),e.defn(_,"$new",s=function(e){var t,n=this,r=s.$$p,i=r||$,l=arguments.length,o=l-0;o<0&&(o=0),t=new Array(o);for(var a=0;a<l;a++)t[a-0]=arguments[a];s.$$p=null;var u=n.$allocate();return u.$initialize.$$p=i,u.$initialize.apply(u,t),u},s.$$arity=-1),e.defn(_,"$superclass",u=function(){var e=this;return e.$$super||$},u.$$arity=0),e.defn(_,"$to_s",c=function(){var t,n,$=this;c.$$p;c.$$p=null;var r=$.$$singleton_of;return r&&(r.$$is_class||r.$$is_module)?"#<Class:"+r.$name()+">":r?"#<Class:#<"+r.$$class.$name()+":0x"+r.$$id.$to_s(16)+">>":(n=$,t=e.find_super_dispatcher($,"to_s",c,!1),t.$$p=null,t).call(n)},c.$$arity=0),$&&"to_s"}(n.base,null)},Opal.modules["corelib/basic_object"]=function(Opal){function $rb_gt(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}var self=Opal.top,$scope=Opal,nil=Opal.nil,$breaker=Opal.breaker,$slice=Opal.slice,$klass=Opal.klass,$range=Opal.range,$hash2=Opal.hash2;return Opal.add_stubs(["$==","$!","$nil?","$cover?","$size","$raise","$merge","$compile","$proc","$>","$new","$inspect"]),function($base,$super){function $BasicObject(){}var self=$BasicObject=$klass($base,$super,"BasicObject",$BasicObject),def=self.$$proto,$scope=self.$$scope,TMP_1,TMP_2,TMP_3,TMP_4,TMP_5,TMP_6,TMP_7,TMP_8,TMP_10,TMP_11,TMP_12,TMP_13,TMP_14;return Opal.defn(self,"$initialize",TMP_1=function(e){return nil},TMP_1.$$arity=-1),Opal.defn(self,"$==",TMP_2=function(e){var t=this;return t===e},TMP_2.$$arity=1),Opal.defn(self,"$eql?",TMP_3=function(e){var t=this;return t["$=="](e)},TMP_3.$$arity=1),Opal.alias(self,"equal?","=="),Opal.defn(self,"$__id__",TMP_4=function(){var e=this;return e.$$id||(e.$$id=Opal.uid())},TMP_4.$$arity=0),Opal.defn(self,"$__send__",TMP_5=function(e,t){var n,$=this,r=TMP_5.$$p,i=r||nil,l=arguments.length,o=l-1;o<0&&(o=0),n=new Array(o);for(var a=1;a<l;a++)n[a-1]=arguments[a];TMP_5.$$p=null;var s=$["$"+e];return s?(i!==nil&&(s.$$p=i),s.apply($,n)):(i!==nil&&($.$method_missing.$$p=i),$.$method_missing.apply($,[e].concat(n)))},TMP_5.$$arity=-2),Opal.defn(self,"$!",TMP_6=function(){return!1},TMP_6.$$arity=0),Opal.defn(self,"$!=",TMP_7=function(e){var t=this;return t["$=="](e)["$!"]()},TMP_7.$$arity=1),Opal.alias(self,"equal?","=="),Opal.defn(self,"$instance_eval",TMP_8=function ːinstance_eval($a_rest){var $b,$c,TMP_9,self=this,args,$iter=TMP_8.$$p,block=$iter||nil,string=nil,file=nil,_lineno=nil,default_eval_options=nil,compiling_options=nil,compiled=nil,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-0]=arguments[$arg_idx];TMP_8.$$p=null,$c=block["$nil?"](),($b=$c!==!1&&$c!==nil&&null!=$c?!!Opal.compile:$c)===nil||null==$b||$b.$$is_boolean&&1!=$b?($b=$rb_gt(args.$size(),0))===nil||null==$b||$b.$$is_boolean&&1!=$b||$scope.get("Kernel").$raise($scope.get("ArgumentError"),"wrong number of arguments ("+args.$size()+" for 0)"):((($b=$range(1,3,!1)["$cover?"](args.$size()))===nil||null==$b||$b.$$is_boolean&&1!=$b)&&$scope.get("Kernel").$raise($scope.get("ArgumentError"),"wrong number of arguments (0 for 1..3)"),$b=Opal.to_a(args),string=null==$b[0]?nil:$b[0],file=null==$b[1]?nil:$b[1],_lineno=null==$b[2]?nil:$b[2],$b,default_eval_options=$hash2(["file","eval"],{file:($b=file)!==!1&&$b!==nil&&null!=$b?$b:"(eval)",eval:!0}),compiling_options=Opal.hash({arity_check:!1}).$merge(default_eval_options),compiled=$scope.get("Opal").$compile(string,compiling_options),block=($b=($c=$scope.get("Kernel")).$proc,$b.$$p=(TMP_9=function(){var self=TMP_9.$$s||this;return function(self){return eval(compiled)}(self)},TMP_9.$$s=self,TMP_9.$$arity=0,TMP_9),$b).call($c));var old=block.$$s,result;if(block.$$s=null,self.$$is_class||self.$$is_module){self.$$eval=!0;try{result=block.call(self,self)}finally{self.$$eval=!1}}else result=block.call(self,self);return block.$$s=old,result},TMP_8.$$arity=-1),Opal.defn(self,"$instance_exec",TMP_10=function(e){var t,n=this,$=TMP_10.$$p,r=$||nil,i=arguments.length,l=i-0;l<0&&(l=0),t=new Array(l);for(var o=0;o<i;o++)t[o-0]=arguments[o];TMP_10.$$p=null,r!==!1&&r!==nil&&null!=r||$scope.get("Kernel").$raise($scope.get("ArgumentError"),"no block given");var a,s=r.$$s;if(r.$$s=null,n.$$is_class||n.$$is_module){n.$$eval=!0;try{a=r.apply(n,t)}finally{n.$$eval=!1}}else a=r.apply(n,t);return r.$$s=s,a},TMP_10.$$arity=-1),Opal.defn(self,"$singleton_method_added",TMP_11=function(e){return nil},TMP_11.$$arity=-1),Opal.defn(self,"$singleton_method_removed",TMP_12=function(e){return nil},TMP_12.$$arity=-1),Opal.defn(self,"$singleton_method_undefined",TMP_13=function(e){return nil},TMP_13.$$arity=-1),Opal.defn(self,"$method_missing",TMP_14=function(e,t){var n,$,r=this,i=(TMP_14.$$p,arguments.length),l=i-1;l<0&&(l=0),$=new Array(l);for(var o=1;o<i;o++)$[o-1]=arguments[o];return TMP_14.$$p=null,$scope.get("Kernel").$raise($scope.get("NoMethodError").$new(function(){return(n=r.$inspect&&!r.$inspect.$$stub)===nil||null==n||n.$$is_boolean&&1!=n?"undefined method `"+e+"' for "+r.$$class:"undefined method `"+e+"' for "+r.$inspect()+":"+r.$$class}(),e))},TMP_14.$$arity=-2),nil&&"method_missing"}($scope.base,null)},Opal.modules["corelib/kernel"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e<=t:e["$<="](t)}var $=(e.top,e),r=e.nil,i=(e.breaker,e.slice,e.module),l=e.gvars,o=e.hash2,a=e.klass;return e.add_stubs(["$raise","$new","$inspect","$!","$=~","$==","$object_id","$class","$coerce_to?","$<<","$allocate","$copy_instance_variables","$copy_singleton_methods","$initialize_clone","$initialize_copy","$define_method","$to_proc","$singleton_class","$initialize_dup","$for","$>","$size","$pop","$call","$append_features","$extended","$length","$respond_to?","$[]","$nil?","$to_a","$to_int","$fetch","$Integer","$Float","$to_ary","$to_str","$coerce_to","$to_s","$__id__","$instance_variable_name!","$coerce_to!","$===","$enum_for","$print","$format","$puts","$each","$<=","$empty?","$exception","$kind_of?","$respond_to_missing?","$try_convert!","$expand_path","$join","$start_with?","$sym","$arg","$open","$include"]),function($){var a,s,u,c,_,p,d,f,h,g,b,m,y,v,w,k,x,E,A,O,S,R,T,I,C,N,M,L,z,P,D,B,q,j,F,U,G,H,Y,K,W,X,V,J,Z,Q,ee,te,ne,$e,re,ie,le,oe,ae,se,ue,ce,_e,pe,de,fe,he,ge=a=i($,"Kernel"),be=(ge.$$proto,ge.$$scope);e.defn(ge,"$method_missing",s=function(e,t){var n,$=this,r=(s.$$p,arguments.length),i=r-1;i<0&&(i=0),n=new Array(i);for(var l=1;l<r;l++)n[l-1]=arguments[l];return s.$$p=null,$.$raise(be.get("NoMethodError").$new("undefined method `"+e+"' for "+$.$inspect(),e,n))},s.$$arity=-2),e.defn(ge,"$=~",u=function(e){return!1},u.$$arity=1),e.defn(ge,"$!~",c=function(e){var t=this;return t["$=~"](e)["$!"]()},c.$$arity=1),e.defn(ge,"$===",_=function(e){var t,n=this;return(t=n.$object_id()["$=="](e.$object_id()))!==!1&&t!==r&&null!=t?t:n["$=="](e)},_.$$arity=1),e.defn(ge,"$<=>",p=function(e){var t=this;t.$$comparable=!0;var n=t["$=="](e);return n&&n!==r?0:r},p.$$arity=1),e.defn(ge,"$method",d=function(e){var t=this,n=t["$"+e];return n&&!n.$$stub||t.$raise(be.get("NameError").$new("undefined method `"+e+"' for class `"+t.$class()+"'",e)),be.get("Method").$new(t,n,e)},d.$$arity=1),e.defn(ge,"$methods",f=function(t){var n=this;null==t&&(t=!0);var $=[];for(var i in n)if("$"==i[0]&&"function"==typeof n[i]){if((0==t||t===r)&&!e.hasOwnProperty.call(n,i))continue;void 0===n[i].$$stub&&$.push(i.substr(1))}return $},f.$$arity=-1),e.alias(ge,"public_methods","methods"),e.defn(ge,"$Array",h=function(e){var t;return e===r?[]:e.$$is_array?e:(t=be.get("Opal")["$coerce_to?"](e,be.get("Array"),"to_ary"),t!==r?t:(t=be.get("Opal")["$coerce_to?"](e,be.get("Array"),"to_a"),t!==r?t:[e]))},h.$$arity=1),e.defn(ge,"$at_exit",g=function(){var e,t=g.$$p,n=t||r;return null==l.__at_exit__&&(l.__at_exit__=r),g.$$p=null,(e=l.__at_exit__)!==!1&&e!==r&&null!=e?e:l.__at_exit__=[],l.__at_exit__["$<<"](n)},g.$$arity=0),e.defn(ge,"$caller",b=function(){return[]},b.$$arity=0),e.defn(ge,"$class",m=function(){var e=this;return e.$$class},m.$$arity=0),e.defn(ge,"$copy_instance_variables",y=function(e){var t=this;for(var n in e)e.hasOwnProperty(n)&&"$"!==n.charAt(0)&&(t[n]=e[n])},y.$$arity=1),e.defn(ge,"$copy_singleton_methods",v=function(t){var n,$=this;if(t.hasOwnProperty("$$meta")){var r=e.get_singleton_class(t).$$proto,i=e.get_singleton_class($).$$proto;for(n in r)"$"===n.charAt(0)&&r.hasOwnProperty(n)&&(i[n]=r[n])}for(n in t)"$"===n.charAt(0)&&"$"!==n.charAt(1)&&t.hasOwnProperty(n)&&($[n]=t[n])},v.$$arity=1),e.defn(ge,"$clone",w=function(){var e=this,t=r;return t=e.$class().$allocate(),t.$copy_instance_variables(e),t.$copy_singleton_methods(e),t.$initialize_clone(e),t},w.$$arity=0),e.defn(ge,"$initialize_clone",k=function(e){var t=this;return t.$initialize_copy(e)},k.$$arity=1),e.defn(ge,"$define_singleton_method",x=function(e,t){var n,$,i=this,l=x.$$p,o=l||r;return x.$$p=null,(n=($=i.$singleton_class()).$define_method,n.$$p=o.$to_proc(),n).call($,e,t)},x.$$arity=-2),e.defn(ge,"$dup",E=function(){var e=this,t=r;return t=e.$class().$allocate(),t.$copy_instance_variables(e),t.$initialize_dup(e),t},E.$$arity=0),e.defn(ge,"$initialize_dup",A=function(e){var t=this;return t.$initialize_copy(e)},A.$$arity=1),e.defn(ge,"$enum_for",O=function(t,n){var $,i,l,o=this,a=O.$$p,s=a||r;null==t&&(t="each");var u=arguments.length,c=u-1;c<0&&(c=0),l=new Array(c);for(var _=1;_<u;_++)l[_-1]=arguments[_];return O.$$p=null,($=(i=be.get("Enumerator")).$for,$.$$p=s.$to_proc(),$).apply(i,[o,t].concat(e.to_a(l)))},O.$$arity=-1),e.alias(ge,"to_enum","enum_for"),e.defn(ge,"$equal?",S=function(e){var t=this;return t===e},S.$$arity=1),e.defn(ge,"$exit",R=function(n){var $,i,o=r;for(null==l.__at_exit__&&(l.__at_exit__=r),null==n&&(n=!0),($=l.__at_exit__)!==!1&&$!==r&&null!=$?$:l.__at_exit__=[];(i=t(l.__at_exit__.$size(),0))!==r&&null!=i&&(!i.$$is_boolean||1==i);)o=l.__at_exit__.$pop(),o.$call();return($=n===!0)===r||null==$||$.$$is_boolean&&1!=$||(n=0),e.exit(n),r},R.$$arity=-1),e.defn(ge,"$extend",T=function(e){var t,n=this,$=arguments.length,r=$-0;r<0&&(r=0),t=new Array(r);for(var i=0;i<$;i++)t[i-0]=arguments[i];for(var l=n.$singleton_class(),o=t.length-1;o>=0;o--){var a=t[o];a.$$is_module||n.$raise(be.get("TypeError"),"wrong argument type "+a.$class()+" (expected Module)"),a.$append_features(l),a.$extended(n)}return n},T.$$arity=-1),e.defn(ge,"$format",I=function(e,t){function n(){L&K&&f.$raise(be.get("ArgumentError"),"flag after width"),L&X&&f.$raise(be.get("ArgumentError"),"flag after precision")}function $(){L&K&&f.$raise(be.get("ArgumentError"),"width given twice"),L&X&&f.$raise(be.get("ArgumentError"),"width after precision")}function i(e){return e>=d.length&&f.$raise(be.get("ArgumentError"),"too few arguments"),d[e]}function o(){switch(q){case-1:f.$raise(be.get("ArgumentError"),"unnumbered("+B+") mixed with numbered");case-2:f.$raise(be.get("ArgumentError"),"unnumbered("+B+") mixed with named")}return q=B++,i(q-1)}function a(e){return q>0&&f.$raise(be.get("ArgumentError"),"numbered("+e+") after unnumbered("+q+")"),q===-2&&f.$raise(be.get("ArgumentError"),"numbered("+e+") after named"),e<1&&f.$raise(be.get("ArgumentError"),"invalid index - "+e+"$"),q=-1,i(e-1)}function s(){return void 0===M?o():M}function u(t){for(var n,$="";;v++){if(v===D&&f.$raise(be.get("ArgumentError"),"malformed format string - %*[0-9]"),e.charCodeAt(v)<48||e.charCodeAt(v)>57)return v--,n=parseInt($,10)||0,n>2147483647&&f.$raise(be.get("ArgumentError"),""+t+" too big"),n;$+=e.charAt(v)}}function c(t){var n,$=u(t);return"$"===e.charAt(v+1)?(v++,n=a($)):n=o(),n.$to_int()}var _,p,d,f=this,h=r;null==l.DEBUG&&(l.DEBUG=r);var g=arguments.length,b=g-1;b<0&&(b=0),d=new Array(b);for(var m=1;m<g;m++)d[m-1]=arguments[m];(_=(p=d.$length()["$=="](1))?d["$[]"](0)["$respond_to?"]("to_ary"):d.$length()["$=="](1))===r||null==_||_.$$is_boolean&&1!=_||(h=be.get("Opal")["$coerce_to?"](d["$[]"](0),be.get("Array"),"to_ary"),((_=h["$nil?"]())===r||null==_||_.$$is_boolean&&1!=_)&&(d=h.$to_a()));var y,v,w,k,x,E,A,O,S,R,T,I,C,N,M,L,z="",P=0,D=e.length,B=1,q=0,j=0,F=1,U=2,G=4,H=8,Y=16,K=32,W=64,X=128;for(v=e.indexOf("%");v!==-1;v=e.indexOf("%",v)){switch(k=void 0,L=j,E=-1,A=-1,M=void 0,y=v,v++,e.charAt(v)){case"%":P=v;case"":case"\n":case"\0":v++;continue}e:for(;v<D;v++)switch(e.charAt(v)){case" ":n(),L|=Y;continue e;case"#":n(),L|=F;continue e;case"+":n(),L|=G;continue e;case"-":n(),L|=U;continue e;case"0":n(),L|=H;continue e;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":if(O=u("width"),"$"===e.charAt(v+1)){if(v+2===D){k="%",v++;break e}void 0!==M&&f.$raise(be.get("ArgumentError"),"value given twice - %"+O+"$"),M=a(O),v++}else $(),L|=K,E=O;continue e;case"<":case"{":for(R="<"===e.charAt(v)?">":"}",S="",v++;;v++){if(v===D&&f.$raise(be.get("ArgumentError"),"malformed name - unmatched parenthesis"),e.charAt(v)===R){if(q>0&&f.$raise(be.get("ArgumentError"),"named "+S+" after unnumbered("+q+")"),q===-1&&f.$raise(be.get("ArgumentError"),"named "+S+" after numbered"),q=-2,void 0!==d[0]&&d[0].$$is_hash||f.$raise(be.get("ArgumentError"),"one hash required"),M=d[0].$fetch(S),">"===R)continue e;if(k=M.toString(),A!==-1&&(k=k.slice(0,A)),L&U)for(;k.length<E;)k+=" ";else for(;k.length<E;)k=" "+k;break e}S+=e.charAt(v)}case"*":v++,$(),L|=K,E=c("width"),E<0&&(L|=U,E=-E);continue e;case".":if(L&X&&f.$raise(be.get("ArgumentError"),"precision given twice"),L|=W|X,A=0,v++,"*"===e.charAt(v)){v++,A=c("precision"),A<0&&(L&=~W);continue e}A=u("precision");continue e;case"d":case"i":case"u":if(w=f.$Integer(s()),w>=0){for(k=w.toString();k.length<A;)k="0"+k;if(L&U)for((L&G||L&Y)&&(k=(L&G?"+":" ")+k);k.length<E;)k+=" ";else if(L&H&&A===-1){for(;k.length<E-(L&G||L&Y?1:0);)k="0"+k;(L&G||L&Y)&&(k=(L&G?"+":" ")+k)}else for((L&G||L&Y)&&(k=(L&G?"+":" ")+k);k.length<E;)k=" "+k}else{for(k=(-w).toString();k.length<A;)k="0"+k;if(L&U)for(k="-"+k;k.length<E;)k+=" ";else if(L&H&&A===-1){for(;k.length<E-1;)k="0"+k;k="-"+k}else for(k="-"+k;k.length<E;)k=" "+k}break e;case"b":case"B":case"o":case"x":case"X":switch(e.charAt(v)){case"b":case"B":T=2,I="0b",C=/^1+/,N="1";break;case"o":T=8,I="0",C=/^3?7+/,N="7";break;case"x":case"X":T=16,I="0x",C=/^f+/,N="f"}if(w=f.$Integer(s()),w>=0){for(k=w.toString(T);k.length<A;)k="0"+k;if(L&U)for((L&G||L&Y)&&(k=(L&G?"+":" ")+k),L&F&&0!==w&&(k=I+k);k.length<E;)k+=" ";else if(L&H&&A===-1){for(;k.length<E-(L&G||L&Y?1:0)-(L&F&&0!==w?I.length:0);)k="0"+k;L&F&&0!==w&&(k=I+k),(L&G||L&Y)&&(k=(L&G?"+":" ")+k)}else for(L&F&&0!==w&&(k=I+k),(L&G||L&Y)&&(k=(L&G?"+":" ")+k);k.length<E;)k=" "+k}else if(L&G||L&Y){for(k=(-w).toString(T);k.length<A;)k="0"+k;if(L&U)for(L&F&&(k=I+k),k="-"+k;k.length<E;)k+=" ";else if(L&H&&A===-1){for(;k.length<E-1-(L&F?2:0);)k="0"+k;L&F&&(k=I+k),k="-"+k}else for(L&F&&(k=I+k),k="-"+k;k.length<E;)k=" "+k}else{for(k=(w>>>0).toString(T).replace(C,N);k.length<A-2;)k=N+k;if(L&U)for(k=".."+k,L&F&&(k=I+k);k.length<E;)k+=" ";else if(L&H&&A===-1){for(;k.length<E-2-(L&F?I.length:0);)k=N+k;k=".."+k,L&F&&(k=I+k)}else for(k=".."+k,L&F&&(k=I+k);k.length<E;)k=" "+k}e.charAt(v)===e.charAt(v).toUpperCase()&&(k=k.toUpperCase());break e;case"f":case"e":case"E":case"g":case"G":if(w=f.$Float(s()),w>=0||isNaN(w)){if(w===1/0)k="Inf";else switch(e.charAt(v)){case"f":k=w.toFixed(A===-1?6:A);break;case"e":case"E":k=w.toExponential(A===-1?6:A);break;case"g":case"G":k=w.toExponential(),x=parseInt(k.split("e")[1],10),x<-4||x>=(A===-1?6:A)||(k=w.toPrecision(A===-1?L&F?6:void 0:A))}if(L&U)for((L&G||L&Y)&&(k=(L&G?"+":" ")+k);k.length<E;)k+=" ";else if(L&H&&w!==1/0&&!isNaN(w)){for(;k.length<E-(L&G||L&Y?1:0);)k="0"+k;(L&G||L&Y)&&(k=(L&G?"+":" ")+k)}else for((L&G||L&Y)&&(k=(L&G?"+":" ")+k);k.length<E;)k=" "+k}else{if(w===-(1/0))k="Inf";else switch(e.charAt(v)){case"f":k=(-w).toFixed(A===-1?6:A);break;case"e":case"E":k=(-w).toExponential(A===-1?6:A);break;case"g":case"G":k=(-w).toExponential(),x=parseInt(k.split("e")[1],10),x<-4||x>=(A===-1?6:A)||(k=(-w).toPrecision(A===-1?L&F?6:void 0:A))}if(L&U)for(k="-"+k;k.length<E;)k+=" ";else if(L&H&&w!==-(1/0)){for(;k.length<E-1;)k="0"+k;k="-"+k}else for(k="-"+k;k.length<E;)k=" "+k}e.charAt(v)!==e.charAt(v).toUpperCase()||w===1/0||w===-(1/0)||isNaN(w)||(k=k.toUpperCase()),k=k.replace(/([eE][-+]?)([0-9])$/,"$10$2");break e;case"a":case"A":f.$raise(be.get("NotImplementedError"),"`A` and `a` format field types are not implemented in Opal yet");case"c":if(w=s(),w["$respond_to?"]("to_ary")&&(w=w.$to_ary()[0]),k=w["$respond_to?"]("to_str")?w.$to_str():String.fromCharCode(be.get("Opal").$coerce_to(w,be.get("Integer"),"to_int")),1!==k.length&&f.$raise(be.get("ArgumentError"),"%c requires a character"),L&U)for(;k.length<E;)k+=" ";else for(;k.length<E;)k=" "+k;break e;case"p":if(k=s().$inspect(),A!==-1&&(k=k.slice(0,A)),L&U)for(;k.length<E;)k+=" ";else for(;k.length<E;)k=" "+k;break e;case"s":if(k=s().$to_s(),A!==-1&&(k=k.slice(0,A)),L&U)for(;k.length<E;)k+=" ";else for(;k.length<E;)k=" "+k;break e;default:f.$raise(be.get("ArgumentError"),"malformed format string - %"+e.charAt(v))}void 0===k&&f.$raise(be.get("ArgumentError"),"malformed format string - %"),z+=e.slice(P,y)+k,P=v+1}return l.DEBUG&&q>=0&&B<d.length&&f.$raise(be.get("ArgumentError"),"too many arguments for format string"),z+e.slice(P)},I.$$arity=-2),e.defn(ge,"$hash",C=function(){var e=this;return e.$__id__()},C.$$arity=0),e.defn(ge,"$initialize_copy",N=function(e){return r},N.$$arity=1),e.defn(ge,"$inspect",M=function(){var e=this;return e.$to_s()},M.$$arity=0),e.defn(ge,"$instance_of?",L=function(e){var t=this;return e.$$is_class||e.$$is_module||t.$raise(be.get("TypeError"),"class or module required"),t.$$class===e},L.$$arity=1),e.defn(ge,"$instance_variable_defined?",z=function(t){var n=this;return t=be.get("Opal")["$instance_variable_name!"](t),e.hasOwnProperty.call(n,t.substr(1))},z.$$arity=1),e.defn(ge,"$instance_variable_get",P=function(t){var n=this;t=be.get("Opal")["$instance_variable_name!"](t);var $=n[e.ivar(t.substr(1))];return null==$?r:$},P.$$arity=1),e.defn(ge,"$instance_variable_set",D=function(t,n){var $=this;return t=be.get("Opal")["$instance_variable_name!"](t),$[e.ivar(t.substr(1))]=n},D.$$arity=2),e.defn(ge,"$remove_instance_variable",B=function(t){var n=this;t=be.get("Opal")["$instance_variable_name!"](t);var $,r=e.ivar(t.substr(1));return n.hasOwnProperty(r)?($=n[r],delete n[r],$):n.$raise(be.get("NameError"),"instance variable "+t+" not defined")},B.$$arity=1),e.defn(ge,"$instance_variables",q=function(){var e,t=this,n=[];for(var $ in t)t.hasOwnProperty($)&&"$"!==$.charAt(0)&&(e="$"===$.substr(-1)?$.slice(0,$.length-1):$,n.push("@"+e));return n},q.$$arity=0),e.defn(ge,"$Integer",j=function(e,t){var n,$,i,l=this;return e.$$is_string?(void 0===t?t=0:(t=be.get("Opal").$coerce_to(t,be.get("Integer"),"to_int"),(1===t||t<0||t>36)&&l.$raise(be.get("ArgumentError"),"invalid radix "+t)),$=e.toLowerCase(),$=$.replace(/(\d)_(?=\d)/g,"$1"),$=$.replace(/^(\s*[+-]?)(0[bodx]?)/,function(n,$,r){switch(r){case"0b":if(0===t||2===t)return t=2,$;case"0":case"0o":if(0===t||8===t)return t=8,$;case"0d":if(0===t||10===t)return t=10,$;case"0x":if(0===t||16===t)return t=16,$}l.$raise(be.get("ArgumentError"),'invalid value for Integer(): "'+e+'"')}),t=0===t?10:t,i="0-"+(t<=10?t-1:"9a-"+String.fromCharCode(97+(t-11))),new RegExp("^\\s*[+-]?["+i+"]+\\s*$").test($)||l.$raise(be.get("ArgumentError"),'invalid value for Integer(): "'+e+'"'),n=parseInt($,t),isNaN(n)&&l.$raise(be.get("ArgumentError"),'invalid value for Integer(): "'+e+'"'),n):(void 0!==t&&l.$raise(be.get("ArgumentError"),"base specified for non string value"),e===r&&l.$raise(be.get("TypeError"),"can't convert nil into Integer"),e.$$is_number?((e===1/0||e===-(1/0)||isNaN(e))&&l.$raise(be.get("FloatDomainError"),e),Math.floor(e)):e["$respond_to?"]("to_int")&&(n=e.$to_int(),n!==r)?n:be.get("Opal")["$coerce_to!"](e,be.get("Integer"),"to_i"))},j.$$arity=-2),e.defn(ge,"$Float",F=function(e){var t,n=this;return e===r&&n.$raise(be.get("TypeError"),"can't convert nil into Float"),e.$$is_string?(t=e.toString(),t=t.replace(/(\d)_(?=\d)/g,"$1"),/^\s*[-+]?0[xX][0-9a-fA-F]+\s*$/.test(t)?n.$Integer(t):(/^\s*[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?\s*$/.test(t)||n.$raise(be.get("ArgumentError"),'invalid value for Float(): "'+e+'"'),parseFloat(t))):be.get("Opal")["$coerce_to!"](e,be.get("Float"),"to_f")},F.$$arity=1),e.defn(ge,"$Hash",U=function(e){var t,n;return(t=(n=e["$nil?"]())!==!1&&n!==r&&null!=n?n:e["$=="]([]))===r||null==t||t.$$is_boolean&&1!=t?(t=be.get("Hash")["$==="](e))===r||null==t||t.$$is_boolean&&1!=t?be.get("Opal")["$coerce_to!"](e,be.get("Hash"),"to_hash"):e:o([],{})},U.$$arity=1),e.defn(ge,"$is_a?",G=function(t){var n=this;return t.$$is_class||t.$$is_module||n.$raise(be.get("TypeError"),"class or module required"),e.is_a(n,t)},G.$$arity=1),e.alias(ge,"kind_of?","is_a?"),e.defn(ge,"$lambda",H=function(){var e=H.$$p,t=e||r;return H.$$p=null,t.$$is_lambda=!0,t},H.$$arity=0),e.defn(ge,"$load",Y=function(t){return t=be.get("Opal")["$coerce_to!"](t,be.get("String"),"to_str"),e.load(t)},Y.$$arity=1),e.defn(ge,"$loop",K=function(){var t=this,n=K.$$p,$=n||r;if(K.$$p=null,$===r)return t.$enum_for("loop");for(;;)e.yieldX($,[]);return t},K.$$arity=0),e.defn(ge,"$nil?",W=function(){return!1},W.$$arity=0),e.alias(ge,"object_id","__id__"),e.defn(ge,"$printf",X=function(n){var $,i,l=this,o=arguments.length,a=o-0;a<0&&(a=0),i=new Array(a);for(var s=0;s<o;s++)i[s-0]=arguments[s];return($=t(i.$length(),0))===r||null==$||$.$$is_boolean&&1!=$||l.$print(($=l).$format.apply($,e.to_a(i))),r},X.$$arity=-1),e.defn(ge,"$proc",V=function(){var e=this,t=V.$$p,n=t||r;return V.$$p=null,n!==!1&&n!==r&&null!=n||e.$raise(be.get("ArgumentError"),"tried to create Proc object without a block"),n.$$is_lambda=!1,n},V.$$arity=0),e.defn(ge,"$puts",J=function(t){var n,$;null==l.stdout&&(l.stdout=r);var i=arguments.length,o=i-0;o<0&&(o=0),$=new Array(o);for(var a=0;a<i;a++)$[a-0]=arguments[a];return(n=l.stdout).$puts.apply(n,e.to_a($))},J.$$arity=-1),e.defn(ge,"$p",Z=function(e){var t,$,i,o,a=this,s=arguments.length,u=s-0;u<0&&(u=0),o=new Array(u);for(var c=0;c<s;c++)o[c-0]=arguments[c];return(t=($=o).$each,t.$$p=(i=function(e){i.$$s||this;return null==l.stdout&&(l.stdout=r),null==e&&(e=r),l.stdout.$puts(e.$inspect())},i.$$s=a,i.$$arity=1,i),t).call($),(t=n(o.$length(),1))===r||null==t||t.$$is_boolean&&1!=t?o:o["$[]"](0)},Z.$$arity=-1),e.defn(ge,"$print",Q=function(t){var n,$;null==l.stdout&&(l.stdout=r);var i=arguments.length,o=i-0;o<0&&(o=0),$=new Array(o);for(var a=0;a<i;a++)$[a-0]=arguments[a];return(n=l.stdout).$print.apply(n,e.to_a($))},Q.$$arity=-1),e.defn(ge,"$warn",ee=function(t){var n,$,i;null==l.VERBOSE&&(l.VERBOSE=r),null==l.stderr&&(l.stderr=r);var o=arguments.length,a=o-0;a<0&&(a=0),i=new Array(a);for(var s=0;s<o;s++)i[s-0]=arguments[s];return(n=($=l.VERBOSE["$nil?"]())!==!1&&$!==r&&null!=$?$:i["$empty?"]())===r||null==n||n.$$is_boolean&&1!=n?(n=l.stderr).$puts.apply(n,e.to_a(i)):r},ee.$$arity=-1),e.defn(ge,"$raise",te=function(t,n,$){if(null==l["!"]&&(l["!"]=r),null==n&&(n=r),null==$&&($=r),null==t&&l["!"]!==r)throw l["!"];throw null==t?t=be.get("RuntimeError").$new():t.$$is_string?t=be.get("RuntimeError").$new(t):t.$$is_class&&t["$respond_to?"]("exception")?t=t.$exception(n):t["$kind_of?"](be.get("Exception"))||(t=be.get("TypeError").$new("exception class/object expected")),l["!"]!==r&&e.exceptions.push(l["!"]),l["!"]=t,t},te.$$arity=-1),e.alias(ge,"fail","raise"),e.defn(ge,"$rand",ne=function(e){var t=this;if(void 0===e)return Math.random();if(e.$$is_range){var n=e.begin,$=e.end-n;return e.exclude||$++,t.$rand($)+n}return Math.floor(Math.random()*Math.abs(be.get("Opal").$coerce_to(e,be.get("Integer"),"to_int")))},ne.$$arity=-1),e.defn(ge,"$respond_to?",$e=function(e,t){var n,$=this;if(null==t&&(t=!1),(n=$["$respond_to_missing?"](e,t))!==r&&null!=n&&(!n.$$is_boolean||1==n))return!0;var i=$["$"+e];return"function"==typeof i&&!i.$$stub},$e.$$arity=-2),e.defn(ge,"$respond_to_missing?",re=function(e,t){return null==t&&(t=!1),!1},re.$$arity=-2),e.defn(ge,"$require",ie=function(t){return t=be.get("Opal")["$coerce_to!"](t,be.get("String"),"to_str"),e.require(t)},ie.$$arity=1),e.defn(ge,"$require_relative",le=function(t){return be.get("Opal")["$try_convert!"](t,be.get("String"),"to_str"),t=be.get("File").$expand_path(be.get("File").$join(e.current_file,"..",t)),e.require(t)},le.$$arity=1),e.defn(ge,"$require_tree",oe=function(t){t=be.get("File").$expand_path(t),t["$=="](".")&&(t="");for(var n in e.modules)n["$start_with?"](t)&&e.require(n);return r},oe.$$arity=1),e.alias(ge,"send","__send__"),e.alias(ge,"public_send","__send__"),e.defn(ge,"$singleton_class",ae=function(){var t=this;return e.get_singleton_class(t)},ae.$$arity=0),e.defn(ge,"$sleep",se=function(e){var t=this;null==e&&(e=r),e===r&&t.$raise(be.get("TypeError"),"can't convert NilClass into time interval"),e.$$is_number||t.$raise(be.get("TypeError"),"can't convert "+e.$class()+" into time interval"),e<0&&t.$raise(be.get("ArgumentError"),"time interval must be positive");for(var n=new Date;new Date-n<=1e3*e;);return e},se.$$arity=-1),e.alias(ge,"sprintf","format"),e.alias(ge,"srand","rand"),e.defn(ge,"$String",ue=function(e){var t;return(t=be.get("Opal")["$coerce_to?"](e,be.get("String"),"to_str"))!==!1&&t!==r&&null!=t?t:be.get("Opal")["$coerce_to!"](e,be.get("String"),"to_s")},ue.$$arity=1),e.defn(ge,"$tap",ce=function(){var t=this,n=ce.$$p,$=n||r;return ce.$$p=null,e.yield1($,t),t},ce.$$arity=0),e.defn(ge,"$to_proc",_e=function(){var e=this;return e},_e.$$arity=0),e.defn(ge,"$to_s",pe=function(){var e=this;return"#<"+e.$class()+":0x"+e.$__id__().$to_s(16)+">"},pe.$$arity=0),e.defn(ge,"$catch",de=function(t){var n=this,$=de.$$p,i=$||r,l=r;de.$$p=null;try{return e.yieldX(i,[])}catch($){if(!e.rescue($,[be.get("UncaughtThrowError")]))throw $;l=$;try{return l.$sym()["$=="](t)?l.$arg():n.$raise()}finally{e.pop_exception()}}},de.$$arity=1),e.defn(ge,"$throw",fe=function(e){var t,n=this,$=arguments.length,r=$-0;r<0&&(r=0),t=new Array(r);for(var i=0;i<$;i++)t[i-0]=arguments[i];return n.$raise(be.get("UncaughtThrowError").$new(t))},fe.$$arity=-1),e.defn(ge,"$open",he=function(t){var n,$,i,l=he.$$p,o=l||r,a=arguments.length,s=a-0;s<0&&(s=0),i=new Array(s);for(var u=0;u<a;u++)i[u-0]=arguments[u];return he.$$p=null,(n=($=be.get("File")).$open,n.$$p=o.$to_proc(),n).apply($,e.to_a(i))},he.$$arity=-1)}($.base),function(e,t){function n(){}var $=n=a(e,t,"Object",n),r=($.$$proto,$.$$scope);return $.$include(r.get("Kernel"))}($.base,null)},Opal.modules["corelib/error"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}var n=(e.top,e),$=e.nil,r=(e.breaker,e.slice,e.klass),i=e.module;return e.add_stubs(["$new","$clone","$to_s","$empty?","$class","$attr_reader","$[]","$>","$length","$inspect"]),function(t,n){function i(){}var l,o,a,s,u,c,_,p,d=i=r(t,n,"Exception",i),f=d.$$proto;d.$$scope;return f.message=$,e.defs(d,"$new",l=function(e){var t,n=this,r=arguments.length,i=r-0;i<0&&(i=0),t=new Array(i);for(var l=0;l<r;l++)t[l-0]=arguments[l];var o=t.length>0?t[0]:$,a=new n.$$alloc(o);return Error.captureStackTrace&&Error.captureStackTrace(a),a.name=n.$$name,a.$initialize.apply(a,t),a},l.$$arity=-1),e.defs(d,"$exception",o=function(t){var n,$,r=this,i=arguments.length,l=i-0;l<0&&(l=0),$=new Array(l);for(var o=0;o<i;o++)$[o-0]=arguments[o];return(n=r).$new.apply(n,e.to_a($))},o.$$arity=-1),e.defn(d,"$initialize",a=function(e){var t,n=this,r=arguments.length,i=r-0;i<0&&(i=0),t=new Array(i);for(var l=0;l<r;l++)t[l-0]=arguments[l];return n.message=t.length>0?t[0]:$},a.$$arity=-1),e.defn(d,"$backtrace",s=function(){var e=this,t=e.stack;return"string"==typeof t?t.split("\n").slice(0,15):t?t.slice(0,15):[]},s.$$arity=0),e.defn(d,"$exception",u=function(e){var t=this;if(null==e&&(e=$),
e===$||t===e)return t;var n=t.$clone();return n.message=e,n},u.$$arity=-1),e.defn(d,"$message",c=function(){var e=this;return e.$to_s()},c.$$arity=0),e.defn(d,"$inspect",_=function(){var e,t=this,n=$;return n=t.$to_s(),(e=n["$empty?"]())===$||null==e||e.$$is_boolean&&1!=e?"#<"+t.$class().$to_s()+": "+t.$to_s()+">":t.$class().$to_s()},_.$$arity=0),e.defn(d,"$to_s",p=function(){var e,t,n=this;return t=n.message,(e=t!==!1&&t!==$&&null!=t?n.message.$to_s():t)!==!1&&e!==$&&null!=e?e:n.$class().$to_s()},p.$$arity=0),$&&"to_s"}(n.base,Error),function(e,t){function n(){}var i=n=r(e,t,"ScriptError",n);i.$$proto,i.$$scope;return $}(n.base,n.get("Exception")),function(e,t){function n(){}var i=n=r(e,t,"SyntaxError",n);i.$$proto,i.$$scope;return $}(n.base,n.get("ScriptError")),function(e,t){function n(){}var i=n=r(e,t,"LoadError",n);i.$$proto,i.$$scope;return $}(n.base,n.get("ScriptError")),function(e,t){function n(){}var i=n=r(e,t,"NotImplementedError",n);i.$$proto,i.$$scope;return $}(n.base,n.get("ScriptError")),function(e,t){function n(){}var i=n=r(e,t,"SystemExit",n);i.$$proto,i.$$scope;return $}(n.base,n.get("Exception")),function(e,t){function n(){}var i=n=r(e,t,"NoMemoryError",n);i.$$proto,i.$$scope;return $}(n.base,n.get("Exception")),function(e,t){function n(){}var i=n=r(e,t,"SignalException",n);i.$$proto,i.$$scope;return $}(n.base,n.get("Exception")),function(e,t){function n(){}var i=n=r(e,t,"Interrupt",n);i.$$proto,i.$$scope;return $}(n.base,n.get("Exception")),function(e,t){function n(){}var i=n=r(e,t,"SecurityError",n);i.$$proto,i.$$scope;return $}(n.base,n.get("Exception")),function(e,t){function n(){}var i=n=r(e,t,"StandardError",n);i.$$proto,i.$$scope;return $}(n.base,n.get("Exception")),function(e,t){function n(){}var i=n=r(e,t,"ZeroDivisionError",n);i.$$proto,i.$$scope;return $}(n.base,n.get("StandardError")),function(e,t){function n(){}var i=n=r(e,t,"NameError",n);i.$$proto,i.$$scope;return $}(n.base,n.get("StandardError")),function(e,t){function n(){}var i=n=r(e,t,"NoMethodError",n);i.$$proto,i.$$scope;return $}(n.base,n.get("NameError")),function(e,t){function n(){}var i=n=r(e,t,"RuntimeError",n);i.$$proto,i.$$scope;return $}(n.base,n.get("StandardError")),function(e,t){function n(){}var i=n=r(e,t,"LocalJumpError",n);i.$$proto,i.$$scope;return $}(n.base,n.get("StandardError")),function(e,t){function n(){}var i=n=r(e,t,"TypeError",n);i.$$proto,i.$$scope;return $}(n.base,n.get("StandardError")),function(e,t){function n(){}var i=n=r(e,t,"ArgumentError",n);i.$$proto,i.$$scope;return $}(n.base,n.get("StandardError")),function(e,t){function n(){}var i=n=r(e,t,"IndexError",n);i.$$proto,i.$$scope;return $}(n.base,n.get("StandardError")),function(e,t){function n(){}var i=n=r(e,t,"StopIteration",n);i.$$proto,i.$$scope;return $}(n.base,n.get("IndexError")),function(e,t){function n(){}var i=n=r(e,t,"KeyError",n);i.$$proto,i.$$scope;return $}(n.base,n.get("IndexError")),function(e,t){function n(){}var i=n=r(e,t,"RangeError",n);i.$$proto,i.$$scope;return $}(n.base,n.get("StandardError")),function(e,t){function n(){}var i=n=r(e,t,"FloatDomainError",n);i.$$proto,i.$$scope;return $}(n.base,n.get("RangeError")),function(e,t){function n(){}var i=n=r(e,t,"IOError",n);i.$$proto,i.$$scope;return $}(n.base,n.get("StandardError")),function(e,t){function n(){}var i=n=r(e,t,"SystemCallError",n);i.$$proto,i.$$scope;return $}(n.base,n.get("StandardError")),function(t){var n,l=n=i(t,"Errno"),o=(l.$$proto,l.$$scope);!function(t,n){function i(){}var l,o=i=r(t,n,"EINVAL",i);o.$$proto,o.$$scope;return e.defs(o,"$new",l=function(){var t,n,$=this;l.$$p;return l.$$p=null,(n=$,t=e.find_super_dispatcher($,"new",l,!1,i),t.$$p=null,t).call(n,"Invalid argument")},l.$$arity=0),$&&"new"}(o.base,o.get("SystemCallError"))}(n.base),function(n,i){function l(){}var o,a=l=r(n,i,"UncaughtThrowError",l),s=a.$$proto;a.$$scope;return s.sym=$,a.$attr_reader("sym","arg"),e.defn(a,"$initialize",o=function(n){var r,i,l=this;o.$$p;return o.$$p=null,l.sym=n["$[]"](0),(r=t(n.$length(),1))===$||null==r||r.$$is_boolean&&1!=r||(l.arg=n["$[]"](1)),(i=l,r=e.find_super_dispatcher(l,"initialize",o,!1),r.$$p=null,r).call(i,"uncaught throw "+l.sym.$inspect())},o.$$arity=1),$&&"initialize"}(n.base,n.get("ArgumentError")),function(t,n){function i(){}var l,o=i=r(t,n,"NameError",i);o.$$proto,o.$$scope;return o.$attr_reader("name"),e.defn(o,"$initialize",l=function(t,n){var r,i,o=this;l.$$p;return null==n&&(n=$),l.$$p=null,(i=o,r=e.find_super_dispatcher(o,"initialize",l,!1),r.$$p=null,r).call(i,t),o.name=n},l.$$arity=-2),$&&"initialize"}(n.base,null),function(t,n){function i(){}var l,o=i=r(t,n,"NoMethodError",i);o.$$proto,o.$$scope;return o.$attr_reader("args"),e.defn(o,"$initialize",l=function(t,n,r){var i,o,a=this;l.$$p;return null==n&&(n=$),null==r&&(r=[]),l.$$p=null,(o=a,i=e.find_super_dispatcher(a,"initialize",l,!1),i.$$p=null,i).call(o,t,n),a.args=r},l.$$arity=-2),$&&"initialize"}(n.base,null)},Opal.modules["corelib/constants"]=function(e){var t=(e.top,e);e.nil,e.breaker,e.slice;return e.cdecl(t,"RUBY_PLATFORM","opal"),e.cdecl(t,"RUBY_ENGINE","opal"),e.cdecl(t,"RUBY_VERSION","2.2.5"),e.cdecl(t,"RUBY_ENGINE_VERSION","0.10.2"),e.cdecl(t,"RUBY_RELEASE_DATE","2016-09-09"),e.cdecl(t,"RUBY_PATCHLEVEL",0),e.cdecl(t,"RUBY_REVISION",0),e.cdecl(t,"RUBY_COPYRIGHT","opal - Copyright (C) 2013-2015 Adam Beynon"),e.cdecl(t,"RUBY_DESCRIPTION","opal "+t.get("RUBY_ENGINE_VERSION")+" ("+t.get("RUBY_RELEASE_DATE")+" revision "+t.get("RUBY_REVISION")+")")},Opal.modules["opal/base"]=function(e){var t=e.top;e.nil,e.breaker,e.slice;return e.add_stubs(["$require"]),t.$require("corelib/runtime"),t.$require("corelib/helpers"),t.$require("corelib/module"),t.$require("corelib/class"),t.$require("corelib/basic_object"),t.$require("corelib/kernel"),t.$require("corelib/error"),t.$require("corelib/constants")},Opal.modules["corelib/nil"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}var n=(e.top,e),$=e.nil,r=(e.breaker,e.slice,e.klass);return e.add_stubs(["$raise","$class","$new","$>","$length","$Rational"]),function(n,i){function l(){}var o,a,s,u,c,_,p,d,f,h,g,b,m,y,v,w,k,x,E=l=r(n,i,"NilClass",l),A=E.$$proto,O=E.$$scope;return A.$$meta=E,e.defn(E,"$!",o=function(){return!0},o.$$arity=0),e.defn(E,"$&",a=function(e){return!1},a.$$arity=1),e.defn(E,"$|",s=function(e){return e!==!1&&e!==$},s.$$arity=1),e.defn(E,"$^",u=function(e){return e!==!1&&e!==$},u.$$arity=1),e.defn(E,"$==",c=function(e){return e===$},c.$$arity=1),e.defn(E,"$dup",_=function(){var e=this;return e.$raise(O.get("TypeError"),"can't dup "+e.$class())},_.$$arity=0),e.defn(E,"$clone",p=function(){var e=this;return e.$raise(O.get("TypeError"),"can't clone "+e.$class())},p.$$arity=0),e.defn(E,"$inspect",d=function(){return"nil"},d.$$arity=0),e.defn(E,"$nil?",f=function(){return!0},f.$$arity=0),e.defn(E,"$singleton_class",h=function(){return O.get("NilClass")},h.$$arity=0),e.defn(E,"$to_a",g=function(){return[]},g.$$arity=0),e.defn(E,"$to_h",b=function(){return e.hash()},b.$$arity=0),e.defn(E,"$to_i",m=function(){return 0},m.$$arity=0),e.alias(E,"to_f","to_i"),e.defn(E,"$to_s",y=function(){return""},y.$$arity=0),e.defn(E,"$to_c",v=function(){return O.get("Complex").$new(0,0)},v.$$arity=0),e.defn(E,"$rationalize",w=function(e){var n,r,i=this,l=arguments.length,o=l-0;o<0&&(o=0),r=new Array(o);for(var a=0;a<l;a++)r[a-0]=arguments[a];return(n=t(r.$length(),1))===$||null==n||n.$$is_boolean&&1!=n||i.$raise(O.get("ArgumentError")),i.$Rational(0,1)},w.$$arity=-1),e.defn(E,"$to_r",k=function(){var e=this;return e.$Rational(0,1)},k.$$arity=0),e.defn(E,"$instance_variables",x=function(){return[]},x.$$arity=0),$&&"instance_variables"}(n.base,null),e.cdecl(n,"NIL",$)},Opal.modules["corelib/boolean"]=function(e){var t=(e.top,e),n=e.nil,$=(e.breaker,e.slice,e.klass);return e.add_stubs(["$raise","$class"]),function(t,r){function i(){}var l,o,a,s,u,c,_,p,d,f,h=i=$(t,r,"Boolean",i),g=h.$$proto,b=h.$$scope;return g.$$is_boolean=!0,g.$$meta=h,e.defn(h,"$__id__",l=function(){var e=this;return e.valueOf()?2:0},l.$$arity=0),e.alias(h,"object_id","__id__"),e.defn(h,"$!",o=function(){var e=this;return 1!=e},o.$$arity=0),e.defn(h,"$&",a=function(e){var t=this;return 1==t&&(e!==!1&&e!==n)},a.$$arity=1),e.defn(h,"$|",s=function(e){var t=this;return 1==t||e!==!1&&e!==n},s.$$arity=1),e.defn(h,"$^",u=function(e){var t=this;return 1==t?e===!1||e===n:e!==!1&&e!==n},u.$$arity=1),e.defn(h,"$==",c=function(e){var t=this;return 1==t===e.valueOf()},c.$$arity=1),e.alias(h,"equal?","=="),e.alias(h,"eql?","=="),e.defn(h,"$singleton_class",_=function(){return b.get("Boolean")},_.$$arity=0),e.defn(h,"$to_s",p=function(){var e=this;return 1==e?"true":"false"},p.$$arity=0),e.defn(h,"$dup",d=function(){var e=this;return e.$raise(b.get("TypeError"),"can't dup "+e.$class())},d.$$arity=0),e.defn(h,"$clone",f=function(){var e=this;return e.$raise(b.get("TypeError"),"can't clone "+e.$class())},f.$$arity=0),n&&"clone"}(t.base,Boolean),e.cdecl(t,"TrueClass",t.get("Boolean")),e.cdecl(t,"FalseClass",t.get("Boolean")),e.cdecl(t,"TRUE",!0),e.cdecl(t,"FALSE",!1)},Opal.modules["corelib/comparable"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}var $=(e.top,e),r=e.nil,i=(e.breaker,e.slice,e.module);return e.add_stubs(["$===","$>","$<","$equal?","$<=>","$normalize","$raise","$class"]),function($){var l,o,a,s,u,c,_,p,d=l=i($,"Comparable"),f=(d.$$proto,d.$$scope);e.defs(d,"$normalize",o=function(e){var $;return($=f.get("Integer")["$==="](e))===r||null==$||$.$$is_boolean&&1!=$?($=t(e,0))===r||null==$||$.$$is_boolean&&1!=$?($=n(e,0))===r||null==$||$.$$is_boolean&&1!=$?0:-1:1:e},o.$$arity=1),e.defn(d,"$==",a=function(t){var n,$=this,i=r;try{return!((n=$["$equal?"](t))===r||null==n||n.$$is_boolean&&1!=n)||$["$<=>"]!=e.Kernel["$<=>"]&&($.$$comparable?(delete $.$$comparable,!1):!((n=i=$["$<=>"](t))===r||null==n||n.$$is_boolean&&1!=n)&&0==f.get("Comparable").$normalize(i))}catch(t){if(!e.rescue(t,[f.get("StandardError")]))throw t;try{return!1}finally{e.pop_exception()}}},a.$$arity=1),e.defn(d,"$>",s=function(e){var t,n=this,$=r;return((t=$=n["$<=>"](e))===r||null==t||t.$$is_boolean&&1!=t)&&n.$raise(f.get("ArgumentError"),"comparison of "+n.$class()+" with "+e.$class()+" failed"),f.get("Comparable").$normalize($)>0},s.$$arity=1),e.defn(d,"$>=",u=function(e){var t,n=this,$=r;return((t=$=n["$<=>"](e))===r||null==t||t.$$is_boolean&&1!=t)&&n.$raise(f.get("ArgumentError"),"comparison of "+n.$class()+" with "+e.$class()+" failed"),f.get("Comparable").$normalize($)>=0},u.$$arity=1),e.defn(d,"$<",c=function(e){var t,n=this,$=r;return((t=$=n["$<=>"](e))===r||null==t||t.$$is_boolean&&1!=t)&&n.$raise(f.get("ArgumentError"),"comparison of "+n.$class()+" with "+e.$class()+" failed"),f.get("Comparable").$normalize($)<0},c.$$arity=1),e.defn(d,"$<=",_=function(e){var t,n=this,$=r;return((t=$=n["$<=>"](e))===r||null==t||t.$$is_boolean&&1!=t)&&n.$raise(f.get("ArgumentError"),"comparison of "+n.$class()+" with "+e.$class()+" failed"),f.get("Comparable").$normalize($)<=0},_.$$arity=1),e.defn(d,"$between?",p=function(e,$){var r=this;return!n(r,e)&&!t(r,$)},p.$$arity=2)}($.base)},Opal.modules["corelib/regexp"]=function(e){var t=(e.top,e),n=e.nil,$=(e.breaker,e.slice,e.klass),r=e.gvars;return e.add_stubs(["$nil?","$[]","$raise","$escape","$options","$to_str","$new","$join","$coerce_to!","$!","$match","$coerce_to?","$begin","$coerce_to","$call","$=~","$attr_reader","$===","$inspect","$to_a"]),function(e,t){function r(){}var i=r=$(e,t,"RegexpError",r);i.$$proto,i.$$scope;return n}(t.base,t.get("StandardError")),function(t,i){function l(){}var o,a,s,u,c,_,p,d,f,h,g=l=$(t,i,"Regexp",l),b=g.$$proto,m=g.$$scope;return e.cdecl(m,"IGNORECASE",1),e.cdecl(m,"MULTILINE",4),b.$$is_regexp=!0,function(t){var $,i,l,o,a,s=t.$$scope;t.$$proto;return e.defn(t,"$allocate",$=function(){var t,r,i=this,l=$.$$p,o=n,a=n,s=n;for($.$$p=null,a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return o=(r=i,t=e.find_super_dispatcher(i,"allocate",$,!1),t.$$p=l,t).apply(r,a),o.uninitialized=!0,o},$.$$arity=0),e.defn(t,"$escape",i=function(e){return e.replace(/([-[\]\/{}()*+?.^$\\| ])/g,"\\$1").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\f]/g,"\\f").replace(/[\t]/g,"\\t")},i.$$arity=1),e.defn(t,"$last_match",l=function(e){var t;return null==r["~"]&&(r["~"]=n),null==e&&(e=n),(t=e["$nil?"]())===n||null==t||t.$$is_boolean&&1!=t?r["~"]["$[]"](e):r["~"]},l.$$arity=-1),e.alias(t,"quote","escape"),e.defn(t,"$union",o=function(e){var t,n=this,$=arguments.length,r=$-0;r<0&&(r=0),t=new Array(r);for(var i=0;i<$;i++)t[i-0]=arguments[i];var l,o,a,u,c;if(0==t.length)return/(?!)/;l=t[0].$$is_array,t.length>1&&l&&n.$raise(s.get("TypeError"),"no implicit conversion of Array into String"),l&&(t=t[0]),u=void 0,o=[];for(var _=0;_<t.length;_++)a=t[_],a.$$is_string?o.push(n.$escape(a)):a.$$is_regexp?(c=a.$options(),void 0!=u&&u!=c&&n.$raise(s.get("TypeError"),"All expressions must use the same options"),u=c,o.push("("+a.source+")")):o.push(n.$escape(a.$to_str()));return n.$new(o.$join("|"),u)},o.$$arity=-1),e.defn(t,"$new",a=function(e,t){var n=this;if(e.$$is_regexp)return new RegExp(e);if(e=s.get("Opal")["$coerce_to!"](e,s.get("String"),"to_str"),"\\"===e.charAt(e.length-1)&&"\\"!==e.charAt(e.length-2)&&n.$raise(s.get("RegexpError"),"too short escape sequence: /"+e+"/"),void 0===t||t["$!"]())return new RegExp(e);if(t.$$is_number){var $="";s.get("IGNORECASE")&t&&($+="i"),s.get("MULTILINE")&t&&($+="m"),t=$}else t="i";return new RegExp(e,t)},a.$$arity=-2),n&&"new"}(e.get_singleton_class(g)),e.defn(g,"$==",o=function(e){var t=this;return e.constructor==RegExp&&t.toString()===e.toString()},o.$$arity=1),e.defn(g,"$===",a=function(e){var t=this;return t.$match(m.get("Opal")["$coerce_to?"](e,m.get("String"),"to_str"))!==n},a.$$arity=1),e.defn(g,"$=~",s=function(e){var t,$=this;return null==r["~"]&&(r["~"]=n),t=$.$match(e),t!==!1&&t!==n&&null!=t?r["~"].$begin(0):t},s.$$arity=1),e.alias(g,"eql?","=="),e.defn(g,"$inspect",u=function(){var e=this;return e.toString()},u.$$arity=0),e.defn(g,"$match",c=function(e,t){var $=this,i=c.$$p,l=i||n;if(null==r["~"]&&(r["~"]=n),c.$$p=null,$.uninitialized&&$.$raise(m.get("TypeError"),"uninitialized Regexp"),t=void 0===t?0:m.get("Opal").$coerce_to(t,m.get("Integer"),"to_int"),e===n)return r["~"]=n;if(e=m.get("Opal").$coerce_to(e,m.get("String"),"to_str"),t<0&&(t+=e.length,t<0))return r["~"]=n;var o=$.source,a="g";$.multiline&&(o=o.replace(".","[\\s\\S]"),a+="m");for(var s,u=new RegExp(o,a+($.ignoreCase?"i":""));;){if(s=u.exec(e),null===s)return r["~"]=n;if(s.index>=t)return r["~"]=m.get("MatchData").$new(u,s),l===n?r["~"]:l.$call(r["~"]);u.lastIndex=s.index+1}},c.$$arity=-2),e.defn(g,"$~",_=function(){var e=this;return null==r._&&(r._=n),e["$=~"](r._)},_.$$arity=0),e.defn(g,"$source",p=function(){var e=this;return e.source},p.$$arity=0),e.defn(g,"$options",d=function(){var e=this;e.uninitialized&&e.$raise(m.get("TypeError"),"uninitialized Regexp");var t=0;return e.multiline&&(t|=m.get("MULTILINE")),e.ignoreCase&&(t|=m.get("IGNORECASE")),t},d.$$arity=0),e.defn(g,"$casefold?",f=function(){var e=this;return e.ignoreCase},f.$$arity=0),e.alias(g,"to_s","source"),e.defs(g,"$_load",h=function(t){var n,$=this;return(n=$).$new.apply(n,e.to_a(t))},h.$$arity=1),n&&"_load"}(t.base,RegExp),function(t,i){function l(){}var o,a,s,u,c,_,p,d,f,h,g,b,m=l=$(t,i,"MatchData",l),y=m.$$proto,v=m.$$scope;return y.matches=n,m.$attr_reader("post_match","pre_match","regexp","string"),e.defn(m,"$initialize",o=function(e,t){var $=this;r["~"]=$,$.regexp=e,$.begin=t.index,$.string=t.input,$.pre_match=t.input.slice(0,t.index),$.post_match=t.input.slice(t.index+t[0].length),$.matches=[];for(var i=0,l=t.length;i<l;i++){var o=t[i];null==o?$.matches.push(n):$.matches.push(o)}},o.$$arity=2),e.defn(m,"$[]",a=function(t){var n,$,r=this,i=arguments.length,l=i-0;l<0&&(l=0),$=new Array(l);for(var o=0;o<i;o++)$[o-0]=arguments[o];return(n=r.matches)["$[]"].apply(n,e.to_a($))},a.$$arity=-1),e.defn(m,"$offset",s=function(e){var t=this;return 0!==e&&t.$raise(v.get("ArgumentError"),"MatchData#offset only supports 0th element"),[t.begin,t.begin+t.matches[e].length]},s.$$arity=1),e.defn(m,"$==",u=function(e){var t,$,r,i,l=this;return!((t=v.get("MatchData")["$==="](e))===n||null==t||t.$$is_boolean&&1!=t)&&(i=l.string==e.string,r=i!==!1&&i!==n&&null!=i?l.regexp.toString()==e.regexp.toString():i,$=r!==!1&&r!==n&&null!=r?l.pre_match==e.pre_match:r,t=$!==!1&&$!==n&&null!=$?l.post_match==e.post_match:$,t!==!1&&t!==n&&null!=t?l.begin==e.begin:t)},u.$$arity=1),e.alias(m,"eql?","=="),e.defn(m,"$begin",c=function(e){var t=this;return 0!==e&&t.$raise(v.get("ArgumentError"),"MatchData#begin only supports 0th element"),t.begin},c.$$arity=1),e.defn(m,"$end",_=function(e){var t=this;return 0!==e&&t.$raise(v.get("ArgumentError"),"MatchData#end only supports 0th element"),t.begin+t.matches[e].length},_.$$arity=1),e.defn(m,"$captures",p=function(){var e=this;return e.matches.slice(1)},p.$$arity=0),e.defn(m,"$inspect",d=function(){for(var e=this,t="#<MatchData "+e.matches[0].$inspect(),n=1,$=e.matches.length;n<$;n++)t+=" "+n+":"+e.matches[n].$inspect();return t+">"},d.$$arity=0),e.defn(m,"$length",f=function(){var e=this;return e.matches.length},f.$$arity=0),e.alias(m,"size","length"),e.defn(m,"$to_a",h=function(){var e=this;return e.matches},h.$$arity=0),e.defn(m,"$to_s",g=function(){var e=this;return e.matches[0]},g.$$arity=0),e.defn(m,"$values_at",b=function(e){var t,$=this,r=arguments.length,i=r-0;i<0&&(i=0),t=new Array(i);for(var l=0;l<r;l++)t[l-0]=arguments[l];var o,a,s,u=[];for(o=0;o<t.length;o++)t[o].$$is_range&&(a=t[o].$to_a(),a.unshift(o,1),Array.prototype.splice.apply(t,a)),s=v.get("Opal")["$coerce_to!"](t[o],v.get("Integer"),"to_int"),s<0&&(s+=$.matches.length,s<0)?u.push(n):u.push($.matches[s]);return u},b.$$arity=-1),n&&"values_at"}(t.base,null)},Opal.modules["corelib/string"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e/t:e["$/"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var $=e.top,r=e,i=e.nil,l=(e.breaker,e.slice,e.klass),o=e.gvars;return e.add_stubs(["$require","$include","$coerce_to?","$coerce_to","$raise","$===","$format","$to_s","$respond_to?","$to_str","$<=>","$==","$=~","$new","$empty?","$ljust","$ceil","$/","$+","$rjust","$floor","$to_a","$each_char","$to_proc","$coerce_to!","$copy_singleton_methods","$initialize_clone","$initialize_dup","$enum_for","$size","$chomp","$[]","$to_i","$each_line","$class","$match","$captures","$proc","$shift","$__send__","$succ","$escape"]),$.$require("corelib/comparable"),$.$require("corelib/regexp"),function($,r){function a(){}function s(e){function t(e){var t,n,$,r,i,l,o="",a=e.length;for(t=0;t<a;t++)if(n=e.charAt(t),"-"===n&&t>0&&t<a-1&&!$){for(r=e.charCodeAt(t-1),i=e.charCodeAt(t+1),r>i&&we.$raise(xe.get("ArgumentError"),'invalid range "'+r+"-"+i+'" in string transliteration'),l=r+1;l<i+1;l++)o+=String.fromCharCode(l);$=!0,t++}else $="\\"===n,o+=n;return o}function n(e,t){if(0===e.length)return t;var n,$,r="",i=e.length;for(n=0;n<i;n++)$=e.charAt(n),t.indexOf($)!==-1&&(r+=$);return r}var $,r,i,l,o,a,s="",u="";for($=0,r=e.length;$<r;$++)i=xe.get("Opal").$coerce_to(e[$],xe.get("String"),"to_str"),l="^"===i.charAt(0)&&i.length>1,i=t(l?i.slice(1):i),l?u=n(u,i):s=n(s,i);if(s.length>0&&u.length>0){for(a="",$=0,r=s.length;$<r;$++)o=s.charAt($),u.indexOf(o)===-1&&(a+=o);s=a,u=""}return s.length>0?"["+xe.get("Regexp").$escape(s)+"]":u.length>0?"[^"+xe.get("Regexp").$escape(u)+"]":null}var u,c,_,p,d,f,h,g,b,m,y,v,w,k,x,E,A,O,S,R,T,I,C,N,M,L,z,P,D,B,q,j,F,U,G,H,Y,K,W,X,V,J,Z,Q,ee,te,ne,$e,re,ie,le,oe,ae,se,ue,ce,_e,pe,de,fe,he,ge,be,me,ye,ve,we=a=l($,r,"String",a),ke=we.$$proto,xe=we.$$scope;return ke.length=i,we.$include(xe.get("Comparable")),ke.$$is_string=!0,e.defn(we,"$__id__",u=function(){var e=this;return e.toString()},u.$$arity=0),e.alias(we,"object_id","__id__"),e.defs(we,"$try_convert",c=function(e){return xe.get("Opal")["$coerce_to?"](e,xe.get("String"),"to_str")},c.$$arity=1),e.defs(we,"$new",_=function(e){return null==e&&(e=""),e=xe.get("Opal").$coerce_to(e,xe.get("String"),"to_str"),new String(e)},_.$$arity=-1),e.defn(we,"$initialize",p=function(e){var t=this;return void 0===e?t:t.$raise(xe.get("NotImplementedError"),"Mutable strings are not supported in Opal.")},p.$$arity=-1),e.defn(we,"$%",d=function(t){var n,$=this;return(n=xe.get("Array")["$==="](t))===i||null==n||n.$$is_boolean&&1!=n?$.$format($,t):(n=$).$format.apply(n,[$].concat(e.to_a(t)))},d.$$arity=1),e.defn(we,"$*",f=function(e){var t=this;if(e=xe.get("Opal").$coerce_to(e,xe.get("Integer"),"to_int"),e<0&&t.$raise(xe.get("ArgumentError"),"negative argument"),0===e)return"";var n="",$=t.toString();for($.length*e>=1<<28&&t.$raise(xe.get("RangeError"),"multiply count must not overflow maximum string size");1===(1&e)&&(n+=$),e>>>=1,0!==e;)$+=$;return n},f.$$arity=1),e.defn(we,"$+",h=function(e){var t=this;return e=xe.get("Opal").$coerce_to(e,xe.get("String"),"to_str"),t+e.$to_s()},h.$$arity=1),e.defn(we,"$<=>",g=function(e){var t,n=this;if((t=e["$respond_to?"]("to_str"))===i||null==t||t.$$is_boolean&&1!=t){var $=e["$<=>"](n);return $===i?i:$>0?-1:$<0?1:0}return e=e.$to_str().$to_s(),n>e?1:n<e?-1:0},g.$$arity=1),e.defn(we,"$==",b=function(e){var t=this;return e.$$is_string?t.toString()===e.toString():!!xe.get("Opal")["$respond_to?"](e,"to_str")&&e["$=="](t)},b.$$arity=1),e.alias(we,"eql?","=="),e.alias(we,"===","=="),e.defn(we,"$=~",m=function(e){var t=this;return e.$$is_string&&t.$raise(xe.get("TypeError"),"type mismatch: String given"),e["$=~"](t)},m.$$arity=1),e.defn(we,"$[]",y=function(e,t){var n,$=this,r=$.length;if(e.$$is_range)return n=e.exclude,t=xe.get("Opal").$coerce_to(e.end,xe.get("Integer"),"to_int"),e=xe.get("Opal").$coerce_to(e.begin,xe.get("Integer"),"to_int"),Math.abs(e)>r?i:(e<0&&(e+=r),t<0&&(t+=r),n||(t+=1),t-=e,t<0&&(t=0),$.substr(e,t));if(e.$$is_string)return null!=t&&$.$raise(xe.get("TypeError")),$.indexOf(e)!==-1?e:i;if(e.$$is_regexp){var l=$.match(e);return null===l?(o["~"]=i,i):(o["~"]=xe.get("MatchData").$new(e,l),null==t?l[0]:(t=xe.get("Opal").$coerce_to(t,xe.get("Integer"),"to_int"),t<0&&-t<l.length?l[t+=l.length]:t>=0&&t<l.length?l[t]:i))}return e=xe.get("Opal").$coerce_to(e,xe.get("Integer"),"to_int"),e<0&&(e+=r),null==t?e>=r||e<0?i:$.substr(e,1):(t=xe.get("Opal").$coerce_to(t,xe.get("Integer"),"to_int"),t<0?i:e>r||e<0?i:$.substr(e,t))},y.$$arity=-2),e.alias(we,"byteslice","[]"),e.defn(we,"$capitalize",v=function(){var e=this;return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()},v.$$arity=0),e.defn(we,"$casecmp",w=function(e){var t=this;e=xe.get("Opal").$coerce_to(e,xe.get("String"),"to_str").$to_s();var n=/^[\x00-\x7F]*$/;return n.test(t)&&n.test(e)&&(t=t.toLowerCase(),e=e.toLowerCase()),t["$<=>"](e)},w.$$arity=1),e.defn(we,"$center",k=function(e,$){var r,l=this;if(null==$&&($=" "),e=xe.get("Opal").$coerce_to(e,xe.get("Integer"),"to_int"),$=xe.get("Opal").$coerce_to($,xe.get("String"),"to_str").$to_s(),(r=$["$empty?"]())===i||null==r||r.$$is_boolean&&1!=r||l.$raise(xe.get("ArgumentError"),"zero width padding"),(r=e<=l.length)!==i&&null!=r&&(!r.$$is_boolean||1==r))return l;var o=l.$ljust(t(n(e,l.length),2).$ceil(),$),a=l.$rjust(t(n(e,l.length),2).$floor(),$);return a+o.slice(l.length)},k.$$arity=-2),e.defn(we,"$chars",x=function(){var e,t,n=this,$=x.$$p,r=$||i;return x.$$p=null,r===!1||r===i||null==r?n.$each_char().$to_a():(e=(t=n).$each_char,e.$$p=r.$to_proc(),e).call(t)},x.$$arity=0),e.defn(we,"$chomp",E=function(e){var t,n=this;if(null==o["/"]&&(o["/"]=i),null==e&&(e=o["/"]),(t=e===i||0===n.length)!==i&&null!=t&&(!t.$$is_boolean||1==t))return n;if(e=xe.get("Opal")["$coerce_to!"](e,xe.get("String"),"to_str").$to_s(),"\n"===e)return n.replace(/\r?\n?$/,"");if(""===e)return n.replace(/(\r?\n)+$/,"");if(n.length>e.length){var $=n.substr(n.length-e.length,e.length);if($===e)return n.substr(0,n.length-e.length)}return n},E.$$arity=-1),e.defn(we,"$chop",A=function(){var e=this,t=e.length;return t<=1?"":"\n"===e.charAt(t-1)&&"\r"===e.charAt(t-2)?e.substr(0,t-2):e.substr(0,t-1)},A.$$arity=0),e.defn(we,"$chr",O=function(){var e=this;return e.charAt(0)},O.$$arity=0),e.defn(we,"$clone",S=function(){var e=this,t=i;return t=e.slice(),t.$copy_singleton_methods(e),t.$initialize_clone(e),t},S.$$arity=0),e.defn(we,"$dup",R=function(){var e=this,t=i;return t=e.slice(),t.$initialize_dup(e),t},R.$$arity=0),e.defn(we,"$count",T=function(e){var t,n=this,$=arguments.length,r=$-0;r<0&&(r=0),t=new Array(r);for(var i=0;i<$;i++)t[i-0]=arguments[i];0===t.length&&n.$raise(xe.get("ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var l=s(t);return null===l?0:n.length-n.replace(new RegExp(l,"g"),"").length},T.$$arity=-1),e.defn(we,"$delete",I=function(e){var t,n=this,$=arguments.length,r=$-0;r<0&&(r=0),t=new Array(r);for(var i=0;i<$;i++)t[i-0]=arguments[i];0===t.length&&n.$raise(xe.get("ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var l=s(t);return null===l?n:n.replace(new RegExp(l,"g"),"")},I.$$arity=-1),e.defn(we,"$downcase",C=function(){var e=this;return e.toLowerCase()},C.$$arity=0),e.defn(we,"$each_char",N=function(){var t,n,$,r=this,l=N.$$p,o=l||i;if(N.$$p=null,o===i)return(t=(n=r).$enum_for,t.$$p=($=function(){var e=$.$$s||this;return e.$size()},$.$$s=r,$.$$arity=0,$),t).call(n,"each_char");for(var a=0,s=r.length;a<s;a++)e.yield1(o,r.charAt(a));return r},N.$$arity=0),e.defn(we,"$each_line",M=function(t){var n=this,$=M.$$p,r=$||i;if(null==o["/"]&&(o["/"]=i),null==t&&(t=o["/"]),M.$$p=null,r===i)return n.$enum_for("each_line",t);if(t===i)return e.yield1(r,n),n;t=xe.get("Opal").$coerce_to(t,xe.get("String"),"to_str");var l,a,s,u,c,_,p;if(0===t.length){for(l=n.split(/(\n{2,})/),a=0,s=l.length;a<s;a+=2)(l[a]||l[a+1])&&e.yield1(r,(l[a]||"")+(l[a+1]||""));return n}for(c=n.$chomp(t),_=n.length!=c.length,p=c.split(t),a=0,u=p.length;a<u;a++)a<u-1||_?e.yield1(r,p[a]+t):e.yield1(r,p[a]);return n},M.$$arity=-1),e.defn(we,"$empty?",L=function(){var e=this;return 0===e.length},L.$$arity=0),e.defn(we,"$end_with?",z=function(e){var t,n=this,$=arguments.length,r=$-0;r<0&&(r=0),t=new Array(r);for(var i=0;i<$;i++)t[i-0]=arguments[i];for(var l=0,o=t.length;l<o;l++){var a=xe.get("Opal").$coerce_to(t[l],xe.get("String"),"to_str").$to_s();if(n.length>=a.length&&n.substr(n.length-a.length,a.length)==a)return!0}return!1},z.$$arity=-1),e.alias(we,"eql?","=="),e.alias(we,"equal?","==="),e.defn(we,"$gsub",P=function(e,t){var n=this,$=P.$$p,r=$||i;if(P.$$p=null,void 0===t&&r===i)return n.$enum_for("gsub",e);var l,a,s="",u=i,c=0;for(e.$$is_regexp?e=new RegExp(e.source,"gm"+(e.ignoreCase?"i":"")):(e=xe.get("Opal").$coerce_to(e,xe.get("String"),"to_str"),e=new RegExp(e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));;){if(l=e.exec(n),null===l){o["~"]=i,s+=n.slice(c);break}u=xe.get("MatchData").$new(e,l),void 0===t?a=r(l[0]):t.$$is_hash?a=t["$[]"](l[0]).$to_s():(t.$$is_string||(t=xe.get("Opal").$coerce_to(t,xe.get("String"),"to_str")),a=t.replace(/([\\]+)([0-9+&`'])/g,function(e,t,$){if(t.length%2===0)return e;switch($){case"+":for(var r=l.length-1;r>0;r--)if(void 0!==l[r])return t.slice(1)+l[r];return"";case"&":return t.slice(1)+l[0];case"`":return t.slice(1)+n.slice(0,l.index);case"'":return t.slice(1)+n.slice(l.index+l[0].length);default:return t.slice(1)+(l[$]||"")}}).replace(/\\\\/g,"\\")),e.lastIndex===l.index?(s+=a+n.slice(c,l.index+1),e.lastIndex+=1):s+=n.slice(c,l.index)+a,c=e.lastIndex}return o["~"]=u,s},P.$$arity=-2),e.defn(we,"$hash",D=function(){var e=this;return e.toString()},D.$$arity=0),e.defn(we,"$hex",B=function(){var e=this;return e.$to_i(16)},B.$$arity=0),e.defn(we,"$include?",q=function(e){var t=this;return e.$$is_string||(e=xe.get("Opal").$coerce_to(e,xe.get("String"),"to_str")),t.indexOf(e)!==-1},q.$$arity=1),e.defn(we,"$index",j=function(e,t){var n,$,r,l=this;if(void 0===t)t=0;else if(t=xe.get("Opal").$coerce_to(t,xe.get("Integer"),"to_int"),t<0&&(t+=l.length,t<0))return i;if(e.$$is_regexp)for(r=new RegExp(e.source,"gm"+(e.ignoreCase?"i":""));;){if($=r.exec(l),null===$){o["~"]=i,n=-1;break}if($.index>=t){o["~"]=xe.get("MatchData").$new(r,$),n=$.index;break}r.lastIndex=$.index+1}else e=xe.get("Opal").$coerce_to(e,xe.get("String"),"to_str"),n=0===e.length&&t>l.length?-1:l.indexOf(e,t);return n===-1?i:n},j.$$arity=-2),e.defn(we,"$inspect",F=function(){var e=this,t=/[\\\"\x00-\x1f\x7f-\x9f\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n={"":"\\a","":"\\e","\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\v":"\\v",'"':'\\"',"\\":"\\\\"},$=e.replace(t,function(e){return n[e]||"\\u"+("0000"+e.charCodeAt(0).toString(16).toUpperCase()).slice(-4)});return'"'+$.replace(/\#[\$\@\{]/g,"\\$&")+'"'},F.$$arity=0),e.defn(we,"$intern",U=function(){var e=this;return e},U.$$arity=0),e.defn(we,"$lines",G=function(e){var t,n,$=this,r=G.$$p,l=r||i,a=i;return null==o["/"]&&(o["/"]=i),null==e&&(e=o["/"]),G.$$p=null,a=(t=(n=$).$each_line,t.$$p=l.$to_proc(),t).call(n,e),l!==!1&&l!==i&&null!=l?$:a.$to_a()},G.$$arity=-1),e.defn(we,"$length",H=function(){var e=this;return e.length},H.$$arity=0),e.defn(we,"$ljust",Y=function(e,t){var n,$=this;if(null==t&&(t=" "),e=xe.get("Opal").$coerce_to(e,xe.get("Integer"),"to_int"),t=xe.get("Opal").$coerce_to(t,xe.get("String"),"to_str").$to_s(),(n=t["$empty?"]())===i||null==n||n.$$is_boolean&&1!=n||$.$raise(xe.get("ArgumentError"),"zero width padding"),(n=e<=$.length)!==i&&null!=n&&(!n.$$is_boolean||1==n))return $;var r=-1,l="";for(e-=$.length;++r<e;)l+=t;return $+l.slice(0,e)},Y.$$arity=-2),e.defn(we,"$lstrip",K=function(){var e=this;return e.replace(/^\s*/,"")},K.$$arity=0),e.defn(we,"$match",W=function(e,t){var n,$,r=this,l=W.$$p,o=l||i;return W.$$p=null,(n=($=xe.get("String")["$==="](e))!==!1&&$!==i&&null!=$?$:e["$respond_to?"]("to_str"))===i||null==n||n.$$is_boolean&&1!=n||(e=xe.get("Regexp").$new(e.$to_str())),((n=xe.get("Regexp")["$==="](e))===i||null==n||n.$$is_boolean&&1!=n)&&r.$raise(xe.get("TypeError"),"wrong argument type "+e.$class()+" (expected Regexp)"),(n=($=e).$match,n.$$p=o.$to_proc(),n).call($,r,t)},W.$$arity=-2),e.defn(we,"$next",X=function(){var e=this,t=e.length;if(0===t)return"";for(var n,$=e,r=e.search(/[a-zA-Z0-9]/),i=!1;t--;){if(n=e.charCodeAt(t),n>=48&&n<=57||n>=65&&n<=90||n>=97&&n<=122)switch(n){case 57:i=!0,n=48;break;case 90:i=!0,n=65;break;case 122:i=!0,n=97;break;default:i=!1,n+=1}else r===-1?255===n?(i=!0,n=0):(i=!1,n+=1):i=!0;if($=$.slice(0,t)+String.fromCharCode(n)+$.slice(t+1),i&&(0===t||t===r)){switch(n){case 65:break;case 97:break;default:n+=1}$=0===t?String.fromCharCode(n)+$:$.slice(0,t)+String.fromCharCode(n)+$.slice(t),i=!1}if(!i)break}return $},X.$$arity=0),e.defn(we,"$oct",V=function(){var e,t=this,n=t,$=8;return/^\s*_/.test(n)?0:(n=n.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/i,function(e,t,n,r){switch(r.charAt(0)){case"+":case"-":return e;case"0":if("x"===r.charAt(1)&&"0x"===n)return e}switch(n){case"0b":$=2;break;case"0":case"0o":$=8;break;case"0d":$=10;break;case"0x":$=16}return t+r}),e=parseInt(n.replace(/_(?!_)/g,""),$),isNaN(e)?0:e)},V.$$arity=0),e.defn(we,"$ord",J=function(){var e=this;return e.charCodeAt(0)},J.$$arity=0),e.defn(we,"$partition",Z=function(e){var t,n,$=this;return e.$$is_regexp?(n=e.exec($),null===n?t=-1:(xe.get("MatchData").$new(e,n),e=n[0],t=n.index)):(e=xe.get("Opal").$coerce_to(e,xe.get("String"),"to_str"),t=$.indexOf(e)),t===-1?[$,"",""]:[$.slice(0,t),$.slice(t,t+e.length),$.slice(t+e.length)]},Z.$$arity=1),e.defn(we,"$reverse",Q=function(){var e=this;return e.split("").reverse().join("")},Q.$$arity=0),e.defn(we,"$rindex",ee=function(e,t){var n,$,r,l,a=this;if(void 0===t)t=a.length;else if(t=xe.get("Opal").$coerce_to(t,xe.get("Integer"),"to_int"),t<0&&(t+=a.length,t<0))return i;if(e.$$is_regexp){for($=null,r=new RegExp(e.source,"gm"+(e.ignoreCase?"i":""));;){if(l=r.exec(a),null===l||l.index>t)break;
$=l,r.lastIndex=$.index+1}null===$?(o["~"]=i,n=-1):(xe.get("MatchData").$new(r,$),n=$.index)}else e=xe.get("Opal").$coerce_to(e,xe.get("String"),"to_str"),n=a.lastIndexOf(e,t);return n===-1?i:n},ee.$$arity=-2),e.defn(we,"$rjust",te=function(e,t){var n,$=this;if(null==t&&(t=" "),e=xe.get("Opal").$coerce_to(e,xe.get("Integer"),"to_int"),t=xe.get("Opal").$coerce_to(t,xe.get("String"),"to_str").$to_s(),(n=t["$empty?"]())===i||null==n||n.$$is_boolean&&1!=n||$.$raise(xe.get("ArgumentError"),"zero width padding"),(n=e<=$.length)!==i&&null!=n&&(!n.$$is_boolean||1==n))return $;var r=Math.floor(e-$.length),l=Math.floor(r/t.length),o=Array(l+1).join(t),a=r-o.length;return o+t.slice(0,a)+$},te.$$arity=-2),e.defn(we,"$rpartition",ne=function(e){var t,n,$,r,i=this;if(e.$$is_regexp){for(n=null,$=new RegExp(e.source,"gm"+(e.ignoreCase?"i":""));;){if(r=$.exec(i),null===r)break;n=r,$.lastIndex=n.index+1}null===n?t=-1:(xe.get("MatchData").$new($,n),e=n[0],t=n.index)}else e=xe.get("Opal").$coerce_to(e,xe.get("String"),"to_str"),t=i.lastIndexOf(e);return t===-1?["","",i]:[i.slice(0,t),i.slice(t,t+e.length),i.slice(t+e.length)]},ne.$$arity=1),e.defn(we,"$rstrip",$e=function(){var e=this;return e.replace(/[\s\u0000]*$/,"")},$e.$$arity=0),e.defn(we,"$scan",re=function(e){var t=this,n=re.$$p,$=n||i;re.$$p=null;var r,l=[],a=i;for(e.$$is_regexp?e=new RegExp(e.source,"gm"+(e.ignoreCase?"i":"")):(e=xe.get("Opal").$coerce_to(e,xe.get("String"),"to_str"),e=new RegExp(e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));null!=(r=e.exec(t));)a=xe.get("MatchData").$new(e,r),$===i?1==r.length?l.push(r[0]):l.push(a.$captures()):1==r.length?$(r[0]):$.call(t,a.$captures()),e.lastIndex===r.index&&(e.lastIndex+=1);return o["~"]=a,$!==i?t:l},re.$$arity=1),e.alias(we,"size","length"),e.alias(we,"slice","[]"),e.defn(we,"$split",ie=function(e,t){var n,$=this;if(null==o[";"]&&(o[";"]=i),0===$.length)return[];if(void 0===t)t=0;else if(t=xe.get("Opal")["$coerce_to!"](t,xe.get("Integer"),"to_int"),1===t)return[$];void 0!==e&&e!==i||(e=(n=o[";"])!==!1&&n!==i&&null!=n?n:" ");var r,l,a=[],s=$.toString(),u=0;if(e.$$is_regexp?e=new RegExp(e.source,"gm"+(e.ignoreCase?"i":"")):(e=xe.get("Opal").$coerce_to(e,xe.get("String"),"to_str").$to_s()," "===e?(e=/\s+/gm,s=s.replace(/^\s+/,"")):e=new RegExp(e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm")),a=s.split(e),1===a.length&&a[0]===s)return a;for(;(l=a.indexOf(void 0))!==-1;)a.splice(l,1);if(0===t){for(;""===a[a.length-1];)a.length-=1;return a}if(r=e.exec(s),t<0){if(null!==r&&""===r[0]&&e.source.indexOf("(?=")===-1)for(l=0;l<r.length;l++)a.push("");return a}if(null!==r&&""===r[0])return a.splice(t-1,a.length-1,a.slice(t-1).join("")),a;if(t>=a.length)return a;for(l=0;null!==r&&(l++,u=e.lastIndex,l+1!==t);)r=e.exec(s);return a.splice(t-1,a.length-1,s.slice(u)),a},ie.$$arity=-1),e.defn(we,"$squeeze",le=function(e){var t,n=this,$=arguments.length,r=$-0;r<0&&(r=0),t=new Array(r);for(var i=0;i<$;i++)t[i-0]=arguments[i];if(0===t.length)return n.replace(/(.)\1+/g,"$1");var l=s(t);return null===l?n:n.replace(new RegExp("("+l+")\\1+","g"),"$1")},le.$$arity=-1),e.defn(we,"$start_with?",oe=function(e){var t,n=this,$=arguments.length,r=$-0;r<0&&(r=0),t=new Array(r);for(var i=0;i<$;i++)t[i-0]=arguments[i];for(var l=0,o=t.length;l<o;l++){var a=xe.get("Opal").$coerce_to(t[l],xe.get("String"),"to_str").$to_s();if(0===n.indexOf(a))return!0}return!1},oe.$$arity=-1),e.defn(we,"$strip",ae=function(){var e=this;return e.replace(/^\s*/,"").replace(/[\s\u0000]*$/,"")},ae.$$arity=0),e.defn(we,"$sub",se=function(e,t){var n=this,$=se.$$p,r=$||i;se.$$p=null,e.$$is_regexp||(e=xe.get("Opal").$coerce_to(e,xe.get("String"),"to_str"),e=new RegExp(e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")));var l=e.exec(n);return null===l?(o["~"]=i,n.toString()):(xe.get("MatchData").$new(e,l),void 0===t?(r===i&&n.$raise(xe.get("ArgumentError"),"wrong number of arguments (1 for 2)"),n.slice(0,l.index)+r(l[0])+n.slice(l.index+l[0].length)):t.$$is_hash?n.slice(0,l.index)+t["$[]"](l[0]).$to_s()+n.slice(l.index+l[0].length):(t=xe.get("Opal").$coerce_to(t,xe.get("String"),"to_str"),t=t.replace(/([\\]+)([0-9+&`'])/g,function(e,t,$){if(t.length%2===0)return e;switch($){case"+":for(var r=l.length-1;r>0;r--)if(void 0!==l[r])return t.slice(1)+l[r];return"";case"&":return t.slice(1)+l[0];case"`":return t.slice(1)+n.slice(0,l.index);case"'":return t.slice(1)+n.slice(l.index+l[0].length);default:return t.slice(1)+(l[$]||"")}}).replace(/\\\\/g,"\\"),n.slice(0,l.index)+t+n.slice(l.index+l[0].length)))},se.$$arity=-2),e.alias(we,"succ","next"),e.defn(we,"$sum",ue=function(e){var t=this;null==e&&(e=16),e=xe.get("Opal").$coerce_to(e,xe.get("Integer"),"to_int");for(var n=0,$=t.length,r=0;r<$;r++)n+=t.charCodeAt(r);return e<=0?n:n&Math.pow(2,e)-1},ue.$$arity=-1),e.defn(we,"$swapcase",ce=function(){var e=this,t=e.replace(/([a-z]+)|([A-Z]+)/g,function(e,t,n){return t?e.toUpperCase():e.toLowerCase()});return e.constructor===String?t:e.$class().$new(t)},ce.$$arity=0),e.defn(we,"$to_f",_e=function(){var e=this;if("_"===e.charAt(0))return 0;var t=parseFloat(e.replace(/_/g,""));return isNaN(t)||t==1/0||t==-(1/0)?0:t},_e.$$arity=0),e.defn(we,"$to_i",pe=function(e){var t=this;null==e&&(e=10);var n,$=t.toLowerCase(),r=xe.get("Opal").$coerce_to(e,xe.get("Integer"),"to_int");return(1===r||r<0||r>36)&&t.$raise(xe.get("ArgumentError"),"invalid radix "+r),/^\s*_/.test($)?0:($=$.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/,function(e,t,n,$){switch($.charAt(0)){case"+":case"-":return e;case"0":if("x"===$.charAt(1)&&"0x"===n&&(0===r||16===r))return e}switch(n){case"0b":if(0===r||2===r)return r=2,t+$;break;case"0":case"0o":if(0===r||8===r)return r=8,t+$;break;case"0d":if(0===r||10===r)return r=10,t+$;break;case"0x":if(0===r||16===r)return r=16,t+$}return e}),n=parseInt($.replace(/_(?!_)/g,""),r),isNaN(n)?0:n)},pe.$$arity=-1),e.defn(we,"$to_proc",de=function(){var t,n,$,r=this,l=i;return l=r,(t=(n=r).$proc,t.$$p=($=function(t){var n,r,o,a,s=$.$$s||this,u=i;n=$.$$p||i,$.$$p=null;var c=arguments.length,_=c-0;_<0&&(_=0),r=new Array(_);for(var p=0;p<c;p++)r[p-0]=arguments[p];return(o=r["$empty?"]())===i||null==o||o.$$is_boolean&&1!=o||s.$raise(xe.get("ArgumentError"),"no receiver given"),u=r.$shift(),(o=(a=u).$__send__,o.$$p=n.$to_proc(),o).apply(a,[l].concat(e.to_a(r)))},$.$$s=r,$.$$arity=-1,$),t).call(n)},de.$$arity=0),e.defn(we,"$to_s",fe=function(){var e=this;return e.toString()},fe.$$arity=0),e.alias(we,"to_str","to_s"),e.alias(we,"to_sym","intern"),e.defn(we,"$tr",he=function(e,t){var n=this;if(e=xe.get("Opal").$coerce_to(e,xe.get("String"),"to_str").$to_s(),t=xe.get("Opal").$coerce_to(t,xe.get("String"),"to_str").$to_s(),0==e.length||e===t)return n;var $,r,i,l,o,a,s,u={},c=e.split(""),_=c.length,p=t.split(""),d=p.length,f=!1,h=null;"^"===c[0]&&c.length>1&&(f=!0,c.shift(),h=p[d-1],_-=1);var g=[],b=null;for(r=!1,$=0;$<_;$++)if(l=c[$],null==b)b=l,g.push(l);else if("-"===l)"-"===b?(g.push("-"),g.push("-")):$==_-1?g.push("-"):r=!0;else if(r){for(o=b.charCodeAt(0),a=l.charCodeAt(0),o>a&&n.$raise(xe.get("ArgumentError"),'invalid range "'+String.fromCharCode(o)+"-"+String.fromCharCode(a)+'" in string transliteration'),i=o+1;i<a;i++)g.push(String.fromCharCode(i));g.push(l),r=null,b=null}else g.push(l);if(c=g,_=c.length,f)for($=0;$<_;$++)u[c[$]]=!0;else{if(d>0){var m=[],y=null;for(r=!1,$=0;$<d;$++)if(l=p[$],null==y)y=l,m.push(l);else if("-"===l)"-"===y?(m.push("-"),m.push("-")):$==d-1?m.push("-"):r=!0;else if(r){for(o=y.charCodeAt(0),a=l.charCodeAt(0),o>a&&n.$raise(xe.get("ArgumentError"),'invalid range "'+String.fromCharCode(o)+"-"+String.fromCharCode(a)+'" in string transliteration'),i=o+1;i<a;i++)m.push(String.fromCharCode(i));m.push(l),r=null,y=null}else m.push(l);p=m,d=p.length}var v=_-d;if(v>0){var w=d>0?p[d-1]:"";for($=0;$<v;$++)p.push(w)}for($=0;$<_;$++)u[c[$]]=p[$]}var k="";for($=0,s=n.length;$<s;$++){l=n.charAt($);var x=u[l];k+=f?null==x?h:l:null!=x?x:l}return k},he.$$arity=2),e.defn(we,"$tr_s",ge=function(e,t){var n=this;if(e=xe.get("Opal").$coerce_to(e,xe.get("String"),"to_str").$to_s(),t=xe.get("Opal").$coerce_to(t,xe.get("String"),"to_str").$to_s(),0==e.length)return n;var $,r,i,l,o,a,s,u={},c=e.split(""),_=c.length,p=t.split(""),d=p.length,f=!1,h=null;"^"===c[0]&&c.length>1&&(f=!0,c.shift(),h=p[d-1],_-=1);var g=[],b=null;for(r=!1,$=0;$<_;$++)if(l=c[$],null==b)b=l,g.push(l);else if("-"===l)"-"===b?(g.push("-"),g.push("-")):$==_-1?g.push("-"):r=!0;else if(r){for(o=b.charCodeAt(0),a=l.charCodeAt(0),o>a&&n.$raise(xe.get("ArgumentError"),'invalid range "'+String.fromCharCode(o)+"-"+String.fromCharCode(a)+'" in string transliteration'),i=o+1;i<a;i++)g.push(String.fromCharCode(i));g.push(l),r=null,b=null}else g.push(l);if(c=g,_=c.length,f)for($=0;$<_;$++)u[c[$]]=!0;else{if(d>0){var m=[],y=null;for(r=!1,$=0;$<d;$++)if(l=p[$],null==b)b=l,m.push(l);else if("-"===l)"-"===y?(m.push("-"),m.push("-")):$==d-1?m.push("-"):r=!0;else if(r){for(o=b.charCodeAt(0),a=l.charCodeAt(0),o>a&&n.$raise(xe.get("ArgumentError"),'invalid range "'+String.fromCharCode(o)+"-"+String.fromCharCode(a)+'" in string transliteration'),i=o+1;i<a;i++)m.push(String.fromCharCode(i));m.push(l),r=null,b=null}else m.push(l);p=m,d=p.length}var v=_-d;if(v>0){var w=d>0?p[d-1]:"";for($=0;$<v;$++)p.push(w)}for($=0;$<_;$++)u[c[$]]=p[$]}var k="",x=null;for($=0,s=n.length;$<s;$++){l=n.charAt($);var E=u[l];f?null==E?null==x&&(k+=h,x=!0):(k+=l,x=null):null!=E?null!=x&&x===E||(k+=E,x=E):(k+=l,x=null)}return k},ge.$$arity=2),e.defn(we,"$upcase",be=function(){var e=this;return e.toUpperCase()},be.$$arity=0),e.defn(we,"$upto",me=function(e,t){var n=this,$=me.$$p,r=$||i;if(null==t&&(t=!1),me.$$p=null,r===i)return n.$enum_for("upto",e,t);e=xe.get("Opal").$coerce_to(e,xe.get("String"),"to_str");var l,o,a=n.toString();if(1===a.length&&1===e.length)for(l=a.charCodeAt(0),o=e.charCodeAt(0);l<=o&&(!t||l!==o);)r(String.fromCharCode(l)),l+=1;else if(parseInt(a,10).toString()===a&&parseInt(e,10).toString()===e)for(l=parseInt(a,10),o=parseInt(e,10);l<=o&&(!t||l!==o);)r(l.toString()),l+=1;else for(;a.length<=e.length&&a<=e&&(!t||a!==e);)r(a),a=a.$succ();return n},me.$$arity=-2),e.defn(we,"$instance_variables",ye=function(){return[]},ye.$$arity=0),e.defs(we,"$_load",ve=function(t){var n,$,r=this,i=arguments.length,l=i-0;l<0&&(l=0),$=new Array(l);for(var o=0;o<i;o++)$[o-0]=arguments[o];return(n=r).$new.apply(n,e.to_a($))},ve.$$arity=-1),i&&"_load"}(r.base,String),e.cdecl(r,"Symbol",r.get("String"))},Opal.modules["corelib/enumerable"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function i(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function l(e,t){return"number"==typeof e&&"number"==typeof t?e/t:e["$/"](t)}var o=(e.top,e),a=e.nil,s=(e.breaker,e.slice,e.module);return e.add_stubs(["$each","$destructure","$raise","$new","$yield","$dup","$enum_for","$enumerator_size","$flatten","$map","$proc","$==","$nil?","$respond_to?","$coerce_to!","$>","$*","$coerce_to","$try_convert","$<","$+","$-","$to_enum","$ceil","$/","$size","$===","$<<","$[]","$[]=","$inspect","$__send__","$<=>","$first","$reverse","$sort","$to_proc","$compare","$call","$to_a","$lambda","$sort!","$map!","$zip"]),function(o){var u,c,_,p,d,f,h,g,b,m,y,v,w,k,x,E,A,O,S,R,T,I,C,N,M,L,z,P,D,B,q,j,F,U,G,H,Y,K,W,X,V,J,Z,Q=u=s(o,"Enumerable"),ee=(Q.$$proto,Q.$$scope);e.defn(Q,"$all?",c=function(){try{var t,n,$,r,i,l=this,o=c.$$p,s=o||a;return c.$$p=null,s!==a?(t=(n=l).$each,t.$$p=($=function(t){var n,r,i=($.$$s||this,arguments.length),l=i-0;l<0&&(l=0),n=new Array(l);for(var o=0;o<i;o++)n[o-0]=arguments[o];return(r=e.yieldX(s,e.to_a(n)))===a||null==r||r.$$is_boolean&&1!=r?void e.ret(!1):a},$.$$s=l,$.$$arity=-1,$),t).call(n):(t=(r=l).$each,t.$$p=(i=function(t){var n,$,r=(i.$$s||this,arguments.length),l=r-0;l<0&&(l=0),n=new Array(l);for(var o=0;o<r;o++)n[o-0]=arguments[o];return($=ee.get("Opal").$destructure(n))===a||null==$||$.$$is_boolean&&1!=$?void e.ret(!1):a},i.$$s=l,i.$$arity=-1,i),t).call(r),!0}catch(t){if(t===e.returner)return t.$v;throw t}},c.$$arity=0),e.defn(Q,"$any?",_=function(){try{var t,n,$,r,i,l=this,o=_.$$p,s=o||a;return _.$$p=null,s!==a?(t=(n=l).$each,t.$$p=($=function(t){var n,r,i=($.$$s||this,arguments.length),l=i-0;l<0&&(l=0),n=new Array(l);for(var o=0;o<i;o++)n[o-0]=arguments[o];return(r=e.yieldX(s,e.to_a(n)))===a||null==r||r.$$is_boolean&&1!=r?a:void e.ret(!0)},$.$$s=l,$.$$arity=-1,$),t).call(n):(t=(r=l).$each,t.$$p=(i=function(t){var n,$,r=(i.$$s||this,arguments.length),l=r-0;l<0&&(l=0),n=new Array(l);for(var o=0;o<r;o++)n[o-0]=arguments[o];return($=ee.get("Opal").$destructure(n))===a||null==$||$.$$is_boolean&&1!=$?a:void e.ret(!0)},i.$$s=l,i.$$arity=-1,i),t).call(r),!1}catch(t){if(t===e.returner)return t.$v;throw t}},_.$$arity=0),e.defn(Q,"$chunk",p=function(t){var n,$,r,i=this,l=p.$$p,o=l||a;return p.$$p=null,o!==!1&&o!==a&&null!=o||ee.get("Kernel").$raise(ee.get("ArgumentError"),"no block given"),(n=($=e.get("Enumerator")).$new,n.$$p=(r=function(n){function $(){p.length>0&&n.$yield(_,p)}var i,l,s,u=r.$$s||this;null==n&&(n=a);var c,_=a,p=[];c=void 0==t||t===a?o:(i=(l=ee.get("Proc")).$new,i.$$p=(s=function(e){s.$$s||this;return null==e&&(e=a),o.$yield(e,t.$dup())},s.$$s=u,s.$$arity=1,s),i).call(l),u.$each.$$p=function(t){var n=e.yield1(c,t);n===a?($(),p=[],_=a):(_===a||_===n?p.push(t):($(),p=[t]),_=n)},u.$each(),$()},r.$$s=i,r.$$arity=1,r),n).call($)},p.$$arity=-1),e.defn(Q,"$collect",d=function(){var t,n,$,r=this,i=d.$$p,l=i||a;if(d.$$p=null,l===a)return(t=(n=r).$enum_for,t.$$p=($=function(){var e=$.$$s||this;return e.$enumerator_size()},$.$$s=r,$.$$arity=0,$),t).call(n,"collect");var o=[];return r.$each.$$p=function(){var t=e.yieldX(l,arguments);o.push(t)},r.$each(),o},d.$$arity=0),e.defn(Q,"$collect_concat",f=function(){var t,n,$,r,i,l=this,o=f.$$p,s=o||a;return f.$$p=null,s===a?(t=(n=l).$enum_for,t.$$p=($=function(){var e=$.$$s||this;return e.$enumerator_size()},$.$$s=l,$.$$arity=0,$),t).call(n,"collect_concat"):(t=(r=l).$map,t.$$p=(i=function(t){i.$$s||this;return null==t&&(t=a),e.yield1(s,t)},i.$$s=l,i.$$arity=1,i),t).call(r).$flatten(1)},f.$$arity=0),e.defn(Q,"$count",h=function(t){var n,$,r,i,l,o,s,u=this,c=h.$$p,_=c||a,p=a;return h.$$p=null,p=0,(n=null!=t)===a||null==n||n.$$is_boolean&&1!=n?(n=_["$nil?"]())===a||null==n||n.$$is_boolean&&1!=n||(_=(n=(i=u).$proc,n.$$p=(l=function(){l.$$s||this;return!0},l.$$s=u,l.$$arity=0,l),n).call(i)):_=(n=($=u).$proc,n.$$p=(r=function(e){var n,$=(r.$$s||this,arguments.length),i=$-0;i<0&&(i=0),n=new Array(i);for(var l=0;l<$;l++)n[l-0]=arguments[l];return ee.get("Opal").$destructure(n)["$=="](t)},r.$$s=u,r.$$arity=-1,r),n).call($),(n=(o=u).$each,n.$$p=(s=function(t){var n,$,r=(s.$$s||this,arguments.length),i=r-0;i<0&&(i=0),n=new Array(i);for(var l=0;l<r;l++)n[l-0]=arguments[l];return($=e.yieldX(_,n))===a||null==$||$.$$is_boolean&&1!=$?a:p++},s.$$s=u,s.$$arity=-1,s),n).call(o),p},h.$$arity=-1),e.defn(Q,"$cycle",g=function($){var r,i,l,o=this,s=g.$$p,u=s||a;if(null==$&&($=a),g.$$p=null,u===a)return(r=(i=o).$enum_for,r.$$p=(l=function(){var e,r=l.$$s||this;return $["$=="](a)?(e=r["$respond_to?"]("size"))===a||null==e||e.$$is_boolean&&1!=e?a:ee.get("Float").$$scope.get("INFINITY"):($=ee.get("Opal")["$coerce_to!"]($,ee.get("Integer"),"to_int"),(e=t($,0))===a||null==e||e.$$is_boolean&&1!=e?0:n(r.$enumerator_size(),$))},l.$$s=o,l.$$arity=0,l),r).call(i,"cycle",$);if((r=$["$nil?"]())===a||null==r||r.$$is_boolean&&1!=r){if($=ee.get("Opal")["$coerce_to!"]($,ee.get("Integer"),"to_int"),(r=$<=0)!==a&&null!=r&&(!r.$$is_boolean||1==r))return a}else;var c,_,p,d,f=[];if(o.$each.$$p=function(){var t=ee.get("Opal").$destructure(arguments);e.yield1(u,t);f.push(t)},o.$each(),void 0!==c)return c;if(0===f.length)return a;if($===a)for(;;)for(_=0,p=f.length;_<p;_++)d=e.yield1(u,f[_]);else for(;$>1;){for(_=0,p=f.length;_<p;_++)d=e.yield1(u,f[_]);$--}},g.$$arity=-1),e.defn(Q,"$detect",b=function(t){try{var n,$,r,i=this,l=b.$$p,o=l||a;return b.$$p=null,o===a?i.$enum_for("detect",t):((n=($=i).$each,n.$$p=(r=function(t){var n,$,i=(r.$$s||this,a),l=arguments.length,s=l-0;s<0&&(s=0),n=new Array(s);for(var u=0;u<l;u++)n[u-0]=arguments[u];return i=ee.get("Opal").$destructure(n),($=e.yield1(o,i))===a||null==$||$.$$is_boolean&&1!=$?a:void e.ret(i)},r.$$s=i,r.$$arity=-1,r),n).call($),void 0!==t?"function"==typeof t?t():t:a)}catch(t){if(t===e.returner)return t.$v;throw t}},b.$$arity=-1),e.defn(Q,"$drop",m=function(e){var t,n=this;e=ee.get("Opal").$coerce_to(e,ee.get("Integer"),"to_int"),(t=e<0)===a||null==t||t.$$is_boolean&&1!=t||n.$raise(ee.get("ArgumentError"),"attempt to drop negative size");var $=[],r=0;return n.$each.$$p=function(){e<=r&&$.push(ee.get("Opal").$destructure(arguments)),r++},n.$each(),$},m.$$arity=1),e.defn(Q,"$drop_while",y=function(){var t,n=this,$=y.$$p,r=$||a;if(y.$$p=null,r===a)return n.$enum_for("drop_while");var i=[],l=!0;return n.$each.$$p=function(){var n=ee.get("Opal").$destructure(arguments);if(l){var $=e.yield1(r,n);((t=$)===a||null==t||t.$$is_boolean&&0==t)&&(l=!1,i.push(n))}else i.push(n)},n.$each(),i},y.$$arity=0),e.defn(Q,"$each_cons",v=function(t){var n,l,o,s=this,u=v.$$p,c=u||a;if(v.$$p=null,(n=1!=arguments.length)===a||null==n||n.$$is_boolean&&1!=n||s.$raise(ee.get("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 1)"),t=ee.get("Opal").$try_convert(t,ee.get("Integer"),"to_int"),(n=t<=0)===a||null==n||n.$$is_boolean&&1!=n||s.$raise(ee.get("ArgumentError"),"invalid size"),c===a)return(n=(l=s).$enum_for,n.$$p=(o=function(){var e,n,l=o.$$s||this,s=a;return s=l.$enumerator_size(),(e=s["$nil?"]())===a||null==e||e.$$is_boolean&&1!=e?(e=(n=s["$=="](0))!==!1&&n!==a&&null!=n?n:$(s,t))===a||null==e||e.$$is_boolean&&1!=e?r(i(s,t),1):0:a},o.$$s=s,o.$$arity=0,o),n).call(l,"each_cons",t);var _=[],p=a;return s.$each.$$p=function(){var n=ee.get("Opal").$destructure(arguments);_.push(n),_.length>t&&_.shift(),_.length==t&&e.yield1(c,_.slice(0,t))},s.$each(),p},v.$$arity=1),e.defn(Q,"$each_entry",w=function(t){var n,$,r,i,l=this,o=w.$$p,s=o||a,u=arguments.length,c=u-0;c<0&&(c=0),i=new Array(c);for(var _=0;_<u;_++)i[_-0]=arguments[_];return w.$$p=null,s===a?(n=($=l).$to_enum,n.$$p=(r=function(){var e=r.$$s||this;return e.$enumerator_size()},r.$$s=l,r.$$arity=0,r),n).apply($,["each_entry"].concat(e.to_a(i))):(l.$each.$$p=function(){var t=ee.get("Opal").$destructure(arguments);e.yield1(s,t)},l.$each.apply(l,i),l)},w.$$arity=-1),e.defn(Q,"$each_slice",k=function(t){var n,$,r,i=this,o=k.$$p,s=o||a;if(k.$$p=null,t=ee.get("Opal").$coerce_to(t,ee.get("Integer"),"to_int"),(n=t<=0)===a||null==n||n.$$is_boolean&&1!=n||i.$raise(ee.get("ArgumentError"),"invalid slice size"),s===a)return(n=($=i).$enum_for,n.$$p=(r=function(){var e,n=r.$$s||this;return(e=n["$respond_to?"]("size"))===a||null==e||e.$$is_boolean&&1!=e?a:l(n.$size(),t).$ceil()},r.$$s=i,r.$$arity=0,r),n).call($,"each_slice",t);var u,c=[];return i.$each.$$p=function(){var n=ee.get("Opal").$destructure(arguments);c.push(n),c.length===t&&(e.yield1(s,c),c=[])},i.$each(),void 0!==u?u:(c.length>0&&e.yield1(s,c),a)},k.$$arity=1),e.defn(Q,"$each_with_index",x=function(t){var n,$,r,i,l=this,o=x.$$p,s=o||a,u=arguments.length,c=u-0;c<0&&(c=0),i=new Array(c);for(var _=0;_<u;_++)i[_-0]=arguments[_];if(x.$$p=null,s===a)return(n=($=l).$enum_for,n.$$p=(r=function(){var e=r.$$s||this;return e.$enumerator_size()},r.$$s=l,r.$$arity=0,r),n).apply($,["each_with_index"].concat(e.to_a(i)));var p,d=0;return l.$each.$$p=function(){var e=ee.get("Opal").$destructure(arguments);s(e,d),d++},l.$each.apply(l,i),void 0!==p?p:l},x.$$arity=-1),e.defn(Q,"$each_with_object",E=function(e){var t,n,$,r=this,i=E.$$p,l=i||a;if(E.$$p=null,l===a)return(t=(n=r).$enum_for,t.$$p=($=function(){var e=$.$$s||this;return e.$enumerator_size()},$.$$s=r,$.$$arity=0,$),t).call(n,"each_with_object",e);var o;return r.$each.$$p=function(){var t=ee.get("Opal").$destructure(arguments);l(t,e)},r.$each(),void 0!==o?o:e},E.$$arity=1),e.defn(Q,"$entries",A=function(e){var t,n=this,$=arguments.length,r=$-0;r<0&&(r=0),t=new Array(r);for(var i=0;i<$;i++)t[i-0]=arguments[i];var l=[];return n.$each.$$p=function(){l.push(ee.get("Opal").$destructure(arguments))},n.$each.apply(n,t),l},A.$$arity=-1),e.alias(Q,"find","detect"),e.defn(Q,"$find_all",O=function(){var t,n,$,r=this,i=O.$$p,l=i||a;if(O.$$p=null,l===a)return(t=(n=r).$enum_for,t.$$p=($=function(){var e=$.$$s||this;return e.$enumerator_size()},$.$$s=r,$.$$arity=0,$),t).call(n,"find_all");var o=[];return r.$each.$$p=function(){var n=ee.get("Opal").$destructure(arguments),$=e.yield1(l,n);(t=$)===a||null==t||t.$$is_boolean&&1!=t||o.push(n)},r.$each(),o},O.$$arity=0),e.defn(Q,"$find_index",S=function(t){try{var n,$,r,i,l,o=this,s=S.$$p,u=s||a,c=a;return S.$$p=null,(n=void 0===t&&u===a)===a||null==n||n.$$is_boolean&&1!=n?(c=0,(n=null!=t)===a||null==n||n.$$is_boolean&&1!=n?(n=(i=o).$each,n.$$p=(l=function(t){var n,$,r=(l.$$s||this,arguments.length),i=r-0;i<0&&(i=0),n=new Array(i);for(var o=0;o<r;o++)n[o-0]=arguments[o];return($=e.yieldX(u,e.to_a(n)))===a||null==$||$.$$is_boolean&&1!=$||e.ret(c),c+=1},l.$$s=o,l.$$arity=-1,l),n).call(i):(n=($=o).$each,n.$$p=(r=function(n){var $,i=(r.$$s||this,arguments.length),l=i-0;l<0&&(l=0),$=new Array(l);for(var o=0;o<i;o++)$[o-0]=arguments[o];return ee.get("Opal").$destructure($)["$=="](t)&&e.ret(c),c+=1},r.$$s=o,r.$$arity=-1,r),n).call($),a):o.$enum_for("find_index")}catch(t){if(t===e.returner)return t.$v;throw t}},S.$$arity=-1),e.defn(Q,"$first",R=function(t){try{var n,$,r,i,l,o=this,s=a,u=a;return(n=void 0===t)===a||null==n||n.$$is_boolean&&1!=n?(s=[],t=ee.get("Opal").$coerce_to(t,ee.get("Integer"),"to_int"),(n=t<0)===a||null==n||n.$$is_boolean&&1!=n||o.$raise(ee.get("ArgumentError"),"attempt to take negative size"),(n=0==t)===a||null==n||n.$$is_boolean&&1!=n?(u=0,(n=(i=o).$each,n.$$p=(l=function(n){var $,r,i=(l.$$s||this,arguments.length),o=i-0;o<0&&(o=0),$=new Array(o);for(var c=0;c<i;c++)$[c-0]=arguments[c];return s.push(ee.get("Opal").$destructure($)),(r=t<=++u)===a||null==r||r.$$is_boolean&&1!=r?a:void e.ret(s)},l.$$s=o,l.$$arity=-1,l),n).call(i),s):[]):(n=($=o).$each,n.$$p=(r=function(t){r.$$s||this;null==t&&(t=a),e.ret(t)},r.$$s=o,r.$$arity=1,r),n).call($)}catch(t){if(t===e.returner)return t.$v;throw t}},R.$$arity=-1),e.alias(Q,"flat_map","collect_concat"),e.defn(Q,"$grep",T=function(t){var n,$=this,r=T.$$p,i=r||a;T.$$p=null;var l=[];return i!==a?$.$each.$$p=function(){var $=ee.get("Opal").$destructure(arguments),r=t["$==="]($);(n=r)===a||null==n||n.$$is_boolean&&1!=n||(r=e.yield1(i,$),l.push(r))}:$.$each.$$p=function(){var e=ee.get("Opal").$destructure(arguments),$=t["$==="](e);(n=$)===a||null==n||n.$$is_boolean&&1!=n||l.push(e)},$.$each(),l},T.$$arity=1),e.defn(Q,"$group_by",I=function(){var t,n,$,r,i,l=this,o=I.$$p,s=o||a,u=a;if(I.$$p=null,s===a)return(t=(n=l).$enum_for,t.$$p=($=function(){var e=$.$$s||this;return e.$enumerator_size()},$.$$s=l,$.$$arity=0,$),t).call(n,"group_by");u=ee.get("Hash").$new();var c;return l.$each.$$p=function(){var n=ee.get("Opal").$destructure(arguments),$=e.yield1(s,n);(t=$,r=u,(i=r["$[]"](t))!==!1&&i!==a&&null!=i?i:r["$[]="](t,[]))["$<<"](n)},l.$each(),void 0!==c?c:u},I.$$arity=0),e.defn(Q,"$include?",C=function(t){try{var n,$,r,i=this;return(n=($=i).$each,n.$$p=(r=function(n){var $,i=(r.$$s||this,arguments.length),l=i-0;l<0&&(l=0),$=new Array(l);for(var o=0;o<i;o++)$[o-0]=arguments[o];return ee.get("Opal").$destructure($)["$=="](t)?void e.ret(!0):a},r.$$s=i,r.$$arity=-1,r),n).call($),!1}catch(t){if(t===e.returner)return t.$v;throw t}},C.$$arity=1),e.defn(Q,"$inject",N=function(t,n){var $=this,r=N.$$p,i=r||a;N.$$p=null;var l=t;return i!==a&&void 0===n?$.$each.$$p=function(){var t=ee.get("Opal").$destructure(arguments);return void 0===l?void(l=t):(t=e.yieldX(i,[l,t]),void(l=t))}:(void 0===n&&(ee.get("Symbol")["$==="](t)||$.$raise(ee.get("TypeError"),""+t.$inspect()+" is not a Symbol"),n=t,l=void 0),$.$each.$$p=function(){var e=ee.get("Opal").$destructure(arguments);return void 0===l?void(l=e):void(l=l.$__send__(n,e))}),$.$each(),void 0==l?a:l},N.$$arity=-1),e.defn(Q,"$lazy",M=function(){var t,n,$,r=this;return(t=(n=ee.get("Enumerator").$$scope.get("Lazy")).$new,t.$$p=($=function(t,n){var r,i,l=($.$$s||this,arguments.length),o=l-1;o<0&&(o=0),r=new Array(o);for(var s=1;s<l;s++)r[s-1]=arguments[s];return null==t&&(t=a),(i=t).$yield.apply(i,e.to_a(r))},$.$$s=r,$.$$arity=-2,$),t).call(n,r,r.$enumerator_size())},M.$$arity=0),e.defn(Q,"$enumerator_size",L=function(){var e,t=this;return(e=t["$respond_to?"]("size"))===a||null==e||e.$$is_boolean&&1!=e?a:t.$size()},L.$$arity=0),e.alias(Q,"map","collect"),e.defn(Q,"$max",z=function(t){var n,$,r=this,i=z.$$p,l=i||a;if(z.$$p=null,void 0===t||t===a){var o,s;return r.$each.$$p=function(){var t=ee.get("Opal").$destructure(arguments);return void 0===o?void(o=t):(s=l!==a?e.yieldX(l,[t,o]):t["$<=>"](o),s===a&&r.$raise(ee.get("ArgumentError"),"comparison failed"),void(s>0&&(o=t)))},r.$each(),void 0===o?a:o}return t=ee.get("Opal").$coerce_to(t,ee.get("Integer"),"to_int"),(n=($=r).$sort,n.$$p=l.$to_proc(),n).call($).$reverse().$first(t)},z.$$arity=-1),e.defn(Q,"$max_by",P=function(){var t,n,$,r=this,i=P.$$p,l=i||a;if(P.$$p=null,l===!1||l===a||null==l)return(t=(n=r).$enum_for,t.$$p=($=function(){var e=$.$$s||this;return e.$enumerator_size()},$.$$s=r,$.$$arity=0,$),t).call(n,"max_by");var o,s;return r.$each.$$p=function(){var t=ee.get("Opal").$destructure(arguments),n=e.yield1(l,t);return void 0===o?(o=t,void(s=n)):void(n["$<=>"](s)>0&&(o=t,s=n))},r.$each(),void 0===o?a:o},P.$$arity=0),e.alias(Q,"member?","include?"),e.defn(Q,"$min",D=function(){var e=this,t=D.$$p,n=t||a;D.$$p=null;var $;return n!==a?e.$each.$$p=function(){var t=ee.get("Opal").$destructure(arguments);if(void 0===$)return void($=t);var r=n(t,$);r===a&&e.$raise(ee.get("ArgumentError"),"comparison failed"),r<0&&($=t)}:e.$each.$$p=function(){var e=ee.get("Opal").$destructure(arguments);return void 0===$?void($=e):void(ee.get("Opal").$compare(e,$)<0&&($=e))},e.$each(),void 0===$?a:$},D.$$arity=0),e.defn(Q,"$min_by",B=function(){var t,n,$,r=this,i=B.$$p,l=i||a;if(B.$$p=null,l===!1||l===a||null==l)return(t=(n=r).$enum_for,t.$$p=($=function(){var e=$.$$s||this;return e.$enumerator_size()},$.$$s=r,$.$$arity=0,$),t).call(n,"min_by");var o,s;return r.$each.$$p=function(){var t=ee.get("Opal").$destructure(arguments),n=e.yield1(l,t);return void 0===o?(o=t,void(s=n)):void(n["$<=>"](s)<0&&(o=t,s=n))},r.$each(),void 0===o?a:o},B.$$arity=0),e.defn(Q,"$minmax",q=function(){var e,t,n,$,r=this,i=q.$$p,l=i||a;q.$$p=null,(e=l)!==!1&&e!==a&&null!=e?e:l=(t=(n=r).$proc,t.$$p=($=function(e,t){$.$$s||this;return null==e&&(e=a),null==t&&(t=a),e["$<=>"](t)},$.$$s=r,$.$$arity=2,$),t).call(n);var o=a,s=a,u=!0;return r.$each.$$p=function(){var e=ee.get("Opal").$destructure(arguments);if(u)o=s=e,u=!1;else{var t=l.$call(o,e);t===a?r.$raise(ee.get("ArgumentError"),"comparison failed"):t>0&&(o=e);var n=l.$call(s,e);n===a?r.$raise(ee.get("ArgumentError"),"comparison failed"):n<0&&(s=e)}},r.$each(),[o,s]},q.$$arity=0),e.defn(Q,"$minmax_by",j=function(){var e=this;j.$$p;return j.$$p=null,e.$raise(ee.get("NotImplementedError"))},j.$$arity=0),e.defn(Q,"$none?",F=function(){try{var t,n,$,r,i,l=this,o=F.$$p,s=o||a;return F.$$p=null,s!==a?(t=(n=l).$each,t.$$p=($=function(t){var n,r,i=($.$$s||this,arguments.length),l=i-0;l<0&&(l=0),n=new Array(l);for(var o=0;o<i;o++)n[o-0]=arguments[o];return(r=e.yieldX(s,e.to_a(n)))===a||null==r||r.$$is_boolean&&1!=r?a:void e.ret(!1)},$.$$s=l,$.$$arity=-1,$),t).call(n):(t=(r=l).$each,t.$$p=(i=function(t){var n,$,r=(i.$$s||this,arguments.length),l=r-0;l<0&&(l=0),n=new Array(l);for(var o=0;o<r;o++)n[o-0]=arguments[o];return($=ee.get("Opal").$destructure(n))===a||null==$||$.$$is_boolean&&1!=$?a:void e.ret(!1)},i.$$s=l,i.$$arity=-1,i),t).call(r),!0}catch(t){if(t===e.returner)return t.$v;throw t}},F.$$arity=0),e.defn(Q,"$one?",U=function(){try{var n,$,i,l,o,s=this,u=U.$$p,c=u||a,_=a;return U.$$p=null,_=0,c!==a?(n=($=s).$each,n.$$p=(i=function(n){var $,l,o=(i.$$s||this,arguments.length),s=o-0;s<0&&(s=0),$=new Array(s);for(var u=0;u<o;u++)$[u-0]=arguments[u];return(l=e.yieldX(c,e.to_a($)))===a||null==l||l.$$is_boolean&&1!=l?a:(_=r(_,1),(l=t(_,1))===a||null==l||l.$$is_boolean&&1!=l?a:void e.ret(!1))},i.$$s=s,i.$$arity=-1,i),n).call($):(n=(l=s).$each,n.$$p=(o=function(n){var $,i,l=(o.$$s||this,arguments.length),s=l-0;s<0&&(s=0),$=new Array(s);for(var u=0;u<l;u++)$[u-0]=arguments[u];return(i=ee.get("Opal").$destructure($))===a||null==i||i.$$is_boolean&&1!=i?a:(_=r(_,1),(i=t(_,1))===a||null==i||i.$$is_boolean&&1!=i?a:void e.ret(!1))},o.$$s=s,o.$$arity=-1,o),n).call(l),_["$=="](1)}catch(t){if(t===e.returner)return t.$v;throw t}},U.$$arity=0),e.defn(Q,"$partition",G=function(){var t,n,$,r=this,i=G.$$p,l=i||a;if(G.$$p=null,l===a)return(t=(n=r).$enum_for,t.$$p=($=function(){var e=$.$$s||this;return e.$enumerator_size()},$.$$s=r,$.$$arity=0,$),t).call(n,"partition");var o=[],s=[];return r.$each.$$p=function(){var n=ee.get("Opal").$destructure(arguments),$=e.yield1(l,n);(t=$)===a||null==t||t.$$is_boolean&&1!=t?s.push(n):o.push(n)},r.$each(),[o,s]},G.$$arity=0),e.alias(Q,"reduce","inject"),e.defn(Q,"$reject",H=function(){var t,n,$,r=this,i=H.$$p,l=i||a;if(H.$$p=null,l===a)return(t=(n=r).$enum_for,t.$$p=($=function(){var e=$.$$s||this;return e.$enumerator_size()},$.$$s=r,$.$$arity=0,$),t).call(n,"reject");var o=[];return r.$each.$$p=function(){var n=ee.get("Opal").$destructure(arguments),$=e.yield1(l,n);((t=$)===a||null==t||t.$$is_boolean&&0==t)&&o.push(n)},r.$each(),o},H.$$arity=0),e.defn(Q,"$reverse_each",Y=function(){var t,n,$,r=this,i=Y.$$p,l=i||a;if(Y.$$p=null,l===a)return(t=(n=r).$enum_for,t.$$p=($=function(){var e=$.$$s||this;return e.$enumerator_size()},$.$$s=r,$.$$arity=0,$),t).call(n,"reverse_each");var o=[];r.$each.$$p=function(){o.push(arguments)},r.$each();for(var s=o.length-1;s>=0;s--)e.yieldX(l,o[s]);return o},Y.$$arity=0),e.alias(Q,"select","find_all"),e.defn(Q,"$slice_before",K=function(t){var n,$,r,i=this,l=K.$$p,o=l||a;return K.$$p=null,(n=void 0===t&&o===a||arguments.length>1)===a||null==n||n.$$is_boolean&&1!=n||i.$raise(ee.get("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 1)"),(n=($=ee.get("Enumerator")).$new,n.$$p=(r=function(n){var $,i=r.$$s||this;null==n&&(n=a);var l=[];o!==a?void 0===t?i.$each.$$p=function(){var t=ee.get("Opal").$destructure(arguments),r=e.yield1(o,t);($=r)!==a&&null!=$&&(!$.$$is_boolean||1==$)&&l.length>0&&(n["$<<"](l),l=[]),l.push(t)}:i.$each.$$p=function(){var e=ee.get("Opal").$destructure(arguments),r=o(e,t.$dup());($=r)!==a&&null!=$&&(!$.$$is_boolean||1==$)&&l.length>0&&(n["$<<"](l),l=[]),l.push(e)}:i.$each.$$p=function(){var e=ee.get("Opal").$destructure(arguments),r=t["$==="](e);($=r)!==a&&null!=$&&(!$.$$is_boolean||1==$)&&l.length>0&&(n["$<<"](l),l=[]),l.push(e)},i.$each(),l.length>0&&n["$<<"](l)},r.$$s=i,r.$$arity=1,r),n).call($)},K.$$arity=-1),e.defn(Q,"$sort",W=function(){var e,t,n,$,r=this,i=W.$$p,l=i||a,o=a;return W.$$p=null,o=r.$to_a(),l!==a||(l=(e=(t=r).$lambda,e.$$p=(n=function(e,t){n.$$s||this;return null==e&&(e=a),null==t&&(t=a),e["$<=>"](t)},n.$$s=r,n.$$arity=2,n),e).call(t)),(e=($=o).$sort,e.$$p=l.$to_proc(),e).call($)},W.$$arity=0),e.defn(Q,"$sort_by",X=function(){var t,n,$,r,i,l,o,s,u,c=this,_=X.$$p,p=_||a,d=a;return X.$$p=null,p===a?(t=(n=c).$enum_for,t.$$p=($=function(){var e=$.$$s||this;return e.$enumerator_size()},$.$$s=c,$.$$arity=0,$),t).call(n,"sort_by"):(d=(t=(r=c).$map,t.$$p=(i=function(){var t,n=(i.$$s||this,a);return n=ee.get("Opal").$destructure(arguments),t=e.yield1(p,n),[t,n]},i.$$s=c,i.$$arity=0,i),t).call(r),(t=(l=d)["$sort!"],t.$$p=(o=function(e,t){o.$$s||this;return null==e&&(e=a),null==t&&(t=a),e[0]["$<=>"](t[0])},o.$$s=c,o.$$arity=2,o),t).call(l),(t=(s=d)["$map!"],t.$$p=(u=function(e){
u.$$s||this;return null==e&&(e=a),e[1]},u.$$s=c,u.$$arity=1,u),t).call(s))},X.$$arity=0),e.defn(Q,"$take",V=function(e){var t=this;return t.$first(e)},V.$$arity=1),e.defn(Q,"$take_while",J=function(){try{var t,n,$,r=this,i=J.$$p,l=i||a,o=a;return J.$$p=null,l===!1||l===a||null==l?r.$enum_for("take_while"):(o=[],(t=(n=r).$each,t.$$p=($=function(t){var n,r,i=($.$$s||this,a),s=arguments.length,u=s-0;u<0&&(u=0),n=new Array(u);for(var c=0;c<s;c++)n[c-0]=arguments[c];return i=ee.get("Opal").$destructure(n),((r=e.yield1(l,i))===a||null==r||r.$$is_boolean&&1!=r)&&e.ret(o),o.push(i)},$.$$s=r,$.$$arity=-1,$),t).call(n))}catch(t){if(t===e.returner)return t.$v;throw t}},J.$$arity=0),e.alias(Q,"to_a","entries"),e.defn(Q,"$zip",Z=function(t){var n,$,r=this,i=(Z.$$p,arguments.length),l=i-0;l<0&&(l=0),$=new Array(l);for(var o=0;o<i;o++)$[o-0]=arguments[o];return Z.$$p=null,(n=r.$to_a()).$zip.apply(n,e.to_a($))},Z.$$arity=-1)}(o.base)},Opal.modules["corelib/enumerator"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}var $=e.top,r=e,i=e.nil,l=e.breaker,o=e.slice,a=e.klass;return e.add_stubs(["$require","$include","$allocate","$new","$to_proc","$coerce_to","$nil?","$empty?","$+","$class","$__send__","$===","$call","$enum_for","$size","$destructure","$inspect","$[]","$raise","$yield","$each","$enumerator_size","$respond_to?","$try_convert","$<","$for"]),$.$require("corelib/enumerable"),function($,r){function s(){}var u,c,_,p,d,f,h=s=a($,r,"Enumerator",s),g=h.$$proto,b=h.$$scope;return g.size=g.args=g.object=g.method=i,h.$include(b.get("Enumerable")),g.$$is_enumerator=!0,e.defs(h,"$for",u=function(e,t,n){var $,r=this,l=u.$$p,o=l||i;null==t&&(t="each");var a=arguments.length,s=a-2;s<0&&(s=0),$=new Array(s);for(var c=2;c<a;c++)$[c-2]=arguments[c];u.$$p=null;var _=r.$allocate();return _.object=e,_.size=o,_.method=t,_.args=$,_},u.$$arity=-2),e.defn(h,"$initialize",c=function(e){var t,n,$=this,r=c.$$p,l=r||i;return c.$$p=null,l!==!1&&l!==i&&null!=l?($.object=(t=(n=b.get("Generator")).$new,t.$$p=l.$to_proc(),t).call(n),$.method="each",$.args=[],$.size=arguments[0]||i,(t=$.size)===i||null==t||t.$$is_boolean&&1!=t?i:$.size=b.get("Opal").$coerce_to($.size,b.get("Integer"),"to_int")):($.object=arguments[0],$.method=arguments[1]||"each",$.args=o.call(arguments,2),$.size=i)},c.$$arity=-1),e.defn(h,"$each",_=function(n){var $,r,l,o,a=this,s=_.$$p,u=s||i,c=arguments.length,p=c-0;p<0&&(p=0),o=new Array(p);for(var d=0;d<c;d++)o[d-0]=arguments[d];return _.$$p=null,r=u["$nil?"](),($=r!==!1&&r!==i&&null!=r?o["$empty?"]():r)===i||null==$||$.$$is_boolean&&1!=$?(o=t(a.args,o),($=u["$nil?"]())===i||null==$||$.$$is_boolean&&1!=$?(r=(l=a.object).$__send__,r.$$p=u.$to_proc(),r).apply(l,[a.method].concat(e.to_a(o))):($=a.$class()).$new.apply($,[a.object,a.method].concat(e.to_a(o)))):a},_.$$arity=-1),e.defn(h,"$size",p=function(){var t,n=this;return(t=b.get("Proc")["$==="](n.size))===i||null==t||t.$$is_boolean&&1!=t?n.size:(t=n.size).$call.apply(t,e.to_a(n.args))},p.$$arity=0),e.defn(h,"$with_index",d=function(e){var t,n,$,r=this,l=d.$$p,o=l||i;if(null==e&&(e=0),d.$$p=null,e=e!==!1&&e!==i&&null!=e?b.get("Opal").$coerce_to(e,b.get("Integer"),"to_int"):0,o===!1||o===i||null==o)return(t=(n=r).$enum_for,t.$$p=($=function(){var e=$.$$s||this;return e.$size()},$.$$s=r,$.$$arity=0,$),t).call(n,"with_index",e);var a=e;return r.$each.$$p=function(){var e=b.get("Opal").$destructure(arguments),t=o(e,a);return a++,t},r.$each()},d.$$arity=-1),e.alias(h,"with_object","each_with_object"),e.defn(h,"$inspect",f=function(){var e,n=this,$=i;return $="#<"+n.$class()+": "+n.object.$inspect()+":"+n.method,((e=n.args["$empty?"]())===i||null==e||e.$$is_boolean&&1!=e)&&($=t($,"("+n.args.$inspect()["$[]"](b.get("Range").$new(1,-2))+")")),t($,">")},f.$$arity=0),function(t,n){function $(){}var r,o,s=$=a(t,n,"Generator",$),u=s.$$proto,c=s.$$scope;return u.block=i,s.$include(c.get("Enumerable")),e.defn(s,"$initialize",r=function(){var e=this,t=r.$$p,n=t||i;return r.$$p=null,n!==!1&&n!==i&&null!=n||e.$raise(c.get("LocalJumpError"),"no block given"),e.block=n},r.$$arity=0),e.defn(s,"$each",o=function(t){var n,$,r,a=this,s=o.$$p,u=s||i,_=i,p=arguments.length,d=p-0;d<0&&(d=0),r=new Array(d);for(var f=0;f<p;f++)r[f-0]=arguments[f];o.$$p=null,_=(n=($=c.get("Yielder")).$new,n.$$p=u.$to_proc(),n).call($);try{r.unshift(_),e.yieldX(a.block,r)}catch(e){if(e===l)return l.$v;throw e}return a},o.$$arity=-1),i&&"each"}(b.base,null),function(t,n){function $(){}var r,o,s,u=$=a(t,n,"Yielder",$),c=u.$$proto;u.$$scope;return c.block=i,e.defn(u,"$initialize",r=function(){var e=this,t=r.$$p,n=t||i;return r.$$p=null,e.block=n},r.$$arity=0),e.defn(u,"$yield",o=function(t){var n,$=this,r=arguments.length,i=r-0;i<0&&(i=0),n=new Array(i);for(var o=0;o<r;o++)n[o-0]=arguments[o];var a=e.yieldX($.block,n);if(a===l)throw l;return a},o.$$arity=-1),e.defn(u,"$<<",s=function(t){var n,$,r=this,i=arguments.length,l=i-0;l<0&&(l=0),$=new Array(l);for(var o=0;o<i;o++)$[o-0]=arguments[o];return(n=r).$yield.apply(n,e.to_a($)),r},s.$$arity=-1),i&&"<<"}(b.base,null),function($,r){function l(){}var o,s,u,c,_,p,d,f,h,g,b,m,y,v=l=a($,r,"Lazy",l),w=v.$$proto,k=v.$$scope;return w.enumerator=i,function(e,t){function n(){}var $=n=a(e,t,"StopLazyError",n);$.$$proto,$.$$scope;return i}(k.base,k.get("Exception")),e.defn(v,"$initialize",o=function(t,n){var $,r,l,a=this,s=o.$$p,u=s||i;return null==n&&(n=i),o.$$p=null,u!==i||a.$raise(k.get("ArgumentError"),"tried to call lazy new without a block"),a.enumerator=t,(r=a,$=e.find_super_dispatcher(a,"initialize",o,!1),$.$$p=(l=function(n,$){var r,o,a,s,c=l.$$s||this,_=arguments.length,p=_-1;p<0&&(p=0),r=new Array(p);for(var d=1;d<_;d++)r[d-1]=arguments[d];null==n&&(n=i);try{return(o=(a=t).$each,o.$$p=(s=function(t){var $,r=(s.$$s||this,arguments.length),i=r-0;i<0&&(i=0),$=new Array(i);for(var l=0;l<r;l++)$[l-0]=arguments[l];$.unshift(n),e.yieldX(u,$)},s.$$s=c,s.$$arity=-1,s),o).apply(a,e.to_a(r))}catch(t){if(!e.rescue(t,[k.get("Exception")]))throw t;try{return i}finally{e.pop_exception()}}},l.$$s=a,l.$$arity=-2,l),$).call(r,n)},o.$$arity=-2),e.alias(v,"force","to_a"),e.defn(v,"$lazy",s=function(){var e=this;return e},s.$$arity=0),e.defn(v,"$collect",u=function(){var t,n,$,r=this,l=u.$$p,o=l||i;return u.$$p=null,o!==!1&&o!==i&&null!=o||r.$raise(k.get("ArgumentError"),"tried to call lazy map without a block"),(t=(n=k.get("Lazy")).$new,t.$$p=($=function(t,n){var r,l=($.$$s||this,arguments.length),a=l-1;a<0&&(a=0),r=new Array(a);for(var s=1;s<l;s++)r[s-1]=arguments[s];null==t&&(t=i);var u=e.yieldX(o,r);t.$yield(u)},$.$$s=r,$.$$arity=-2,$),t).call(n,r,r.$enumerator_size())},u.$$arity=0),e.defn(v,"$collect_concat",c=function(){var t,n,$,r=this,l=c.$$p,o=l||i;return c.$$p=null,o!==!1&&o!==i&&null!=o||r.$raise(k.get("ArgumentError"),"tried to call lazy map without a block"),(t=(n=k.get("Lazy")).$new,t.$$p=($=function(t,n){var r,l,a,s,u,c,_=$.$$s||this,p=arguments.length,d=p-1;d<0&&(d=0),r=new Array(d);for(var f=1;f<p;f++)r[f-1]=arguments[f];null==t&&(t=i);var h=e.yieldX(o,r);if(h["$respond_to?"]("force")&&h["$respond_to?"]("each"))(l=(a=h).$each,l.$$p=(s=function(e){s.$$s||this;return null==e&&(e=i),t.$yield(e)},s.$$s=_,s.$$arity=1,s),l).call(a);else{var g=k.get("Opal").$try_convert(h,k.get("Array"),"to_ary");g===i?t.$yield(h):(l=(u=h).$each,l.$$p=(c=function(e){c.$$s||this;return null==e&&(e=i),t.$yield(e)},c.$$s=_,c.$$arity=1,c),l).call(u)}},$.$$s=r,$.$$arity=-2,$),t).call(n,r,i)},c.$$arity=0),e.defn(v,"$drop",_=function($){var r,l,o,a=this,s=i,u=i,c=i;return $=k.get("Opal").$coerce_to($,k.get("Integer"),"to_int"),(r=n($,0))===i||null==r||r.$$is_boolean&&1!=r||a.$raise(k.get("ArgumentError"),"attempt to drop negative size"),s=a.$enumerator_size(),u=function(){return(r=k.get("Integer")["$==="](s))===i||null==r||r.$$is_boolean&&1!=r?s:(r=n($,s))===i||null==r||r.$$is_boolean&&1!=r?s:$}(),c=0,(r=(l=k.get("Lazy")).$new,r.$$p=(o=function(r,l){var a,s,u=(o.$$s||this,arguments.length),_=u-1;_<0&&(_=0),a=new Array(_);for(var p=1;p<u;p++)a[p-1]=arguments[p];return null==r&&(r=i),(s=n(c,$))===i||null==s||s.$$is_boolean&&1!=s?(s=r).$yield.apply(s,e.to_a(a)):c=t(c,1)},o.$$s=a,o.$$arity=-2,o),r).call(l,a,u)},_.$$arity=1),e.defn(v,"$drop_while",p=function(){var t,n,$,r=this,l=p.$$p,o=l||i,a=i;return p.$$p=null,o!==!1&&o!==i&&null!=o||r.$raise(k.get("ArgumentError"),"tried to call lazy drop_while without a block"),a=!0,(t=(n=k.get("Lazy")).$new,t.$$p=($=function(t,n){var r,l,s,u=($.$$s||this,arguments.length),c=u-1;c<0&&(c=0),r=new Array(c);for(var _=1;_<u;_++)r[_-1]=arguments[_];if(null==t&&(t=i),a===!1||a===i||null==a)return(s=t).$yield.apply(s,e.to_a(r));var p=e.yieldX(o,r);((l=p)===i||null==l||l.$$is_boolean&&0==l)&&(a=!1,(l=t).$yield.apply(l,e.to_a(r)))},$.$$s=r,$.$$arity=-2,$),t).call(n,r,i)},p.$$arity=0),e.defn(v,"$enum_for",d=function(t,n){var $,r,l,o=this,a=d.$$p,s=a||i;null==t&&(t="each");var u=arguments.length,c=u-1;c<0&&(c=0),l=new Array(c);for(var _=1;_<u;_++)l[_-1]=arguments[_];return d.$$p=null,($=(r=o.$class()).$for,$.$$p=s.$to_proc(),$).apply(r,[o,t].concat(e.to_a(l)))},d.$$arity=-1),e.defn(v,"$find_all",f=function(){var t,n,$,r=this,l=f.$$p,o=l||i;return f.$$p=null,o!==!1&&o!==i&&null!=o||r.$raise(k.get("ArgumentError"),"tried to call lazy select without a block"),(t=(n=k.get("Lazy")).$new,t.$$p=($=function(t,n){var r,l,a=($.$$s||this,arguments.length),s=a-1;s<0&&(s=0),r=new Array(s);for(var u=1;u<a;u++)r[u-1]=arguments[u];null==t&&(t=i);var c=e.yieldX(o,r);(l=c)===i||null==l||l.$$is_boolean&&1!=l||(l=t).$yield.apply(l,e.to_a(r))},$.$$s=r,$.$$arity=-2,$),t).call(n,r,i)},f.$$arity=0),e.alias(v,"flat_map","collect_concat"),e.defn(v,"$grep",h=function(t){var n,$,r,l,o,a=this,s=h.$$p,u=s||i;return h.$$p=null,u!==!1&&u!==i&&null!=u?(n=($=k.get("Lazy")).$new,n.$$p=(r=function(n,$){var l,o,a=(r.$$s||this,arguments.length),s=a-1;s<0&&(s=0),l=new Array(s);for(var c=1;c<a;c++)l[c-1]=arguments[c];null==n&&(n=i);var _=k.get("Opal").$destructure(l),p=t["$==="](_);(o=p)===i||null==o||o.$$is_boolean&&1!=o||(p=e.yield1(u,_),n.$yield(e.yield1(u,_)))},r.$$s=a,r.$$arity=-2,r),n).call($,a,i):(n=(l=k.get("Lazy")).$new,n.$$p=(o=function(e,n){var $,r,l=(o.$$s||this,arguments.length),a=l-1;a<0&&(a=0),$=new Array(a);for(var s=1;s<l;s++)$[s-1]=arguments[s];null==e&&(e=i);var u=k.get("Opal").$destructure($),c=t["$==="](u);(r=c)===i||null==r||r.$$is_boolean&&1!=r||e.$yield(u)},o.$$s=a,o.$$arity=-2,o),n).call(l,a,i)},h.$$arity=1),e.alias(v,"map","collect"),e.alias(v,"select","find_all"),e.defn(v,"$reject",g=function(){var t,n,$,r=this,l=g.$$p,o=l||i;return g.$$p=null,o!==!1&&o!==i&&null!=o||r.$raise(k.get("ArgumentError"),"tried to call lazy reject without a block"),(t=(n=k.get("Lazy")).$new,t.$$p=($=function(t,n){var r,l,a=($.$$s||this,arguments.length),s=a-1;s<0&&(s=0),r=new Array(s);for(var u=1;u<a;u++)r[u-1]=arguments[u];null==t&&(t=i);var c=e.yieldX(o,r);((l=c)===i||null==l||l.$$is_boolean&&0==l)&&(l=t).$yield.apply(l,e.to_a(r))},$.$$s=r,$.$$arity=-2,$),t).call(n,r,i)},g.$$arity=0),e.defn(v,"$take",b=function($){var r,l,o,a=this,s=i,u=i,c=i;return $=k.get("Opal").$coerce_to($,k.get("Integer"),"to_int"),(r=n($,0))===i||null==r||r.$$is_boolean&&1!=r||a.$raise(k.get("ArgumentError"),"attempt to take negative size"),s=a.$enumerator_size(),u=function(){return(r=k.get("Integer")["$==="](s))===i||null==r||r.$$is_boolean&&1!=r?s:(r=n($,s))===i||null==r||r.$$is_boolean&&1!=r?s:$}(),c=0,(r=(l=k.get("Lazy")).$new,r.$$p=(o=function(r,l){var a,s,u=o.$$s||this,_=arguments.length,p=_-1;p<0&&(p=0),a=new Array(p);for(var d=1;d<_;d++)a[d-1]=arguments[d];return null==r&&(r=i),(s=n(c,$))===i||null==s||s.$$is_boolean&&1!=s?u.$raise(k.get("StopLazyError")):((s=r).$yield.apply(s,e.to_a(a)),c=t(c,1))},o.$$s=a,o.$$arity=-2,o),r).call(l,a,u)},b.$$arity=1),e.defn(v,"$take_while",m=function(){var t,n,$,r=this,l=m.$$p,o=l||i;return m.$$p=null,o!==!1&&o!==i&&null!=o||r.$raise(k.get("ArgumentError"),"tried to call lazy take_while without a block"),(t=(n=k.get("Lazy")).$new,t.$$p=($=function(t,n){var r,l,a=$.$$s||this,s=arguments.length,u=s-1;u<0&&(u=0),r=new Array(u);for(var c=1;c<s;c++)r[c-1]=arguments[c];null==t&&(t=i);var _=e.yieldX(o,r);(l=_)===i||null==l||l.$$is_boolean&&1!=l?a.$raise(k.get("StopLazyError")):(l=t).$yield.apply(l,e.to_a(r))},$.$$s=r,$.$$arity=-2,$),t).call(n,r,i)},m.$$arity=0),e.alias(v,"to_enum","enum_for"),e.defn(v,"$inspect",y=function(){var e=this;return"#<"+e.$class()+": "+e.enumerator.$inspect()+">"},y.$$arity=0),i&&"inspect"}(b.base,h)}(r.base,null)},Opal.modules["corelib/numeric"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e/t:e["$/"](t)}function i(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}var l=e.top,o=e,a=e.nil,s=(e.breaker,e.slice,e.klass);return e.add_stubs(["$require","$include","$instance_of?","$class","$Float","$coerce","$===","$raise","$__send__","$equal?","$coerce_to!","$-@","$**","$-","$*","$div","$<","$ceil","$to_f","$denominator","$to_r","$==","$floor","$/","$%","$Complex","$zero?","$numerator","$abs","$arg","$round","$to_i","$truncate","$>"]),l.$require("corelib/comparable"),function(l,o){function u(){}var c,_,p,d,f,h,g,b,m,y,v,w,k,x,E,A,O,S,R,T,I,C,N,M,L,z,P,D,B,q,j,F,U,G,H,Y,K=u=s(l,o,"Numeric",u),W=(K.$$proto,K.$$scope);return K.$include(W.get("Comparable")),e.defn(K,"$coerce",c=function(e){var t,n=this;return(t=e["$instance_of?"](n.$class()))===a||null==t||t.$$is_boolean&&1!=t?[n.$Float(e),n.$Float(n)]:[e,n]},c.$$arity=1),e.defn(K,"$__coerced__",_=function(t,n){var $,r,i=this,l=a,o=a,s=a;try{r=n.$coerce(i),$=e.to_ary(r),l=null==$[0]?a:$[0],o=null==$[1]?a:$[1],r}catch($){if(!e.rescue($,[W.get("StandardError")]))throw $;try{s=t,"+"["$==="](s)||"-"["$==="](s)||"*"["$==="](s)||"/"["$==="](s)||"%"["$==="](s)||"&"["$==="](s)||"|"["$==="](s)||"^"["$==="](s)||"**"["$==="](s)?i.$raise(W.get("TypeError"),""+n.$class()+" can't be coerce into Numeric"):(">"["$==="](s)||">="["$==="](s)||"<"["$==="](s)||"<="["$==="](s)||"<=>"["$==="](s))&&i.$raise(W.get("ArgumentError"),"comparison of "+i.$class()+" with "+n.$class()+" failed")}finally{e.pop_exception()}}return l.$__send__(t,o)},_.$$arity=2),e.defn(K,"$<=>",p=function(e){var t,n=this;return(t=n["$equal?"](e))===a||null==t||t.$$is_boolean&&1!=t?a:0},p.$$arity=1),e.defn(K,"$[]",d=function(e){var n=this,$=a,r=a;return e=W.get("Opal")["$coerce_to!"](e,W.get("Integer"),"to_int"),$=2["$**"](30)["$-@"](),r=t(2["$**"](30),1),e<$||e>r?0:(n>>e)%2},d.$$arity=1),e.defn(K,"$+@",f=function(){var e=this;return e},f.$$arity=0),e.defn(K,"$-@",h=function(){var e=this;return t(0,e)},h.$$arity=0),e.defn(K,"$%",g=function(e){var $=this;return t($,n(e,$.$div(e)))},g.$$arity=1),e.defn(K,"$abs",b=function(){var e=this;return $(e,0)?e["$-@"]():e},b.$$arity=0),e.defn(K,"$abs2",m=function(){var e=this;return n(e,e)},m.$$arity=0),e.defn(K,"$angle",y=function(){var e=this;return $(e,0)?W.get("Math").$$scope.get("PI"):0},y.$$arity=0),e.alias(K,"arg","angle"),e.defn(K,"$ceil",v=function(){var e=this;return e.$to_f().$ceil()},v.$$arity=0),e.defn(K,"$conj",w=function(){var e=this;return e},w.$$arity=0),e.alias(K,"conjugate","conj"),e.defn(K,"$denominator",k=function(){var e=this;return e.$to_r().$denominator()},k.$$arity=0),e.defn(K,"$div",x=function(e){var t=this;return e["$=="](0)&&t.$raise(W.get("ZeroDivisionError"),"divided by o"),r(t,e).$floor()},x.$$arity=1),e.defn(K,"$divmod",E=function(e){var t=this;return[t.$div(e),t["$%"](e)]},E.$$arity=1),e.defn(K,"$fdiv",A=function(e){var t=this;return r(t.$to_f(),e)},A.$$arity=1),e.defn(K,"$floor",O=function(){var e=this;return e.$to_f().$floor()},O.$$arity=0),e.defn(K,"$i",S=function(){var e=this;return e.$Complex(0,e)},S.$$arity=0),e.defn(K,"$imag",R=function(){return 0},R.$$arity=0),e.alias(K,"imaginary","imag"),e.defn(K,"$integer?",T=function(){return!1},T.$$arity=0),e.alias(K,"magnitude","abs"),e.alias(K,"modulo","%"),e.defn(K,"$nonzero?",I=function(){var e,t=this;return(e=t["$zero?"]())===a||null==e||e.$$is_boolean&&1!=e?t:a},I.$$arity=0),e.defn(K,"$numerator",C=function(){var e=this;return e.$to_r().$numerator()},C.$$arity=0),e.alias(K,"phase","arg"),e.defn(K,"$polar",N=function(){var e=this;return[e.$abs(),e.$arg()]},N.$$arity=0),e.defn(K,"$quo",M=function(e){var t=this;return r(W.get("Opal")["$coerce_to!"](t,W.get("Rational"),"to_r"),e)},M.$$arity=1),e.defn(K,"$real",L=function(){var e=this;return e},L.$$arity=0),e.defn(K,"$real?",z=function(){return!0},z.$$arity=0),e.defn(K,"$rect",P=function(){var e=this;return[e,0]},P.$$arity=0),e.alias(K,"rectangular","rect"),e.defn(K,"$round",D=function(e){var t=this;return t.$to_f().$round(e)},D.$$arity=-1),e.defn(K,"$to_c",B=function(){var e=this;return e.$Complex(e,0)},B.$$arity=0),e.defn(K,"$to_int",q=function(){var e=this;return e.$to_i()},q.$$arity=0),e.defn(K,"$truncate",j=function(){var e=this;return e.$to_f().$truncate()},j.$$arity=0),e.defn(K,"$zero?",F=function(){var e=this;return e["$=="](0)},F.$$arity=0),e.defn(K,"$positive?",U=function(){var e=this;return i(e,0)},U.$$arity=0),e.defn(K,"$negative?",G=function(){var e=this;return $(e,0)},G.$$arity=0),e.defn(K,"$dup",H=function(){var e=this;return e.$raise(W.get("TypeError"),"can't dup "+e.$class())},H.$$arity=0),e.defn(K,"$clone",Y=function(){var e=this;return e.$raise(W.get("TypeError"),"can't clone "+e.$class())},Y.$$arity=0),a&&"clone"}(o.base,null)},Opal.modules["corelib/array"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e>=t:e["$>="](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}var i=e.top,l=e,o=e.nil,a=(e.breaker,e.slice,e.klass),s=e.hash2,u=e.gvars;return e.add_stubs(["$require","$include","$to_a","$raise","$===","$replace","$respond_to?","$to_ary","$coerce_to","$coerce_to?","$join","$to_str","$class","$clone","$hash","$<=>","$==","$object_id","$inspect","$enum_for","$coerce_to!","$>","$*","$enumerator_size","$empty?","$size","$eql?","$length","$begin","$end","$exclude_end?","$flatten","$__id__","$[]","$to_s","$new","$!","$>=","$**","$delete_if","$to_proc","$each","$reverse","$rotate","$rand","$at","$keep_if","$shuffle!","$dup","$<","$sort","$sort_by","$!=","$times","$[]=","$<<","$values","$kind_of?","$last","$first","$upto","$reject","$pristine"]),i.$require("corelib/enumerable"),i.$require("corelib/numeric"),function(i,l){function c(){}function _(t,n){return n.$$name===e.Array?t:n.$allocate().$replace(t.$to_a())}function p(e,t){return e===t||0===t?1:t>0&&e>t?p(e-1,t-1)+p(e-1,t):0}function d(e,t){for(var n=t>=0?1:0;t;)n*=e,e--,t--;return n}var f,h,g,b,m,y,v,w,k,x,E,A,O,S,R,T,I,C,N,M,L,z,P,D,B,q,j,F,U,G,H,Y,K,W,X,V,J,Z,Q,ee,te,ne,$e,re,ie,le,oe,ae,se,ue,ce,_e,pe,de,fe,he,ge,be,me,ye,ve,we,ke,xe,Ee,Ae,Oe,Se,Re,Te,Ie,Ce,Ne,Me,Le,ze,Pe,De,Be,qe,je,Fe,Ue,Ge,He,Ye,Ke,We=c=a(i,l,"Array",c),Xe=We.$$proto,Ve=We.$$scope;return Xe.length=o,We.$include(Ve.get("Enumerable")),Xe.$$is_array=!0,e.defs(We,"$[]",f=function(e){var t,n=this,$=arguments.length,r=$-0;r<0&&(r=0),t=new Array(r);for(var i=0;i<$;i++)t[i-0]=arguments[i];return _(t,n)},f.$$arity=-1),e.defn(We,"$initialize",h=function(e,t){var n,$=this,r=h.$$p,i=r||o;if(null==e&&(e=o),null==t&&(t=o),h.$$p=null,(n=arguments.length>2)===o||null==n||n.$$is_boolean&&1!=n||$.$raise(Ve.get("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..2)"),0===arguments.length)return $.splice(0,$.length),$;if((n=1===arguments.length)!==o&&null!=n&&(!n.$$is_boolean||1==n)){if(!((n=Ve.get("Array")["$==="](e))===o||null==n||n.$$is_boolean&&1!=n))return $.$replace(e.$to_a()),$;if((n=e["$respond_to?"]("to_ary"))!==o&&null!=n&&(!n.$$is_boolean||1==n))return $.$replace(e.$to_ary()),$}e=Ve.get("Opal").$coerce_to(e,Ve.get("Integer"),"to_int"),(n=e<0)===o||null==n||n.$$is_boolean&&1!=n||$.$raise(Ve.get("ArgumentError"),"negative array size"),$.splice(0,$.length);var l,a;if(i===o)for(l=0;l<e;l++)$.push(t);else for(l=0,a;l<e;l++)a=i(l),$[l]=a;return $},h.$$arity=-1),e.defs(We,"$try_convert",g=function(e){return Ve.get("Opal")["$coerce_to?"](e,Ve.get("Array"),"to_ary")},g.$$arity=1),e.defn(We,"$&",b=function(t){var n,$=this;t=(n=Ve.get("Array")["$==="](t))===o||null==n||n.$$is_boolean&&1!=n?Ve.get("Opal").$coerce_to(t,Ve.get("Array"),"to_ary").$to_a():t.$to_a();var r,i,l,a=[],u=s([],{});for(r=0,i=t.length;r<i;r++)e.hash_put(u,t[r],!0);for(r=0,i=$.length;r<i;r++)l=$[r],void 0!==e.hash_delete(u,l)&&a.push(l);return a},b.$$arity=1),e.defn(We,"$|",m=function(t){var n,$=this;t=(n=Ve.get("Array")["$==="](t))===o||null==n||n.$$is_boolean&&1!=n?Ve.get("Opal").$coerce_to(t,Ve.get("Array"),"to_ary").$to_a():t.$to_a();var r,i,l=s([],{});for(r=0,i=$.length;r<i;r++)e.hash_put(l,$[r],!0);for(r=0,i=t.length;r<i;r++)e.hash_put(l,t[r],!0);return l.$keys()},m.$$arity=1),e.defn(We,"$*",y=function(e){var t,n=this;if((t=e["$respond_to?"]("to_str"))!==o&&null!=t&&(!t.$$is_boolean||1==t))return n.$join(e.$to_str());e=Ve.get("Opal").$coerce_to(e,Ve.get("Integer"),"to_int"),(t=e<0)===o||null==t||t.$$is_boolean&&1!=t||n.$raise(Ve.get("ArgumentError"),"negative argument");for(var $=[],r=n.$to_a(),i=0;i<e;i++)$=$.concat(r);return _($,n.$class())},y.$$arity=1),e.defn(We,"$+",v=function(e){var t,n=this;return e=(t=Ve.get("Array")["$==="](e))===o||null==t||t.$$is_boolean&&1!=t?Ve.get("Opal").$coerce_to(e,Ve.get("Array"),"to_ary").$to_a():e.$to_a(),n.concat(e)},v.$$arity=1),e.defn(We,"$-",w=function(t){var n,$=this;if(t=(n=Ve.get("Array")["$==="](t))===o||null==n||n.$$is_boolean&&1!=n?Ve.get("Opal").$coerce_to(t,Ve.get("Array"),"to_ary").$to_a():t.$to_a(),(n=0===$.length)!==o&&null!=n&&(!n.$$is_boolean||1==n))return[];if((n=0===t.length)!==o&&null!=n&&(!n.$$is_boolean||1==n))return $.$clone().$to_a();var r,i,l,a=[],u=s([],{});for(r=0,i=t.length;r<i;r++)e.hash_put(u,t[r],!0);for(r=0,i=$.length;r<i;r++)l=$[r],void 0===e.hash_get(u,l)&&a.push(l);return a},w.$$arity=1),e.defn(We,"$<<",k=function(e){var t=this;return t.push(e),t},k.$$arity=1),e.defn(We,"$<=>",x=function(e){var t,n=this;if((t=Ve.get("Array")["$==="](e))===o||null==t||t.$$is_boolean&&1!=t){if((t=e["$respond_to?"]("to_ary"))===o||null==t||t.$$is_boolean&&1!=t)return o;e=e.$to_ary().$to_a()}else e=e.$to_a();if(n.$hash()===e.$hash())return 0;for(var $=Math.min(n.length,e.length),r=0;r<$;r++){var i=n[r]["$<=>"](e[r]);if(0!==i)return i}return n.length["$<=>"](e.length)},x.$$arity=1),e.defn(We,"$==",E=function(e){function t(e,n){var r,i,l,o;if(e===n)return!0;if(!n.$$is_array)return!!Ve.get("Opal")["$respond_to?"](n,"to_ary")&&n["$=="](e);if(e.constructor!==Array&&(e=e.$to_a()),n.constructor!==Array&&(n=n.$to_a()),e.length!==n.length)return!1;for($[e.$object_id()]=!0,r=0,i=e.length;r<i;r++)if(l=e[r],o=n[r],l.$$is_array){if(o.$$is_array&&o.length!==l.length)return!1;if(!$.hasOwnProperty(l.$object_id())&&!t(l,o))return!1}else if(!l["$=="](o))return!1;return!0}var n=this,$={};return t(n,e)},E.$$arity=1),e.defn(We,"$[]",A=function(e,t){var n,$,r,i,l=this,a=l.length;if(e.$$is_range){if(n=e.exclude,$=Ve.get("Opal").$coerce_to(e.begin,Ve.get("Integer"),"to_int"),r=Ve.get("Opal").$coerce_to(e.end,Ve.get("Integer"),"to_int"),$<0&&($+=a,$<0))return o;if($>a)return o;if(r<0&&(r+=a,r<0))return[];n||(r+=1),i=l.slice($,r)}else{if(e=Ve.get("Opal").$coerce_to(e,Ve.get("Integer"),"to_int"),e<0&&(e+=a,e<0))return o;if(void 0===t)return e>=a||e<0?o:l[e];if(t=Ve.get("Opal").$coerce_to(t,Ve.get("Integer"),"to_int"),t<0||e>a||e<0)return o;i=l.slice(e,e+t)}return _(i,l.$class())},A.$$arity=-2),e.defn(We,"$[]=",O=function(e,t,n){var $,r,i=this,l=o,a=o,s=i.length;if(($=Ve.get("Range")["$==="](e))===o||null==$||$.$$is_boolean&&1!=$){($=void 0===n)===o||null==$||$.$$is_boolean&&1!=$?(a=t,t=n,l=($=Ve.get("Array")["$==="](t))===o||null==$||$.$$is_boolean&&1!=$?($=t["$respond_to?"]("to_ary"))===o||null==$||$.$$is_boolean&&1!=$?[t]:t.$to_ary().$to_a():t.$to_a()):a=1;var u;if(e=Ve.get("Opal").$coerce_to(e,Ve.get("Integer"),"to_int"),a=Ve.get("Opal").$coerce_to(a,Ve.get("Integer"),"to_int"),e<0&&(u=e,e+=s,e<0&&i.$raise(Ve.get("IndexError"),"index "+u+" too small for array; minimum "+-i.length)),a<0&&i.$raise(Ve.get("IndexError"),"negative length ("+a+")"),e>s)for(r=s;r<e;r++)i[r]=o;return void 0===n?i[e]=t:i.splice.apply(i,[e,a].concat(l)),t}l=($=Ve.get("Array")["$==="](t))===o||null==$||$.$$is_boolean&&1!=$?($=t["$respond_to?"]("to_ary"))===o||null==$||$.$$is_boolean&&1!=$?[t]:t.$to_ary().$to_a():t.$to_a();var c=e.exclude,_=Ve.get("Opal").$coerce_to(e.begin,Ve.get("Integer"),"to_int"),p=Ve.get("Opal").$coerce_to(e.end,Ve.get("Integer"),"to_int");if(_<0&&(_+=s,_<0&&i.$raise(Ve.get("RangeError"),""+e.$inspect()+" out of range")),p<0&&(p+=s),c||(p+=1),_>s)for(r=s;r<_;r++)i[r]=o;return p<0?i.splice.apply(i,[_,0].concat(l)):i.splice.apply(i,[_,p-_].concat(l)),t},O.$$arity=-3),e.defn(We,"$assoc",S=function(e){for(var t,n=this,$=0,r=n.length;$<r;$++)if(t=n[$],t.length&&t[0]["$=="](e))return t;return o},S.$$arity=1),e.defn(We,"$at",R=function(e){var t=this;return e=Ve.get("Opal").$coerce_to(e,Ve.get("Integer"),"to_int"),e<0&&(e+=t.length),e<0||e>=t.length?o:t[e]},R.$$arity=1),e.defn(We,"$bsearch",T=function(){var e=this,t=T.$$p,n=t||o;if(T.$$p=null,n===o)return e.$enum_for("bsearch");for(var $,r,i,l=0,a=e.length,s=!1,u=o;l<a;){if($=l+Math.floor((a-l)/2),r=e[$],i=n(r),i===!0)u=r,s=!0;else if(i===!1||i===o)s=!1;else if(i.$$is_number){if(0===i)return r;s=i<0}else e.$raise(Ve.get("TypeError"),"wrong argument type "+i.$class()+" (must be numeric, true, false or nil)");s?a=$:l=$+1}return u},T.$$arity=0),e.defn(We,"$cycle",I=function($){var r,i,l,a,s=this,u=I.$$p,c=u||o;if(null==$&&($=o),I.$$p=null,c===o)return(r=(i=s).$enum_for,r.$$p=(l=function(){var e,r=l.$$s||this;return $["$=="](o)?Ve.get("Float").$$scope.get("INFINITY"):($=Ve.get("Opal")["$coerce_to!"]($,Ve.get("Integer"),"to_int"),(e=t($,0))===o||null==e||e.$$is_boolean&&1!=e?0:n(r.$enumerator_size(),$))},l.$$s=s,l.$$arity=0,l),r).call(i,"cycle",$);if((r=(a=s["$empty?"]())!==!1&&a!==o&&null!=a?a:$["$=="](0))!==o&&null!=r&&(!r.$$is_boolean||1==r))return o;var _,p,d;if($===o)for(;;)for(_=0,p=s.length;_<p;_++)d=e.yield1(c,s[_]);else{if($=Ve.get("Opal")["$coerce_to!"]($,Ve.get("Integer"),"to_int"),$<=0)return s;for(;$>0;){for(_=0,p=s.length;_<p;_++)d=e.yield1(c,s[_]);$--}}return s},I.$$arity=-1),e.defn(We,"$clear",C=function(){var e=this;return e.splice(0,e.length),e},C.$$arity=0),e.defn(We,"$count",N=function(t){var n,$,r=this,i=N.$$p,l=i||o,a=o,s=o;for(null==t&&(t=o),N.$$p=null,a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return(n=($=t)!==!1&&$!==o&&null!=$?$:l)===o||null==n||n.$$is_boolean&&1!=n?r.$size():($=r,n=e.find_super_dispatcher(r,"count",N,!1),n.$$p=i,n).apply($,a)},N.$$arity=-1),e.defn(We,"$initialize_copy",M=function(e){var t=this;return t.$replace(e)},M.$$arity=1),e.defn(We,"$collect",L=function(){var t,n,$,r=this,i=L.$$p,l=i||o;if(L.$$p=null,l===o)return(t=(n=r).$enum_for,t.$$p=($=function(){var e=$.$$s||this;return e.$size()},$.$$s=r,$.$$arity=0,$),t).call(n,"collect");for(var a=[],s=0,u=r.length;s<u;s++){var c=e.yield1(l,r[s]);a.push(c)}return a},L.$$arity=0),e.defn(We,"$collect!",z=function(){var t,n,$,r=this,i=z.$$p,l=i||o;if(z.$$p=null,l===o)return(t=(n=r).$enum_for,t.$$p=($=function(){var e=$.$$s||this;return e.$size()},$.$$s=r,$.$$arity=0,$),t).call(n,"collect!");for(var a=0,s=r.length;a<s;a++){var u=e.yield1(l,r[a]);r[a]=u}return r},z.$$arity=0),e.defn(We,"$combination",P=function(t){var n,$,r,i=this,l=P.$$p,a=l||o,s=o;if(P.$$p=null,s=Ve.get("Opal")["$coerce_to!"](t,Ve.get("Integer"),"to_int"),a===o)return(n=($=i).$enum_for,n.$$p=(r=function(){var e=r.$$s||this;return p(e.length,s)},r.$$s=i,r.$$arity=0,r),n).call($,"combination",s);var u,c,_,d,f,h,g;if(0===s)e.yield1(a,[]);else if(1===s)for(u=0,c=i.length;u<c;u++)e.yield1(a,[i[u]]);else if(s===i.length)e.yield1(a,i.slice());else if(s>=0&&s<i.length){for(_=[],u=0;u<=s+1;u++)_.push(0);for(d=[],f=0,h=!1,_[0]=-1;!h;){for(d[f]=i[_[f+1]];f<s-1;)f++,g=_[f+1]=_[f]+1,d[f]=i[g];e.yield1(a,d.slice()),f++;do h=0===f,_[f]++,f--;while(_[f+1]+s===i.length+f+1)}}return i},P.$$arity=1),e.defn(We,"$repeated_combination",D=function(t){function n(t,$,r,i){if(r.length==t){var l=r.slice();return void e.yield1(s,l)}for(var o=$;o<i.length;o++)r.push(i[o]),n(t,o,r,i),r.pop()}var $,r,i,l=this,a=D.$$p,s=a||o,u=o;return D.$$p=null,u=Ve.get("Opal")["$coerce_to!"](t,Ve.get("Integer"),"to_int"),s===o?($=(r=l).$enum_for,$.$$p=(i=function(){var e=i.$$s||this;return p(e.length+u-1,u)},i.$$s=l,i.$$arity=0,i),$).call(r,"repeated_combination",u):(u>=0&&n(u,0,[],l),l)},D.$$arity=1),e.defn(We,"$compact",B=function(){for(var e,t=this,n=[],$=0,r=t.length;$<r;$++)(e=t[$])!==o&&n.push(e);return n},B.$$arity=0),e.defn(We,"$compact!",q=function(){for(var e=this,t=e.length,n=0,$=e.length;n<$;n++)e[n]===o&&(e.splice(n,1),$--,n--);return e.length===t?o:e},q.$$arity=0),e.defn(We,"$concat",j=function(e){var t,n=this;e=(t=Ve.get("Array")["$==="](e))===o||null==t||t.$$is_boolean&&1!=t?Ve.get("Opal").$coerce_to(e,Ve.get("Array"),"to_ary").$to_a():e.$to_a();for(var $=0,r=e.length;$<r;$++)n.push(e[$]);return n},j.$$arity=1),e.defn(We,"$delete",F=function(t){var n=this,$=F.$$p,r=$||o;F.$$p=null;for(var i=n.length,l=0,a=i;l<a;l++)n[l]["$=="](t)&&(n.splice(l,1),a--,l--);return n.length===i?r!==o?e.yieldX(r,[]):o:t},F.$$arity=1),e.defn(We,"$delete_at",U=function(e){var t=this;if(e=Ve.get("Opal").$coerce_to(e,Ve.get("Integer"),"to_int"),e<0&&(e+=t.length),e<0||e>=t.length)return o;var n=t[e];return t.splice(e,1),n},U.$$arity=1),e.defn(We,"$delete_if",G=function(){var e,t,n,$=this,r=G.$$p,i=r||o;if(G.$$p=null,i===o)return(e=(t=$).$enum_for,e.$$p=(n=function(){var e=n.$$s||this;return e.$size()},n.$$s=$,n.$$arity=0,n),e).call(t,"delete_if");for(var l,a=0,s=$.length;a<s;a++)l=i($[a]),l!==!1&&l!==o&&($.splice(a,1),s--,a--);return $},G.$$arity=0),e.defn(We,"$drop",H=function(e){var t=this;return e<0&&t.$raise(Ve.get("ArgumentError")),t.slice(e)},H.$$arity=1),e.defn(We,"$dup",Y=function(){var t,n,$=this,r=Y.$$p,i=o,l=o;for(Y.$$p=null,i=[],l=0;l<arguments.length;l++)i[l]=arguments[l];return $.$$class===e.Array&&$.$allocate.$$pristine&&$.$copy_instance_variables.$$pristine&&$.$initialize_dup.$$pristine?$.slice(0):(n=$,t=e.find_super_dispatcher($,"dup",Y,!1),t.$$p=r,t).apply(n,i)},Y.$$arity=0),e.defn(We,"$each",K=function(){var t,n,$,r=this,i=K.$$p,l=i||o;if(K.$$p=null,l===o)return(t=(n=r).$enum_for,t.$$p=($=function(){var e=$.$$s||this;return e.$size()},$.$$s=r,$.$$arity=0,$),t).call(n,"each");for(var a=0,s=r.length;a<s;a++){e.yield1(l,r[a])}return r},K.$$arity=0),e.defn(We,"$each_index",W=function(){var t,n,$,r=this,i=W.$$p,l=i||o;if(W.$$p=null,l===o)return(t=(n=r).$enum_for,t.$$p=($=function(){var e=$.$$s||this;return e.$size()},$.$$s=r,$.$$arity=0,$),t).call(n,"each_index");for(var a=0,s=r.length;a<s;a++){e.yield1(l,a)}return r},W.$$arity=0),e.defn(We,"$empty?",X=function(){var e=this;return 0===e.length},X.$$arity=0),e.defn(We,"$eql?",V=function(e){function t(e,n){var r,i,l,o;if(!n.$$is_array)return!1;if(n=n.$to_a(),e.length!==n.length)return!1;for($[e.$object_id()]=!0,r=0,i=e.length;r<i;r++)if(l=e[r],o=n[r],l.$$is_array){if(o.$$is_array&&o.length!==l.length)return!1;if(!$.hasOwnProperty(l.$object_id())&&!t(l,o))return!1}else if(!l["$eql?"](o))return!1;return!0}var n=this,$={};return t(n,e)},V.$$arity=1),e.defn(We,"$fetch",J=function(e,t){var n=this,$=J.$$p,r=$||o;J.$$p=null;var i=e;return e=Ve.get("Opal").$coerce_to(e,Ve.get("Integer"),"to_int"),e<0&&(e+=n.length),e>=0&&e<n.length?n[e]:r!==o?r(i):null!=t?t:void(0===n.length?n.$raise(Ve.get("IndexError"),"index "+i+" outside of array bounds: 0...0"):n.$raise(Ve.get("IndexError"),"index "+i+" outside of array bounds: -"+n.length+"..."+n.length));
},J.$$arity=-2),e.defn(We,"$fill",Z=function(t){var n,$,r,i=this,l=Z.$$p,a=l||o,s=o,u=o,c=o,_=o,p=o,d=arguments.length,f=d-0;f<0&&(f=0),r=new Array(f);for(var h=0;h<d;h++)r[h-0]=arguments[h];Z.$$p=null;var g,b,m;if(a!==!1&&a!==o&&null!=a?((n=r.length>2)===o||null==n||n.$$is_boolean&&1!=n||i.$raise(Ve.get("ArgumentError"),"wrong number of arguments ("+r.$length()+" for 0..2)"),$=r,n=e.to_ary($),s=null==n[0]?o:n[0],u=null==n[1]?o:n[1],$):((n=0==r.length)===o||null==n||n.$$is_boolean&&1!=n?(n=r.length>3)===o||null==n||n.$$is_boolean&&1!=n||i.$raise(Ve.get("ArgumentError"),"wrong number of arguments ("+r.$length()+" for 1..3)"):i.$raise(Ve.get("ArgumentError"),"wrong number of arguments (0 for 1..3)"),$=r,n=e.to_ary($),c=null==n[0]?o:n[0],s=null==n[1]?o:n[1],u=null==n[2]?o:n[2],$),(n=Ve.get("Range")["$==="](s))===o||null==n||n.$$is_boolean&&1!=n)if(s!==!1&&s!==o&&null!=s)if(_=Ve.get("Opal").$coerce_to(s,Ve.get("Integer"),"to_int"),(n=_<0)===o||null==n||n.$$is_boolean&&1!=n||(_+=i.length),(n=_<0)===o||null==n||n.$$is_boolean&&1!=n||(_=0),u!==!1&&u!==o&&null!=u){if(p=Ve.get("Opal").$coerce_to(u,Ve.get("Integer"),"to_int"),(n=0==p)!==o&&null!=n&&(!n.$$is_boolean||1==n))return i;p+=_}else p=i.length;else _=0,p=i.length;else if(u!==!1&&u!==o&&null!=u&&i.$raise(Ve.get("TypeError"),"length invalid with range"),_=Ve.get("Opal").$coerce_to(s.$begin(),Ve.get("Integer"),"to_int"),(n=_<0)===o||null==n||n.$$is_boolean&&1!=n||(_+=i.length),(n=_<0)===o||null==n||n.$$is_boolean&&1!=n||i.$raise(Ve.get("RangeError"),""+s.$inspect()+" out of range"),p=Ve.get("Opal").$coerce_to(s.$end(),Ve.get("Integer"),"to_int"),(n=p<0)===o||null==n||n.$$is_boolean&&1!=n||(p+=i.length),((n=s["$exclude_end?"]())===o||null==n||n.$$is_boolean&&1!=n)&&(p+=1),(n=p<=_)!==o&&null!=n&&(!n.$$is_boolean||1==n))return i;if((n=_>i.length)!==o&&null!=n&&(!n.$$is_boolean||1==n))for(g=i.length;g<p;g++)i[g]=o;if((n=p>i.length)===o||null==n||n.$$is_boolean&&1!=n||(i.length=p),a!==!1&&a!==o&&null!=a)for(b=i.length;_<p;_++)m=a(_),i[_]=m;else for(b=i.length;_<p;_++)i[_]=c;return i},Z.$$arity=-1),e.defn(We,"$first",Q=function(e){var t=this;return null==e?0===t.length?o:t[0]:(e=Ve.get("Opal").$coerce_to(e,Ve.get("Integer"),"to_int"),e<0&&t.$raise(Ve.get("ArgumentError"),"negative array size"),t.slice(0,e))},Q.$$arity=-1),e.defn(We,"$flatten",ee=function(e){function t(e,$){var r,i,l,a,s=[];for(e=e.$to_a(),r=0,i=e.length;r<i;r++)if(l=e[r],Ve.get("Opal")["$respond_to?"](l,"to_ary"))if(a=l.$to_ary(),a!==o)switch(a.$$is_array||n.$raise(Ve.get("TypeError")),a===n&&n.$raise(Ve.get("ArgumentError")),$){case void 0:s=s.concat(t(a));break;case 0:s.push(a);break;default:s.push.apply(s,t(a,$-1))}else s.push(l);else s.push(l);return s}var n=this;return void 0!==e&&(e=Ve.get("Opal").$coerce_to(e,Ve.get("Integer"),"to_int")),_(t(n,e),n.$class())},ee.$$arity=-1),e.defn(We,"$flatten!",te=function(e){var t=this,n=t.$flatten(e);if(t.length==n.length){for(var $=0,r=t.length;$<r&&t[$]===n[$];$++);if($==r)return o}return t.$replace(n),t},te.$$arity=-1),e.defn(We,"$hash",ne=function(){var t,n,$,r=this,i=void 0==e.hash_ids,l=["A"],o=r.$object_id();try{if(i&&(e.hash_ids={}),e.hash_ids.hasOwnProperty(o))return"self";for($ in e.hash_ids)if(e.hash_ids.hasOwnProperty($)&&(t=e.hash_ids[$],r["$eql?"](t)))return"self";for(e.hash_ids[o]=r,n=0;n<r.length;n++)t=r[n],l.push(t.$hash());return l.join(",")}finally{i&&delete e.hash_ids}},ne.$$arity=0),e.defn(We,"$include?",$e=function(e){for(var t=this,n=0,$=t.length;n<$;n++)if(t[n]["$=="](e))return!0;return!1},$e.$$arity=1),e.defn(We,"$index",re=function(e){var t=this,n=re.$$p,$=n||o;re.$$p=null;var r,i,l;if(null!=e){for(r=0,i=t.length;r<i;r++)if(t[r]["$=="](e))return r}else{if($===o)return t.$enum_for("index");for(r=0,i=t.length;r<i;r++)if(l=$(t[r]),l!==!1&&l!==o)return r}return o},re.$$arity=-1),e.defn(We,"$insert",ie=function(e,t){var n,$=this,r=arguments.length,i=r-1;i<0&&(i=0),n=new Array(i);for(var l=1;l<r;l++)n[l-1]=arguments[l];if(e=Ve.get("Opal").$coerce_to(e,Ve.get("Integer"),"to_int"),n.length>0){if(e<0&&(e+=$.length+1,e<0&&$.$raise(Ve.get("IndexError"),""+e+" is out of bounds")),e>$.length)for(var a=$.length;a<e;a++)$.push(o);$.splice.apply($,[e,0].concat(n))}return $},ie.$$arity=-2),e.defn(We,"$inspect",le=function(){for(var e=this,t=[],n=e.$__id__(),$=0,r=e.length;$<r;$++){var i=e["$[]"]($);i.$__id__()===n?t.push("[...]"):t.push(i.$inspect())}return"["+t.join(", ")+"]"},le.$$arity=0),e.defn(We,"$join",oe=function(e){var t,n=this;if(null==u[","]&&(u[","]=o),null==e&&(e=o),(t=0===n.length)!==o&&null!=t&&(!t.$$is_boolean||1==t))return"";(t=e===o)===o||null==t||t.$$is_boolean&&1!=t||(e=u[","]);var $,r,i,l,a=[];for($=0,r=n.length;$<r;$++)i=n[$],Ve.get("Opal")["$respond_to?"](i,"to_str")&&(l=i.$to_str(),l!==o)?a.push(l.$to_s()):Ve.get("Opal")["$respond_to?"](i,"to_ary")&&(l=i.$to_ary(),l===n&&n.$raise(Ve.get("ArgumentError")),l!==o)?a.push(l.$join(e)):Ve.get("Opal")["$respond_to?"](i,"to_s")&&(l=i.$to_s(),l!==o)?a.push(l):n.$raise(Ve.get("NoMethodError").$new(""+Ve.get("Opal").$inspect(i)+" doesn't respond to #to_str, #to_ary or #to_s","to_str"));return e===o?a.join(""):a.join(Ve.get("Opal")["$coerce_to!"](e,Ve.get("String"),"to_str").$to_s())},oe.$$arity=-1),e.defn(We,"$keep_if",ae=function(){var e,t,n,$=this,r=ae.$$p,i=r||o;if(ae.$$p=null,i===o)return(e=(t=$).$enum_for,e.$$p=(n=function(){var e=n.$$s||this;return e.$size()},n.$$s=$,n.$$arity=0,n),e).call(t,"keep_if");for(var l,a=0,s=$.length;a<s;a++)l=i($[a]),l!==!1&&l!==o||($.splice(a,1),s--,a--);return $},ae.$$arity=0),e.defn(We,"$last",se=function(e){var t=this;return null==e?0===t.length?o:t[t.length-1]:(e=Ve.get("Opal").$coerce_to(e,Ve.get("Integer"),"to_int"),e<0&&t.$raise(Ve.get("ArgumentError"),"negative array size"),e>t.length&&(e=t.length),t.slice(t.length-e,t.length))},se.$$arity=-1),e.defn(We,"$length",ue=function(){var e=this;return e.length},ue.$$arity=0),e.alias(We,"map","collect"),e.alias(We,"map!","collect!"),e.defn(We,"$permutation",ce=function(t){var n,$,r,i=this,l=ce.$$p,a=l||o,s=o,u=o;if(ce.$$p=null,a===o)return(n=($=i).$enum_for,n.$$p=(r=function(){var e=r.$$s||this;return d(e.length,void 0===t?e.length:t)},r.$$s=i,r.$$arity=0,r),n).call($,"permutation",t);var c,_,p;if(t=void 0===t?i.length:Ve.get("Opal").$coerce_to(t,Ve.get("Integer"),"to_int"),t<0||i.length<t);else if(0===t)e.yield1(a,[]);else if(1===t)for(var f=0;f<i.length;f++)e.yield1(a,[i[f]]);else s=Ve.get("Array").$new(t),u=Ve.get("Array").$new(i.length,!1),c=function(t,n,$,r,l){i=this;for(var o=0;o<i.length;o++)if(r["$[]"](o)["$!"]())if(n[$]=o,$<t-1)r[o]=!0,c.call(i,t,n,$+1,r,l),r[o]=!1;else{p=[];for(var a=0;a<n.length;a++)p.push(i[n[a]]);e.yield1(l,p)}},a!==o?(_=i.slice(),c.call(_,t,s,0,u,a)):c.call(i,t,s,0,u,a);return i},ce.$$arity=-1),e.defn(We,"$repeated_permutation",_e=function(t){function n(t,$,r){if($.length==t){var i=$.slice();return void e.yield1(u,i)}for(var l=0;l<r.length;l++)$.push(r[l]),n(t,$,r),$.pop()}var r,i,l,a=this,s=_e.$$p,u=s||o,c=o;return _e.$$p=null,c=Ve.get("Opal")["$coerce_to!"](t,Ve.get("Integer"),"to_int"),u===o?(r=(i=a).$enum_for,r.$$p=(l=function(){var e,t=l.$$s||this;return(e=$(c,0))===o||null==e||e.$$is_boolean&&1!=e?0:t.$size()["$**"](c)},l.$$s=a,l.$$arity=0,l),r).call(i,"repeated_permutation",c):(n(c,[],a.slice()),a)},_e.$$arity=1),e.defn(We,"$pop",pe=function(e){var t,n=this;return(t=void 0===e)===o||null==t||t.$$is_boolean&&1!=t?(e=Ve.get("Opal").$coerce_to(e,Ve.get("Integer"),"to_int"),(t=e<0)===o||null==t||t.$$is_boolean&&1!=t||n.$raise(Ve.get("ArgumentError"),"negative array size"),(t=0===n.length)===o||null==t||t.$$is_boolean&&1!=t?(t=e>n.length)===o||null==t||t.$$is_boolean&&1!=t?n.splice(n.length-e,n.length):n.splice(0,n.length):[]):(t=0===n.length)===o||null==t||t.$$is_boolean&&1!=t?n.pop():o},pe.$$arity=-1),e.defn(We,"$product",de=function(t){var n,$=this,r=de.$$p,i=r||o,l=arguments.length,a=l-0;a<0&&(a=0),n=new Array(a);for(var s=0;s<l;s++)n[s-0]=arguments[s];de.$$p=null;var u,c,_,p,d=i!==o?null:[],f=n.length+1,h=new Array(f),g=new Array(f),b=new Array(f),m=1;for(b[0]=$,u=1;u<f;u++)b[u]=Ve.get("Opal").$coerce_to(n[u-1],Ve.get("Array"),"to_ary");for(u=0;u<f;u++){if(p=b[u].length,0===p)return d||$;m*=p,m>2147483647&&$.$raise(Ve.get("RangeError"),"too big to product"),g[u]=p,h[u]=0}e:for(;;){for(_=[],u=0;u<f;u++)_.push(b[u][h[u]]);for(d?d.push(_):e.yield1(i,_),c=f-1,h[c]++;h[c]===g[c];){if(h[c]=0,--c<0)break e;h[c]++}}return d||$},de.$$arity=-1),e.defn(We,"$push",fe=function(e){var t,n=this,$=arguments.length,r=$-0;r<0&&(r=0),t=new Array(r);for(var i=0;i<$;i++)t[i-0]=arguments[i];for(var l=0,o=t.length;l<o;l++)n.push(t[l]);return n},fe.$$arity=-1),e.defn(We,"$rassoc",he=function(e){for(var t,n=this,$=0,r=n.length;$<r;$++)if(t=n[$],t.length&&void 0!==t[1]&&t[1]["$=="](e))return t;return o},he.$$arity=1),e.defn(We,"$reject",ge=function(){var e,t,n,$=this,r=ge.$$p,i=r||o;if(ge.$$p=null,i===o)return(e=(t=$).$enum_for,e.$$p=(n=function(){var e=n.$$s||this;return e.$size()},n.$$s=$,n.$$arity=0,n),e).call(t,"reject");for(var l,a=[],s=0,u=$.length;s<u;s++)l=i($[s]),l!==!1&&l!==o||a.push($[s]);return a},ge.$$arity=0),e.defn(We,"$reject!",be=function(){var e,t,n,$,r=this,i=be.$$p,l=i||o,a=o;return be.$$p=null,l===o?(e=(t=r).$enum_for,e.$$p=(n=function(){var e=n.$$s||this;return e.$size()},n.$$s=r,n.$$arity=0,n),e).call(t,"reject!"):(a=r.$length(),(e=($=r).$delete_if,e.$$p=l.$to_proc(),e).call($),r.$length()["$=="](a)?o:r)},be.$$arity=0),e.defn(We,"$replace",me=function(e){var t,n=this;return e=(t=Ve.get("Array")["$==="](e))===o||null==t||t.$$is_boolean&&1!=t?Ve.get("Opal").$coerce_to(e,Ve.get("Array"),"to_ary").$to_a():e.$to_a(),n.splice(0,n.length),n.push.apply(n,e),n},me.$$arity=1),e.defn(We,"$reverse",ye=function(){var e=this;return e.slice(0).reverse()},ye.$$arity=0),e.defn(We,"$reverse!",ve=function(){var e=this;return e.reverse()},ve.$$arity=0),e.defn(We,"$reverse_each",we=function(){var e,t,n,$,r=this,i=we.$$p,l=i||o;return we.$$p=null,l===o?(e=(t=r).$enum_for,e.$$p=(n=function(){var e=n.$$s||this;return e.$size()},n.$$s=r,n.$$arity=0,n),e).call(t,"reverse_each"):((e=($=r.$reverse()).$each,e.$$p=l.$to_proc(),e).call($),r)},we.$$arity=0),e.defn(We,"$rindex",ke=function(e){var t=this,n=ke.$$p,$=n||o;ke.$$p=null;var r,i;if(null!=e){for(r=t.length-1;r>=0&&!(r>=t.length);r--)if(t[r]["$=="](e))return r}else if($!==o){for(r=t.length-1;r>=0&&!(r>=t.length);r--)if(i=$(t[r]),i!==!1&&i!==o)return r}else if(null==e)return t.$enum_for("rindex");return o},ke.$$arity=-1),e.defn(We,"$rotate",xe=function(e){var t=this;null==e&&(e=1),e=Ve.get("Opal").$coerce_to(e,Ve.get("Integer"),"to_int");var n,$,r,i;return 1===t.length?t.slice():0===t.length?[]:(n=t.slice(),$=e%n.length,r=n.slice($),i=n.slice(0,$),r.concat(i))},xe.$$arity=-1),e.defn(We,"$rotate!",Ee=function(e){var t=this,n=o;return null==e&&(e=1),0===t.length||1===t.length?t:(e=Ve.get("Opal").$coerce_to(e,Ve.get("Integer"),"to_int"),n=t.$rotate(e),t.$replace(n))},Ee.$$arity=-1),function(t,n){function $(){}var r,i,l=$=a(t,n,"SampleRandom",$),s=l.$$proto,u=l.$$scope;return s.rng=o,e.defn(l,"$initialize",r=function(e){var t=this;return t.rng=e},r.$$arity=1),e.defn(l,"$rand",i=function(e){var t,n=this,$=o;return $=u.get("Opal").$coerce_to(n.rng.$rand(e),u.get("Integer"),"to_int"),(t=$<0)===o||null==t||t.$$is_boolean&&1!=t||n.$raise(u.get("RangeError"),"random value must be >= 0"),((t=$<e)===o||null==t||t.$$is_boolean&&1!=t)&&n.$raise(u.get("RangeError"),"random value must be less than Array size"),$},i.$$arity=1),o&&"rand"}(Ve.base,null),e.defn(We,"$sample",Ae=function(e,t){var n,$,r=this,i=o,l=o;if((n=void 0===e)!==o&&null!=n&&(!n.$$is_boolean||1==n))return r.$at(Ve.get("Kernel").$rand(r.length));if((n=void 0===t)===o||null==n||n.$$is_boolean&&1!=n?(e=Ve.get("Opal").$coerce_to(e,Ve.get("Integer"),"to_int"),t=Ve.get("Opal").$coerce_to(t,Ve.get("Hash"),"to_hash")):(n=i=Ve.get("Opal")["$coerce_to?"](e,Ve.get("Hash"),"to_hash"))===o||null==n||n.$$is_boolean&&1!=n?(t=o,e=Ve.get("Opal").$coerce_to(e,Ve.get("Integer"),"to_int")):(t=i,e=o),(n=($=e!==!1&&e!==o&&null!=e)?e<0:e)===o||null==n||n.$$is_boolean&&1!=n||r.$raise(Ve.get("ArgumentError"),"count must be greater than 0"),t!==!1&&t!==o&&null!=t&&(l=t["$[]"]("random")),l=(n=($=l!==!1&&l!==o&&null!=l)?l["$respond_to?"]("rand"):l)===o||null==n||n.$$is_boolean&&1!=n?Ve.get("Kernel"):Ve.get("SampleRandom").$new(l),e===!1||e===o||null==e)return r[l.$rand(r.length)];var a,s,u,c,_,p,d,f;switch(e>r.length&&(e=r.length),e){case 0:return[];case 1:return[r[l.$rand(r.length)]];case 2:return c=l.$rand(r.length),_=l.$rand(r.length),c===_&&(_=0===c?c+1:c-1),[r[c],r[_]];default:if(r.length/e>3){for(a=!1,s=0,u=Ve.get("Array").$new(e),c=1,u[0]=l.$rand(r.length);c<e;){for(p=l.$rand(r.length),_=0;_<c;){for(;p===u[_];){if(s++,s>100){a=!0;break}p=l.$rand(r.length)}if(a)break;_++}if(a)break;u[c]=p,c++}if(!a){for(c=0;c<e;)u[c]=r[u[c]],c++;return u}}u=r.slice();for(var h=0;h<e;h++)d=l.$rand(r.length),f=u[h],u[h]=u[d],u[d]=f;return e===r.length?u:u["$[]"](0,e)}},Ae.$$arity=-1),e.defn(We,"$select",Oe=function(){var t,n,$,r=this,i=Oe.$$p,l=i||o;if(Oe.$$p=null,l===o)return(t=(n=r).$enum_for,t.$$p=($=function(){var e=$.$$s||this;return e.$size()},$.$$s=r,$.$$arity=0,$),t).call(n,"select");for(var a,s,u=[],c=0,_=r.length;c<_;c++)a=r[c],s=e.yield1(l,a),s!==!1&&s!==o&&u.push(a);return u},Oe.$$arity=0),e.defn(We,"$select!",Se=function(){var e,t,n,$,r=this,i=Se.$$p,l=i||o;if(Se.$$p=null,l===o)return(e=(t=r).$enum_for,e.$$p=(n=function(){var e=n.$$s||this;return e.$size()},n.$$s=r,n.$$arity=0,n),e).call(t,"select!");var a=r.length;return(e=($=r).$keep_if,e.$$p=l.$to_proc(),e).call($),r.length===a?o:r},Se.$$arity=0),e.defn(We,"$shift",Re=function(e){var t,n=this;return(t=void 0===e)===o||null==t||t.$$is_boolean&&1!=t?(e=Ve.get("Opal").$coerce_to(e,Ve.get("Integer"),"to_int"),(t=e<0)===o||null==t||t.$$is_boolean&&1!=t||n.$raise(Ve.get("ArgumentError"),"negative array size"),(t=0===n.length)===o||null==t||t.$$is_boolean&&1!=t?n.splice(0,e):[]):(t=0===n.length)===o||null==t||t.$$is_boolean&&1!=t?n.shift():o},Re.$$arity=-1),e.alias(We,"size","length"),e.defn(We,"$shuffle",Te=function(e){var t=this;return t.$dup().$to_a()["$shuffle!"](e)},Te.$$arity=-1),e.defn(We,"$shuffle!",Ie=function(e){var t,n,$,r=this,i=r.length;for(void 0!==e&&(e=Ve.get("Opal")["$coerce_to?"](e,Ve.get("Hash"),"to_hash"),e!==o&&(e=e["$[]"]("random"),e!==o&&e["$respond_to?"]("rand")&&(t=e)));i;)t?(n=t.$rand(i).$to_int(),n<0&&r.$raise(Ve.get("RangeError"),"random number too small "+n),n>=i&&r.$raise(Ve.get("RangeError"),"random number too big "+n)):n=Math.floor(Math.random()*i),$=r[--i],r[i]=r[n],r[n]=$;return r},Ie.$$arity=-1),e.alias(We,"slice","[]"),e.defn(We,"$slice!",Ce=function(e,t){var n,$=this,r=o,i=o,l=o,a=o,s=o;if(r=o,(n=void 0===t)===o||null==n||n.$$is_boolean&&1!=n){if(s=Ve.get("Opal").$coerce_to(e,Ve.get("Integer"),"to_int"),t=Ve.get("Opal").$coerce_to(t,Ve.get("Integer"),"to_int"),t<0)return o;r=$["$[]"](s,t),s<0&&(s+=$.length),s+t>$.length&&(t=$.length-s),s<$.length&&s>=0&&$.splice(s,t)}else if((n=Ve.get("Range")["$==="](e))===o||null==n||n.$$is_boolean&&1!=n){if(s=Ve.get("Opal").$coerce_to(e,Ve.get("Integer"),"to_int"),s<0&&(s+=$.length),s<0||s>=$.length)return o;r=$[s],0===s?$.shift():$.splice(s,1)}else{i=e,r=$["$[]"](i),l=Ve.get("Opal").$coerce_to(i.$begin(),Ve.get("Integer"),"to_int"),a=Ve.get("Opal").$coerce_to(i.$end(),Ve.get("Integer"),"to_int"),l<0&&(l+=$.length),a<0?a+=$.length:a>=$.length&&(a=$.length-1,i.exclude&&(a+=1));var u=a-l;i.exclude?a-=1:u+=1,l<$.length&&l>=0&&a<$.length&&a>=0&&u>0&&$.splice(l,u)}return r},Ce.$$arity=-2),e.defn(We,"$sort",Ne=function(){var e,n=this,$=Ne.$$p,i=$||o;return Ne.$$p=null,(e=n.length>1)===o||null==e||e.$$is_boolean&&1!=e?n:(i===o&&(i=function(e,t){return e["$<=>"](t)}),n.slice().sort(function(e,$){var l=i(e,$);return l===o&&n.$raise(Ve.get("ArgumentError"),"comparison of "+e.$inspect()+" with "+$.$inspect()+" failed"),t(l,0)?1:r(l,0)?-1:0}))},Ne.$$arity=0),e.defn(We,"$sort!",Me=function(){var e,t,n=this,$=Me.$$p,r=$||o;Me.$$p=null;var i;i=r!==o?(e=(t=n.slice()).$sort,e.$$p=r.$to_proc(),e).call(t):n.slice().$sort(),n.length=0;for(var l=0,a=i.length;l<a;l++)n.push(i[l]);return n},Me.$$arity=0),e.defn(We,"$sort_by!",Le=function(){var e,t,n,$,r=this,i=Le.$$p,l=i||o;return Le.$$p=null,l===o?(e=(t=r).$enum_for,e.$$p=(n=function(){var e=n.$$s||this;return e.$size()},n.$$s=r,n.$$arity=0,n),e).call(t,"sort_by!"):r.$replace((e=($=r).$sort_by,e.$$p=l.$to_proc(),e).call($))},Le.$$arity=0),e.defn(We,"$take",ze=function(e){var t=this;return e<0&&t.$raise(Ve.get("ArgumentError")),t.slice(0,e)},ze.$$arity=1),e.defn(We,"$take_while",Pe=function(){var e=this,t=Pe.$$p,n=t||o;Pe.$$p=null;for(var $,r,i=[],l=0,a=e.length;l<a;l++){if($=e[l],r=n($),r===!1||r===o)return i;i.push($)}return i},Pe.$$arity=0),e.defn(We,"$to_a",De=function(){var e=this;return e},De.$$arity=0),e.alias(We,"to_ary","to_a"),e.defn(We,"$to_h",Be=function(){var t,n,$,r,i=this,l=i.length,o=s([],{});for(t=0;t<l;t++)n=Ve.get("Opal")["$coerce_to?"](i[t],Ve.get("Array"),"to_ary"),n.$$is_array||i.$raise(Ve.get("TypeError"),"wrong element type "+n.$class()+" at "+t+" (expected array)"),2!==n.length&&i.$raise(Ve.get("ArgumentError"),"wrong array length at "+t+" (expected 2, was "+n.$length()+")"),$=n[0],r=n[1],e.hash_put(o,$,r);return o},Be.$$arity=0),e.alias(We,"to_s","inspect"),e.defn(We,"$transpose",qe=function(){var e,t,n,$=this,r=o,i=o;return(e=$["$empty?"]())===o||null==e||e.$$is_boolean&&1!=e?(r=[],i=o,(e=(t=$).$each,e.$$p=(n=function(e){var t,$,l,a=n.$$s||this;return null==e&&(e=o),e=(t=Ve.get("Array")["$==="](e))===o||null==t||t.$$is_boolean&&1!=t?Ve.get("Opal").$coerce_to(e,Ve.get("Array"),"to_ary").$to_a():e.$to_a(),(t=i)!==!1&&t!==o&&null!=t?t:i=e.length,(t=e.length["$!="](i))===o||null==t||t.$$is_boolean&&1!=t||a.$raise(Ve.get("IndexError"),"element size differs ("+e.length+" should be "+i),(t=($=e.length).$times,t.$$p=(l=function(t){var n,$,i,a=(l.$$s||this,o);return null==t&&(t=o),n=t,$=r,a=(i=$["$[]"](n))!==!1&&i!==o&&null!=i?i:$["$[]="](n,[]),a["$<<"](e.$at(t))},l.$$s=a,l.$$arity=1,l),t).call($)},n.$$s=$,n.$$arity=1,n),e).call(t),r):[]},qe.$$arity=0),e.defn(We,"$uniq",je=function(){var t=this,n=je.$$p,$=n||o;je.$$p=null;var r,i,l,a,u=s([],{});if($===o)for(r=0,i=t.length;r<i;r++)l=t[r],void 0===e.hash_get(u,l)&&e.hash_put(u,l,l);else for(r=0,i=t.length;r<i;r++)l=t[r],a=e.yield1($,l),void 0===e.hash_get(u,a)&&e.hash_put(u,a,l);return _(u.$values(),t.$class())},je.$$arity=0),e.defn(We,"$uniq!",Fe=function(){var t=this,n=Fe.$$p,$=n||o;Fe.$$p=null;var r,i,l,a,u=t.length,c=s([],{});for(r=0,i=u;r<i;r++)l=t[r],a=$===o?l:e.yield1($,l),void 0!==e.hash_get(c,a)?(t.splice(r,1),i--,r--):e.hash_put(c,a,l);return t.length===u?o:t},Fe.$$arity=0),e.defn(We,"$unshift",Ue=function(e){var t,n=this,$=arguments.length,r=$-0;r<0&&(r=0),t=new Array(r);for(var i=0;i<$;i++)t[i-0]=arguments[i];for(var l=t.length-1;l>=0;l--)n.unshift(t[l]);return n},Ue.$$arity=-1),e.defn(We,"$values_at",Ge=function(e){var t,n,$,r,i=this,l=o,a=arguments.length,s=a-0;s<0&&(s=0),r=new Array(s);for(var u=0;u<a;u++)r[u-0]=arguments[u];return l=[],(t=(n=r).$each,t.$$p=($=function(e){var t,n,r,i=$.$$s||this,a=o,s=o,u=o;return null==e&&(e=o),(t=e["$kind_of?"](Ve.get("Range")))===o||null==t||t.$$is_boolean&&1!=t?(u=Ve.get("Opal").$coerce_to(e,Ve.get("Integer"),"to_int"),l["$<<"](i.$at(u))):(a=Ve.get("Opal").$coerce_to(e.$last(),Ve.get("Integer"),"to_int"),s=Ve.get("Opal").$coerce_to(e.$first(),Ve.get("Integer"),"to_int"),s<0?(s+=i.length,o):(a<0&&(a+=i.length),e["$exclude_end?"]()&&a--,a<s?o:(t=(n=s).$upto,t.$$p=(r=function(e){var t=r.$$s||this;return null==e&&(e=o),l["$<<"](t.$at(e))},r.$$s=i,r.$$arity=1,r),t).call(n,a)))},$.$$s=i,$.$$arity=1,$),t).call(n),l},Ge.$$arity=-1),e.defn(We,"$zip",He=function(e){var t,n,$=this,r=He.$$p,i=r||o,l=arguments.length,a=l-0;a<0&&(a=0),n=new Array(a);for(var s=0;s<l;s++)n[s-0]=arguments[s];He.$$p=null;var u,c,_,p,d,f=[],h=$.length;for(p=0,d=n.length;p<d;p++)c=n[p],c.$$is_array||(c.$$is_enumerator?c.$size()===1/0?n[p]=c.$take(h):n[p]=c.$to_a():n[p]=((t=Ve.get("Opal")["$coerce_to?"](c,Ve.get("Array"),"to_ary"))!==!1&&t!==o&&null!=t?t:Ve.get("Opal")["$coerce_to!"](c,Ve.get("Enumerator"),"each")).$to_a());for(_=0;_<h;_++){for(u=[$[_]],p=0,d=n.length;p<d;p++)c=n[p][_],null==c&&(c=o),u[p+1]=c;f[_]=u}if(i!==o){for(_=0;_<h;_++)i(f[_]);return o}return f},He.$$arity=-1),e.defs(We,"$inherited",Ye=function(e){e.$$proto.$to_a=function(){return this.slice(0,this.length)}},Ye.$$arity=1),e.defn(We,"$instance_variables",Ke=function(){var t,n,$,r,i,l=this,a=Ke.$$p,s=o,u=o;for(Ke.$$p=null,s=[],u=0;u<arguments.length;u++)s[u]=arguments[u];return(t=(n=(i=l,r=e.find_super_dispatcher(l,"instance_variables",Ke,!1),r.$$p=a,r).apply(i,s)).$reject,t.$$p=($=function(e){var t;$.$$s||this;return null==e&&(e=o),(t=/^@\d+$/.test(e))!==!1&&t!==o&&null!=t?t:e["$=="]("@length")},$.$$s=l,$.$$arity=1,$),t).call(n)},Ke.$$arity=0),Ve.get("Opal").$pristine(We,"allocate","copy_instance_variables","initialize_dup")}(l.base,Array)},Opal.modules["corelib/hash"]=function(e){var t=e.top,n=e,$=e.nil,r=(e.breaker,e.slice,e.klass);return e.add_stubs(["$require","$include","$coerce_to?","$[]","$merge!","$allocate","$raise","$==","$coerce_to!","$lambda?","$abs","$arity","$call","$enum_for","$size","$inspect","$flatten","$eql?","$default","$to_proc","$dup","$===","$default_proc","$default_proc=","$default=","$alias_method"]),t.$require("corelib/enumerable"),function(t,n){function i(){}var l,o,a,s,u,c,_,p,d,f,h,g,b,m,y,v,w,k,x,E,A,O,S,R,T,I,C,N,M,L,z,P,D,B,q,j,F,U,G,H,Y,K,W,X,V,J,Z=i=r(t,n,"Hash",i),Q=Z.$$proto,ee=Z.$$scope;Z.$include(ee.get("Enumerable")),Q.$$is_hash=!0,e.defs(Z,"$[]",l=function(e){var t,n=this,r=arguments.length,i=r-0;i<0&&(i=0),t=new Array(i);for(var l=0;l<r;l++)t[l-0]=arguments[l];var o,a,s=t.length;if(1===s){if(o=ee.get("Opal")["$coerce_to?"](t["$[]"](0),ee.get("Hash"),"to_hash"),o!==$)return n.$allocate()["$merge!"](o);for(t=ee.get("Opal")["$coerce_to?"](t["$[]"](0),ee.get("Array"),"to_ary"),t===$&&n.$raise(ee.get("ArgumentError"),"odd number of arguments for Hash"),s=t.length,o=n.$allocate(),a=0;a<s;a++)if(t[a].$$is_array)switch(t[a].length){case 1:o.$store(t[a][0],$);break;case 2:o.$store(t[a][0],t[a][1]);break;default:n.$raise(ee.get("ArgumentError"),"invalid number of elements ("+t[a].length+" for 1..2)")}return o}for(s%2!==0&&n.$raise(ee.get("ArgumentError"),"odd number of arguments for Hash"),o=n.$allocate(),a=0;a<s;a+=2)o.$store(t[a],t[a+1]);return o},l.$$arity=-1),e.defs(Z,"$allocate",o=function(){var t=this,n=new t.$$alloc;return e.hash_init(n),n.$$none=$,n.$$proc=$,n},o.$$arity=0),e.defs(Z,"$try_convert",a=function(e){return ee.get("Opal")["$coerce_to?"](e,ee.get("Hash"),"to_hash")},a.$$arity=1),e.defn(Z,"$initialize",s=function(e){var t=this,n=s.$$p,r=n||$;return s.$$p=null,void 0!==e&&r!==$&&t.$raise(ee.get("ArgumentError"),"wrong number of arguments (1 for 0)"),t.$$none=void 0===e?$:e,t.$$proc=r,t},s.$$arity=-1),e.defn(Z,"$==",u=function(t){var n=this;if(n===t)return!0;if(!t.$$is_hash)return!1;if(n.$$keys.length!==t.$$keys.length)return!1;for(var $,r,i,l=0,o=n.$$keys,a=o.length;l<a;l++)if($=o[l],$.$$is_string?(r=n.$$smap[$],i=t.$$smap[$]):(r=$.value,i=e.hash_get(t,$.key)),void 0===i||!r["$eql?"](i))return!1;return!0},u.$$arity=1),e.defn(Z,"$[]",c=function(t){var n=this,$=e.hash_get(n,t);return void 0!==$?$:n.$default(t)},c.$$arity=1),e.defn(Z,"$[]=",_=function(t,n){var $=this;return e.hash_put($,t,n),n},_.$$arity=2),e.defn(Z,"$assoc",p=function(e){for(var t,n=this,r=0,i=n.$$keys,l=i.length;r<l;r++)if(t=i[r],t.$$is_string){if(t["$=="](e))return[t,n.$$smap[t]]}else if(t.key["$=="](e))return[t.key,t.value];return $},p.$$arity=1),e.defn(Z,"$clear",d=function(){var t=this;return e.hash_init(t),t},d.$$arity=0),e.defn(Z,"$clone",f=function(){var t=this,n=new t.$$class.$$alloc;return e.hash_init(n),e.hash_clone(t,n),n},f.$$arity=0),e.defn(Z,"$default",h=function(e){var t=this;return void 0!==e&&t.$$proc!==$&&void 0!==t.$$proc?t.$$proc.$call(t,e):void 0===t.$$none?$:t.$$none},h.$$arity=-1),e.defn(Z,"$default=",g=function(e){var t=this;return t.$$proc=$,t.$$none=e,e},g.$$arity=1),e.defn(Z,"$default_proc",b=function(){var e=this;return void 0!==e.$$proc?e.$$proc:$},b.$$arity=0),e.defn(Z,"$default_proc=",m=function(e){var t=this;return e!==$&&(e=ee.get("Opal")["$coerce_to!"](e,ee.get("Proc"),"to_proc"),e["$lambda?"]()&&2!==e.$arity().$abs()&&t.$raise(ee.get("TypeError"),"default_proc takes two arguments")),t.$$none=$,t.$$proc=e,e},m.$$arity=1),e.defn(Z,"$delete",y=function(t){var n=this,r=y.$$p,i=r||$;y.$$p=null;var l=e.hash_delete(n,t);return void 0!==l?l:i!==$?i.$call(t):$},y.$$arity=1),e.defn(Z,"$delete_if",v=function(){var t,n,r,i=this,l=v.$$p,o=l||$;if(v.$$p=null,o===!1||o===$||null==o)return(t=(n=i).$enum_for,t.$$p=(r=function(){var e=r.$$s||this;return e.$size()},r.$$s=i,r.$$arity=0,r),t).call(n,"delete_if");for(var a,s,u,c=0,_=i.$$keys,p=_.length;c<p;c++)a=_[c],a.$$is_string?s=i.$$smap[a]:(s=a.value,a=a.key),u=o(a,s),u!==!1&&u!==$&&void 0!==e.hash_delete(i,a)&&(p--,c--);return i},v.$$arity=0),e.alias(Z,"dup","clone"),e.defn(Z,"$each",w=function(){var t,n,r,i=this,l=w.$$p,o=l||$;if(w.$$p=null,o===!1||o===$||null==o)return(t=(n=i).$enum_for,t.$$p=(r=function(){var e=r.$$s||this;return e.$size()},r.$$s=i,r.$$arity=0,r),t).call(n,"each");for(var a,s,u=0,c=i.$$keys,_=c.length;u<_;u++)a=c[u],a.$$is_string?s=i.$$smap[a]:(s=a.value,a=a.key),e.yield1(o,[a,s]);return i},w.$$arity=0),e.defn(Z,"$each_key",k=function(){var e,t,n,r=this,i=k.$$p,l=i||$;if(k.$$p=null,l===!1||l===$||null==l)return(e=(t=r).$enum_for,e.$$p=(n=function(){var e=n.$$s||this;return e.$size()},n.$$s=r,n.$$arity=0,n),e).call(t,"each_key");for(var o,a=0,s=r.$$keys,u=s.length;a<u;a++)o=s[a],l(o.$$is_string?o:o.key);return r},k.$$arity=0),e.alias(Z,"each_pair","each"),e.defn(Z,"$each_value",x=function(){var e,t,n,r=this,i=x.$$p,l=i||$;if(x.$$p=null,l===!1||l===$||null==l)return(e=(t=r).$enum_for,e.$$p=(n=function(){var e=n.$$s||this;return e.$size()},n.$$s=r,n.$$arity=0,n),e).call(t,"each_value");for(var o,a=0,s=r.$$keys,u=s.length;a<u;a++)o=s[a],l(o.$$is_string?r.$$smap[o]:o.value);return r},x.$$arity=0),e.defn(Z,"$empty?",E=function(){var e=this;return 0===e.$$keys.length},E.$$arity=0),e.alias(Z,"eql?","=="),e.defn(Z,"$fetch",A=function(t,n){var r=this,i=A.$$p,l=i||$;A.$$p=null;var o=e.hash_get(r,t);return void 0!==o?o:l!==$?l(t):void 0!==n?n:r.$raise(ee.get("KeyError"),"key not found: "+t.$inspect())},A.$$arity=-2),e.defn(Z,"$flatten",O=function(e){var t=this;null==e&&(e=1),e=ee.get("Opal")["$coerce_to!"](e,ee.get("Integer"),"to_int");for(var n,$,r=[],i=0,l=t.$$keys,o=l.length;i<o;i++)if(n=l[i],n.$$is_string?$=t.$$smap[n]:($=n.value,n=n.key),r.push(n),$.$$is_array){if(1===e){r.push($);continue}r=r.concat($.$flatten(e-2))}else r.push($);return r},O.$$arity=-1),e.defn(Z,"$has_key?",S=function(t){var n=this;return void 0!==e.hash_get(n,t)},S.$$arity=1),e.defn(Z,"$has_value?",R=function(e){for(var t,n=this,$=0,r=n.$$keys,i=r.length;$<i;$++)if(t=r[$],(t.$$is_string?n.$$smap[t]:t.value)["$=="](e))return!0;return!1},R.$$arity=1),e.defn(Z,"$hash",T=function(){var t,n,$=this,r=void 0===e.hash_ids,i=$.$object_id(),l=["Hash"];try{if(r&&(e.hash_ids={}),e.hash_ids.hasOwnProperty(i))return"self";for(t in e.hash_ids)if(e.hash_ids.hasOwnProperty(t)&&(n=e.hash_ids[t],$["$eql?"](n)))return"self";e.hash_ids[i]=$;for(var o=0,a=$.$$keys,s=a.length;o<s;o++)t=a[o],t.$$is_string?l.push([t,$.$$smap[t].$hash()]):l.push([t.key_hash,t.value.$hash()]);return l.sort().join()}finally{r&&delete e.hash_ids}},T.$$arity=0),e.alias(Z,"include?","has_key?"),e.defn(Z,"$index",I=function(e){for(var t,n,r=this,i=0,l=r.$$keys,o=l.length;i<o;i++)if(t=l[i],t.$$is_string?n=r.$$smap[t]:(n=t.value,t=t.key),n["$=="](e))return t;return $},I.$$arity=1),e.defn(Z,"$indexes",C=function(t){var n,$=this,r=arguments.length,i=r-0;i<0&&(i=0),n=new Array(i);for(var l=0;l<r;l++)n[l-0]=arguments[l];for(var o,a,s=[],u=0,c=n.length;u<c;u++)o=n[u],a=e.hash_get($,o),void 0!==a?s.push(a):s.push($.$default());return s},C.$$arity=-1),e.alias(Z,"indices","indexes");var te;return e.defn(Z,"$inspect",N=function(){var e=this,t=void 0===te,n=e.$object_id(),$=[];try{if(t&&(te={}),te.hasOwnProperty(n))return"{...}";te[n]=!0;for(var r,i,l=0,o=e.$$keys,a=o.length;l<a;l++)r=o[l],r.$$is_string?i=e.$$smap[r]:(i=r.value,r=r.key),$.push(r.$inspect()+"=>"+i.$inspect());return"{"+$.join(", ")+"}"}finally{t&&(te=void 0)}},N.$$arity=0),e.defn(Z,"$invert",M=function(){for(var t,n,$=this,r=e.hash(),i=0,l=$.$$keys,o=l.length;i<o;i++)t=l[i],t.$$is_string?n=$.$$smap[t]:(n=t.value,t=t.key),e.hash_put(r,n,t);return r},M.$$arity=0),e.defn(Z,"$keep_if",L=function(){var t,n,r,i=this,l=L.$$p,o=l||$;if(L.$$p=null,o===!1||o===$||null==o)return(t=(n=i).$enum_for,t.$$p=(r=function(){var e=r.$$s||this;return e.$size()},r.$$s=i,r.$$arity=0,r),t).call(n,"keep_if");for(var a,s,u,c=0,_=i.$$keys,p=_.length;c<p;c++)a=_[c],a.$$is_string?s=i.$$smap[a]:(s=a.value,a=a.key),u=o(a,s),u!==!1&&u!==$||void 0!==e.hash_delete(i,a)&&(p--,c--);return i},L.$$arity=0),e.alias(Z,"key","index"),e.alias(Z,"key?","has_key?"),e.defn(Z,"$keys",z=function(){for(var e,t=this,n=[],$=0,r=t.$$keys,i=r.length;$<i;$++)e=r[$],e.$$is_string?n.push(e):n.push(e.key);return n},z.$$arity=0),e.defn(Z,"$length",P=function(){var e=this;return e.$$keys.length},P.$$arity=0),e.alias(Z,"member?","has_key?"),e.defn(Z,"$merge",D=function(e){var t,n,r=this,i=D.$$p,l=i||$;return D.$$p=null,(t=(n=r.$dup())["$merge!"],t.$$p=l.$to_proc(),t).call(n,e)},D.$$arity=1),e.defn(Z,"$merge!",B=function(t){var n=this,r=B.$$p,i=r||$;B.$$p=null,ee.get("Hash")["$==="](t)||(t=ee.get("Opal")["$coerce_to!"](t,ee.get("Hash"),"to_hash"));var l,o,a,s,u=t.$$keys,c=u.length;if(i===$){for(l=0;l<c;l++)o=u[l],o.$$is_string?s=t.$$smap[o]:(s=o.value,o=o.key),e.hash_put(n,o,s);return n}for(l=0;l<c;l++)o=u[l],o.$$is_string?s=t.$$smap[o]:(s=o.value,o=o.key),a=e.hash_get(n,o),void 0!==a?e.hash_put(n,o,i(o,a,s)):e.hash_put(n,o,s);return n},B.$$arity=1),e.defn(Z,"$rassoc",q=function(e){for(var t,n,r=this,i=0,l=r.$$keys,o=l.length;i<o;i++)if(t=l[i],t.$$is_string?n=r.$$smap[t]:(n=t.value,t=t.key),n["$=="](e))return[t,n];return $},q.$$arity=1),e.defn(Z,"$rehash",j=function(){var t=this;return e.hash_rehash(t),t},j.$$arity=0),e.defn(Z,"$reject",F=function(){var t,n,r,i=this,l=F.$$p,o=l||$;if(F.$$p=null,o===!1||o===$||null==o)return(t=(n=i).$enum_for,t.$$p=(r=function(){var e=r.$$s||this;return e.$size()},r.$$s=i,r.$$arity=0,r),t).call(n,"reject");for(var a,s,u,c=e.hash(),_=0,p=i.$$keys,d=p.length;_<d;_++)a=p[_],a.$$is_string?s=i.$$smap[a]:(s=a.value,a=a.key),u=o(a,s),u!==!1&&u!==$||e.hash_put(c,a,s);return c},F.$$arity=0),e.defn(Z,"$reject!",U=function(){var t,n,r,i=this,l=U.$$p,o=l||$;if(U.$$p=null,o===!1||o===$||null==o)return(t=(n=i).$enum_for,t.$$p=(r=function(){var e=r.$$s||this;return e.$size()},r.$$s=i,r.$$arity=0,r),t).call(n,"reject!");for(var a,s,u,c=!1,_=0,p=i.$$keys,d=p.length;_<d;_++)a=p[_],a.$$is_string?s=i.$$smap[a]:(s=a.value,a=a.key),u=o(a,s),u!==!1&&u!==$&&void 0!==e.hash_delete(i,a)&&(c=!0,d--,_--);return c?i:$},U.$$arity=0),e.defn(Z,"$replace",G=function(t){var n,r,i=this;t=ee.get("Opal")["$coerce_to!"](t,ee.get("Hash"),"to_hash"),e.hash_init(i);for(var l,o,a=0,s=t.$$keys,u=s.length;a<u;a++)l=s[a],l.$$is_string?o=t.$$smap[l]:(o=l.value,l=l.key),e.hash_put(i,l,o);return(n=t.$default_proc())===$||null==n||n.$$is_boolean&&1!=n?(n=[t.$default()],r=i,r["$default="].apply(r,n),n[n.length-1]):(n=[t.$default_proc()],r=i,r["$default_proc="].apply(r,n),n[n.length-1]),i},G.$$arity=1),e.defn(Z,"$select",H=function(){var t,n,r,i=this,l=H.$$p,o=l||$;if(H.$$p=null,o===!1||o===$||null==o)return(t=(n=i).$enum_for,t.$$p=(r=function(){var e=r.$$s||this;return e.$size()},r.$$s=i,r.$$arity=0,r),t).call(n,"select");for(var a,s,u,c=e.hash(),_=0,p=i.$$keys,d=p.length;_<d;_++)a=p[_],a.$$is_string?s=i.$$smap[a]:(s=a.value,a=a.key),u=o(a,s),u!==!1&&u!==$&&e.hash_put(c,a,s);return c},H.$$arity=0),e.defn(Z,"$select!",Y=function(){
var t,n,r,i=this,l=Y.$$p,o=l||$;if(Y.$$p=null,o===!1||o===$||null==o)return(t=(n=i).$enum_for,t.$$p=(r=function(){var e=r.$$s||this;return e.$size()},r.$$s=i,r.$$arity=0,r),t).call(n,"select!");for(var a,s,u,c=$,_=0,p=i.$$keys,d=p.length;_<d;_++)a=p[_],a.$$is_string?s=i.$$smap[a]:(s=a.value,a=a.key),u=o(a,s),u!==!1&&u!==$||(void 0!==e.hash_delete(i,a)&&(d--,_--),c=i);return c},Y.$$arity=0),e.defn(Z,"$shift",K=function(){var t,n=this,r=n.$$keys;return r.length>0?(t=r[0],t=t.$$is_string?t:t.key,[t,e.hash_delete(n,t)]):n.$default($)},K.$$arity=0),e.alias(Z,"size","length"),Z.$alias_method("store","[]="),e.defn(Z,"$to_a",W=function(){for(var e,t,n=this,$=[],r=0,i=n.$$keys,l=i.length;r<l;r++)e=i[r],e.$$is_string?t=n.$$smap[e]:(t=e.value,e=e.key),$.push([e,t]);return $},W.$$arity=0),e.defn(Z,"$to_h",X=function(){var t=this;if(t.$$class===e.Hash)return t;var n=new e.Hash.$$alloc;return e.hash_init(n),e.hash_clone(t,n),n},X.$$arity=0),e.defn(Z,"$to_hash",V=function(){var e=this;return e},V.$$arity=0),e.alias(Z,"to_s","inspect"),e.alias(Z,"update","merge!"),e.alias(Z,"value?","has_value?"),e.alias(Z,"values_at","indexes"),e.defn(Z,"$values",J=function(){for(var e,t=this,n=[],$=0,r=t.$$keys,i=r.length;$<i;$++)e=r[$],e.$$is_string?n.push(t.$$smap[e]):n.push(e.value);return n},J.$$arity=0),$&&"values"}(n.base,null)},Opal.modules["corelib/number"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function i(e,t){return"number"==typeof e&&"number"==typeof t?e/t:e["$/"](t)}function l(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function o(e,t){return"number"==typeof e&&"number"==typeof t?e<=t:e["$<="](t)}function a(e,t){return"number"==typeof e&&"number"==typeof t?e>=t:e["$>="](t)}var s=e.top,u=e,c=e.nil,_=(e.breaker,e.slice,e.klass);return e.add_stubs(["$require","$bridge","$raise","$class","$Float","$respond_to?","$coerce_to!","$__coerced__","$===","$!","$>","$**","$new","$<","$to_f","$==","$nan?","$infinite?","$enum_for","$+","$-","$gcd","$lcm","$/","$frexp","$to_i","$ldexp","$rationalize","$*","$<<","$to_r","$-@","$size","$<=","$>="]),s.$require("corelib/numeric"),function(s,u){function p(){}var d,f,h,g,b,m,y,v,w,k,x,E,A,O,S,R,T,I,C,N,M,L,z,P,D,B,q,j,F,U,G,H,Y,K,W,X,V,J,Z,Q,ee,te,ne,$e,re,ie,le,oe,ae,se,ue,ce,_e,pe,de,fe,he,ge,be,me,ye,ve,we,ke,xe=p=_(s,u,"Number",p),Ee=(xe.$$proto,xe.$$scope);Ee.get("Opal").$bridge(xe,Number),Number.prototype.$$is_number=!0,e.defn(xe,"$coerce",d=function(e){var t=this;if(e===c)t.$raise(Ee.get("TypeError"),"can't convert "+e.$class()+" into Float");else{if(e.$$is_string)return[t.$Float(e),t];if(e["$respond_to?"]("to_f"))return[Ee.get("Opal")["$coerce_to!"](e,Ee.get("Float"),"to_f"),t];if(e.$$is_number)return[e,t];t.$raise(Ee.get("TypeError"),"can't convert "+e.$class()+" into Float")}},d.$$arity=1),e.defn(xe,"$__id__",f=function(){var e=this;return 2*e+1},f.$$arity=0),e.alias(xe,"object_id","__id__"),e.defn(xe,"$+",h=function(e){var t=this;return e.$$is_number?t+e:t.$__coerced__("+",e)},h.$$arity=1),e.defn(xe,"$-",g=function(e){var t=this;return e.$$is_number?t-e:t.$__coerced__("-",e)},g.$$arity=1),e.defn(xe,"$*",b=function(e){var t=this;return e.$$is_number?t*e:t.$__coerced__("*",e)},b.$$arity=1),e.defn(xe,"$/",m=function(e){var t=this;return e.$$is_number?t/e:t.$__coerced__("/",e)},m.$$arity=1),e.alias(xe,"fdiv","/"),e.defn(xe,"$%",y=function(e){var t=this;return e.$$is_number?e==-(1/0)?e:0!=e?e<0||t<0?(t%e+e)%e:t%e:void t.$raise(Ee.get("ZeroDivisionError"),"divided by 0"):t.$__coerced__("%",e)},y.$$arity=1),e.defn(xe,"$&",v=function(e){var t=this;return e.$$is_number?t&e:t.$__coerced__("&",e)},v.$$arity=1),e.defn(xe,"$|",w=function(e){var t=this;return e.$$is_number?t|e:t.$__coerced__("|",e)},w.$$arity=1),e.defn(xe,"$^",k=function(e){var t=this;return e.$$is_number?t^e:t.$__coerced__("^",e)},k.$$arity=1),e.defn(xe,"$<",x=function(e){var t=this;return e.$$is_number?t<e:t.$__coerced__("<",e)},x.$$arity=1),e.defn(xe,"$<=",E=function(e){var t=this;return e.$$is_number?t<=e:t.$__coerced__("<=",e)},E.$$arity=1),e.defn(xe,"$>",A=function(e){var t=this;return e.$$is_number?t>e:t.$__coerced__(">",e)},A.$$arity=1),e.defn(xe,"$>=",O=function(e){var t=this;return e.$$is_number?t>=e:t.$__coerced__(">=",e)},O.$$arity=1);var Ae=function(e,t){return t.$$is_number?isNaN(e)||isNaN(t)?c:e>t?1:e<t?-1:0:e.$__coerced__("<=>",t)};return e.defn(xe,"$<=>",S=function(t){var n=this;try{return Ae(n,t)}catch(t){if(!e.rescue(t,[Ee.get("ArgumentError")]))throw t;try{return c}finally{e.pop_exception()}}},S.$$arity=1),e.defn(xe,"$<<",R=function(e){var t=this;return e=Ee.get("Opal")["$coerce_to!"](e,Ee.get("Integer"),"to_int"),e>0?t<<e:t>>-e},R.$$arity=1),e.defn(xe,"$>>",T=function(e){var t=this;return e=Ee.get("Opal")["$coerce_to!"](e,Ee.get("Integer"),"to_int"),e>0?t>>e:t<<-e},T.$$arity=1),e.defn(xe,"$[]",I=function(e){var t=this;return e=Ee.get("Opal")["$coerce_to!"](e,Ee.get("Integer"),"to_int"),e<0?0:e>=32?t<0?1:0:t>>e&1},I.$$arity=1),e.defn(xe,"$+@",C=function(){var e=this;return+e},C.$$arity=0),e.defn(xe,"$-@",N=function(){var e=this;return-e},N.$$arity=0),e.defn(xe,"$~",M=function(){var e=this;return~e},M.$$arity=0),e.defn(xe,"$**",L=function(e){var $,r,i,l=this;return($=Ee.get("Integer")["$==="](e))===c||null==$||$.$$is_boolean&&1!=$?($=(r=n(l,0))?(i=Ee.get("Float")["$==="](e))!==!1&&i!==c&&null!=i?i:Ee.get("Rational")["$==="](e):n(l,0))===c||null==$||$.$$is_boolean&&1!=$?($=null!=e.$$is_number)===c||null==$||$.$$is_boolean&&1!=$?l.$__coerced__("**",e):Math.pow(l,e):Ee.get("Complex").$new(l,0)["$**"](e.$to_f()):($=(r=Ee.get("Integer")["$==="](l)["$!"]())!==!1&&r!==c&&null!=r?r:t(e,0))===c||null==$||$.$$is_boolean&&1!=$?Ee.get("Rational").$new(l,1)["$**"](e):Math.pow(l,e)},L.$$arity=1),e.defn(xe,"$==",z=function(e){var t=this;return e.$$is_number?t==Number(e):!!e["$respond_to?"]("==")&&e["$=="](t)},z.$$arity=1),e.defn(xe,"$abs",P=function(){var e=this;return Math.abs(e)},P.$$arity=0),e.defn(xe,"$abs2",D=function(){var e=this;return Math.abs(e*e)},D.$$arity=0),e.defn(xe,"$angle",B=function(){var e,t=this;return(e=t["$nan?"]())===c||null==e||e.$$is_boolean&&1!=e?0==t?1/t>0?0:Math.PI:t<0?Math.PI:0:t},B.$$arity=0),e.alias(xe,"arg","angle"),e.alias(xe,"phase","angle"),e.defn(xe,"$bit_length",q=function(){var e,t=this;if(((e=Ee.get("Integer")["$==="](t))===c||null==e||e.$$is_boolean&&1!=e)&&t.$raise(Ee.get("NoMethodError").$new("undefined method `bit_length` for "+t+":Float","bit_length")),0===t||t===-1)return 0;for(var n=0,$=t<0?~t:t;0!=$;)n+=1,$>>>=1;return n},q.$$arity=0),e.defn(xe,"$ceil",j=function(){var e=this;return Math.ceil(e)},j.$$arity=0),e.defn(xe,"$chr",F=function(e){var t=this;return String.fromCharCode(t)},F.$$arity=-1),e.defn(xe,"$denominator",U=function(){var t,n,$=this,r=U.$$p,i=c,l=c;for(U.$$p=null,i=[],l=0;l<arguments.length;l++)i[l]=arguments[l];return(t=(n=$["$nan?"]())!==!1&&n!==c&&null!=n?n:$["$infinite?"]())===c||null==t||t.$$is_boolean&&1!=t?(n=$,t=e.find_super_dispatcher($,"denominator",U,!1),t.$$p=r,t).apply(n,i):1},U.$$arity=0),e.defn(xe,"$downto",G=function(e){var n,i,l,o=this,a=G.$$p,s=a||c;if(G.$$p=null,s===c)return(n=(i=o).$enum_for,n.$$p=(l=function(){var n,i=l.$$s||this;return((n=Ee.get("Numeric")["$==="](e))===c||null==n||n.$$is_boolean&&1!=n)&&i.$raise(Ee.get("ArgumentError"),"comparison of "+i.$class()+" with "+e.$class()+" failed"),(n=t(e,i))===c||null==n||n.$$is_boolean&&1!=n?$(r(i,e),1):0},l.$$s=o,l.$$arity=0,l),n).call(i,"downto",e);e.$$is_number||o.$raise(Ee.get("ArgumentError"),"comparison of "+o.$class()+" with "+e.$class()+" failed");for(var u=o;u>=e;u--)s(u);return o},G.$$arity=1),e.alias(xe,"eql?","=="),e.defn(xe,"$equal?",H=function(e){var t,n=this;return(t=n["$=="](e))!==!1&&t!==c&&null!=t?t:isNaN(n)&&isNaN(e)},H.$$arity=1),e.defn(xe,"$even?",Y=function(){var e=this;return e%2===0},Y.$$arity=0),e.defn(xe,"$floor",K=function(){var e=this;return Math.floor(e)},K.$$arity=0),e.defn(xe,"$gcd",W=function(e){var t,n=this;((t=Ee.get("Integer")["$==="](e))===c||null==t||t.$$is_boolean&&1!=t)&&n.$raise(Ee.get("TypeError"),"not an integer");for(var $=Math.abs(n),r=Math.abs(e);$>0;){var i=$;$=r%$,r=i}return r},W.$$arity=1),e.defn(xe,"$gcdlcm",X=function(e){var t=this;return[t.$gcd(),t.$lcm()]},X.$$arity=1),e.defn(xe,"$integer?",V=function(){var e=this;return e%1===0},V.$$arity=0),e.defn(xe,"$is_a?",J=function(t){var n,$,r=this,i=J.$$p,l=c,o=c;for(J.$$p=null,l=[],o=0;o<arguments.length;o++)l[o]=arguments[o];return!((n=($=t["$=="](Ee.get("Fixnum")))?Ee.get("Integer")["$==="](r):t["$=="](Ee.get("Fixnum")))===c||null==n||n.$$is_boolean&&1!=n)||(!((n=($=t["$=="](Ee.get("Integer")))?Ee.get("Integer")["$==="](r):t["$=="](Ee.get("Integer")))===c||null==n||n.$$is_boolean&&1!=n)||(!((n=($=t["$=="](Ee.get("Float")))?Ee.get("Float")["$==="](r):t["$=="](Ee.get("Float")))===c||null==n||n.$$is_boolean&&1!=n)||($=r,n=e.find_super_dispatcher(r,"is_a?",J,!1),n.$$p=i,n).apply($,l)))},J.$$arity=1),e.alias(xe,"kind_of?","is_a?"),e.defn(xe,"$instance_of?",Z=function(t){var n,$,r=this,i=Z.$$p,l=c,o=c;for(Z.$$p=null,l=[],o=0;o<arguments.length;o++)l[o]=arguments[o];return!((n=($=t["$=="](Ee.get("Fixnum")))?Ee.get("Integer")["$==="](r):t["$=="](Ee.get("Fixnum")))===c||null==n||n.$$is_boolean&&1!=n)||(!((n=($=t["$=="](Ee.get("Integer")))?Ee.get("Integer")["$==="](r):t["$=="](Ee.get("Integer")))===c||null==n||n.$$is_boolean&&1!=n)||(!((n=($=t["$=="](Ee.get("Float")))?Ee.get("Float")["$==="](r):t["$=="](Ee.get("Float")))===c||null==n||n.$$is_boolean&&1!=n)||($=r,n=e.find_super_dispatcher(r,"instance_of?",Z,!1),n.$$p=i,n).apply($,l)))},Z.$$arity=1),e.defn(xe,"$lcm",Q=function(e){var t,n=this;return((t=Ee.get("Integer")["$==="](e))===c||null==t||t.$$is_boolean&&1!=t)&&n.$raise(Ee.get("TypeError"),"not an integer"),0==n||0==e?0:Math.abs(n*e/n.$gcd(e))},Q.$$arity=1),e.alias(xe,"magnitude","abs"),e.alias(xe,"modulo","%"),e.defn(xe,"$next",ee=function(){var e=this;return e+1},ee.$$arity=0),e.defn(xe,"$nonzero?",te=function(){var e=this;return 0==e?c:e},te.$$arity=0),e.defn(xe,"$numerator",ne=function(){var t,n,$=this,r=ne.$$p,i=c,l=c;for(ne.$$p=null,i=[],l=0;l<arguments.length;l++)i[l]=arguments[l];return(t=(n=$["$nan?"]())!==!1&&n!==c&&null!=n?n:$["$infinite?"]())===c||null==t||t.$$is_boolean&&1!=t?(n=$,t=e.find_super_dispatcher($,"numerator",ne,!1),t.$$p=r,t).apply(n,i):$},ne.$$arity=0),e.defn(xe,"$odd?",$e=function(){var e=this;return e%2!==0},$e.$$arity=0),e.defn(xe,"$ord",re=function(){var e=this;return e},re.$$arity=0),e.defn(xe,"$pred",ie=function(){var e=this;return e-1},ie.$$arity=0),e.defn(xe,"$quo",le=function(t){var n,$,r=this,l=le.$$p,o=c,a=c;for(le.$$p=null,o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];return(n=Ee.get("Integer")["$==="](r))===c||null==n||n.$$is_boolean&&1!=n?i(r,t):($=r,n=e.find_super_dispatcher(r,"quo",le,!1),n.$$p=l,n).apply($,o)},le.$$arity=1),e.defn(xe,"$rationalize",oe=function(t){var n,$,i=this,o=c,a=c;return arguments.length>1&&i.$raise(Ee.get("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),(n=Ee.get("Integer")["$==="](i))===c||null==n||n.$$is_boolean&&1!=n?(n=i["$infinite?"]())===c||null==n||n.$$is_boolean&&1!=n?(n=i["$nan?"]())===c||null==n||n.$$is_boolean&&1!=n?(n=null==t)===c||null==n||n.$$is_boolean&&1!=n?i.$to_r().$rationalize(t):($=Ee.get("Math").$frexp(i),n=e.to_ary($),o=null==n[0]?c:n[0],a=null==n[1]?c:n[1],$,o=Ee.get("Math").$ldexp(o,Ee.get("Float").$$scope.get("MANT_DIG")).$to_i(),a=r(a,Ee.get("Float").$$scope.get("MANT_DIG")),Ee.get("Rational").$new(l(2,o),1["$<<"](r(1,a))).$rationalize(Ee.get("Rational").$new(1,1["$<<"](r(1,a))))):i.$raise(Ee.get("FloatDomainError"),"NaN"):i.$raise(Ee.get("FloatDomainError"),"Infinity"):Ee.get("Rational").$new(i,1)},oe.$$arity=-1),e.defn(xe,"$round",ae=function(l){var s,u,_=this,p=c,d=c;if((s=Ee.get("Integer")["$==="](_))===c||null==s||s.$$is_boolean&&1!=s){if(u=_["$nan?"](),(s=u!==!1&&u!==c&&null!=u?null==l:u)===c||null==s||s.$$is_boolean&&1!=s||_.$raise(Ee.get("FloatDomainError"),"NaN"),l=Ee.get("Opal")["$coerce_to!"](l||0,Ee.get("Integer"),"to_int"),(s=o(l,0))===c||null==s||s.$$is_boolean&&1!=s){if(l["$=="](0))return Math.round(_);if((s=(u=_["$nan?"]())!==!1&&u!==c&&null!=u?u:_["$infinite?"]())!==c&&null!=s&&(!s.$$is_boolean||1==s))return _}else(s=_["$nan?"]())===c||null==s||s.$$is_boolean&&1!=s?(s=_["$infinite?"]())===c||null==s||s.$$is_boolean&&1!=s||_.$raise(Ee.get("FloatDomainError"),"Infinity"):_.$raise(Ee.get("RangeError"),"NaN");return u=Ee.get("Math").$frexp(_),s=e.to_ary(u),p=null==s[0]?c:s[0],d=null==s[1]?c:s[1],u,(s=a(l,r($(Ee.get("Float").$$scope.get("DIG"),2),function(){return(u=t(d,0))===c||null==u||u.$$is_boolean&&1!=u?r(i(d,3),1):i(d,4)}())))===c||null==s||s.$$is_boolean&&1!=s?(s=n(l,function(){return(u=t(d,0))===c||null==u||u.$$is_boolean&&1!=u?i(d,4):$(i(d,3),1)}()["$-@"]()))===c||null==s||s.$$is_boolean&&1!=s?Math.round(_*Math.pow(10,l))/Math.pow(10,l):0:_}if((s=null==l)!==c&&null!=s&&(!s.$$is_boolean||1==s))return _;if(u=Ee.get("Float")["$==="](l),(s=u!==!1&&u!==c&&null!=u?l["$infinite?"]():u)===c||null==s||s.$$is_boolean&&1!=s||_.$raise(Ee.get("RangeError"),"Infinity"),l=Ee.get("Opal")["$coerce_to!"](l,Ee.get("Integer"),"to_int"),(s=n(l,Ee.get("Integer").$$scope.get("MIN")))===c||null==s||s.$$is_boolean&&1!=s||_.$raise(Ee.get("RangeError"),"out of bounds"),(s=l>=0)!==c&&null!=s&&(!s.$$is_boolean||1==s))return _;if(l=l["$-@"](),.415241*l-.125>_.$size())return 0;var f=Math.pow(10,l),h=Math.floor((Math.abs(h)+f/2)/f)*f;return _<0?-h:h},ae.$$arity=-1),e.defn(xe,"$step",se=function(e,t){var n,$=this,r=se.$$p,i=r||c;if(null==t&&(t=1),se.$$p=null,i===!1||i===c||null==i)return $.$enum_for("step",e,t);(n=0==t)===c||null==n||n.$$is_boolean&&1!=n||$.$raise(Ee.get("ArgumentError"),"step cannot be 0");var l=$;if(e===1/0||e===-(1/0))return i(l),$;if(t>0)for(;l<=e;)i(l),l+=t;else for(;l>=e;)i(l),l+=t;return $},se.$$arity=-2),e.alias(xe,"succ","next"),e.defn(xe,"$times",ue=function(){var e,t,n,$=this,r=ue.$$p,i=r||c;if(ue.$$p=null,i===!1||i===c||null==i)return(e=(t=$).$enum_for,e.$$p=(n=function(){var e=n.$$s||this;return e},n.$$s=$,n.$$arity=0,n),e).call(t,"times");for(var l=0;l<$;l++)i(l);return $},ue.$$arity=0),e.defn(xe,"$to_f",ce=function(){var e=this;return e},ce.$$arity=0),e.defn(xe,"$to_i",_e=function(){var e=this;return parseInt(e,10)},_e.$$arity=0),e.alias(xe,"to_int","to_i"),e.defn(xe,"$to_r",pe=function(){var t,n,$=this,i=c,o=c;return(t=Ee.get("Integer")["$==="]($))===c||null==t||t.$$is_boolean&&1!=t?(n=Ee.get("Math").$frexp($),t=e.to_ary(n),i=null==t[0]?c:t[0],o=null==t[1]?c:t[1],n,i=Ee.get("Math").$ldexp(i,Ee.get("Float").$$scope.get("MANT_DIG")).$to_i(),o=r(o,Ee.get("Float").$$scope.get("MANT_DIG")),l(i,Ee.get("Float").$$scope.get("RADIX")["$**"](o)).$to_r()):Ee.get("Rational").$new($,1)},pe.$$arity=0),e.defn(xe,"$to_s",de=function(e){var $,r,i=this;return null==e&&(e=10),($=(r=n(e,2))!==!1&&r!==c&&null!=r?r:t(e,36))===c||null==$||$.$$is_boolean&&1!=$||i.$raise(Ee.get("ArgumentError"),"base must be between 2 and 36"),i.toString(e)},de.$$arity=-1),e.alias(xe,"truncate","to_i"),e.alias(xe,"inspect","to_s"),e.defn(xe,"$divmod",fe=function(t){var n,$,r=this,i=fe.$$p,l=c,o=c;for(fe.$$p=null,l=[],o=0;o<arguments.length;o++)l[o]=arguments[o];return(n=($=r["$nan?"]())!==!1&&$!==c&&null!=$?$:t["$nan?"]())===c||null==n||n.$$is_boolean&&1!=n?(n=r["$infinite?"]())===c||null==n||n.$$is_boolean&&1!=n?($=r,n=e.find_super_dispatcher(r,"divmod",fe,!1),n.$$p=i,n).apply($,l):r.$raise(Ee.get("FloatDomainError"),"Infinity"):r.$raise(Ee.get("FloatDomainError"),"NaN")},fe.$$arity=1),e.defn(xe,"$upto",he=function(e){var t,i,l,o=this,a=he.$$p,s=a||c;if(he.$$p=null,s===c)return(t=(i=o).$enum_for,t.$$p=(l=function(){var t,i=l.$$s||this;return((t=Ee.get("Numeric")["$==="](e))===c||null==t||t.$$is_boolean&&1!=t)&&i.$raise(Ee.get("ArgumentError"),"comparison of "+i.$class()+" with "+e.$class()+" failed"),(t=n(e,i))===c||null==t||t.$$is_boolean&&1!=t?$(r(e,i),1):0},l.$$s=o,l.$$arity=0,l),t).call(i,"upto",e);e.$$is_number||o.$raise(Ee.get("ArgumentError"),"comparison of "+o.$class()+" with "+e.$class()+" failed");for(var u=o;u<=e;u++)s(u);return o},he.$$arity=1),e.defn(xe,"$zero?",ge=function(){var e=this;return 0==e},ge.$$arity=0),e.defn(xe,"$size",be=function(){return 4},be.$$arity=0),e.defn(xe,"$nan?",me=function(){var e=this;return isNaN(e)},me.$$arity=0),e.defn(xe,"$finite?",ye=function(){var e=this;return e!=1/0&&e!=-(1/0)&&!isNaN(e)},ye.$$arity=0),e.defn(xe,"$infinite?",ve=function(){var e=this;return e==1/0?1:e==-(1/0)?-1:c},ve.$$arity=0),e.defn(xe,"$positive?",we=function(){var e=this;return e==1/0||1/e>0},we.$$arity=0),e.defn(xe,"$negative?",ke=function(){var e=this;return e==-(1/0)||1/e<0},ke.$$arity=0),c&&"negative?"}(u.base,u.get("Numeric")),e.cdecl(u,"Fixnum",u.get("Number")),function(t,n){function $(){}var r,i=$=_(t,n,"Integer",$),l=(i.$$proto,i.$$scope);return e.defs(i,"$===",r=function(e){return!!e.$$is_number&&e%1===0},r.$$arity=1),e.cdecl(l,"MAX",Math.pow(2,30)-1),e.cdecl(l,"MIN",-Math.pow(2,30))}(u.base,u.get("Numeric")),function(t,n){function $(){}var r,i,l=$=_(t,n,"Float",$),o=(l.$$proto,l.$$scope);return e.defs(l,"$===",r=function(e){return!!e.$$is_number},r.$$arity=1),e.cdecl(o,"INFINITY",1/0),e.cdecl(o,"MAX",Number.MAX_VALUE),e.cdecl(o,"MIN",Number.MIN_VALUE),e.cdecl(o,"NAN",NaN),e.cdecl(o,"DIG",15),e.cdecl(o,"MANT_DIG",53),e.cdecl(o,"RADIX",2),(i="undefined"!=typeof Number.EPSILON)===c||null==i||i.$$is_boolean&&1!=i?e.cdecl(o,"EPSILON",2.220446049250313e-16):e.cdecl(o,"EPSILON",Number.EPSILON)}(u.base,u.get("Numeric"))},Opal.modules["corelib/range"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e<=t:e["$<="](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var r=e.top,i=e,l=e.nil,o=(e.breaker,e.slice,e.klass);return e.add_stubs(["$require","$include","$attr_reader","$<=>","$raise","$include?","$<=","$<","$enum_for","$upto","$to_proc","$succ","$!","$==","$===","$exclude_end?","$eql?","$begin","$end","$-","$abs","$to_i","$inspect","$[]"]),r.$require("corelib/enumerable"),function(r,i){function a(){}var s,u,c,_,p,d,f,h,g,b,m,y,v,w=a=o(r,i,"Range",a),k=w.$$proto,x=w.$$scope;return k.begin=k.exclude=k.end=l,w.$include(x.get("Enumerable")),k.$$is_range=!0,w.$attr_reader("begin","end"),e.defn(w,"$initialize",s=function(e,t,n){var $,r=this;return null==n&&(n=!1),(($=e["$<=>"](t))===l||null==$||$.$$is_boolean&&1!=$)&&r.$raise(x.get("ArgumentError")),r.begin=e,r.end=t,r.exclude=n},s.$$arity=-3),e.defn(w,"$==",u=function(e){var t=this;return!!e.$$is_range&&(t.exclude===e.exclude&&t.begin==e.begin&&t.end==e.end)},u.$$arity=1),e.defn(w,"$===",c=function(e){var t=this;return t["$include?"](e)},c.$$arity=1),e.defn(w,"$cover?",_=function(e){var $,r,i=this;return $=t(i.begin,e),$!==!1&&$!==l&&null!=$?function(){return(r=i.exclude)===l||null==r||r.$$is_boolean&&1!=r?t(e,i.end):n(e,i.end)}():$},_.$$arity=1),e.defn(w,"$each",p=function(){var t,$,r,i=this,o=p.$$p,a=o||l,s=l,u=l;if(p.$$p=null,a===l)return i.$enum_for("each");var c,_;if(i.begin.$$is_number&&i.end.$$is_number){for(i.begin%1===0&&i.end%1===0||i.$raise(x.get("TypeError"),"can't iterate from Float"),c=i.begin,_=i.end+function(){return(t=i.exclude)===l||null==t||t.$$is_boolean&&1!=t?1:0}();c<_;c++)a(c);return i}if(i.begin.$$is_string&&i.end.$$is_string)return(t=($=i.begin).$upto,t.$$p=a.$to_proc(),t).call($,i.end,i.exclude),i;for(s=i.begin,u=i.end;(r=n(s,u))!==l&&null!=r&&(!r.$$is_boolean||1==r);)e.yield1(a,s),s=s.$succ();return r=i.exclude["$!"](),(t=r!==!1&&r!==l&&null!=r?s["$=="](u):r)===l||null==t||t.$$is_boolean&&1!=t||e.yield1(a,s),i},p.$$arity=0),e.defn(w,"$eql?",d=function(e){var t,n,$=this;return!((t=x.get("Range")["$==="](e))===l||null==t||t.$$is_boolean&&1!=t)&&(n=$.exclude["$==="](e["$exclude_end?"]()),t=n!==!1&&n!==l&&null!=n?$.begin["$eql?"](e.$begin()):n,t!==!1&&t!==l&&null!=t?$.end["$eql?"](e.$end()):t)},d.$$arity=1),e.defn(w,"$exclude_end?",f=function(){var e=this;return e.exclude},f.$$arity=0),e.alias(w,"first","begin"),e.alias(w,"include?","cover?"),e.alias(w,"last","end"),e.defn(w,"$max",h=function(){var t,n,$=this,r=h.$$p,i=r||l,o=l,a=l;for(h.$$p=null,o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];return i!==l?(n=$,t=e.find_super_dispatcher($,"max",h,!1),t.$$p=r,t).apply(n,o):$.exclude?$.end-1:$.end},h.$$arity=0),e.alias(w,"member?","cover?"),e.defn(w,"$min",g=function(){var t,n,$=this,r=g.$$p,i=r||l,o=l,a=l;for(g.$$p=null,o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];return i!==l?(n=$,t=e.find_super_dispatcher($,"min",g,!1),t.$$p=r,t).apply(n,o):$.begin},g.$$arity=0),e.alias(w,"member?","include?"),e.defn(w,"$size",b=function(){var e,t,r=this,i=l,o=l,a=l;return i=r.begin,o=r.end,(e=r.exclude)===l||null==e||e.$$is_boolean&&1!=e||(o=$(o,1)),t=x.get("Numeric")["$==="](i),(e=t!==!1&&t!==l&&null!=t?x.get("Numeric")["$==="](o):t)===l||null==e||e.$$is_boolean&&1!=e?l:(e=n(o,i))===l||null==e||e.$$is_boolean&&1!=e?(a=x.get("Float").$$scope.get("INFINITY"),(e=(t=a["$=="](i.$abs()))!==!1&&t!==l&&null!=t?t:o.$abs()["$=="](a))===l||null==e||e.$$is_boolean&&1!=e?(Math.abs(o-i)+1).$to_i():a):0},b.$$arity=0),e.defn(w,"$step",m=function(e){var t=this;return null==e&&(e=1),t.$raise(x.get("NotImplementedError"))},m.$$arity=-1),e.defn(w,"$to_s",y=function(){var e=this;return e.begin.$inspect()+(e.exclude?"...":"..")+e.end.$inspect()},y.$$arity=0),e.alias(w,"inspect","to_s"),e.defn(w,"$marshal_load",v=function(e){var t=this;return t.begin=e["$[]"]("begin"),t.end=e["$[]"]("end"),t.exclude=e["$[]"]("excl")},v.$$arity=1),l&&"marshal_load"}(i.base,null)},Opal.modules["corelib/proc"]=function(e){var t=(e.top,e),n=e.nil,$=(e.breaker,e.slice),r=e.klass;return e.add_stubs(["$raise","$coerce_to!"]),function(t,i){function l(){}var o,a,s,u,c,_,p,d,f,h,g=l=r(t,i,"Proc",l),b=g.$$proto,m=g.$$scope;return b.$$is_proc=!0,b.$$is_lambda=!1,e.defs(g,"$new",o=function(){var e=this,t=o.$$p,$=t||n;return o.$$p=null,$!==!1&&$!==n&&null!=$||e.$raise(m.get("ArgumentError"),"tried to create a Proc object without a block"),$},o.$$arity=0),e.defn(g,"$call",a=function(t){var $,r=this,i=a.$$p,l=i||n,o=arguments.length,s=o-0;s<0&&(s=0),$=new Array(s);for(var u=0;u<o;u++)$[u-0]=arguments[u];a.$$p=null,l!==n&&(r.$$p=l);var c,_=r.$$brk;if(_)try{c=r.$$is_lambda?r.apply(null,$):e.yieldX(r,$)}catch(e){if(e===_)return _.$v;throw e}else c=r.$$is_lambda?r.apply(null,$):e.yieldX(r,$);return c},a.$$arity=-1),e.alias(g,"[]","call"),e.alias(g,"===","call"),e.alias(g,"yield","call"),e.defn(g,"$to_proc",s=function(){var e=this;return e},s.$$arity=0),e.defn(g,"$lambda?",u=function(){var e=this;return!!e.$$is_lambda},u.$$arity=0),e.defn(g,"$arity",c=function(){var e=this;return e.$$is_curried?-1:e.$$arity},c.$$arity=0),e.defn(g,"$source_location",_=function(){var e=this;return e.$$is_curried?n:n},_.$$arity=0),e.defn(g,"$binding",p=function(){var e=this;return e.$$is_curried&&e.$raise(m.get("ArgumentError"),"Can't create Binding"),n},p.$$arity=0),e.defn(g,"$parameters",d=function(){var e=this;if(e.$$is_curried)return[["rest"]];if(e.$$parameters){if(e.$$is_lambda)return e.$$parameters;var t,n,$=[];for(t=0,n=e.$$parameters.length;t<n;t++){var r=e.$$parameters[t];"req"===r[0]&&(r=["opt",r[1]]),$.push(r)}return $}return[]},d.$$arity=0),e.defn(g,"$curry",f=function(e){function t(){var r,i=$.call(arguments),l=i.length;return l>e&&n.$$is_lambda&&!n.$$is_curried&&n.$raise(m.get("ArgumentError"),"wrong number of arguments ("+l+" for "+e+")"),l>=e?n.$call.apply(n,i):(r=function(){return t.apply(null,i.concat($.call(arguments)))},r.$$is_lambda=n.$$is_lambda,r.$$is_curried=!0,r)}var n=this;return void 0===e?e=n.length:(e=m.get("Opal")["$coerce_to!"](e,m.get("Integer"),"to_int"),n.$$is_lambda&&e!==n.length&&n.$raise(m.get("ArgumentError"),"wrong number of arguments ("+e+" for "+n.length+")")),t.$$is_lambda=n.$$is_lambda,t.$$is_curried=!0,t},f.$$arity=-1),e.defn(g,"$dup",h=function(){var e=this,t=e.$$original_proc||e,n=function(){return t.apply(this,arguments)};for(var $ in e)e.hasOwnProperty($)&&(n[$]=e[$]);return n},h.$$arity=0),e.alias(g,"clone","dup")}(t.base,Function)},Opal.modules["corelib/method"]=function(e){var t=(e.top,e),n=e.nil,$=(e.breaker,e.slice),r=e.klass;return e.add_stubs(["$attr_reader","$class","$arity","$new","$name"]),function(t,i){function l(){}var o,a,s,u,c,_,p,d=l=r(t,i,"Method",l),f=d.$$proto,h=d.$$scope;return f.method=f.receiver=f.owner=f.name=n,d.$attr_reader("owner","receiver","name"),e.defn(d,"$initialize",o=function(e,t,n){var $=this;return $.receiver=e,$.owner=e.$class(),$.name=n,$.method=t},o.$$arity=3),e.defn(d,"$arity",a=function(){var e=this;return e.method.$arity()},a.$$arity=0),e.defn(d,"$parameters",s=function(){var e=this;return e.method.$$parameters},s.$$arity=0),e.defn(d,"$call",u=function(e){var t,$=this,r=u.$$p,i=r||n,l=arguments.length,o=l-0;o<0&&(o=0),t=new Array(o);for(var a=0;a<l;a++)t[a-0]=arguments[a];return u.$$p=null,$.method.$$p=i,$.method.apply($.receiver,t)},u.$$arity=-1),e.alias(d,"[]","call"),e.defn(d,"$unbind",c=function(){var e=this;return h.get("UnboundMethod").$new(e.owner,e.method,e.name)},c.$$arity=0),e.defn(d,"$to_proc",_=function(){var e=this,t=function(){return e.$call.apply(e,$.call(arguments))};return t.$$unbound=e.method,t.$$is_lambda=!0,t},_.$$arity=0),e.defn(d,"$inspect",p=function(){var e=this;return"#<Method: "+e.receiver.$class()+"#"+e.name+">"},p.$$arity=0),n&&"inspect"}(t.base,null),function(t,$){function i(){}var l,o,a,s,u,c=i=r(t,$,"UnboundMethod",i),_=c.$$proto,p=c.$$scope;return _.method=_.name=_.owner=n,c.$attr_reader("owner","name"),e.defn(c,"$initialize",l=function(e,t,n){var $=this;return $.owner=e,$.method=t,$.name=n},l.$$arity=3),e.defn(c,"$arity",o=function(){var e=this;return e.method.$arity()},o.$$arity=0),e.defn(c,"$parameters",a=function(){var e=this;return e.method.$$parameters},a.$$arity=0),e.defn(c,"$bind",s=function(e){var t=this;return p.get("Method").$new(e,t.method,t.name)},s.$$arity=1),e.defn(c,"$inspect",u=function(){var e=this;return"#<UnboundMethod: "+e.owner.$name()+"#"+e.name+">"},u.$$arity=0),n&&"inspect"}(t.base,null)},Opal.modules["corelib/variables"]=function(e){var t=(e.top,e),n=e.nil,$=(e.breaker,e.slice,e.gvars),r=e.hash2;return e.add_stubs(["$new"]),$["&"]=$["~"]=$["`"]=$["'"]=n,$.LOADED_FEATURES=$['"']=e.loaded_features,$.LOAD_PATH=$[":"]=[],$["/"]="\n",$[","]=n,e.cdecl(t,"ARGV",[]),e.cdecl(t,"ARGF",t.get("Object").$new()),e.cdecl(t,"ENV",r([],{})),$.VERBOSE=!1,$.DEBUG=!1,$.SAFE=0},Opal.modules["opal/regexp_anchors"]=function(e){var t=(e.top,e),n=e.nil,$=(e.breaker,e.slice,e.module);return e.add_stubs(["$==","$new"]),function(t){var r,i=r=$(t,"Opal"),l=(i.$$proto,i.$$scope);e.cdecl(l,"REGEXP_START",function(){return l.get("RUBY_ENGINE")["$=="]("opal")?"^":n}()),e.cdecl(l,"REGEXP_END",function(){return l.get("RUBY_ENGINE")["$=="]("opal")?"$":n}()),e.cdecl(l,"FORBIDDEN_STARTING_IDENTIFIER_CHARS","\\u0001-\\u002F\\u003A-\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),e.cdecl(l,"FORBIDDEN_ENDING_IDENTIFIER_CHARS","\\u0001-\\u0020\\u0022-\\u002F\\u003A-\\u003E\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),e.cdecl(l,"INLINE_IDENTIFIER_REGEXP",l.get("Regexp").$new("[^"+l.get("FORBIDDEN_STARTING_IDENTIFIER_CHARS")+"]*[^"+l.get("FORBIDDEN_ENDING_IDENTIFIER_CHARS")+"]")),e.cdecl(l,"FORBIDDEN_CONST_NAME_CHARS","\\u0001-\\u0020\\u0021-\\u002F\\u003B-\\u003F\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),e.cdecl(l,"CONST_NAME_REGEXP",l.get("Regexp").$new(""+l.get("REGEXP_START")+"(::)?[A-Z][^"+l.get("FORBIDDEN_CONST_NAME_CHARS")+"]*"+l.get("REGEXP_END")))}(t.base)},Opal.modules["opal/mini"]=function(e){var t=e.top;e.nil,e.breaker,e.slice;return e.add_stubs(["$require"]),t.$require("opal/base"),t.$require("corelib/nil"),t.$require("corelib/boolean"),t.$require("corelib/string"),t.$require("corelib/comparable"),t.$require("corelib/enumerable"),t.$require("corelib/enumerator"),t.$require("corelib/array"),t.$require("corelib/hash"),t.$require("corelib/number"),t.$require("corelib/range"),t.$require("corelib/proc"),t.$require("corelib/method"),t.$require("corelib/regexp"),t.$require("corelib/variables"),t.$require("opal/regexp_anchors")},Opal.modules["corelib/string/inheritance"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var r=e.top,i=e,l=e.nil,o=(e.breaker,e.slice,e.klass),a=e.gvars;return e.add_stubs(["$require","$new","$allocate","$initialize","$to_proc","$__send__","$class","$clone","$respond_to?","$==","$inspect","$+","$*","$map","$split","$enum_for","$each_line","$to_a","$%","$-"]),r.$require("corelib/string"),function(t,n){function $(){}var r,i=$=o(t,n,"String",$),a=(i.$$proto,i.$$scope);return e.defs(i,"$inherited",r=function(e){var t=l;t=a.get("Class").$new(a.get("String").$$scope.get("Wrapper")),e.$$proto=t.$$proto,e.$$proto.$$class=e,e.$$alloc=t.$$alloc,e.$$parent=a.get("String").$$scope.get("Wrapper"),e.$allocate=t.$allocate,e.$new=t.$new},r.$$arity=1),l&&"inherited"}(i.base,null),function(r,i){function s(){}var u,c,_,p,d,f,h,g,b,m,y,v,w,k,x,E,A,O,S=s=o(r,i,"Wrapper",s),R=S.$$proto;S.$$scope;return R.literal=l,R.$$is_string=!0,e.defs(S,"$allocate",u=function(t){var n,$,r=this,i=(u.$$p,l);return null==t&&(t=""),u.$$p=null,i=($=r,n=e.find_super_dispatcher(r,"allocate",u,!1,s),n.$$p=null,n).call($),i.literal=t,i},u.$$arity=-1),e.defs(S,"$new",c=function(t){var n,$,r,i=this,o=c.$$p,a=o||l,s=l,u=arguments.length,_=u-0;_<0&&(_=0),r=new Array(_);for(var p=0;p<u;p++)r[p-0]=arguments[p];return c.$$p=null,s=i.$allocate(),(n=($=s).$initialize,n.$$p=a.$to_proc(),n).apply($,e.to_a(r)),s},c.$$arity=-1),e.defs(S,"$[]",_=function(e){var t,n=this,$=arguments.length,r=$-0;r<0&&(r=0),t=new Array(r);for(var i=0;i<$;i++)t[i-0]=arguments[i];return n.$allocate(t)},_.$$arity=-1),e.defn(S,"$initialize",p=function(e){var t=this;return null==e&&(e=""),t.literal=e},p.$$arity=-1),e.defn(S,"$method_missing",d=function(t){var n,$,r,i=this,o=d.$$p,a=o||l,s=l,u=arguments.length,c=u-0;c<0&&(c=0),r=new Array(c);for(var _=0;_<u;_++)r[_-0]=arguments[_];return d.$$p=null,s=(n=($=i.literal).$__send__,n.$$p=a.$to_proc(),n).apply($,e.to_a(r)),(n=null!=s.$$is_string)===l||null==n||n.$$is_boolean&&1!=n?s:(n=s==i.literal)===l||null==n||n.$$is_boolean&&1!=n?i.$class().$allocate(s):i},d.$$arity=-1),e.defn(S,"$initialize_copy",f=function(e){var t=this;return t.literal=e.literal.$clone()},f.$$arity=1),e.defn(S,"$respond_to?",h=function(t,n){var $,r,i,o=this,a=h.$$p,s=l,u=l;for(h.$$p=null,s=[],u=0;u<arguments.length;u++)s[u]=arguments[u];return($=(i=o,r=e.find_super_dispatcher(o,"respond_to?",h,!1),r.$$p=a,r).apply(i,s))!==!1&&$!==l&&null!=$?$:o.literal["$respond_to?"](t)},h.$$arity=-2),e.defn(S,"$==",g=function(e){var t=this;return t.literal["$=="](e)},g.$$arity=1),e.alias(S,"eql?","=="),e.alias(S,"===","=="),e.defn(S,"$to_s",b=function(){var e=this;return e.literal},b.$$arity=0),e.alias(S,"to_str","to_s"),e.defn(S,"$inspect",m=function(){var e=this;return e.literal.$inspect()},m.$$arity=0),e.defn(S,"$+",y=function(e){var n=this;return t(n.literal,e)},y.$$arity=1),e.defn(S,"$*",v=function(e){var t=this,$=n(t.literal,e);return $.$$is_string?t.$class().$allocate($):$},v.$$arity=1),e.defn(S,"$split",w=function(e,t){var n,$,r,i=this;return(n=($=i.literal.$split(e,t)).$map,n.$$p=(r=function(e){var t=r.$$s||this;return null==e&&(e=l),t.$class().$allocate(e)},r.$$s=i,r.$$arity=1,r),n).call($)},w.$$arity=-1),e.defn(S,"$replace",k=function(e){var t=this;return t.literal=e},k.$$arity=1),e.defn(S,"$each_line",x=function(t){var n,$,r,i=this,o=x.$$p,s=o||l;return null==a["/"]&&(a["/"]=l),null==t&&(t=a["/"]),x.$$p=null,
s===l?i.$enum_for("each_line",t):(n=($=i.literal).$each_line,n.$$p=(r=function(t){var n=r.$$s||this;return null==t&&(t=l),e.yield1(s,n.$class().$allocate(t))},r.$$s=i,r.$$arity=1,r),n).call($,t)},x.$$arity=-1),e.defn(S,"$lines",E=function(e){var t,n,$=this,r=E.$$p,i=r||l,o=l;return null==a["/"]&&(a["/"]=l),null==e&&(e=a["/"]),E.$$p=null,o=(t=(n=$).$each_line,t.$$p=i.$to_proc(),t).call(n,e),i!==!1&&i!==l&&null!=i?$:o.$to_a()},E.$$arity=-1),e.defn(S,"$%",A=function(e){var t=this;return t.literal["$%"](e)},A.$$arity=1),e.defn(S,"$instance_variables",O=function(){var t,n,r=this,i=O.$$p,o=l,a=l;for(O.$$p=null,o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];return $((n=r,t=e.find_super_dispatcher(r,"instance_variables",O,!1),t.$$p=i,t).apply(n,o),["@literal"])},O.$$arity=0),l&&"instance_variables"}(i.get("String"),null)},Opal.modules["corelib/string/encoding"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var n,$,r,i,l,o,a,s=e.top,u=e,c=e.nil,_=(e.breaker,e.slice,e.klass),p=e.hash2;return e.add_stubs(["$require","$+","$[]","$new","$to_proc","$each","$const_set","$sub","$upcase","$const_get","$===","$==","$name","$include?","$names","$constants","$raise","$attr_accessor","$attr_reader","$register","$length","$bytes","$to_a","$each_byte","$bytesize","$enum_for","$force_encoding","$dup","$coerce_to!","$find","$nil?","$getbyte"]),s.$require("corelib/string"),function(n,$){function r(){}var i,l,o,a,s,u,d,f,h,g,b=r=_(n,$,"Encoding",r),m=b.$$proto,y=b.$$scope;return m.ascii=m.dummy=m.name=c,e.defs(b,"$register",i=function(e,n){var $,r,l,o,a=this,s=i.$$p,u=s||c,_=c,d=c;return null==n&&(n=p([],{})),i.$$p=null,_=t([e],($=n["$[]"]("aliases"))!==!1&&$!==c&&null!=$?$:[]),d=($=(r=y.get("Class")).$new,$.$$p=u.$to_proc(),$).call(r,a).$new(e,_,($=n["$[]"]("ascii"))!==!1&&$!==c&&null!=$&&$,($=n["$[]"]("dummy"))!==!1&&$!==c&&null!=$&&$),($=(l=_).$each,$.$$p=(o=function(e){var t=o.$$s||this;return null==e&&(e=c),t.$const_set(e.$sub("-","_"),d)},o.$$s=a,o.$$arity=1,o),$).call(l)},i.$$arity=-2),e.defs(b,"$find",l=function(t){try{var n,$,r,i=this,l=c;return l=t.$upcase(),(n=($=i.$constants()).$each,n.$$p=(r=function(t){var n,$,i=r.$$s||this,o=c;return null==t&&(t=c),o=i.$const_get(t),(n=y.get("Encoding")["$==="](o))===c||null==n||n.$$is_boolean&&1!=n?c:(n=($=o.$name()["$=="](l))!==!1&&$!==c&&null!=$?$:o.$names()["$include?"](l))===c||null==n||n.$$is_boolean&&1!=n?c:void e.ret(o)},r.$$s=i,r.$$arity=1,r),n).call($),i.$raise(y.get("ArgumentError"),"unknown encoding name - "+t)}catch(t){if(t===e.returner)return t.$v;throw t}},l.$$arity=1),function(e){e.$$scope,e.$$proto;return e.$attr_accessor("default_external")}(e.get_singleton_class(b)),b.$attr_reader("name","names"),e.defn(b,"$initialize",o=function(e,t,n,$){var r=this;return r.name=e,r.names=t,r.ascii=n,r.dummy=$},o.$$arity=4),e.defn(b,"$ascii_compatible?",a=function(){var e=this;return e.ascii},a.$$arity=0),e.defn(b,"$dummy?",s=function(){var e=this;return e.dummy},s.$$arity=0),e.defn(b,"$to_s",u=function(){var e=this;return e.name},u.$$arity=0),e.defn(b,"$inspect",d=function(){var e,t=this;return"#<Encoding:"+t.name+function(){return(e=t.dummy)===c||null==e||e.$$is_boolean&&1!=e?c:" (dummy)"}()+">"},d.$$arity=0),e.defn(b,"$each_byte",f=function(e){var t=this;return t.$raise(y.get("NotImplementedError"))},f.$$arity=-1),e.defn(b,"$getbyte",h=function(e){var t=this;return t.$raise(y.get("NotImplementedError"))},h.$$arity=-1),e.defn(b,"$bytesize",g=function(e){var t=this;return t.$raise(y.get("NotImplementedError"))},g.$$arity=-1),function(e,t){function n(){}var $=n=_(e,t,"EncodingError",n);$.$$proto,$.$$scope;return c}(y.base,y.get("StandardError")),function(e,t){function n(){}var $=n=_(e,t,"CompatibilityError",n);$.$$proto,$.$$scope;return c}(y.base,y.get("EncodingError"))}(u.base,null),(n=($=u.get("Encoding")).$register,n.$$p=(r=function(){var t,n,$=r.$$s||this;return e.def($,"$each_byte",t=function(n){var $=t.$$p,r=$||c;t.$$p=null;for(var i=0,l=n.length;i<l;i++){var o=n.charCodeAt(i);if(o<=127)e.yield1(r,o);else for(var a=encodeURIComponent(n.charAt(i)).substr(1).split("%"),s=0,u=a.length;s<u;s++)e.yield1(r,parseInt(a[s],16))}},t.$$arity=1),e.def($,"$bytesize",n=function(){var e=this;return e.$bytes().$length()},n.$$arity=0),c&&"bytesize"},r.$$s=s,r.$$arity=0,r),n).call($,"UTF-8",p(["aliases","ascii"],{aliases:["CP65001"],ascii:!0})),(n=(i=u.get("Encoding")).$register,n.$$p=(l=function(){var t,n,$=l.$$s||this;return e.def($,"$each_byte",t=function(n){var $=t.$$p,r=$||c;t.$$p=null;for(var i=0,l=n.length;i<l;i++){var o=n.charCodeAt(i);e.yield1(r,255&o),e.yield1(r,o>>8)}},t.$$arity=1),e.def($,"$bytesize",n=function(){var e=this;return e.$bytes().$length()},n.$$arity=0),c&&"bytesize"},l.$$s=s,l.$$arity=0,l),n).call(i,"UTF-16LE"),(n=(o=u.get("Encoding")).$register,n.$$p=(a=function(){var t,n,$=a.$$s||this;return e.def($,"$each_byte",t=function(n){var $=t.$$p,r=$||c;t.$$p=null;for(var i=0,l=n.length;i<l;i++)e.yield1(r,255&n.charCodeAt(i))},t.$$arity=1),e.def($,"$bytesize",n=function(){var e=this;return e.$bytes().$length()},n.$$arity=0),c&&"bytesize"},a.$$s=s,a.$$arity=0,a),n).call(o,"ASCII-8BIT",p(["aliases","ascii"],{aliases:["BINARY"],ascii:!0})),function(t,n){function $(){}var r,i,l,o,a,s,u,p=$=_(t,n,"String",$),d=p.$$proto,f=p.$$scope;return d.encoding=c,String.prototype.encoding=f.get("Encoding").$$scope.get("UTF_16LE"),e.defn(p,"$bytes",r=function(){var e=this;return e.$each_byte().$to_a()},r.$$arity=0),e.defn(p,"$bytesize",i=function(){var e=this;return e.encoding.$bytesize(e)},i.$$arity=0),e.defn(p,"$each_byte",l=function(){var e,t,n=this,$=l.$$p,r=$||c;return l.$$p=null,r===c?n.$enum_for("each_byte"):((e=(t=n.encoding).$each_byte,e.$$p=r.$to_proc(),e).call(t,n),n)},l.$$arity=0),e.defn(p,"$encode",o=function(e){var t=this;return t.$dup().$force_encoding(e)},o.$$arity=1),e.defn(p,"$encoding",a=function(){var e=this;return e.encoding},a.$$arity=0),e.defn(p,"$force_encoding",s=function(e){var t,n=this;if(e=f.get("Opal")["$coerce_to!"](e,f.get("String"),"to_str"),e=f.get("Encoding").$find(e),e["$=="](n.encoding))return n;(t=e["$nil?"]())===c||null==t||t.$$is_boolean&&1!=t||n.$raise(f.get("ArgumentError"),"unknown encoding name - "+e);var $=new String(n);return $.encoding=e,$},s.$$arity=1),e.defn(p,"$getbyte",u=function(e){var t=this;return t.encoding.$getbyte(t,e)},u.$$arity=1),c&&"getbyte"}(u.base,null)},Opal.modules["corelib/math"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e/t:e["$/"](t)}var $=(e.top,e),r=e.nil,i=(e.breaker,e.slice,e.module);return e.add_stubs(["$new","$raise","$Float","$type_error","$Integer","$module_function","$checked","$float!","$===","$gamma","$-","$integer!","$/","$infinite?"]),function($){var l,o,a,s,u,c,_,p,d,f,h,g,b,m,y,v,w,k,x,E,A,O,S,R,T,I,C,N,M,L,z,P=l=i($,"Math"),D=(P.$$proto,P.$$scope);e.cdecl(D,"E",Math.E),e.cdecl(D,"PI",Math.PI),e.cdecl(D,"DomainError",D.get("Class").$new(D.get("StandardError"))),e.defs(P,"$checked",o=function(e,t){var n,$=this,r=arguments.length,i=r-1;i<0&&(i=0),n=new Array(i);for(var l=1;l<r;l++)n[l-1]=arguments[l];if(isNaN(n[0])||2==n.length&&isNaN(n[1]))return NaN;var o=Math[e].apply(null,n);return isNaN(o)&&$.$raise(D.get("DomainError"),'Numerical argument is out of domain - "'+e+'"'),o},o.$$arity=-2),e.defs(P,"$float!",a=function(t){var n=this;try{return n.$Float(t)}catch($){if(!e.rescue($,[D.get("ArgumentError")]))throw $;try{return n.$raise(D.get("Opal").$type_error(t,D.get("Float")))}finally{e.pop_exception()}}},a.$$arity=1),e.defs(P,"$integer!",s=function(t){var n=this;try{return n.$Integer(t)}catch($){if(!e.rescue($,[D.get("ArgumentError")]))throw $;try{return n.$raise(D.get("Opal").$type_error(t,D.get("Integer")))}finally{e.pop_exception()}}},s.$$arity=1),P.$module_function(),e.defn(P,"$acos",u=function(e){return D.get("Math").$checked("acos",D.get("Math")["$float!"](e))},u.$$arity=1),((c="undefined"!=typeof Math.acosh)===r||null==c||c.$$is_boolean&&1!=c)&&(Math.acosh=function(e){return Math.log(e+Math.sqrt(e*e-1))}),e.defn(P,"$acosh",_=function(e){return D.get("Math").$checked("acosh",D.get("Math")["$float!"](e))},_.$$arity=1),e.defn(P,"$asin",p=function(e){return D.get("Math").$checked("asin",D.get("Math")["$float!"](e))},p.$$arity=1),((c="undefined"!=typeof Math.asinh)===r||null==c||c.$$is_boolean&&1!=c)&&(Math.asinh=function(e){return Math.log(e+Math.sqrt(e*e+1))}),e.defn(P,"$asinh",d=function(e){return D.get("Math").$checked("asinh",D.get("Math")["$float!"](e))},d.$$arity=1),e.defn(P,"$atan",f=function(e){return D.get("Math").$checked("atan",D.get("Math")["$float!"](e))},f.$$arity=1),e.defn(P,"$atan2",h=function(e,t){return D.get("Math").$checked("atan2",D.get("Math")["$float!"](e),D.get("Math")["$float!"](t))},h.$$arity=2),((c="undefined"!=typeof Math.atanh)===r||null==c||c.$$is_boolean&&1!=c)&&(Math.atanh=function(e){return.5*Math.log((1+e)/(1-e))}),e.defn(P,"$atanh",g=function(e){return D.get("Math").$checked("atanh",D.get("Math")["$float!"](e))},g.$$arity=1),((c="undefined"!=typeof Math.cbrt)===r||null==c||c.$$is_boolean&&1!=c)&&(Math.cbrt=function(e){if(0==e)return 0;if(e<0)return-Math.cbrt(-e);for(var t=e,n=0;t<.125;)t*=8,n--;for(;t>1;)t*=.125,n++;for(t=(-.46946116*t+1.072302)*t+.3812513;n<0;)t*=.5,n++;for(;n>0;)t*=2,n--;return t=2/3*t+1/3*e/(t*t),t=2/3*t+1/3*e/(t*t),t=2/3*t+1/3*e/(t*t),t=2/3*t+1/3*e/(t*t)}),e.defn(P,"$cbrt",b=function(e){return D.get("Math").$checked("cbrt",D.get("Math")["$float!"](e))},b.$$arity=1),e.defn(P,"$cos",m=function(e){return D.get("Math").$checked("cos",D.get("Math")["$float!"](e))},m.$$arity=1),((c="undefined"!=typeof Math.cosh)===r||null==c||c.$$is_boolean&&1!=c)&&(Math.cosh=function(e){return(Math.exp(e)+Math.exp(-e))/2}),e.defn(P,"$cosh",y=function(e){return D.get("Math").$checked("cosh",D.get("Math")["$float!"](e))},y.$$arity=1),((c="undefined"!=typeof Math.erf)===r||null==c||c.$$is_boolean&&1!=c)&&(Math.erf=function(e){var t=.254829592,n=-.284496736,$=1.421413741,r=-1.453152027,i=1.061405429,l=.3275911,o=1;e<0&&(o=-1),e=Math.abs(e);var a=1/(1+l*e),s=1-((((i*a+r)*a+$)*a+n)*a+t)*a*Math.exp(-e*e);return o*s}),e.defn(P,"$erf",v=function(e){return D.get("Math").$checked("erf",D.get("Math")["$float!"](e))},v.$$arity=1),((c="undefined"!=typeof Math.erfc)===r||null==c||c.$$is_boolean&&1!=c)&&(Math.erfc=function(e){var t=Math.abs(e),n=1/(.5*t+1),$=.17087277*n+-.82215223,r=n*$+1.48851587,i=n*r+-1.13520398,l=n*i+.27886807,o=n*l+-.18628806,a=n*o+.09678418,s=n*a+.37409196,u=n*s+1.00002368,c=n*u,_=-t*t-1.26551223+c,p=n*Math.exp(_);return e<0?2-p:p}),e.defn(P,"$erfc",w=function(e){return D.get("Math").$checked("erfc",D.get("Math")["$float!"](e))},w.$$arity=1),e.defn(P,"$exp",k=function(e){return D.get("Math").$checked("exp",D.get("Math")["$float!"](e))},k.$$arity=1),e.defn(P,"$frexp",x=function(e){if(e=D.get("Math")["$float!"](e),isNaN(e))return[NaN,0];var t=Math.floor(Math.log(Math.abs(e))/Math.log(2))+1,n=e/Math.pow(2,t);return[n,t]},x.$$arity=1),e.defn(P,"$gamma",E=function(e){var n=this;e=D.get("Math")["$float!"](e);var $,r,i,l,o,a,s,u,c,_=4.7421875,p=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];if(isNaN(e))return NaN;if(0===e&&1/e<0)return-(1/0);if(e!==-1&&e!==-(1/0)||n.$raise(D.get("DomainError"),'Numerical argument is out of domain - "gamma"'),D.get("Integer")["$==="](e)){if(e<=0)return isFinite(e)?1/0:NaN;if(e>171)return 1/0;for(l=e-2,o=e-1;l>1;)o*=l,l--;return 0==o&&(o=1),o}if(e<.5)return Math.PI/(Math.sin(Math.PI*e)*D.get("Math").$gamma(t(1,e)));if(e>=171.35)return 1/0;if(e>85)return a=e*e,s=a*e,u=s*e,c=u*e,Math.sqrt(2*Math.PI/e)*Math.pow(e/Math.E,e)*(1+1/(12*e)+1/(288*a)-139/(51840*s)-571/(2488320*u)+163879/(209018880*c)+5246819/(75246796800*c*e));for(e-=1,i=p[0],$=1;$<p.length;++$)i+=p[$]/(e+$);return r=e+_+.5,Math.sqrt(2*Math.PI)*Math.pow(r,e+.5)*Math.exp(-r)*i},E.$$arity=1),((c="undefined"!=typeof Math.hypot)===r||null==c||c.$$is_boolean&&1!=c)&&(Math.hypot=function(e,t){return Math.sqrt(e*e+t*t)}),e.defn(P,"$hypot",A=function(e,t){return D.get("Math").$checked("hypot",D.get("Math")["$float!"](e),D.get("Math")["$float!"](t))},A.$$arity=2),e.defn(P,"$ldexp",O=function(e,t){var n=this;return e=D.get("Math")["$float!"](e),t=D.get("Math")["$integer!"](t),isNaN(t)&&n.$raise(D.get("RangeError"),"float NaN out of range of integer"),e*Math.pow(2,t)},O.$$arity=2),e.defn(P,"$lgamma",S=function(e){return e==-1?[1/0,1]:[Math.log(Math.abs(D.get("Math").$gamma(e))),D.get("Math").$gamma(e)<0?-1:1]},S.$$arity=1),e.defn(P,"$log",R=function(e,t){var $,i=this;return($=D.get("String")["$==="](e))===r||null==$||$.$$is_boolean&&1!=$||i.$raise(D.get("Opal").$type_error(e,D.get("Float"))),($=null==t)===r||null==$||$.$$is_boolean&&1!=$?(($=D.get("String")["$==="](t))===r||null==$||$.$$is_boolean&&1!=$||i.$raise(D.get("Opal").$type_error(t,D.get("Float"))),n(D.get("Math").$checked("log",D.get("Math")["$float!"](e)),D.get("Math").$checked("log",D.get("Math")["$float!"](t)))):D.get("Math").$checked("log",D.get("Math")["$float!"](e))},R.$$arity=-2),((c="undefined"!=typeof Math.log10)===r||null==c||c.$$is_boolean&&1!=c)&&(Math.log10=function(e){return Math.log(e)/Math.LN10}),e.defn(P,"$log10",T=function(e){var t,n=this;return(t=D.get("String")["$==="](e))===r||null==t||t.$$is_boolean&&1!=t||n.$raise(D.get("Opal").$type_error(e,D.get("Float"))),D.get("Math").$checked("log10",D.get("Math")["$float!"](e))},T.$$arity=1),((c="undefined"!=typeof Math.log2)===r||null==c||c.$$is_boolean&&1!=c)&&(Math.log2=function(e){return Math.log(e)/Math.LN2}),e.defn(P,"$log2",I=function(e){var t,n=this;return(t=D.get("String")["$==="](e))===r||null==t||t.$$is_boolean&&1!=t||n.$raise(D.get("Opal").$type_error(e,D.get("Float"))),D.get("Math").$checked("log2",D.get("Math")["$float!"](e))},I.$$arity=1),e.defn(P,"$sin",C=function(e){return D.get("Math").$checked("sin",D.get("Math")["$float!"](e))},C.$$arity=1),((c="undefined"!=typeof Math.sinh)===r||null==c||c.$$is_boolean&&1!=c)&&(Math.sinh=function(e){return(Math.exp(e)-Math.exp(-e))/2}),e.defn(P,"$sinh",N=function(e){return D.get("Math").$checked("sinh",D.get("Math")["$float!"](e))},N.$$arity=1),e.defn(P,"$sqrt",M=function(e){return D.get("Math").$checked("sqrt",D.get("Math")["$float!"](e))},M.$$arity=1),e.defn(P,"$tan",L=function(e){var t;return e=D.get("Math")["$float!"](e),(t=e["$infinite?"]())===r||null==t||t.$$is_boolean&&1!=t?D.get("Math").$checked("tan",D.get("Math")["$float!"](e)):D.get("Float").$$scope.get("NAN")},L.$$arity=1),((c="undefined"!=typeof Math.tanh)===r||null==c||c.$$is_boolean&&1!=c)&&(Math.tanh=function(e){return e==1/0?1:e==-(1/0)?-1:(Math.exp(e)-Math.exp(-e))/(Math.exp(e)+Math.exp(-e))}),e.defn(P,"$tanh",z=function(e){return D.get("Math").$checked("tanh",D.get("Math")["$float!"](e))},z.$$arity=1)}($.base)},Opal.modules["corelib/complex"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e/t:e["$/"](t)}function i(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}var l=e.top,o=e,a=e.nil,s=(e.breaker,e.slice,e.klass),u=e.module;return e.add_stubs(["$require","$===","$real?","$raise","$new","$*","$cos","$sin","$attr_reader","$class","$==","$real","$imag","$Complex","$-@","$+","$__coerced__","$-","$nan?","$/","$conj","$abs2","$quo","$polar","$exp","$log","$>","$!=","$divmod","$**","$hypot","$atan2","$lcm","$denominator","$to_s","$numerator","$abs","$arg","$rationalize","$to_f","$to_i","$to_r","$inspect","$positive?","$infinite?"]),l.$require("corelib/numeric"),function(l,o){function u(){}var c,_,p,d,f,h,g,b,m,y,v,w,k,x,E,A,O,S,R,T,I,C,N,M,L,z,P,D,B,q=u=s(l,o,"Complex",u),j=q.$$proto,F=q.$$scope;return j.real=j.imag=a,e.defs(q,"$rect",c=function(e,t){var n,$,r,i,l=this;return null==t&&(t=0),i=F.get("Numeric")["$==="](e),r=i!==!1&&i!==a&&null!=i?e["$real?"]():i,$=r!==!1&&r!==a&&null!=r?F.get("Numeric")["$==="](t):r,((n=$!==!1&&$!==a&&null!=$?t["$real?"]():$)===a||null==n||n.$$is_boolean&&1!=n)&&l.$raise(F.get("TypeError"),"not a real"),l.$new(e,t)},c.$$arity=-2),function(t){t.$$scope,t.$$proto;return e.alias(t,"rectangular","rect")}(e.get_singleton_class(q)),e.defs(q,"$polar",_=function(e,n){var $,r,i,l,o=this;return null==n&&(n=0),l=F.get("Numeric")["$==="](e),i=l!==!1&&l!==a&&null!=l?e["$real?"]():l,r=i!==!1&&i!==a&&null!=i?F.get("Numeric")["$==="](n):i,(($=r!==!1&&r!==a&&null!=r?n["$real?"]():r)===a||null==$||$.$$is_boolean&&1!=$)&&o.$raise(F.get("TypeError"),"not a real"),o.$new(t(e,F.get("Math").$cos(n)),t(e,F.get("Math").$sin(n)))},_.$$arity=-2),q.$attr_reader("real","imag"),e.defn(q,"$initialize",p=function(e,t){var n=this;return null==t&&(t=0),n.real=e,n.imag=t},p.$$arity=-2),e.defn(q,"$coerce",d=function(e){var t,n,$=this;return(t=F.get("Complex")["$==="](e))===a||null==t||t.$$is_boolean&&1!=t?(n=F.get("Numeric")["$==="](e),(t=n!==!1&&n!==a&&null!=n?e["$real?"]():n)===a||null==t||t.$$is_boolean&&1!=t?$.$raise(F.get("TypeError"),""+e.$class()+" can't be coerced into Complex"):[F.get("Complex").$new(e,0),$]):[e,$]},d.$$arity=1),e.defn(q,"$==",f=function(e){var t,n,$=this;return(t=F.get("Complex")["$==="](e))===a||null==t||t.$$is_boolean&&1!=t?(n=F.get("Numeric")["$==="](e),(t=n!==!1&&n!==a&&null!=n?e["$real?"]():n)===a||null==t||t.$$is_boolean&&1!=t?e["$=="]($):(t=$.real["$=="](e))?$.imag["$=="](0):$.real["$=="](e)):(t=$.real["$=="](e.$real()))?$.imag["$=="](e.$imag()):$.real["$=="](e.$real())},f.$$arity=1),e.defn(q,"$-@",h=function(){var e=this;return e.$Complex(e.real["$-@"](),e.imag["$-@"]())},h.$$arity=0),e.defn(q,"$+",g=function(e){var t,$,r=this;return(t=F.get("Complex")["$==="](e))===a||null==t||t.$$is_boolean&&1!=t?($=F.get("Numeric")["$==="](e),(t=$!==!1&&$!==a&&null!=$?e["$real?"]():$)===a||null==t||t.$$is_boolean&&1!=t?r.$__coerced__("+",e):r.$Complex(n(r.real,e),r.imag)):r.$Complex(n(r.real,e.$real()),n(r.imag,e.$imag()))},g.$$arity=1),e.defn(q,"$-",b=function(e){var t,n,r=this;return(t=F.get("Complex")["$==="](e))===a||null==t||t.$$is_boolean&&1!=t?(n=F.get("Numeric")["$==="](e),(t=n!==!1&&n!==a&&null!=n?e["$real?"]():n)===a||null==t||t.$$is_boolean&&1!=t?r.$__coerced__("-",e):r.$Complex($(r.real,e),r.imag)):r.$Complex($(r.real,e.$real()),$(r.imag,e.$imag()))},b.$$arity=1),e.defn(q,"$*",m=function(e){var r,i,l=this;return(r=F.get("Complex")["$==="](e))===a||null==r||r.$$is_boolean&&1!=r?(i=F.get("Numeric")["$==="](e),(r=i!==!1&&i!==a&&null!=i?e["$real?"]():i)===a||null==r||r.$$is_boolean&&1!=r?l.$__coerced__("*",e):l.$Complex(t(l.real,e),t(l.imag,e))):l.$Complex($(t(l.real,e.$real()),t(l.imag,e.$imag())),n(t(l.real,e.$imag()),t(l.imag,e.$real())))},m.$$arity=1),e.defn(q,"$/",y=function(e){var n,$,i,l,o,s=this;return(n=F.get("Complex")["$==="](e))===a||null==n||n.$$is_boolean&&1!=n?($=F.get("Numeric")["$==="](e),(n=$!==!1&&$!==a&&null!=$?e["$real?"]():$)===a||null==n||n.$$is_boolean&&1!=n?s.$__coerced__("/",e):s.$Complex(s.real.$quo(e),s.imag.$quo(e))):(o=F.get("Number")["$==="](s.real),(n=($=(i=(l=o!==!1&&o!==a&&null!=o?s.real["$nan?"]():o)!==!1&&l!==a&&null!=l?l:(o=F.get("Number")["$==="](s.imag),o!==!1&&o!==a&&null!=o?s.imag["$nan?"]():o))!==!1&&i!==a&&null!=i?i:(l=F.get("Number")["$==="](e.$real()),l!==!1&&l!==a&&null!=l?e.$real()["$nan?"]():l))!==!1&&$!==a&&null!=$?$:(i=F.get("Number")["$==="](e.$imag()),i!==!1&&i!==a&&null!=i?e.$imag()["$nan?"]():i))===a||null==n||n.$$is_boolean&&1!=n?r(t(s,e.$conj()),e.$abs2()):F.get("Complex").$new(F.get("Float").$$scope.get("NAN"),F.get("Float").$$scope.get("NAN")))},y.$$arity=1),e.defn(q,"$**",v=function(l){var o,s,u,c,_,p=this,d=a,f=a,h=a,g=a,b=a,m=a,y=a,v=a,w=a,k=a,x=a;if(l["$=="](0))return F.get("Complex").$new(1,0);if((o=F.get("Complex")["$==="](l))===a||null==o||o.$$is_boolean&&1!=o){if((o=F.get("Integer")["$==="](l))===a||null==o||o.$$is_boolean&&1!=o)return(o=(s=F.get("Float")["$==="](l))!==!1&&s!==a&&null!=s?s:F.get("Rational")["$==="](l))===a||null==o||o.$$is_boolean&&1!=o?p.$__coerced__("**",l):(s=p.$polar(),o=e.to_ary(s),d=null==o[0]?a:o[0],f=null==o[1]?a:o[1],s,F.get("Complex").$polar(d["$**"](l),t(f,l)));if((o=i(l,0))===a||null==o||o.$$is_boolean&&1!=o)return r(F.get("Rational").$new(1,1),p)["$**"](l["$-@"]());for(y=p,v=y,w=$(l,1);(s=w["$!="](0))!==a&&null!=s&&(!s.$$is_boolean||1==s);){for(;_=w.$divmod(2),c=e.to_ary(_),k=null==c[0]?a:c[0],x=null==c[1]?a:c[1],(u=x["$=="](0))!==a&&null!=u&&(!u.$$is_boolean||1==u);)y=p.$Complex($(t(y.$real(),y.$real()),t(y.$imag(),y.$imag())),t(t(2,y.$real()),y.$imag())),w=k;v=t(v,y),w=$(w,1)}return v}return s=p.$polar(),o=e.to_ary(s),d=null==o[0]?a:o[0],f=null==o[1]?a:o[1],s,h=l.$real(),g=l.$imag(),b=F.get("Math").$exp($(t(h,F.get("Math").$log(d)),t(g,f))),m=n(t(f,h),t(g,F.get("Math").$log(d))),F.get("Complex").$polar(b,m)},v.$$arity=1),e.defn(q,"$abs",w=function(){var e=this;return F.get("Math").$hypot(e.real,e.imag)},w.$$arity=0),e.defn(q,"$abs2",k=function(){var e=this;return n(t(e.real,e.real),t(e.imag,e.imag))},k.$$arity=0),e.defn(q,"$angle",x=function(){var e=this;return F.get("Math").$atan2(e.imag,e.real)},x.$$arity=0),e.alias(q,"arg","angle"),e.defn(q,"$conj",E=function(){var e=this;return e.$Complex(e.real,e.imag["$-@"]())},E.$$arity=0),e.alias(q,"conjugate","conj"),e.defn(q,"$denominator",A=function(){var e=this;return e.real.$denominator().$lcm(e.imag.$denominator())},A.$$arity=0),e.alias(q,"divide","/"),e.defn(q,"$eql?",O=function(e){var t,n,$=this;return n=F.get("Complex")["$==="](e),t=n!==!1&&n!==a&&null!=n?$.real.$class()["$=="]($.imag.$class()):n,t!==!1&&t!==a&&null!=t?$["$=="](e):t},O.$$arity=1),e.defn(q,"$fdiv",S=function(e){var t,n=this;return((t=F.get("Numeric")["$==="](e))===a||null==t||t.$$is_boolean&&1!=t)&&n.$raise(F.get("TypeError"),""+e.$class()+" can't be coerced into Complex"),r(n,e)},S.$$arity=1),e.defn(q,"$hash",R=function(){var e=this;return"Complex:"+e.real+":"+e.imag},R.$$arity=0),e.alias(q,"imaginary","imag"),e.defn(q,"$inspect",T=function(){var e=this;return"("+e.$to_s()+")"},T.$$arity=0),e.alias(q,"magnitude","abs"),e.defn(q,"$numerator",I=function(){var e=this,n=a;return n=e.$denominator(),e.$Complex(t(e.real.$numerator(),r(n,e.real.$denominator())),t(e.imag.$numerator(),r(n,e.imag.$denominator())))},I.$$arity=0),e.alias(q,"phase","arg"),e.defn(q,"$polar",C=function(){var e=this;return[e.$abs(),e.$arg()]},C.$$arity=0),e.alias(q,"quo","/"),e.defn(q,"$rationalize",N=function(e){var t,n=this;return arguments.length>1&&n.$raise(F.get("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),(t=n.imag["$!="](0))===a||null==t||t.$$is_boolean&&1!=t||n.$raise(F.get("RangeError"),"can't' convert "+n+" into Rational"),n.$real().$rationalize(e)},N.$$arity=-1),e.defn(q,"$real?",M=function(){return!1},M.$$arity=0),e.defn(q,"$rect",L=function(){var e=this;return[e.real,e.imag]},L.$$arity=0),e.alias(q,"rectangular","rect"),e.defn(q,"$to_f",z=function(){var e=this;return e.imag["$=="](0)||e.$raise(F.get("RangeError"),"can't convert "+e+" into Float"),e.real.$to_f()},z.$$arity=0),e.defn(q,"$to_i",P=function(){var e=this;return e.imag["$=="](0)||e.$raise(F.get("RangeError"),"can't convert "+e+" into Integer"),e.real.$to_i()},P.$$arity=0),e.defn(q,"$to_r",D=function(){var e=this;return e.imag["$=="](0)||e.$raise(F.get("RangeError"),"can't convert "+e+" into Rational"),e.real.$to_r()},D.$$arity=0),e.defn(q,"$to_s",B=function(){var e,t,$,r=this,i=a;return i=r.real.$inspect(),$=F.get("Number")["$==="](r.imag),i=(e=(t=$!==!1&&$!==a&&null!=$?r.imag["$nan?"]():$)!==!1&&t!==a&&null!=t?t:r.imag["$positive?"]())===a||null==e||e.$$is_boolean&&1!=e?n(i,"-"):n(i,"+"),i=n(i,r.imag.$abs().$inspect()),t=F.get("Number")["$==="](r.imag),(e=t!==!1&&t!==a&&null!=t?($=r.imag["$nan?"]())!==!1&&$!==a&&null!=$?$:r.imag["$infinite?"]():t)===a||null==e||e.$$is_boolean&&1!=e||(i=n(i,"*")),n(i,"i")},B.$$arity=0),e.cdecl(F,"I",q.$new(0,1))}(o.base,o.get("Numeric")),function(t){var n,$,r=n=u(t,"Kernel"),i=(r.$$proto,r.$$scope);e.defn(r,"$Complex",$=function(e,t){return null==t&&(t=a),t!==!1&&t!==a&&null!=t?i.get("Complex").$new(e,t):i.get("Complex").$new(e,0)},$.$$arity=-2)}(o.base)},Opal.modules["corelib/rational"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e/t:e["$/"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function i(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function l(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function o(e,t){return"number"==typeof e&&"number"==typeof t?e<=t:e["$<="](t)}var a=e.top,s=e,u=e.nil,c=(e.breaker,e.slice,e.klass),_=e.module;return e.add_stubs(["$require","$to_i","$==","$raise","$<","$-@","$new","$gcd","$/","$nil?","$===","$reduce","$to_r","$equal?","$!","$coerce_to!","$attr_reader","$to_f","$numerator","$denominator","$<=>","$-","$*","$__coerced__","$+","$Rational","$>","$**","$abs","$ceil","$with_precision","$floor","$to_s","$<=","$truncate","$send","$convert"]),a.$require("corelib/numeric"),function(a,s){function _(){}var p,d,f,h,g,b,m,y,v,w,k,x,E,A,O,S,R,T,I,C,N,M,L,z,P,D,B=_=c(a,s,"Rational",_),q=B.$$proto,j=B.$$scope;return q.num=q.den=u,e.defs(B,"$reduce",p=function(e,$){var r,i=this,l=u;if(e=e.$to_i(),$=$.$to_i(),$["$=="](0))i.$raise(j.get("ZeroDivisionError"),"divided by 0");else if((r=t($,0))===u||null==r||r.$$is_boolean&&1!=r){if($["$=="](1))return i.$new(e,$)}else e=e["$-@"](),$=$["$-@"]();return l=e.$gcd($),i.$new(n(e,l),n($,l))},p.$$arity=2),e.defs(B,"$convert",d=function(e,t){var $,r,i,l=this;return($=(r=e["$nil?"]())!==!1&&r!==u&&null!=r?r:t["$nil?"]())===u||null==$||$.$$is_boolean&&1!=$||l.$raise(j.get("TypeError"),"cannot convert nil into Rational"),r=j.get("Integer")["$==="](e),($=r!==!1&&r!==u&&null!=r?j.get("Integer")["$==="](t):r)===u||null==$||$.$$is_boolean&&1!=$?(($=(r=(i=j.get("Float")["$==="](e))!==!1&&i!==u&&null!=i?i:j.get("String")["$==="](e))!==!1&&r!==u&&null!=r?r:j.get("Complex")["$==="](e))===u||null==$||$.$$is_boolean&&1!=$||(e=e.$to_r()),($=(r=(i=j.get("Float")["$==="](t))!==!1&&i!==u&&null!=i?i:j.get("String")["$==="](t))!==!1&&r!==u&&null!=r?r:j.get("Complex")["$==="](t))===u||null==$||$.$$is_boolean&&1!=$||(t=t.$to_r()),r=t["$equal?"](1),($=r!==!1&&r!==u&&null!=r?j.get("Integer")["$==="](e)["$!"]():r)===u||null==$||$.$$is_boolean&&1!=$?(r=j.get("Numeric")["$==="](e),($=r!==!1&&r!==u&&null!=r?j.get("Numeric")["$==="](t):r)===u||null==$||$.$$is_boolean&&1!=$?l.$reduce(e,t):n(e,t)):j.get("Opal")["$coerce_to!"](e,j.get("Rational"),"to_r")):l.$reduce(e,t)},d.$$arity=2),B.$attr_reader("numerator","denominator"),e.defn(B,"$initialize",f=function(e,t){var n=this;return n.num=e,n.den=t},f.$$arity=2),e.defn(B,"$numerator",h=function(){var e=this;return e.num},h.$$arity=0),e.defn(B,"$denominator",g=function(){var e=this;return e.den},g.$$arity=0),e.defn(B,"$coerce",b=function(e){var t=this,n=u;return function(){return n=e,j.get("Rational")["$==="](n)?[e,t]:j.get("Integer")["$==="](n)?[e.$to_r(),t]:j.get("Float")["$==="](n)?[e,t.$to_f()]:u}()},b.$$arity=1),e.defn(B,"$==",m=function(e){var t,n=this,$=u;return function(){return $=e,j.get("Rational")["$==="]($)?(t=n.num["$=="](e.$numerator()))?n.den["$=="](e.$denominator()):n.num["$=="](e.$numerator()):j.get("Integer")["$==="]($)?(t=n.num["$=="](e))?n.den["$=="](1):n.num["$=="](e):j.get("Float")["$==="]($)?n.$to_f()["$=="](e):e["$=="](n)}()},m.$$arity=1),e.defn(B,"$<=>",y=function(e){var t=this,n=u;return function(){return n=e,j.get("Rational")["$==="](n)?$(r(t.num,e.$denominator()),r(t.den,e.$numerator()))["$<=>"](0):j.get("Integer")["$==="](n)?$(t.num,r(t.den,e))["$<=>"](0):j.get("Float")["$==="](n)?t.$to_f()["$<=>"](e):t.$__coerced__("<=>",e)}()},y.$$arity=1),e.defn(B,"$+",v=function(e){var t=this,n=u,$=u,l=u;return function(){return n=e,j.get("Rational")["$==="](n)?($=i(r(t.num,e.$denominator()),r(t.den,e.$numerator())),l=r(t.den,e.$denominator()),t.$Rational($,l)):j.get("Integer")["$==="](n)?t.$Rational(i(t.num,r(e,t.den)),t.den):j.get("Float")["$==="](n)?i(t.$to_f(),e):t.$__coerced__("+",e)}()},v.$$arity=1),e.defn(B,"$-",w=function(e){var t=this,n=u,i=u,l=u;return function(){return n=e,j.get("Rational")["$==="](n)?(i=$(r(t.num,e.$denominator()),r(t.den,e.$numerator())),l=r(t.den,e.$denominator()),t.$Rational(i,l)):j.get("Integer")["$==="](n)?t.$Rational($(t.num,r(e,t.den)),t.den):j.get("Float")["$==="](n)?$(t.$to_f(),e):t.$__coerced__("-",e)}()},w.$$arity=1),e.defn(B,"$*",k=function(e){var t=this,n=u,$=u,i=u;return function(){return n=e,j.get("Rational")["$==="](n)?($=r(t.num,e.$numerator()),i=r(t.den,e.$denominator()),t.$Rational($,i)):j.get("Integer")["$==="](n)?t.$Rational(r(t.num,e),t.den):j.get("Float")["$==="](n)?r(t.$to_f(),e):t.$__coerced__("*",e)}()},k.$$arity=1),e.defn(B,"$/",x=function(e){var t=this,$=u,i=u,l=u;return function(){return $=e,j.get("Rational")["$==="]($)?(i=r(t.num,e.$denominator()),l=r(t.den,e.$numerator()),t.$Rational(i,l)):j.get("Integer")["$==="]($)?e["$=="](0)?n(t.$to_f(),0):t.$Rational(t.num,r(t.den,e)):j.get("Float")["$==="]($)?n(t.$to_f(),e):t.$__coerced__("/",e)}()},x.$$arity=1),e.defn(B,"$**",E=function(e){var n,$,r=this,i=u;return function(){return i=e,j.get("Integer")["$==="](i)?(n=($=r["$=="](0))?t(e,0):r["$=="](0))===u||null==n||n.$$is_boolean&&1!=n?(n=l(e,0))===u||null==n||n.$$is_boolean&&1!=n?(n=t(e,0))===u||null==n||n.$$is_boolean&&1!=n?r.$Rational(1,1):r.$Rational(r.den["$**"](e["$-@"]()),r.num["$**"](e["$-@"]())):r.$Rational(r.num["$**"](e),r.den["$**"](e)):j.get("Float").$$scope.get("INFINITY"):j.get("Float")["$==="](i)?r.$to_f()["$**"](e):j.get("Rational")["$==="](i)?e["$=="](0)?r.$Rational(1,1):e.$denominator()["$=="](1)?(n=t(e,0))===u||null==n||n.$$is_boolean&&1!=n?r.$Rational(r.num["$**"](e.$numerator()),r.den["$**"](e.$numerator())):r.$Rational(r.den["$**"](e.$numerator().$abs()),r.num["$**"](e.$numerator().$abs())):(n=($=r["$=="](0))?t(e,0):r["$=="](0))===u||null==n||n.$$is_boolean&&1!=n?r.$to_f()["$**"](e):r.$raise(j.get("ZeroDivisionError"),"divided by 0"):r.$__coerced__("**",e)}()},E.$$arity=1),e.defn(B,"$abs",A=function(){var e=this;return e.$Rational(e.num.$abs(),e.den.$abs())},A.$$arity=0),e.defn(B,"$ceil",O=function(e){var t=this;return null==e&&(e=0),e["$=="](0)?n(t.num["$-@"](),t.den)["$-@"]().$ceil():t.$with_precision("ceil",e)},O.$$arity=-1),e.alias(B,"divide","/"),e.defn(B,"$floor",S=function(e){var t=this;return null==e&&(e=0),e["$=="](0)?n(t.num["$-@"](),t.den)["$-@"]().$floor():t.$with_precision("floor",e)},S.$$arity=-1),e.defn(B,"$hash",R=function(){var e=this;return"Rational:"+e.num+":"+e.den},R.$$arity=0),e.defn(B,"$inspect",T=function(){var e=this;return"("+e.$to_s()+")"},T.$$arity=0),e.alias(B,"quo","/"),e.defn(B,"$rationalize",I=function(e){var t=this;if(arguments.length>1&&t.$raise(j.get("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),null==e)return t;for(var r,l,a,s,u,c=e.$abs(),_=$(t,c),p=i(t,c),d=0,f=1,h=1,g=0;;){if(a=_.$ceil(),o(a,p))break;s=a-1,r=s*f+d,l=s*g+h,u=n(1,$(p,s)),p=n(1,$(_,s)),_=u,d=f,h=g,f=r,g=l}return t.$Rational(a*f+d,a*g+h)},I.$$arity=-1),e.defn(B,"$round",C=function(e){var $,l=this,o=u,a=u,s=u;return null==e&&(e=0),e["$=="](0)?l.num["$=="](0)?0:l.den["$=="](1)?l.num:(o=i(r(l.num.$abs(),2),l.den),a=r(l.den,2),s=n(o,a).$truncate(),($=t(l.num,0))===u||null==$||$.$$is_boolean&&1!=$?s:s["$-@"]()):l.$with_precision("round",e)},C.$$arity=-1),e.defn(B,"$to_f",N=function(){var e=this;return n(e.num,e.den)},N.$$arity=0),e.defn(B,"$to_i",M=function(){var e=this;return e.$truncate();
},M.$$arity=0),e.defn(B,"$to_r",L=function(){var e=this;return e},L.$$arity=0),e.defn(B,"$to_s",z=function(){var e=this;return""+e.num+"/"+e.den},z.$$arity=0),e.defn(B,"$truncate",P=function(e){var n,$=this;return null==e&&(e=0),e["$=="](0)?(n=t($.num,0))===u||null==n||n.$$is_boolean&&1!=n?$.$floor():$.$ceil():$.$with_precision("truncate",e)},P.$$arity=-1),e.defn(B,"$with_precision",D=function(e,$){var i,l=this,o=u,a=u;return((i=j.get("Integer")["$==="]($))===u||null==i||i.$$is_boolean&&1!=i)&&l.$raise(j.get("TypeError"),"not an Integer"),o=10["$**"]($),a=r(l,o),(i=t($,1))===u||null==i||i.$$is_boolean&&1!=i?l.$Rational(a.$send(e),o):n(a.$send(e),o).$to_i()},D.$$arity=2),u&&"with_precision"}(s.base,s.get("Numeric")),function(t){var n,$,r=n=_(t,"Kernel"),i=(r.$$proto,r.$$scope);e.defn(r,"$Rational",$=function(e,t){return null==t&&(t=1),i.get("Rational").$convert(e,t)},$.$$arity=-2)}(s.base)},Opal.modules["corelib/time"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e/t:e["$/"](t)}function i(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function l(e,t){return"number"==typeof e&&"number"==typeof t?e<=t:e["$<="](t)}var o=e.top,a=e,s=e.nil,u=(e.breaker,e.slice),c=e.klass,_=e.range;return e.add_stubs(["$require","$include","$===","$raise","$coerce_to!","$respond_to?","$to_str","$to_i","$new","$<=>","$to_f","$nil?","$>","$<","$strftime","$year","$month","$day","$+","$round","$/","$-","$copy_instance_variables","$initialize_dup","$is_a?","$zero?","$wday","$utc?","$mon","$yday","$hour","$min","$sec","$rjust","$ljust","$zone","$to_s","$[]","$cweek_cyear","$isdst","$<=","$!=","$==","$ceil"]),o.$require("corelib/comparable"),function(o,a){function p(){}function d(e,t,n,$,r,i){if(e=e.$$is_string?parseInt(e,10):re.get("Opal")["$coerce_to!"](e,re.get("Integer"),"to_int"),t===s)t=1;else if(!t.$$is_number)if(t["$respond_to?"]("to_str"))switch(t=t.$to_str(),t.toLowerCase()){case"jan":t=1;break;case"feb":t=2;break;case"mar":t=3;break;case"apr":t=4;break;case"may":t=5;break;case"jun":t=6;break;case"jul":t=7;break;case"aug":t=8;break;case"sep":t=9;break;case"oct":t=10;break;case"nov":t=11;break;case"dec":t=12;break;default:t=t.$to_i()}else t=re.get("Opal")["$coerce_to!"](t,re.get("Integer"),"to_int");return(t<1||t>12)&&$e.$raise(re.get("ArgumentError"),"month out of range: "+t),t-=1,n=n===s?1:n.$$is_string?parseInt(n,10):re.get("Opal")["$coerce_to!"](n,re.get("Integer"),"to_int"),(n<1||n>31)&&$e.$raise(re.get("ArgumentError"),"day out of range: "+n),$=$===s?0:$.$$is_string?parseInt($,10):re.get("Opal")["$coerce_to!"]($,re.get("Integer"),"to_int"),($<0||$>24)&&$e.$raise(re.get("ArgumentError"),"hour out of range: "+$),r=r===s?0:r.$$is_string?parseInt(r,10):re.get("Opal")["$coerce_to!"](r,re.get("Integer"),"to_int"),(r<0||r>59)&&$e.$raise(re.get("ArgumentError"),"min out of range: "+r),i===s?i=0:i.$$is_number||(i=i.$$is_string?parseInt(i,10):re.get("Opal")["$coerce_to!"](i,re.get("Integer"),"to_int")),(i<0||i>60)&&$e.$raise(re.get("ArgumentError"),"sec out of range: "+i),[e,t,n,$,r,i]}var f,h,g,b,m,y,v,w,k,x,E,A,O,S,R,T,I,C,N,M,L,z,P,D,B,q,j,F,U,G,H,Y,K,W,X,V,J,Z,Q,ee,te,ne,$e=p=c(o,a,"Time",p),re=($e.$$proto,$e.$$scope);$e.$include(re.get("Comparable"));var ie=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],le=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],oe=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ae=["January","February","March","April","May","June","July","August","September","October","November","December"];return e.defs($e,"$at",f=function(e,t){var n,$=this;return re.get("Time")["$==="](e)?(void 0!==t&&$.$raise(re.get("TypeError"),"can't convert Time into an exact number"),n=new Date(e.getTime()),n.is_utc=e.is_utc,n):(e.$$is_number||(e=re.get("Opal")["$coerce_to!"](e,re.get("Integer"),"to_int")),void 0===t?new Date(1e3*e):(t.$$is_number||(t=re.get("Opal")["$coerce_to!"](t,re.get("Integer"),"to_int")),new Date(1e3*e+t/1e3)))},f.$$arity=-2),e.defs($e,"$new",h=function(e,t,n,$,r,i,l){var o=this;null==t&&(t=s),null==n&&(n=s),null==$&&($=s),null==r&&(r=s),null==i&&(i=s),null==l&&(l=s);var a,u;return void 0===e?new Date:(l!==s&&o.$raise(re.get("ArgumentError"),"Opal does not support explicitly specifying UTC offset for Time"),a=d(e,t,n,$,r,i),e=a[0],t=a[1],n=a[2],$=a[3],r=a[4],i=a[5],u=new Date(e,t,n,$,r,0,1e3*i),e<100&&u.setFullYear(e),u)},h.$$arity=-1),e.defs($e,"$local",g=function(e,t,n,$,r,i,l,o,a,c){null==t&&(t=s),null==n&&(n=s),null==$&&($=s),null==r&&(r=s),null==i&&(i=s),null==l&&(l=s),null==o&&(o=s),null==a&&(a=s),null==c&&(c=s);var _,p;return 10===arguments.length&&(_=u.call(arguments),e=_[5],t=_[4],n=_[3],$=_[2],r=_[1],i=_[0]),_=d(e,t,n,$,r,i),e=_[0],t=_[1],n=_[2],$=_[3],r=_[4],i=_[5],p=new Date(e,t,n,$,r,0,1e3*i),e<100&&p.setFullYear(e),p},g.$$arity=-2),e.defs($e,"$gm",b=function(e,t,n,$,r,i,l,o,a,c){null==t&&(t=s),null==n&&(n=s),null==$&&($=s),null==r&&(r=s),null==i&&(i=s),null==l&&(l=s),null==o&&(o=s),null==a&&(a=s),null==c&&(c=s);var _,p;return 10===arguments.length&&(_=u.call(arguments),e=_[5],t=_[4],n=_[3],$=_[2],r=_[1],i=_[0]),_=d(e,t,n,$,r,i),e=_[0],t=_[1],n=_[2],$=_[3],r=_[4],i=_[5],p=new Date(Date.UTC(e,t,n,$,r,0,1e3*i)),e<100&&p.setUTCFullYear(e),p.is_utc=!0,p},b.$$arity=-2),function(t){t.$$scope,t.$$proto;return e.alias(t,"mktime","local"),e.alias(t,"utc","gm")}(e.get_singleton_class($e)),e.defs($e,"$now",m=function(){var e=this;return e.$new()},m.$$arity=0),e.defn($e,"$+",y=function(e){var t,n=this;(t=re.get("Time")["$==="](e))===s||null==t||t.$$is_boolean&&1!=t||n.$raise(re.get("TypeError"),"time + time?"),e.$$is_number||(e=re.get("Opal")["$coerce_to!"](e,re.get("Integer"),"to_int"));var $=new Date(n.getTime()+1e3*e);return $.is_utc=n.is_utc,$},y.$$arity=1),e.defn($e,"$-",v=function(e){var t,n=this;if((t=re.get("Time")["$==="](e))!==s&&null!=t&&(!t.$$is_boolean||1==t))return(n.getTime()-e.getTime())/1e3;e.$$is_number||(e=re.get("Opal")["$coerce_to!"](e,re.get("Integer"),"to_int"));var $=new Date(n.getTime()-1e3*e);return $.is_utc=n.is_utc,$},v.$$arity=1),e.defn($e,"$<=>",w=function(e){var $,r=this,i=s;return($=re.get("Time")["$==="](e))===s||null==$||$.$$is_boolean&&1!=$?(i=e["$<=>"](r),($=i["$nil?"]())===s||null==$||$.$$is_boolean&&1!=$?($=t(i,0))===s||null==$||$.$$is_boolean&&1!=$?($=n(i,0))===s||null==$||$.$$is_boolean&&1!=$?0:1:-1:s):r.$to_f()["$<=>"](e.$to_f())},w.$$arity=1),e.defn($e,"$==",k=function(e){var t=this;return t.$to_f()===e.$to_f()},k.$$arity=1),e.defn($e,"$asctime",x=function(){var e=this;return e.$strftime("%a %b %e %H:%M:%S %Y")},x.$$arity=0),e.alias($e,"ctime","asctime"),e.defn($e,"$day",E=function(){var e=this;return e.is_utc?e.getUTCDate():e.getDate()},E.$$arity=0),e.defn($e,"$yday",A=function(){var e=this,t=s,n=s,l=s;return t=re.get("Time").$new(e.$year()).$to_i(),n=re.get("Time").$new(e.$year(),e.$month(),e.$day()).$to_i(),l=86400,$(r(i(n,t),l).$round(),1)},A.$$arity=0),e.defn($e,"$isdst",O=function(){var e=this,t=new Date(e.getFullYear(),0,1),n=new Date(e.getFullYear(),6,1);return e.getTimezoneOffset()<Math.max(t.getTimezoneOffset(),n.getTimezoneOffset())},O.$$arity=0),e.alias($e,"dst?","isdst"),e.defn($e,"$dup",S=function(){var e=this,t=s;return t=new Date(e.getTime()),t.$copy_instance_variables(e),t.$initialize_dup(e),t},S.$$arity=0),e.defn($e,"$eql?",R=function(e){var t,n=this;return t=e["$is_a?"](re.get("Time")),t!==!1&&t!==s&&null!=t?n["$<=>"](e)["$zero?"]():t},R.$$arity=1),e.defn($e,"$friday?",T=function(){var e=this;return 5==e.$wday()},T.$$arity=0),e.defn($e,"$hash",I=function(){var e=this;return"Time:"+e.getTime()},I.$$arity=0),e.defn($e,"$hour",C=function(){var e=this;return e.is_utc?e.getUTCHours():e.getHours()},C.$$arity=0),e.defn($e,"$inspect",N=function(){var e,t=this;return(e=t["$utc?"]())===s||null==e||e.$$is_boolean&&1!=e?t.$strftime("%Y-%m-%d %H:%M:%S %z"):t.$strftime("%Y-%m-%d %H:%M:%S UTC")},N.$$arity=0),e.alias($e,"mday","day"),e.defn($e,"$min",M=function(){var e=this;return e.is_utc?e.getUTCMinutes():e.getMinutes()},M.$$arity=0),e.defn($e,"$mon",L=function(){var e=this;return(e.is_utc?e.getUTCMonth():e.getMonth())+1},L.$$arity=0),e.defn($e,"$monday?",z=function(){var e=this;return 1==e.$wday()},z.$$arity=0),e.alias($e,"month","mon"),e.defn($e,"$saturday?",P=function(){var e=this;return 6==e.$wday()},P.$$arity=0),e.defn($e,"$sec",D=function(){var e=this;return e.is_utc?e.getUTCSeconds():e.getSeconds()},D.$$arity=0),e.defn($e,"$succ",B=function(){var e=this,t=new Date(e.getTime()+1e3);return t.is_utc=e.is_utc,t},B.$$arity=0),e.defn($e,"$usec",q=function(){var e=this;return 1e3*e.getMilliseconds()},q.$$arity=0),e.defn($e,"$zone",j=function(){var e,t=this,n=t.toString();return e=n.indexOf("(")==-1?n.match(/[A-Z]{3,4}/)[0]:n.match(/\([^)]+\)/)[0].match(/[A-Z]/g).join(""),"GMT"==e&&/(GMT\W*\d{4})/.test(n)?RegExp.$1:e},j.$$arity=0),e.defn($e,"$getgm",F=function(){var e=this,t=new Date(e.getTime());return t.is_utc=!0,t},F.$$arity=0),e.alias($e,"getutc","getgm"),e.defn($e,"$gmtime",U=function(){var e=this;return e.is_utc=!0,e},U.$$arity=0),e.alias($e,"utc","gmtime"),e.defn($e,"$gmt?",G=function(){var e=this;return e.is_utc===!0},G.$$arity=0),e.defn($e,"$gmt_offset",H=function(){var e=this;return 60*-e.getTimezoneOffset()},H.$$arity=0),e.defn($e,"$strftime",Y=function(e){var t=this;return e.replace(/%([\-_#^0]*:{0,2})(\d+)?([EO]*)(.)/g,function(e,n,$,r,i){var l="",o=n.indexOf("0")!==-1,a=n.indexOf("-")===-1,s=n.indexOf("_")!==-1,u=n.indexOf("^")!==-1,c=n.indexOf("#")!==-1,p=(n.match(":")||[]).length;switch($=parseInt($,10),o&&s&&(n.indexOf("0")<n.indexOf("_")?o=!1:s=!1),i){case"Y":l+=t.$year();break;case"C":o=!s,l+=Math.round(t.$year()/100);break;case"y":o=!s,l+=t.$year()%100;break;case"m":o=!s,l+=t.$mon();break;case"B":l+=ae[t.$mon()-1];break;case"b":case"h":s=!o,l+=oe[t.$mon()-1];break;case"d":o=!s,l+=t.$day();break;case"e":s=!o,l+=t.$day();break;case"j":l+=t.$yday();break;case"H":o=!s,l+=t.$hour();break;case"k":s=!o,l+=t.$hour();break;case"I":o=!s,l+=t.$hour()%12||12;break;case"l":s=!o,l+=t.$hour()%12||12;break;case"P":l+=t.$hour()>=12?"pm":"am";break;case"p":l+=t.$hour()>=12?"PM":"AM";break;case"M":o=!s,l+=t.$min();break;case"S":o=!s,l+=t.$sec();break;case"L":o=!s,$=isNaN($)?3:$,l+=t.getMilliseconds();break;case"N":$=isNaN($)?9:$,l+=t.getMilliseconds().toString().$rjust(3,"0"),l=l.$ljust($,"0");break;case"z":var d=t.getTimezoneOffset(),f=Math.floor(Math.abs(d)/60),h=Math.abs(d)%60;l+=d<0?"+":"-",l+=f<10?"0":"",l+=f,p>0&&(l+=":"),l+=h<10?"0":"",l+=h,p>1&&(l+=":00");break;case"Z":l+=t.$zone();break;case"A":l+=ie[t.$wday()];break;case"a":l+=le[t.$wday()];break;case"u":l+=t.$wday()+1;break;case"w":l+=t.$wday();break;case"V":l+=t.$cweek_cyear()["$[]"](0).$to_s().$rjust(2,"0");break;case"G":l+=t.$cweek_cyear()["$[]"](1);break;case"g":l+=t.$cweek_cyear()["$[]"](1)["$[]"](_(-2,-1,!1));break;case"s":l+=t.$to_i();break;case"n":l+="\n";break;case"t":l+="\t";break;case"%":l+="%";break;case"c":l+=t.$strftime("%a %b %e %T %Y");break;case"D":case"x":l+=t.$strftime("%m/%d/%y");break;case"F":l+=t.$strftime("%Y-%m-%d");break;case"v":l+=t.$strftime("%e-%^b-%4Y");break;case"r":l+=t.$strftime("%I:%M:%S %p");break;case"R":l+=t.$strftime("%H:%M");break;case"T":case"X":l+=t.$strftime("%H:%M:%S");break;default:return e}return u&&(l=l.toUpperCase()),c&&(l=l.replace(/[A-Z]/,function(e){e.toLowerCase()}).replace(/[a-z]/,function(e){e.toUpperCase()})),a&&(o||s)&&(l=l.$rjust(isNaN($)?2:$,s?" ":"0")),l})},Y.$$arity=1),e.defn($e,"$sunday?",K=function(){var e=this;return 0==e.$wday()},K.$$arity=0),e.defn($e,"$thursday?",W=function(){var e=this;return 4==e.$wday()},W.$$arity=0),e.defn($e,"$to_a",X=function(){var e=this;return[e.$sec(),e.$min(),e.$hour(),e.$day(),e.$month(),e.$year(),e.$wday(),e.$yday(),e.$isdst(),e.$zone()]},X.$$arity=0),e.defn($e,"$to_f",V=function(){var e=this;return e.getTime()/1e3},V.$$arity=0),e.defn($e,"$to_i",J=function(){var e=this;return parseInt(e.getTime()/1e3,10)},J.$$arity=0),e.alias($e,"to_s","inspect"),e.defn($e,"$tuesday?",Z=function(){var e=this;return 2==e.$wday()},Z.$$arity=0),e.alias($e,"tv_sec","sec"),e.alias($e,"tv_usec","usec"),e.alias($e,"utc?","gmt?"),e.alias($e,"gmtoff","gmt_offset"),e.alias($e,"utc_offset","gmt_offset"),e.defn($e,"$wday",Q=function(){var e=this;return e.is_utc?e.getUTCDay():e.getDay()},Q.$$arity=0),e.defn($e,"$wednesday?",ee=function(){var e=this;return 3==e.$wday()},ee.$$arity=0),e.defn($e,"$year",te=function(){var e=this;return e.is_utc?e.getUTCFullYear():e.getFullYear()},te.$$arity=0),e.defn($e,"$cweek_cyear",ne=function(){var e,t,n=this,o=s,a=s,u=s,c=s,_=s,p=s,d=s,f=s;return o=re.get("Time").$new(n.$year(),1,1),a=o.$wday(),u=0,c=n.$year(),t=l(a,4),(e=t!==!1&&t!==s&&null!=t?a["$!="](0):t)===s||null==e||e.$$is_boolean&&1!=e?(_=i(i(a,7),1),_["$=="](-8)&&(_=-1)):_=i(a,1),p=r($(n.$yday(),_),7).$ceil(),(e=l(p,0))===s||null==e||e.$$is_boolean&&1!=e?(p["$=="](53)&&(d=re.get("Time").$new(n.$year(),12,31),f=d.$wday(),t=l(f,3),(e=t!==!1&&t!==s&&null!=t?f["$!="](0):t)===s||null==e||e.$$is_boolean&&1!=e||(p=1,c=$(c,1))),[p,c]):re.get("Time").$new(i(n.$year(),1),12,31).$cweek_cyear()},ne.$$arity=0),s&&"cweek_cyear"}(a.base,Date)},Opal.modules["corelib/struct"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e>=t:e["$>="](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var i=e.top,l=e,o=e.nil,a=(e.breaker,e.slice,e.klass),s=e.hash2;return e.add_stubs(["$require","$include","$const_name!","$unshift","$map","$coerce_to!","$new","$each","$define_struct_attribute","$allocate","$initialize","$module_eval","$to_proc","$const_set","$==","$raise","$<<","$members","$define_method","$instance_eval","$>","$length","$class","$each_with_index","$[]=","$[]","$hash","$===","$<","$-@","$size","$>=","$include?","$to_sym","$instance_of?","$__id__","$eql?","$enum_for","$name","$+","$join","$inspect","$each_pair","$inject","$flatten","$to_a","$values_at"]),i.$require("corelib/enumerable"),function(i,l){function u(){}var c,_,p,d,f,h,g,b,m,y,v,w,k,x,E,A,O,S,R,T=u=a(i,l,"Struct",u),I=(T.$$proto,T.$$scope);return T.$include(I.get("Enumerable")),e.defs(T,"$new",c=function(t,n){var $,r,i,l,a,s,u,_=this,p=c.$$p,d=p||o,f=o,h=arguments.length,g=h-1;g<0&&(g=0),u=new Array(g);for(var b=1;b<h;b++)u[b-1]=arguments[b];if(c.$$p=null,t!==!1&&t!==o&&null!=t)try{t=I.get("Opal")["$const_name!"](t)}catch(n){if(!e.rescue(n,[I.get("TypeError"),I.get("NameError")]))throw n;try{u.$unshift(t),t=o}finally{e.pop_exception()}}return($=(r=u).$map,$.$$p=(i=function(e){i.$$s||this;return null==e&&(e=o),I.get("Opal")["$coerce_to!"](e,I.get("String"),"to_str")},i.$$s=_,i.$$arity=1,i),$).call(r),f=($=(l=I.get("Class")).$new,$.$$p=(a=function(){var t,n,$,r=a.$$s||this;return(t=(n=u).$each,t.$$p=($=function(e){var t=$.$$s||this;return null==e&&(e=o),t.$define_struct_attribute(e)},$.$$s=r,$.$$arity=1,$),t).call(n),function(t){var n;t.$$scope,t.$$proto;return e.defn(t,"$new",n=function(t){var n,$,r=this,i=o,l=arguments.length,a=l-0;a<0&&(a=0),$=new Array(a);for(var s=0;s<l;s++)$[s-0]=arguments[s];return i=r.$allocate(),i.$$data={},(n=i).$initialize.apply(n,e.to_a($)),i},n.$$arity=-1),e.alias(t,"[]","new")}(e.get_singleton_class(r))},a.$$s=_,a.$$arity=0,a),$).call(l,_),d!==!1&&d!==o&&null!=d&&($=(s=f).$module_eval,$.$$p=d.$to_proc(),$).call(s),t!==!1&&t!==o&&null!=t&&I.get("Struct").$const_set(t,f),f},c.$$arity=-2),e.defs(T,"$define_struct_attribute",_=function(e){var t,n,$,r,i,l=this;return l["$=="](I.get("Struct"))&&l.$raise(I.get("ArgumentError"),"you cannot define attributes to the Struct class"),l.$members()["$<<"](e),(t=(n=l).$define_method,t.$$p=($=function(){var t=$.$$s||this;return t.$$data[e]},$.$$s=l,$.$$arity=0,$),t).call(n,e),(t=(r=l).$define_method,t.$$p=(i=function(t){var n=i.$$s||this;return null==t&&(t=o),n.$$data[e]=t},i.$$s=l,i.$$arity=1,i),t).call(r,""+e+"=")},_.$$arity=1),e.defs(T,"$members",p=function(){var e,t=this;return null==t.members&&(t.members=o),t["$=="](I.get("Struct"))&&t.$raise(I.get("ArgumentError"),"the Struct class has no members"),(e=t.members)!==!1&&e!==o&&null!=e?e:t.members=[]},p.$$arity=0),e.defs(T,"$inherited",d=function(e){var t,n,$,r=this,i=o;return null==r.members&&(r.members=o),i=r.members,(t=(n=e).$instance_eval,t.$$p=($=function(){var e=$.$$s||this;return e.members=i},$.$$s=r,$.$$arity=0,$),t).call(n)},d.$$arity=1),e.defn(T,"$initialize",f=function(e){var n,$,r,i,l=this,a=arguments.length,s=a-0;s<0&&(s=0),i=new Array(s);for(var u=0;u<a;u++)i[u-0]=arguments[u];return(n=t(i.$length(),l.$class().$members().$length()))===o||null==n||n.$$is_boolean&&1!=n||l.$raise(I.get("ArgumentError"),"struct size differs"),(n=($=l.$class().$members()).$each_with_index,n.$$p=(r=function(e,t){var n=r.$$s||this;return null==e&&(e=o),null==t&&(t=o),n["$[]="](e,i["$[]"](t))},r.$$s=l,r.$$arity=2,r),n).call($)},f.$$arity=-1),e.defn(T,"$members",h=function(){var e=this;return e.$class().$members()},h.$$arity=0),e.defn(T,"$hash",g=function(){var e=this;return I.get("Hash").$new(e.$$data).$hash()},g.$$arity=0),e.defn(T,"$[]",b=function(e){var t,r=this;return(t=I.get("Integer")["$==="](e))===o||null==t||t.$$is_boolean&&1!=t?(t=I.get("String")["$==="](e))===o||null==t||t.$$is_boolean&&1!=t?r.$raise(I.get("TypeError"),"no implicit conversion of "+e.$class()+" into Integer"):r.$$data.hasOwnProperty(e)||r.$raise(I.get("NameError").$new("no member '"+e+"' in struct",e)):((t=n(e,r.$class().$members().$size()["$-@"]()))===o||null==t||t.$$is_boolean&&1!=t||r.$raise(I.get("IndexError"),"offset "+e+" too small for struct(size:"+r.$class().$members().$size()+")"),(t=$(e,r.$class().$members().$size()))===o||null==t||t.$$is_boolean&&1!=t||r.$raise(I.get("IndexError"),"offset "+e+" too large for struct(size:"+r.$class().$members().$size()+")"),e=r.$class().$members()["$[]"](e)),e=I.get("Opal")["$coerce_to!"](e,I.get("String"),"to_str"),r.$$data[e]},b.$$arity=1),e.defn(T,"$[]=",m=function(e,t){var r,i=this;return(r=I.get("Integer")["$==="](e))===o||null==r||r.$$is_boolean&&1!=r?(r=I.get("String")["$==="](e))===o||null==r||r.$$is_boolean&&1!=r?i.$raise(I.get("TypeError"),"no implicit conversion of "+e.$class()+" into Integer"):((r=i.$class().$members()["$include?"](e.$to_sym()))===o||null==r||r.$$is_boolean&&1!=r)&&i.$raise(I.get("NameError").$new("no member '"+e+"' in struct",e)):((r=n(e,i.$class().$members().$size()["$-@"]()))===o||null==r||r.$$is_boolean&&1!=r||i.$raise(I.get("IndexError"),"offset "+e+" too small for struct(size:"+i.$class().$members().$size()+")"),(r=$(e,i.$class().$members().$size()))===o||null==r||r.$$is_boolean&&1!=r||i.$raise(I.get("IndexError"),"offset "+e+" too large for struct(size:"+i.$class().$members().$size()+")"),e=i.$class().$members()["$[]"](e)),e=I.get("Opal")["$coerce_to!"](e,I.get("String"),"to_str"),i.$$data[e]=t},m.$$arity=2),e.defn(T,"$==",y=function(e){function t(e,n){var $,l,o;r[e.$__id__()]=!0,i[n.$__id__()]=!0;for($ in e.$$data)if(l=e.$$data[$],o=n.$$data[$],I.get("Struct")["$==="](l)){if(!(r.hasOwnProperty(l.$__id__())&&i.hasOwnProperty(o.$__id__())||t(l,o)))return!1}else if(!l["$=="](o))return!1;return!0}var n,$=this;if((n=e["$instance_of?"]($.$class()))===o||null==n||n.$$is_boolean&&1!=n)return!1;var r={},i={};return t($,e)},y.$$arity=1),e.defn(T,"$eql?",v=function(e){function t(e,n){var $,l,o;r[e.$__id__()]=!0,i[n.$__id__()]=!0;for($ in e.$$data)if(l=e.$$data[$],o=n.$$data[$],I.get("Struct")["$==="](l)){if(!(r.hasOwnProperty(l.$__id__())&&i.hasOwnProperty(o.$__id__())||t(l,o)))return!1}else if(!l["$eql?"](o))return!1;return!0}var n,$=this;if((n=e["$instance_of?"]($.$class()))===o||null==n||n.$$is_boolean&&1!=n)return!1;var r={},i={};return t($,e)},v.$$arity=1),e.defn(T,"$each",w=function(){var t,n,$,r,i,l=this,a=w.$$p,s=a||o;return w.$$p=null,s===o?(t=(n=l).$enum_for,t.$$p=($=function(){var e=$.$$s||this;return e.$size()},$.$$s=l,$.$$arity=0,$),t).call(n,"each"):((t=(r=l.$class().$members()).$each,t.$$p=(i=function(t){var n=i.$$s||this;return null==t&&(t=o),e.yield1(s,n["$[]"](t))},i.$$s=l,i.$$arity=1,i),t).call(r),l)},w.$$arity=0),e.defn(T,"$each_pair",k=function(){var t,n,$,r,i,l=this,a=k.$$p,s=a||o;return k.$$p=null,s===o?(t=(n=l).$enum_for,t.$$p=($=function(){var e=$.$$s||this;return e.$size()},$.$$s=l,$.$$arity=0,$),t).call(n,"each_pair"):((t=(r=l.$class().$members()).$each,t.$$p=(i=function(t){var n=i.$$s||this;return null==t&&(t=o),e.yield1(s,[t,n["$[]"](t)])},i.$$s=l,i.$$arity=1,i),t).call(r),l)},k.$$arity=0),e.defn(T,"$length",x=function(){var e=this;return e.$class().$members().$length()},x.$$arity=0),e.alias(T,"size","length"),e.defn(T,"$to_a",E=function(){var e,t,n,$=this;return(e=(t=$.$class().$members()).$map,e.$$p=(n=function(e){var t=n.$$s||this;return null==e&&(e=o),t["$[]"](e)},n.$$s=$,n.$$arity=1,n),e).call(t)},E.$$arity=0),e.alias(T,"values","to_a"),e.defn(T,"$inspect",A=function(){var e,t,n,$=this,i=o;return i="#<struct ",t=I.get("Struct")["$==="]($),(e=t!==!1&&t!==o&&null!=t?$.$class().$name():t)===o||null==e||e.$$is_boolean&&1!=e||(i=r(i,""+$.$class()+" ")),i=r(i,(e=(t=$.$each_pair()).$map,e.$$p=(n=function(e,t){n.$$s||this;return null==e&&(e=o),null==t&&(t=o),""+e+"="+t.$inspect()},n.$$s=$,n.$$arity=2,n),e).call(t).$join(", ")),i=r(i,">")},A.$$arity=0),e.alias(T,"to_s","inspect"),e.defn(T,"$to_h",O=function(){var e,t,n,$=this;return(e=(t=$.$class().$members()).$inject,e.$$p=(n=function(e,t){var $=n.$$s||this;return null==e&&(e=o),null==t&&(t=o),e["$[]="](t,$["$[]"](t)),e},n.$$s=$,n.$$arity=2,n),e).call(t,s([],{}))},O.$$arity=0),e.defn(T,"$values_at",S=function(e){var t,n,$,r,i=this,l=arguments.length,a=l-0;a<0&&(a=0),r=new Array(a);for(var s=0;s<l;s++)r[s-0]=arguments[s];r=(t=(n=r).$map,t.$$p=($=function(e){$.$$s||this;return null==e&&(e=o),e.$$is_range?e.$to_a():e},$.$$s=i,$.$$arity=1,$),t).call(n).$flatten();for(var u=[],c=0,_=r.length;c<_;c++)r[c].$$is_number||i.$raise(I.get("TypeError"),"no implicit conversion of "+r[c].$class()+" into Integer"),u.push(i["$[]"](r[c]));return u},S.$$arity=-1),e.defs(T,"$_load",R=function(t){var n,$,r=this,i=o;return i=(n=t).$values_at.apply(n,e.to_a(r.$members())),($=r).$new.apply($,e.to_a(i))},R.$$arity=1),o&&"_load"}(l.base,null)},Opal.modules["corelib/io"]=function(e){var t,n,$=(e.top,e),r=e.nil,i=(e.breaker,e.slice,e.klass),l=e.module,o=e.gvars;return e.add_stubs(["$attr_accessor","$size","$write","$join","$map","$String","$empty?","$concat","$chomp","$getbyte","$getc","$raise","$new","$write_proc=","$extend"]),function(t,n){function $(){}var a,s,u,c,_=$=i(t,n,"IO",$),p=_.$$proto,d=_.$$scope;return p.tty=p.closed=r,e.cdecl(d,"SEEK_SET",0),e.cdecl(d,"SEEK_CUR",1),e.cdecl(d,"SEEK_END",2),e.defn(_,"$tty?",a=function(){var e=this;return e.tty},a.$$arity=0),e.defn(_,"$closed?",s=function(){var e=this;return e.closed},s.$$arity=0),_.$attr_accessor("write_proc"),e.defn(_,"$write",u=function(e){var t=this;return t.write_proc(e),e.$size()},u.$$arity=1),_.$attr_accessor("sync","tty"),e.defn(_,"$flush",c=function(){return r},c.$$arity=0),function(t){var n,$,i,a,s=n=l(t,"Writable");s.$$proto,s.$$scope;e.defn(s,"$<<",$=function(e){var t=this;return t.$write(e),t},$.$$arity=1),e.defn(s,"$print",i=function(e){var t,n,$,i,l=this;null==o[","]&&(o[","]=r);var a=arguments.length,s=a-0;s<0&&(s=0),i=new Array(s);for(var u=0;u<a;u++)i[u-0]=arguments[u];return l.$write((t=(n=i).$map,t.$$p=($=function(e){var t=$.$$s||this;return null==e&&(e=r),t.$String(e)},$.$$s=l,$.$$arity=1,$),t).call(n).$join(o[","])),r},i.$$arity=-1),e.defn(s,"$puts",a=function(e){var t,n,$,i,l=this,a=r;null==o["/"]&&(o["/"]=r);var s=arguments.length,u=s-0;u<0&&(u=0),i=new Array(u);for(var c=0;c<s;c++)i[c-0]=arguments[c];return a=o["/"],(t=i["$empty?"]())===r||null==t||t.$$is_boolean&&1!=t?l.$write((t=(n=i).$map,t.$$p=($=function(e){var t=$.$$s||this;return null==e&&(e=r),t.$String(e).$chomp()},$.$$s=l,$.$$arity=1,$),t).call(n).$concat([r]).$join(a)):l.$write(o["/"]),r},a.$$arity=-1)}(d.base),function(t){var n,$,i,a,s,u=n=l(t,"Readable"),c=(u.$$proto,u.$$scope);e.defn(u,"$readbyte",$=function(){var e=this;return e.$getbyte()},$.$$arity=0),e.defn(u,"$readchar",i=function(){var e=this;return e.$getc()},i.$$arity=0),e.defn(u,"$readline",a=function(e){var t=this;return null==o["/"]&&(o["/"]=r),null==e&&(e=o["/"]),t.$raise(c.get("NotImplementedError"))},a.$$arity=-1),e.defn(u,"$readpartial",s=function(e,t){var n=this;return null==t&&(t=r),n.$raise(c.get("NotImplementedError"))},s.$$arity=-2)}(d.base)}($.base,null),e.cdecl($,"STDERR",o.stderr=$.get("IO").$new()),e.cdecl($,"STDIN",o.stdin=$.get("IO").$new()),e.cdecl($,"STDOUT",o.stdout=$.get("IO").$new()),t=["object"==typeof process?function(e){process.stdout.write(e)}:function(e){console.log(e)}],n=$.get("STDOUT"),n["$write_proc="].apply(n,t),t[t.length-1],t=["object"==typeof process?function(e){process.stderr.write(e)}:function(e){console.warn(e)}],n=$.get("STDERR"),n["$write_proc="].apply(n,t),t[t.length-1],$.get("STDOUT").$extend($.get("IO").$$scope.get("Writable")),$.get("STDERR").$extend($.get("IO").$$scope.get("Writable"))},Opal.modules["corelib/main"]=function(e){var t,n,$=e.top,r=e,i=e.nil;e.breaker,e.slice;return e.add_stubs(["$include"]),e.defs($,"$to_s",t=function(){return"main"},t.$$arity=0),e.defs($,"$include",n=function(e){return r.get("Object").$include(e)},n.$$arity=1),i&&"include"},Opal.modules["corelib/dir"]=function(e){var t=(e.top,e),n=e.nil,$=(e.breaker,e.slice,e.klass);return e.add_stubs(["$[]"]),function(t,r){function i(){}var l=i=$(t,r,"Dir",i);l.$$proto,l.$$scope;return function(t){var $,r,i,l=t.$$scope;t.$$proto;return e.defn(t,"$chdir",$=function(t){var r=$.$$p,i=r||n,l=n;$.$$p=null;try{return l=e.current_dir,e.current_dir=t,e.yieldX(i,[])}finally{e.current_dir=l}},$.$$arity=1),e.defn(t,"$pwd",r=function(){return e.current_dir||"."},r.$$arity=0),e.alias(t,"getwd","pwd"),e.defn(t,"$home",i=function(){var e;return(e=l.get("ENV")["$[]"]("HOME"))!==!1&&e!==n&&null!=e?e:"."},i.$$arity=0),n&&"home"}(e.get_singleton_class(l))}(t.base,null)},Opal.modules["corelib/file"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var $=(e.top,e),r=e.nil,i=(e.breaker,e.slice,e.klass),l=e.range;return e.add_stubs(["$join","$compact","$split","$==","$first","$[]=","$home","$pwd","$each","$pop","$<<","$raise","$respond_to?","$to_path","$class","$nil?","$is_a?","$basename","$empty?","$rindex","$[]","$+","$-","$length","$gsub","$find","$=~"]),function($,o){function a(){}var s=a=i($,o,"File",a),u=(s.$$proto,s.$$scope);return e.cdecl(u,"Separator",e.cdecl(u,"SEPARATOR","/")),e.cdecl(u,"ALT_SEPARATOR",r),e.cdecl(u,"PATH_SEPARATOR",":"),e.cdecl(u,"FNM_SYSCASE",0),function($){function i(e){for(var t;e.length>0;)if(u(e)){for(t=e,e=e.substring(1,e.length);e.length>0&&u(e);)e=o(e);if(0==e.length)return t}else e=o(e);return e}function o(e){return e.substring(1,e.length)}function a(e){return e}function s(e){for(var t,n;e.length>0;)if(u(e)){for(t=e,e=o(e);e.length>0&&u(e);)e=o(e);if(!e)break;n=t}else e=o(e);return n}function u(e){return e.charAt(0)===w.get("SEPARATOR")}function c(e){for(;e.length>0&&u(e);)e=o(e);return e}function _(e,t){return 0==e.length?t.length:t.indexOf(e)}function p(e,t,n,$,i,l){var o;return e>=0&&($===r?t=e:(o=".*"===$?"\\.\\w+":$.replace(/\?/g,"\\?"),o=new RegExp(o+w.get("Separator")+"*$").exec(n),t=o?o.index:e),t===l.length)?i:n.substring(0,t)}var d,f,h,g,b,m,y,v,w=$.$$scope;$.$$proto;return e.defn($,"$expand_path",d=function(e,t){var n,$,i,l=this,o=r,a=r;return null==t&&(t=r),e=[t,e].$compact().$join(w.get("SEPARATOR")),o=e.$split(w.get("SEPARATOR")),a=[],o.$first()["$=="]("~")&&o["$[]="](0,w.get("Dir").$home()),o.$first()["$=="](".")&&o["$[]="](0,w.get("Dir").$pwd()),(n=($=o).$each,n.$$p=(i=function(e){i.$$s||this;return null==e&&(e=r),e["$=="]("..")?a.$pop():a["$<<"](e)},i.$$s=l,i.$$arity=1,i),n).call($),a.$join(w.get("SEPARATOR"))},d.$$arity=-2),e.alias($,"realpath","expand_path"),e.defn($,"$dirname",f=function(e){var t=this;e===r&&t.$raise(w.get("TypeError"),"no implicit conversion of nil into String"),e["$respond_to?"]("to_path")&&(e=e.$to_path()),e.$$is_string||t.$raise(w.get("TypeError"),"no implicit conversion of "+e.$class()+" into String");var n,$;return n=c(e),0==n.length?e=e.substring(e.length-1,e.length):n.length-e.length<0&&(e=e.substring(e.indexOf(n)-1,e.length)),$=s(n),$||($=n),$===e?".":e.substring(0,e.length-$.length)},f.$$arity=1),e.defn($,"$basename",h=function(e,t){var n=this;null==t&&(t=r);var $,l,c,d,f,h=0,g=-1;if(e===r&&n.$raise(w.get("TypeError"),"no implicit conversion of nil into String"),e["$respond_to?"]("to_path")&&(e=e.$to_path()),e.$$is_string||n.$raise(w.get("TypeError"),"no implicit conversion of "+e.$class()+" into String"),t===r||t.$$is_string||n.$raise(w.get("TypeError"),"no implicit conversion of "+t.$class()+" into String"),0==e.length)return e;for(f=e,e=a(e);u(e);)d=e,e=o(e);if(e){if($=s(e))for(;u($);)$=o($);else $=e;for(g=_(i($),$),l=$;_(l,$)<g&&"."===l.charAt(0);l=o(l));for(c=null;_(l,$)<g;l=o(l))"."===l.charAt(0)&&(c=l);h=c?_(c,$):g}else $=d,h=1;return p(g,h,$,t,e,f)},h.$$arity=-2),e.defn($,"$extname",g=function(e){var $,i,o=this,a=r,s=r;return($=e["$nil?"]())===r||null==$||$.$$is_boolean&&1!=$||o.$raise(w.get("TypeError"),"no implicit conversion of nil into String"),($=e["$respond_to?"]("to_path"))===r||null==$||$.$$is_boolean&&1!=$||(e=e.$to_path()),(($=e["$is_a?"](w.get("String")))===r||null==$||$.$$is_boolean&&1!=$)&&o.$raise(w.get("TypeError"),"no implicit conversion of "+e.$class()+" into String"),a=o.$basename(e),($=a["$empty?"]())===r||null==$||$.$$is_boolean&&1!=$?(s=a["$[]"](l(1,-1,!1)).$rindex("."),($=(i=s["$nil?"]())!==!1&&i!==r&&null!=i?i:t(s,1)["$=="](n(a.$length(),1)))===r||null==$||$.$$is_boolean&&1!=$?a["$[]"](l(t(s,1),-1,!1)):""):""},g.$$arity=1),e.defn($,"$exist?",b=function(t){return null!=e.modules[t]},b.$$arity=1),e.alias($,"exists?","exist?"),e.defn($,"$directory?",m=function(t){var n,$,i,l=this,o=r,a=r;o=[];for(var s in e.modules)o.push(s);return t=t.$gsub(new RegExp("(^."+w.get("SEPARATOR")+"+|"+w.get("SEPARATOR")+"+$)")),a=(n=($=o).$find,n.$$p=(i=function(e){i.$$s||this;return null==e&&(e=r),e["$=~"](new RegExp("^"+t))},i.$$s=l,i.$$arity=1,i),n).call($)},m.$$arity=1),e.defn($,"$join",y=function(e){var t,n=arguments.length,$=n-0;$<0&&($=0),t=new Array($);for(var r=0;r<n;r++)t[r-0]=arguments[r];return t.$join(w.get("SEPARATOR")).$gsub(new RegExp(""+w.get("SEPARATOR")+"+"),w.get("SEPARATOR"))},y.$$arity=-1),e.defn($,"$split",v=function(e){return e.$split(w.get("SEPARATOR"))},v.$$arity=1),r&&"split"}(e.get_singleton_class(s))}($.base,$.get("IO"))},Opal.modules["corelib/process"]=function(e){var t=(e.top,e),n=e.nil,$=(e.breaker,e.slice,e.klass);return e.add_stubs(["$to_f","$now","$new"]),function(t,r){function i(){}var l,o,a,s=i=$(t,r,"Process",i),u=(s.$$proto,s.$$scope);return e.cdecl(u,"CLOCK_REALTIME",0),e.cdecl(u,"CLOCK_MONOTONIC",1),e.defs(s,"$pid",l=function(){return 0},l.$$arity=0),e.defs(s,"$times",o=function(){var e=n;return e=u.get("Time").$now().$to_f(),u.get("Benchmark").$$scope.get("Tms").$new(e,e,e,e,e)},o.$$arity=0),e.defs(s,"$clock_gettime",a=function(e,t){return null==t&&(t=n),u.get("Time").$now().$to_f()},a.$$arity=-2),n&&"clock_gettime"}(t.base,null),function(t,r){function i(){}var l,o=i=$(t,r,"Signal",i);o.$$proto,o.$$scope;return e.defs(o,"$trap",l=function(e){return n},l.$$arity=-1),n&&"trap"}(t.base,null),function(t,r){function i(){}var l,o=i=$(t,r,"GC",i);o.$$proto,o.$$scope;return e.defs(o,"$start",l=function(){return n},l.$$arity=0),n&&"start"}(t.base,null)},Opal.modules["corelib/unsupported"]=function(e){function t(t){switch(e.config.unsupported_features_severity){
case"error":l.get("Kernel").$raise(l.get("NotImplementedError"),t);break;case"warning":n(t)}}function n(e){u[e]||(u[e]=!0,i.$warn(e))}var $,r,i=e.top,l=e,o=e.nil,a=(e.breaker,e.slice,e.klass),s=e.module;e.add_stubs(["$raise","$warn","$%"]);var u={};return function(t,n){function $(){}var r,i,l,s,u,c,_,p,d,f,h,g,b,m,y,v,w,k,x=$=a(t,n,"String",$),E=(x.$$proto,x.$$scope),A="String#%s not supported. Mutable String methods are not supported in Opal.";return e.defn(x,"$<<",r=function(e){var t=this;return t.$raise(E.get("NotImplementedError"),A["$%"]("<<"))},r.$$arity=-1),e.defn(x,"$capitalize!",i=function(e){var t=this;return t.$raise(E.get("NotImplementedError"),A["$%"]("capitalize!"))},i.$$arity=-1),e.defn(x,"$chomp!",l=function(e){var t=this;return t.$raise(E.get("NotImplementedError"),A["$%"]("chomp!"))},l.$$arity=-1),e.defn(x,"$chop!",s=function(e){var t=this;return t.$raise(E.get("NotImplementedError"),A["$%"]("chop!"))},s.$$arity=-1),e.defn(x,"$downcase!",u=function(e){var t=this;return t.$raise(E.get("NotImplementedError"),A["$%"]("downcase!"))},u.$$arity=-1),e.defn(x,"$gsub!",c=function(e){var t=this;return t.$raise(E.get("NotImplementedError"),A["$%"]("gsub!"))},c.$$arity=-1),e.defn(x,"$lstrip!",_=function(e){var t=this;return t.$raise(E.get("NotImplementedError"),A["$%"]("lstrip!"))},_.$$arity=-1),e.defn(x,"$next!",p=function(e){var t=this;return t.$raise(E.get("NotImplementedError"),A["$%"]("next!"))},p.$$arity=-1),e.defn(x,"$reverse!",d=function(e){var t=this;return t.$raise(E.get("NotImplementedError"),A["$%"]("reverse!"))},d.$$arity=-1),e.defn(x,"$slice!",f=function(e){var t=this;return t.$raise(E.get("NotImplementedError"),A["$%"]("slice!"))},f.$$arity=-1),e.defn(x,"$squeeze!",h=function(e){var t=this;return t.$raise(E.get("NotImplementedError"),A["$%"]("squeeze!"))},h.$$arity=-1),e.defn(x,"$strip!",g=function(e){var t=this;return t.$raise(E.get("NotImplementedError"),A["$%"]("strip!"))},g.$$arity=-1),e.defn(x,"$sub!",b=function(e){var t=this;return t.$raise(E.get("NotImplementedError"),A["$%"]("sub!"))},b.$$arity=-1),e.defn(x,"$succ!",m=function(e){var t=this;return t.$raise(E.get("NotImplementedError"),A["$%"]("succ!"))},m.$$arity=-1),e.defn(x,"$swapcase!",y=function(e){var t=this;return t.$raise(E.get("NotImplementedError"),A["$%"]("swapcase!"))},y.$$arity=-1),e.defn(x,"$tr!",v=function(e){var t=this;return t.$raise(E.get("NotImplementedError"),A["$%"]("tr!"))},v.$$arity=-1),e.defn(x,"$tr_s!",w=function(e){var t=this;return t.$raise(E.get("NotImplementedError"),A["$%"]("tr_s!"))},w.$$arity=-1),e.defn(x,"$upcase!",k=function(e){var t=this;return t.$raise(E.get("NotImplementedError"),A["$%"]("upcase!"))},k.$$arity=-1),o&&"upcase!"}(l.base,null),function(n){var $,r,i,l=$=s(n,"Kernel"),o=(l.$$proto,l.$$scope,"Object freezing is not supported by Opal");e.defn(l,"$freeze",r=function(){var e=this;return t(o),e},r.$$arity=0),e.defn(l,"$frozen?",i=function(){return t(o),!1},i.$$arity=0)}(l.base),function(n){var $,r,i,l,o=$=s(n,"Kernel"),a=(o.$$proto,o.$$scope,"Object tainting is not supported by Opal");e.defn(o,"$taint",r=function(){var e=this;return t(a),e},r.$$arity=0),e.defn(o,"$untaint",i=function(){var e=this;return t(a),e},i.$$arity=0),e.defn(o,"$tainted?",l=function(){return t(a),!1},l.$$arity=0)}(l.base),function(t,n){function $(){}var r,i,l,s,u=$=a(t,n,"Module",$);u.$$proto,u.$$scope;return e.defn(u,"$public",r=function(e){var t,n=this,$=arguments.length,r=$-0;r<0&&(r=0),t=new Array(r);for(var i=0;i<$;i++)t[i-0]=arguments[i];return 0===t.length&&(n.$$module_function=!1),o},r.$$arity=-1),e.alias(u,"private","public"),e.alias(u,"protected","public"),e.alias(u,"nesting","public"),e.defn(u,"$private_class_method",i=function(e){var t=this;return t},i.$$arity=-1),e.alias(u,"public_class_method","private_class_method"),e.defn(u,"$private_method_defined?",l=function(e){return!1},l.$$arity=1),e.defn(u,"$private_constant",s=function(e){return o},s.$$arity=-1),e.alias(u,"protected_method_defined?","private_method_defined?"),e.alias(u,"public_instance_methods","instance_methods"),e.alias(u,"public_method_defined?","method_defined?")}(l.base,null),function(t){var n,$,r=n=s(t,"Kernel");r.$$proto,r.$$scope;e.defn(r,"$private_methods",$=function(e){return[]},$.$$arity=-1),e.alias(r,"private_instance_methods","private_methods")}(l.base),function(t){var n,$,r=n=s(t,"Kernel"),i=(r.$$proto,r.$$scope);e.defn(r,"$eval",$=function(e){var t=this;return t.$raise(i.get("NotImplementedError"),"To use Kernel#eval, you must first require 'opal-parser'. "+("See https://github.com/opal/opal/blob/"+i.get("RUBY_ENGINE_VERSION")+"/docs/opal_parser.md for details."))},$.$$arity=-1)}(l.base),e.defs(i,"$public",$=function(e){return o},$.$$arity=-1),e.defs(i,"$private",r=function(e){return o},r.$$arity=-1),o&&"private"},function(e){var t=e.top;e.nil,e.breaker,e.slice;return e.add_stubs(["$require"]),t.$require("opal/base"),t.$require("opal/mini"),t.$require("corelib/string/inheritance"),t.$require("corelib/string/encoding"),t.$require("corelib/math"),t.$require("corelib/complex"),t.$require("corelib/rational"),t.$require("corelib/time"),t.$require("corelib/struct"),t.$require("corelib/io"),t.$require("corelib/main"),t.$require("corelib/dir"),t.$require("corelib/file"),t.$require("corelib/process"),t.$require("corelib/unsupported")}(Opal)),function(e,t){"object"==typeof module&&module.exports?module.exports=t:"function"==typeof define&&define.amd?define("asciidoctor",["module"],function(e){return t(e.config())}):e.Asciidoctor=t}(this,function(e){Opal.modules.set=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e<=t:e["$<="](t)}var $=(e.top,e),r=e.nil,i=(e.breaker,e.slice,e.klass),l=e.module;return e.add_stubs(["$include","$new","$nil?","$===","$raise","$each","$add","$call","$merge","$class","$respond_to?","$subtract","$dup","$join","$to_a","$equal?","$instance_of?","$==","$instance_variable_get","$is_a?","$size","$all?","$include?","$[]=","$enum_for","$[]","$<<","$replace","$delete","$select","$each_key","$to_proc","$empty?","$eql?","$instance_eval","$clear","$<","$<=","$keys"]),function($,l){function o(){}var a,s,u,c,_,p,d,f,h,g,b,m,y,v,w,k,x,E,A,O,S,R,T,I,C,N,M,L,z=o=i($,l,"Set",o),P=z.$$proto,D=z.$$scope;return P.hash=r,z.$include(D.get("Enumerable")),e.defs(z,"$[]",a=function(e){var t,n=this,$=arguments.length,r=$-0;r<0&&(r=0),t=new Array(r);for(var i=0;i<$;i++)t[i-0]=arguments[i];return n.$new(t)},a.$$arity=-1),e.defn(z,"$initialize",s=function(e){var t,n,$,i=this,l=s.$$p,o=l||r;return null==e&&(e=r),s.$$p=null,i.hash=D.get("Hash").$new(),(t=e["$nil?"]())===r||null==t||t.$$is_boolean&&1!=t?(((t=D.get("Enumerable")["$==="](e))===r||null==t||t.$$is_boolean&&1!=t)&&i.$raise(D.get("ArgumentError"),"value must be enumerable"),o!==!1&&o!==r&&null!=o?(t=(n=e).$each,t.$$p=($=function(e){var t=$.$$s||this;return null==e&&(e=r),t.$add(o.$call(e))},$.$$s=i,$.$$arity=1,$),t).call(n):i.$merge(e)):r},s.$$arity=-1),e.defn(z,"$dup",u=function(){var e=this,t=r;return t=e.$class().$new(),t.$merge(e)},u.$$arity=0),e.defn(z,"$-",c=function(e){var t,n=this;return((t=e["$respond_to?"]("each"))===r||null==t||t.$$is_boolean&&1!=t)&&n.$raise(D.get("ArgumentError"),"value must be enumerable"),n.$dup().$subtract(e)},c.$$arity=1),e.alias(z,"difference","-"),e.defn(z,"$inspect",_=function(){var e=this;return"#<Set: {"+e.$to_a().$join(",")+"}>"},_.$$arity=0),e.defn(z,"$==",p=function(e){var t,n,$,i=this;return!((t=i["$equal?"](e))===r||null==t||t.$$is_boolean&&1!=t)||((t=e["$instance_of?"](i.$class()))===r||null==t||t.$$is_boolean&&1!=t?(n=e["$is_a?"](D.get("Set")),!((t=n!==!1&&n!==r&&null!=n?i.$size()["$=="](e.$size()):n)===r||null==t||t.$$is_boolean&&1!=t)&&(t=(n=e)["$all?"],t.$$p=($=function(e){var t=$.$$s||this;return null==t.hash&&(t.hash=r),null==e&&(e=r),t.hash["$include?"](e)},$.$$s=i,$.$$arity=1,$),t).call(n)):i.hash["$=="](e.$instance_variable_get("@hash")))},p.$$arity=1),e.defn(z,"$add",d=function(e){var t=this;return t.hash["$[]="](e,!0),t},d.$$arity=1),e.alias(z,"<<","add"),e.defn(z,"$classify",f=function(){var t,n,$,i,l,o=this,a=f.$$p,s=a||r,u=r;return f.$$p=null,s===r?o.$enum_for("classify"):(u=(t=(n=D.get("Hash")).$new,t.$$p=($=function(e,t){var n=$.$$s||this;return null==e&&(e=r),null==t&&(t=r),e["$[]="](t,n.$class().$new())},$.$$s=o,$.$$arity=2,$),t).call(n),(t=(i=o).$each,t.$$p=(l=function(t){l.$$s||this;return null==t&&(t=r),u["$[]"](e.yield1(s,t)).$add(t)},l.$$s=o,l.$$arity=1,l),t).call(i),u)},f.$$arity=0),e.defn(z,"$collect!",h=function(){var t,n,$,i=this,l=h.$$p,o=l||r,a=r;return h.$$p=null,o===r?i.$enum_for("collect!"):(a=i.$class().$new(),(t=(n=i).$each,t.$$p=($=function(t){$.$$s||this;return null==t&&(t=r),a["$<<"](e.yield1(o,t))},$.$$s=i,$.$$arity=1,$),t).call(n),i.$replace(a))},h.$$arity=0),e.alias(z,"map!","collect!"),e.defn(z,"$delete",g=function(e){var t=this;return t.hash.$delete(e),t},g.$$arity=1),e.defn(z,"$delete?",b=function(e){var t,n=this;return(t=n["$include?"](e))===r||null==t||t.$$is_boolean&&1!=t?r:(n.$delete(e),n)},b.$$arity=1),e.defn(z,"$delete_if",m=function(){try{var t,n,$,i,l,o,a=this,s=m.$$p,u=s||r;return m.$$p=null,(t=u!==r)!=!1&&t!==r&&null!=t?t:e.ret(a.$enum_for("delete_if")),(t=(n=(i=(l=a).$select,i.$$p=(o=function(t){o.$$s||this;return null==t&&(t=r),e.yield1(u,t)},o.$$s=a,o.$$arity=1,o),i).call(l)).$each,t.$$p=($=function(e){var t=$.$$s||this;return null==t.hash&&(t.hash=r),null==e&&(e=r),t.hash.$delete(e)},$.$$s=a,$.$$arity=1,$),t).call(n),a}catch(t){if(t===e.returner)return t.$v;throw t}},m.$$arity=0),e.defn(z,"$add?",y=function(e){var t,n=this;return(t=n["$include?"](e))===r||null==t||t.$$is_boolean&&1!=t?n.$add(e):r},y.$$arity=1),e.defn(z,"$each",v=function(){var e,t,n=this,$=v.$$p,i=$||r;return v.$$p=null,i===r?n.$enum_for("each"):((e=(t=n.hash).$each_key,e.$$p=i.$to_proc(),e).call(t),n)},v.$$arity=0),e.defn(z,"$empty?",w=function(){var e=this;return e.hash["$empty?"]()},w.$$arity=0),e.defn(z,"$eql?",k=function(e){var t,n,$,i=this;return i.hash["$eql?"]((t=(n=e).$instance_eval,t.$$p=($=function(){var e=$.$$s||this;return null==e.hash&&(e.hash=r),e.hash},$.$$s=i,$.$$arity=0,$),t).call(n))},k.$$arity=1),e.defn(z,"$clear",x=function(){var e=this;return e.hash.$clear(),e},x.$$arity=0),e.defn(z,"$include?",E=function(e){var t=this;return t.hash["$include?"](e)},E.$$arity=1),e.alias(z,"member?","include?"),e.defn(z,"$merge",A=function(e){var t,n,$,i=this;return(t=(n=e).$each,t.$$p=($=function(e){var t=$.$$s||this;return null==e&&(e=r),t.$add(e)},$.$$s=i,$.$$arity=1,$),t).call(n),i},A.$$arity=1),e.defn(z,"$replace",O=function(e){var t=this;return t.$clear(),t.$merge(e),t},O.$$arity=1),e.defn(z,"$size",S=function(){var e=this;return e.hash.$size()},S.$$arity=0),e.alias(z,"length","size"),e.defn(z,"$subtract",R=function(e){var t,n,$,i=this;return(t=(n=e).$each,t.$$p=($=function(e){var t=$.$$s||this;return null==e&&(e=r),t.$delete(e)},$.$$s=i,$.$$arity=1,$),t).call(n),i},R.$$arity=1),e.defn(z,"$|",T=function(e){var t,n=this;return((t=e["$respond_to?"]("each"))===r||null==t||t.$$is_boolean&&1!=t)&&n.$raise(D.get("ArgumentError"),"value must be enumerable"),n.$dup().$merge(e)},T.$$arity=1),e.defn(z,"$superset?",I=function(e){var n,$,i,l=this;return(n=e["$is_a?"](D.get("Set")))!==!1&&n!==r&&null!=n?n:l.$raise(D.get("ArgumentError"),"value must be a set"),!!((n=t(l.$size(),e.$size()))===r||null==n||n.$$is_boolean&&1!=n)&&(n=($=e)["$all?"],n.$$p=(i=function(e){var t=i.$$s||this;return null==e&&(e=r),t["$include?"](e)},i.$$s=l,i.$$arity=1,i),n).call($)},I.$$arity=1),e.alias(z,">=","superset?"),e.defn(z,"$proper_superset?",C=function(e){var t,$,i,l=this;return(t=e["$is_a?"](D.get("Set")))!==!1&&t!==r&&null!=t?t:l.$raise(D.get("ArgumentError"),"value must be a set"),!!((t=n(l.$size(),e.$size()))===r||null==t||t.$$is_boolean&&1!=t)&&(t=($=e)["$all?"],t.$$p=(i=function(e){var t=i.$$s||this;return null==e&&(e=r),t["$include?"](e)},i.$$s=l,i.$$arity=1,i),t).call($)},C.$$arity=1),e.alias(z,">","proper_superset?"),e.defn(z,"$subset?",N=function(e){var n,$,i,l=this;return(n=e["$is_a?"](D.get("Set")))!==!1&&n!==r&&null!=n?n:l.$raise(D.get("ArgumentError"),"value must be a set"),!!((n=t(e.$size(),l.$size()))===r||null==n||n.$$is_boolean&&1!=n)&&(n=($=l)["$all?"],n.$$p=(i=function(t){i.$$s||this;return null==t&&(t=r),e["$include?"](t)},i.$$s=l,i.$$arity=1,i),n).call($)},N.$$arity=1),e.alias(z,"<=","subset?"),e.defn(z,"$proper_subset?",M=function(e){var t,$,i,l=this;return(t=e["$is_a?"](D.get("Set")))!==!1&&t!==r&&null!=t?t:l.$raise(D.get("ArgumentError"),"value must be a set"),!!((t=n(e.$size(),l.$size()))===r||null==t||t.$$is_boolean&&1!=t)&&(t=($=l)["$all?"],t.$$p=(i=function(t){i.$$s||this;return null==t&&(t=r),e["$include?"](t)},i.$$s=l,i.$$arity=1,i),t).call($)},M.$$arity=1),e.alias(z,"<","proper_subset?"),e.alias(z,"+","|"),e.alias(z,"union","|"),e.defn(z,"$to_a",L=function(){var e=this;return e.hash.$keys()},L.$$arity=0),r&&"to_a"}($.base,null),function(t){var n,$,i=n=l(t,"Enumerable"),o=(i.$$proto,i.$$scope);e.defn(i,"$to_set",$=function(t,n){var i,l,a,s=this,u=$.$$p,c=u||r;null==t&&(t=o.get("Set"));var _=arguments.length,p=_-1;p<0&&(p=0),a=new Array(p);for(var d=1;d<_;d++)a[d-1]=arguments[d];return $.$$p=null,(i=(l=t).$new,i.$$p=c.$to_proc(),i).apply(l,[s].concat(e.to_a(a)))},$.$$arity=-1)}($.base)},Opal.modules.strscan=function(e){var t=(e.top,e),n=e.nil,$=(e.breaker,e.slice,e.klass);return e.add_stubs(["$attr_reader","$anchor","$scan_until","$length","$size","$rest","$pos=","$private"]),function(t,r){function i(){}var l,o,a,s,u,c,_,p,d,f,h,g,b,m,y,v,w,k,x,E,A,O,S,R,T=i=$(t,r,"StringScanner",i),I=T.$$proto;T.$$scope;return I.pos=I.string=I.working=I.matched=I.prev_pos=I.match=n,T.$attr_reader("pos"),T.$attr_reader("matched"),e.defn(T,"$initialize",l=function(e){var t=this;return t.string=e,t.pos=0,t.matched=n,t.working=e,t.match=[]},l.$$arity=1),T.$attr_reader("string"),e.defn(T,"$beginning_of_line?",o=function(){var e=this;return 0===e.pos||"\n"===e.string.charAt(e.pos-1)},o.$$arity=0),e.alias(T,"bol?","beginning_of_line?"),e.defn(T,"$scan",a=function(e){var t=this;e=t.$anchor(e);var $=e.exec(t.working);return null==$?t.matched=n:"object"==typeof $?(t.prev_pos=t.pos,t.pos+=$[0].length,t.working=t.working.substring($[0].length),t.matched=$[0],t.match=$,$[0]):"string"==typeof $?(t.pos+=$.length,t.working=t.working.substring($.length),$):n},a.$$arity=1),e.defn(T,"$scan_until",s=function(e){var t=this;e=t.$anchor(e);for(var $,r=t.pos,i=t.working;;){if($=e.exec(i),r+=1,i=i.substr(1),null!=$)return t.matched=t.string.substr(t.pos,r-t.pos-1+$[0].length),t.prev_pos=r-1,t.pos=r,t.working=i.substr($[0].length),t.matched;if(0===i.length)return t.matched=n}},s.$$arity=1),e.defn(T,"$[]",u=function(e){var t=this,$=t.match;return e<0&&(e+=$.length),e<0||e>=$.length?n:null==$[e]?n:$[e]},u.$$arity=1),e.defn(T,"$check",c=function(e){var t=this;e=t.$anchor(e);var $=e.exec(t.working);return null==$?t.matched=n:t.matched=$[0]},c.$$arity=1),e.defn(T,"$check_until",_=function(e){var t=this,$=t.prev_pos,r=t.pos,i=t.$scan_until(e);return i!==n&&(t.matched=i.substr(-1),t.working=t.string.substr(r)),t.prev_pos=$,t.pos=r,i},_.$$arity=1),e.defn(T,"$peek",p=function(e){var t=this;return t.working.substring(0,e)},p.$$arity=1),e.defn(T,"$eos?",d=function(){var e=this;return 0===e.working.length},d.$$arity=0),e.defn(T,"$exist?",f=function(e){var t=this,$=e.exec(t.working);return null==$?n:0==$.index?0:$.index+1},f.$$arity=1),e.defn(T,"$skip",h=function(e){var t=this;e=t.$anchor(e);var $=e.exec(t.working);if(null==$)return t.matched=n;var r=$[0],i=r.length;return t.matched=r,t.prev_pos=t.pos,t.pos+=i,t.working=t.working.substring(i),i},h.$$arity=1),e.defn(T,"$skip_until",g=function(e){var t=this,$=t.$scan_until(e);return $===n?n:(t.matched=$.substr(-1),$.length)},g.$$arity=1),e.defn(T,"$get_byte",b=function(){var e=this,t=n;return e.pos<e.string.length?(e.prev_pos=e.pos,e.pos+=1,t=e.matched=e.working.substring(0,1),e.working=e.working.substring(1)):e.matched=n,t},b.$$arity=0),e.alias(T,"getch","get_byte"),e.defn(T,"$match?",m=function(e){var t=this;e=t.$anchor(e);var $=e.exec(t.working);return null==$?n:(t.prev_pos=t.pos,$[0].length)},m.$$arity=1),e.defn(T,"$pos=",y=function(e){var t=this;return e<0&&(e+=t.string.$length()),t.pos=e,t.working=t.string.slice(e)},y.$$arity=1),e.defn(T,"$post_match",v=function(){var e=this;return e.matched===n?n:e.string.substr(e.pos)},v.$$arity=0),e.defn(T,"$pre_match",w=function(){var e=this;return e.matched===n?n:e.string.substr(0,e.prev_pos)},w.$$arity=0),e.defn(T,"$reset",k=function(){var e=this;return e.working=e.string,e.matched=n,e.pos=0},k.$$arity=0),e.defn(T,"$rest",x=function(){var e=this;return e.working},x.$$arity=0),e.defn(T,"$rest?",E=function(){var e=this;return 0!==e.working.length},E.$$arity=0),e.defn(T,"$rest_size",A=function(){var e=this;return e.$rest().$size()},A.$$arity=0),e.defn(T,"$terminate",O=function(){var e,t,$=this;return $.match=n,e=[$.string.$length()],t=$,t["$pos="].apply(t,e),e[e.length-1]},O.$$arity=0),e.defn(T,"$unscan",S=function(){var e=this;return e.pos=e.prev_pos,e.prev_pos=n,e.match=n,e},S.$$arity=0),T.$private(),e.defn(T,"$anchor",R=function(e){return new RegExp("^(?:"+e.toString().substr(1,e.toString().length-2)+")")},R.$$arity=1),n&&"anchor"}(t.base,null)},Opal.modules["asciidoctor/opal_ext/file"]=function(e){var t=(e.top,e),n=e.nil,$=(e.breaker,e.slice,e.module),r=e.klass,i=e.gvars;return e.add_stubs(["$new","$attr_reader","$delete","$gsub","$==","$read","$size","$to_enum","$chomp","$each_line","$readlines","$split","$==="]),function(t){var r,i,l=r=$(t,"Kernel"),o=(l.$$proto,l.$$scope);e.defn(l,"$open",i=function(t,$){var r,l,a=i.$$p,s=a||n,u=n,c=arguments.length,_=c-1;_<0&&(_=0),l=new Array(_);for(var p=1;p<c;p++)l[p-1]=arguments[p];return i.$$p=null,u=(r=o.get("File")).$new.apply(r,[t].concat(e.to_a(l))),s!==n?e.yield1(s,u):u},i.$$arity=-2)}(t.base),function(t,$){function l(){}var o,a,s,u,c,_,p,d,f=l=r(t,$,"File",l),h=f.$$proto,g=f.$$scope;return h.eof=h.path=n,e.cdecl(g,"SEPARATOR","/"),e.cdecl(g,"ALT_SEPARATOR",n),f.$attr_reader("eof"),f.$attr_reader("lineno"),f.$attr_reader("path"),e.defn(f,"$initialize",o=function(e,t){var $=this,r=n;return null==t&&(t="r"),$.path=e,$.contents=n,$.eof=!1,$.lineno=0,t=t.$delete("b"),r=/:(.*)/,t=t.$gsub(r,""),$.flags=t,g.get("JAVASCRIPT_IO_MODULE")["$=="]("node")?$.fd=require("fs").openSync(e,t):n},o.$$arity=-2),e.defn(f,"$read",a=function(){var e,t=this,$=n;return(e=t.eof)===n||null==e||e.$$is_boolean&&1!=e?($=g.get("File").$read(t.path),t.eof=!0,t.lineno=$.$size(),$):""},a.$$arity=0),e.defn(f,"$each_line",s=function(t){var $,r=this,l=s.$$p,o=l||n,a=n;if(null==i["/"]&&(i["/"]=n),null==t&&(t=i["/"]),s.$$p=null,($=r.eof)!==n&&null!=$&&(!$.$$is_boolean||1==$))return function(){return o!==n?r:[].$to_enum()}();if(o!==n){a=g.get("File").$read(r.path),r.eof=!1,r.lineno=0;for(var u=a.$chomp(),c=a.length!=u.length,_=u.split(t),p=0,d=_.length;p<d;p++)r.lineno+=1,p<d-1||c?e.yield1(o,_[p]+t):e.yield1(o,_[p]);return r.eof=!0,r}return r.$read().$each_line()},s.$$arity=-1),e.defn(f,"$readlines",u=function(){var e=this;return g.get("File").$readlines(e.path)},u.$$arity=0),e.defs(f,"$readlines",c=function(e,t){var $=n;return null==i["/"]&&(i["/"]=n),null==t&&(t=i["/"]),$=g.get("File").$read(e),$.$split(t)},c.$$arity=-2),e.defs(f,"$file?",_=function(e){return!0},_.$$arity=1),e.defs(f,"$readable?",p=function(e){return!0},p.$$arity=1),e.defs(f,"$read",d=function(e){var t=n;return function(){if(t=g.get("JAVASCRIPT_IO_MODULE"),"node"["$==="](t))return require("fs").readFileSync(e,"utf8");if("phantomjs"["$==="](t))return require("fs").read(e);if("java_nio"["$==="](t)){var n=Java.type("java.nio.file.Paths"),$=Java.type("java.nio.file.Files"),r=$.readAllLines(n.get(e),Java.type("java.nio.charset.StandardCharsets").UTF_8),i=[];return r.forEach(function(e){i.push(e)}),i.join("\n")}if("xmlhttprequest"["$==="](t)){var i="",l=-1;try{var o=new XMLHttpRequest;o.open("GET",e,!1),o.addEventListener("load",function(){l=this.status,0!=l&&200!=l||(i=this.responseText)}),o.overrideMimeType("text/plain"),o.send()}catch(e){l=0}if(404==l||0==l&&""==i)throw g.get("IOError").$new("No such file or directory: "+e);return i}return"spidermonkey"["$==="](t)?read(e):""}()},d.$$arity=1),n&&"read"}(t.base,null),function(t,$){function i(){}var l,o=i=r(t,$,"IO",i),a=(o.$$proto,o.$$scope);return e.defs(o,"$read",l=function(e){return a.get("File").$read(e)},l.$$arity=1),n&&"read"}(t.base,null)},Opal.modules["asciidoctor/opal_ext/match_data"]=function(e){var t=(e.top,e),n=e.nil,$=(e.breaker,e.slice,e.klass);return e.add_stubs(["$[]="]),function(t,r){function i(){}var l,o=i=$(t,r,"MatchData",i),a=o.$$proto;o.$$scope;return a.matches=n,e.defn(o,"$[]=",l=function(e,t){var n=this;return n.matches["$[]="](e,t)},l.$$arity=2),n&&"[]="}(t.base,null)},Opal.modules["asciidoctor/opal_ext/kernel"]=function(e){var t=(e.top,e),n=e.nil,$=(e.breaker,e.slice,e.module);return function(t){var r,i,l=r=$(t,"Kernel");l.$$proto,l.$$scope;e.defn(l,"$freeze",i=function(){return n},i.$$arity=0)}(t.base)},Opal.modules["asciidoctor/opal_ext/thread_safe"]=function(e){var t=(e.top,e),n=e.nil,$=(e.breaker,e.slice,e.module),r=e.klass;return function(e){var t,n=t=$(e,"ThreadSafe");n.$$proto,n.$$scope}(t.base),function(e,t){function $(){}var i=$=r(e,t,"Cache",$);i.$$proto,i.$$scope;return n}(t.base,e.get("Hash"))},Opal.modules["asciidoctor/converter/base"]=function(e){var t=(e.top,e),n=e.nil,$=(e.breaker,e.slice,e.module),r=e.klass,i=e.hash2;return e.add_stubs(["$include","$node_name","$empty?","$send","$content"]),function(t){var l,o=l=$(t,"Asciidoctor"),a=(o.$$proto,o.$$scope);!function(e){var t,n=t=$(e,"Converter");n.$$proto,n.$$scope}(a.base),function(e,t){function n(){}var $=n=r(e,t,"Base",n),i=($.$$proto,$.$$scope);return $.$include(i.get("Converter"))}(a.get("Converter"),null),function(t,$){function l(){}var o,a,s,u,c=l=r(t,$,"BuiltIn",l);c.$$proto,c.$$scope;return e.defn(c,"$initialize",o=function(e,t){return null==t&&(t=i([],{})),n},o.$$arity=-2),e.defn(c,"$convert",a=function(e,t,$){var r,l=this;return null==t&&(t=n),null==$&&($=i([],{})),(r=t)!==!1&&r!==n&&null!=r?r:t=e.$node_name(),(r=$["$empty?"]())===n||null==r||r.$$is_boolean&&1!=r?l.$send(t,e,$):l.$send(t,e)},a.$$arity=-2),e.alias(c,"handles?","respond_to?"),e.defn(c,"$content",s=function(e){return e.$content()},s.$$arity=1),e.alias(c,"pass","content"),e.defn(c,"$skip",u=function(e){return n},u.$$arity=1),n&&"skip"}(a.get("Converter"),null)}(t.base)},Opal.modules["asciidoctor/converter/factory"]=function(e){var t=(e.top,e),n=e.nil,$=(e.breaker,e.slice,e.module),r=e.klass,i=e.hash2;return e.add_stubs(["$new","$require","$to_s","$warn","$register","$default","$resolve","$create","$converters","$unregister_all","$attr_reader","$each","$[]=","$==","$[]","$clear","$===","$key?"]),function(t){var l,o=l=$(t,"Asciidoctor"),a=(o.$$proto,o.$$scope);!function(t){var l,o=l=$(t,"Converter"),a=(o.$$proto,o.$$scope);!function(t,$){function l(){}var o,a,s,u,c,_=l=r(t,$,"Factory",l),p=_.$$proto,d=_.$$scope;return p.converters=p.star_converter=n,_.__default__=n,function(t){var $,r,l,o,a,s;t.$$scope,t.$$proto;return e.defn(t,"$default",$=function(t){var $,r,i=this;return null==i.__default__&&(i.__default__=n),null==t&&(t=!0),t===!1||t===n||null==t?($=i.__default__)!==!1&&$!==n&&null!=$?$:i.$new():($=i.__default__)!==!1&&$!==n&&null!=$?$:i.__default__=function(){try{return function(){return(r=null==e.Object.$$scope.ThreadSafe?n:"constant")===n||null==r||r.$$is_boolean&&1!=r?i.$require("thread_safe".$to_s()):n}(),i.$new(e.get("ThreadSafe").$$scope.get("Cache").$new())}catch(t){if(!e.rescue(t,[e.get("LoadError")]))throw t;try{return i.$warn("asciidoctor: WARNING: gem 'thread_safe' is not installed. This gem is recommended when registering custom converters."),i.$new()}finally{e.pop_exception()}}}()},$.$$arity=-1),e.defn(t,"$register",r=function(e,t){var n=this;return null==t&&(t=["*"]),n.$default().$register(e,t)},r.$$arity=-2),e.defn(t,"$resolve",l=function(e){var t=this;return t.$default().$resolve(e)},l.$$arity=1),e.defn(t,"$create",o=function(e,t){var n=this;return null==t&&(t=i([],{})),n.$default().$create(e,t)},o.$$arity=-2),e.defn(t,"$converters",a=function(){var e=this;return e.$default().$converters()},a.$$arity=0),e.defn(t,"$unregister_all",s=function(){var e=this;return e.$default().$unregister_all()},s.$$arity=0),n&&"unregister_all"}(e.get_singleton_class(_)),_.$attr_reader("converters"),e.defn(_,"$initialize",o=function(e){var t,$=this;return null==e&&(e=n),$.converters=(t=e)!==!1&&t!==n&&null!=t?t:i([],{}),$.star_converter=n},o.$$arity=-1),e.defn(_,"$register",a=function(e,t){var $,r,i,l=this;return null==t&&(t=["*"]),($=(r=t).$each,$.$$p=(i=function(t){var $=i.$$s||this;return null==$.converters&&($.converters=n),null==t&&(t=n),$.converters["$[]="](t,e),t["$=="]("*")?$.star_converter=e:n},i.$$s=l,i.$$arity=1,i),$).call(r),n},a.$$arity=-2),e.defn(_,"$resolve",s=function(e){var t,$,r=this;return t=r.converters,t!==!1&&t!==n&&null!=t?($=r.converters["$[]"](e))!==!1&&$!==n&&null!=$?$:r.star_converter:t},s.$$arity=1),e.defn(_,"$unregister_all",u=function(){var e=this;return e.converters.$clear(),e.star_converter=n},u.$$arity=0),e.defn(_,"$create",c=function(t,$){var r,l=this,o=n,a=n,s=n,u=n;return null==$&&($=i([],{})),(r=o=l.$resolve(t))===n||null==r||r.$$is_boolean&&1!=r?(a=function(){return s=t,"html5"["$==="](s)?(((r=function(){try{return null!=e.get("Asciidoctor").$$scope.get("Converter").$$scope.get("Html5Converter")?"constant":n}catch(t){if(t.$$class===e.NameError)return n;throw t}}())===n||null==r||r.$$is_boolean&&1!=r)&&l.$require("asciidoctor/converter/html5".$to_s()),d.get("Html5Converter").$new(t,$)):"docbook5"["$==="](s)?(((r=function(){try{return null!=e.get("Asciidoctor").$$scope.get("Converter").$$scope.get("DocBook5Converter")?"constant":n}catch(t){if(t.$$class===e.NameError)return n;throw t}}())===n||null==r||r.$$is_boolean&&1!=r)&&l.$require("asciidoctor/converter/docbook5".$to_s()),d.get("DocBook5Converter").$new(t,$)):"docbook45"["$==="](s)?(((r=function(){try{return null!=e.get("Asciidoctor").$$scope.get("Converter").$$scope.get("DocBook45Converter")?"constant":n}catch(t){if(t.$$class===e.NameError)return n;throw t}}())===n||null==r||r.$$is_boolean&&1!=r)&&l.$require("asciidoctor/converter/docbook45".$to_s()),d.get("DocBook45Converter").$new(t,$)):"manpage"["$==="](s)?(((r=function(){try{return null!=e.get("Asciidoctor").$$scope.get("Converter").$$scope.get("ManPageConverter")?"constant":n}catch(t){if(t.$$class===e.NameError)return n;throw t}}())===n||null==r||r.$$is_boolean&&1!=r)&&l.$require("asciidoctor/converter/manpage".$to_s()),d.get("ManPageConverter").$new(t,$)):n}(),(r=$["$key?"]("template_dirs"))===n||null==r||r.$$is_boolean&&1!=r?a:(((r=function(){try{return null!=e.get("Asciidoctor").$$scope.get("Converter").$$scope.get("TemplateConverter")?"constant":n}catch(t){if(t.$$class===e.NameError)return n;throw t}}())===n||null==r||r.$$is_boolean&&1!=r)&&l.$require("asciidoctor/converter/template".$to_s()),((r=function(){try{return null!=e.get("Asciidoctor").$$scope.get("Converter").$$scope.get("CompositeConverter")?"constant":n}catch(t){if(t.$$class===e.NameError)return n;throw t}}())===n||null==r||r.$$is_boolean&&1!=r)&&l.$require("asciidoctor/converter/composite".$to_s()),u=d.get("TemplateConverter").$new(t,$["$[]"]("template_dirs"),$),d.get("CompositeConverter").$new(t,u,a))):function(){return(r=e.get("Class")["$==="](o))===n||null==r||r.$$is_boolean&&1!=r?o:o.$new(t,$)}()},c.$$arity=-2),n&&"create"}(a.base,null)}(a.base)}(t.base)},Opal.modules["asciidoctor/converter"]=function(e){var t=e.top,n=e,$=e.nil,r=(e.breaker,e.slice,e.module),i=e.range,l=e.hash2;return e.add_stubs(["$register","$==","$send","$include?","$setup_backend_info","$raise","$class","$sub","$[]","$[]=","$backend_info","$extend","$include","$respond_to?","$write","$chomp","$open","$require"]),function(t){var n,o=n=r(t,"Asciidoctor"),a=(o.$$proto,o.$$scope);!function(t){var n,o,a,s=n=r(t,"Converter"),u=(s.$$proto,s.$$scope);!function(t){var n,i,l=n=r(t,"Config"),o=(l.$$proto,l.$$scope);e.defn(l,"$register_for",i=function(t){var n,r,i,l,a,s,u=this,c=$,_=arguments.length,p=_-0;p<0&&(p=0),s=new Array(p);for(var d=0;d<_;d++)s[d-0]=arguments[d];return o.get("Factory").$register(u,s),c=function(e){e.$$scope,e.$$proto;return e}(e.get_singleton_class(u)),s["$=="](["*"])?(n=(r=c).$send,n.$$p=(i=function(e){i.$$s||this;return null==e&&(e=$),!0},i.$$s=u,i.$$arity=1,i),n).call(r,"define_method","converts?"):(n=(l=c).$send,n.$$p=(a=function(e){a.$$s||this;return null==e&&(e=$),s["$include?"](e)},a.$$s=u,a.$$arity=1,a),n).call(l,"define_method","converts?"),$},i.$$arity=-1)}(u.base),function(t){var n,o,a,s,u,c,_,p=n=r(t,"BackendInfo"),d=(p.$$proto,p.$$scope);e.defn(p,"$backend_info",o=function(){var e,t=this;return null==t.backend_info&&(t.backend_info=$),(e=t.backend_info)!==!1&&e!==$&&null!=e?e:t.backend_info=t.$setup_backend_info()},o.$$arity=0),e.defn(p,"$setup_backend_info",a=function(){var t,n=this,r=$,o=$,a=$,s=$;return null==n.backend&&(n.backend=$),((t=n.backend)===$||null==t||t.$$is_boolean&&1!=t)&&n.$raise(e.get("ArgumentError"),"Cannot determine backend for converter: "+n.$class()),r=n.backend.$sub(d.get("TrailingDigitsRx"),""),(t=o=d.get("DEFAULT_EXTENSIONS")["$[]"](r))===$||null==t||t.$$is_boolean&&1!=t?(r="html",o=".html",a="html",s="html"):a=o["$[]"](i(1,-1,!1)),l(["basebackend","outfilesuffix","filetype","htmlsyntax"],{basebackend:r,outfilesuffix:o,filetype:a,htmlsyntax:s})},a.$$arity=0),e.defn(p,"$filetype",s=function(e){var t=this;return null==e&&(e=$),e!==!1&&e!==$&&null!=e?t.$backend_info()["$[]="]("filetype",e):t.$backend_info()["$[]"]("filetype")},s.$$arity=-1),e.defn(p,"$basebackend",u=function(e){var t=this;return null==e&&(e=$),e!==!1&&e!==$&&null!=e?t.$backend_info()["$[]="]("basebackend",e):t.$backend_info()["$[]"]("basebackend")},u.$$arity=-1),e.defn(p,"$outfilesuffix",c=function(e){var t=this;return null==e&&(e=$),e!==!1&&e!==$&&null!=e?t.$backend_info()["$[]="]("outfilesuffix",e):t.$backend_info()["$[]"]("outfilesuffix")},c.$$arity=-1),e.defn(p,"$htmlsyntax",_=function(e){var t=this;return null==e&&(e=$),e!==!1&&e!==$&&null!=e?t.$backend_info()["$[]="]("htmlsyntax",e):t.$backend_info()["$[]"]("htmlsyntax")},_.$$arity=-1)}(u.base),function(t){var n,r=t.$$scope;t.$$proto;return e.defn(t,"$included",n=function(e){return e.$extend(r.get("Config"))},n.$$arity=1),$&&"included"}(e.get_singleton_class(s)),s.$include(u.get("Config")),s.$include(u.get("BackendInfo")),e.defn(s,"$initialize",o=function(e,t){var n=this;return null==t&&(t=l([],{})),n.backend=e,n.$setup_backend_info()},o.$$arity=-2),e.defn(s,"$convert",a=function(t,n,r){var i=this;return null==n&&(n=$),null==r&&(r=l([],{})),i.$raise(e.get("NotImplementedError"))},a.$$arity=-2),e.alias(s,"convert_with_options","convert")}(a.base),function(t){var n,i,l=n=r(t,"Writer"),o=(l.$$proto,l.$$scope);e.defn(l,"$write",i=function(t,n){var r,i,l,a=this;return(r=n["$respond_to?"]("write"))===$||null==r||r.$$is_boolean&&1!=r?(r=(i=e.get("File")).$open,r.$$p=(l=function(e){l.$$s||this;return null==e&&(e=$),e.$write(t)},l.$$s=a,l.$$arity=1,l),r).call(i,n,"w"):(n.$write(t.$chomp()),n.$write(o.get("EOL"))),$},i.$$arity=2)}(a.base),function(t){var n,i,l=n=r(t,"VoidWriter"),o=(l.$$proto,l.$$scope);l.$include(o.get("Writer")),e.defn(l,"$write",i=function(e,t){return $},i.$$arity=2)}(a.base)}(n.base),t.$require("asciidoctor/converter/base"),t.$require("asciidoctor/converter/factory")},Opal.modules["asciidoctor/converter/composite"]=function(e){var t=(e.top,e),n=e.nil,$=(e.breaker,e.slice,e.module),r=e.klass,i=e.hash2;return e.add_stubs(["$attr_reader","$each","$respond_to?","$composed","$compact","$flatten","$node_name","$convert","$converter_for","$[]","$[]=","$find_converter","$handles?","$raise"]),function(t){var l,o=l=$(t,"Asciidoctor"),a=(o.$$proto,o.$$scope);!function(t,$){function l(){}var o,a,s,u,c=l=r(t,$,"CompositeConverter",l),_=c.$$proto;
c.$$scope;return _.converter_map=_.converters=n,c.$attr_reader("converters"),e.defn(c,"$initialize",o=function(e,t){var $,r,l,o,a=this,s=arguments.length,u=s-1;u<0&&(u=0),o=new Array(u);for(var c=1;c<s;c++)o[c-1]=arguments[c];return a.backend=e,($=(r=a.converters=o.$flatten().$compact()).$each,$.$$p=(l=function(e){var t,$=l.$$s||this;return null==e&&(e=n),(t=e["$respond_to?"]("composed"))===n||null==t||t.$$is_boolean&&1!=t?n:e.$composed($)},l.$$s=a,l.$$arity=1,l),$).call(r),a.converter_map=i([],{})},o.$$arity=-2),e.defn(c,"$convert",a=function(e,t,$){var r,l=this;return null==t&&(t=n),null==$&&($=i([],{})),(r=t)!==!1&&r!==n&&null!=r?r:t=e.$node_name(),l.$converter_for(t).$convert(e,t,$)},a.$$arity=-2),e.alias(c,"convert_with_options","convert"),e.defn(c,"$converter_for",s=function(e){var t,$,r,i=this;return t=e,$=i.converter_map,(r=$["$[]"](t))!==!1&&r!==n&&null!=r?r:$["$[]="](t,i.$find_converter(e))},s.$$arity=1),e.defn(c,"$find_converter",u=function(t){try{var $,r,i,l=this;return($=(r=l.converters).$each,$.$$p=(i=function($){var r;i.$$s||this;return null==$&&($=n),(r=$["$handles?"](t))===n||null==r||r.$$is_boolean&&1!=r?n:void e.ret($)},i.$$s=l,i.$$arity=1,i),$).call(r),l.$raise("Could not find a converter to handle transform: "+t)}catch(t){if(t===e.returner)return t.$v;throw t}},u.$$arity=1),n&&"find_converter"}(a.get("Converter"),a.get("Converter").$$scope.get("Base"))}(t.base)},Opal.modules["asciidoctor/converter/html5"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>=t:e["$>="](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e<=t:e["$<="](t)}function i(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}function l(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var o=(e.top,e),a=e.nil,s=(e.breaker,e.slice,e.module),u=e.klass,c=e.hash2,_=e.range;return e.add_stubs(["$default=","$==","$[]","$instance","$empty?","$attr","$>=","$safe","$attr?","$<<","$doctitle","$include?","$normalize_web_path","$embed_primary_stylesheet","$read_asset","$normalize_system_path","$===","$coderay_stylesheet_name","$embed_coderay_stylesheet","$pygments_stylesheet_name","$embed_pygments_stylesheet","$docinfo","$id","$sections?","$doctype","$*","$noheader","$outline","$has_header?","$notitle","$title","$header","$sub_macros","$>","$to_i","$each","$downcase","$concat","$content","$footnotes?","$!","$index","$text","$footnotes","$nofooter","$inspect","$!=","$document","$sections","$level","$special","$numbered","$caption","$<=","$sectnum","$<","$captioned_title","$+","$role","$title?","$icon_uri","$compact","$media_uri","$option?","$append_boolean_attribute","$style","$each_with_index","$items","$text?","$blocks?","$chomp","$read_svg_contents","$image_uri","$to_sym","$start_with?","$end_with?","$list_marker_keyword","$parent","$warn","$context","$times","$size","$columns","$colspan","$rowspan","$rows","$select","$role?","$insert","$split","$target","$type","$attributes","$references","$join","$map","$chop","$read_contents","$sub","$gsub","$match","$length"]),function(o){var p,d=p=s(o,"Asciidoctor"),f=(d.$$proto,d.$$scope);!function(o,s){function p(){}var d,f,h,g,b,m,y,v,w,k,x,E,A,O,S,R,T,I,C,N,M,L,z,P,D,B,q,j,F,U,G,H,Y,K,W,X,V,J,Z,Q,ee,te,ne=p=u(o,s,"Html5Converter",p),$e=ne.$$proto,re=ne.$$scope;return $e.xml_mode=$e.void_element_slash=$e.stylesheets=a,d=[[a,a,a]],f=e.cdecl(re,"QUOTE_TAGS",c(["emphasis","strong","monospaced","superscript","subscript","double","single","mark","asciimath","latexmath"],{emphasis:["<em>","</em>",!0],strong:["<strong>","</strong>",!0],monospaced:["<code>","</code>",!0],superscript:["<sup>","</sup>",!0],subscript:["<sub>","</sub>",!0],double:["&#8220;","&#8221;",!1],single:["&#8216;","&#8217;",!1],mark:["<mark>","</mark>",!0],asciimath:["\\$","\\$",!1],latexmath:["\\(","\\)",!1]})),f["$default="].apply(f,d),d[d.length-1],e.cdecl(re,"SvgPreambleRx",/\A.*?(?=<svg\b)/m),e.cdecl(re,"SvgStartTagRx",/\A<svg[^>]*>/),e.cdecl(re,"DimensionAttributeRx",/\s(?:width|height|style)=(["']).*?\1/),e.defn(ne,"$initialize",h=function(e,t){var n,$=this;return null==t&&(t=c([],{})),$.xml_mode=t["$[]"]("htmlsyntax")["$=="]("xml"),$.void_element_slash=function(){return(n=$.xml_mode)===a||null==n||n.$$is_boolean&&1!=n?a:"/"}(),$.stylesheets=re.get("Stylesheets").$instance()},h.$$arity=-2),e.defn(ne,"$document",g=function(e){var r,i,l,o,s,u,p=this,d=a,f=a,h=a,g=a,b=a,m=a,y=a,v=a,w=a,k=a,x=a,E=a,A=a,O=a,S=a,R=a,T=a,I=a,C=a,N=a,M=a;return d=[],f=p.void_element_slash,h="<br"+f+">",((r=(g=e.$attr("asset-uri-scheme","https"))["$empty?"]())===a||null==r||r.$$is_boolean&&1!=r)&&(g=""+g+":"),b=""+g+"//cdnjs.cloudflare.com/ajax/libs",m=(r=t(e.$safe(),re.get("SafeMode").$$scope.get("SECURE")))!==!1&&r!==a&&null!=r?r:e["$attr?"]("linkcss"),d["$<<"]("<!DOCTYPE html>"),y=function(){return(r=e["$attr?"]("nolang"))===a||null==r||r.$$is_boolean&&1!=r?' lang="'+e.$attr("lang","en")+'"':a}(),d["$<<"]("<html"+function(){return(r=p.xml_mode)===a||null==r||r.$$is_boolean&&1!=r?a:' xmlns="http://www.w3.org/1999/xhtml"'}()+y+">"),d["$<<"]('<head>\n<meta charset="'+e.$attr("encoding","UTF-8")+'"'+f+'>\n<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"'+f+'><![endif]-->\n<meta name="viewport" content="width=device-width, initial-scale=1.0"'+f+'>\n<meta name="generator" content="Asciidoctor '+e.$attr("asciidoctor-version")+'"'+f+">"),(r=e["$attr?"]("app-name"))===a||null==r||r.$$is_boolean&&1!=r||d["$<<"]('<meta name="application-name" content="'+e.$attr("app-name")+'"'+f+">"),(r=e["$attr?"]("description"))===a||null==r||r.$$is_boolean&&1!=r||d["$<<"]('<meta name="description" content="'+e.$attr("description")+'"'+f+">"),(r=e["$attr?"]("keywords"))===a||null==r||r.$$is_boolean&&1!=r||d["$<<"]('<meta name="keywords" content="'+e.$attr("keywords")+'"'+f+">"),(r=e["$attr?"]("authors"))===a||null==r||r.$$is_boolean&&1!=r||d["$<<"]('<meta name="author" content="'+e.$attr("authors")+'"'+f+">"),(r=e["$attr?"]("copyright"))===a||null==r||r.$$is_boolean&&1!=r||d["$<<"]('<meta name="copyright" content="'+e.$attr("copyright")+'"'+f+">"),d["$<<"]("<title>"+e.$doctitle(c(["sanitize","use_fallback"],{sanitize:!0,use_fallback:!0}))+"</title>"),(r=re.get("DEFAULT_STYLESHEET_KEYS")["$include?"](e.$attr("stylesheet")))===a||null==r||r.$$is_boolean&&1!=r?(r=e["$attr?"]("stylesheet"))===a||null==r||r.$$is_boolean&&1!=r||(m!==!1&&m!==a&&null!=m?d["$<<"]('<link rel="stylesheet" href="'+e.$normalize_web_path(e.$attr("stylesheet"),e.$attr("stylesdir",""))+'"'+f+">"):d["$<<"]("<style>\n"+e.$read_asset(e.$normalize_system_path(e.$attr("stylesheet"),e.$attr("stylesdir","")),c(["warn_on_failure"],{warn_on_failure:!0}))+"\n</style>")):((r=v=e.$attr("webfonts"))===a||null==r||r.$$is_boolean&&1!=r||d["$<<"]('<link rel="stylesheet" href="'+g+"//fonts.googleapis.com/css?family="+function(){return(r=v["$empty?"]())===a||null==r||r.$$is_boolean&&1!=r?v:"Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"}()+'"'+f+">"),m!==!1&&m!==a&&null!=m?d["$<<"]('<link rel="stylesheet" href="'+e.$normalize_web_path(re.get("DEFAULT_STYLESHEET_NAME"),e.$attr("stylesdir",""),!1)+'"'+f+">"):d["$<<"](p.stylesheets.$embed_primary_stylesheet())),(r=e["$attr?"]("icons","font"))===a||null==r||r.$$is_boolean&&1!=r||((r=e["$attr?"]("iconfont-remote"))===a||null==r||r.$$is_boolean&&1!=r?(w=""+e.$attr("iconfont-name","font-awesome")+".css",d["$<<"]('<link rel="stylesheet" href="'+e.$normalize_web_path(w,e.$attr("stylesdir",""),!1)+'"'+f+">")):d["$<<"]('<link rel="stylesheet" href="'+e.$attr("iconfont-cdn",""+b+"/font-awesome/4.6.3/css/font-awesome.min.css")+'"'+f+">")),k=x=e.$attr("source-highlighter"),"coderay"["$==="](k)?e.$attr("coderay-css","class")["$=="]("class")&&(m!==!1&&m!==a&&null!=m?d["$<<"]('<link rel="stylesheet" href="'+e.$normalize_web_path(p.stylesheets.$coderay_stylesheet_name(),e.$attr("stylesdir",""),!1)+'"'+f+">"):d["$<<"](p.stylesheets.$embed_coderay_stylesheet())):"pygments"["$==="](k)&&e.$attr("pygments-css","class")["$=="]("class")&&(E=e.$attr("pygments-style"),m!==!1&&m!==a&&null!=m?d["$<<"]('<link rel="stylesheet" href="'+e.$normalize_web_path(p.stylesheets.$pygments_stylesheet_name(E),e.$attr("stylesdir",""),!1)+'"'+f+">"):d["$<<"](p.stylesheets.$embed_pygments_stylesheet(E))),((r=(A=e.$docinfo())["$empty?"]())===a||null==r||r.$$is_boolean&&1!=r)&&d["$<<"](A),d["$<<"]("</head>"),O=[],(r=e.$id())===a||null==r||r.$$is_boolean&&1!=r||O["$<<"]('id="'+e.$id()+'"'),o=S=e["$sections?"](),l=o!==!1&&o!==a&&null!=o?e["$attr?"]("toc-class"):o,i=l!==!1&&l!==a&&null!=l?e["$attr?"]("toc"):l,(r=i!==!1&&i!==a&&null!=i?e["$attr?"]("toc-placement","auto"):i)===a||null==r||r.$$is_boolean&&1!=r?O["$<<"]('class="'+e.$doctype()+'"'):O["$<<"]('class="'+e.$doctype()+" "+e.$attr("toc-class")+" toc-"+e.$attr("toc-position","header")+'"'),(r=e["$attr?"]("max-width"))===a||null==r||r.$$is_boolean&&1!=r||O["$<<"]('style="max-width: '+e.$attr("max-width")+';"'),d["$<<"]("<body "+n(O," ")+">"),((r=e.$noheader())===a||null==r||r.$$is_boolean&&1!=r)&&(d["$<<"]('<div id="header">'),e.$doctype()["$=="]("manpage")?(d["$<<"]("<h1>"+e.$doctitle()+" Manual Page</h1>"),i=(l=S!==!1&&S!==a&&null!=S)?e["$attr?"]("toc"):S,(r=i!==!1&&i!==a&&null!=i?e["$attr?"]("toc-placement","auto"):i)===a||null==r||r.$$is_boolean&&1!=r||d["$<<"]('<div id="toc" class="'+e.$attr("toc-class","toc")+'">\n<div id="toctitle">'+e.$attr("toc-title")+"</div>\n"+p.$outline(e)+"\n</div>"),d["$<<"]("<h2>"+e.$attr("manname-title")+'</h2>\n<div class="sectionbody">\n<p>'+e.$attr("manname")+" - "+e.$attr("manpurpose")+"</p>\n</div>")):((r=e["$has_header?"]())===a||null==r||r.$$is_boolean&&1!=r||(((r=e.$notitle())===a||null==r||r.$$is_boolean&&1!=r)&&d["$<<"]("<h1>"+e.$header().$title()+"</h1>"),R=[],(r=e["$attr?"]("author"))===a||null==r||r.$$is_boolean&&1!=r||(R["$<<"]('<span id="author" class="author">'+e.$attr("author")+"</span>"+h),(r=e["$attr?"]("email"))===a||null==r||r.$$is_boolean&&1!=r||R["$<<"]('<span id="email" class="email">'+e.$sub_macros(e.$attr("email"))+"</span>"+h),(r=$(T=e.$attr("authorcount").$to_i(),1))===a||null==r||r.$$is_boolean&&1!=r||(r=(i=_(2,T,!1)).$each,r.$$p=(s=function(t){var n;s.$$s||this;return null==t&&(t=a),R["$<<"]('<span id="author'+t+'" class="author">'+e.$attr("author_"+t)+"</span>"+h),(n=e["$attr?"]("email_"+t))===a||null==n||n.$$is_boolean&&1!=n?a:R["$<<"]('<span id="email'+t+'" class="email">'+e.$sub_macros(e.$attr("email_"+t))+"</span>"+h)},s.$$s=p,s.$$arity=1,s),r).call(i)),(r=e["$attr?"]("revnumber"))===a||null==r||r.$$is_boolean&&1!=r||R["$<<"]('<span id="revnumber">'+((r=e.$attr("version-label"))!==!1&&r!==a&&null!=r?r:"").$downcase()+" "+e.$attr("revnumber")+function(){return(r=e["$attr?"]("revdate"))===a||null==r||r.$$is_boolean&&1!=r?"":","}()+"</span>"),(r=e["$attr?"]("revdate"))===a||null==r||r.$$is_boolean&&1!=r||R["$<<"]('<span id="revdate">'+e.$attr("revdate")+"</span>"),(r=e["$attr?"]("revremark"))===a||null==r||r.$$is_boolean&&1!=r||R["$<<"](""+h+'<span id="revremark">'+e.$attr("revremark")+"</span>"),((r=R["$empty?"]())===a||null==r||r.$$is_boolean&&1!=r)&&(d["$<<"]('<div class="details">'),d.$concat(R),d["$<<"]("</div>"))),l=(o=S!==!1&&S!==a&&null!=S)?e["$attr?"]("toc"):S,(r=l!==!1&&l!==a&&null!=l?e["$attr?"]("toc-placement","auto"):l)===a||null==r||r.$$is_boolean&&1!=r||d["$<<"]('<div id="toc" class="'+e.$attr("toc-class","toc")+'">\n<div id="toctitle">'+e.$attr("toc-title")+"</div>\n"+p.$outline(e)+"\n</div>")),d["$<<"]("</div>")),d["$<<"]('<div id="content">\n'+e.$content()+"\n</div>"),l=e["$footnotes?"](),(r=l!==!1&&l!==a&&null!=l?e["$attr?"]("nofootnotes")["$!"]():l)===a||null==r||r.$$is_boolean&&1!=r||(d["$<<"]('<div id="footnotes">\n<hr'+f+">"),(r=(l=e.$footnotes()).$each,r.$$p=(u=function(e){u.$$s||this;return null==e&&(e=a),d["$<<"]('<div class="footnote" id="_footnote_'+e.$index()+'">\n<a href="#_footnoteref_'+e.$index()+'">'+e.$index()+"</a>. "+e.$text()+"\n</div>")},u.$$s=p,u.$$arity=1,u),r).call(l),d["$<<"]("</div>")),((r=e.$nofooter())===a||null==r||r.$$is_boolean&&1!=r)&&(d["$<<"]('<div id="footer">'),d["$<<"]('<div id="footer-text">'),(r=e["$attr?"]("revnumber"))===a||null==r||r.$$is_boolean&&1!=r||d["$<<"](""+e.$attr("version-label")+" "+e.$attr("revnumber")+h),o=e["$attr?"]("last-update-label"),(r=o!==!1&&o!==a&&null!=o?e["$attr?"]("reproducible")["$!"]():o)===a||null==r||r.$$is_boolean&&1!=r||d["$<<"](""+e.$attr("last-update-label")+" "+e.$attr("docdatetime")),d["$<<"]("</div>"),d["$<<"]("</div>")),((r=(A=e.$docinfo("footer"))["$empty?"]())===a||null==r||r.$$is_boolean&&1!=r)&&d["$<<"](A),k=x,"highlightjs"["$==="](k)||"highlight.js"["$==="](k)?(I=e.$attr("highlightjsdir",""+b+"/highlight.js/8.9.1"),d["$<<"]('<link rel="stylesheet" href="'+I+"/styles/"+e.$attr("highlightjs-theme","github")+'.min.css"'+f+">"),d["$<<"]('<script src="'+I+'/highlight.min.js"></script>\n<script>hljs.initHighlighting()</script>')):"prettify"["$==="](k)&&(C=e.$attr("prettifydir",""+b+"/prettify/r298"),d["$<<"]('<link rel="stylesheet" href="'+C+"/"+e.$attr("prettify-theme","prettify")+'.min.css"'+f+">"),d["$<<"]('<script src="'+C+'/prettify.min.js"></script>\n<script>prettyPrint()</script>')),(r=e["$attr?"]("stem"))===a||null==r||r.$$is_boolean&&1!=r||(N=e.$attr("eqnums","none"),(r=N["$empty?"]())===a||null==r||r.$$is_boolean&&1!=r||(N="AMS"),M=' equationNumbers: { autoNumber: "'+N+'" } ',d["$<<"]('<script type="text/x-mathjax-config">\nMathJax.Hub.Config({\n  messageStyle: "none",\n  tex2jax: {\n    inlineMath: ['+re.get("INLINE_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+"],\n    displayMath: ["+re.get("BLOCK_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+'],\n    ignoreClass: "nostem|nolatexmath"\n  },\n  asciimath2jax: {\n    delimiters: ['+re.get("BLOCK_MATH_DELIMITERS")["$[]"]("asciimath").$inspect()+'],\n    ignoreClass: "nostem|noasciimath"\n  },\n  TeX: {'+M+'}\n});\n</script>\n<script src="'+b+'/mathjax/2.6.0/MathJax.js?config=TeX-MML-AM_HTMLorMML"></script>')),d["$<<"]("</body>"),d["$<<"]("</html>"),n(d,re.get("EOL"))},g.$$arity=1),e.defn(ne,"$embedded",b=function(e){var t,$,r,i,l,o=this,s=a,u=a,c=a;return s=[],e.$doctype()["$=="]("manpage")?(((t=e.$notitle())===a||null==t||t.$$is_boolean&&1!=t)&&(u=function(){return(t=e.$id())===a||null==t||t.$$is_boolean&&1!=t?a:' id="'+e.$id()+'"'}(),s["$<<"]("<h1"+u+">"+e.$doctitle()+" Manual Page</h1>")),s["$<<"]("<h2>"+e.$attr("manname-title")+'</h2>\n<div class="sectionbody">\n<p>'+e.$attr("manname")+" - "+e.$attr("manpurpose")+"</p>\n</div>")):($=e["$has_header?"](),(t=$!==!1&&$!==a&&null!=$?e.$notitle()["$!"]():$)===a||null==t||t.$$is_boolean&&1!=t||(u=function(){return(t=e.$id())===a||null==t||t.$$is_boolean&&1!=t?a:' id="'+e.$id()+'"'}(),s["$<<"]("<h1"+u+">"+e.$header().$title()+"</h1>"))),i=e["$sections?"](),r=i!==!1&&i!==a&&null!=i?e["$attr?"]("toc"):i,$=r!==!1&&r!==a&&null!=r?(c=e.$attr("toc-placement"))["$!="]("macro"):r,(t=$!==!1&&$!==a&&null!=$?c["$!="]("preamble"):$)===a||null==t||t.$$is_boolean&&1!=t||s["$<<"]('<div id="toc" class="toc">\n<div id="toctitle">'+e.$attr("toc-title")+"</div>\n"+o.$outline(e)+"\n</div>"),s["$<<"](e.$content()),$=e["$footnotes?"](),(t=$!==!1&&$!==a&&null!=$?e["$attr?"]("nofootnotes")["$!"]():$)===a||null==t||t.$$is_boolean&&1!=t||(s["$<<"]('<div id="footnotes">\n<hr'+o.void_element_slash+">"),(t=($=e.$footnotes()).$each,t.$$p=(l=function(e){l.$$s||this;return null==e&&(e=a),s["$<<"]('<div class="footnote" id="_footnote_'+e.$index()+'">\n<a href="#_footnoteref_'+e.$index()+'">'+e.$index()+"</a>. "+e.$text()+"\n</div>")},l.$$s=o,l.$$arity=1,l),t).call($),s["$<<"]("</div>")),n(s,re.get("EOL"))},b.$$arity=1),e.defn(ne,"$outline",m=function(e,t){var $,l,o,s=this,u=a,_=a,p=a,d=a,f=a,h=a;return null==t&&(t=c([],{})),($=e["$sections?"]())===a||null==$||$.$$is_boolean&&1!=$?a:(u=($=t["$[]"]("sectnumlevels"))!==!1&&$!==a&&null!=$?$:e.$document().$attr("sectnumlevels",3).$to_i(),_=($=t["$[]"]("toclevels"))!==!1&&$!==a&&null!=$?$:e.$document().$attr("toclevels",2).$to_i(),p=[],d=e.$sections(),f=(h=d["$[]"](0)).$level(),($=(l=f["$=="](0))?h.$special():f["$=="](0))===a||null==$||$.$$is_boolean&&1!=$||(f=1),p["$<<"]('<ul class="sectlevel'+f+'">'),($=(l=d).$each,$.$$p=(o=function(e){var t,n,$,l=o.$$s||this,s=a,d=a;return null==e&&(e=a),s=function(){return $=e.$numbered(),n=$!==!1&&$!==a&&null!=$?e.$caption()["$!"]():$,(t=n!==!1&&n!==a&&null!=n?r(e.$level(),u):n)===a||null==t||t.$$is_boolean&&1!=t?a:""+e.$sectnum()+" "}(),n=i(e.$level(),_),(t=n!==!1&&n!==a&&null!=n?d=l.$outline(e,c(["toclevels","secnumlevels"],{toclevels:_,secnumlevels:u})):n)===a||null==t||t.$$is_boolean&&1!=t?p["$<<"]('<li><a href="#'+e.$id()+'">'+s+e.$captioned_title()+"</a></li>"):(p["$<<"]('<li><a href="#'+e.$id()+'">'+s+e.$captioned_title()+"</a>"),p["$<<"](d),p["$<<"]("</li>"))},o.$$s=s,o.$$arity=1,o),$).call(l),p["$<<"]("</ul>"),n(p,re.get("EOL")))},m.$$arity=-2),e.defn(ne,"$section",y=function(e){var t,n,$,i=a,o=a,s=a,u=a,c=a,_=a,p=a,d=a,f=a,h=a,g=a;return i=e.$level(),(t=(n=i["$=="](0))?e.$special():i["$=="](0))===a||null==t||t.$$is_boolean&&1!=t||(i=1),o="h"+l(i,1),s=u=c=_=a,(t=e.$id())===a||null==t||t.$$is_boolean&&1!=t||(s=' id="'+(p=e.$id())+'"',(t=(d=e.$document())["$attr?"]("sectanchors"))===a||null==t||t.$$is_boolean&&1!=t||(u='<a class="anchor" href="#'+p+'"></a>'),(t=d["$attr?"]("sectlinks"))===a||null==t||t.$$is_boolean&&1!=t||(c='<a class="link" href="#'+p+'">',_="</a>")),i["$=="](0)?"<h1"+s+' class="sect0">'+u+c+e.$title()+_+"</h1>\n"+e.$content():(f=function(){return(t=h=e.$role())===a||null==t||t.$$is_boolean&&1!=t?' class="sect'+i+'"':' class="sect'+i+" "+h+'"'}(),g=function(){return $=e.$numbered(),n=$!==!1&&$!==a&&null!=$?e.$caption()["$!"]():$,(t=n!==!1&&n!==a&&null!=n?r(i,e.$document().$attr("sectnumlevels",3).$to_i()):n)===a||null==t||t.$$is_boolean&&1!=t?a:""+e.$sectnum()+" "}(),"<div"+f+">\n<"+o+s+">"+u+c+g+e.$captioned_title()+_+"</"+o+">\n"+function(){return i["$=="](1)?'<div class="sectionbody">\n'+e.$content()+"\n</div>":e.$content()}()+"\n</div>")},y.$$arity=1),e.defn(ne,"$admonition",v=function(e){var t,n,$=this,r=a,i=a,l=a,o=a,s=a;return r=function(){return(t=e.$id())===a||null==t||t.$$is_boolean&&1!=t?a:' id="'+e.$id()+'"'}(),i=e.$attr("name"),l=function(){return(t=e["$title?"]())===a||null==t||t.$$is_boolean&&1!=t?a:'<div class="title">'+e.$title()+"</div>\n"}(),o=function(){return(t=e.$document()["$attr?"]("icons"))===a||null==t||t.$$is_boolean&&1!=t?'<div class="title">'+e.$caption()+"</div>":(n=e.$document()["$attr?"]("icons","font"),(t=n!==!1&&n!==a&&null!=n?e["$attr?"]("icon")["$!"]():n)===a||null==t||t.$$is_boolean&&1!=t?'<img src="'+e.$icon_uri(i)+'" alt="'+e.$caption()+'"'+$.void_element_slash+">":'<i class="fa icon-'+i+'" title="'+e.$caption()+'"></i>')}(),"<div"+r+' class="admonitionblock '+i+(t=s=e.$role(),t!==!1&&t!==a&&null!=t?" "+s:t)+'">\n<table>\n<tr>\n<td class="icon">\n'+o+'\n</td>\n<td class="content">\n'+l+e.$content()+"\n</td>\n</tr>\n</table>\n</div>"},v.$$arity=1),e.defn(ne,"$audio",w=function(e){var t,$=this,r=a,i=a,l=a,o=a,s=a;return r=$.xml_mode,i=function(){return(t=e.$id())===a||null==t||t.$$is_boolean&&1!=t?a:' id="'+e.$id()+'"'}(),l=["audioblock",e.$role()].$compact(),o=' class="'+n(l," ")+'"',s=function(){return(t=e["$title?"]())===a||null==t||t.$$is_boolean&&1!=t?a:'<div class="title">'+e.$captioned_title()+"</div>\n"}(),"<div"+i+o+">\n"+s+'<div class="content">\n<audio src="'+e.$media_uri(e.$attr("target"))+'"'+function(){return(t=e["$option?"]("autoplay"))===a||null==t||t.$$is_boolean&&1!=t?a:$.$append_boolean_attribute("autoplay",r)}()+function(){return(t=e["$option?"]("nocontrols"))===a||null==t||t.$$is_boolean&&1!=t?$.$append_boolean_attribute("controls",r):a}()+function(){return(t=e["$option?"]("loop"))===a||null==t||t.$$is_boolean&&1!=t?a:$.$append_boolean_attribute("loop",r)}()+">\nYour browser does not support the audio tag.\n</audio>\n</div>\n</div>"},w.$$arity=1),e.defn(ne,"$colist",k=function(e){var t,$,r,i,o,s=this,u=a,c=a,_=a,p=a,d=a;return u=[],c=function(){return(t=e.$id())===a||null==t||t.$$is_boolean&&1!=t?a:' id="'+e.$id()+'"'}(),_=["colist",e.$style(),e.$role()].$compact(),p=' class="'+n(_," ")+'"',u["$<<"]("<div"+c+p+">"),(t=e["$title?"]())===a||null==t||t.$$is_boolean&&1!=t||u["$<<"]('<div class="title">'+e.$title()+"</div>"),(t=e.$document()["$attr?"]("icons"))===a||null==t||t.$$is_boolean&&1!=t?(u["$<<"]("<ol>"),(t=(i=e.$items()).$each,t.$$p=(o=function(e){o.$$s||this;return null==e&&(e=a),u["$<<"]("<li>\n<p>"+e.$text()+"</p>\n</li>")},o.$$s=s,o.$$arity=1,o),t).call(i),u["$<<"]("</ol>")):(u["$<<"]("<table>"),d=e.$document()["$attr?"]("icons","font"),(t=($=e.$items()).$each_with_index,t.$$p=(r=function(t,n){var $=r.$$s||this,i=a,o=a;return null==$.void_element_slash&&($.void_element_slash=a),null==t&&(t=a),null==n&&(n=a),i=l(n,1),o=function(){return d!==!1&&d!==a&&null!=d?'<i class="conum" data-value="'+i+'"></i><b>'+i+"</b>":'<img src="'+e.$icon_uri("callouts/"+i)+'" alt="'+i+'"'+$.void_element_slash+">"}(),u["$<<"]("<tr>\n<td>"+o+"</td>\n<td>"+t.$text()+"</td>\n</tr>")},r.$$s=s,r.$$arity=2,r),t).call($),u["$<<"]("</table>")),u["$<<"]("</div>"),n(u,re.get("EOL"))},k.$$arity=1),e.defn(ne,"$dlist",x=function(t){var $,r,i,l,o,s,u,c=this,_=a,p=a,d=a,f=a,h=a,g=a,b=a,m=a;return _=[],p=function(){return($=t.$id())===a||null==$||$.$$is_boolean&&1!=$?a:' id="'+t.$id()+'"'}(),d=function(){return f=t.$style(),"qanda"["$==="](f)?["qlist","qanda",t.$role()]:"horizontal"["$==="](f)?["hdlist",t.$role()]:["dlist",t.$style(),t.$role()]}().$compact(),h=' class="'+n(d," ")+'"',_["$<<"]("<div"+p+h+">"),($=t["$title?"]())===a||null==$||$.$$is_boolean&&1!=$||_["$<<"]('<div class="title">'+t.$title()+"</div>"),f=t.$style(),"qanda"["$==="](f)?(_["$<<"]("<ol>"),($=(r=t.$items()).$each,$.$$p=(i=function(t,n){var $,r,l,o=i.$$s||this;return null==t&&(t=a),null==n&&(n=a),_["$<<"]("<li>"),($=(r=[].concat(e.to_a(t))).$each,$.$$p=(l=function(e){l.$$s||this;return null==e&&(e=a),_["$<<"]("<p><em>"+e.$text()+"</em></p>")},l.$$s=o,l.$$arity=1,l),$).call(r),n!==!1&&n!==a&&null!=n&&(($=n["$text?"]())===a||null==$||$.$$is_boolean&&1!=$||_["$<<"]("<p>"+n.$text()+"</p>"),($=n["$blocks?"]())===a||null==$||$.$$is_boolean&&1!=$||_["$<<"](n.$content())),_["$<<"]("</li>")},i.$$s=c,i.$$arity=2,i),$).call(r),_["$<<"]("</ol>")):"horizontal"["$==="](f)?(g=c.void_element_slash,_["$<<"]("<table>"),($=(l=t["$attr?"]("labelwidth"))!==!1&&l!==a&&null!=l?l:t["$attr?"]("itemwidth"))===a||null==$||$.$$is_boolean&&1!=$||(_["$<<"]("<colgroup>"),b=function(){return($=t["$attr?"]("labelwidth"))===a||null==$||$.$$is_boolean&&1!=$?a:' style="width: '+t.$attr("labelwidth").$chomp("%")+'%;"'}(),_["$<<"]("<col"+b+g+">"),b=function(){return($=t["$attr?"]("itemwidth"))===a||null==$||$.$$is_boolean&&1!=$?a:' style="width: '+t.$attr("itemwidth").$chomp("%")+'%;"'}(),_["$<<"]("<col"+b+g+">"),_["$<<"]("</colgroup>")),($=(l=t.$items()).$each,$.$$p=(o=function(n,$){var r,i,l,s=o.$$s||this,u=a,c=a;return null==n&&(n=a),null==$&&($=a),_["$<<"]("<tr>"),_["$<<"]('<td class="hdlist1'+function(){return(r=t["$option?"]("strong"))===a||null==r||r.$$is_boolean&&1!=r?a:" strong"}()+'">'),u=[].concat(e.to_a(n)),c=u["$[]"](-1),(r=(i=u).$each,r.$$p=(l=function(e){var t;l.$$s||this;return null==e&&(e=a),_["$<<"](e.$text()),(t=e["$!="](c))===a||null==t||t.$$is_boolean&&1!=t?a:_["$<<"]("<br"+g+">")},l.$$s=s,l.$$arity=1,l),r).call(i),_["$<<"]("</td>"),_["$<<"]('<td class="hdlist2">'),$!==!1&&$!==a&&null!=$&&((r=$["$text?"]())===a||null==r||r.$$is_boolean&&1!=r||_["$<<"]("<p>"+$.$text()+"</p>"),(r=$["$blocks?"]())===a||null==r||r.$$is_boolean&&1!=r||_["$<<"]($.$content())),_["$<<"]("</td>"),_["$<<"]("</tr>")},o.$$s=c,o.$$arity=2,o),$).call(l),_["$<<"]("</table>")):(_["$<<"]("<dl>"),m=function(){return($=t.$style())===a||null==$||$.$$is_boolean&&1!=$?' class="hdlist1"':a}(),($=(s=t.$items()).$each,$.$$p=(u=function(t,n){var $,r,i,l=u.$$s||this;return null==t&&(t=a),null==n&&(n=a),($=(r=[].concat(e.to_a(t))).$each,$.$$p=(i=function(e){i.$$s||this;return null==e&&(e=a),_["$<<"]("<dt"+m+">"+e.$text()+"</dt>")},i.$$s=l,i.$$arity=1,i),$).call(r),n!==!1&&n!==a&&null!=n?(_["$<<"]("<dd>"),($=n["$text?"]())===a||null==$||$.$$is_boolean&&1!=$||_["$<<"]("<p>"+n.$text()+"</p>"),($=n["$blocks?"]())===a||null==$||$.$$is_boolean&&1!=$||_["$<<"](n.$content()),_["$<<"]("</dd>")):a},u.$$s=c,u.$$arity=2,u),$).call(s),_["$<<"]("</dl>")),_["$<<"]("</div>"),n(_,re.get("EOL"))},x.$$arity=1),e.defn(ne,"$example",E=function(e){var t,$=a,r=a,i=a;return $=function(){return(t=e.$id())===a||null==t||t.$$is_boolean&&1!=t?a:' id="'+e.$id()+'"'}(),r=function(){return(t=e["$title?"]())===a||null==t||t.$$is_boolean&&1!=t?a:'<div class="title">'+e.$captioned_title()+"</div>\n"}(),"<div"+$+' class="'+function(){return(t=i=e.$role())===a||null==t||t.$$is_boolean&&1!=t?"exampleblock":n(["exampleblock",i]," ")}()+'">\n'+r+'<div class="content">\n'+e.$content()+"\n</div>\n</div>"},E.$$arity=1),e.defn(ne,"$floating_title",A=function(e){var t,$=a,r=a,i=a;return $="h"+l(e.$level(),1),r=function(){return(t=e.$id())===a||null==t||t.$$is_boolean&&1!=t?a:' id="'+e.$id()+'"'}(),i=[e.$style(),e.$role()].$compact(),"<"+$+r+' class="'+n(i," ")+'">'+e.$title()+"</"+$+">"},A.$$arity=1),e.defn(ne,"$image",O=function(e){var t,$,r,l,o=this,s=a,u=a,c=a,_=a,p=a,d=a,f=a,h=a,g=a,b=a,m=a,y=a,v=a,w=a;return s=e.$attr("target"),u=function(){return(t=e["$attr?"]("width"))===a||null==t||t.$$is_boolean&&1!=t?a:' width="'+e.$attr("width")+'"'}(),c=function(){return(t=e["$attr?"]("height"))===a||null==t||t.$$is_boolean&&1!=t?a:' height="'+e.$attr("height")+'"'}(),r=(l=e["$attr?"]("format","svg",!1))!==!1&&l!==a&&null!=l?l:s["$include?"](".svg"),$=r!==!1&&r!==a&&null!=r?i(e.$document().$safe(),re.get("SafeMode").$$scope.get("SECURE")):r,(t=$!==!1&&$!==a&&null!=$?(r=_=e["$option?"]("inline"))!==!1&&r!==a&&null!=r?r:p=e["$option?"]("interactive"):$)===a||null==t||t.$$is_boolean&&1!=t||(_!==!1&&_!==a&&null!=_?d=(t=o.$read_svg_contents(e,s))!==!1&&t!==a&&null!=t?t:'<span class="alt">'+e.$attr("alt")+"</span>":p!==!1&&p!==a&&null!=p&&(f=function(){return(t=e["$attr?"]("fallback"))===a||null==t||t.$$is_boolean&&1!=t?'<span class="alt">'+e.$attr("alt")+"</span>":'<img src="'+e.$image_uri(e.$attr("fallback"))+'" alt="'+e.$attr("alt")+'"'+u+c+o.void_element_slash+">"}(),d='<object type="image/svg+xml" data="'+e.$image_uri(s)+'"'+u+c+">"+f+"</object>")),(t=d)!==!1&&t!==a&&null!=t?t:d='<img src="'+e.$image_uri(s)+'" alt="'+e.$attr("alt")+'"'+u+c+o.void_element_slash+">",(t=h=e.$attr("link"))===a||null==t||t.$$is_boolean&&1!=t||(d='<a class="image" href="'+h+'">'+d+"</a>"),g=function(){return(t=e.$id())===a||null==t||t.$$is_boolean&&1!=t?a:' id="'+e.$id()+'"'}(),b=["imageblock",e.$role()].$compact(),m=' class="'+n(b," ")+'"',y=[],(t=e["$attr?"]("align"))===a||null==t||t.$$is_boolean&&1!=t||y["$<<"]("text-align: "+e.$attr("align")),(t=e["$attr?"]("float"))===a||null==t||t.$$is_boolean&&1!=t||y["$<<"]("float: "+e.$attr("float")),v=function(){return(t=y["$empty?"]())===a||null==t||t.$$is_boolean&&1!=t?' style="'+n(y,";")+'"':a}(),w=function(){return(t=e["$title?"]())===a||null==t||t.$$is_boolean&&1!=t?a:'\n<div class="title">'+e.$captioned_title()+"</div>"}(),"<div"+g+m+v+'>\n<div class="content">\n'+d+"\n</div>"+w+"\n</div>"},O.$$arity=1),e.defn(ne,"$listing",S=function(e){var t,n=a,$=a,r=a,i=a,l=a,o=a,s=a,u=a,c=a,_=a;return n=(t=e.$document()["$attr?"]("prewrap")["$!"]())!==!1&&t!==a&&null!=t?t:e["$option?"]("nowrap"),e.$style()["$=="]("source")?(r=(t=$=e.$attr("language",a,!1))===a||null==t||t.$$is_boolean&&1!=t?a:' data-lang="'+$+'"',i=e.$document().$attr("source-highlighter"),"coderay"["$==="](i)?l=' class="CodeRay highlight'+function(){return n!==!1&&n!==a&&null!=n?" nowrap":a}()+'"':"pygments"["$==="](i)?l=' class="pygments highlight'+function(){return n!==!1&&n!==a&&null!=n?" nowrap":a}()+'"':"highlightjs"["$==="](i)||"highlight.js"["$==="](i)?(l=' class="highlightjs highlight'+function(){return n!==!1&&n!==a&&null!=n?" nowrap":a}()+'"',$!==!1&&$!==a&&null!=$&&(r=' class="language-'+$+'"'+r)):"prettify"["$==="](i)?(l=' class="prettyprint highlight'+function(){return n!==!1&&n!==a&&null!=n?" nowrap":a}()+function(){return(t=e["$attr?"]("linenums"))===a||null==t||t.$$is_boolean&&1!=t?a:" linenums"}()+'"',$!==!1&&$!==a&&null!=$&&(r=' class="language-'+$+'"'+r)):"html-pipeline"["$==="](i)?(l=function(){return $!==!1&&$!==a&&null!=$?' lang="'+$+'"':a}(),r=a):(l=' class="highlight'+function(){return n!==!1&&n!==a&&null!=n?" nowrap":a}()+'"',$!==!1&&$!==a&&null!=$&&(r=' class="language-'+$+'"'+r)),o="<pre"+l+"><code"+r+">",s="</code></pre>"):(o="<pre"+function(){return n!==!1&&n!==a&&null!=n?' class="nowrap"':a}()+">",s="</pre>"),u=function(){return(t=e.$id())===a||null==t||t.$$is_boolean&&1!=t?a:' id="'+e.$id()+'"'}(),c=function(){return(t=e["$title?"]())===a||null==t||t.$$is_boolean&&1!=t?a:'<div class="title">'+e.$captioned_title()+"</div>\n"}(),"<div"+u+' class="listingblock'+(t=_=e.$role(),t!==!1&&t!==a&&null!=t?" "+_:t)+'">\n'+c+'<div class="content">\n'+o+e.$content()+s+"\n</div>\n</div>"},S.$$arity=1),e.defn(ne,"$literal",R=function(e){var t,n=a,$=a,r=a,i=a;return n=function(){return(t=e.$id())===a||null==t||t.$$is_boolean&&1!=t?a:' id="'+e.$id()+'"'}(),$=function(){return(t=e["$title?"]())===a||null==t||t.$$is_boolean&&1!=t?a:'<div class="title">'+e.$title()+"</div>\n"}(),r=(t=e.$document()["$attr?"]("prewrap")["$!"]())!==!1&&t!==a&&null!=t?t:e["$option?"]("nowrap"),"<div"+n+' class="literalblock'+(t=i=e.$role(),t!==!1&&t!==a&&null!=t?" "+i:t)+'">\n'+$+'<div class="content">\n<pre'+function(){return r!==!1&&r!==a&&null!=r?' class="nowrap"':a}()+">"+e.$content()+"</pre>\n</div>\n</div>"},R.$$arity=1),e.defn(ne,"$stem",T=function(t){var $,r,i=a,l=a,o=a,s=a,u=a,c=a;return i=function(){return($=t.$id())===a||null==$||$.$$is_boolean&&1!=$?a:' id="'+t.$id()+'"'}(),l=function(){return($=t["$title?"]())===a||null==$||$.$$is_boolean&&1!=$?a:'<div class="title">'+t.$title()+"</div>\n"}(),r=re.get("BLOCK_MATH_DELIMITERS")["$[]"](t.$style().$to_sym()),$=e.to_ary(r),o=null==$[0]?a:$[0],s=null==$[1]?a:$[1],r,r=(u=t.$content())["$start_with?"](o),(($=r!==!1&&r!==a&&null!=r?u["$end_with?"](s):r)===a||null==$||$.$$is_boolean&&1!=$)&&(u=""+o+u+s),"<div"+i+' class="'+function(){return($=c=t.$role())===a||null==$||$.$$is_boolean&&1!=$?"stemblock":n(["stemblock",c]," ")}()+'">\n'+l+'<div class="content">\n'+u+"\n</div>\n</div>"},T.$$arity=1),e.defn(ne,"$olist",I=function(e){var t,$,r,i=this,l=a,o=a,s=a,u=a,c=a,_=a,p=a,d=a;return l=[],o=function(){return(t=e.$id())===a||null==t||t.$$is_boolean&&1!=t?a:' id="'+e.$id()+'"'}(),s=["olist",e.$style(),e.$role()].$compact(),u=' class="'+n(s," ")+'"',l["$<<"]("<div"+o+u+">"),(t=e["$title?"]())===a||null==t||t.$$is_boolean&&1!=t||l["$<<"]('<div class="title">'+e.$title()+"</div>"),c=function(){return(t=_=e.$list_marker_keyword())===a||null==t||t.$$is_boolean&&1!=t?a:' type="'+_+'"'}(),p=function(){return(t=e["$attr?"]("start"))===a||null==t||t.$$is_boolean&&1!=t?a:' start="'+e.$attr("start")+'"'}(),d=function(){return(t=e["$option?"]("reversed"))===a||null==t||t.$$is_boolean&&1!=t?a:i.$append_boolean_attribute("reversed",i.xml_mode)}(),l["$<<"]('<ol class="'+e.$style()+'"'+c+p+d+">"),(t=($=e.$items()).$each,t.$$p=(r=function(e){var t;r.$$s||this;return null==e&&(e=a),l["$<<"]("<li>"),l["$<<"]("<p>"+e.$text()+"</p>"),(t=e["$blocks?"]())===a||null==t||t.$$is_boolean&&1!=t||l["$<<"](e.$content()),l["$<<"]("</li>")},r.$$s=i,r.$$arity=1,r),t).call($),l["$<<"]("</ol>"),l["$<<"]("</div>"),n(l,re.get("EOL"))},I.$$arity=1),e.defn(ne,"$open",C=function(e){var t,n,r,i,l=this,o=a,s=a,u=a,c=a;return(o=e.$style())["$=="]("abstract")?(t=(n=e.$parent()["$=="](e.$document()))?e.$document().$doctype()["$=="]("book"):e.$parent()["$=="](e.$document()))===a||null==t||t.$$is_boolean&&1!=t?(s=function(){
return(t=e.$id())===a||null==t||t.$$is_boolean&&1!=t?a:' id="'+e.$id()+'"'}(),u=function(){return(t=e["$title?"]())===a||null==t||t.$$is_boolean&&1!=t?a:'<div class="title">'+e.$title()+"</div>\n"}(),"<div"+s+' class="quoteblock abstract'+(t=c=e.$role(),t!==!1&&t!==a&&null!=t?" "+c:t)+'">\n'+u+"<blockquote>\n"+e.$content()+"\n</blockquote>\n</div>"):(l.$warn("asciidoctor: WARNING: abstract block cannot be used in a document without a title when doctype is book. Excluding block content."),""):(t=(n=o["$=="]("partintro"))?(r=(i=$(e.$level(),0))!==!1&&i!==a&&null!=i?i:e.$parent().$context()["$!="]("section"))!==!1&&r!==a&&null!=r?r:e.$document().$doctype()["$!="]("book"):o["$=="]("partintro"))===a||null==t||t.$$is_boolean&&1!=t?(s=function(){return(t=e.$id())===a||null==t||t.$$is_boolean&&1!=t?a:' id="'+e.$id()+'"'}(),u=function(){return(t=e["$title?"]())===a||null==t||t.$$is_boolean&&1!=t?a:'<div class="title">'+e.$title()+"</div>\n"}(),"<div"+s+' class="openblock'+function(){return(t=(n=o!==!1&&o!==a&&null!=o)?o["$!="]("open"):o)===a||null==t||t.$$is_boolean&&1!=t?"":" "+o}()+(t=c=e.$role(),t!==!1&&t!==a&&null!=t?" "+c:t)+'">\n'+u+'<div class="content">\n'+e.$content()+"\n</div>\n</div>"):(l.$warn("asciidoctor: ERROR: partintro block can only be used when doctype is book and it's a child of a book part. Excluding block content."),"")},C.$$arity=1),e.defn(ne,"$page_break",N=function(e){return'<div style="page-break-after: always;"></div>'},N.$$arity=1),e.defn(ne,"$paragraph",M=function(e){var t,n=a,$=a;return n=function(){return(t=e.$role())===a||null==t||t.$$is_boolean&&1!=t?'class="paragraph"':'class="paragraph '+e.$role()+'"'}(),$=function(){return(t=e.$id())===a||null==t||t.$$is_boolean&&1!=t?n:'id="'+e.$id()+'" '+n}(),(t=e["$title?"]())===a||null==t||t.$$is_boolean&&1!=t?"<div "+$+">\n<p>"+e.$content()+"</p>\n</div>":"<div "+$+'>\n<div class="title">'+e.$title()+"</div>\n<p>"+e.$content()+"</p>\n</div>"},M.$$arity=1),e.defn(ne,"$preamble",L=function(e){var t,n,$,r=this,i=a,l=a;return $=(i=e.$document())["$attr?"]("toc-placement","preamble"),n=$!==!1&&$!==a&&null!=$?i["$sections?"]():$,l=(t=n!==!1&&n!==a&&null!=n?i["$attr?"]("toc"):n)===a||null==t||t.$$is_boolean&&1!=t?a:'\n<div id="toc" class="'+i.$attr("toc-class","toc")+'">\n<div id="toctitle">'+i.$attr("toc-title")+"</div>\n"+r.$outline(i)+"\n</div>",'<div id="preamble">\n<div class="sectionbody">\n'+e.$content()+"\n</div>"+l+"\n</div>"},L.$$arity=1),e.defn(ne,"$quote",z=function(e){var t,$,r=this,i=a,l=a,o=a,s=a,u=a,c=a,_=a,p=a,d=a;return i=function(){return(t=e.$id())===a||null==t||t.$$is_boolean&&1!=t?a:' id="'+e.$id()+'"'}(),l=["quoteblock",e.$role()].$compact(),o=' class="'+n(l," ")+'"',s=function(){return(t=e["$title?"]())===a||null==t||t.$$is_boolean&&1!=t?a:'\n<div class="title">'+e.$title()+"</div>"}(),u=function(){return(t=e["$attr?"]("attribution"))===a||null==t||t.$$is_boolean&&1!=t?a:e.$attr("attribution")}(),c=function(){return(t=e["$attr?"]("citetitle"))===a||null==t||t.$$is_boolean&&1!=t?a:e.$attr("citetitle")}(),(t=($=u)!==!1&&$!==a&&null!=$?$:c)===a||null==t||t.$$is_boolean&&1!=t?d=a:(_=function(){return c!==!1&&c!==a&&null!=c?"<cite>"+c+"</cite>":a}(),p=function(){return u!==!1&&u!==a&&null!=u?"&#8212; "+u+function(){return c!==!1&&c!==a&&null!=c?"<br"+r.void_element_slash+">\n":a}():a}(),d='\n<div class="attribution">\n'+p+_+"\n</div>"),"<div"+i+o+">"+s+"\n<blockquote>\n"+e.$content()+"\n</blockquote>"+d+"\n</div>"},z.$$arity=1),e.defn(ne,"$thematic_break",P=function(e){var t=this;return"<hr"+t.void_element_slash+">"},P.$$arity=1),e.defn(ne,"$sidebar",D=function(e){var t,$=a,r=a,i=a;return $=function(){return(t=e.$id())===a||null==t||t.$$is_boolean&&1!=t?a:' id="'+e.$id()+'"'}(),r=function(){return(t=e["$title?"]())===a||null==t||t.$$is_boolean&&1!=t?a:'<div class="title">'+e.$title()+"</div>\n"}(),"<div"+$+' class="'+function(){return(t=i=e.$role())===a||null==t||t.$$is_boolean&&1!=t?"sidebarblock":n(["sidebarblock",i]," ")}()+'">\n<div class="content">\n'+r+e.$content()+"\n</div>\n</div>"},D.$$arity=1),e.defn(ne,"$table",B=function(e){var t,r,i,l,o,s,u,c,_,p,d=this,f=a,h=a,g=a,b=a,m=a,y=a,v=a,w=a,k=a;return f=[],h=function(){return(t=e.$id())===a||null==t||t.$$is_boolean&&1!=t?a:' id="'+e.$id()+'"'}(),g=["tableblock","frame-"+e.$attr("frame","all"),"grid-"+e.$attr("grid","all")],b=[],r=e["$option?"]("autowidth"),((t=r!==!1&&r!==a&&null!=r?e["$attr?"]("width",a,!1)["$!"]():r)===a||null==t||t.$$is_boolean&&1!=t)&&((t=e["$attr?"]("tablepcwidth",100))===a||null==t||t.$$is_boolean&&1!=t?b["$<<"]("width: "+e.$attr("tablepcwidth")+"%;"):g["$<<"]("spread")),(t=m=e.$role())===a||null==t||t.$$is_boolean&&1!=t||g["$<<"](m),y=' class="'+n(g," ")+'"',(t=e["$attr?"]("float"))===a||null==t||t.$$is_boolean&&1!=t||b["$<<"]("float: "+e.$attr("float")+";"),v=function(){return(t=b["$empty?"]())===a||null==t||t.$$is_boolean&&1!=t?' style="'+n(b," ")+'"':a}(),f["$<<"]("<table"+h+y+v+">"),(t=e["$title?"]())===a||null==t||t.$$is_boolean&&1!=t||f["$<<"]('<caption class="title">'+e.$captioned_title()+"</caption>"),(t=$(e.$attr("rowcount"),0))===a||null==t||t.$$is_boolean&&1!=t||(w=d.void_element_slash,f["$<<"]("<colgroup>"),(t=e["$option?"]("autowidth"))===a||null==t||t.$$is_boolean&&1!=t?(t=(l=e.$columns()).$each,t.$$p=(o=function(e){o.$$s||this;return null==e&&(e=a),f["$<<"]('<col style="width: '+e.$attr("colpcwidth")+'%;"'+w+">")},o.$$s=d,o.$$arity=1,o),t).call(l):(k="<col"+w+">",(t=(r=e.$columns().$size()).$times,t.$$p=(i=function(){i.$$s||this;return f["$<<"](k)},i.$$s=d,i.$$arity=0,i),t).call(r)),f["$<<"]("</colgroup>"),(t=(s=(c=(_=["head","foot","body"]).$select,c.$$p=(p=function(t){p.$$s||this;return null==t&&(t=a),e.$rows()["$[]"](t)["$empty?"]()["$!"]()},p.$$s=d,p.$$arity=1,p),c).call(_)).$each,t.$$p=(u=function(t){var n,$,r,i=u.$$s||this;return null==t&&(t=a),f["$<<"]("<t"+t+">"),(n=($=e.$rows()["$[]"](t)).$each,n.$$p=(r=function(n){var $,i,l,o=r.$$s||this;return null==n&&(n=a),f["$<<"]("<tr>"),($=(i=n).$each,$.$$p=(l=function(n){var $,r,i,o,s=l.$$s||this,u=a,c=a,_=a,p=a,d=a,h=a,g=a;return null==n&&(n=a),t["$=="]("head")?u=n.$text():(c=n.$style(),"asciidoc"["$==="](c)?u="<div>"+n.$content()+"</div>":"verse"["$==="](c)?u='<div class="verse">'+n.$text()+"</div>":"literal"["$==="](c)?u='<div class="literal"><pre>'+n.$text()+"</pre></div>":(u="",($=(r=n.$content()).$each,$.$$p=(i=function(e){i.$$s||this;return null==e&&(e=a),u=""+u+'<p class="tableblock">'+e+"</p>"},i.$$s=s,i.$$arity=1,i),$).call(r))),_=function(){return($=(o=t["$=="]("head"))!==!1&&o!==a&&null!=o?o:n.$style()["$=="]("header"))===a||null==$||$.$$is_boolean&&1!=$?"td":"th"}(),p=' class="tableblock halign-'+n.$attr("halign")+" valign-"+n.$attr("valign")+'"',d=function(){return($=n.$colspan())===a||null==$||$.$$is_boolean&&1!=$?a:' colspan="'+n.$colspan()+'"'}(),h=function(){return($=n.$rowspan())===a||null==$||$.$$is_boolean&&1!=$?a:' rowspan="'+n.$rowspan()+'"'}(),g=function(){return($=e.$document()["$attr?"]("cellbgcolor"))===a||null==$||$.$$is_boolean&&1!=$?a:' style="background-color: '+e.$document().$attr("cellbgcolor")+';"'}(),f["$<<"]("<"+_+p+d+h+g+">"+u+"</"+_+">")},l.$$s=o,l.$$arity=1,l),$).call(i),f["$<<"]("</tr>")},r.$$s=i,r.$$arity=1,r),n).call($),f["$<<"]("</t"+t+">")},u.$$s=d,u.$$arity=1,u),t).call(s)),f["$<<"]("</table>"),n(f,re.get("EOL"))},B.$$arity=1),e.defn(ne,"$toc",q=function(e){var t,n,$,r=this,i=a,l=a,o=a,s=a,u=a,_=a;return $=(i=e.$document())["$attr?"]("toc-placement","macro"),n=$!==!1&&$!==a&&null!=$?i["$sections?"]():$,(t=n!==!1&&n!==a&&null!=n?i["$attr?"]("toc"):n)===a||null==t||t.$$is_boolean&&1!=t?"<!-- toc disabled -->":((t=e.$id())===a||null==t||t.$$is_boolean&&1!=t?(l=' id="toc"',o=' id="toctitle"'):(l=' id="'+e.$id()+'"',o=' id="'+e.$id()+'title"'),s=function(){return(t=e["$title?"]())===a||null==t||t.$$is_boolean&&1!=t?i.$attr("toc-title"):e.$title()}(),u=function(){return(t=e["$attr?"]("levels"))===a||null==t||t.$$is_boolean&&1!=t?a:e.$attr("levels").$to_i()}(),_=function(){return(t=e["$role?"]())===a||null==t||t.$$is_boolean&&1!=t?i.$attr("toc-class","toc"):e.$role()}(),"<div"+l+' class="'+_+'">\n<div'+o+' class="title">'+s+"</div>\n"+r.$outline(i,c(["toclevels"],{toclevels:u}))+"\n</div>")},q.$$arity=1),e.defn(ne,"$ulist",j=function(e){var t,$,r,i=this,l=a,o=a,s=a,u=a,c=a,_=a,p=a;return l=[],o=function(){return(t=e.$id())===a||null==t||t.$$is_boolean&&1!=t?a:' id="'+e.$id()+'"'}(),s=["ulist",e.$style(),e.$role()].$compact(),u=a,c=a,(t=_=e["$option?"]("checklist"))===a||null==t||t.$$is_boolean&&1!=t?p=function(){return(t=e.$style())===a||null==t||t.$$is_boolean&&1!=t?a:' class="'+e.$style()+'"'}():(s.$insert(1,"checklist"),p=' class="checklist"',(t=e["$option?"]("interactive"))===a||null==t||t.$$is_boolean&&1!=t?(t=e.$document()["$attr?"]("icons","font"))===a||null==t||t.$$is_boolean&&1!=t?(u="&#10003; ",c="&#10063; "):(u='<i class="fa fa-check-square-o"></i> ',c='<i class="fa fa-square-o"></i> '):(t=i.xml_mode)===a||null==t||t.$$is_boolean&&1!=t?(u='<input type="checkbox" data-item-complete="1" checked> ',c='<input type="checkbox" data-item-complete="0"> '):(u='<input type="checkbox" data-item-complete="1" checked="checked"/> ',c='<input type="checkbox" data-item-complete="0"/> ')),l["$<<"]("<div"+o+' class="'+n(s," ")+'">'),(t=e["$title?"]())===a||null==t||t.$$is_boolean&&1!=t||l["$<<"]('<div class="title">'+e.$title()+"</div>"),l["$<<"]("<ul"+p+">"),(t=($=e.$items()).$each,t.$$p=(r=function(e){var t,n;r.$$s||this;return null==e&&(e=a),l["$<<"]("<li>"),(t=(n=_!==!1&&_!==a&&null!=_)?e["$attr?"]("checkbox"):_)===a||null==t||t.$$is_boolean&&1!=t?l["$<<"]("<p>"+e.$text()+"</p>"):l["$<<"]("<p>"+function(){return(t=e["$attr?"]("checked"))===a||null==t||t.$$is_boolean&&1!=t?c:u}()+e.$text()+"</p>"),(t=e["$blocks?"]())===a||null==t||t.$$is_boolean&&1!=t||l["$<<"](e.$content()),l["$<<"]("</li>")},r.$$s=i,r.$$arity=1,r),t).call($),l["$<<"]("</ul>"),l["$<<"]("</div>"),n(l,re.get("EOL"))},j.$$arity=1),e.defn(ne,"$verse",F=function(e){var t,$,r=this,i=a,l=a,o=a,s=a,u=a,c=a,_=a,p=a,d=a;return i=function(){return(t=e.$id())===a||null==t||t.$$is_boolean&&1!=t?a:' id="'+e.$id()+'"'}(),l=["verseblock",e.$role()].$compact(),o=' class="'+n(l," ")+'"',s=function(){return(t=e["$title?"]())===a||null==t||t.$$is_boolean&&1!=t?a:'\n<div class="title">'+e.$title()+"</div>"}(),u=function(){return(t=e["$attr?"]("attribution"))===a||null==t||t.$$is_boolean&&1!=t?a:e.$attr("attribution")}(),c=function(){return(t=e["$attr?"]("citetitle"))===a||null==t||t.$$is_boolean&&1!=t?a:e.$attr("citetitle")}(),(t=($=u)!==!1&&$!==a&&null!=$?$:c)===a||null==t||t.$$is_boolean&&1!=t?d=a:(_=function(){return c!==!1&&c!==a&&null!=c?"<cite>"+c+"</cite>":a}(),p=function(){return u!==!1&&u!==a&&null!=u?"&#8212; "+u+function(){return c!==!1&&c!==a&&null!=c?"<br"+r.void_element_slash+">\n":a}():a}(),d='\n<div class="attribution">\n'+p+_+"\n</div>"),"<div"+i+o+">"+s+'\n<pre class="content">'+e.$content()+"</pre>"+d+"\n</div>"},F.$$arity=1),e.defn(ne,"$video",U=function(t){var $,r,i=this,l=a,o=a,s=a,u=a,c=a,_=a,p=a,d=a,f=a,h=a,g=a,b=a,m=a,y=a,v=a,w=a,k=a,x=a,E=a,A=a,O=a,S=a,R=a,T=a,I=a,C=a,N=a,M=a,L=a,z=a,P=a;return l=i.xml_mode,o=function(){return($=t.$id())===a||null==$||$.$$is_boolean&&1!=$?a:' id="'+t.$id()+'"'}(),s=["videoblock",t.$role()].$compact(),u=' class="'+n(s," ")+'"',c=function(){return($=t["$title?"]())===a||null==$||$.$$is_boolean&&1!=$?a:'\n<div class="title">'+t.$captioned_title()+"</div>"}(),_=function(){return($=t["$attr?"]("width"))===a||null==$||$.$$is_boolean&&1!=$?a:' width="'+t.$attr("width")+'"'}(),p=function(){return($=t["$attr?"]("height"))===a||null==$||$.$$is_boolean&&1!=$?a:' height="'+t.$attr("height")+'"'}(),function(){return d=t.$attr("poster"),"vimeo"["$==="](d)?((($=(f=t.$document().$attr("asset-uri-scheme","https"))["$empty?"]())===a||null==$||$.$$is_boolean&&1!=$)&&(f=""+f+":"),h=function(){return($=t["$attr?"]("start",a,!1))===a||null==$||$.$$is_boolean&&1!=$?a:"#at="+t.$attr("start")}(),g="?",b=function(){return($=t["$option?"]("autoplay"))===a||null==$||$.$$is_boolean&&1!=$?a:""+g+"autoplay=1"}(),b!==!1&&b!==a&&null!=b&&(g="&amp;"),m=function(){return($=t["$option?"]("loop"))===a||null==$||$.$$is_boolean&&1!=$?a:""+g+"loop=1"}(),"<div"+o+u+">"+c+'\n<div class="content">\n<iframe'+_+p+' src="'+f+"//player.vimeo.com/video/"+t.$attr("target")+h+b+m+'" frameborder="0"'+function(){return($=t["$option?"]("nofullscreen"))===a||null==$||$.$$is_boolean&&1!=$?i.$append_boolean_attribute("allowfullscreen",l):a}()+"></iframe>\n</div>\n</div>"):"youtube"["$==="](d)?((($=(f=t.$document().$attr("asset-uri-scheme","https"))["$empty?"]())===a||null==$||$.$$is_boolean&&1!=$)&&(f=""+f+":"),y=function(){return($=t["$option?"]("related"))===a||null==$||$.$$is_boolean&&1!=$?0:1}(),v=function(){return($=t["$attr?"]("start",a,!1))===a||null==$||$.$$is_boolean&&1!=$?a:"&amp;start="+t.$attr("start")}(),w=function(){return($=t["$attr?"]("end",a,!1))===a||null==$||$.$$is_boolean&&1!=$?a:"&amp;end="+t.$attr("end")}(),b=function(){return($=t["$option?"]("autoplay"))===a||null==$||$.$$is_boolean&&1!=$?a:"&amp;autoplay=1"}(),m=function(){return($=t["$option?"]("loop"))===a||null==$||$.$$is_boolean&&1!=$?a:"&amp;loop=1"}(),k=function(){return($=t["$option?"]("nocontrols"))===a||null==$||$.$$is_boolean&&1!=$?a:"&amp;controls=0"}(),($=t["$option?"]("nofullscreen"))===a||null==$||$.$$is_boolean&&1!=$?(x=a,E=i.$append_boolean_attribute("allowfullscreen",l)):(x="&amp;fs=0",E=a),A=function(){return($=t["$option?"]("modest"))===a||null==$||$.$$is_boolean&&1!=$?a:"&amp;modestbranding=1"}(),O=function(){return($=t["$attr?"]("theme",a,!1))===a||null==$||$.$$is_boolean&&1!=$?a:"&amp;theme="+t.$attr("theme")}(),S=function(){return($=t["$attr?"]("lang"))===a||null==$||$.$$is_boolean&&1!=$?a:"&amp;hl="+t.$attr("lang")}(),r=t.$attr("target").$split("/",2),$=e.to_ary(r),R=null==$[0]?a:$[0],T=null==$[1]?a:$[1],r,($=(r=T)!==!1&&r!==a&&null!=r?r:T=t.$attr("list",a,!1))===a||null==$||$.$$is_boolean&&1!=$?(r=R.$split(",",2),$=e.to_ary(r),R=null==$[0]?a:$[0],C=null==$[1]?a:$[1],r,I=($=(r=C)!==!1&&r!==a&&null!=r?r:C=t.$attr("playlist",a,!1))===a||null==$||$.$$is_boolean&&1!=$?function(){return m!==!1&&m!==a&&null!=m?"&amp;playlist="+R:a}():"&amp;playlist="+C):I="&amp;list="+T,"<div"+o+u+">"+c+'\n<div class="content">\n<iframe'+_+p+' src="'+f+"//www.youtube.com/embed/"+R+"?rel="+y+v+w+b+m+k+I+x+A+O+S+'" frameborder="0"'+E+"></iframe>\n</div>\n</div>"):(N=function(){return($=(""+(M=t.$attr("poster")))["$empty?"]())===a||null==$||$.$$is_boolean&&1!=$?' poster="'+t.$media_uri(M)+'"':a}(),L=t.$attr("start",a,!1),z=t.$attr("end",a,!1),P=function(){return($=(r=L)!==!1&&r!==a&&null!=r?r:z)===a||null==$||$.$$is_boolean&&1!=$?a:"#t="+L+function(){return z!==!1&&z!==a&&null!=z?",":a}()+z}(),"<div"+o+u+">"+c+'\n<div class="content">\n<video src="'+t.$media_uri(t.$attr("target"))+P+'"'+_+p+N+function(){return($=t["$option?"]("autoplay"))===a||null==$||$.$$is_boolean&&1!=$?a:i.$append_boolean_attribute("autoplay",l)}()+function(){return($=t["$option?"]("nocontrols"))===a||null==$||$.$$is_boolean&&1!=$?i.$append_boolean_attribute("controls",l):a}()+function(){return($=t["$option?"]("loop"))===a||null==$||$.$$is_boolean&&1!=$?a:i.$append_boolean_attribute("loop",l)}()+">\nYour browser does not support the video tag.\n</video>\n</div>\n</div>")}()},U.$$arity=1),e.defn(ne,"$inline_anchor",G=function(e){var t,n,$=this,r=a,i=a,l=a,o=a,s=a,u=a;return r=e.$target(),function(){return i=e.$type(),"xref"["$==="](i)?(l=(t=e.$attributes()["$[]"]("refid"))!==!1&&t!==a&&null!=t?t:r,o=(t=e.$text())!==!1&&t!==a&&null!=t?t:(n=e.$document().$references()["$[]"]("ids")["$[]"](l))!==!1&&n!==a&&null!=n?n:"["+l+"]",'<a href="'+r+'">'+o+"</a>"):"ref"["$==="](i)?'<a id="'+r+'"></a>':"link"["$==="](i)?(s=[],(t=e.$id())===a||null==t||t.$$is_boolean&&1!=t||s["$<<"](' id="'+e.$id()+'"'),(t=u=e.$role())===a||null==t||t.$$is_boolean&&1!=t||s["$<<"](' class="'+u+'"'),(t=e["$attr?"]("title",a,!1))===a||null==t||t.$$is_boolean&&1!=t||s["$<<"](' title="'+e.$attr("title")+'"'),(t=e["$attr?"]("window",a,!1))===a||null==t||t.$$is_boolean&&1!=t||s["$<<"](' target="'+e.$attr("window")+'"'),'<a href="'+r+'"'+s.$join()+">"+e.$text()+"</a>"):"bibref"["$==="](i)?'<a id="'+r+'"></a>['+r+"]":$.$warn("asciidoctor: WARNING: unknown anchor type: "+e.$type().$inspect())}()},G.$$arity=1),e.defn(ne,"$inline_break",H=function(e){var t=this;return""+e.$text()+"<br"+t.void_element_slash+">"},H.$$arity=1),e.defn(ne,"$inline_button",Y=function(e){return'<b class="button">'+e.$text()+"</b>"},Y.$$arity=1),e.defn(ne,"$inline_callout",K=function(e){var t,n=this,$=a;return(t=e.$document()["$attr?"]("icons","font"))===a||null==t||t.$$is_boolean&&1!=t?(t=e.$document()["$attr?"]("icons"))===a||null==t||t.$$is_boolean&&1!=t?'<b class="conum">('+e.$text()+")</b>":($=e.$icon_uri("callouts/"+e.$text()),'<img src="'+$+'" alt="'+e.$text()+'"'+n.void_element_slash+">"):'<i class="conum" data-value="'+e.$text()+'"></i><b>('+e.$text()+")</b>"},K.$$arity=1),e.defn(ne,"$inline_footnote",W=function(e){var t,n=a,$=a;return(t=n=e.$attr("index"))===a||null==t||t.$$is_boolean&&1!=t?e.$type()["$=="]("xref")?'<sup class="footnoteref red" title="Unresolved footnote reference.">['+e.$text()+"]</sup>":a:e.$type()["$=="]("xref")?'<sup class="footnoteref">[<a class="footnote" href="#_footnote_'+n+'" title="View footnote.">'+n+"</a>]</sup>":($=function(){return(t=e.$id())===a||null==t||t.$$is_boolean&&1!=t?a:' id="_footnote_'+e.$id()+'"'}(),'<sup class="footnote"'+$+'>[<a id="_footnoteref_'+n+'" class="footnote" href="#_footnote_'+n+'" title="View footnote.">'+n+"</a>]</sup>")},W.$$arity=1),e.defn(ne,"$inline_image",X=function(e){var t,n,$,r,l,o,s,u,_,p=this,d=a,f=a,h=a,g=a,b=a,m=a,y=a,v=a,w=a,k=a,x=a,E=a;return(t=(n=(d=e.$type())["$=="]("icon"))?e.$document()["$attr?"]("icons","font"):(d=e.$type())["$=="]("icon"))===a||null==t||t.$$is_boolean&&1!=t?(t=(r=d["$=="]("icon"))?e.$document()["$attr?"]("icons")["$!"]():d["$=="]("icon"))===a||null==t||t.$$is_boolean&&1!=t?(b=e.$target(),m=(t=(r=["width","height","title"]).$map,t.$$p=(l=function(t){var n;l.$$s||this;return null==t&&(t=a),(n=e["$attr?"](t))===a||null==n||n.$$is_boolean&&1!=n?a:" "+t+'="'+e.$attr(t)+'"'},l.$$s=p,l.$$arity=1,l),t).call(r).$join(),u=d["$!="]("icon"),s=u!==!1&&u!==a&&null!=u?(_=e["$attr?"]("format","svg",!1))!==!1&&_!==a&&null!=_?_:b["$include?"](".svg"):u,o=s!==!1&&s!==a&&null!=s?i(e.$document().$safe(),re.get("SafeMode").$$scope.get("SECURE")):s,(t=o!==!1&&o!==a&&null!=o?(s=y=e["$option?"]("inline"))!==!1&&s!==a&&null!=s?s:v=e["$option?"]("interactive"):o)===a||null==t||t.$$is_boolean&&1!=t||(y!==!1&&y!==a&&null!=y?g=(t=p.$read_svg_contents(e,b))!==!1&&t!==a&&null!=t?t:'<span class="alt">'+e.$attr("alt")+"</span>":v!==!1&&v!==a&&null!=v&&(w=function(){return(t=e["$attr?"]("fallback"))===a||null==t||t.$$is_boolean&&1!=t?'<span class="alt">'+e.$attr("alt")+"</span>":'<img src="'+e.$image_uri(e.$attr("fallback"))+'" alt="'+e.$attr("alt")+'"'+m+p.void_element_slash+">"}(),g='<object type="image/svg+xml" data="'+e.$image_uri(b)+'"'+m+">"+w+"</object>")),(t=g)!==!1&&t!==a&&null!=t?t:g='<img src="'+function(){return d["$=="]("icon")?e.$icon_uri(b):e.$image_uri(b)}()+'" alt="'+e.$attr("alt")+'"'+m+p.void_element_slash+">"):g="["+e.$attr("alt")+"]":(f="fa fa-"+e.$target(),(t=(n=c(["size","rotate","flip"],{size:"fa-",rotate:"fa-rotate-",flip:"fa-flip-"})).$each,t.$$p=($=function(t,n){var r;$.$$s||this;return null==t&&(t=a),null==n&&(n=a),(r=e["$attr?"](t))===a||null==r||r.$$is_boolean&&1!=r?a:f=""+f+" "+n+e.$attr(t)},$.$$s=p,$.$$arity=2,$),t).call(n),h=function(){return(t=e["$attr?"]("title"))===a||null==t||t.$$is_boolean&&1!=t?a:' title="'+e.$attr("title")+'"'}(),g='<i class="'+f+'"'+h+"></i>"),(t=e["$attr?"]("link"))===a||null==t||t.$$is_boolean&&1!=t||(k=function(){return(t=e["$attr?"]("window"))===a||null==t||t.$$is_boolean&&1!=t?a:' target="'+e.$attr("window")+'"'}(),g='<a class="image" href="'+e.$attr("link")+'"'+k+">"+g+"</a>"),f=function(){return(t=x=e.$role())===a||null==t||t.$$is_boolean&&1!=t?d:""+d+" "+x}(),E=function(){return(t=e["$attr?"]("float"))===a||null==t||t.$$is_boolean&&1!=t?a:' style="float: '+e.$attr("float")+'"'}(),'<span class="'+f+'"'+E+">"+g+"</span>"},X.$$arity=1),e.defn(ne,"$inline_indexterm",V=function(e){return e.$type()["$=="]("visible")?e.$text():""},V.$$arity=1),e.defn(ne,"$inline_kbd",J=function(e){var t,n,$,r=this,i=a,l=a;return(i=e.$attr("keys")).$size()["$=="](1)?"<kbd>"+i["$[]"](0)+"</kbd>":(l=(t=(n=i).$map,t.$$p=($=function(e){$.$$s||this;return null==e&&(e=a),"<kbd>"+e+"</kbd>+"},$.$$s=r,$.$$arity=1,$),t).call(n).$join().$chop(),'<span class="keyseq">'+l+"</span>")},J.$$arity=1),e.defn(ne,"$inline_menu",Z=function(e){var t,n,$,r=this,i=a,l=a,o=a,s=a;return i=e.$attr("menu"),(t=(l=e.$attr("submenus"))["$empty?"]()["$!"]())===a||null==t||t.$$is_boolean&&1!=t?(t=s=e.$attr("menuitem"))===a||null==t||t.$$is_boolean&&1!=t?'<span class="menu">'+i+"</span>":'<span class="menuseq"><span class="menu">'+i+'</span>&#160;&#9656; <span class="menuitem">'+s+"</span></span>":(o=(t=(n=l).$map,t.$$p=($=function(e){$.$$s||this;return null==e&&(e=a),'<span class="submenu">'+e+"</span>&#160;&#9656; "},$.$$s=r,$.$$arity=1,$),t).call(n).$join().$chop(),'<span class="menuseq"><span class="menu">'+i+"</span>&#160;&#9656; "+o+' <span class="menuitem">'+e.$attr("menuitem")+"</span></span>")},Z.$$arity=1),e.defn(ne,"$inline_quoted",Q=function(t){var n,$,r=a,i=a,l=a,o=a,s=a;return $=re.get("QUOTE_TAGS")["$[]"](t.$type()),n=e.to_ary($),r=null==n[0]?a:n[0],i=null==n[1]?a:n[1],l=null==n[2]?a:n[2],$,s=(n=o=t.$role())===a||null==n||n.$$is_boolean&&1!=n?""+r+t.$text()+i:l!==!1&&l!==a&&null!=l?""+r.$chop()+' class="'+o+'">'+t.$text()+i:'<span class="'+o+'">'+r+t.$text()+i+"</span>",(n=t.$id())===a||null==n||n.$$is_boolean&&1!=n?s:'<a id="'+t.$id()+'"></a>'+s},Q.$$arity=1),e.defn(ne,"$append_boolean_attribute",ee=function(e,t){return t!==!1&&t!==a&&null!=t?" "+e+'="'+e+'"':" "+e},ee.$$arity=2),e.defn(ne,"$read_svg_contents",te=function(e,t){var n,$,r,i=this,l=a,o=a,s=a;return(n=l=e.$read_contents(t,c(["start","normalize","label"],{start:e.$document().$attr("imagesdir"),normalize:!0,label:"SVG"})))===a||null==n||n.$$is_boolean&&1!=n||(((n=l["$start_with?"]("<svg"))===a||null==n||n.$$is_boolean&&1!=n)&&(l=l.$sub(re.get("SvgPreambleRx"),"")),o=s=a,(n=($=["width","height"]).$each,n.$$p=(r=function(t){var n;r.$$s||this;return null==t&&(t=a),(n=e["$attr?"](t))===a||null==n||n.$$is_boolean&&1!=n?a:(s!==!1&&s!==a&&null!=s||(s=(o=l.$match(re.get("SvgStartTagRx"))["$[]"](0)).$gsub(re.get("DimensionAttributeRx"),"")),s=""+s.$chop()+" "+t+'="'+e.$attr(t)+'px">')},r.$$s=i,r.$$arity=1,r),n).call($),s!==!1&&s!==a&&null!=s&&(l=""+s+l["$[]"](_(o.$length(),-1,!1)))),l},te.$$arity=2),a&&"read_svg_contents"}(f.get("Converter"),f.get("Converter").$$scope.get("BuiltIn"))}(o.base)},Opal.modules["asciidoctor/opal_ext/string"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}var n=(e.top,e),$=e.nil,r=(e.breaker,e.slice,e.klass);return e.add_stubs(["$method_defined?","$<","$length","$bytes","$to_s","$byteslice"]),function(n,i){function l(){}var o,a,s=l=r(n,i,"String",l);s.$$proto,s.$$scope;return(o=s["$method_defined?"]("limit"))===$||null==o||o.$$is_boolean&&1!=o?(e.defn(s,"$limit",a=function(e){var n,r=this,i=$;return(n=t(e,r.$bytes().$length()))===$||null==n||n.$$is_boolean&&1!=n?r.$to_s():(i=r.$byteslice(0,e),i.$to_s())},a.$$arity=1),$&&"limit"):$}(n.base,null)},Opal.modules["asciidoctor/extensions"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var i=(e.top,e),l=e.nil,o=(e.breaker,e.slice,e.module),a=e.klass,s=e.hash2,u=e.range,c=e.hash;return e.add_stubs(["$[]=","$config","$nil_or_empty?","$name","$grep","$constants","$include","$const_get","$extend","$attr_reader","$merge","$class","$update","$raise","$new","$create_block","$===","$has_more_lines?","$next_block","$dup","$<<","$each","$define_method","$send","$insert","$call","$attr_accessor","$[]","$option","$to_set","$flatten","$resolve_regexp","$==","$attr","$method","$register","$arity","$instance_exec","$to_proc","$activate","$+","$values","$groups","$add_document_processor","$!","$any?","$select","$add_syntax_processor","$to_sym","$include?","$private","$tr","$to_s","$join","$map","$upcase","$chr","$split","$instance_variable_get","$instance_variable_set","$resolve_args","$freeze","$process_block_given?","$source_location","$class_for_name","$<","$update_config","$unshift","$as_symbol","$name=","$pop","$size","$>","$-","$fill","$-@","$next_auto_id","$generate_name","$length","$empty?","$const_defined?"]),function(i){var _,p=_=o(i,"Asciidoctor"),d=(p.$$proto,p.$$scope);!function(i){var _,p=_=o(i,"Extensions"),d=(p.$$proto,p.$$scope);!function(t,n){function $(){}var r,i,o,u,c,_,p,d,f,h,g=$=a(t,n,"Processor",$),b=g.$$proto,m=g.$$scope;return b.config=l,function(t){var n,$,r;t.$$scope,t.$$proto;return e.defn(t,"$config",n=function(){var e,t=this;return null==t.config&&(t.config=l),(e=t.config)!==!1&&e!==l&&null!=e?e:t.config=s([],{})},n.$$arity=0),e.defn(t,"$option",$=function(e,t){var n=this;return n.$config()["$[]="](e,t)},$.$$arity=2),e.defn(t,"$use_dsl",r=function(){var e,t=this;return(e=t.$name()["$nil_or_empty?"]())===l||null==e||e.$$is_boolean&&1!=e?(e=t.$constants().$grep("DSL"))===l||null==e||e.$$is_boolean&&1!=e?l:t.$extend(t.$const_get("DSL")):(e=t.$constants().$grep("DSL"))===l||null==e||e.$$is_boolean&&1!=e?l:t.$include(t.$const_get("DSL"))},r.$$arity=0),e.alias(t,"extend_dsl","use_dsl"),e.alias(t,"include_dsl","use_dsl")}(e.get_singleton_class(g)),g.$attr_reader("config"),e.defn(g,"$initialize",r=function(e){var t=this;return null==e&&(e=s([],{})),t.config=t.$class().$config().$merge(e)},r.$$arity=-1),e.defn(g,"$update_config",i=function(e){var t=this;return t.config.$update(e)},i.$$arity=1),e.defn(g,"$process",o=function(t){var n,$=this,r=arguments.length,i=r-0;i<0&&(i=0),n=new Array(i);for(var l=0;l<r;l++)n[l-0]=arguments[l];return $.$raise(e.get("NotImplementedError"))},o.$$arity=-1),e.defn(g,"$create_block",u=function(e,t,n,$,r){return null==r&&(r=s([],{})),m.get("Block").$new(e,t,s(["source","attributes"],{source:n,attributes:$}).$merge(r))},u.$$arity=-5),e.defn(g,"$create_image_block",c=function(e,t,n){var $=this;return null==n&&(n=s([],{})),$.$create_block(e,"image",l,t,n)},c.$$arity=-3),e.defn(g,"$create_inline",_=function(e,t,n,$){return null==$&&($=s([],{})),m.get("Inline").$new(e,t,n,$)},_.$$arity=-4),e.defn(g,"$parse_content",p=function(e,t,n){var $,r,i=l,o=l;for(null==n&&(n=l),i=function(){return($=m.get("Reader")["$==="](t))===l||null==$||$.$$is_boolean&&1!=$?m.get("Reader").$new(t):t}();(r=i["$has_more_lines?"]())!==l&&null!=r&&(!r.$$is_boolean||1==r);)o=m.get("Parser").$next_block(i,e,function(){return n!==!1&&n!==l&&null!=n?n.$dup():s([],{})}()),o!==!1&&o!==l&&null!=o&&e["$<<"](o);return e},p.$$arity=-3),(d=(f=[["create_paragraph","create_block","paragraph"],["create_open_block","create_block","open"],["create_example_block","create_block","example"],["create_pass_block","create_block","pass"],["create_listing_block","create_block","listing"],["create_literal_block","create_block","literal"],["create_anchor","create_inline","anchor"]]).$each,d.$$p=(h=function(t,n,$){var r,i,o,a=h.$$s||this;return null==t&&(t=l),null==n&&(n=l),null==$&&($=l),(r=(i=a).$define_method,r.$$p=(o=function(t){var r,i,l=o.$$s||this,a=arguments.length,s=a-0;s<0&&(s=0),r=new Array(s);for(var u=0;u<a;u++)r[u-0]=arguments[u];return(i=l).$send.apply(i,[n].concat(e.to_a(r.$dup().$insert(1,$))))},o.$$s=a,o.$$arity=-1,o),r).call(i,t)},h.$$s=g,h.$$arity=3,h),d).call(f)}(d.base,null),function(t){var n,$,r,i,a=n=o(t,"ProcessorDsl");a.$$proto,a.$$scope;e.defn(a,"$option",$=function(e,t){var n=this;return n.$config()["$[]="](e,t)},$.$$arity=2),e.defn(a,"$process",r=function(t){var n,$,i=this,o=r.$$p,a=o||l;null==i.process_block&&(i.process_block=l);var s=arguments.length,u=s-0;u<0&&(u=0),$=new Array(u);for(var c=0;c<s;c++)$[c-0]=arguments[c];return r.$$p=null,a!==l?i.process_block=a:(n=i.process_block)===l||null==n||n.$$is_boolean&&1!=n?i.$raise(e.get("NotImplementedError")):(n=i.process_block).$call.apply(n,e.to_a($))},r.$$arity=-1),e.defn(a,"$process_block_given?",i=function(){var e,t=this;return e=t.process_block,null!=e&&e!==l?"instance-variable":l},i.$$arity=0)}(d.base),function(t,n){function $(){}var r,i=$=a(t,n,"Preprocessor",$);i.$$proto,i.$$scope;return e.defn(i,"$process",r=function(t,n){var $=this;return $.$raise(e.get("NotImplementedError"))},r.$$arity=2),l&&"process"}(d.base,d.get("Processor")),e.casgn(d.get("Preprocessor"),"DSL",d.get("ProcessorDsl")),function(t,n){function $(){}var r,i=$=a(t,n,"Treeprocessor",$);i.$$proto,i.$$scope;return e.defn(i,"$process",r=function(t){var n=this;return n.$raise(e.get("NotImplementedError"))},r.$$arity=1),l&&"process"}(d.base,d.get("Processor")),e.casgn(d.get("Treeprocessor"),"DSL",d.get("ProcessorDsl")),function(t,n){function $(){}var r,i=$=a(t,n,"Postprocessor",$);i.$$proto,i.$$scope;return e.defn(i,"$process",r=function(t,n){var $=this;return $.$raise(e.get("NotImplementedError"))},r.$$arity=2),l&&"process"}(d.base,d.get("Processor")),e.casgn(d.get("Postprocessor"),"DSL",d.get("ProcessorDsl")),function(t,n){function $(){}var r,i,o=$=a(t,n,"IncludeProcessor",$);o.$$proto,o.$$scope;return e.defn(o,"$process",r=function(t,n,$,r){var i=this;return i.$raise(e.get("NotImplementedError"))},r.$$arity=4),e.defn(o,"$handles?",i=function(e){return!0},i.$$arity=1),l&&"handles?"}(d.base,d.get("Processor")),e.casgn(d.get("IncludeProcessor"),"DSL",d.get("ProcessorDsl")),function(t,n){function $(){}var r,i,o=$=a(t,n,"DocinfoProcessor",$),u=o.$$proto;o.$$scope;return u.config=l,o.$attr_accessor("location"),e.defn(o,"$initialize",r=function(t){var n,$,i,o,a=this;r.$$p;return null==t&&(t=s([],{})),r.$$p=null,($=a,n=e.find_super_dispatcher(a,"initialize",r,!1),n.$$p=null,n).call($,t),n="location",i=a.config,(o=i["$[]"](n))!==!1&&o!==l&&null!=o?o:i["$[]="](n,"head")},r.$$arity=-1),e.defn(o,"$process",i=function(t){var n=this;return n.$raise(e.get("NotImplementedError"))},i.$$arity=1),l&&"process"}(d.base,d.get("Processor")),function(t){var n,$,r=n=o(t,"DocinfoProcessorDsl"),i=(r.$$proto,r.$$scope);r.$include(i.get("ProcessorDsl")),e.defn(r,"$at_location",$=function(e){var t=this;return t.$option("location",e)},$.$$arity=1)}(d.base),e.casgn(d.get("DocinfoProcessor"),"DSL",d.get("DocinfoProcessorDsl")),function(t,n){function $(){}var r,i,o=$=a(t,n,"BlockProcessor",$),u=o.$$proto;o.$$scope;return u.config=l,o.$attr_accessor("name"),e.defn(o,"$initialize",r=function(t,n){var $,i,o,a,u=this,c=(r.$$p,l);return null==t&&(t=l),null==n&&(n=s([],{})),r.$$p=null,(i=u,$=e.find_super_dispatcher(u,"initialize",r,!1),$.$$p=null,$).call(i,n),u.name=($=t)!==!1&&$!==l&&null!=$?$:u.config["$[]"]("name"),c=u.config["$[]"]("contexts"),e.get("NilClass")["$==="](c)?($="contexts",o=u.config,(a=o["$[]"]($))!==!1&&a!==l&&null!=a?a:o["$[]="]($,["open","paragraph"].$to_set())):e.get("Symbol")["$==="](c)?u.config["$[]="]("contexts",[u.config["$[]"]("contexts")].$to_set()):u.config["$[]="]("contexts",u.config["$[]"]("contexts").$to_set()),$="content_model",o=u.config,(a=o["$[]"]($))!==!1&&a!==l&&null!=a?a:o["$[]="]($,"compound")},r.$$arity=-1),e.defn(o,"$process",i=function(t,n,$){var r=this;return r.$raise(e.get("NotImplementedError"))},i.$$arity=3),l&&"process"}(d.base,d.get("Processor")),function(t){var n,$,r,i,a,s,u=n=o(t,"BlockProcessorDsl"),c=(u.$$proto,u.$$scope);u.$include(c.get("ProcessorDsl")),e.defn(u,"$named",$=function(e){var t,n=this;return(t=c.get("Processor")["$==="](n))===l||null==t||t.$$is_boolean&&1!=t?n.$option("name",e):n.name=e},$.$$arity=1),e.alias(u,"match_name","named"),
e.alias(u,"bind_to","named"),e.defn(u,"$contexts",r=function(e){var t,n=this,$=arguments.length,r=$-0;r<0&&(r=0),t=new Array(r);for(var i=0;i<$;i++)t[i-0]=arguments[i];return n.$option("contexts",t.$flatten())},r.$$arity=-1),e.alias(u,"on_contexts","contexts"),e.alias(u,"on_context","contexts"),e.defn(u,"$content_model",i=function(e){var t=this;return t.$option("content_model",e)},i.$$arity=1),e.alias(u,"parse_content_as","content_model"),e.defn(u,"$positional_attributes",a=function(e){var t,n=this,$=arguments.length,r=$-0;r<0&&(r=0),t=new Array(r);for(var i=0;i<$;i++)t[i-0]=arguments[i];return n.$option("pos_attrs",t.$flatten())},a.$$arity=-1),e.alias(u,"pos_attrs","positional_attributes"),e.alias(u,"name_attributes","positional_attributes"),e.alias(u,"name_positional_attributes","positional_attributes"),e.defn(u,"$default_attrs",s=function(e){var t=this;return t.$option("default_attrs",e)},s.$$arity=1),e.alias(u,"seed_attributes_with","default_attrs")}(d.base),e.casgn(d.get("BlockProcessor"),"DSL",d.get("BlockProcessorDsl")),function(t,n){function $(){}var r,i,o=$=a(t,n,"MacroProcessor",$),u=o.$$proto;o.$$scope;return u.config=l,o.$attr_accessor("name"),e.defn(o,"$initialize",r=function(t,n){var $,i,o,a,u=this;r.$$p;return null==t&&(t=l),null==n&&(n=s([],{})),r.$$p=null,(i=u,$=e.find_super_dispatcher(u,"initialize",r,!1),$.$$p=null,$).call(i,n),u.name=($=t)!==!1&&$!==l&&null!=$?$:u.config["$[]"]("name"),$="content_model",o=u.config,(a=o["$[]"]($))!==!1&&a!==l&&null!=a?a:o["$[]="]($,"attributes")},r.$$arity=-1),e.defn(o,"$process",i=function(t,n,$){var r=this;return r.$raise(e.get("NotImplementedError"))},i.$$arity=3),l&&"process"}(d.base,d.get("Processor")),function(t){var n,$,r,i,a,s=n=o(t,"MacroProcessorDsl"),u=(s.$$proto,s.$$scope);s.$include(u.get("ProcessorDsl")),e.defn(s,"$named",$=function(e){var t,n=this;return(t=u.get("Processor")["$==="](n))===l||null==t||t.$$is_boolean&&1!=t?n.$option("name",e):n.name=e},$.$$arity=1),e.alias(s,"match_name","named"),e.alias(s,"bind_to","named"),e.defn(s,"$content_model",r=function(e){var t=this;return t.$option("content_model",e)},r.$$arity=1),e.alias(s,"parse_content_as","content_model"),e.defn(s,"$positional_attributes",i=function(e){var t,n=this,$=arguments.length,r=$-0;r<0&&(r=0),t=new Array(r);for(var i=0;i<$;i++)t[i-0]=arguments[i];return n.$option("pos_attrs",t.$flatten())},i.$$arity=-1),e.alias(s,"pos_attrs","positional_attributes"),e.alias(s,"name_attributes","positional_attributes"),e.alias(s,"name_positional_attributes","positional_attributes"),e.defn(s,"$default_attrs",a=function(e){var t=this;return t.$option("default_attrs",e)},a.$$arity=1),e.alias(s,"seed_attributes_with","default_attrs")}(d.base),function(e,t){function n(){}var $=n=a(e,t,"BlockMacroProcessor",n);$.$$proto,$.$$scope;return l}(d.base,d.get("MacroProcessor")),e.casgn(d.get("BlockMacroProcessor"),"DSL",d.get("MacroProcessorDsl")),function(t,n){function $(){}var r,i,o=$=a(t,n,"InlineMacroProcessor",$),s=o.$$proto;o.$$scope;return s.config=s.name=l,e.defn(o,"$regexp",r=function(){var e,t,n,$=this;return e="regexp",t=$.config,(n=t["$[]"](e))!==!1&&n!==l&&null!=n?n:t["$[]="](e,$.$resolve_regexp($.name,$.config["$[]"]("format")))},r.$$arity=0),e.defn(o,"$resolve_regexp",i=function(e,t){return t["$=="]("short")?new RegExp("\\\\?"+e+":\\[((?:\\\\\\]|[^\\]])*?)\\]"):new RegExp("\\\\?"+e+":(\\S+?)\\[((?:\\\\\\]|[^\\]])*?)\\]")},i.$$arity=2),l&&"resolve_regexp"}(d.base,d.get("MacroProcessor")),function(t){var n,$,r,i=n=o(t,"InlineMacroProcessorDsl"),l=(i.$$proto,i.$$scope);i.$include(l.get("MacroProcessorDsl")),e.defn(i,"$using_format",$=function(e){var t=this;return t.$option("format",e)},$.$$arity=1),e.defn(i,"$match",r=function(e){var t=this;return t.$option("regexp",e)},r.$$arity=1)}(d.base),e.casgn(d.get("InlineMacroProcessor"),"DSL",d.get("InlineMacroProcessorDsl")),function(t,n){function $(){}var r,i=$=a(t,n,"Extension",$);i.$$proto,i.$$scope;return i.$attr("kind"),i.$attr("config"),i.$attr("instance"),e.defn(i,"$initialize",r=function(e,t,n){var $=this;return $.kind=e,$.instance=t,$.config=n},r.$$arity=3),l&&"initialize"}(d.base,null),function(t,n){function $(){}var r,i=$=a(t,n,"ProcessorExtension",$);i.$$proto,i.$$scope;return i.$attr("process_method"),e.defn(i,"$initialize",r=function(t,n,$){var i,o,a=this;r.$$p;return null==$&&($=l),r.$$p=null,(o=a,i=e.find_super_dispatcher(a,"initialize",r,!1),i.$$p=null,i).call(o,t,n,n.$config()),a.process_method=(i=$)!==!1&&i!==l&&null!=i?i:n.$method("process")},r.$$arity=-3),l&&"initialize"}(d.base,d.get("Extension")),function(t,n){function $(){}var r,i=$=a(t,n,"Group",$);i.$$proto,i.$$scope;return function(t){var n,$=t.$$scope;t.$$proto;return e.defn(t,"$register",n=function(e){var t=this;return null==e&&(e=l),$.get("Extensions").$register(e,t)},n.$$arity=-1),l&&"register"}(e.get_singleton_class(i)),e.defn(i,"$activate",r=function(t){var n=this;return n.$raise(e.get("NotImplementedError"))},r.$$arity=1),l&&"activate"}(d.base,null),function(i,o){function c(){}var _,p,d,f,h,g,b,m,y,v,w,k,x,E,A,O,S,R,T,I,C,N,M,L,z,P,D,B,q,j,F,U,G,H,Y=c=a(i,o,"Registry",c),K=Y.$$proto,W=Y.$$scope;return K.groups=K.preprocessor_extensions=K.treeprocessor_extensions=K.postprocessor_extensions=K.include_processor_extensions=K.docinfo_processor_extensions=K.block_extensions=K.block_macro_extensions=K.inline_macro_extensions=l,Y.$attr_reader("document"),Y.$attr_reader("groups"),e.defn(Y,"$initialize",_=function(e){var t=this;return null==e&&(e=s([],{})),t.groups=e,t.preprocessor_extensions=t.treeprocessor_extensions=t.postprocessor_extensions=t.include_processor_extensions=t.docinfo_processor_extensions=l,t.block_extensions=t.block_macro_extensions=t.inline_macro_extensions=l,t.document=l},_.$$arity=-1),e.defn(Y,"$activate",p=function(n){var $,r,i,o=this;return o.document=n,($=(r=t(W.get("Extensions").$groups().$values(),o.groups.$values())).$each,$.$$p=(i=function(t){var n,$,r=i.$$s||this,o=l;return null==t&&(t=l),function(){return o=t,e.get("Proc")["$==="](o)?function(){return o=t.$arity(),(0)["$==="](o)||(-1)["$==="](o)?(n=($=r).$instance_exec,n.$$p=t.$to_proc(),n).call($):1["$==="](o)?t.$call(r):l}():e.get("Class")["$==="](o)?t.$new().$activate(r):t.$activate(r)}()},i.$$s=o,i.$$arity=1,i),$).call(r),o},p.$$arity=1),e.defn(Y,"$preprocessor",d=function(e){var t,n,$,r=this,i=d.$$p,o=i||l,a=arguments.length,s=a-0;s<0&&(s=0),$=new Array(s);for(var u=0;u<a;u++)$[u-0]=arguments[u];return d.$$p=null,(t=(n=r).$add_document_processor,t.$$p=o.$to_proc(),t).call(n,"preprocessor",$)},d.$$arity=-1),e.defn(Y,"$preprocessors?",f=function(){var e=this;return e.preprocessor_extensions["$!"]()["$!"]()},f.$$arity=0),e.defn(Y,"$preprocessors",h=function(){var e=this;return e.preprocessor_extensions},h.$$arity=0),e.defn(Y,"$treeprocessor",g=function(e){var t,n,$,r=this,i=g.$$p,o=i||l,a=arguments.length,s=a-0;s<0&&(s=0),$=new Array(s);for(var u=0;u<a;u++)$[u-0]=arguments[u];return g.$$p=null,(t=(n=r).$add_document_processor,t.$$p=o.$to_proc(),t).call(n,"treeprocessor",$)},g.$$arity=-1),e.defn(Y,"$treeprocessors?",b=function(){var e=this;return e.treeprocessor_extensions["$!"]()["$!"]()},b.$$arity=0),e.defn(Y,"$treeprocessors",m=function(){var e=this;return e.treeprocessor_extensions},m.$$arity=0),e.defn(Y,"$postprocessor",y=function(e){var t,n,$,r=this,i=y.$$p,o=i||l,a=arguments.length,s=a-0;s<0&&(s=0),$=new Array(s);for(var u=0;u<a;u++)$[u-0]=arguments[u];return y.$$p=null,(t=(n=r).$add_document_processor,t.$$p=o.$to_proc(),t).call(n,"postprocessor",$)},y.$$arity=-1),e.defn(Y,"$postprocessors?",v=function(){var e=this;return e.postprocessor_extensions["$!"]()["$!"]()},v.$$arity=0),e.defn(Y,"$postprocessors",w=function(){var e=this;return e.postprocessor_extensions},w.$$arity=0),e.defn(Y,"$include_processor",k=function(e){var t,n,$,r=this,i=k.$$p,o=i||l,a=arguments.length,s=a-0;s<0&&(s=0),$=new Array(s);for(var u=0;u<a;u++)$[u-0]=arguments[u];return k.$$p=null,(t=(n=r).$add_document_processor,t.$$p=o.$to_proc(),t).call(n,"include_processor",$)},k.$$arity=-1),e.defn(Y,"$include_processors?",x=function(){var e=this;return e.include_processor_extensions["$!"]()["$!"]()},x.$$arity=0),e.defn(Y,"$include_processors",E=function(){var e=this;return e.include_processor_extensions},E.$$arity=0),e.defn(Y,"$docinfo_processor",A=function(e){var t,n,$,r=this,i=A.$$p,o=i||l,a=arguments.length,s=a-0;s<0&&(s=0),$=new Array(s);for(var u=0;u<a;u++)$[u-0]=arguments[u];return A.$$p=null,(t=(n=r).$add_document_processor,t.$$p=o.$to_proc(),t).call(n,"docinfo_processor",$)},A.$$arity=-1),e.defn(Y,"$docinfo_processors?",O=function(e){var t,n,$,r=this;return null==e&&(e=l),!((t=r.docinfo_processor_extensions)===l||null==t||t.$$is_boolean&&1!=t)&&(e===!1||e===l||null==e||(t=(n=r.docinfo_processor_extensions)["$any?"],t.$$p=($=function(t){$.$$s||this;return null==t&&(t=l),t.$config()["$[]"]("location")["$=="](e)},$.$$s=r,$.$$arity=1,$),t).call(n))},O.$$arity=-1),e.defn(Y,"$docinfo_processors",S=function(e){var t,n,$,r=this;return null==e&&(e=l),(t=r.docinfo_processor_extensions)===l||null==t||t.$$is_boolean&&1!=t?l:e!==!1&&e!==l&&null!=e?(t=(n=r.docinfo_processor_extensions).$select,t.$$p=($=function(t){$.$$s||this;return null==t&&(t=l),t.$config()["$[]"]("location")["$=="](e)},$.$$s=r,$.$$arity=1,$),t).call(n):r.docinfo_processor_extensions},S.$$arity=-1),e.defn(Y,"$block",R=function(e){var t,n,$,r=this,i=R.$$p,o=i||l,a=arguments.length,s=a-0;s<0&&(s=0),$=new Array(s);for(var u=0;u<a;u++)$[u-0]=arguments[u];return R.$$p=null,(t=(n=r).$add_syntax_processor,t.$$p=o.$to_proc(),t).call(n,"block",$)},R.$$arity=-1),e.defn(Y,"$blocks?",T=function(){var e=this;return e.block_extensions["$!"]()["$!"]()},T.$$arity=0),e.defn(Y,"$registered_for_block?",I=function(e,t){var n,$=this,r=l;return!((n=r=$.block_extensions["$[]"](e.$to_sym()))===l||null==n||n.$$is_boolean&&1!=n)&&(!((n=r.$config()["$[]"]("contexts")["$include?"](t))===l||null==n||n.$$is_boolean&&1!=n)&&r)},I.$$arity=2),e.defn(Y,"$find_block_extension",C=function(e){var t=this;return t.block_extensions["$[]"](e.$to_sym())},C.$$arity=1),e.defn(Y,"$block_macro",N=function(e){var t,n,$,r=this,i=N.$$p,o=i||l,a=arguments.length,s=a-0;s<0&&(s=0),$=new Array(s);for(var u=0;u<a;u++)$[u-0]=arguments[u];return N.$$p=null,(t=(n=r).$add_syntax_processor,t.$$p=o.$to_proc(),t).call(n,"block_macro",$)},N.$$arity=-1),e.defn(Y,"$block_macros?",M=function(){var e=this;return e.block_macro_extensions["$!"]()["$!"]()},M.$$arity=0),e.defn(Y,"$registered_for_block_macro?",L=function(e){var t,n=this,$=l;return!((t=$=n.block_macro_extensions["$[]"](e.$to_sym()))===l||null==t||t.$$is_boolean&&1!=t)&&$},L.$$arity=1),e.defn(Y,"$find_block_macro_extension",z=function(e){var t=this;return t.block_macro_extensions["$[]"](e.$to_sym())},z.$$arity=1),e.defn(Y,"$inline_macro",P=function(e){var t,n,$,r=this,i=P.$$p,o=i||l,a=arguments.length,s=a-0;s<0&&(s=0),$=new Array(s);for(var u=0;u<a;u++)$[u-0]=arguments[u];return P.$$p=null,(t=(n=r).$add_syntax_processor,t.$$p=o.$to_proc(),t).call(n,"inline_macro",$)},P.$$arity=-1),e.defn(Y,"$inline_macros?",D=function(){var e=this;return e.inline_macro_extensions["$!"]()["$!"]()},D.$$arity=0),e.defn(Y,"$registered_for_inline_macro?",B=function(e){var t,n=this,$=l;return!((t=$=n.inline_macro_extensions["$[]"](e.$to_sym()))===l||null==t||t.$$is_boolean&&1!=t)&&$},B.$$arity=1),e.defn(Y,"$find_inline_macro_extension",q=function(e){var t=this;return t.inline_macro_extensions["$[]"](e.$to_sym())},q.$$arity=1),e.defn(Y,"$inline_macros",j=function(){var e=this;return e.inline_macro_extensions.$values()},j.$$arity=0),Y.$private(),e.defn(Y,"$add_document_processor",F=function(t,$){var r,i,o,a,s,c,_=this,p=F.$$p,d=p||l,f=l,h=l,g=l,b=l,m=l,y=l,v=l,w=l,k=l;return F.$$p=null,f=t.$to_s().$tr("_"," "),h=(r=(i=f.$split(" ")).$map,r.$$p=(o=function(e){o.$$s||this;return null==e&&(e=l),""+e.$chr().$upcase()+e["$[]"](u(1,-1,!1))},o.$$s=_,o.$$arity=1,o),r).call(i).$join().$to_sym(),g=W.get("Extensions").$const_get(h),b=function(){return(r=null==e.Object.$$scope.AsciidoctorJ?l:"constant")===l||null==r||r.$$is_boolean&&1!=r?l:e.get("AsciidoctorJ").$$scope.get("Extensions").$const_get(h)}(),m=(r=_.$instance_variable_get(("@"+t+"_extensions").$to_sym()))!==!1&&r!==l&&null!=r?r:_.$instance_variable_set(("@"+t+"_extensions").$to_sym(),[]),y=function(){return d!==l?(v=_.$resolve_args($,1),w=g.$new(v),(r=g.$constants().$grep("DSL"))===l||null==r||r.$$is_boolean&&1!=r||w.$extend(g.$const_get("DSL")),(r=(a=w).$instance_exec,r.$$p=d.$to_proc(),r).call(a),w.$freeze(),((r=w["$process_block_given?"]())===l||null==r||r.$$is_boolean&&1!=r)&&_.$raise(e.get("ArgumentError").$new("No block specified to process "+f+" extension at "+d.$source_location())),W.get("ProcessorExtension").$new(t,w)):(s=_.$resolve_args($,2),r=e.to_ary(s),w=null==r[0]?l:r[0],v=null==r[1]?l:r[1],s,(r=(s=e.get("Class")["$==="](w))!==!1&&s!==l&&null!=s?s:(c=e.get("String")["$==="](w),c!==!1&&c!==l&&null!=c?w=W.get("Extensions").$class_for_name(w):c))===l||null==r||r.$$is_boolean&&1!=r?(r=(s=g["$==="](w))!==!1&&s!==l&&null!=s?s:(c=b!==!1&&b!==l&&null!=b)?b["$==="](w):b)===l||null==r||r.$$is_boolean&&1!=r?_.$raise(e.get("ArgumentError").$new("Invalid arguments specified for registering "+f+" extension: "+$)):(w.$update_config(v),w.$freeze(),W.get("ProcessorExtension").$new(t,w)):(((r=(s=n(w,g))!==!1&&s!==l&&null!=s?s:(c=b!==!1&&b!==l&&null!=b)?n(w,b):b)===l||null==r||r.$$is_boolean&&1!=r)&&_.$raise(e.get("ArgumentError").$new("Invalid type for "+f+" extension: "+w)),k=w.$new(v),k.$freeze(),W.get("ProcessorExtension").$new(t,k)))}(),y.$config()["$[]"]("position")["$=="](">>")?m.$unshift(y):m["$<<"](y)},F.$$arity=2),e.defn(Y,"$add_syntax_processor",U=function(t,$){var r,i,o,a,c,_,p=this,d=U.$$p,f=d||l,h=l,g=l,b=l,m=l,y=l,v=l,w=l,k=l,x=l,E=l;return U.$$p=null,h=t.$to_s().$tr("_"," "),g=(r=(i=h.$split(" ")).$map,r.$$p=(o=function(e){o.$$s||this;return null==e&&(e=l),""+e.$chr().$upcase()+e["$[]"](u(1,-1,!1))},o.$$s=p,o.$$arity=1,o),r).call(i).$join(),b=(""+g+"Processor").$to_sym(),m=W.get("Extensions").$const_get(b),y=function(){return(r=null==e.Object.$$scope.AsciidoctorJ?l:"constant")===l||null==r||r.$$is_boolean&&1!=r?l:e.get("AsciidoctorJ").$$scope.get("Extensions").$const_get(b)}(),v=(r=p.$instance_variable_get(("@"+t+"_extensions").$to_sym()))!==!1&&r!==l&&null!=r?r:p.$instance_variable_set(("@"+t+"_extensions").$to_sym(),s([],{})),f!==l?(a=p.$resolve_args($,2),r=e.to_ary(a),w=null==r[0]?l:r[0],k=null==r[1]?l:r[1],a,x=m.$new(p.$as_symbol(w),k),(r=m.$constants().$grep("DSL"))===l||null==r||r.$$is_boolean&&1!=r||x.$extend(m.$const_get("DSL")),f.$arity()["$=="](1)?e.yield1(f,x):(r=(a=x).$instance_exec,r.$$p=f.$to_proc(),r).call(a),((r=w=p.$as_symbol(x.$name()))===l||null==r||r.$$is_boolean&&1!=r)&&p.$raise(e.get("ArgumentError").$new("No name specified for "+h+" extension at "+f.$source_location())),((r=x["$process_block_given?"]())===l||null==r||r.$$is_boolean&&1!=r)&&p.$raise(e.get("NoMethodError").$new("No block specified to process "+h+" extension at "+f.$source_location())),x.$freeze(),v["$[]="](w,W.get("ProcessorExtension").$new(t,x))):(c=p.$resolve_args($,3),r=e.to_ary(c),x=null==r[0]?l:r[0],w=null==r[1]?l:r[1],k=null==r[2]?l:r[2],c,(r=(c=e.get("Class")["$==="](x))!==!1&&c!==l&&null!=c?c:(_=e.get("String")["$==="](x),_!==!1&&_!==l&&null!=_?x=W.get("Extensions").$class_for_name(x):_))===l||null==r||r.$$is_boolean&&1!=r?(r=(c=m["$==="](x))!==!1&&c!==l&&null!=c?c:(_=y!==!1&&y!==l&&null!=y)?y["$==="](x):y)===l||null==r||r.$$is_boolean&&1!=r?p.$raise(e.get("ArgumentError").$new("Invalid arguments specified for registering "+h+" extension: "+$)):(x.$update_config(k),((r=w=function(){return w!==!1&&w!==l&&null!=w?(c=[p.$as_symbol(w)],_=x,_["$name="].apply(_,c),c[c.length-1]):p.$as_symbol(x.$name())}())===l||null==r||r.$$is_boolean&&1!=r)&&p.$raise(e.get("ArgumentError").$new("No name specified for "+h+" extension: "+x)),x.$freeze(),v["$[]="](w,W.get("ProcessorExtension").$new(t,x))):(((r=(c=n(x,m))!==!1&&c!==l&&null!=c?c:(_=y!==!1&&y!==l&&null!=y)?n(x,y):y)===l||null==r||r.$$is_boolean&&1!=r)&&p.$raise(e.get("ArgumentError").$new("Class specified for "+h+" extension does not inherit from "+m+": "+x)),E=x.$new(p.$as_symbol(w),k),((r=w=p.$as_symbol(E.$name()))===l||null==r||r.$$is_boolean&&1!=r)&&p.$raise(e.get("ArgumentError").$new("No name specified for "+h+" extension: "+x)),x.$freeze(),v["$[]="](w,W.get("ProcessorExtension").$new(t,E))))},U.$$arity=2),e.defn(Y,"$resolve_args",G=function(t,i){var o,a=l,u=l,c=l;return a=function(){return(o=e.get("Hash")["$==="](t["$[]"](-1)))===l||null==o||o.$$is_boolean&&1!=o?s([],{}):t.$pop()}(),i["$=="](1)?a:(u=t.$size(),(o=$(c=r(r(i,1),u),0))===l||null==o||o.$$is_boolean&&1!=o?(o=n(c,0))===l||null==o||o.$$is_boolean&&1!=o||t.$pop(c["$-@"]()):t.$fill(l,u,c),t["$<<"](a),t)},G.$$arity=2),e.defn(Y,"$as_symbol",H=function(e){return e!==!1&&e!==l&&null!=e?e.$to_sym():l},H.$$arity=1),l&&"as_symbol"}(d.base,null),function(n){var $,r,i,o,a,u,_,p,d=n.$$scope;n.$$proto;return e.defn(n,"$generate_name",$=function(){var e=this;return"extgrp"+e.$next_auto_id()},$.$$arity=0),e.defn(n,"$next_auto_id",r=function(){var e,n=this;return null==n.auto_id&&(n.auto_id=l),(e=n.auto_id)!==!1&&e!==l&&null!=e?e:n.auto_id=-1,n.auto_id=t(n.auto_id,1)},r.$$arity=0),e.defn(n,"$groups",i=function(){var e,t=this;return null==t.groups&&(t.groups=l),(e=t.groups)!==!1&&e!==l&&null!=e?e:t.groups=s([],{})},i.$$arity=0),e.defn(n,"$build_registry",o=function(e){var t,n=this,$=o.$$p,r=$||l;return null==e&&(e=l),o.$$p=null,r!==l?((t=e)!==!1&&t!==l&&null!=t?t:e=n.$generate_name(),d.get("Registry").$new(c(e,r))):d.get("Registry").$new()},o.$$arity=-1),e.defn(n,"$register",a=function(t){var n,$,r=this,i=a.$$p,o=i||l,s=l,u=l,c=l,_=l,p=l,d=arguments.length,f=d-0;f<0&&(f=0),$=new Array(f);for(var h=0;h<d;h++)$[h-0]=arguments[h];return a.$$p=null,s=$.$length(),u=function(){return o!==l?o:(n=(c=$.$pop())["$!"]())===l||null==n||n.$$is_boolean&&1!=n?function(){return _=c,e.get("Class")["$==="](_)?c:e.get("String")["$==="](_)?r.$class_for_name(c):e.get("Symbol")["$==="](_)?r.$class_for_name(c.$to_s()):c}():r.$raise(e.get("ArgumentError").$new("Extension group to register not specified"))}(),p=(n=$.$pop())!==!1&&n!==l&&null!=n?n:r.$generate_name(),((n=$["$empty?"]())===l||null==n||n.$$is_boolean&&1!=n)&&r.$raise(e.get("ArgumentError").$new("Wrong number of arguments ("+s+" for 1..2)")),r.$groups()["$[]="](p,u)},a.$$arity=-1),e.defn(n,"$unregister_all",u=function(){var e=this;return e.groups=s([],{})},u.$$arity=0),e.defn(n,"$resolve_class",_=function(t){var n,$=this;return(n=e.get("Class")["$==="](t))===l||null==n||n.$$is_boolean&&1!=n?$.$class_for_name(t.$to_s()):t},_.$$arity=1),e.defn(n,"$class_for_name",p=function(t){var n,$,r,i=this,o=l;return o=e.get("Object"),(n=($=t.$split("::")).$each,n.$$p=(r=function(e){var n,$=r.$$s||this;return null==e&&(e=l),(n=e["$empty?"]())===l||null==n||n.$$is_boolean&&1!=n?(n=o["$const_defined?"](e))===l||null==n||n.$$is_boolean&&1!=n?$.$raise("Could not resolve class for name: "+t):o=o.$const_get(e):l},r.$$s=i,r.$$arity=1,r),n).call($),o},p.$$arity=1),l&&"class_for_name"}(e.get_singleton_class(p))}(d.base)}(i.base)},Opal.modules["asciidoctor/opal_ext/nashorn/io"]=function(e){var t,n,$=(e.top,e.nil),r=(e.breaker,e.slice,e.gvars);return null==r.stdout&&(r.stdout=$),null==r.stderr&&(r.stderr=$),e.add_stubs(["$write_proc="]),t=[function(e){print(e)}],n=r.stdout,n["$write_proc="].apply(n,t),t[t.length-1],t=[function(e){print(e)}],n=r.stderr,n["$write_proc="].apply(n,t),t[t.length-1]},Opal.modules["asciidoctor/opal_ext/electron/io"]=function(e){var t,n,$=(e.top,e.nil),r=(e.breaker,e.slice,e.gvars);return null==r.stdout&&(r.stdout=$),null==r.stderr&&(r.stderr=$),e.add_stubs(["$write_proc="]),t=[function(e){console.log(e)}],n=r.stdout,n["$write_proc="].apply(n,t),t[t.length-1],t=[function(e){console.error(e)}],n=r.stderr,n["$write_proc="].apply(n,t),t[t.length-1]},Opal.modules["asciidoctor/opal_ext/node/io"]=function(e){var t=(e.top,e),n=e.nil,$=(e.breaker,e.slice,e.klass);return function(t,r){function i(){}var l,o=i=$(t,r,"IO",i);o.$$proto,o.$$scope;return e.defs(o,"$binread",l=function(e){return require("fs").readFileSync(e).toString("binary")},l.$$arity=1),n&&"binread"}(t.base,null)},Opal.modules["asciidoctor/opal_ext"]=function(e){var t=e.top,n=e,$=e.nil;e.breaker,e.slice;e.add_stubs(["$require","$=="]);var r,i,l,o,a="object"==typeof process&&"object"==typeof process.versions&&1!=process.browser,s="object"==typeof navigator&&"string"==typeof navigator.userAgent&&typeof navigator.userAgent.indexOf("Electron")!==-1,u="object"==typeof window,c="object"==typeof Java&&Java.type,_="object"==typeof java,p="object"==typeof window&&"object"==typeof window.phantom,d="function"==typeof importScripts,f="object"==typeof JSRuntime;if(e.load("pathname"),e.load("base64"),"object"==typeof config&&"object"==typeof config.runtime){var h=config.runtime;r=h.platform,i=h.engine,l=h.framework,o=h.ioModule}if("undefined"==typeof r&&(a?(r=r||"node",i=i||"v8",s&&(l=l||"electron")):c?(r=plaform||"java",i=i||"nashorn"):_?(r=r||"java",i=i||"rhino"):f?(r=r||"standalone",l=l||"spidermonkey"):u&&(r=r||"browser",p&&(l=l||"phantomjs")),d&&(l=l||"webworker")),"undefined"==typeof r)throw new Error("Unable to automatically detect the JavaScript platform, please configure Asciidoctor.js: `Asciidoctor({runtime: {platform: 'node'}})`");if("node"===r&&e.load("nodejs"),"undefined"==typeof l&&(l=""),"undefined"==typeof i&&(i=""),"undefined"!=typeof o){if("spidermonkey"!=o&&"phantomjs"!=o&&"node"!=o&&"java_nio"!=o&&"xmlhttprequest"!=o)throw new Error("Invalid IO module, `config.ioModule` must be one of: spidermonkey, phantomjs, node, java_nio or xmlhttprequest")}else if("spidermonkey"===l)o="spidermonkey";else if("phantomjs"===l)o="phantomjs";else if("node"===r)o="node";else if("nashorn"===i)o="java_nio";else{if("browser"!==r&&"undefined"==typeof XmlHTTPRequest)throw new Error("Unable to automatically detect the IO module, please configure Asciidoctor.js: `Asciidoctor({runtime: {ioModule: 'node'}})`");o="xmlhttprequest"}return e.cdecl(n,"JAVASCRIPT_IO_MODULE",o),e.cdecl(n,"JAVASCRIPT_PLATFORM",r),e.cdecl(n,"JAVASCRIPT_ENGINE",i),e.cdecl(n,"JAVASCRIPT_FRAMEWORK",l),t.$require("strscan"),t.$require("asciidoctor/opal_ext/file"),t.$require("asciidoctor/opal_ext/match_data"),t.$require("asciidoctor/opal_ext/kernel"),t.$require("asciidoctor/opal_ext/thread_safe"),t.$require("asciidoctor/converter"),t.$require("asciidoctor/converter/composite"),t.$require("asciidoctor/converter/html5"),t.$require("asciidoctor/opal_ext/string"),t.$require("asciidoctor/extensions"),n.get("JAVASCRIPT_ENGINE")["$=="]("nashorn")&&t.$require("asciidoctor/opal_ext/nashorn/io"),n.get("JAVASCRIPT_FRAMEWORK")["$=="]("electron")&&t.$require("asciidoctor/opal_ext/electron/io"),n.get("JAVASCRIPT_PLATFORM")["$=="]("node")?t.$require("asciidoctor/opal_ext/node/io"):$},Opal.modules["asciidoctor/version"]=function(e){var t=(e.top,e),n=(e.nil,e.breaker,e.slice,e.module);return function(t){var $,r=$=n(t,"Asciidoctor"),i=(r.$$proto,r.$$scope);e.cdecl(i,"VERSION","1.5.5")}(t.base)},Opal.modules["asciidoctor/timings"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r=(e.top,e),i=e.nil,l=(e.breaker,e.slice,e.module),o=e.klass,a=e.hash2,s=e.gvars;return e.add_stubs(["$[]=","$now","$-","$delete","$>","$+","$[]","$puts","$%","$to_f","$read_parse","$convert","$read_parse_convert"]),function(r){var u,c=u=l(r,"Asciidoctor"),_=(c.$$proto,c.$$scope);!function(r,l){function u(){}var c,_,p,d,f,h,g,b,m=u=o(r,l,"Timings",u),y=m.$$proto;m.$$scope;return y.timers=y.log=i,e.defn(m,"$initialize",c=function(){var e=this;return e.log=a([],{}),e.timers=a([],{})},c.$$arity=0),e.defn(m,"$start",_=function(t){var n=this;return n.timers["$[]="](t,e.get("Time").$now())},_.$$arity=1),e.defn(m,"$record",p=function(n){var $=this;return $.log["$[]="](n,t(e.get("Time").$now(),$.timers.$delete(n)))},p.$$arity=1),e.defn(m,"$read_parse",d=function(){var e,t,r=this,l=i;return(e=n(l=$((t=r.log["$[]"]("read"))!==!1&&t!==i&&null!=t?t:0,(t=r.log["$[]"]("parse"))!==!1&&t!==i&&null!=t?t:0),0))===i||null==e||e.$$is_boolean&&1!=e?i:l},d.$$arity=0),e.defn(m,"$convert",f=function(){var e,t=this;return(e=t.log["$[]"]("convert"))!==!1&&e!==i&&null!=e?e:0},f.$$arity=0),e.defn(m,"$read_parse_convert",h=function(){var e,t,r=this,l=i;return(e=n(l=$($((t=r.log["$[]"]("read"))!==!1&&t!==i&&null!=t?t:0,(t=r.log["$[]"]("parse"))!==!1&&t!==i&&null!=t?t:0),(t=r.log["$[]"]("convert"))!==!1&&t!==i&&null!=t?t:0),0))===i||null==e||e.$$is_boolean&&1!=e?i:l},h.$$arity=0),e.defn(m,"$total",g=function(){var e,t,r=this,l=i;return(e=n(l=$($($((t=r.log["$[]"]("read"))!==!1&&t!==i&&null!=t?t:0,(t=r.log["$[]"]("parse"))!==!1&&t!==i&&null!=t?t:0),(t=r.log["$[]"]("convert"))!==!1&&t!==i&&null!=t?t:0),(t=r.log["$[]"]("write"))!==!1&&t!==i&&null!=t?t:0),0))===i||null==e||e.$$is_boolean&&1!=e?i:l},g.$$arity=0),e.defn(m,"$print_report",b=function(e,t){var n=this;return null==s.stdout&&(s.stdout=i),null==e&&(e=s.stdout),null==t&&(t=i),t!==!1&&t!==i&&null!=t&&e.$puts("Input file: "+t),e.$puts("  Time to read and parse source: "+"%05.5f"["$%"](n.$read_parse().$to_f())),e.$puts("  Time to convert document: "+"%05.5f"["$%"](n.$convert().$to_f())),e.$puts("  Total time (read, parse and convert): "+"%05.5f"["$%"](n.$read_parse_convert().$to_f()))},b.$$arity=-1),i&&"print_report"}(_.base,null)}(r.base)},Opal.modules["asciidoctor/core_ext/nil_or_empty"]=function(e){var t=(e.top,e),n=e.nil,$=(e.breaker,e.slice,e.klass);return e.add_stubs(["$method_defined?"]),function(t,r){function i(){}var l,o=i=$(t,r,"NilClass",i);o.$$proto,o.$$scope;return(l=o["$method_defined?"]("nil_or_empty?"))===n||null==l||l.$$is_boolean&&1!=l?e.alias(o,"nil_or_empty?","nil?"):n}(t.base,null),function(t,r){function i(){}var l,o=i=$(t,r,"String",i);o.$$proto,o.$$scope;return(l=o["$method_defined?"]("nil_or_empty?"))===n||null==l||l.$$is_boolean&&1!=l?e.alias(o,"nil_or_empty?","empty?"):n}(t.base,null),function(t,r){function i(){}var l,o=i=$(t,r,"Array",i);o.$$proto,o.$$scope;return(l=o["$method_defined?"]("nil_or_empty?"))===n||null==l||l.$$is_boolean&&1!=l?e.alias(o,"nil_or_empty?","empty?"):n}(t.base,null),function(t,r){function i(){}var l,o=i=$(t,r,"Hash",i);o.$$proto,o.$$scope;return(l=o["$method_defined?"]("nil_or_empty?"))===n||null==l||l.$$is_boolean&&1!=l?e.alias(o,"nil_or_empty?","empty?"):n}(t.base,null),function(t,r){function i(){}var l,o=i=$(t,r,"Numeric",i);o.$$proto,o.$$scope;return(l=o["$method_defined?"]("nil_or_empty?"))===n||null==l||l.$$is_boolean&&1!=l?e.alias(o,"nil_or_empty?","nil?"):n}(t.base,null)},Opal.modules["asciidoctor/core_ext/string/limit"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var $=(e.top,e),r=e.nil,i=(e.breaker,e.slice,e.klass);return e.add_stubs(["$method_defined?","$<","$bytesize","$valid_encoding?","$force_encoding","$byteslice","$-"]),function($,l){function o(){}var a,s,u=o=i($,l,"String",o);u.$$proto,u.$$scope;return(a=u["$method_defined?"]("limit"))===r||null==a||a.$$is_boolean&&1!=a?(e.defn(u,"$limit",s=function($){var i,l,o=this,a=r;if((i=t($,o.$bytesize()))===r||null==i||i.$$is_boolean&&1!=i)return o;for(;(l=(a=o.$byteslice(0,$)).$force_encoding(e.get("Encoding").$$scope.get("UTF_8"))["$valid_encoding?"]())===r||null==l||l.$$is_boolean&&1!=l;)$=n($,1);return a},s.$$arity=1),r&&"limit"):r}($.base,null)},Opal.modules["asciidoctor/core_ext"]=function(e){var t,n=e.top,$=e,r=e.nil;e.breaker,e.slice;return e.add_stubs(["$require","$!="]),n.$require("asciidoctor/core_ext/nil_or_empty"),(t=$.get("RUBY_MIN_VERSION_1_9"))===r||null==t||t.$$is_boolean&&1!=t?(t=$.get("RUBY_ENGINE")["$!="]("opal"))===r||null==t||t.$$is_boolean&&1!=t?r:void 0:n.$require("asciidoctor/core_ext/string/limit")},Opal.modules["asciidoctor/helpers"]=function(e){var t=(e.top,e),n=e.nil,$=(e.breaker,e.slice,e.module),r=e.range,i=e.gvars;return e.add_stubs(["$require","$==","$===","$fail","$warn","$chomp","$message","$class","$normalize_lines_from_string","$normalize_lines_array","$empty?","$to_a","$bytes","$[]","$map","$rstrip","$lines","$encode","$force_encoding","$join","$[]=","$encoding","$nil_or_empty?","$each_line","$include?","$=~","$gsub","$sprintf","$each_byte","$extname","$-@","$length","$basename","$directory?","$dirname","$!","$!=","$mkdir_p","$mkdir"]),function(t){var l,o=l=$(t,"Asciidoctor"),a=(o.$$proto,o.$$scope);!function(t){var l,o,a,s,u,c,_,p,d,f,h,g=l=$(t,"Helpers"),b=(g.$$proto,g.$$scope);e.defs(g,"$require_library",o=function(t,$,r){var i=this,l=n,o=n;null==$&&($=!0),null==r&&(r="abort");try{return i.$require(t)}catch(a){if(!e.rescue(a,[e.get("LoadError")]))throw a;l=a;try{return $!==!1&&$!==n&&null!=$?($["$=="](!0)&&($=t),function(){return o=r,"abort"["$==="](o)?i.$fail("asciidoctor: FAILED: required gem '"+$+"' is not installed. Processing aborted."):"warn"["$==="](o)?i.$warn("asciidoctor: WARNING: optional gem '"+$+"' is not installed. Functionality disabled."):n}()):function(){return o=r,"abort"["$==="](o)?i.$fail("asciidoctor: FAILED: "+l.$message().$chomp(".")+". Processing aborted."):"warn"["$==="](o)?i.$warn("asciidoctor: WARNING: "+l.$message().$chomp(".")+". Functionality disabled."):n}()}finally{e.pop_exception()}}},o.$$arity=-2),e.defs(g,"$normalize_lines",a=function(t){var n=this;return t.$class()["$=="](e.get("String"))?n.$normalize_lines_from_string(t):n.$normalize_lines_array(t)},a.$$arity=1),e.defs(g,"$normalize_lines_array",s=function(t){var $,i,l,o,a,s,u,c,_,p=this,d=n,f=n,h=n,g=n;return($=t["$empty?"]())===n||null==$||$.$$is_boolean&&1!=$?(d=(f=t["$[]"](0))["$[]"](r(0,2,!1)).$bytes().$to_a(),($=b.get("COERCE_ENCODING"))===n||null==$||$.$$is_boolean&&1!=$?(d["$=="](b.get("BOM_BYTES_UTF_8"))&&t["$[]="](0,f["$[]"](r(3,-1,!1))),($=(c=t).$map,$.$$p=(_=function(e){_.$$s||this;return null==e&&(e=n),e.$rstrip()},_.$$s=p,_.$$arity=1,_),$).call(c)):(h=e.get("Encoding").$$scope.get("UTF_8"),(g=d["$[]"](r(0,1,!1)))["$=="](b.get("BOM_BYTES_UTF_16LE"))?($=(i=t.$join().$force_encoding(e.get("Encoding").$$scope.get("UTF_16LE"))["$[]"](r(1,-1,!1)).$encode(h).$lines()).$map,$.$$p=(l=function(e){l.$$s||this;return null==e&&(e=n),e.$rstrip()},l.$$s=p,l.$$arity=1,l),$).call(i):g["$=="](b.get("BOM_BYTES_UTF_16BE"))?(t["$[]="](0,f.$force_encoding(e.get("Encoding").$$scope.get("UTF_16BE"))["$[]"](r(1,-1,!1))),($=(o=t).$map,$.$$p=(a=function(t){a.$$s||this;return null==t&&(t=n),""+t.$force_encoding(e.get("Encoding").$$scope.get("UTF_16BE")).$encode(h).$rstrip()},a.$$s=p,a.$$arity=1,a),$).call(o)):(d["$[]"](r(0,2,!1))["$=="](b.get("BOM_BYTES_UTF_8"))&&t["$[]="](0,f.$force_encoding(h)["$[]"](r(1,-1,!1))),($=(s=t).$map,$.$$p=(u=function(e){u.$$s||this;return null==e&&(e=n),e.$encoding()["$=="](h)?e.$rstrip():e.$force_encoding(h).$rstrip()},u.$$s=p,u.$$arity=1,u),$).call(s)))):[]},s.$$arity=1),e.defs(g,"$normalize_lines_from_string",u=function(t){var $,i,l,o=this,a=n,s=n,u=n;return($=t["$nil_or_empty?"]())===n||null==$||$.$$is_boolean&&1!=$?(($=b.get("COERCE_ENCODING"))===n||null==$||$.$$is_boolean&&1!=$?t["$[]"](r(0,2,!1)).$bytes().$to_a()["$=="](b.get("BOM_BYTES_UTF_8"))&&(t=t["$[]"](r(3,-1,!1))):(a=e.get("Encoding").$$scope.get("UTF_8"),s=t["$[]"](r(0,2,!1)).$bytes().$to_a(),(u=s["$[]"](r(0,1,!1)))["$=="](b.get("BOM_BYTES_UTF_16LE"))?t=t.$force_encoding(e.get("Encoding").$$scope.get("UTF_16LE"))["$[]"](r(1,-1,!1)).$encode(a):u["$=="](b.get("BOM_BYTES_UTF_16BE"))?t=t.$force_encoding(e.get("Encoding").$$scope.get("UTF_16BE"))["$[]"](r(1,-1,!1)).$encode(a):s["$[]"](r(0,2,!1))["$=="](b.get("BOM_BYTES_UTF_8"))?t=function(){return t.$encoding()["$=="](a)?t["$[]"](r(1,-1,!1)):t.$force_encoding(a)["$[]"](r(1,-1,!1))}():t.$encoding()["$=="](a)||(t=t.$force_encoding(a))),
($=(i=t.$each_line()).$map,$.$$p=(l=function(e){l.$$s||this;return null==e&&(e=n),e.$rstrip()},l.$$s=o,l.$$arity=1,l),$).call(i)):[]},u.$$arity=1),e.defs(g,"$uriish?",c=function(e){var t;return t=e["$include?"](":"),t!==!1&&t!==n&&null!=t?e["$=~"](b.get("UriSniffRx")):t},c.$$arity=1),e.defs(g,"$uri_prefix",_=function(e){var t,$;return $=e["$include?"](":"),(t=$!==!1&&$!==n&&null!=$?e["$=~"](b.get("UriSniffRx")):$)===n||null==t||t.$$is_boolean&&1!=t?n:(t=i["~"])===n?n:t["$[]"](0)},_.$$arity=1),e.cdecl(b,"REGEXP_ENCODE_URI_CHARS",/[^\w\-.!~*';:@=+$,()\[\]]/),e.defs(g,"$encode_uri",p=function(e){var t,$,r,l=this;return(t=($=e).$gsub,t.$$p=(r=function(){var e,t,$,l,o=r.$$s||this;return(e=(t=((l=i["~"])===n?n:l["$[]"](0)).$each_byte()).$map,e.$$p=($=function(e){var t=$.$$s||this;return null==e&&(e=n),t.$sprintf("%%%02X",e)},$.$$s=o,$.$$arity=1,$),e).call(t).$join()},r.$$s=l,r.$$arity=0,r),t).call($,b.get("REGEXP_ENCODE_URI_CHARS"))},p.$$arity=1),e.defs(g,"$rootname",d=function(t){var $,i=n;return($=(i=e.get("File").$extname(t))["$empty?"]())===n||null==$||$.$$is_boolean&&1!=$?t["$[]"](r(0,i.$length()["$-@"](),!0)):t},d.$$arity=1),e.defs(g,"$basename",f=function(t,$){return null==$&&($=!1),$!==!1&&$!==n&&null!=$?e.get("File").$basename(t,e.get("File").$extname(t)):e.get("File").$basename(t)},f.$$arity=-2),e.defs(g,"$mkdir_p",h=function(t){var $,r,i=this,l=n;return($=e.get("File")["$directory?"](t))===n||null==$||$.$$is_boolean&&1!=$?(l=e.get("File").$dirname(t),r=e.get("File")["$directory?"](l=e.get("File").$dirname(t))["$!"](),($=r!==!1&&r!==n&&null!=r?l["$!="]("."):r)===n||null==$||$.$$is_boolean&&1!=$||i.$mkdir_p(l),e.get("Dir").$mkdir(t)):n},h.$$arity=1)}(a.base)}(t.base)},Opal.modules["asciidoctor/substitutors"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var i=(e.top,e),l=e.nil,o=(e.breaker,e.slice),a=e.module,s=e.hash2,u=e.gvars,c=e.range;return e.add_stubs(["$join","$keys","$[]","$+","$attr_reader","$!","$==","$===","$each","$has_key?","$<<","$empty?","$*","$include?","$extract_passthroughs","$sub_specialchars","$sub_quotes","$sub_attributes","$split","$sub_replacements","$sub_macros","$highlight_source","$sub_callouts","$sub_post_replacements","$warn","$restore_passthroughs","$apply_subs","$compat_mode","$gsub","$nil_or_empty?","$[]=","$size","$unescape_brackets","$resolve_pass_subs","$>","$-","$end_with?","$parse_attributes","$start_with?","$to_sym","$attributes","$document","$basebackend?","$to_i","$convert","$new","$clear","$convert_quoted_text","$do_replacement","$tr","$length","$store_attribute","$fetch","$attribute_undefined","$counter","$key?","$downcase","$attribute_missing","$unescape_bracketed_text","$inject","$strip","$map","$pop","$rstrip","$extensions","$inline_macros?","$config","$process_method","$regexp","$instance","$inline_macros","$register","$basename","$split_simple_csv","$normalize_string","$!=","$!~","$delete","$chop","$attr?","$sub","$chomp","$encode_uri","$sub_inline_xrefs","$sub_inline_anchors","$find","$id","$references","$index","$text","$rootname","$key","$escape","$attr","$read_next_id","$callouts","$push","$parse_quoted_text_attributes","$shorthand_property_syntax","$shift","$concat","$parse_into","$parse","$each_char","$=~","$chr","$dup","$&","$resolve_subs","$nil?","$require_library","$set_attr","$sub_source","$resolve_highlight_lines","$highlight","$to_a","$uniq","$sort","$option?","$resolve_block_subs"]),function(i){var _,p=_=a(i,"Asciidoctor"),d=(p.$$proto,p.$$scope);!function(i){var _,p,d,f,h,g,b,m,y,v,w,k,x,E,A,O,S,R,T,I,C,N,M,L,z,P,D,B,q,j,F,U=_=a(i,"Substitutors"),G=(U.$$proto,U.$$scope);e.cdecl(G,"SPECIAL_CHARS",s(["&","<",">"],{"&":"&amp;","<":"&lt;",">":"&gt;"})),e.cdecl(G,"SPECIAL_CHARS_PATTERN",new RegExp("["+G.get("SPECIAL_CHARS").$keys().$join()+"]")),e.cdecl(G,"SUBS",s(["basic","normal","verbatim","title","header","pass"],{basic:["specialcharacters"],normal:["specialcharacters","quotes","attributes","replacements","macros","post_replacements"],verbatim:["specialcharacters","callouts"],title:["specialcharacters","quotes","replacements","macros","attributes","post_replacements"],header:["specialcharacters","attributes"],pass:[]})),e.cdecl(G,"COMPOSITE_SUBS",s(["none","normal","verbatim","specialchars"],{none:[],normal:G.get("SUBS")["$[]"]("normal"),verbatim:G.get("SUBS")["$[]"]("verbatim"),specialchars:["specialcharacters"]})),e.cdecl(G,"SUB_SYMBOLS",s(["a","m","n","p","q","r","c","v"],{a:"attributes",m:"macros",n:"normal",p:"post_replacements",q:"quotes",r:"replacements",c:"specialcharacters",v:"verbatim"})),e.cdecl(G,"SUB_OPTIONS",s(["block","inline"],{block:t(t(G.get("COMPOSITE_SUBS").$keys(),G.get("SUBS")["$[]"]("normal")),["callouts"]),inline:t(G.get("COMPOSITE_SUBS").$keys(),G.get("SUBS")["$[]"]("normal"))})),e.cdecl(G,"SUB_HIGHLIGHT",["coderay","pygments"]),e.cdecl(G,"PASS_START",""),e.cdecl(G,"PASS_END",""),e.cdecl(G,"PASS_MATCH",/\u0096(\d+)\u0097/),e.cdecl(G,"PASS_MATCH_HI",/<span[^>]*>\u0096<\/span>[^\d]*(\d+)[^\d]*<span[^>]*>\u0097<\/span>/),U.$attr_reader("passthroughs"),e.defn(U,"$apply_subs",p=function($,r,i){var o,a,s,u,c,_=this,p=l,d=l,f=l,h=l;return null==_.passthroughs&&(_.passthroughs=l),null==r&&(r="normal"),null==i&&(i=!1),(o=r["$!"]())===l||null==o||o.$$is_boolean&&1!=o?(r["$=="]("normal")?r=G.get("SUBS")["$[]"]("normal"):i!==!1&&i!==l&&null!=i&&((o=e.get("Symbol")["$==="](r))===l||null==o||o.$$is_boolean&&1!=o?(p=[],(o=(a=r).$each,o.$$p=(s=function(e){var n;s.$$s||this;return null==e&&(e=l),(n=G.get("COMPOSITE_SUBS")["$has_key?"](e))===l||null==n||n.$$is_boolean&&1!=n?p["$<<"](e):p=t(p,G.get("COMPOSITE_SUBS")["$[]"](e))},s.$$s=_,s.$$arity=1,s),o).call(a),r=p):r=(o=G.get("COMPOSITE_SUBS")["$[]"](r))!==!1&&o!==l&&null!=o?o:[r]),(o=r["$empty?"]())===l||null==o||o.$$is_boolean&&1!=o?(d=function(){return(o=f=e.get("Array")["$==="]($))===l||null==o||o.$$is_boolean&&1!=o?$:n($,G.get("EOL"))}(),(o=h=r["$include?"]("macros"))===l||null==o||o.$$is_boolean&&1!=o||(d=_.$extract_passthroughs(d),(o=_.passthroughs["$empty?"]())===l||null==o||o.$$is_boolean&&1!=o||(h=!1)),(o=(u=r).$each,o.$$p=(c=function(e){var t,$=c.$$s||this,i=l;return null==e&&(e=l),function(){return i=e,"specialcharacters"["$==="](i)?d=$.$sub_specialchars(d):"quotes"["$==="](i)?d=$.$sub_quotes(d):"attributes"["$==="](i)?d=n($.$sub_attributes(d.$split(G.get("EOL"))),G.get("EOL")):"replacements"["$==="](i)?d=$.$sub_replacements(d):"macros"["$==="](i)?d=$.$sub_macros(d):"highlight"["$==="](i)?d=$.$highlight_source(d,r["$include?"]("callouts")):"callouts"["$==="](i)?(t=r["$include?"]("highlight"))===l||null==t||t.$$is_boolean&&1!=t?d=$.$sub_callouts(d):l:"post_replacements"["$==="](i)?d=$.$sub_post_replacements(d):$.$warn("asciidoctor: WARNING: unknown substitution type "+e)}()},c.$$s=_,c.$$arity=1,c),o).call(u),h!==!1&&h!==l&&null!=h&&(d=_.$restore_passthroughs(d)),f!==!1&&f!==l&&null!=f?d.$split(G.get("EOL")):d):$):$},p.$$arity=-2),e.defn(U,"$apply_normal_subs",d=function(t){var $,r=this;return r.$apply_subs(function(){return($=e.get("Array")["$==="](t))===l||null==$||$.$$is_boolean&&1!=$?t:n(t,G.get("EOL"))}())},d.$$arity=1),e.defn(U,"$apply_title_subs",f=function(e){var t=this;return t.$apply_subs(e,G.get("SUBS")["$[]"]("title"))},f.$$arity=1),e.defn(U,"$apply_header_subs",h=function(e){var t=this;return t.$apply_subs(e,G.get("SUBS")["$[]"]("header"))},h.$$arity=1),e.defn(U,"$extract_passthroughs",g=function(t){var i,o,a,_,p,d,f,h,g=this,b=l,m=l,y=l,v=l;return null==g.document&&(g.document=l),b=g.document.$compat_mode(),(i=(o=(a=t["$include?"]("++"))!==!1&&a!==l&&null!=a?a:t["$include?"]("$$"))!==!1&&o!==l&&null!=o?o:t["$include?"]("ss:"))===l||null==i||i.$$is_boolean&&1!=i||(t=(i=(o=t).$gsub,i.$$p=(_=function(){var t,i,o=_.$$s||this,a=l,p=l,d=l,f=l,h=l,g=l,m=l,y=l,v=l;if(null==o.passthroughs&&(o.passthroughs=l),null==u["~"]&&(u["~"]=l),a=u["~"],p=l,(t=(d=a["$[]"](4))["$nil_or_empty?"]())===l||null==t||t.$$is_boolean&&1!=t){if((t=(i=b!==!1&&b!==l&&null!=b)?d["$=="]("++"):b)!==l&&null!=t&&(!t.$$is_boolean||1==t))return function(){return(t=a["$[]"](2)["$nil_or_empty?"]())===l||null==t||t.$$is_boolean&&1!=t?""+a["$[]"](1)+"["+a["$[]"](2)+"]"+a["$[]"](3)+"++"+o.$extract_passthroughs(a["$[]"](5))+"++":""+a["$[]"](1)+a["$[]"](3)+"++"+o.$extract_passthroughs(a["$[]"](5))+"++"}();if(h=a["$[]"](2),(t=e.get("RUBY_ENGINE_OPAL"))===l||null==t||t.$$is_boolean&&1!=t||h["$=="]("")&&(h=l),g=a["$[]"](3).$size(),m=a["$[]"](5),y=!1,h!==!1&&h!==l&&null!=h){if(!((t=$(g,0))===l||null==t||t.$$is_boolean&&1!=t))return""+a["$[]"](1)+"["+h+"]"+n("\\",r(g,1))+d+a["$[]"](5)+d+")";a["$[]"](1)["$=="]("\\")?(p="["+h+"]",h=l):((t=(i=d["$=="]("++"))?h["$end_with?"]("x-"):d["$=="]("++"))===l||null==t||t.$$is_boolean&&1!=t||(y=!0,h=h["$[]"](c(0,-2,!0))),h=o.$parse_attributes(h))}else if((t=$(g,0))!==l&&null!=t&&(!t.$$is_boolean||1==t))return""+a["$[]"](1)+"["+h+"]"+n("\\",r(g,1))+d+a["$[]"](5)+d;v=function(){return d["$=="]("+++")?[]:["specialcharacters"]}(),f=o.passthroughs.$size(),h!==!1&&h!==l&&null!=h?y!==!1&&y!==l&&null!=y?o.passthroughs["$[]="](f,s(["text","subs","type","attributes"],{text:m,subs:G.get("SUBS")["$[]"]("normal"),type:"monospaced",attributes:h})):o.passthroughs["$[]="](f,s(["text","subs","type","attributes"],{text:m,subs:v,type:"unquoted",attributes:h})):o.passthroughs["$[]="](f,s(["text","subs"],{text:m,subs:v}))}else{if(a["$[]"](6)["$=="]("\\"))return a["$[]"](0)["$[]"](c(1,-1,!1));o.passthroughs["$[]="](f=o.passthroughs.$size(),s(["text","subs"],{text:o.$unescape_brackets(a["$[]"](8)),subs:function(){return(t=a["$[]"](7)["$nil_or_empty?"]())===l||null==t||t.$$is_boolean&&1!=t?o.$resolve_pass_subs(a["$[]"](7)):[]}()}))}return""+p+G.get("PASS_START")+f+G.get("PASS_END")},_.$$s=g,_.$$arity=0,_),i).call(o,G.get("PassInlineMacroRx"))),a=G.get("PassInlineRx")["$[]"](b),i=e.to_ary(a),m=null==i[0]?l:i[0],y=null==i[1]?l:i[1],v=null==i[2]?l:i[2],a,(i=(a=t["$include?"](m))!==!1&&a!==l&&null!=a?a:(p=y!==!1&&y!==l&&null!=y)?t["$include?"](y):y)===l||null==i||i.$$is_boolean&&1!=i||(t=(i=(a=t).$gsub,i.$$p=(d=function(){var t,n,$=d.$$s||this,r=l,i=l,o=l,a=l,_=l,p=l,f=l,h=l,g=l;if(null==$.passthroughs&&($.passthroughs=l),null==u["~"]&&(u["~"]=l),r=u["~"],i=r["$[]"](1),o=r["$[]"](2),a=function(){return(t=r["$[]"](3)["$start_with?"]("\\"))===l||null==t||t.$$is_boolean&&1!=t?l:"\\"}(),_=r["$[]"](4),p=r["$[]"](5),(t=e.get("RUBY_ENGINE_OPAL"))===l||null==t||t.$$is_boolean&&1!=t||o["$=="]("")&&(o=l),b!==!1&&b!==l&&null!=b?f=!0:(t=f=(n=o!==!1&&o!==l&&null!=o)?o["$end_with?"]("x-"):o)===l||null==t||t.$$is_boolean&&1!=t||(o=o["$[]"](c(0,-2,!0))),o!==!1&&o!==l&&null!=o){if((t=(n=_["$=="]("`"))?f["$!"]():_["$=="]("`"))!==l&&null!=t&&(!t.$$is_boolean||1==t))return""+i+"["+o+"]"+a+"`"+$.$extract_passthroughs(p)+"`";if(a!==!1&&a!==l&&null!=a)return""+i+"["+o+"]"+r["$[]"](3)["$[]"](c(1,-1,!1));i["$=="]("\\")?(i="["+o+"]",o=l):o=$.$parse_attributes(o)}else{if(!((t=(n=_["$=="]("`"))?f["$!"]():_["$=="]("`"))===l||null==t||t.$$is_boolean&&1!=t))return""+i+a+"`"+$.$extract_passthroughs(p)+"`";if(a!==!1&&a!==l&&null!=a)return""+i+r["$[]"](3)["$[]"](c(1,-1,!1))}return h=$.passthroughs.$size(),b!==!1&&b!==l&&null!=b?$.passthroughs["$[]="](h,s(["text","subs","attributes","type"],{text:p,subs:["specialcharacters"],attributes:o,type:"monospaced"})):o!==!1&&o!==l&&null!=o?f!==!1&&f!==l&&null!=f?(g=function(){return _["$=="]("`")?["specialcharacters"]:G.get("SUBS")["$[]"]("normal")}(),$.passthroughs["$[]="](h,s(["text","subs","attributes","type"],{text:p,subs:g,attributes:o,type:"monospaced"}))):$.passthroughs["$[]="](h,s(["text","subs","attributes","type"],{text:p,subs:["specialcharacters"],attributes:o,type:"unquoted"})):$.passthroughs["$[]="](h,s(["text","subs"],{text:p,subs:["specialcharacters"]})),""+i+G.get("PASS_START")+h+G.get("PASS_END")},d.$$s=g,d.$$arity=0,d),i).call(a,v)),p=t["$include?"](":"),(i=p!==!1&&p!==l&&null!=p?(f=t["$include?"]("stem:"))!==!1&&f!==l&&null!=f?f:t["$include?"]("math:"):p)===l||null==i||i.$$is_boolean&&1!=i||(t=(i=(p=t).$gsub,i.$$p=(h=function(){var e,t=h.$$s||this,n=l,$=l,r=l,i=l,o=l,a=l;return null==t.document&&(t.document=l),null==t.passthroughs&&(t.passthroughs=l),null==u["~"]&&(u["~"]=l),n=u["~"],(e=n["$[]"](0)["$start_with?"]("\\"))===l||null==e||e.$$is_boolean&&1!=e?(($=n["$[]"](1).$to_sym())["$=="]("stem")&&($=function(){return(e=(r=t.$document().$attributes()["$[]"]("stem"))["$nil_or_empty?"]())===l||null==e||e.$$is_boolean&&1!=e?r:"asciimath"}().$to_sym()),i=t.$unescape_brackets(n["$[]"](3)),o=(e=n["$[]"](2)["$nil_or_empty?"]())===l||null==e||e.$$is_boolean&&1!=e?t.$resolve_pass_subs(n["$[]"](2)):function(){return(e=t.document["$basebackend?"]("html"))===l||null==e||e.$$is_boolean&&1!=e?[]:["specialcharacters"]}(),t.passthroughs["$[]="](a=t.passthroughs.$size(),s(["text","subs","type"],{text:i,subs:o,type:$})),""+G.get("PASS_START")+a+G.get("PASS_END")):n["$[]"](0)["$[]"](c(1,-1,!1))},h.$$s=g,h.$$arity=0,h),i).call(p,G.get("StemInlineMacroRx"))),t},g.$$arity=1),e.defn(U,"$restore_passthroughs",b=function(e,t){var n,$,r,i,o=this;null==o.passthroughs&&(o.passthroughs=l),null==t&&(t=!0);try{return(n=($=t!==!1&&t!==l&&null!=t)?(r=o.passthroughs["$empty?"]())!==!1&&r!==l&&null!=r?r:e["$include?"](G.get("PASS_START"))["$!"]():t)===l||null==n||n.$$is_boolean&&1!=n?(n=($=e).$gsub,n.$$p=(i=function(){var e,t=i.$$s||this,n=l,$=l,r=l,o=l;return null==t.passthroughs&&(t.passthroughs=l),null==u["~"]&&(u["~"]=l),n=t.passthroughs["$[]"](u["~"]["$[]"](1).$to_i()),$=function(){return(e=r=n["$[]"]("subs"))===l||null==e||e.$$is_boolean&&1!=e?n["$[]"]("text"):t.$apply_subs(n["$[]"]("text"),r)}(),(e=o=n["$[]"]("type"))===l||null==e||e.$$is_boolean&&1!=e||($=G.get("Inline").$new(t,"quoted",$,s(["type","attributes"],{type:o,attributes:n["$[]"]("attributes")})).$convert()),(e=$["$include?"](G.get("PASS_START")))===l||null==e||e.$$is_boolean&&1!=e?$:t.$restore_passthroughs($,!1)},i.$$s=o,i.$$arity=0,i),n).call($,G.get("PASS_MATCH")):e}finally{t!==!1&&t!==l&&null!=t&&o.passthroughs.$clear()}},b.$$arity=-2),e.defn(U,"$sub_specialchars",m=function(e){var t,n,$,r=this;return(t=G.get("SUPPORTS_GSUB_RESULT_HASH"))===l||null==t||t.$$is_boolean&&1!=t?(t=(n=e).$gsub,t.$$p=($=function(){var e;$.$$s||this;return G.get("SPECIAL_CHARS")["$[]"]((e=u["~"])===l?l:e["$[]"](0))},$.$$s=r,$.$$arity=0,$),t).call(n,G.get("SPECIAL_CHARS_PATTERN")):e.$gsub(G.get("SPECIAL_CHARS_PATTERN"),G.get("SPECIAL_CHARS"))},m.$$arity=1),e.alias(U,"sub_specialcharacters","sub_specialchars"),G.get("RUBY_ENGINE")["$=="]("opal")&&(e.defn(U,"$sub_quotes",y=function(e){var t,n,$,r=this;return null==r.document&&(r.document=l),(t=(n=G.get("QUOTE_SUBS")["$[]"](r.document.$compat_mode())).$each,t.$$p=($=function(t,n,r){var i,o,a,s=$.$$s||this;return null==t&&(t=l),null==n&&(n=l),null==r&&(r=l),e=(i=(o=e).$gsub,i.$$p=(a=function(){var e=a.$$s||this;return null==u["~"]&&(u["~"]=l),e.$convert_quoted_text(u["~"],t,n)},a.$$s=s,a.$$arity=0,a),i).call(o,r)},$.$$s=r,$.$$arity=3,$),t).call(n),e},y.$$arity=1),e.defn(U,"$sub_replacements",v=function(e){var t,n,$,r=this;return(t=(n=G.get("REPLACEMENTS")).$each,t.$$p=($=function(t,n,r){var i,o,a,s=$.$$s||this;return null==t&&(t=l),null==n&&(n=l),null==r&&(r=l),e=(i=(o=e).$gsub,i.$$p=(a=function(){var e=a.$$s||this;return null==u["~"]&&(u["~"]=l),e.$do_replacement(u["~"],n,r)},a.$$s=s,a.$$arity=0,a),i).call(o,t)},$.$$s=r,$.$$arity=3,$),t).call(n),e},v.$$arity=1)),e.defn(U,"$do_replacement",w=function(e,t,n){var $,r=l,i=l;return($=(r=e["$[]"](0))["$include?"]("\\"))===l||null==$||$.$$is_boolean&&1!=$?function(){return i=n,"none"["$==="](i)?t:"leading"["$==="](i)?""+e["$[]"](1)+t:"bounding"["$==="](i)?""+e["$[]"](1)+t+e["$[]"](2):l}():r.$tr("\\","")},w.$$arity=3),e.defn(U,"$sub_attributes",k=function($,r){var i,o,a,_=this,p=l,d=l,f=l,h=l;return null==_.document&&(_.document=l),null==r&&(r=s([],{})),(i=$["$nil_or_empty?"]())===l||null==i||i.$$is_boolean&&1!=i?((i=p=e.get("String")["$==="]($))===l||null==i||i.$$is_boolean&&1!=i||($=[$]),d=_.document.$attributes(),f=l,h=[],(i=(o=$).$each,i.$$p=(a=function(n){var $,i,o,s,_,p=a.$$s||this,g=l,b=l;return null==n&&(n=l),g=!1,b=!1,($=n["$include?"]("{"))===l||null==$||$.$$is_boolean&&1!=$||(n=function(){var a=e.new_brk();try{return($=(i=n).$gsub,$.$$p=(o=function(){var n,$,i,s=o.$$s||this,_=l,p=l,h=l,m=l,y=l,v=l,w=l,k=l,x=l,E=l;return null==s.document&&(s.document=l),null==u["~"]&&(u["~"]=l),_=u["~"],(n=($=_["$[]"](1)["$=="]("\\"))!==!1&&$!==l&&null!=$?$:_["$[]"](4)["$=="]("\\"))===l||null==n||n.$$is_boolean&&1!=n?(n=_["$[]"](3)["$nil_or_empty?"]()["$!"]())===l||null==n||n.$$is_boolean&&1!=n?(n=d["$key?"](E=_["$[]"](2).$downcase()))===l||null==n||n.$$is_boolean&&1!=n?(n=G.get("INTRINSIC_ATTRIBUTES")["$key?"](E))===l||null==n||n.$$is_boolean&&1!=n?function(){return y=(n=f)!==!1&&n!==l&&null!=n?n:f=($=r["$[]"]("attribute_missing"))!==!1&&$!==l&&null!=$?$:d.$fetch("attribute-missing",G.get("Compliance").$attribute_missing()),"skip"["$==="](y)?_["$[]"](0):"drop-line"["$==="](y)?(s.$warn("asciidoctor: WARNING: dropping line containing reference to missing attribute: "+E),g=!0,e.brk("",a),void 0):"warn"["$==="](y)?(s.$warn("asciidoctor: WARNING: skipping reference to missing attribute: "+E),_["$[]"](0)):(b=!0,"")}():G.get("INTRINSIC_ATTRIBUTES")["$[]"](E):d["$[]"](E):(p=t((h=_["$[]"](3)).$length(),1),m=_["$[]"](2)["$[]"](c(p,-1,!1)),function(){return y=h,"set"["$==="](y)?(v=m.$split(":"),$=G.get("Parser").$store_attribute(v["$[]"](0),(i=v["$[]"](1))!==!1&&i!==l&&null!=i?i:"",s.document),n=e.to_ary($),w=null==n[0]?l:n[0],k=null==n[1]?l:n[1],$,k!==!1&&k!==l&&null!=k||d.$fetch("attribute-undefined",G.get("Compliance").$attribute_undefined())["$=="]("drop-line")&&(g=!0,e.brk("",a)),b=!0,""):"counter"["$==="](y)||"counter2"["$==="](y)?(v=m.$split(":"),x=s.document.$counter(v["$[]"](0),v["$[]"](1)),h["$=="]("counter2")?(b=!0,""):x):(s.$warn("asciidoctor: WARNING: illegal attribute directive: "+_["$[]"](3)),_["$[]"](0))}()):"{"+_["$[]"](2)+"}"},o.$$s=p,o.$$brk=a,o.$$arity=0,o),$).call(i,G.get("AttributeReferenceRx"))}catch(e){if(e===a)return e.$v;throw e}}()),($=(s=g)!==!1&&s!==l&&null!=s?s:(_=b!==!1&&b!==l&&null!=b)?n["$empty?"]():b)===l||null==$||$.$$is_boolean&&1!=$?h["$<<"](n):l},a.$$s=_,a.$$arity=1,a),i).call(o),p!==!1&&p!==l&&null!=p?n(h,G.get("EOL")):h):$},k.$$arity=-2),e.defn(U,"$sub_macros",x=function(t){var n,$,r,i,a,_,p,d,f,h,g,b,m,y,v,w,k,x,E,A,O,S=this,R=l,T=l,I=l,C=l,N=l,M=l;return null==S.document&&(S.document=l),(n=t["$nil_or_empty?"]())===l||null==n||n.$$is_boolean&&1!=n?(R=s([],{}),R["$[]="]("square_bracket",t["$include?"]("[")),R["$[]="]("round_bracket",t["$include?"]("(")),R["$[]="]("colon",T=t["$include?"](":")),R["$[]="]("macroish",(n=R["$[]"]("square_bracket"),n!==!1&&n!==l&&null!=n?T:n)),R["$[]="]("macroish_short_form",($=R["$[]"]("square_bracket"),n=$!==!1&&$!==l&&null!=$?T:$,n!==!1&&n!==l&&null!=n?t["$include?"](":["):n)),I=S.document.$attributes()["$has_key?"]("linkattrs"),C=S.document.$attributes()["$has_key?"]("experimental"),N=""+t,C!==!1&&C!==l&&null!=C&&($=R["$[]"]("macroish_short_form"),(n=$!==!1&&$!==l&&null!=$?(r=N["$include?"]("kbd:"))!==!1&&r!==l&&null!=r?r:N["$include?"]("btn:"):$)===l||null==n||n.$$is_boolean&&1!=n||(N=(n=($=N).$gsub,n.$$p=(i=function(){var e,t,n,$=i.$$s||this,r=l,o=l,a=l,_=l;return null==u["~"]&&(u["~"]=l),r=u["~"],(e=(o=r["$[]"](0))["$start_with?"]("\\"))===l||null==e||e.$$is_boolean&&1!=e?(e=o["$start_with?"]("kbd"))===l||null==e||e.$$is_boolean&&1!=e?(e=o["$start_with?"]("btn"))===l||null==e||e.$$is_boolean&&1!=e?l:(_=$.$unescape_bracketed_text(r["$[]"](1)),G.get("Inline").$new($,"button",_).$convert()):(a=$.$unescape_bracketed_text(r["$[]"](1)),a=a["$=="]("+")?["+"]:(e=(t=a.$split(G.get("KbdDelimiterRx"))).$inject,e.$$p=(n=function(e,t){var $;n.$$s||this;return null==e&&(e=l),null==t&&(t=l),($=t["$end_with?"]("++"))===l||null==$||$.$$is_boolean&&1!=$?e["$<<"](t.$strip()):(e["$<<"](t["$[]"](c(0,-3,!1)).$strip()),e["$<<"]("+")),e},n.$$s=$,n.$$arity=2,n),e).call(t,[]),G.get("Inline").$new($,"kbd",l,s(["attributes"],{attributes:s(["keys"],{keys:a})})).$convert()):o["$[]"](c(1,-1,!1))},i.$$s=S,i.$$arity=0,i),n).call($,G.get("KbdBtnInlineMacroRx"))),r=R["$[]"]("macroish"),(n=r!==!1&&r!==l&&null!=r?N["$include?"]("menu:"):r)===l||null==n||n.$$is_boolean&&1!=n||(N=(n=(r=N).$gsub,n.$$p=(a=function(){var e,t,n,$=a.$$s||this,r=l,i=l,o=l,_=l,p=l,d=l,f=l;return null==u["~"]&&(u["~"]=l),r=u["~"],(e=(i=r["$[]"](0))["$start_with?"]("\\"))===l||null==e||e.$$is_boolean&&1!=e?(o=r["$[]"](1),_=r["$[]"](2),(e=_["$!"]())===l||null==e||e.$$is_boolean&&1!=e?(e=f=function(){return(t=_["$include?"]("&gt;"))===l||null==t||t.$$is_boolean&&1!=t?function(){return(t=_["$include?"](","))===l||null==t||t.$$is_boolean&&1!=t?l:","}():"&gt;"}())===l||null==e||e.$$is_boolean&&1!=e?(p=[],d=_.$rstrip()):(p=(e=(t=_.$split(f)).$map,e.$$p=(n=function(e){n.$$s||this;return null==e&&(e=l),e.$strip()},n.$$s=$,n.$$arity=1,n),e).call(t),d=p.$pop()):(p=[],d=l),G.get("Inline").$new($,"menu",l,s(["attributes"],{attributes:s(["menu","submenus","menuitem"],{menu:o,submenus:p,menuitem:d})})).$convert()):i["$[]"](c(1,-1,!1))},a.$$s=S,a.$$arity=0,a),n).call(r,G.get("MenuInlineMacroRx"))),_=N["$include?"]('"'),(n=_!==!1&&_!==l&&null!=_?N["$include?"]("&gt;"):_)===l||null==n||n.$$is_boolean&&1!=n||(N=(n=(_=N).$gsub,n.$$p=(p=function(){var t,n,$,r,i,a=p.$$s||this,_=l,d=l,f=l,h=l,g=l,b=l;return null==u["~"]&&(u["~"]=l),_=u["~"],(t=(d=_["$[]"](0))["$start_with?"]("\\"))===l||null==t||t.$$is_boolean&&1!=t?(f=_["$[]"](1),n=($=(r=f.$split("&gt;")).$map,$.$$p=(i=function(e){i.$$s||this;return null==e&&(e=l),e.$strip()},i.$$s=a,i.$$arity=1,i),$).call(r),t=e.to_ary(n),h=null==t[0]?l:t[0],g=o.call(t,1),n,b=g.$pop(),G.get("Inline").$new(a,"menu",l,s(["attributes"],{attributes:s(["menu","submenus","menuitem"],{menu:h,submenus:g,menuitem:b})})).$convert()):d["$[]"](c(1,-1,!1))},p.$$s=S,p.$$arity=0,p),n).call(_,G.get("MenuInlineRx")))),d=M=S.document.$extensions(),(n=d!==!1&&d!==l&&null!=d?M["$inline_macros?"]():d)===l||null==n||n.$$is_boolean&&1!=n||(n=(d=M.$inline_macros()).$each,n.$$p=(f=function(e){var t,n,$,r=f.$$s||this;return null==e&&(e=l),N=(t=(n=N).$gsub,t.$$p=($=function(){var t,n=$.$$s||this,r=l,i=l,o=l;return null==u["~"]&&(u["~"]=l),r=u["~"],(t=r["$[]"](0)["$start_with?"]("\\"))===l||null==t||t.$$is_boolean&&1!=t?(i=r["$[]"](1),o=function(){return e.$config()["$[]"]("format")["$=="]("short")?s([],{}):e.$config()["$[]"]("content_model")["$=="]("attributes")?n.$parse_attributes(r["$[]"](2),(t=e.$config()["$[]"]("pos_attrs"))!==!1&&t!==l&&null!=t?t:[],s(["sub_input","unescape_input"],{sub_input:!0,unescape_input:!0})):s(["text"],{text:n.$unescape_bracketed_text(r["$[]"](2))})}(),e.$process_method()["$[]"](n,i,o)):r["$[]"](0)["$[]"](c(1,-1,!1))},$.$$s=r,$.$$arity=0,$),t).call(n,e.$instance().$regexp())},f.$$s=S,f.$$arity=1,f),n).call(d),h=R["$[]"]("macroish"),(n=h!==!1&&h!==l&&null!=h?(g=N["$include?"]("image:"))!==!1&&g!==l&&null!=g?g:N["$include?"]("icon:"):h)===l||null==n||n.$$is_boolean&&1!=n||(N=(n=(h=N).$gsub,n.$$p=(b=function(){var e,t,n,$=b.$$s||this,r=l,i=l,o=l,a=l,_=l,p=l;return null==$.document&&($.document=l),null==u["~"]&&(u["~"]=l),r=u["~"],(e=r["$[]"](0)["$start_with?"]("\\"))===l||null==e||e.$$is_boolean&&1!=e?(i=$.$unescape_bracketed_text(r["$[]"](2)),(e=r["$[]"](0)["$start_with?"]("icon:"))===l||null==e||e.$$is_boolean&&1!=e?(o="image",a=["alt","width","height"]):(o="icon",a=["size"]),_=$.$sub_attributes(r["$[]"](1)),o["$=="]("icon")||$.document.$register("images",_),p=$.$parse_attributes(i,a),e="alt",t=p,(n=t["$[]"](e))!==!1&&n!==l&&null!=n?n:t["$[]="](e,G.get("Helpers").$basename(_,!0).$tr("_-"," ")),G.get("Inline").$new($,"image",l,s(["type","target","attributes"],{type:o,target:_,attributes:p})).$convert()):r["$[]"](0)["$[]"](c(1,-1,!1))},b.$$s=S,b.$$arity=0,b),n).call(h,G.get("ImageInlineMacroRx"))),(n=(g=R["$[]"]("macroish_short_form"))!==!1&&g!==l&&null!=g?g:R["$[]"]("round_bracket"))===l||null==n||n.$$is_boolean&&1!=n||(N=(n=(g=N).$gsub,n.$$p=(m=function(){var t,n,$=m.$$s||this,r=l,i=l,o=l,a=l,_=l,p=l;return null==$.document&&($.document=l),null==u["~"]&&(u["~"]=l),r=u["~"],(t=r["$[]"](0)["$start_with?"]("\\"))===l||null==t||t.$$is_boolean&&1!=t?((t=e.get("RUBY_ENGINE_OPAL"))===l||null==t||t.$$is_boolean&&1!=t||r["$[]"](1)["$=="]("")&&r["$[]="](1,l),i=0,o=l,((t=a=r["$[]"](1))===l||null==t||t.$$is_boolean&&1!=t)&&(o=r["$[]"](3),n=o["$start_with?"]("("),(t=n!==!1&&n!==l&&null!=n?o["$end_with?"](")"):n)===l||null==t||t.$$is_boolean&&1!=t?i=2:(o=o["$[]"](c(1,-1,!0)),i=3)),(t=(n=a["$=="]("indexterm"))!==!1&&n!==l&&null!=n?n:i["$=="](3))===l||null==t||t.$$is_boolean&&1!=t?(p=(t=a["$!"]())===l||null==t||t.$$is_boolean&&1!=t?$.$normalize_string(r["$[]"](2),!0):$.$normalize_string(o),$.document.$register("indexterms",[p]),G.get("Inline").$new($,"indexterm",p,s(["type"],{type:"visible"})).$convert()):(_=(t=a["$!"]())===l||null==t||t.$$is_boolean&&1!=t?$.$split_simple_csv($.$normalize_string(r["$[]"](2),!0)):$.$split_simple_csv($.$normalize_string(o)),$.document.$register("indexterms",[].concat(e.to_a(_))),G.get("Inline").$new($,"indexterm",l,s(["attributes"],{attributes:s(["terms"],{terms:_})})).$convert())):r["$[]"](0)["$[]"](c(1,-1,!1))},m.$$s=S,m.$$arity=0,m),n).call(g,G.get("IndextermInlineMacroRx"))),(n=(y=T!==!1&&T!==l&&null!=T)?N["$include?"]("://"):T)===l||null==n||n.$$is_boolean&&1!=n||(N=(n=(y=N).$gsub,n.$$p=(v=function(){var t,n,$,r,i=v.$$s||this,o=l,a=l,_=l,p=l,d=l,f=l,h=l,g=l;return null==i.document&&(i.document=l),null==u["~"]&&(u["~"]=l),o=u["~"],(t=o["$[]"](2)["$start_with?"]("\\"))===l||null==t||t.$$is_boolean&&1!=t?((t=e.get("RUBY_ENGINE_OPAL"))===l||null==t||t.$$is_boolean&&1!=t||o["$[]"](3)["$=="]("")&&o["$[]="](3,l),(t=(n=o["$[]"](1)["$=="]("link:"))?o["$[]"](3)["$!"]():o["$[]"](1)["$=="]("link:"))===l||null==t||t.$$is_boolean&&1!=t?(a=function(){return(t=o["$[]"](1)["$!="]("link:"))===l||null==t||t.$$is_boolean&&1!=t?"":o["$[]"](1)}(),_=o["$[]"](2),p="",((t=(n=o["$[]"](3))!==!1&&n!==l&&null!=n?n:_["$!~"](G.get("UriTerminator")))===l||null==t||t.$$is_boolean&&1!=t)&&(d=u["~"]["$[]"](0),")"["$==="](d)?(_=_["$[]"](c(0,-2,!1)),p=")"):";"["$==="](d)?(n=a["$start_with?"]("&lt;"),(t=n!==!1&&n!==l&&null!=n?_["$end_with?"]("&gt;"):n)===l||null==t||t.$$is_boolean&&1!=t?(t=_["$end_with?"](");"))===l||null==t||t.$$is_boolean&&1!=t?(_=_["$[]"](c(0,-2,!1)),p=";"):(_=_["$[]"](c(0,-3,!1)),p=");"):(a=a["$[]"](c(4,-1,!1)),_=_["$[]"](c(0,-5,!1)))):":"["$==="](d)&&((t=_["$end_with?"]("):"))===l||null==t||t.$$is_boolean&&1!=t?(_=_["$[]"](c(0,-2,!1)),p=":"):(_=_["$[]"](c(0,-3,!1)),p="):"))),i.document.$register("links",_),f=s(["type","target"],{type:"link",target:_}),h=l,(t=o["$[]"](3)["$nil_or_empty?"]())===l||null==t||t.$$is_boolean&&1!=t?((t=(n=I!==!1&&I!==l&&null!=I)?($=o["$[]"](3)["$start_with?"]('"'))!==!1&&$!==l&&null!=$?$:(r=o["$[]"](3)["$include?"](","),r!==!1&&r!==l&&null!=r?o["$[]"](3)["$include?"]("="):r):I)===l||null==t||t.$$is_boolean&&1!=t?g=i.$sub_attributes(o["$[]"](3).$gsub("\\]","]")):(h=i.$parse_attributes(i.$sub_attributes(o["$[]"](3).$gsub("\\]","]")),[]),(t=h["$has_key?"]("id"))===l||null==t||t.$$is_boolean&&1!=t||f["$[]="]("id",h.$delete("id")),g=(t=h["$[]"](1))!==!1&&t!==l&&null!=t?t:""),(t=g["$end_with?"]("^"))===l||null==t||t.$$is_boolean&&1!=t||(g=g.$chop(),h!==!1&&h!==l&&null!=h?(t="window",n=h,($=n["$[]"](t))!==!1&&$!==l&&null!=$?$:n["$[]="](t,"_blank")):h=s(["window"],{window:"_blank"}))):g="",(t=g["$empty?"]())===l||null==t||t.$$is_boolean&&1!=t||(g=(t=i.document["$attr?"]("hide-uri-scheme"))===l||null==t||t.$$is_boolean&&1!=t?_:_.$sub(G.get("UriSniffRx"),""),h!==!1&&h!==l&&null!=h?h["$[]="]("role",("bare "+h["$[]"]("role")).$chomp(" ")):h=s(["role"],{role:"bare"})),h!==!1&&h!==l&&null!=h&&f["$[]="]("attributes",h),""+a+G.get("Inline").$new(i,"anchor",g,f).$convert()+p):o["$[]"](0)):""+o["$[]"](1)+o["$[]"](2)["$[]"](c(1,-1,!1))+o["$[]"](3)},v.$$s=S,v.$$arity=0,v),n).call(y,G.get("LinkInlineRx"))),k=R["$[]"]("macroish"),(n=(w=k!==!1&&k!==l&&null!=k?N["$include?"]("link:"):k)!==!1&&w!==l&&null!=w?w:N["$include?"]("mailto:"))===l||null==n||n.$$is_boolean&&1!=n||(N=(n=(w=N).$gsub,n.$$p=(x=function(){var e,t,n,$=x.$$s||this,r=l,i=l,o=l,a=l,_=l,p=l,d=l;return null==$.document&&($.document=l),null==u["~"]&&(u["~"]=l),r=u["~"],(e=r["$[]"](0)["$start_with?"]("\\"))===l||null==e||e.$$is_boolean&&1!=e?(i=r["$[]"](1),o=r["$[]"](0)["$start_with?"]("mailto:"),a=function(){return o!==!1&&o!==l&&null!=o?"mailto:"+i:i}(),_=s(["type","target"],{type:"link",target:a}),p=l,d=function(){return(e=(t=I!==!1&&I!==l&&null!=I)?(n=r["$[]"](2)["$start_with?"]('"'))!==!1&&n!==l&&null!=n?n:r["$[]"](2)["$include?"](","):I)===l||null==e||e.$$is_boolean&&1!=e?$.$sub_attributes(r["$[]"](2).$gsub("\\]","]")):(p=$.$parse_attributes($.$sub_attributes(r["$[]"](2).$gsub("\\]","]")),[]),(e=p["$key?"]("id"))===l||null==e||e.$$is_boolean&&1!=e||_["$[]="]("id",p.$delete("id")),o!==!1&&o!==l&&null!=o&&((e=p["$key?"](2))===l||null==e||e.$$is_boolean&&1!=e||(a=_["$[]="]("target",""+a+"?subject="+G.get("Helpers").$encode_uri(p["$[]"](2))),(e=p["$key?"](3))===l||null==e||e.$$is_boolean&&1!=e||(a=_["$[]="]("target",""+a+"&amp;body="+G.get("Helpers").$encode_uri(p["$[]"](3)))))),p["$[]"](1))}(),$.document.$register("links",a),(e=d["$end_with?"]("^"))===l||null==e||e.$$is_boolean&&1!=e||(d=d.$chop(),p!==!1&&p!==l&&null!=p?(e="window",t=p,(n=t["$[]"](e))!==!1&&n!==l&&null!=n?n:t["$[]="](e,"_blank")):p=s(["window"],{window:"_blank"})),(e=d["$empty?"]())===l||null==e||e.$$is_boolean&&1!=e||(o!==!1&&o!==l&&null!=o?d=i:(d=(e=$.document["$attr?"]("hide-uri-scheme"))===l||null==e||e.$$is_boolean&&1!=e?i:i.$sub(G.get("UriSniffRx"),""),p!==!1&&p!==l&&null!=p?p["$[]="]("role",("bare "+p["$[]"]("role")).$chomp(" ")):p=s(["role"],{role:"bare"}))),p!==!1&&p!==l&&null!=p&&_["$[]="]("attributes",p),G.get("Inline").$new($,"anchor",d,_).$convert()):r["$[]"](0)["$[]"](c(1,-1,!1))},x.$$s=S,x.$$arity=0,x),n).call(w,G.get("LinkInlineMacroRx"))),(n=N["$include?"]("@"))===l||null==n||n.$$is_boolean&&1!=n||(N=(n=(k=N).$gsub,n.$$p=(E=function(){var e,t=E.$$s||this,n=l,$=l,r=l,i=l,o=l;return null==t.document&&(t.document=l),null==u["~"]&&(u["~"]=l),n=u["~"],$=n["$[]"](0),(e=r=n["$[]"](1))===l||null==e||e.$$is_boolean&&1!=e?(o="mailto:"+$,t.document.$register("links",o),G.get("Inline").$new(t,"anchor",$,s(["type","target"],{type:"link",target:o})).$convert()):(i=r,"\\"["$==="](i)?$["$[]"](c(1,-1,!1)):$)},E.$$s=S,E.$$arity=0,E),n).call(k,G.get("EmailInlineMacroRx"))),A=R["$[]"]("macroish_short_form"),(n=A!==!1&&A!==l&&null!=A?N["$include?"]("footnote"):A)===l||null==n||n.$$is_boolean&&1!=n||(N=(n=(A=N).$gsub,n.$$p=(O=function(){var t,n,$,r,i=O.$$s||this,o=l,a=l,_=l,p=l,d=l,f=l,h=l;return null==i.document&&(i.document=l),null==u["~"]&&(u["~"]=l),o=u["~"],(t=o["$[]"](0)["$start_with?"]("\\"))===l||null==t||t.$$is_boolean&&1!=t?(o["$[]"](1)["$=="]("footnote")?(a=l,_=i.$restore_passthroughs(i.$sub_inline_xrefs(i.$sub_inline_anchors(i.$normalize_string(o["$[]"](2),!0))),!1),p=i.document.$counter("footnote-number"),i.document.$register("footnotes",G.get("Document").$$scope.get("Footnote").$new(p,a,_)),d=l,f=l):(n=o["$[]"](2).$split(",",2),t=e.to_ary(n),a=null==t[0]?l:t[0],_=null==t[1]?l:t[1],n,a=a.$strip(),(t=_["$nil_or_empty?"]())===l||null==t||t.$$is_boolean&&1!=t?(_=i.$restore_passthroughs(i.$sub_inline_xrefs(i.$sub_inline_anchors(i.$normalize_string(_,!0))),!1),p=i.document.$counter("footnote-number"),i.document.$register("footnotes",G.get("Document").$$scope.get("Footnote").$new(p,a,_)),d="ref",f=l):((t=h=(n=($=i.document.$references()["$[]"]("footnotes")).$find,n.$$p=(r=function(e){r.$$s||this;return null==e&&(e=l),e.$id()["$=="](a)},r.$$s=i,r.$$arity=1,r),n).call($))===l||null==t||t.$$is_boolean&&1!=t?(p=l,_=a):(p=h.$index(),_=h.$text()),
f=a,a=l,d="xref")),G.get("Inline").$new(i,"footnote",_,s(["attributes","id","target","type"],{attributes:s(["index"],{index:p}),id:a,target:f,type:d})).$convert()):o["$[]"](0)["$[]"](c(1,-1,!1))},O.$$s=S,O.$$arity=0,O),n).call(A,G.get("FootnoteInlineMacroRx"))),S.$sub_inline_xrefs(S.$sub_inline_anchors(N,R),R)):t},x.$$arity=1),e.defn(U,"$sub_inline_anchors",E=function(t,n){var $,r,i,o,a,_,p,d=this;return null==n&&(n=l),r=(i=n["$!"]())!==!1&&i!==l&&null!=i?i:n["$[]"]("square_bracket"),($=r!==!1&&r!==l&&null!=r?t["$include?"]("[[["):r)===l||null==$||$.$$is_boolean&&1!=$||(t=($=(r=t).$gsub,$.$$p=(o=function(){var e,t=o.$$s||this,n=l,$=l,r=l;return null==u["~"]&&(u["~"]=l),n=u["~"],(e=n["$[]"](0)["$start_with?"]("\\"))===l||null==e||e.$$is_boolean&&1!=e?($=r=n["$[]"](1),G.get("Inline").$new(t,"anchor",r,s(["type","target"],{type:"bibref",target:$})).$convert()):n["$[]"](0)["$[]"](c(1,-1,!1))},o.$$s=d,o.$$arity=0,o),$).call(r,G.get("InlineBiblioAnchorRx"))),a=(_=n["$!"]())!==!1&&_!==l&&null!=_?_:n["$[]"]("square_bracket"),($=(i=a!==!1&&a!==l&&null!=a?t["$include?"]("[["):a)!==!1&&i!==l&&null!=i?i:(a=(_=n["$!"]())!==!1&&_!==l&&null!=_?_:n["$[]"]("macroish"),a!==!1&&a!==l&&null!=a?t["$include?"]("anchor:"):a))===l||null==$||$.$$is_boolean&&1!=$||(t=($=(i=t).$gsub,$.$$p=(p=function(){var t,n,$=p.$$s||this,r=l,i=l,o=l;return null==u["~"]&&(u["~"]=l),r=u["~"],(t=r["$[]"](0)["$start_with?"]("\\"))===l||null==t||t.$$is_boolean&&1!=t?((t=e.get("RUBY_ENGINE_OPAL"))===l||null==t||t.$$is_boolean&&1!=t||(r["$[]"](1)["$=="]("")&&r["$[]="](1,l),r["$[]"](2)["$=="]("")&&r["$[]="](2,l),r["$[]"](4)["$=="]("")&&r["$[]="](4,l)),i=(t=r["$[]"](1))!==!1&&t!==l&&null!=t?t:r["$[]"](3),o=(t=(n=r["$[]"](2))!==!1&&n!==l&&null!=n?n:r["$[]"](4))!==!1&&t!==l&&null!=t?t:"["+i+"]",G.get("Inline").$new($,"anchor",o,s(["type","target"],{type:"ref",target:i})).$convert()):r["$[]"](0)["$[]"](c(1,-1,!1))},p.$$s=d,p.$$arity=0,p),$).call(i,G.get("InlineAnchorRx"))),t},E.$$arity=-2),e.defn(U,"$sub_inline_xrefs",A=function(t,n){var $,r,i,o,a=this;return null==n&&(n=l),($=(r=(i=n["$!"]())!==!1&&i!==l&&null!=i?i:n["$[]"]("macroish"))!==!1&&r!==l&&null!=r?r:t["$include?"]("&lt;&lt;"))===l||null==$||$.$$is_boolean&&1!=$||(t=($=(r=t).$gsub,$.$$p=(o=function(){var t,n,$,r,i,a,_=o.$$s||this,p=l,d=l,f=l,h=l,g=l,b=l,m=l,y=l;return null==_.document&&(_.document=l),null==u["~"]&&(u["~"]=l),p=u["~"],(t=p["$[]"](0)["$start_with?"]("\\"))===l||null==t||t.$$is_boolean&&1!=t?((t=e.get("RUBY_ENGINE_OPAL"))===l||null==t||t.$$is_boolean&&1!=t||p["$[]"](1)["$=="]("")&&p["$[]="](1,l),(t=p["$[]"](1))===l||null==t||t.$$is_boolean&&1!=t?(d=p["$[]"](2),((t=p["$[]"](3)["$nil_or_empty?"]())===l||null==t||t.$$is_boolean&&1!=t)&&(f=p["$[]"](3))):(n=($=(r=p["$[]"](1).$split(",",2)).$map,$.$$p=(i=function(e){i.$$s||this;return null==e&&(e=l),e.$strip()},i.$$s=_,i.$$arity=1,i),$).call(r),t=e.to_ary(n),d=null==t[0]?l:t[0],f=null==t[1]?l:t[1],n,d=d.$sub(G.get("DoubleQuotedRx"),"\\2"),f=function(){return(t=f["$nil_or_empty?"]())===l||null==t||t.$$is_boolean&&1!=t?f.$sub(G.get("DoubleQuotedMultiRx"),"\\2"):l}()),(t=d["$include?"]("#"))===l||null==t||t.$$is_boolean&&1!=t?(h=l,g=d):(n=d.$split("#"),t=e.to_ary(n),h=null==t[0]?l:t[0],g=null==t[1]?l:t[1],n),h!==!1&&h!==l&&null!=h?(h=G.get("Helpers").$rootname(h),(t=(n=_.document.$attributes()["$[]"]("docname")["$=="](h))!==!1&&n!==l&&null!=n?n:_.document.$references()["$[]"]("includes")["$include?"](h))===l||null==t||t.$$is_boolean&&1!=t?(b=function(){return g!==!1&&g!==l&&null!=g?""+h+"#"+g:h}(),h=""+_.document.$attributes()["$[]"]("relfileprefix")+h+_.document.$attributes().$fetch("outfilesuffix",".html"),m=function(){return g!==!1&&g!==l&&null!=g?""+h+"#"+g:h}()):(b=g,h=l,m="#"+g)):($=_.document.$references()["$[]"]("ids")["$has_key?"](g)["$!"](),n=$!==!1&&$!==l&&null!=$?(a=g["$include?"](" "))!==!1&&a!==l&&null!=a?a:g.$downcase()["$!="](g):$,(t=n!==!1&&n!==l&&null!=n?y=function(){return($=G.get("RUBY_MIN_VERSION_1_9"))===l||null==$||$.$$is_boolean&&1!=$?_.document.$references()["$[]"]("ids").$index(g):_.document.$references()["$[]"]("ids").$key(g)}():n)===l||null==t||t.$$is_boolean&&1!=t||(g=y),b=g,m="#"+g),G.get("Inline").$new(_,"anchor",f,s(["type","target","attributes"],{type:"xref",target:m,attributes:s(["path","fragment","refid"],{path:h,fragment:g,refid:b})})).$convert()):p["$[]"](0)["$[]"](c(1,-1,!1))},o.$$s=a,o.$$arity=0,o),$).call(r,G.get("XrefInlineMacroRx"))),t},A.$$arity=-2),e.defn(U,"$sub_callouts",O=function(t){var n,$,r,i=this,o=l;return o=function(){return(n=i["$attr?"]("line-comment"))===l||null==n||n.$$is_boolean&&1!=n?G.get("CalloutSourceRx"):new RegExp("(?:"+e.get("Regexp").$escape(i.$attr("line-comment"))+" )?"+G.get("CalloutSourceRxt"))}(),(n=($=t).$gsub,n.$$p=(r=function(){var e=r.$$s||this,t=l;return null==e.document&&(e.document=l),null==u["~"]&&(u["~"]=l),t=u["~"],t["$[]"](1)["$=="]("\\")?t["$[]"](0).$sub("\\",""):G.get("Inline").$new(e,"callout",t["$[]"](3),s(["id"],{id:e.document.$callouts().$read_next_id()})).$convert()},r.$$s=i,r.$$arity=0,r),n).call($,o)},O.$$arity=1),e.defn(U,"$sub_post_replacements",S=function(e){var t,$,r,i,o,a=this,c=l,_=l;return null==a.document&&(a.document=l),null==a.attributes&&(a.attributes=l),(t=($=a.document.$attributes()["$has_key?"]("hardbreaks"))!==!1&&$!==l&&null!=$?$:a.attributes["$has_key?"]("hardbreaks-option"))===l||null==t||t.$$is_boolean&&1!=t?(t=e["$include?"]("+"))===l||null==t||t.$$is_boolean&&1!=t?e:(t=(i=e).$gsub,t.$$p=(o=function(){var e=o.$$s||this;return null==u["~"]&&(u["~"]=l),G.get("Inline").$new(e,"break",u["~"]["$[]"](1),s(["type"],{type:"line"})).$convert()},o.$$s=a,o.$$arity=0,o),t).call(i,G.get("LineBreakRx")):(c=e.$split(G.get("EOL")),c.$size()["$=="](1)?e:(_=c.$pop(),n((t=($=c).$map,t.$$p=(r=function(e){var t=r.$$s||this;return null==e&&(e=l),G.get("Inline").$new(t,"break",e.$rstrip().$chomp(G.get("LINE_BREAK")),s(["type"],{type:"line"})).$convert()},r.$$s=a,r.$$arity=1,r),t).call($).$push(_),G.get("EOL"))))},S.$$arity=1),e.defn(U,"$convert_quoted_text",R=function(e,t,n){var $,r,i=this,o=l,a=l,u=l,_=l;if(o=l,($=e["$[]"](0)["$start_with?"]("\\"))!==l&&null!=$&&(!$.$$is_boolean||1==$)){if(($=(r=n["$=="]("constrained"))?(a=e["$[]"](2))["$nil_or_empty?"]()["$!"]():n["$=="]("constrained"))===l||null==$||$.$$is_boolean&&1!=$)return e["$[]"](0)["$[]"](c(1,-1,!1));o="["+a+"]"}return n["$=="]("constrained")?o!==!1&&o!==l&&null!=o?""+o+G.get("Inline").$new(i,"quoted",e["$[]"](3),s(["type"],{type:t})).$convert():(($=u=i.$parse_quoted_text_attributes(e["$[]"](2)))===l||null==$||$.$$is_boolean&&1!=$?_=l:(_=u.$delete("id"),t["$=="]("mark")&&(t="unquoted")),""+e["$[]"](1)+G.get("Inline").$new(i,"quoted",e["$[]"](3),s(["type","id","attributes"],{type:t,id:_,attributes:u})).$convert()):(($=u=i.$parse_quoted_text_attributes(e["$[]"](1)))===l||null==$||$.$$is_boolean&&1!=$?_=l:(_=u.$delete("id"),t["$=="]("mark")&&(t="unquoted")),G.get("Inline").$new(i,"quoted",e["$[]"](2),s(["type","id","attributes"],{type:t,id:_,attributes:u})).$convert())},R.$$arity=3),e.defn(U,"$parse_quoted_text_attributes",T=function(t){var r,i,a,u=this,c=l,_=l,p=l,d=l,f=l,h=l;return t===!1||t===l||null==t?l:(r=t["$empty?"]())===l||null==r||r.$$is_boolean&&1!=r?((r=t["$include?"]("{"))===l||null==r||r.$$is_boolean&&1!=r||(t=u.$sub_attributes(t)),t=t.$strip(),(r=t["$include?"](","))===l||null==r||r.$$is_boolean&&1!=r||(i=t.$split(",",2),r=e.to_ary(i),t=null==r[0]?l:r[0],c=null==r[1]?l:r[1],i),(r=t["$empty?"]())===l||null==r||r.$$is_boolean&&1!=r?(i=(a=t["$start_with?"]("."))!==!1&&a!==l&&null!=a?a:t["$start_with?"]("#"),(r=i!==!1&&i!==l&&null!=i?G.get("Compliance").$shorthand_property_syntax():i)===l||null==r||r.$$is_boolean&&1!=r?s(["role"],{role:t}):(_=t.$split("#",2),(r=$(_.$length(),1))===l||null==r||r.$$is_boolean&&1!=r?(p=l,d=[]):(i=_["$[]"](1).$split("."),r=e.to_ary(i),p=null==r[0]?l:r[0],d=o.call(r,1),i),f=function(){return(r=_["$[]"](0)["$empty?"]())===l||null==r||r.$$is_boolean&&1!=r?_["$[]"](0).$split("."):[]}(),(r=$(f.$length(),1))===l||null==r||r.$$is_boolean&&1!=r||f.$shift(),(r=$(d.$length(),0))===l||null==r||r.$$is_boolean&&1!=r||f.$concat(d),h=s([],{}),p!==!1&&p!==l&&null!=p&&h["$[]="]("id",p),((r=f["$empty?"]())===l||null==r||r.$$is_boolean&&1!=r)&&h["$[]="]("role",n(f," ")),h)):s([],{})):s([],{})},T.$$arity=1),e.defn(U,"$parse_attributes",I=function(e,t,n){var $,r=this,i=l,o=l;return null==r.document&&(r.document=l),null==t&&(t=["role"]),null==n&&(n=s([],{})),e===!1||e===l||null==e?l:($=e["$empty?"]())===l||null==$||$.$$is_boolean&&1!=$?(($=n["$[]"]("sub_input"))===l||null==$||$.$$is_boolean&&1!=$||(e=r.document.$sub_attributes(e)),($=n["$[]"]("unescape_input"))===l||null==$||$.$$is_boolean&&1!=$||(e=r.$unescape_bracketed_text(e)),i=l,($=n.$fetch("sub_result",!0))===l||null==$||$.$$is_boolean&&1!=$||(i=r),($=o=n["$[]"]("into"))===l||null==$||$.$$is_boolean&&1!=$?G.get("AttributeList").$new(e,i).$parse(t):G.get("AttributeList").$new(e,i).$parse_into(o,t)):s([],{})},I.$$arity=-2),e.defn(U,"$unescape_bracketed_text",C=function(e){var t;return(t=e["$empty?"]())===l||null==t||t.$$is_boolean&&1!=t?e.$strip().$tr(G.get("EOL")," ").$gsub("\\]","]"):""},C.$$arity=1),e.defn(U,"$normalize_string",N=function(e,t){var n,$=this;return null==t&&(t=!1),(n=e["$empty?"]())===l||null==n||n.$$is_boolean&&1!=n?t!==!1&&t!==l&&null!=t?$.$unescape_brackets(e.$strip().$tr(G.get("EOL")," ")):e.$strip().$tr(G.get("EOL")," "):""},N.$$arity=-2),e.defn(U,"$unescape_brackets",M=function(e){var t;return(t=e["$empty?"]())===l||null==t||t.$$is_boolean&&1!=t?e.$gsub("\\]","]"):""},M.$$arity=1),e.defn(U,"$split_simple_csv",L=function(e){var t,n,$,r,i,o=this,a=l,s=l,u=l;return(t=e["$empty?"]())===l||null==t||t.$$is_boolean&&1!=t?(t=e["$include?"]('"'))===l||null==t||t.$$is_boolean&&1!=t?a=(t=(r=e.$split(",")).$map,t.$$p=(i=function(e){i.$$s||this;return null==e&&(e=l),e.$strip()},i.$$s=o,i.$$arity=1,i),t).call(r):(a=[],s=[],u=!1,(t=(n=e).$each_char,t.$$p=($=function(e){var t=($.$$s||this,l);return null==e&&(e=l),function(){return t=e,","["$==="](t)?u!==!1&&u!==l&&null!=u?s.$push(e):(a["$<<"](s.$join().$strip()),s=[]):'"'["$==="](t)?u=u["$!"]():s.$push(e)}()},$.$$s=o,$.$$arity=1,$),t).call(n),a["$<<"](s.$join().$strip())):a=[],a},L.$$arity=1),e.defn(U,"$resolve_subs",z=function(e,i,o,a){var s,u,_,p=this,d=l,f=l,h=l,g=l;return null==i&&(i="block"),null==o&&(o=l),null==a&&(a=l),(s=e["$nil_or_empty?"]())===l||null==s||s.$$is_boolean&&1!=s?(d=l,f=G.get("SubModifierSniffRx")["$=~"](e),(s=(u=e.$tr(" ","").$split(",")).$each,s.$$p=(_=function(e){var n,$,a,s=(_.$$s||this,l),u=l,p=l,h=l,g=l,b=l;return null==e&&(e=l),s=l,f!==!1&&f!==l&&null!=f&&((u=e.$chr())["$=="]("+")?(s="append",e=e["$[]"](c(1,-1,!1))):u["$=="]("-")?(s="remove",e=e["$[]"](c(1,-1,!1))):(n=e["$end_with?"]("+"))===l||null==n||n.$$is_boolean&&1!=n||(s="prepend",e=e.$chop())),e=e.$to_sym(),(n=($=i["$=="]("inline"))?(a=e["$=="]("verbatim"))!==!1&&a!==l&&null!=a?a:e["$=="]("v"):i["$=="]("inline"))===l||null==n||n.$$is_boolean&&1!=n?(n=G.get("COMPOSITE_SUBS")["$key?"](e))===l||null==n||n.$$is_boolean&&1!=n?($=(a=i["$=="]("inline"))?e.$length()["$=="](1):i["$=="]("inline"),(n=$!==!1&&$!==l&&null!=$?G.get("SUB_SYMBOLS")["$key?"](e):$)===l||null==n||n.$$is_boolean&&1!=n?p=[e]:(h=G.get("SUB_SYMBOLS")["$[]"](e),p=(n=g=G.get("COMPOSITE_SUBS")["$[]"](h))===l||null==n||n.$$is_boolean&&1!=n?[h]:g)):p=G.get("COMPOSITE_SUBS")["$[]"](e):p=["specialcharacters"],s!==!1&&s!==l&&null!=s?((n=d)!==!1&&n!==l&&null!=n?n:d=function(){return o!==!1&&o!==l&&null!=o?o.$dup():[]}(),function(){return b=s,"append"["$==="](b)?d=t(d,p):"prepend"["$==="](b)?d=t(p,d):"remove"["$==="](b)?d=r(d,p):l}()):((n=d)!==!1&&n!==l&&null!=n?n:d=[],d=t(d,p))},_.$$s=p,_.$$arity=1,_),s).call(u),h=d["$&"](G.get("SUB_OPTIONS")["$[]"](i)),((s=r(d,h)["$empty?"]())===l||null==s||s.$$is_boolean&&1!=s)&&(g=r(d,h),p.$warn("asciidoctor: WARNING: invalid substitution type"+function(){return(s=$(g.$size(),1))===l||null==s||s.$$is_boolean&&1!=s?"":"s"}()+function(){return a!==!1&&a!==l&&null!=a?" for ":l}()+a+": "+n(g,", "))),h):[]},z.$$arity=-2),e.defn(U,"$resolve_block_subs",P=function(e,t,n){var $=this;return $.$resolve_subs(e,"block",t,n)},P.$$arity=3),e.defn(U,"$resolve_pass_subs",D=function(e){var t=this;return t.$resolve_subs(e,"inline",l,"passthrough macro")},D.$$arity=1),e.defn(U,"$highlight_source",B=function($,r,i){var o,a,_,p,d,f=this,h=l,g=l,b=l,m=l,y=l,v=l,w=l,k=l,x=l,E=l,A=l,O=l,S=l;return null==f.document&&(f.document=l),null==f.passthroughs&&(f.passthroughs=l),null==i&&(i=l),h=(o=i)!==!1&&o!==l&&null!=o?o:i=f.document.$attributes()["$[]"]("source-highlighter"),"coderay"["$==="](h)?((o=(a=g=null==e.Object.$$scope.CodeRay?l:"constant")!==!1&&a!==l&&null!=a?a:f.document.$attributes()["$[]"]("coderay-unavailable"))===l||null==o||o.$$is_boolean&&1!=o)&&((o=G.get("Helpers").$require_library("coderay",!0,"warn")["$nil?"]())===l||null==o||o.$$is_boolean&&1!=o?g=!0:f.document.$set_attr("coderay-unavailable","")):"pygments"["$==="](h)?((o=(a=g=null==e.Object.$$scope.Pygments?l:"constant")!==!1&&a!==l&&null!=a?a:f.document.$attributes()["$[]"]("pygments-unavailable"))===l||null==o||o.$$is_boolean&&1!=o)&&((o=G.get("Helpers").$require_library("pygments","pygments.rb","warn")["$nil?"]())===l||null==o||o.$$is_boolean&&1!=o?g=!0:f.document.$set_attr("pygments-unavailable","")):g=!1,g===!1||g===l||null==g?f.$sub_source($,r):(b=0,m=!1,r!==!1&&r!==l&&null!=r?(y=s([],{}),v=-1,w=function(){return(o=f["$attr?"]("line-comment"))===l||null==o||o.$$is_boolean&&1!=o?G.get("CalloutExtractRx"):new RegExp("(?:"+e.get("Regexp").$escape(f.$attr("line-comment"))+" )?"+G.get("CalloutExtractRxt"))}(),$=n((o=(a=$.$split(G.get("EOL"))).$map,o.$$p=(_=function(e){var n,$,r,i=_.$$s||this;return null==e&&(e=l),b=t(b,1),(n=($=e).$gsub,n.$$p=(r=function(){var e,t,n,$=(r.$$s||this,l);return null==u["~"]&&(u["~"]=l),$=u["~"],$["$[]"](1)["$=="]("\\")?$["$[]"](0).$sub("\\",""):((e=b,t=y,(n=t["$[]"](e))!==!1&&n!==l&&null!=n?n:t["$[]="](e,[]))["$<<"]($["$[]"](3)),v=b,l)},r.$$s=i,r.$$arity=0,r),n).call($,w)},_.$$s=f,_.$$arity=1,_),o).call(a),G.get("EOL")),m=v["$=="](b),(o=y["$empty?"]())===l||null==o||o.$$is_boolean&&1!=o||(y=l)):y=l,k=l,x=l,h=i,"coderay"["$==="](h)?((o=k=function(){return(p=f["$attr?"]("linenums"))===l||null==p||p.$$is_boolean&&1!=p?l:((p=f.document.$attributes()["$[]"]("coderay-linenums-mode"))!==!1&&p!==l&&null!=p?p:"table").$to_sym()}())===l||null==o||o.$$is_boolean&&1!=o||(o=f["$attr?"]("highlight",l,!1))===l||null==o||o.$$is_boolean&&1!=o||(x=f.$resolve_highlight_lines(f.$attr("highlight",l,!1))),E=e.get("CodeRay").$$scope.get("Duo")["$[]"](f.$attr("language","text",!1).$to_sym(),"html",s(["css","line_numbers","line_number_anchors","highlight_lines","bold_every"],{css:((o=f.document.$attributes()["$[]"]("coderay-css"))!==!1&&o!==l&&null!=o?o:"class").$to_sym(),line_numbers:k,line_number_anchors:!1,highlight_lines:x,bold_every:!1})).$highlight($)):"pygments"["$==="](h)&&(A=(o=e.get("Pygments").$$scope.get("Lexer")["$[]"](f.$attr("language",l,!1)))!==!1&&o!==l&&null!=o?o:e.get("Pygments").$$scope.get("Lexer")["$[]"]("text"),O=s(["cssclass","classprefix","nobackground"],{cssclass:"pyhl",classprefix:"tok-",nobackground:!0}),((o=f.document.$attributes()["$[]"]("pygments-css"))!==!1&&o!==l&&null!=o?o:"class")["$=="]("class")||(O["$[]="]("noclasses",!0),O["$[]="]("style",(o=f.document.$attributes()["$[]"]("pygments-style"))!==!1&&o!==l&&null!=o?o:G.get("Stylesheets").$$scope.get("DEFAULT_PYGMENTS_STYLE"))),(o=f["$attr?"]("highlight",l,!1))===l||null==o||o.$$is_boolean&&1!=o||((o=(x=f.$resolve_highlight_lines(f.$attr("highlight",l,!1)))["$empty?"]())===l||null==o||o.$$is_boolean&&1!=o)&&O["$[]="]("hl_lines",n(x," ")),(o=f["$attr?"]("linenums"))===l||null==o||o.$$is_boolean&&1!=o?(O["$[]="]("nowrap",!0),E=A.$highlight($,s(["options"],{options:O}))):O["$[]="]("linenos",(o=f.document.$attributes()["$[]"]("pygments-linenums-mode"))!==!1&&o!==l&&null!=o?o:"table")["$=="]("table")?(k="table",E=A.$highlight($,s(["options"],{options:O})).$sub(/<div class="pyhl">(.*)<\/div>/m,"\\1").$gsub(/<pre[^>]*>(.*?)<\/pre>\s*/m,"\\1")):E=A.$highlight($,s(["options"],{options:O})).$sub(/<div class="pyhl"><pre[^>]*>(.*?)<\/pre><\/div>/m,"\\1")),((o=f.passthroughs["$empty?"]())===l||null==o||o.$$is_boolean&&1!=o)&&(E=E.$gsub(G.get("PASS_MATCH_HI"),""+G.get("PASS_START")+"\\1"+G.get("PASS_END"))),(o=(p=r!==!1&&r!==l&&null!=r)?y:r)===l||null==o||o.$$is_boolean&&1!=o?E:(b=0,S=k["$!="]("table"),n((o=(p=E.$split(G.get("EOL"))).$map,o.$$p=(d=function(e){var $,r,i,o=d.$$s||this,a=l,u=l,_=l,p=l;if(null==o.document&&(o.document=l),null==e&&(e=l),S!==!1&&S!==l&&null!=S);else{if(($=e["$include?"]('<td class="code">'))===l||null==$||$.$$is_boolean&&1!=$)return e;S=!0}return b=t(b,1),($=a=y.$delete(b))===l||null==$||$.$$is_boolean&&1!=$?e:(u=l,($=(r=m!==!1&&m!==l&&null!=m)?y["$empty?"]():m)===l||null==$||$.$$is_boolean&&1!=$||(($=_=e.$index("</pre>"))===l||null==$||$.$$is_boolean&&1!=$?e=""+e.$chomp(" ")+" ":(u=e["$[]"](c(_,-1,!1)),e=""+e["$[]"](c(0,_,!0)).$chomp(" ")+" ")),a.$size()["$=="](1)?""+e+G.get("Inline").$new(o,"callout",a["$[]"](0),s(["id"],{id:o.document.$callouts().$read_next_id()})).$convert()+u:(p=n(($=(r=a).$map,$.$$p=(i=function(e){var t=i.$$s||this;return null==t.document&&(t.document=l),null==e&&(e=l),G.get("Inline").$new(t,"callout",e,s(["id"],{id:t.document.$callouts().$read_next_id()})).$convert()},i.$$s=o,i.$$arity=1,i),$).call(r)," "),""+e+p+u))},d.$$s=f,d.$$arity=1,d),o).call(p),G.get("EOL"))))},B.$$arity=-3),e.defn(U,"$resolve_highlight_lines",q=function(t){var n,$,i,o=this,a=l;return a=[],(n=($=t.$delete(" ").$split(G.get("DataDelimiterRx"))).$map,n.$$p=(i=function(t){var n,$,o=(i.$$s||this,l),s=l,u=l,_=l;return null==t&&(t=l),o=!1,(n=t["$start_with?"]("!"))===l||null==n||n.$$is_boolean&&1!=n||(t=t["$[]"](c(1,-1,!1)),o=!0),(n=t["$include?"]("-"))===l||null==n||n.$$is_boolean&&1!=n?o!==!1&&o!==l&&null!=o?a.$delete(t.$to_i()):a["$<<"](t.$to_i()):($=t.$split("-",2),n=e.to_ary($),s=null==n[0]?l:n[0],u=null==n[1]?l:n[1],$,_=c(s.$to_i(),u.$to_i(),!1).$to_a(),o!==!1&&o!==l&&null!=o?a=r(a,_):a.$concat(_))},i.$$s=o,i.$$arity=1,i),n).call($),a.$sort().$uniq()},q.$$arity=1),e.defn(U,"$sub_source",j=function(e,t){var n=this;return function(){return t!==!1&&t!==l&&null!=t?n.$sub_callouts(n.$sub_specialchars(e)):n.$sub_specialchars(e)}()},j.$$arity=2),e.defn(U,"$lock_in_subs",F=function(){var e,t,n,$,r,i,o=this,a=l,s=l,u=l;if(null==o.default_subs&&(o.default_subs=l),null==o.content_model&&(o.content_model=l),null==o.context&&(o.context=l),null==o.attributes&&(o.attributes=l),null==o.style&&(o.style=l),null==o.document&&(o.document=l),null==o.subs&&(o.subs=l),(e=o.default_subs)===l||null==e||e.$$is_boolean&&1!=e)if(s=o.content_model,"simple"["$==="](s))a=G.get("SUBS")["$[]"]("normal");else if("verbatim"["$==="](s))a=(e=(t=o.context["$=="]("listing"))!==!1&&t!==l&&null!=t?t:(n=o.context["$=="]("literal"))?o["$option?"]("listparagraph")["$!"]():o.context["$=="]("literal"))===l||null==e||e.$$is_boolean&&1!=e?o.context["$=="]("verse")?G.get("SUBS")["$[]"]("normal"):G.get("SUBS")["$[]"]("basic"):G.get("SUBS")["$[]"]("verbatim");else{if(!"raw"["$==="](s))return l;a=o.context["$=="]("stem")?G.get("SUBS")["$[]"]("basic"):G.get("SUBS")["$[]"]("pass")}else a=o.default_subs;return(e=u=o.attributes["$[]"]("subs"))===l||null==e||e.$$is_boolean&&1!=e?o.subs=a.$dup():o.subs=o.$resolve_block_subs(u,a,o.context),$=(r=o.context["$=="]("listing"))?o.style["$=="]("source"):o.context["$=="]("listing"),n=$!==!1&&$!==l&&null!=$?o.attributes["$[]"]("language"):$,t=n!==!1&&n!==l&&null!=n?o.document["$basebackend?"]("html"):n,(e=t!==!1&&t!==l&&null!=t?G.get("SUB_HIGHLIGHT")["$include?"](o.document.$attributes()["$[]"]("source-highlighter")):t)===l||null==e||e.$$is_boolean&&1!=e?l:o.subs=(e=(t=o.subs).$map,e.$$p=(i=function(e){i.$$s||this;return null==e&&(e=l),e["$=="]("specialcharacters")?"highlight":e},i.$$s=o,i.$$arity=1,i),e).call(t)},F.$$arity=0)}(d.base)}(i.base)},Opal.modules["asciidoctor/abstract_node"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}var $=(e.top,e),r=e.nil,i=(e.breaker,e.slice,e.module),l=e.klass,o=e.hash2,a=e.range;return e.add_stubs(["$include","$attr_reader","$attr_accessor","$==","$document","$to_s","$key?","$dup","$[]","$raise","$===","$attributes","$nil?","$has_key?","$[]=","$update","$converter","$include?","$split","$*","$push","$delete","$attr?","$empty?","$extname","$image_uri","$attr","$normalize_web_path","$<","$safe","$uriish?","$generate_data_uri_from_uri","$generate_data_uri","$normalize_system_path","$readable?","$warn","$respond_to?","$binread","$open","$read","$encode64","$require_library","$!","$content_type","$web_path","$new","$open_uri","$normalize_lines_from_string","$fetch","$read_asset","$!=","$is_root?","$join","$base_dir","$system_path"]),function($){var s,u=s=i($,"Asciidoctor"),c=(u.$$proto,u.$$scope);!function($,i){function s(){}var u,c,_,p,d,f,h,g,b,m,y,v,w,k,x,E,A,O,S,R,T,I,C,N,M,L,z,P,D,B,q=s=l($,i,"AbstractNode",s),j=q.$$proto,F=q.$$scope;return j.document=j.attributes=j.path_resolver=r,q.$include(F.get("Substitutors")),q.$attr_reader("parent"),q.$attr_reader("document"),q.$attr_reader("context"),q.$attr_reader("node_name"),q.$attr_accessor("id"),q.$attr_reader("attributes"),e.defn(q,"$initialize",u=function(e,t,n){var $,i=this;return null==n&&(n=o([],{})),t["$=="]("document")?i.document=e:e!==!1&&e!==r&&null!=e?(i.parent=e,i.document=e.$document()):(i.parent=r,i.document=r),i.context=t,i.node_name=t.$to_s(),i.attributes=function(){return($=n["$key?"]("attributes"))===r||null==$||$.$$is_boolean&&1!=$?o([],{}):n["$[]"]("attributes").$dup()}(),i.passthroughs=o([],{})},u.$$arity=-3),e.defn(q,"$parent=",c=function(e){var t=this;return t.parent=e,t.document=e.$document(),r},c.$$arity=1),e.defn(q,"$inline?",_=function(){var t=this;return t.$raise(e.get("NotImplementedError"))},_.$$arity=0),e.defn(q,"$block?",p=function(){var t=this;return t.$raise(e.get("NotImplementedError"))},p.$$arity=0),e.defn(q,"$attr",d=function(t,n,$){var i,l,o=this;return null==n&&(n=r),null==$&&($=!0),(i=e.get("Symbol")["$==="](t))===r||null==i||i.$$is_boolean&&1!=i||(t=t.$to_s()),o["$=="](o.document)&&($=!1),$!==!1&&$!==r&&null!=$?(i=(l=o.attributes["$[]"](t))!==!1&&l!==r&&null!=l?l:o.document.$attributes()["$[]"](t))!==!1&&i!==r&&null!=i?i:n:(i=o.attributes["$[]"](t))!==!1&&i!==r&&null!=i?i:n},d.$$arity=-2),e.defn(q,"$attr?",f=function(t,n,$){var i,l,o=this;return null==n&&(n=r),null==$&&($=!0),(i=e.get("Symbol")["$==="](t))===r||null==i||i.$$is_boolean&&1!=i||(t=t.$to_s()),o["$=="](o.document)&&($=!1),(i=n["$nil?"]())===r||null==i||i.$$is_boolean&&1!=i?$!==!1&&$!==r&&null!=$?n["$=="]((i=o.attributes["$[]"](t))!==!1&&i!==r&&null!=i?i:o.document.$attributes()["$[]"](t)):n["$=="](o.attributes["$[]"](t)):(i=o.attributes["$has_key?"](t))!==!1&&i!==r&&null!=i?i:(l=$!==!1&&$!==r&&null!=$)?o.document.$attributes()["$has_key?"](t):$},f.$$arity=-2),e.defn(q,"$set_attr",h=function(e,t,n){var $,i,l=this;return null==n&&(n=!0),!!(($=(i=n["$=="](!1))?l.attributes["$key?"](e):n["$=="](!1))===r||null==$||$.$$is_boolean&&1!=$)&&(l.attributes["$[]="](e,t),!0)},h.$$arity=-3),e.defn(q,"$set_option",g=function(e){var t,n=this;return(t=n.attributes["$has_key?"]("options"))===r||null==t||t.$$is_boolean&&1!=t?n.attributes["$[]="]("options",e):n.attributes["$[]="]("options",""+n.attributes["$[]"]("options")+","+e),n.attributes["$[]="](""+e+"-option","")},g.$$arity=1),e.defn(q,"$option?",b=function(e){var t=this;return t.attributes["$has_key?"](""+e+"-option")},b.$$arity=1),e.defn(q,"$update_attributes",m=function(e){var t=this;return t.attributes.$update(e),r},m.$$arity=1),e.defn(q,"$converter",y=function(){var e=this;return e.document.$converter()},y.$$arity=0),e.defn(q,"$role?",v=function(e){var t,n=this;return null==e&&(e=r),e!==!1&&e!==r&&null!=e?e["$=="]((t=n.attributes["$[]"]("role"))!==!1&&t!==r&&null!=t?t:n.document.$attributes()["$[]"]("role")):(t=n.attributes["$has_key?"]("role"))!==!1&&t!==r&&null!=t?t:n.document.$attributes()["$has_key?"]("role")},v.$$arity=-1),e.defn(q,"$role",w=function(){var e,t=this;return(e=t.attributes["$[]"]("role"))!==!1&&e!==r&&null!=e?e:t.document.$attributes()["$[]"]("role")},w.$$arity=0),e.defn(q,"$has_role?",k=function(e){var t,n,$=this,i=r;return!((t=i=(n=$.attributes["$[]"]("role"))!==!1&&n!==r&&null!=n?n:$.document.$attributes()["$[]"]("role"))===r||null==t||t.$$is_boolean&&1!=t)&&i.$split(" ")["$include?"](e)},k.$$arity=1),e.defn(q,"$roles",x=function(){var e,t,n=this,$=r;return(e=$=(t=n.attributes["$[]"]("role"))!==!1&&t!==r&&null!=t?t:n.document.$attributes()["$[]"]("role"))===r||null==e||e.$$is_boolean&&1!=e?[]:$.$split(" ")},x.$$arity=0),e.defn(q,"$add_role",E=function(e){var n,$,i=this,l=r;return(n=(l=(($=i.attributes["$[]"]("role"))!==!1&&$!==r&&null!=$?$:"").$split(" "))["$include?"](e))===r||null==n||n.$$is_boolean&&1!=n?i.attributes["$[]="]("role",t(l.$push(e)," ")):r},E.$$arity=1),e.defn(q,"$remove_role",A=function(e){var n,$,i=this,l=r;return(n=(l=(($=i.attributes["$[]"]("role"))!==!1&&$!==r&&null!=$?$:"").$split(" "))["$include?"](e))===r||null==n||n.$$is_boolean&&1!=n?r:(l.$delete(e),i.attributes["$[]="]("role",t(l," ")))},A.$$arity=1),e.defn(q,"$reftext?",O=function(){var e,t=this;return(e=t.attributes["$has_key?"]("reftext"))!==!1&&e!==r&&null!=e?e:t.document.$attributes()["$has_key?"]("reftext")},O.$$arity=0),e.defn(q,"$reftext",S=function(){var e,t=this;return(e=t.attributes["$[]"]("reftext"))!==!1&&e!==r&&null!=e?e:t.document.$attributes()["$[]"]("reftext")},S.$$arity=0),e.defn(q,"$icon_uri",R=function(t){var n,$=this,i=r;return(n=$["$attr?"]("icon"))===r||null==n||n.$$is_boolean&&1!=n?$.$image_uri(""+t+"."+$.document.$attr("icontype","png"),"iconsdir"):(n=e.get("File").$extname(i=$.$image_uri($.$attr("icon"),"iconsdir"))["$empty?"]())===r||null==n||n.$$is_boolean&&1!=n?i:""+i+"."+$.document.$attr("icontype","png")},R.$$arity=1),e.defn(q,"$media_uri",T=function(e,t){var n=this;return null==t&&(t="imagesdir"),n.$normalize_web_path(e,function(){return t!==!1&&t!==r&&null!=t?n.document.$attr(t):r}())},T.$$arity=-2),e.defn(q,"$image_uri",I=function(e,t){var $,i,l,o,a,s=this,u=r,c=r;return null==t&&(t="imagesdir"),i=n((u=s.document).$safe(),F.get("SafeMode").$$scope.get("SECURE")),($=i!==!1&&i!==r&&null!=i?u["$attr?"]("data-uri"):i)===r||null==$||$.$$is_boolean&&1!=$?s.$normalize_web_path(e,function(){return t!==!1&&t!==r&&null!=t?u.$attr(t):r}()):($=(i=F.get("Helpers")["$uriish?"](e))!==!1&&i!==r&&null!=i?i:(o=(a=t!==!1&&t!==r&&null!=t)?c=u.$attr(t):t,l=o!==!1&&o!==r&&null!=o?F.get("Helpers")["$uriish?"](c):o,l!==!1&&l!==r&&null!=l?e=s.$normalize_web_path(e,c,!1):l))===r||null==$||$.$$is_boolean&&1!=$?s.$generate_data_uri(e,t):($=u["$attr?"]("allow-uri-read"))===r||null==$||$.$$is_boolean&&1!=$?e:s.$generate_data_uri_from_uri(e,u["$attr?"]("cache-uri"))},I.$$arity=-2),e.defn(q,"$generate_data_uri",C=function(t,n){var $,i,l,s=this,u=r,c=r,_=r,p=r;return null==n&&(n=r),u=e.get("File").$extname(t),c=function(){return u["$=="](".svg")?"image/svg+xml":"image/"+u["$[]"](a(1,-1,!1))}(),_=n!==!1&&n!==r&&null!=n?s.$normalize_system_path(t,s.document.$attr(n),r,o(["target_name"],{target_name:"image"})):s.$normalize_system_path(t),($=e.get("File")["$readable?"](_))===r||null==$||$.$$is_boolean&&1!=$?(s.$warn("asciidoctor: WARNING: image to embed not found or not readable: "+_),"data:"+c+":base64,"):(p=r,p=($=e.get("IO")["$respond_to?"]("binread"))===r||null==$||$.$$is_boolean&&1!=$?($=(i=e.get("File")).$open,$.$$p=(l=function(e){l.$$s||this;return null==e&&(e=r),e.$read()},l.$$s=s,l.$$arity=1,l),$).call(i,_,"rb"):e.get("IO").$binread(_),"data:"+c+";base64,"+e.get("Base64").$encode64(p).$delete(F.get("EOL")))},C.$$arity=-2),e.defn(q,"$generate_data_uri_from_uri",N=function(t,n){var $,i,l,o=this,a=r,s=r;null==n&&(n=!1),n!==!1&&n!==r&&null!=n?F.get("Helpers").$require_library("open-uri/cached","open-uri-cached"):($=e.get("RUBY_ENGINE_OPAL")["$!"]())===r||null==$||$.$$is_boolean&&1!=$||e.get("OpenURI");try{return a=r,s=($=(i=o).$open,$.$$p=(l=function(e){l.$$s||this;return null==e&&(e=r),a=e.$content_type(),e.$read()},l.$$s=o,l.$$arity=1,l),$).call(i,t,"rb"),"data:"+a+";base64,"+e.get("Base64").$encode64(s).$delete(F.get("EOL"))}catch(n){if(!e.rescue(n,[F.get("StandardError")]))throw n;try{return o.$warn("asciidoctor: WARNING: could not retrieve image data from URI: "+t),t}finally{e.pop_exception()}}},N.$$arity=-2),e.defn(q,"$read_contents",M=function(n,$){var i,l,a,s,u,c=this,_=r,p=r,d=r;if(null==$&&($=o([],{})),_=c.document,(i=(l=F.get("Helpers")["$uriish?"](n))!==!1&&l!==r&&null!=l?l:(s=p=$["$[]"]("start"),a=s!==!1&&s!==r&&null!=s?F.get("Helpers")["$uriish?"](p):s,a!==!1&&a!==r&&null!=a?n=((s=c.path_resolver)!==!1&&s!==r&&null!=s?s:c.path_resolver=F.get("PathResolver").$new()).$web_path(n,p):a))===r||null==i||i.$$is_boolean&&1!=i)n=c.$normalize_system_path(n,$["$[]"]("start"),r,o(["target_name"],{target_name:(i=$["$[]"]("label"))!==!1&&i!==r&&null!=i?i:"asset"})),d=c.$read_asset(n,o(["normalize","warn_on_failure"],{normalize:$["$[]"]("normalize"),warn_on_failure:$.$fetch("warn_on_failure",!0)}));else if((i=_["$attr?"]("allow-uri-read"))===r||null==i||i.$$is_boolean&&1!=i)(i=$.$fetch("warn_on_failure",!0))===r||null==i||i.$$is_boolean&&1!=i||c.$warn("asciidoctor: WARNING: cannot retrieve contents of "+((i=$["$[]"]("label"))!==!1&&i!==r&&null!=i?i:"asset")+" at URI: "+n+" (allow-uri-read attribute not enabled)"),d=r;else{(i=_["$attr?"]("cache-uri"))===r||null==i||i.$$is_boolean&&1!=i||F.get("Helpers").$require_library("open-uri/cached","open-uri-cached");try{d=(i=(l=e.get("OpenURI")).$open_uri,i.$$p=(u=function(e){u.$$s||this;return null==e&&(e=r),e.$read()},u.$$s=c,u.$$arity=1,u),i).call(l,n),(i=$["$[]"]("normalize"))===r||null==i||i.$$is_boolean&&1!=i||(d=t(F.get("Helpers").$normalize_lines_from_string(d),F.get("EOL")))}catch(t){if(!e.rescue(t,[F.get("StandardError")]))throw t;try{(i=$.$fetch("warn_on_failure",!0))===r||null==i||i.$$is_boolean&&1!=i||c.$warn("asciidoctor: WARNING: could not retrieve contents of "+((i=$["$[]"]("label"))!==!1&&i!==r&&null!=i?i:"asset")+" at URI: "+n),d=r}finally{e.pop_exception()}}}return d},M.$$arity=-2),e.defn(q,"$read_asset",L=function(n,$){var i,l=this;return null==$&&($=o([],{})),((i=e.get("Hash")["$==="]($))===r||null==i||i.$$is_boolean&&1!=i)&&($=o(["warn_on_failure"],{warn_on_failure:$["$!="](!1)})),(i=e.get("File")["$readable?"](n))===r||null==i||i.$$is_boolean&&1!=i?((i=$["$[]"]("warn_on_failure"))===r||null==i||i.$$is_boolean&&1!=i||l.$warn("asciidoctor: WARNING: file does not exist or cannot be read: "+n),r):(i=$["$[]"]("normalize"))===r||null==i||i.$$is_boolean&&1!=i?e.get("IO").$read(n):t(F.get("Helpers").$normalize_lines_from_string(e.get("IO").$read(n)),F.get("EOL"))},L.$$arity=-2),e.defn(q,"$normalize_web_path",z=function(e,t,n){var $,i,l=this;return null==t&&(t=r),null==n&&(n=!0),($=(i=n!==!1&&n!==r&&null!=n)?F.get("Helpers")["$uriish?"](e):n)===r||null==$||$.$$is_boolean&&1!=$?(($=l.path_resolver)!==!1&&$!==r&&null!=$?$:l.path_resolver=F.get("PathResolver").$new()).$web_path(e,t):e},z.$$arity=-2),e.defn(q,"$normalize_system_path",P=function(t,$,i,l){var a,s=this,u=r,c=r;return null==$&&($=r),null==i&&(i=r),null==l&&(l=o([],{})),u=(a=s.path_resolver)!==!1&&a!==r&&null!=a?a:s.path_resolver=F.get("PathResolver").$new(),(a=n((c=s.document).$safe(),F.get("SafeMode").$$scope.get("SAFE")))===r||null==a||a.$$is_boolean&&1!=a?($!==!1&&$!==r&&null!=$||($=c.$base_dir()),i!==!1&&i!==r&&null!=i||(i=c.$base_dir())):$!==!1&&$!==r&&null!=$?((a=u["$is_root?"]($))===r||null==a||a.$$is_boolean&&1!=a)&&($=e.get("File").$join(c.$base_dir(),$)):$=c.$base_dir(),u.$system_path(t,$,i,l)},P.$$arity=-2),e.defn(q,"$normalize_asset_path",D=function(e,t,n){var $=this;return null==t&&(t="path"),null==n&&(n=!0),$.$normalize_system_path(e,$.document.$base_dir(),r,o(["target_name","recover"],{
target_name:t,recover:n}))},D.$$arity=-2),e.defn(q,"$is_uri?",B=function(e){return F.get("Helpers")["$uriish?"](e)},B.$$arity=1),r&&"is_uri?"}(c.base,null)}($.base)},Opal.modules["asciidoctor/abstract_block"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r=(e.top,e),i=e.nil,l=(e.breaker,e.slice,e.module),o=e.klass,a=e.hash2;return e.add_stubs(["$attr_accessor","$attr_reader","$attr_writer","$==","$!=","$level","$to_s","$playback_attributes","$convert","$converter","$*","$map","$file","$lineno","$include?","$!","$nil_or_empty?","$apply_title_subs","$title","$empty?","$<<","$select","$context","$>","$[]","$has_role?","$header?","$concat","$find_by","$to_proc","$each","$flatten","$delete","$title?","$attributes","$counter_increment","$index=","$+","$sectname","$counter","$numbered","$number=","$attr","$caption=","$special","$doctype","$assign_index","$reindex_sections"]),function(r){var s,u=s=l(r,"Asciidoctor"),c=(u.$$proto,u.$$scope);!function(r,l){function s(){}var u,c,_,p,d,f,h,g,b,m,y,v,w,k,x,E,A,O,S,R,T,I,C=s=o(r,l,"AbstractBlock",s),N=C.$$proto,M=C.$$scope;return N.document=N.attributes=N.blocks=N.source_location=N.subs=N.title=N.subbed_title=N.caption=N.next_section_index=N.context=N.style=N.id=N.header=N.next_section_number=i,C.$attr_accessor("content_model"),C.$attr_reader("subs"),C.$attr_reader("blocks"),C.$attr_accessor("level"),C.$attr_writer("title"),C.$attr_accessor("style"),C.$attr_accessor("caption"),C.$attr_accessor("source_location"),e.defn(C,"$initialize",u=function(t,n,$){var r,l,o,s=this,c=u.$$p,_=i,p=i;for(null==$&&($=a([],{})),u.$$p=null,_=[],p=0;p<arguments.length;p++)_[p]=arguments[p];return(l=s,r=e.find_super_dispatcher(s,"initialize",u,!1),r.$$p=c,r).apply(l,_),s.content_model="compound",s.subs=[],s.default_subs=i,s.blocks=[],s.id=i,s.title=i,s.caption=i,s.style=i,s.level=function(){return n["$=="]("document")?0:(r=(o=t!==!1&&t!==i&&null!=t)?n["$!="]("section"):t)===i||null==r||r.$$is_boolean&&1!=r?i:t.$level()}(),s.next_section_index=0,s.next_section_number=1,s.source_location=i},u.$$arity=-3),e.defn(C,"$block?",c=function(){return!0},c.$$arity=0),e.defn(C,"$inline?",_=function(){return!1},_.$$arity=0),e.defn(C,"$context=",p=function(e){var t=this;return t.context=e,t.node_name=e.$to_s()},p.$$arity=1),e.defn(C,"$convert",d=function(){var e=this;return e.document.$playback_attributes(e.attributes),e.$converter().$convert(e)},d.$$arity=0),e.alias(C,"render","convert"),e.defn(C,"$content",f=function(){var e,n,$,r=this;return t((e=(n=r.blocks).$map,e.$$p=($=function(e){$.$$s||this;return null==e&&(e=i),e.$convert()},$.$$s=r,$.$$arity=1,$),e).call(n),M.get("EOL"))},f.$$arity=0),e.defn(C,"$file",h=function(){var e,t=this;return(e=t.source_location)===i||null==e||e.$$is_boolean&&1!=e?i:t.source_location.$file()},h.$$arity=0),e.defn(C,"$lineno",g=function(){var e,t=this;return(e=t.source_location)===i||null==e||e.$$is_boolean&&1!=e?i:t.source_location.$lineno()},g.$$arity=0),e.defn(C,"$sub?",b=function(e){var t=this;return t.subs["$include?"](e)},b.$$arity=1),e.defn(C,"$title?",m=function(){var e=this;return e.title["$nil_or_empty?"]()["$!"]()},m.$$arity=0),e.defn(C,"$title",y=function(){var e,t,n=this;return t=n.subbed_title,(e=null!=t&&t!==i?"instance-variable":i)===i||null==e||e.$$is_boolean&&1!=e?(e=n.title)===i||null==e||e.$$is_boolean&&1!=e?n.title:n.subbed_title=n.$apply_title_subs(n.title):n.subbed_title},y.$$arity=0),e.defn(C,"$captioned_title",v=function(){var e=this;return""+e.caption+e.$title()},v.$$arity=0),e.defn(C,"$blocks?",w=function(){var e=this;return e.blocks["$empty?"]()["$!"]()},w.$$arity=0),e.defn(C,"$<<",k=function(e){var t=this;return t.blocks["$<<"](e),t},k.$$arity=1),e.alias(C,"append","<<"),e.defn(C,"$sections",x=function(){var e,t,n,$=this;return(e=(t=$.blocks).$select,e.$$p=(n=function(e){n.$$s||this;return null==e&&(e=i),e.$context()["$=="]("section")},n.$$s=$,n.$$arity=1,n),e).call(t)},x.$$arity=0),e.defn(C,"$sections?",E=function(){var e=this;return n(e.next_section_index,0)},E.$$arity=0),e.defn(C,"$find_by",A=function(t){var n,$,r,l,o,s,u,c=this,_=A.$$p,p=_||i,d=i,f=i,h=i,g=i,b=i,m=i;if(null==t&&(t=a([],{})),A.$$p=null,d=[],l=(o=f=(h=t["$[]"]("context"))["$!"]())!==!1&&o!==i&&null!=o?o:h["$=="](c.context),r=l!==!1&&l!==i&&null!=l?(o=(g=t["$[]"]("style"))["$!"]())!==!1&&o!==i&&null!=o?o:g["$=="](c.style):l,$=r!==!1&&r!==i&&null!=r?(l=(b=t["$[]"]("role"))["$!"]())!==!1&&l!==i&&null!=l?l:c["$has_role?"](b):r,(n=$!==!1&&$!==i&&null!=$?(r=(m=t["$[]"]("id"))["$!"]())!==!1&&r!==i&&null!=r?r:m["$=="](c.id):$)!==i&&null!=n&&(!n.$$is_boolean||1==n)){if(m!==!1&&m!==i&&null!=m)return p!==i?function(){return(n=e.yield1(p,c))===i||null==n||n.$$is_boolean&&1!=n?d:[c]}():[c];p!==i?(n=e.yield1(p,c))===i||null==n||n.$$is_boolean&&1!=n||d["$<<"](c):d["$<<"](c)}return $=(r=c.context["$=="]("document"))?(l=f)!==!1&&l!==i&&null!=l?l:h["$=="]("section"):c.context["$=="]("document"),(n=$!==!1&&$!==i&&null!=$?c["$header?"]():$)===i||null==n||n.$$is_boolean&&1!=n||d.$concat((n=($=c.header).$find_by,n.$$p=p.$to_proc(),n).call($,t)),h["$=="]("document")||(c.context["$=="]("dlist")?(n=(r=f)!==!1&&r!==i&&null!=r?r:h["$!="]("section"))===i||null==n||n.$$is_boolean&&1!=n||(n=(r=c.blocks.$flatten()).$each,n.$$p=(s=function(e){var n,$;s.$$s||this;return null==e&&(e=i),e!==!1&&e!==i&&null!=e?d.$concat((n=($=e).$find_by,n.$$p=p.$to_proc(),n).call($,t)):i},s.$$s=c,s.$$arity=1,s),n).call(r):(n=(l=(o=c.blocks).$each,l.$$p=(u=function(e){var n,$;u.$$s||this;return null==e&&(e=i),(n=($=h["$=="]("section"))?e.$context()["$!="]("section"):h["$=="]("section"))===i||null==n||n.$$is_boolean&&1!=n?d.$concat((n=($=e).$find_by,n.$$p=p.$to_proc(),n).call($,t)):i},u.$$s=c,u.$$arity=1,u),l).call(o))!==i&&null!=n&&(!n.$$is_boolean||1==n)),d},A.$$arity=-1),e.alias(C,"query","find_by"),e.defn(C,"$remove_sub",O=function(e){var t=this;return t.subs.$delete(e),i},O.$$arity=1),e.defn(C,"$assign_caption",S=function(e,t){var n,$,r=this,l=i,o=i,a=i,s=i;return null==e&&(e=i),null==t&&(t=i),(n=($=r["$title?"]())!==!1&&$!==i&&null!=$?$:r.caption["$!"]())===i||null==n||n.$$is_boolean&&1!=n?i:(e!==!1&&e!==i&&null!=e?r.caption=e:(n=l=r.document.$attributes()["$[]"]("caption"))===i||null==n||n.$$is_boolean&&1!=n?(n=r["$title?"]())===i||null==n||n.$$is_boolean&&1!=n||((n=t)!==!1&&n!==i&&null!=n?n:t=r.context.$to_s(),o=""+t+"-caption",(n=a=r.document.$attributes()["$[]"](o))===i||null==n||n.$$is_boolean&&1!=n||(s=r.document.$counter_increment(""+t+"-number",r),r.caption=""+a+" "+s+". ")):r.caption=l,i)},S.$$arity=-1),e.defn(C,"$list_marker_keyword",R=function(e){var t,n=this;return null==e&&(e=i),M.get("ORDERED_LIST_KEYWORDS")["$[]"]((t=e)!==!1&&t!==i&&null!=t?t:n.style)},R.$$arity=-1),e.defn(C,"$assign_index",T=function(e){var t,n,r,l,o=this,a=i,s=i;return t=[o.next_section_index],n=e,n["$index="].apply(n,t),t[t.length-1],o.next_section_index=$(o.next_section_index,1),e.$sectname()["$=="]("appendix")?(a=o.document.$counter("appendix-number","A"),(t=e.$numbered())===i||null==t||t.$$is_boolean&&1!=t||(t=[a],n=e,n["$number="].apply(n,t),t[t.length-1]),(t=(s=o.document.$attr("appendix-caption",""))["$empty?"]())===i||null==t||t.$$is_boolean&&1!=t?(t=[""+s+" "+a+": "],n=e,n["$caption="].apply(n,t),t[t.length-1]):(t=[""+a+". "],n=e,n["$caption="].apply(n,t),t[t.length-1])):(t=e.$numbered())===i||null==t||t.$$is_boolean&&1!=t?i:(n=(r=e.$level()["$=="](1))!==!1&&r!==i&&null!=r?r:(l=e.$level()["$=="](0))?e.$special():e.$level()["$=="](0),(t=n!==!1&&n!==i&&null!=n?o.document.$doctype()["$=="]("book"):n)===i||null==t||t.$$is_boolean&&1!=t?(t=[o.next_section_number],n=e,n["$number="].apply(n,t),t[t.length-1],o.next_section_number=$(o.next_section_number,1)):(t=[o.document.$counter("chapter-number",1)],n=e,n["$number="].apply(n,t),t[t.length-1]))},T.$$arity=1),e.defn(C,"$reindex_sections",I=function(){var e,t,n,$=this;return $.next_section_index=0,$.next_section_number=0,(e=(t=$.blocks).$each,e.$$p=(n=function(e){var t=n.$$s||this;return null==e&&(e=i),e.$context()["$=="]("section")?(t.$assign_index(e),e.$reindex_sections()):i},n.$$s=$,n.$$arity=1,n),e).call(t)},I.$$arity=0),i&&"reindex_sections"}(c.base,c.get("AbstractNode"))}(r.base)},Opal.modules["asciidoctor/attribute_list"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}var $=(e.top,e),r=e.nil,i=(e.breaker,e.slice,e.module),l=e.klass,o=e.hash2;return e.add_stubs(["$==","$new","$[]","$update","$parse","$parse_attribute","$eos?","$skip_delimiter","$+","$rekey","$each_with_index","$[]=","$skip_blank","$peek","$parse_attribute_value","$get_byte","$scan_name","$!","$!=","$*","$scan_to_delimiter","$===","$each","$split","$tr","$empty?","$apply_normal_subs","$scan_to_quote","$gsub","$skip","$scan"]),function($){var a,s=a=i($,"Asciidoctor"),u=(s.$$proto,s.$$scope);!function($,i){function a(){}var s,u,c,_,p,d,f,h,g,b,m,y,v=a=l($,i,"AttributeList",a),w=v.$$proto,k=v.$$scope;return w.attributes=w.scanner=w.delimiter=w.block=w.delimiter_skip_pattern=w.delimiter_boundary_pattern=r,e.get("RUBY_ENGINE")["$=="]("opal")&&(e.cdecl(k,"CG_BLANK","[ \\t]"),e.cdecl(k,"CC_WORD","a-zA-Z0-9_"),e.cdecl(k,"CG_WORD","[a-zA-Z0-9_]")),e.cdecl(k,"BoundaryRxs",o(['"',"'",","],{'"':/.*?[^\\](?=")/,"'":/.*?[^\\](?=')/,",":new RegExp(".*?(?="+k.get("CG_BLANK")+"*(,|$))")})),e.cdecl(k,"EscapedQuoteRxs",o(['"',"'"],{'"':/\\"/,"'":/\\'/})),e.cdecl(k,"NameRx",new RegExp(""+k.get("CG_WORD")+"["+k.get("CC_WORD")+"\\-.]*")),e.cdecl(k,"BlankRx",new RegExp(""+k.get("CG_BLANK")+"+")),e.cdecl(k,"SkipRxs",o(["blank",","],{blank:k.get("BlankRx"),",":new RegExp(""+k.get("CG_BLANK")+"*(,|$)")})),e.defn(v,"$initialize",s=function(t,n,$){var i=this;return null==n&&(n=r),null==$&&($=","),i.scanner=e.get("StringScanner").$new(t),i.block=n,i.delimiter=$,i.delimiter_skip_pattern=k.get("SkipRxs")["$[]"]($),i.delimiter_boundary_pattern=k.get("BoundaryRxs")["$[]"]($),i.attributes=r},s.$$arity=-2),e.defn(v,"$parse_into",u=function(e,t){var n=this;return null==t&&(t=[]),e.$update(n.$parse(t))},u.$$arity=-2),e.defn(v,"$parse",c=function(e){var n,$,i=this,l=r;if(null==e&&(e=[]),(n=i.attributes)!==r&&null!=n&&(!n.$$is_boolean||1==n))return i.attributes;for(i.attributes=o([],{}),l=0;($=i.$parse_attribute(l,e))!==r&&null!=$&&(!$.$$is_boolean||1==$)&&(($=i.scanner["$eos?"]())===r||null==$||$.$$is_boolean&&1!=$);)i.$skip_delimiter(),l=t(l,1);return i.attributes},c.$$arity=-1),e.defn(v,"$rekey",_=function(e){var t=this;return k.get("AttributeList").$rekey(t.attributes,e)},_.$$arity=1),e.defs(v,"$rekey",p=function(e,n){var $,i,l,o=this;return($=(i=n).$each_with_index,$.$$p=(l=function(n,$){var i,o=(l.$$s||this,r),a=r;return null==n&&(n=r),null==$&&($=r),n===!1||n===r||null==n?r:(o=t($,1),(i=a=e["$[]"](o))===r||null==i||i.$$is_boolean&&1!=i?r:e["$[]="](n,a))},l.$$s=o,l.$$arity=2,l),$).call(i),e},p.$$arity=2),e.defn(v,"$parse_attribute",d=function(e,$){var i,l,o,a,s,u=this,c=r,_=r,p=r,d=r,f=r,h=r,g=r,b=r,m=r;if(null==e&&(e=0),null==$&&($=[]),c=!1,u.$skip_blank(),(_=u.scanner.$peek(1))["$=="]('"'))p=u.$parse_attribute_value(u.scanner.$get_byte()),d=r;else if(_["$=="]("'"))p=u.$parse_attribute_value(u.scanner.$get_byte()),d=r,c=!0;else{if(p=u.$scan_name(),f=0,h=r,(i=u.scanner["$eos?"]())===r||null==i||i.$$is_boolean&&1!=i)f=(i=u.$skip_blank())!==!1&&i!==r&&null!=i?i:0,h=u.scanner.$get_byte();else if(p===!1||p===r||null==p)return!1;if((i=(l=h["$!"]())!==!1&&l!==r&&null!=l?l:h["$=="](u.delimiter))===r||null==i||i.$$is_boolean&&1!=i)if((i=(l=h["$!="]("="))!==!1&&l!==r&&null!=l?l:p["$!"]())===r||null==i||i.$$is_boolean&&1!=i){if(u.$skip_blank(),(i=u.scanner.$peek(1))!==r&&null!=i&&(!i.$$is_boolean||1==i))if((h=u.scanner.$get_byte())["$=="]('"'))d=u.$parse_attribute_value(h);else if(h["$=="]("'"))d=u.$parse_attribute_value(h),c=!0;else if(h["$=="](u.delimiter))d=r;else if(d=""+h+u.$scan_to_delimiter(),d["$=="]("None"))return!0}else p=""+p+n(" ",f)+h+u.$scan_to_delimiter(),d=r;else d=r}return d!==!1&&d!==r&&null!=d?(g=p,"options"["$==="](g)||"opts"["$==="](g)?(p="options",(i=(l=d.$tr(" ","").$split(",")).$each,i.$$p=(o=function(e){var t=o.$$s||this;return null==t.attributes&&(t.attributes=r),null==e&&(e=r),t.attributes["$[]="](""+e+"-option","")},o.$$s=u,o.$$arity=1,o),i).call(l),u.attributes["$[]="](p,d)):"title"["$==="](g)?u.attributes["$[]="](p,d):u.attributes["$[]="](p,function(){return a=(s=c!==!1&&c!==r&&null!=c)?d["$empty?"]()["$!"]():c,(i=a!==!1&&a!==r&&null!=a?u.block:a)===r||null==i||i.$$is_boolean&&1!=i?d:u.block.$apply_normal_subs(d)}())):(b=function(){return a=(s=c!==!1&&c!==r&&null!=c)?p["$empty?"]()["$!"]():c,(i=a!==!1&&a!==r&&null!=a?u.block:a)===r||null==i||i.$$is_boolean&&1!=i?p:u.block.$apply_normal_subs(p)}(),(i=m=$["$[]"](e))===r||null==i||i.$$is_boolean&&1!=i||u.attributes["$[]="](m,b),u.attributes["$[]="](t(e,1),b)),!0},d.$$arity=-1),e.defn(v,"$parse_attribute_value",f=function(e){var t,n=this,$=r;return n.scanner.$peek(1)["$=="](e)?(n.scanner.$get_byte(),""):(t=$=n.$scan_to_quote(e))===r||null==t||t.$$is_boolean&&1!=t?""+e+n.$scan_to_delimiter():(n.scanner.$get_byte(),$.$gsub(k.get("EscapedQuoteRxs")["$[]"](e),e))},f.$$arity=1),e.defn(v,"$skip_blank",h=function(){var e=this;return e.scanner.$skip(k.get("BlankRx"))},h.$$arity=0),e.defn(v,"$skip_delimiter",g=function(){var e=this;return e.scanner.$skip(e.delimiter_skip_pattern)},g.$$arity=0),e.defn(v,"$scan_name",b=function(){var e=this;return e.scanner.$scan(k.get("NameRx"))},b.$$arity=0),e.defn(v,"$scan_to_delimiter",m=function(){var e=this;return e.scanner.$scan(e.delimiter_boundary_pattern)},m.$$arity=0),e.defn(v,"$scan_to_quote",y=function(e){var t=this;return t.scanner.$scan(k.get("BoundaryRxs")["$[]"](e))},y.$$arity=1),r&&"scan_to_quote"}(u.base,null)}($.base)},Opal.modules["asciidoctor/block"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}var $=(e.top,e),r=e.nil,i=(e.breaker,e.slice,e.module),l=e.klass,o=e.hash2;return e.add_stubs(["$default=","$attr_accessor","$[]","$key?","$==","$===","$dup","$delete","$[]=","$lock_in_subs","$nil_or_empty?","$normalize_lines_from_string","$apply_subs","$*","$<","$size","$empty?","$rstrip","$shift","$pop","$warn","$to_s","$class","$object_id","$inspect"]),function($){var a,s=a=i($,"Asciidoctor"),u=(s.$$proto,s.$$scope);!function($,i){function a(){}var s,u,c,_,p,d,f=a=l($,i,"Block",a),h=f.$$proto,g=f.$$scope;return h.attributes=h.content_model=h.lines=h.subs=h.blocks=h.context=h.style=r,s=["simple"],u=e.cdecl(g,"DEFAULT_CONTENT_MODEL",o(["audio","image","listing","literal","stem","open","page_break","pass","thematic_break","video"],{audio:"empty",image:"empty",listing:"verbatim",literal:"verbatim",stem:"raw",open:"compound",page_break:"empty",pass:"raw",thematic_break:"empty",video:"empty"})),u["$default="].apply(u,s),s[s.length-1],e.alias(f,"blockname","context"),f.$attr_accessor("lines"),e.defn(f,"$initialize",c=function(t,n,$){var i,l,a=this,s=c.$$p,u=r,_=r,p=r,d=r;for(null==$&&($=o([],{})),c.$$p=null,p=[],d=0;d<arguments.length;d++)p[d]=arguments[d];return(l=a,i=e.find_super_dispatcher(a,"initialize",c,!1),i.$$p=s,i).apply(l,p),a.content_model=(i=$["$[]"]("content_model"))!==!1&&i!==r&&null!=i?i:g.get("DEFAULT_CONTENT_MODEL")["$[]"](n),(i=$["$key?"]("subs"))===r||null==i||i.$$is_boolean&&1!=i?(a.subs=[],a.default_subs=r):(i=u=$["$[]"]("subs"))===r||null==i||i.$$is_boolean&&1!=i?(a.subs=[],a.default_subs=[],a.attributes.$delete("subs")):(u["$=="]("default")?a.default_subs=$["$[]"]("default_subs"):(i=e.get("Array")["$==="](u))===r||null==i||i.$$is_boolean&&1!=i?(a.default_subs=r,a.attributes["$[]="]("subs",""+u)):(a.default_subs=u.$dup(),a.attributes.$delete("subs")),a.$lock_in_subs()),(i=(_=$["$[]"]("source"))["$nil_or_empty?"]())===r||null==i||i.$$is_boolean&&1!=i?(i=e.get("String")["$==="](_))===r||null==i||i.$$is_boolean&&1!=i?a.lines=_.$dup():a.lines=g.get("Helpers").$normalize_lines_from_string(_):a.lines=[]},c.$$arity=-3),e.defn(f,"$content",_=function(){var $,i,l,o,a=this,s=_.$$p,u=r,c=r,p=r,d=r,f=r,h=r;for(_.$$p=null,f=[],h=0;h<arguments.length;h++)f[h]=arguments[h];return function(){if(u=a.content_model,"compound"["$==="](u))return(i=a,$=e.find_super_dispatcher(a,"content",_,!1),$.$$p=s,$).apply(i,f);if("simple"["$==="](u))return a.$apply_subs(t(a.lines,g.get("EOL")),a.subs);if("verbatim"["$==="](u)||"raw"["$==="](u)){if(c=a.$apply_subs(a.lines,a.subs),($=n(c.$size(),2))===r||null==$||$.$$is_boolean&&1!=$){for(;o=p=c["$[]"](0),(l=o!==!1&&o!==r&&null!=o?p.$rstrip()["$empty?"]():o)!==r&&null!=l&&(!l.$$is_boolean||1==l);)c.$shift();for(;o=d=c["$[]"](-1),(l=o!==!1&&o!==r&&null!=o?d.$rstrip()["$empty?"]():o)!==r&&null!=l&&(!l.$$is_boolean||1==l);)c.$pop();return t(c,g.get("EOL"))}return c["$[]"](0)}return a.content_model["$=="]("empty")||a.$warn("Unknown content model '"+a.content_model+"' for block: "+a.$to_s()),r}()},_.$$arity=0),e.defn(f,"$source",p=function(){var e=this;return t(e.lines,g.get("EOL"))},p.$$arity=0),e.defn(f,"$to_s",d=function(){var e=this,t=r;return t=function(){return e.content_model["$=="]("compound")?"blocks: "+e.blocks.$size():"lines: "+e.lines.$size()}(),"#<"+e.$class()+"@"+e.$object_id()+" {context: "+e.context.$inspect()+", content_model: "+e.content_model.$inspect()+", style: "+e.style.$inspect()+", "+t+"}>"},d.$$arity=0),r&&"to_s"}(u.base,u.get("AbstractBlock"))}($.base)},Opal.modules["asciidoctor/callouts"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e<=t:e["$<="](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}var i=(e.top,e),l=e.nil,o=(e.breaker,e.slice,e.module),a=e.klass,s=e.hash2;return e.add_stubs(["$next_list","$<<","$current_list","$to_i","$generate_next_callout_id","$+","$<=","$size","$[]","$-","$chop","$join","$map","$==","$<","$generate_callout_id"]),function(i){var u,c=u=o(i,"Asciidoctor"),_=(c.$$proto,c.$$scope);!function(i,o){function u(){}var c,_,p,d,f,h,g,b,m,y=u=a(i,o,"Callouts",u),v=y.$$proto;y.$$scope;return v.co_index=v.lists=v.list_index=l,e.defn(y,"$initialize",c=function(){var e=this;return e.lists=[],e.list_index=0,e.$next_list()},c.$$arity=0),e.defn(y,"$register",_=function(e){var n=this,$=l;return n.$current_list()["$<<"](s(["ordinal","id"],{ordinal:e.$to_i(),id:$=n.$generate_next_callout_id()})),n.co_index=t(n.co_index,1),$},_.$$arity=1),e.defn(y,"$read_next_id",p=function(){var e,r=this,i=l,o=l;return i=l,o=r.$current_list(),(e=n(r.co_index,o.$size()))===l||null==e||e.$$is_boolean&&1!=e||(i=o["$[]"]($(r.co_index,1))["$[]"]("id")),r.co_index=t(r.co_index,1),i},p.$$arity=0),e.defn(y,"$callout_ids",d=function(e){var t,n,$,r=this;return(t=(n=r.$current_list()).$map,t.$$p=($=function(t){$.$$s||this;return null==t&&(t=l),t["$[]"]("ordinal")["$=="](e)?""+t["$[]"]("id")+" ":l},$.$$s=r,$.$$arity=1,$),t).call(n).$join().$chop()},d.$$arity=1),e.defn(y,"$current_list",f=function(){var e=this;return e.lists["$[]"]($(e.list_index,1))},f.$$arity=0),e.defn(y,"$next_list",h=function(){var e,n=this;return n.list_index=t(n.list_index,1),(e=r(n.lists.$size(),n.list_index))===l||null==e||e.$$is_boolean&&1!=e||n.lists["$<<"]([]),n.co_index=1,l},h.$$arity=0),e.defn(y,"$rewind",g=function(){var e=this;return e.list_index=1,e.co_index=1,l},g.$$arity=0),e.defn(y,"$generate_next_callout_id",b=function(){var e=this;return e.$generate_callout_id(e.list_index,e.co_index)},b.$$arity=0),e.defn(y,"$generate_callout_id",m=function(e,t){return"CO"+e+"-"+t},m.$$arity=2),l&&"generate_callout_id"}(_.base,null)}(i.base)},Opal.modules["asciidoctor/document"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>=t:e["$>="](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}var r=(e.top,e),i=e.nil,l=(e.breaker,e.slice,e.module),o=e.klass,a=e.hash2,s=e.range;return e.add_stubs(["$new","$attr_reader","$nil?","$<<","$[]","$[]=","$include?","$strip","$tr_s","$gsub","$empty?","$!","$rpartition","$delete","$base_dir","$inject","$==","$references","$callouts","$dup","$attributes","$each","$safe","$compat_mode","$sourcemap","$converter","$extensions","$start_with?","$end_with?","$chop","$downcase","$===","$const_get","$upcase","$to_s","$key?","$freeze","$attribute_undefined","$attribute_missing","$find","$constants","$expand_path","$pwd","$>=","$+","$length","$fetch","$abs","$to_i","$delete_if","$parse","$restore_attributes","$update_backend_attributes","$utc","$at","$now","$strftime","$join","$build_registry","$to_proc","$activate","$preprocessors?","$process_method","$preprocessors","$treeprocessors?","$!=","$treeprocessors","$nil_or_empty?","$nextval","$counter","$save_to","$chr","$ord","$source","$source_lines","$title=","$title","$first_section","$title?","$merge","$has_header?","$context","$assign_index","$clear_playback_attributes","$save_attributes","$attribute_locked?","$doctitle","$has_key?","$rewind","$name","$negate","$value","$limit","$apply_attribute_value_subs","$delete?","$update_doctype_attributes","$match","$resolve_pass_subs","$apply_subs","$apply_header_subs","$create_converter","$basebackend","$outfilesuffix","$filetype","$sub","$backend","$default","$create","$fail","$doctype","$content_model","$content","$convert","$postprocessors?","$postprocessors","$write","$respond_to?","$chomp","$open","$map","$split","$&","$normalize_system_path","$read_asset","$resolve_docinfo_subs","$sub_attributes","$docinfo_processors?","$*","$compact","$resolve_subs","$docinfo_processors","$class","$object_id","$inspect","$size"]),function(r){var u,c=u=l(r,"Asciidoctor"),_=(c.$$proto,c.$$scope);!function(r,l){function u(){}var c,_,p,d,f,h,g,b,m,y,v,w,k,x,E,A,O,S,R,T,I,C,N,M,L,z,P,D,B,q,j,F,U,G,H,Y,K,W,X,V,J,Z,Q,ee,te,ne,$e=u=o(r,l,"Document",u),re=$e.$$proto,ie=$e.$$scope;return re.attributes=re.safe=re.reader=re.base_dir=re.parsed=re.parent_document=re.extensions=re.options=re.counters=re.references=re.doctype=re.backend=re.header=re.blocks=re.attributes_modified=re.id=re.callouts=re.header_attributes=re.max_attribute_value_size=re.attribute_overrides=re.converter=re.outfilesuffix=re.docinfo_processor_extensions=re.document=i,e.cdecl(ie,"Footnote",e.get("Struct").$new("index","id","text")),function(t,n){function $(){}var r,l,a=$=o(t,n,"AttributeEntry",$);a.$$proto,a.$$scope;return a.$attr_reader("name","value","negate"),e.defn(a,"$initialize",r=function(e,t,n){var $,r=this;return null==n&&(n=i),r.name=e,r.value=t,r.negate=function(){return($=n["$nil?"]())===i||null==$||$.$$is_boolean&&1!=$?n:t["$nil?"]()}()},r.$$arity=-3),e.defn(a,"$save_to",l=function(e){var t,n,$,r=this;return(t="attribute_entries",n=e,($=n["$[]"](t))!==!1&&$!==i&&null!=$?$:n["$[]="](t,[]))["$<<"](r)},l.$$arity=1),i&&"save_to"}(ie.base,null),function(t,n){function $(){}var r,l,s,u,c=$=o(t,n,"Title",$),_=c.$$proto,p=c.$$scope;return _.sanitized=_.subtitle=_.combined=i,c.$attr_reader("main"),e.alias(c,"title","main"),c.$attr_reader("subtitle"),c.$attr_reader("combined"),e.defn(c,"$initialize",r=function(t,n){var $,r,l,o=this,s=i,u=i;return null==n&&(n=a([],{})),r=o.sanitized=n["$[]"]("sanitize"),($=r!==!1&&r!==i&&null!=r?t["$include?"]("<"):r)===i||null==$||$.$$is_boolean&&1!=$||(t=t.$gsub(p.get("XmlSanitizeRx"),"").$tr_s(" "," ").$strip()),($=(r=(s=(l=n["$[]"]("separator"))!==!1&&l!==i&&null!=l?l:":")["$empty?"]())!==!1&&r!==i&&null!=r?r:t["$include?"](s=""+s+" ")["$!"]())===i||null==$||$.$$is_boolean&&1!=$?(r=t.$rpartition(s),$=e.to_ary(r),o.main=null==$[0]?i:$[0],u=null==$[1]?i:$[1],o.subtitle=null==$[2]?i:$[2],r):(o.main=t,o.subtitle=i),o.combined=t},r.$$arity=-2),e.defn(c,"$sanitized?",l=function(){var e=this;return e.sanitized},l.$$arity=0),e.defn(c,"$subtitle?",s=function(){var e=this;return e.subtitle["$!"]()["$!"]()},s.$$arity=0),e.defn(c,"$to_s",u=function(){var e=this;return e.combined},u.$$arity=0),i&&"to_s"}(ie.base,null),$e.$attr_reader("safe"),$e.$attr_reader("compat_mode"),$e.$attr_reader("sourcemap"),$e.$attr_reader("references"),$e.$attr_reader("counters"),$e.$attr_reader("callouts"),$e.$attr_reader("header"),$e.$attr_reader("base_dir"),$e.$attr_reader("options"),$e.$attr_reader("outfilesuffix"),$e.$attr_reader("parent_document"),$e.$attr_reader("reader"),$e.$attr_reader("converter"),$e.$attr_reader("extensions"),e.defn($e,"$initialize",c=function($,r){var l,o,u,_,p,d,f,h,g,b,m,y,v,w,k=this,x=(c.$$p,i),E=i,A=i,O=i,S=i,R=i,T=i,I=i,C=i,N=i,M=i,L=i,z=i,P=i,D=i;if(null==$&&($=i),null==r&&(r=a([],{})),c.$$p=null,(o=k,l=e.find_super_dispatcher(k,"initialize",c,!1),l.$$p=null,l).call(o,k,"document"),(l=x=r.$delete("parent"))===i||null==l||l.$$is_boolean&&1!=l){if(k.parent_document=i,k.references=a(["ids","footnotes","links","images","indexterms","includes"],{ids:a([],{}),footnotes:[],links:[],images:[],indexterms:[],includes:e.get("Set").$new()}),k.callouts=ie.get("Callouts").$new(),E=a([],{}),(l=(f=(g=r["$[]"]("attributes"))!==!1&&g!==i&&null!=g?g:a([],{})).$each,l.$$p=(h=function(e,t){var n;h.$$s||this;return null==e&&(e=i),null==t&&(t=i),(n=e["$start_with?"]("!"))===i||null==n||n.$$is_boolean&&1!=n?(n=e["$end_with?"]("!"))===i||null==n||n.$$is_boolean&&1!=n||(e=e.$chop(),t=i):(e=e["$[]"](s(1,-1,!1)),t=i),E["$[]="](e.$downcase(),t)},h.$$s=k,h.$$arity=2,h),l).call(f),k.attribute_overrides=E,(l=(O=r["$[]"]("safe"))["$!"]())===i||null==l||l.$$is_boolean&&1!=l)if((l=e.get("Integer")["$==="](O))===i||null==l||l.$$is_boolean&&1!=l)try{k.safe=ie.get("SafeMode").$const_get(O.$to_s().$upcase())}catch(t){if(!e.rescue(t,[ie.get("StandardError")]))throw t;try{k.safe=ie.get("SafeMode").$$scope.get("SECURE")}finally{e.pop_exception()}}else k.safe=O;else k.safe=ie.get("SafeMode").$$scope.get("SECURE");k.compat_mode=E["$key?"]("compat-mode"),k.sourcemap=r["$[]"]("sourcemap"),k.converter=i,A=function(){try{return null!=e.get("Asciidoctor").$$scope.get("Extensions")?"constant":i}catch(t){if(t.$$class===e.NameError)return i;throw t}}(),k.extensions=i}else k.parent_document=x,l="base_dir",u=r,(_=u["$[]"](l))!==!1&&_!==i&&null!=_?_:u["$[]="](l,x.$base_dir()),k.references=(l=(u=x.$references()).$inject,l.$$p=(p=function(t,n){var $,r,l;p.$$s||this;return null==n&&(n=i),n=e.to_ary(n),$=e.slice.call(n,0,n.length),r=$.splice(0,1)[0],null==r&&(r=i),l=$.splice(0,1)[0],null==l&&(l=i),null==t&&(t=i),r["$=="]("footnotes")?t["$[]="]("footnotes",[]):t["$[]="](r,l),t},p.$$s=k,p.$$arity=2,p.$$has_top_level_mlhs_arg=!0,p),l).call(u,a([],{})),k.callouts=x.$callouts(),E=x.$attributes().$dup(),(l=(_=["doctype","compat-mode","toc","toc-placement","toc-position"]).$each,l.$$p=(d=function(e){d.$$s||this;return null==e&&(e=i),E.$delete(e)},d.$$s=k,d.$$arity=1,d),l).call(_),k.attribute_overrides=E,k.safe=x.$safe(),k.compat_mode=x.$compat_mode(),k.sourcemap=x.$sourcemap(),k.converter=x.$converter(),A=!1,k.extensions=x.$extensions();if(k.parsed=!1,k.header=i,k.counters=a([],{}),k.attributes_modified=e.get("Set").$new(),k.options=r,k.docinfo_processor_extensions=a([],{}),l="header_footer",g=r,S=(b=g["$[]"](l))!==!1&&b!==i&&null!=b?b:g["$[]="](l,!1),r.$freeze(),R=k.attributes,R["$[]="]("sectids",""),S!==!1&&S!==i&&null!=S||R["$[]="]("notitle",""),R["$[]="]("toc-placement","auto"),R["$[]="]("stylesheet",""),R["$[]="]("webfonts",""),S!==!1&&S!==i&&null!=S&&R["$[]="]("copycss",""),R["$[]="]("prewrap",""),R["$[]="]("attribute-undefined",ie.get("Compliance").$attribute_undefined()),R["$[]="]("attribute-missing",ie.get("Compliance").$attribute_missing()),R["$[]="]("iconfont-remote",""),R["$[]="]("caution-caption","Caution"),R["$[]="]("important-caption","Important"),R["$[]="]("note-caption","Note"),R["$[]="]("tip-caption","Tip"),R["$[]="]("warning-caption","Warning"),R["$[]="]("appendix-caption","Appendix"),R["$[]="]("example-caption","Example"),R["$[]="]("figure-caption","Figure"),R["$[]="]("table-caption","Table"),R["$[]="]("toc-title","Table of Contents"),R["$[]="]("manname-title","NAME"),R["$[]="]("untitled-label","Untitled"),R["$[]="]("version-label","Version"),R["$[]="]("last-update-label","Last updated"),E["$[]="]("asciidoctor",""),E["$[]="]("asciidoctor-version",ie.get("VERSION")),T=(l=(g=ie.get("SafeMode").$constants()).$find,l.$$p=(m=function(e){var t=m.$$s||this;return null==t.safe&&(t.safe=i),null==e&&(e=i),ie.get("SafeMode").$const_get(e)["$=="](t.safe)},m.$$s=k,m.$$arity=1,m),l).call(g).$to_s().$downcase(),E["$[]="]("safe-mode-name",T),E["$[]="]("safe-mode-"+T,""),E["$[]="]("safe-mode-level",k.safe),E["$[]="]("embedded",function(){return S!==!1&&S!==i&&null!=S?i:""}()),l="max-include-depth",b=E,(y=b["$[]"](l))!==!1&&y!==i&&null!=y?y:b["$[]="](l,64),l="allow-uri-read",b=E,(y=b["$[]"](l))!==!1&&y!==i&&null!=y?y:b["$[]="](l,i),E["$[]="]("user-home",ie.get("USER_HOME")),(l=E["$key?"]("numbered"))===i||null==l||l.$$is_boolean&&1!=l||E["$[]="]("sectnums",E.$delete("numbered")),(l=r["$[]"]("base_dir"))===i||null==l||l.$$is_boolean&&1!=l?(l=E["$[]"]("docdir"))===i||null==l||l.$$is_boolean&&1!=l?k.base_dir=E["$[]="]("docdir",e.get("File").$expand_path(e.get("Dir").$pwd())):k.base_dir=E["$[]="]("docdir",e.get("File").$expand_path(E["$[]"]("docdir"))):k.base_dir=E["$[]="]("docdir",e.get("File").$expand_path(r["$[]"]("base_dir"))),(l=I=r["$[]"]("backend"))===i||null==l||l.$$is_boolean&&1!=l||E["$[]="]("backend",""+I),(l=C=r["$[]"]("doctype"))===i||null==l||l.$$is_boolean&&1!=l||E["$[]="]("doctype",""+C),(l=t(k.safe,ie.get("SafeMode").$$scope.get("SERVER")))===i||null==l||l.$$is_boolean&&1!=l||(l="copycss",b=E,(y=b["$[]"](l))!==!1&&y!==i&&null!=y?y:b["$[]="](l,i),l="source-highlighter",b=E,(y=b["$[]"](l))!==!1&&y!==i&&null!=y?y:b["$[]="](l,i),l="backend",b=E,(y=b["$[]"](l))!==!1&&y!==i&&null!=y?y:b["$[]="](l,ie.get("DEFAULT_BACKEND")),b=x["$!"](),(l=b!==!1&&b!==i&&null!=b?E["$key?"]("docfile"):b)===i||null==l||l.$$is_boolean&&1!=l||E["$[]="]("docfile",E["$[]"]("docfile")["$[]"](s(n(E["$[]"]("docdir").$length(),1),-1,!1))),E["$[]="]("docdir",""),E["$[]="]("user-home","."),(l=t(k.safe,ie.get("SafeMode").$$scope.get("SECURE")))===i||null==l||l.$$is_boolean&&1!=l||(((l=E["$key?"]("max-attribute-value-size"))===i||null==l||l.$$is_boolean&&1!=l)&&E["$[]="]("max-attribute-value-size",4096),((l=E.$fetch("linkcss","")["$nil?"]())===i||null==l||l.$$is_boolean&&1!=l)&&E["$[]="]("linkcss",""),l="icons",b=E,(y=b["$[]"](l))!==!1&&y!==i&&null!=y?y:b["$[]="](l,i))),k.max_attribute_value_size=function(){return b="max-attribute-value-size",y=E,(l=N=(v=y["$[]"](b))!==!1&&v!==i&&null!=v?v:y["$[]="](b,i))===i||null==l||l.$$is_boolean&&1!=l?i:N.$to_i().$abs()}(),(l=(b=E).$delete_if,l.$$p=(w=function(t,n){var $,r,l=(w.$$s||this,i);return null==t&&(t=i),null==n&&(n=i),l=!1,($=n["$nil?"]())===i||null==$||$.$$is_boolean&&1!=$?(r=e.get("String")["$==="](n),($=r!==!1&&r!==i&&null!=r?n["$end_with?"]("@"):r)===i||null==$||$.$$is_boolean&&1!=$||(n=n.$chop(),l=!0),R["$[]="](t,n)):R.$delete(t),l},w.$$s=k,w.$$arity=2,w),l).call(b),x!==!1&&x!==i&&null!=x)return l="doctype",y=R,(v=y["$[]"](l))!==!1&&v!==i&&null!=v?v:y["$[]="](l,ie.get("DEFAULT_DOCTYPE")),k.reader=ie.get("Reader").$new($,r["$[]"]("cursor")),ie.get("Parser").$parse(k.reader,k),k.$restore_attributes(),k.parsed=!0;if((l="backend",y=R,(v=y["$[]"](l))!==!1&&v!==i&&null!=v?v:y["$[]="](l,ie.get("DEFAULT_BACKEND")))["$=="]("manpage")?R["$[]="]("doctype",E["$[]="]("doctype","manpage")):(l="doctype",y=R,(v=y["$[]"](l))!==!1&&v!==i&&null!=v?v:y["$[]="](l,ie.get("DEFAULT_DOCTYPE"))),k.$update_backend_attributes(R["$[]"]("backend"),!0),M=function(){return(l=e.get("ENV")["$[]"]("SOURCE_DATE_EPOCH"))===i||null==l||l.$$is_boolean&&1!=l?e.get("Time").$now():e.get("Time").$at(e.get("ENV")["$[]"]("SOURCE_DATE_EPOCH").$to_i()).$utc();
}(),l="localdate",y=R,L=(v=y["$[]"](l))!==!1&&v!==i&&null!=v?v:y["$[]="](l,M.$strftime("%Y-%m-%d")),(l=z=R["$[]"]("localtime"))===i||null==l||l.$$is_boolean&&1!=l)try{z=R["$[]="]("localtime",M.$strftime("%H:%M:%S %Z"))}catch(t){if(!e.rescue(t,[ie.get("StandardError")]))throw t;try{z=R["$[]="]("localtime",M.$strftime("%H:%M:%S %z"))}finally{e.pop_exception()}}else;return l="localdatetime",y=R,(v=y["$[]"](l))!==!1&&v!==i&&null!=v?v:y["$[]="](l,""+L+" "+z),l="docdate",y=R,(v=y["$[]"](l))!==!1&&v!==i&&null!=v?v:y["$[]="](l,L),l="doctime",y=R,(v=y["$[]"](l))!==!1&&v!==i&&null!=v?v:y["$[]="](l,z),l="docdatetime",y=R,(v=y["$[]"](l))!==!1&&v!==i&&null!=v?v:y["$[]="](l,""+L+" "+z),l="stylesdir",y=R,(v=y["$[]"](l))!==!1&&v!==i&&null!=v?v:y["$[]="](l,"."),l="iconsdir",y=R,(v=y["$[]"](l))!==!1&&v!==i&&null!=v?v:y["$[]="](l,e.get("File").$join(R.$fetch("imagesdir","./images"),"icons")),A!==!1&&A!==i&&null!=A&&((l=P=r["$[]"]("extensions_registry"))===i||null==l||l.$$is_boolean&&1!=l?P=(l=e.get("Proc")["$==="](D=r["$[]"]("extensions")))===i||null==l||l.$$is_boolean&&1!=l?ie.get("Extensions").$$scope.get("Registry").$new():(l=(y=ie.get("Extensions")).$build_registry,l.$$p=D.$to_proc(),l).call(y):((l=(y=ie.get("Extensions").$$scope.get("Registry")["$==="](P))!==!1&&y!==i&&null!=y?y:(v=e.get("RUBY_ENGINE_JRUBY"),v!==!1&&v!==i&&null!=v?e.get("AsciidoctorJ").$$scope.get("Extensions").$$scope.get("ExtensionRegistry")["$==="](P):v))===i||null==l||l.$$is_boolean&&1!=l)&&(P=ie.get("Extensions").$$scope.get("Registry").$new()),k.extensions=P.$activate(k)),k.reader=ie.get("PreprocessorReader").$new(k,$,ie.get("Reader").$$scope.get("Cursor").$new(R["$[]"]("docfile"),k.base_dir))},c.$$arity=-1),e.defn($e,"$parse",_=function(e){var t,n,$,r,l,o=this,s=i,u=i;return null==e&&(e=i),(t=o.parsed)===i||null==t||t.$$is_boolean&&1!=t?(s=o,e!==!1&&e!==i&&null!=e&&(o.reader=ie.get("PreprocessorReader").$new(s,e,ie.get("Reader").$$scope.get("Cursor").$new(o.attributes["$[]"]("docfile"),o.base_dir))),n=u=function(){return($=o.parent_document)===i||null==$||$.$$is_boolean&&1!=$?o.extensions:i}(),(t=n!==!1&&n!==i&&null!=n?u["$preprocessors?"]():n)===i||null==t||t.$$is_boolean&&1!=t||(t=(n=u.$preprocessors()).$each,t.$$p=(r=function(e){var t,n=r.$$s||this;return null==n.reader&&(n.reader=i),null==e&&(e=i),n.reader=(t=e.$process_method()["$[]"](s,n.reader))!==!1&&t!==i&&null!=t?t:n.reader},r.$$s=o,r.$$arity=1,r),t).call(n),ie.get("Parser").$parse(o.reader,s,a(["header_only"],{header_only:o.options["$[]"]("parse_header_only")["$!"]()["$!"]()})),o.$restore_attributes(),(t=($=u!==!1&&u!==i&&null!=u)?u["$treeprocessors?"]():u)===i||null==t||t.$$is_boolean&&1!=t||(t=($=u.$treeprocessors()).$each,t.$$p=(l=function(e){var t,n,$,r=(l.$$s||this,i);return null==e&&(e=i),$=r=e.$process_method()["$[]"](s),n=$!==!1&&$!==i&&null!=$?ie.get("Document")["$==="](r):$,(t=n!==!1&&n!==i&&null!=n?r["$!="](s):n)===i||null==t||t.$$is_boolean&&1!=t?i:s=r},l.$$s=o,l.$$arity=1,l),t).call($),o.parsed=!0,s):o},_.$$arity=-1),e.defn($e,"$counter",p=function(e,t){var n,$,r=this,l=i,o=i;return null==t&&(t=i),$=l=(o=r.attributes["$[]"](e))["$nil_or_empty?"]()["$!"](),(n=$!==!1&&$!==i&&null!=$?r.counters["$key?"](e):$)===i||null==n||n.$$is_boolean&&1!=n?((n=t["$nil?"]())===i||null==n||n.$$is_boolean&&1!=n?t.$to_i().$to_s()["$=="](t)&&(t=t.$to_i()):t=r.$nextval(function(){return l!==!1&&l!==i&&null!=l?o:0}()),r.counters["$[]="](e,t)):r.counters["$[]="](e,r.$nextval(o)),r.attributes["$[]="](e,r.counters["$[]"](e))},p.$$arity=-2),e.defn($e,"$counter_increment",d=function(e,t){var n=this,$=i;return $=n.$counter(e),ie.get("AttributeEntry").$new(e,$).$save_to(t.$attributes()),$},d.$$arity=2),e.defn($e,"$nextval",f=function(t){var $,r=i;return($=e.get("Integer")["$==="](t))===i||null==$||$.$$is_boolean&&1!=$?(r=t.$to_i(),($=r.$to_s()["$!="](t.$to_s()))===i||null==$||$.$$is_boolean&&1!=$?n(r,1):n(t["$[]"](0).$ord(),1).$chr()):n(t,1)},f.$$arity=1),e.defn($e,"$register",h=function(t,$,r){var l,o,a,s=this,u=i,c=i,_=i;return null==r&&(r=!1),function(){return u=t,"ids"["$==="](u)?(o=[].concat(e.to_a($)),l=e.to_ary(o),c=null==l[0]?i:l[0],_=null==l[1]?i:l[1],o,(l=_)!==!1&&l!==i&&null!=l?l:_=n(n("[",c),"]"),r!==!1&&r!==i&&null!=r?s.references["$[]"]("ids")["$[]="](c,_):(l=c,o=s.references["$[]"]("ids"),(a=o["$[]"](l))!==!1&&a!==i&&null!=a?a:o["$[]="](l,_))):"footnotes"["$==="](u)||"indexterms"["$==="](u)?s.references["$[]"](t)["$<<"]($):(l=s.options["$[]"]("catalog_assets"))===i||null==l||l.$$is_boolean&&1!=l?i:s.references["$[]"](t)["$<<"]($)}()},h.$$arity=-3),e.defn($e,"$footnotes?",g=function(){var e=this;return e.references["$[]"]("footnotes")["$empty?"]()["$!"]()},g.$$arity=0),e.defn($e,"$footnotes",b=function(){var e=this;return e.references["$[]"]("footnotes")},b.$$arity=0),e.defn($e,"$nested?",m=function(){var e=this;return e.parent_document["$!"]()["$!"]()},m.$$arity=0),e.defn($e,"$embedded?",y=function(){var e=this;return e.attributes["$key?"]("embedded")},y.$$arity=0),e.defn($e,"$extensions?",v=function(){var e=this;return e.extensions["$!"]()["$!"]()},v.$$arity=0),e.defn($e,"$source",w=function(){var e,t=this;return(e=t.reader)===i||null==e||e.$$is_boolean&&1!=e?i:t.reader.$source()},w.$$arity=0),e.defn($e,"$source_lines",k=function(){var e,t=this;return(e=t.reader)===i||null==e||e.$$is_boolean&&1!=e?i:t.reader.$source_lines()},k.$$arity=0),e.defn($e,"$doctype",x=function(){var e,t=this;return(e=t.doctype)!==!1&&e!==i&&null!=e?e:t.doctype=t.attributes["$[]"]("doctype")},x.$$arity=0),e.defn($e,"$backend",E=function(){var e,t=this;return(e=t.backend)!==!1&&e!==i&&null!=e?e:t.backend=t.attributes["$[]"]("backend")},E.$$arity=0),e.defn($e,"$basebackend?",A=function(e){var t=this;return t.attributes["$[]"]("basebackend")["$=="](e)},A.$$arity=1),e.defn($e,"$title",O=function(){var e=this;return e.attributes["$[]"]("title")},O.$$arity=0),e.defn($e,"$title=",S=function(e){var t,n,$=this;return(t=$.header)!==!1&&t!==i&&null!=t?t:$.header=ie.get("Section").$new($,0),t=[e],n=$.header,n["$title="].apply(n,t),t[t.length-1]},S.$$arity=1),e.defn($e,"$doctitle",R=function(e){var t,n,$=this,r=i,l=i,o=i;if(null==e&&(e=a([],{})),(t=(r=$.attributes["$[]"]("title")["$nil_or_empty?"]())["$!"]())===i||null==t||t.$$is_boolean&&1!=t)if(n=l=$.$first_section(),(t=n!==!1&&n!==i&&null!=n?l["$title?"]():n)===i||null==t||t.$$is_boolean&&1!=t){if(n=e["$[]"]("use_fallback"),(t=n!==!1&&n!==i&&null!=n?r=$.attributes["$[]"]("untitled-label"):n)===i||null==t||t.$$is_boolean&&1!=t)return i}else r=l.$title();else r=$.$title();return(t=o=e["$[]"]("partition"))===i||null==t||t.$$is_boolean&&1!=t?(n=e["$[]"]("sanitize"),(t=n!==!1&&n!==i&&null!=n?r["$include?"]("<"):n)===i||null==t||t.$$is_boolean&&1!=t?r:r.$gsub(ie.get("XmlSanitizeRx"),"").$tr_s(" "," ").$strip()):ie.get("Title").$new(r,e.$merge(a(["separator"],{separator:function(){return o["$=="](!0)?$.attributes["$[]"]("title-separator"):o}()})))},R.$$arity=-1),e.alias($e,"name","doctitle"),e.defn($e,"$author",T=function(){var e=this;return e.attributes["$[]"]("author")},T.$$arity=0),e.defn($e,"$revdate",I=function(){var e=this;return e.attributes["$[]"]("revdate")},I.$$arity=0),e.defn($e,"$notitle",C=function(){var e,t=this;return e=t.attributes["$key?"]("showtitle")["$!"](),e!==!1&&e!==i&&null!=e?t.attributes["$key?"]("notitle"):e},C.$$arity=0),e.defn($e,"$noheader",N=function(){var e=this;return e.attributes["$key?"]("noheader")},N.$$arity=0),e.defn($e,"$nofooter",M=function(){var e=this;return e.attributes["$key?"]("nofooter")},M.$$arity=0),e.defn($e,"$first_section",L=function(){var e,t,n,$,r=this;return(e=r["$has_header?"]())===i||null==e||e.$$is_boolean&&1!=e?(e=(t=($=r.blocks)!==!1&&$!==i&&null!=$?$:[]).$find,e.$$p=(n=function(e){n.$$s||this;return null==e&&(e=i),e.$context()["$=="]("section")},n.$$s=r,n.$$arity=1,n),e).call(t):r.header},L.$$arity=0),e.defn($e,"$has_header?",z=function(){var e,t=this;return!((e=t.header)===i||null==e||e.$$is_boolean&&1!=e)},z.$$arity=0),e.alias($e,"header?","has_header?"),e.defn($e,"$<<",P=function(t){var n,$,r=this,l=P.$$p,o=i,a=i;for(P.$$p=null,o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];return t.$context()["$=="]("section")&&r.$assign_index(t),($=r,n=e.find_super_dispatcher(r,"<<",P,!1),n.$$p=l,n).apply($,o)},P.$$arity=1),e.defn($e,"$finalize_header",D=function(e,t){var n=this;return null==t&&(t=!0),n.$clear_playback_attributes(e),n.$save_attributes(),t!==!1&&t!==i&&null!=t||e["$[]="]("invalid-header",!0),e},D.$$arity=-2),e.defn($e,"$save_attributes",B=function(){var e,t,n,$,r=this,l=i,o=i,a=i,s=i,u=i,c=i,_=i,p=i,d=i;return(l=r.attributes)["$[]"]("basebackend")["$=="]("docbook")&&(((e=(t=r["$attribute_locked?"]("toc"))!==!1&&t!==i&&null!=t?t:r.attributes_modified["$include?"]("toc"))===i||null==e||e.$$is_boolean&&1!=e)&&l["$[]="]("toc",""),((e=(t=r["$attribute_locked?"]("sectnums"))!==!1&&t!==i&&null!=t?t:r.attributes_modified["$include?"]("sectnums"))===i||null==e||e.$$is_boolean&&1!=e)&&l["$[]="]("sectnums","")),((e=(t=l["$key?"]("doctitle"))!==!1&&t!==i&&null!=t?t:(o=r.$doctitle())["$!"]())===i||null==e||e.$$is_boolean&&1!=e)&&l["$[]="]("doctitle",o),((e=r.id)===i||null==e||e.$$is_boolean&&1!=e)&&(r.id=l["$[]"]("css-signature")),a=function(){return(e=s=function(){return(t=l.$delete("toc2"))===i||null==t||t.$$is_boolean&&1!=t?l["$[]"]("toc"):"left"}())===i||null==e||e.$$is_boolean&&1!=e?i:(t=u=l.$fetch("toc-placement","macro"),(e=t!==!1&&t!==i&&null!=t?u["$!="]("auto"):t)===i||null==e||e.$$is_boolean&&1!=e?l["$[]"]("toc-position"):u)}(),(e=(t=s!==!1&&s!==i&&null!=s)?(n=s["$empty?"]()["$!"]())!==!1&&n!==i&&null!=n?n:a["$nil_or_empty?"]()["$!"]():s)===i||null==e||e.$$is_boolean&&1!=e||(c="left",_="toc2",p=(e=a["$nil_or_empty?"]()["$!"]())===i||null==e||e.$$is_boolean&&1!=e?(e=s["$empty?"]()["$!"]())===i||null==e||e.$$is_boolean&&1!=e?c:s:a,l["$[]="]("toc",""),l["$[]="]("toc-placement","auto"),d=p,"left"["$==="](d)||"<"["$==="](d)||"&lt;"["$==="](d)?l["$[]="]("toc-position","left"):"right"["$==="](d)||">"["$==="](d)||"&gt;"["$==="](d)?l["$[]="]("toc-position","right"):"top"["$==="](d)||"^"["$==="](d)?l["$[]="]("toc-position","top"):"bottom"["$==="](d)||"v"["$==="](d)?l["$[]="]("toc-position","bottom"):"preamble"["$==="](d)||"macro"["$==="](d)?(l["$[]="]("toc-position","content"),l["$[]="]("toc-placement",p),_=i):(l.$delete("toc-position"),_=i),_!==!1&&_!==i&&null!=_&&(e="toc-class",t=l,(n=t["$[]"](e))!==!1&&n!==i&&null!=n?n:t["$[]="](e,_))),(e=l["$key?"]("compat-mode"))===i||null==e||e.$$is_boolean&&1!=e?r.compat_mode=!1:((e=l["$has_key?"]("language"))===i||null==e||e.$$is_boolean&&1!=e||l["$[]="]("source-language",l["$[]"]("language")),r.compat_mode=!0),r.outfilesuffix=l["$[]"]("outfilesuffix"),r.header_attributes=l.$dup(),(e=r.parent_document)===i||null==e||e.$$is_boolean&&1!=e?(e=(t=ie.get("FLEXIBLE_ATTRIBUTES")).$each,e.$$p=($=function(e){var t,n,r=$.$$s||this;return null==r.attribute_overrides&&(r.attribute_overrides=i),null==e&&(e=i),n=r.attribute_overrides["$key?"](e),(t=n!==!1&&n!==i&&null!=n?r.attribute_overrides["$[]"](e):n)===i||null==t||t.$$is_boolean&&1!=t?i:r.attribute_overrides.$delete(e)},$.$$s=r,$.$$arity=1,$),e).call(t):i},B.$$arity=0),e.defn($e,"$restore_attributes",q=function(){var e,t=this;return((e=t.parent_document)===i||null==e||e.$$is_boolean&&1!=e)&&t.callouts.$rewind(),t.attributes=t.header_attributes},q.$$arity=0),e.defn($e,"$clear_playback_attributes",j=function(e){return e.$delete("attribute_entries")},j.$$arity=1),e.defn($e,"$playback_attributes",F=function(e){var t,n,$,r=this;return(t=e["$key?"]("attribute_entries"))===i||null==t||t.$$is_boolean&&1!=t?i:(t=(n=e["$[]"]("attribute_entries")).$each,t.$$p=($=function(e){var t,n=$.$$s||this,r=i;return null==n.attributes&&(n.attributes=i),null==e&&(e=i),r=e.$name(),(t=e.$negate())===i||null==t||t.$$is_boolean&&1!=t?(n.attributes["$[]="](r,e.$value()),r["$=="]("compat-mode")?n.compat_mode=!0:i):(n.attributes.$delete(r),r["$=="]("compat-mode")?n.compat_mode=!1:i)},$.$$s=r,$.$$arity=1,$),t).call(n)},F.$$arity=1),e.defn($e,"$set_attribute",U=function(e,t){var n,$=this,r=i,l=i;return!!((n=$["$attribute_locked?"](e))===i||null==n||n.$$is_boolean&&1!=n)&&(r=(n=$.max_attribute_value_size)===i||null==n||n.$$is_boolean&&1!=n?$.$apply_attribute_value_subs(t):$.$apply_attribute_value_subs(t).$limit($.max_attribute_value_size),l=e,"backend"["$==="](l)?$.$update_backend_attributes(r,$.attributes_modified["$delete?"]("htmlsyntax")["$!"]()["$!"]()):"doctype"["$==="](l)?$.$update_doctype_attributes(r):$.attributes["$[]="](e,r),$.attributes_modified["$<<"](e),!0)},U.$$arity=2),e.defn($e,"$delete_attribute",G=function(e){var t,n=this;return!!((t=n["$attribute_locked?"](e))===i||null==t||t.$$is_boolean&&1!=t)&&(n.attributes.$delete(e),n.attributes_modified["$<<"](e),!0)},G.$$arity=1),e.defn($e,"$attribute_locked?",H=function(e){var t=this;return t.attribute_overrides["$key?"](e)},H.$$arity=1),e.defn($e,"$apply_attribute_value_subs",Y=function(e){var t,n=this,$=i,r=i;return(t=$=ie.get("AttributeEntryPassMacroRx").$match(e))===i||null==t||t.$$is_boolean&&1!=t?n.$apply_header_subs(e):(t=$["$[]"](1)["$empty?"]()["$!"]())===i||null==t||t.$$is_boolean&&1!=t?$["$[]"](2):(r=n.$resolve_pass_subs($["$[]"](1)),(t=r["$empty?"]())===i||null==t||t.$$is_boolean&&1!=t?n.$apply_subs($["$[]"](2),r):$["$[]"](2))},Y.$$arity=1),e.defn($e,"$update_backend_attributes",K=function(e,t){var n,$,r,l=this,o=i,a=i,u=i,c=i,_=i,p=i,d=i,f=i,h=i,g=i;return null==t&&(t=!1),(n=($=t)!==!1&&$!==i&&null!=$?$:(r=e!==!1&&e!==i&&null!=e)?e["$!="](l.attributes["$[]"]("backend")):e)===i||null==n||n.$$is_boolean&&1!=n?i:(o=l.attributes,a=o["$[]"]("backend"),u=o["$[]"]("basebackend"),c=o["$[]"]("doctype"),(n=e["$start_with?"]("xhtml"))===i||null==n||n.$$is_boolean&&1!=n?(n=e["$start_with?"]("html"))===i||null==n||n.$$is_boolean&&1!=n||o["$[]"]("htmlsyntax")["$=="]("xml")||o["$[]="]("htmlsyntax","html"):(o["$[]="]("htmlsyntax","xml"),e=e["$[]"](s(1,-1,!1))),(n=_=ie.get("BACKEND_ALIASES")["$[]"](e))===i||null==n||n.$$is_boolean&&1!=n||(e=_),a!==!1&&a!==i&&null!=a&&(o.$delete("backend-"+a),c!==!1&&c!==i&&null!=c&&o.$delete("backend-"+a+"-doctype-"+c)),c!==!1&&c!==i&&null!=c&&(o["$[]="]("doctype-"+c,""),o["$[]="]("backend-"+e+"-doctype-"+c,"")),o["$[]="]("backend",e),o["$[]="]("backend-"+e,""),(n=ie.get("Converter").$$scope.get("BackendInfo")["$==="](l.converter=l.$create_converter()))===i||null==n||n.$$is_boolean&&1!=n?(p=e.$sub(ie.get("TrailingDigitsRx"),""),f=(n=ie.get("DEFAULT_EXTENSIONS")["$[]"](p))!==!1&&n!==i&&null!=n?n:".html",d=f["$[]"](s(1,-1,!1)),((n=l["$attribute_locked?"]("outfilesuffix"))===i||null==n||n.$$is_boolean&&1!=n)&&o["$[]="]("outfilesuffix",f)):(p=l.converter.$basebackend(),((n=l["$attribute_locked?"]("outfilesuffix"))===i||null==n||n.$$is_boolean&&1!=n)&&o["$[]="]("outfilesuffix",l.converter.$outfilesuffix()),d=l.converter.$filetype()),(n=h=o["$[]"]("filetype"))===i||null==n||n.$$is_boolean&&1!=n||o.$delete("filetype-"+h),o["$[]="]("filetype",d),o["$[]="]("filetype-"+d,""),(n=g=ie.get("DEFAULT_PAGE_WIDTHS")["$[]"](p))===i||null==n||n.$$is_boolean&&1!=n?o.$delete("pagewidth"):o["$[]="]("pagewidth",g),(n=p["$!="](u))===i||null==n||n.$$is_boolean&&1!=n||(u!==!1&&u!==i&&null!=u&&(o.$delete("basebackend-"+u),c!==!1&&c!==i&&null!=c&&o.$delete("basebackend-"+u+"-doctype-"+c)),o["$[]="]("basebackend",p),o["$[]="]("basebackend-"+p,""),c!==!1&&c!==i&&null!=c&&o["$[]="]("basebackend-"+p+"-doctype-"+c,"")),l.backend=i)},K.$$arity=-2),e.defn($e,"$update_doctype_attributes",W=function(e){var t,n,$=this,r=i,l=i,o=i,a=i;return(t=(n=e!==!1&&e!==i&&null!=e)?e["$!="]($.attributes["$[]"]("doctype")):e)===i||null==t||t.$$is_boolean&&1!=t?i:(r=$.attributes,l=r["$[]"]("doctype"),o=r["$[]"]("backend"),a=r["$[]"]("basebackend"),l!==!1&&l!==i&&null!=l&&(r.$delete("doctype-"+l),o!==!1&&o!==i&&null!=o&&r.$delete("backend-"+o+"-doctype-"+l),a!==!1&&a!==i&&null!=a&&r.$delete("basebackend-"+a+"-doctype-"+l)),r["$[]="]("doctype",e),r["$[]="]("doctype-"+e,""),o!==!1&&o!==i&&null!=o&&r["$[]="]("backend-"+o+"-doctype-"+e,""),a!==!1&&a!==i&&null!=a&&r["$[]="]("basebackend-"+a+"-doctype-"+e,""),$.doctype=i)},W.$$arity=1),e.defn($e,"$create_converter",X=function(){var t,n=this,$=i,r=i,l=i,o=i,s=i;return $=a([],{}),$["$[]="]("htmlsyntax",n.attributes["$[]"]("htmlsyntax")),r=function(){return(t=l=n.options["$[]"]("template_dir"))===i||null==t||t.$$is_boolean&&1!=t?(t=r=n.options["$[]"]("template_dirs"))===i||null==t||t.$$is_boolean&&1!=t?i:$["$[]="]("template_dirs",r):$["$[]="]("template_dirs",[l])}(),r!==!1&&r!==i&&null!=r&&($["$[]="]("template_cache",n.options.$fetch("template_cache",!0)),$["$[]="]("template_engine",n.options["$[]"]("template_engine")),$["$[]="]("template_engine_options",n.options["$[]"]("template_engine_options")),$["$[]="]("eruby",n.options["$[]"]("eruby")),$["$[]="]("safe",n.safe)),s=(t=o=n.options["$[]"]("converter"))===i||null==t||t.$$is_boolean&&1!=t?ie.get("Converter").$$scope.get("Factory").$default(!1):ie.get("Converter").$$scope.get("Factory").$new(e.get("Hash")["$[]"](n.$backend(),o)),s.$create(n.$backend(),$)},X.$$arity=0),e.defn($e,"$convert",V=function(e){var n,$,r,l=this,o=i,s=i,u=i,c=i;return null==e&&(e=a([],{})),((n=l.parsed)===i||null==n||n.$$is_boolean&&1!=n)&&l.$parse(),((n=($=t(l.safe,ie.get("SafeMode").$$scope.get("SERVER")))!==!1&&$!==i&&null!=$?$:e["$empty?"]())===i||null==n||n.$$is_boolean&&1!=n)&&(((n=l.attributes["$[]="]("outfile",e["$[]"]("outfile")))===i||null==n||n.$$is_boolean&&1!=n)&&l.attributes.$delete("outfile"),((n=l.attributes["$[]="]("outdir",e["$[]"]("outdir")))===i||null==n||n.$$is_boolean&&1!=n)&&l.attributes.$delete("outdir")),((n=l.converter)===i||null==n||n.$$is_boolean&&1!=n)&&l.$fail("asciidoctor: FAILED: missing converter for backend '"+l.$backend()+"'. Processing aborted."),l.$doctype()["$=="]("inline")?($=o=l.blocks["$[]"](0),s=(n=$!==!1&&$!==i&&null!=$?o.$content_model()["$!="]("compound"):$)===i||null==n||n.$$is_boolean&&1!=n?i:o.$content()):(u=function(){return(n=function(){return($=e["$key?"]("header_footer"))===i||null==$||$.$$is_boolean&&1!=$?l.options["$[]"]("header_footer"):e["$[]"]("header_footer")}())===i||null==n||n.$$is_boolean&&1!=n?"embedded":"document"}(),s=l.converter.$convert(l,u)),((n=l.parent_document)===i||null==n||n.$$is_boolean&&1!=n)&&($=c=l.extensions,(n=$!==!1&&$!==i&&null!=$?c["$postprocessors?"]():$)===i||null==n||n.$$is_boolean&&1!=n||(n=($=c.$postprocessors()).$each,n.$$p=(r=function(e){var t=r.$$s||this;return null==e&&(e=i),s=e.$process_method()["$[]"](t,s)},r.$$s=l,r.$$arity=1,r),n).call($)),s},V.$$arity=-1),e.alias($e,"render","convert"),e.defn($e,"$write",J=function(t,n){var $,r,l,o=this;return($=ie.get("Writer")["$==="](o.converter))===i||null==$||$.$$is_boolean&&1!=$?(($=n["$respond_to?"]("write"))===i||null==$||$.$$is_boolean&&1!=$?($=(r=e.get("File")).$open,$.$$p=(l=function(e){l.$$s||this;return null==e&&(e=i),e.$write(t)},l.$$s=o,l.$$arity=1,l),$).call(r,n,"w"):(($=t["$nil_or_empty?"]())===i||null==$||$.$$is_boolean&&1!=$)&&(n.$write(t.$chomp()),n.$write(ie.get("EOL"))),i):o.converter.$write(t,n)},J.$$arity=2),e.defn($e,"$content",Z=function(){var t,n,$=this,r=Z.$$p,l=i,o=i;for(Z.$$p=null,l=[],o=0;o<arguments.length;o++)l[o]=arguments[o];return $.attributes.$delete("title"),(n=$,t=e.find_super_dispatcher($,"content",Z,!1),t.$$p=r,t).apply(n,l)},Z.$$arity=0),e.defn($e,"$docinfo",Q=function(e,n){var r,l,o,s,u=this,c=i,_=i,p=i,d=i,f=i,h=i,g=i,b=i,m=i;return null==e&&(e="head"),null==n&&(n=i),(r=t(u.$safe(),ie.get("SafeMode").$$scope.get("SECURE")))===i||null==r||r.$$is_boolean&&1!=r?(c=function(){return e["$=="]("head")?i:"-"+e}(),n!==!1&&n!==i&&null!=n||(n=u.outfilesuffix),_=u.attributes["$[]"]("docinfodir"),p=i,d=(r=(d=u.attributes["$[]"]("docinfo"))["$nil_or_empty?"]())===i||null==r||r.$$is_boolean&&1!=r?(r=(l=d.$split(",")).$map,r.$$p="strip".$to_proc(),r).call(l):(r=u.attributes["$key?"]("docinfo2"))===i||null==r||r.$$is_boolean&&1!=r?(r=u.attributes["$key?"]("docinfo1"))===i||null==r||r.$$is_boolean&&1!=r?function(){return d!==!1&&d!==i&&null!=d?["private"]:i}():["shared"]:["private","shared"],d!==!1&&d!==i&&null!=d&&(f="docinfo"+c+n,((r=d["$&"](["shared","shared-"+e])["$empty?"]())===i||null==r||r.$$is_boolean&&1!=r)&&(h=u.$normalize_system_path(f,_),(r=p=u.$read_asset(h,a(["normalize"],{normalize:!0})))===i||null==r||r.$$is_boolean&&1!=r||(r=(o=g)!==!1&&o!==i&&null!=o?o:g=u.$resolve_docinfo_subs())===i||null==r||r.$$is_boolean&&1!=r||(p=function(){return(r=g["$=="]("attributes"))===i||null==r||r.$$is_boolean&&1!=r?u.$apply_subs(p,g):u.$sub_attributes(p)}())),((r=(o=u.attributes["$[]"]("docname")["$nil_or_empty?"]())!==!1&&o!==i&&null!=o?o:d["$&"](["private","private-"+e])["$empty?"]())===i||null==r||r.$$is_boolean&&1!=r)&&(h=u.$normalize_system_path(""+u.attributes["$[]"]("docname")+"-"+f,_),(r=b=u.$read_asset(h,a(["normalize"],{normalize:!0})))===i||null==r||r.$$is_boolean&&1!=r||((r=(o=g)!==!1&&o!==i&&null!=o?o:g=u.$resolve_docinfo_subs())===i||null==r||r.$$is_boolean&&1!=r||(b=function(){return(r=g["$=="]("attributes"))===i||null==r||r.$$is_boolean&&1!=r?u.$apply_subs(b,g):u.$sub_attributes(b)}()),p=function(){return p!==!1&&p!==i&&null!=p?""+p+ie.get("EOL")+b:b}()))),o=u.extensions,(r=o!==!1&&o!==i&&null!=o?u["$docinfo_processors?"](e):o)===i||null==r||r.$$is_boolean&&1!=r||(m=$((r=(o=u.docinfo_processor_extensions["$[]"](e)).$map,r.$$p=(s=function(e){var t=s.$$s||this;return null==e&&(e=i),e.$process_method()["$[]"](t)},s.$$s=u,s.$$arity=1,s),r).call(o).$compact(),ie.get("EOL")),p=function(){return p!==!1&&p!==i&&null!=p?""+p+ie.get("EOL")+m:m}()),""+p):""},Q.$$arity=-1),e.defn($e,"$resolve_docinfo_subs",ee=function(){var e,t=this,n=i;return(e=t.attributes["$key?"]("docinfosubs"))===i||null==e||e.$$is_boolean&&1!=e?"attributes":(n=t.$resolve_subs(t.attributes["$[]"]("docinfosubs"),"block",i,"docinfo"),(e=n["$empty?"]())===i||null==e||e.$$is_boolean&&1!=e?n:i)},ee.$$arity=0),e.defn($e,"$docinfo_processors?",te=function(e){var t,n,$=this;return null==e&&(e="head"),(t=$.docinfo_processor_extensions["$key?"](e))===i||null==t||t.$$is_boolean&&1!=t?(n=$.extensions,(t=n!==!1&&n!==i&&null!=n?$.document.$extensions()["$docinfo_processors?"](e):n)===i||null==t||t.$$is_boolean&&1!=t?$.docinfo_processor_extensions["$[]="](e,!1):$.docinfo_processor_extensions["$[]="](e,$.document.$extensions().$docinfo_processors(e))["$!"]()["$!"]()):$.docinfo_processor_extensions["$[]"](e)["$!="](!1)},te.$$arity=-1),e.defn($e,"$to_s",ne=function(){var e,t=this;return"#<"+t.$class()+"@"+t.$object_id()+" {doctype: "+t.$doctype().$inspect()+", doctitle: "+function(){return(e=t.header["$!="](i))===i||null==e||e.$$is_boolean&&1!=e?i:t.header.$title()}().$inspect()+", blocks: "+t.blocks.$size()+"}>"},ne.$$arity=0),i&&"to_s"}(_.base,_.get("AbstractBlock"))}(r.base)},Opal.modules["asciidoctor/inline"]=function(e){var t=(e.top,e),n=e.nil,$=(e.breaker,e.slice,e.module),r=e.klass,i=e.hash2;return e.add_stubs(["$attr_reader","$attr_accessor","$[]","$nil_or_empty?","$update_attributes","$convert","$converter"]),function(t){var l,o=l=$(t,"Asciidoctor"),a=(o.$$proto,o.$$scope);!function(t,$){function l(){}var o,a,s,u,c=l=r(t,$,"Inline",l);c.$$proto,c.$$scope;return c.$attr_reader("text"),c.$attr_reader("type"),c.$attr_accessor("target"),e.defn(c,"$initialize",o=function(t,$,r,l){var a,s,u=this,c=(o.$$p,n);return null==r&&(r=n),null==l&&(l=i([],{})),o.$$p=null,(s=u,a=e.find_super_dispatcher(u,"initialize",o,!1),a.$$p=null,a).call(s,t,$),u.node_name="inline_"+$,u.text=r,u.id=l["$[]"]("id"),u.type=l["$[]"]("type"),u.target=l["$[]"]("target"),(a=(c=l["$[]"]("attributes"))["$nil_or_empty?"]())===n||null==a||a.$$is_boolean&&1!=a?u.$update_attributes(c):n},o.$$arity=-3),e.defn(c,"$block?",a=function(){return!1},a.$$arity=0),e.defn(c,"$inline?",s=function(){return!0},s.$$arity=0),e.defn(c,"$convert",u=function(){var e=this;return e.$converter().$convert(e)},u.$$arity=0),e.alias(c,"render","convert")}(a.base,a.get("AbstractNode"))}(t.base)},Opal.modules["asciidoctor/list"]=function(e){var t=(e.top,e),n=e.nil,$=(e.breaker,e.slice,e.module),r=e.klass;return e.add_stubs(["$==","$next_list","$callouts","$class","$object_id","$inspect","$size","$items","$attr_accessor","$level","$!","$nil_or_empty?","$apply_subs","$empty?","$===","$[]","$outline?","$simple?","$context","$option?","$shift","$blocks","$unshift","$lines","$source","$parent"]),function(t){var i,l=i=$(t,"Asciidoctor"),o=(l.$$proto,l.$$scope);!function(t,$){function i(){}var l,o,a,s,u=i=r(t,$,"List",i),c=u.$$proto;u.$$scope;return c.context=c.document=c.style=n,e.alias(u,"items","blocks"),e.alias(u,"content","blocks"),e.alias(u,"items?","blocks?"),e.defn(u,"$initialize",l=function(t,$){var r,i,o=this,a=l.$$p,s=n,u=n;for(l.$$p=null,s=[],u=0;u<arguments.length;u++)s[u]=arguments[u];return(i=o,r=e.find_super_dispatcher(o,"initialize",l,!1),r.$$p=a,r).apply(i,s)},l.$$arity=2),e.defn(u,"$outline?",o=function(){var e,t=this;return(e=t.context["$=="]("ulist"))!==!1&&e!==n&&null!=e?e:t.context["$=="]("olist")},o.$$arity=0),e.defn(u,"$convert",a=function(){var t,$,r,i=this,l=a.$$p,o=n,s=n,u=n;for(a.$$p=null,s=[],u=0;u<arguments.length;u++)s[u]=arguments[u];return i.context["$=="]("colist")?(o=($=i,t=e.find_super_dispatcher(i,"convert",a,!1),t.$$p=l,t).apply($,s),i.document.$callouts().$next_list(),o):(r=i,t=e.find_super_dispatcher(i,"convert",a,!1),t.$$p=l,t).apply(r,s)},a.$$arity=0),e.alias(u,"render","convert"),e.defn(u,"$to_s",s=function(){var e=this;return"#<"+e.$class()+"@"+e.$object_id()+" {context: "+e.context.$inspect()+", style: "+e.style.$inspect()+", items: "+e.$items().$size()+"}>"},s.$$arity=0),n&&"to_s"}(o.base,o.get("AbstractBlock")),function(t,$){function i(){}var l,o,a,s,u,c,_,p=i=r(t,$,"ListItem",i),d=p.$$proto,f=p.$$scope;return d.text=d.blocks=n,e.alias(p,"list","parent"),p.$attr_accessor("marker"),e.defn(p,"$initialize",l=function(t,$){var r,i,o=this;l.$$p;return null==$&&($=n),l.$$p=null,(i=o,r=e.find_super_dispatcher(o,"initialize",l,!1),r.$$p=null,r).call(i,t,"list_item"),o.text=$,o.level=t.$level()},l.$$arity=-2),e.defn(p,"$text?",o=function(){var e=this;return e.text["$nil_or_empty?"]()["$!"]()},o.$$arity=0),e.defn(p,"$text",a=function(){var e=this;return e.$apply_subs(e.text)},a.$$arity=0),e.defn(p,"$simple?",s=function(){var e,t,$,r=this,i=n;return(e=r.blocks["$empty?"]())!==!1&&e!==n&&null!=e?e:(t=($=r.blocks.$size()["$=="](1))?f.get("List")["$==="](i=r.blocks["$[]"](0)):r.blocks.$size()["$=="](1),t!==!1&&t!==n&&null!=t?i["$outline?"]():t)},s.$$arity=0),e.defn(p,"$compound?",u=function(){var e=this;return e["$simple?"]()["$!"]()},u.$$arity=0),e.defn(p,"$fold_first",c=function(e,t){var $,r,i,l,o,a,s=this,u=n,c=n;return null==e&&(e=!1),null==t&&(t=!1),i=u=s.blocks["$[]"](0),r=i!==!1&&i!==n&&null!=i?f.get("Block")["$==="](u):i,($=r!==!1&&r!==n&&null!=r?(i=(l=u.$context()["$=="]("paragraph"))?e["$!"]():u.$context()["$=="]("paragraph"))!==!1&&i!==n&&null!=i?i:(o=(a=t)!==!1&&a!==n&&null!=a?a:e["$!"](),l=o!==!1&&o!==n&&null!=o?u.$context()["$=="]("literal"):o,l!==!1&&l!==n&&null!=l?u["$option?"]("listparagraph"):l):r)===n||null==$||$.$$is_boolean&&1!=$||(c=s.$blocks().$shift(),(($=s.text["$nil_or_empty?"]())===n||null==$||$.$$is_boolean&&1!=$)&&c.$lines().$unshift(s.text),s.text=c.$source()),n},c.$$arity=-1),e.defn(p,"$to_s",_=function(){var e,t=this;return"#<"+t.$class()+"@"+t.$object_id()+" {list_context: "+t.$parent().$context().$inspect()+", text: "+t.text.$inspect()+", blocks: "+((e=t.blocks)!==!1&&e!==n&&null!=e?e:[]).$size()+"}>"},_.$$arity=0),n&&"to_s"}(o.base,o.get("AbstractBlock"))}(t.base)},Opal.modules["asciidoctor/parser"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e>=t:e["$>="](t)}function i(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function l(e,t){return"number"==typeof e&&"number"==typeof t?e<=t:e["$<="](t)}function o(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}var a=(e.top,e),s=e.nil,u=(e.breaker,e.slice,e.module),c=e.klass,_=e.hash2,p=e.hash,d=e.range,f=e.gvars;return e.add_stubs(["$new","$lambda","$start_with?","$=~","$is_delimited_block?","$raise","$parse_document_header","$[]","$has_more_lines?","$next_section","$<<","$parse_block_metadata_lines","$is_next_line_document_title?","$has_key?","$finalize_header","$nil_or_empty?","$attributes","$title=","$sourcemap","$cursor","$parse_section_title","$id=","$set_attribute","$delete","$source_location=","$header","$[]=","$id","$parse_style_attribute","$key?","$parse_header_metadata","$==","$doctype","$parse_manpage_header","$match","$sub_attributes","$downcase","$rstrip","$strip","$warn","$prev_line_info","$skip_blank_lines","$is_next_line_section?","$initialize_section","$level","$tr_s","$join","$read_lines_until","$backend","$context","$empty?","$blocks","$has_header?","$!","$!=","$attr?","$attr","$document","$special","$include?","$sectname","$+","$to_i","$>","$line_info","$size","$*","$next_block","$blocks?","$style","$context=","$style=","$parent=","$content_model","$shift","$unwrap_standalone_preamble","$dup","$fetch","$extensions","$block_macros?","$===","$parse_block_metadata_line","$advance","$read_line","$terminator","$to_s","$masq","$to_sym","$registered_for_block?","$strict_verbatim_paragraphs","$unshift_line","$markdown_syntax","$chr","$lstrip","$>=","$length","$end_with?","$parse_attributes","$attribute_missing","$clear","$registered_for_block_macro?","$config","$each","$process_method","$replace","$peek_line","$path","$-","$lineno","$next_list_item","$callout_ids","$callouts","$items","$next_list","$next_outline_list","$marker","$find","$next_labeled_list","$is_section_title?","$underline_style_section_titles","$generate_id","$level=","$read_paragraph_lines","$adjust_indentation!","$set_option","$catalog_inline_anchors","$post_match","$map!","$split","$pop","$build_block","$blockquote?","$chop","$tr","$rekey","$next_table","$concat","$title?","$register","$basename","$sub_specialchars","$assign_caption","$ord","$caption","$caption=","$title","$update","$lock_in_subs","$sub?","$catalog_callouts","$source","$remove_sub","$block_terminates_paragraph","$to_proc","$<=","$<","$nil?","$lines","$parse_blocks","$resolve_list_marker","$items?","$parent","$scan","$marker=","$read_lines_for_list_item","$skip_line_comments","$unshift_lines","$fold_first","$text?","$is_sibling_list_item?","$delete_at","$sectname=","$special=","$update_attributes","$peek_lines","$is_single_line_section_title?","$is_two_line_section_title?","$single_line_section_level","$abs","$line_length","$section_level","$process_attribute_entries","$next_line_empty?","$process_authors","$apply_header_subs","$map","$each_with_index","$push","$to_a","$process_attribute_entry","$skip_comment_lines","$store_attribute","$sanitize_attribute_name","$delete_attribute","$save_to","$resolve_ordered_list_marker","$chomp","$roman_numeral_to_int","$parse_colspecs","$create_columns","$has_header_option=","$format","$starts_with_delimiter?","$close_open_cell","$parse_cellspec","$delimiter","$match_delimiter","$buffer_has_unclosed_quotes?","$pre_match","$skip_matched_delimiter","$buffer=","$buffer","$keep_cell_open","$push_cellspec","$close_cell","$cell_open?","$columns","$assign_column_widths","$partition_header_footer","$upto","$shorthand_property_syntax","$each_char","$call","$sub!","$gsub!","$%","$begin","$gsub"]),function(a){var h,g=h=u(a,"Asciidoctor"),b=(g.$$proto,g.$$scope);!function(a,u){function h(){}var g,b,m,y,v,w,k,x,E,A,O,S,R,T,I,C,N,M,L,z,P,D,B,q,j,F,U,G,H,Y,K,W,X,V,J,Z,Q,ee,te,ne,$e,re,ie,le,oe,ae,se,ue,ce,_e,pe,de=h=c(a,u,"Parser",h),fe=(de.$$proto,de.$$scope);return e.cdecl(fe,"BlockMatchData",fe.get("Struct").$new("context","masq","tip","terminator")),e.cdecl(fe,"TabRx",/\t/),e.cdecl(fe,"TabIndentRx",/^\t+/),e.cdecl(fe,"StartOfBlockProc",(g=(b=de).$lambda,
g.$$p=(m=function(e){var t,n,$=m.$$s||this;return null==e&&(e=s),n=e["$start_with?"]("["),(t=n!==!1&&n!==s&&null!=n?fe.get("BlockAttributeLineRx")["$=~"](e):n)!==!1&&t!==s&&null!=t?t:$["$is_delimited_block?"](e)},m.$$s=de,m.$$arity=1,m),g).call(b)),e.cdecl(fe,"StartOfListProc",(g=(y=de).$lambda,g.$$p=(v=function(e){v.$$s||this;return null==e&&(e=s),fe.get("AnyListRx")["$=~"](e)},v.$$s=de,v.$$arity=1,v),g).call(y)),e.cdecl(fe,"StartOfBlockOrListProc",(g=(w=de).$lambda,g.$$p=(k=function(e){var t,n,$,r=k.$$s||this;return null==e&&(e=s),(t=(n=r["$is_delimited_block?"](e))!==!1&&n!==s&&null!=n?n:($=e["$start_with?"]("["),$!==!1&&$!==s&&null!=$?fe.get("BlockAttributeLineRx")["$=~"](e):$))!==!1&&t!==s&&null!=t?t:fe.get("AnyListRx")["$=~"](e)},k.$$s=de,k.$$arity=1,k),g).call(w)),e.cdecl(fe,"NoOp",s),e.defn(de,"$initialize",x=function(){var e=this;return e.$raise("Au contraire, mon frere. No lexer instances will be running around.")},x.$$arity=0),e.defs(de,"$parse",E=function(t,n,$){var r,i,l,o=this,a=s,u=s;if(null==$&&($=_([],{})),a=o.$parse_document_header(t,n),(r=$["$[]"]("header_only"))===s||null==r||r.$$is_boolean&&1!=r)for(;(i=t["$has_more_lines?"]())!==s&&null!=i&&(!i.$$is_boolean||1==i);)l=o.$next_section(t,n,a),i=e.to_ary(l),u=null==i[0]?s:i[0],a=null==i[1]?s:i[1],l,u!==!1&&u!==s&&null!=u&&n["$<<"](u);else;return n},E.$$arity=-3),e.defs(de,"$parse_document_header",A=function(t,n){var $,r,i=this,l=s,o=s,a=s,u=s,c=s,_=s,d=s,f=s,h=s,g=s,b=s,m=s;return l=i.$parse_block_metadata_lines(t,n),r=o=i["$is_next_line_document_title?"](t,l),($=r!==!1&&r!==s&&null!=r?l["$has_key?"]("title"):r)===s||null==$||$.$$is_boolean&&1!=$?(a=s,(($=(u=n.$attributes()["$[]"]("doctitle"))["$nil_or_empty?"]())===s||null==$||$.$$is_boolean&&1!=$)&&($=[a=u],r=n,r["$title="].apply(r,$),$[$.length-1]),c=s,o!==!1&&o!==s&&null!=o&&(($=n.$sourcemap())===s||null==$||$.$$is_boolean&&1!=$||(_=t.$cursor()),r=i.$parse_section_title(t,n),$=e.to_ary(r),n["$id="](null==$[0]?s:$[0]),d=null==$[1]?s:$[1],f=null==$[2]?s:$[2],d=null==$[3]?s:$[3],h=null==$[4]?s:$[4],r,a!==!1&&a!==s&&null!=a||($=[a=f],r=n,r["$title="].apply(r,$),$[$.length-1]),h!==!1&&h!==s&&null!=h||n.$set_attribute("compat-mode",""),($=g=l.$delete("separator"))===s||null==$||$.$$is_boolean&&1!=$||n.$set_attribute("title-separator",g),_!==!1&&_!==s&&null!=_&&($=[_],r=n.$header(),r["$source_location="].apply(r,$),$[$.length-1]),n.$attributes()["$[]="]("doctitle",c=f),($=n.$id())===s||null==$||$.$$is_boolean&&1!=$?(($=b=l.$delete(1))===s||null==$||$.$$is_boolean&&1!=$||(m=p(1,b),i.$parse_style_attribute(m,t),($=m["$key?"]("id"))===s||null==$||$.$$is_boolean&&1!=$||l["$[]="]("id",m["$[]"]("id"))),$=[l.$delete("id")],r=n,r["$id="].apply(r,$),$[$.length-1]):(l.$delete(1),l.$delete("id")),i.$parse_header_metadata(t,n)),(($=(r=(u=n.$attributes()["$[]"]("doctitle"))["$nil_or_empty?"]())!==!1&&r!==s&&null!=r?r:u["$=="](c))===s||null==$||$.$$is_boolean&&1!=$)&&($=[a=u],r=n,r["$title="].apply(r,$),$[$.length-1]),a!==!1&&a!==s&&null!=a&&n.$attributes()["$[]="]("doctitle",a),n.$doctype()["$=="]("manpage")&&i.$parse_manpage_header(t,n),n.$finalize_header(l)):n.$finalize_header(l,!1)},A.$$arity=2),e.defs(de,"$parse_manpage_header",O=function(e,t){var n,$=this,r=s,i=s,l=s;return(n=r=fe.get("ManpageTitleVolnumRx").$match(t.$attributes()["$[]"]("doctitle")))===s||null==n||n.$$is_boolean&&1!=n?($.$warn("asciidoctor: ERROR: "+e.$prev_line_info()+": malformed manpage title"),t.$attributes()["$[]="]("mantitle",t.$attributes()["$[]"]("doctitle")),t.$attributes()["$[]="]("manvolnum","1")):(t.$attributes()["$[]="]("mantitle",t.$sub_attributes(r["$[]"](1).$rstrip().$downcase())),t.$attributes()["$[]="]("manvolnum",r["$[]"](2).$strip())),e.$skip_blank_lines(),(n=$["$is_next_line_section?"](e,_([],{})))===s||null==n||n.$$is_boolean&&1!=n?$.$warn("asciidoctor: ERROR: "+e.$prev_line_info()+": name section expected"):(i=$.$initialize_section(e,t,_([],{})),i.$level()["$=="](1)?(l=e.$read_lines_until(_(["break_on_blank_lines"],{break_on_blank_lines:!0})).$join(" ").$tr_s(" "," "),(n=r=fe.get("ManpageNamePurposeRx").$match(l))===s||null==n||n.$$is_boolean&&1!=n?$.$warn("asciidoctor: ERROR: "+e.$prev_line_info()+": malformed name section body"):(t.$attributes()["$[]="]("manname",t.$sub_attributes(r["$[]"](1))),t.$attributes()["$[]="]("manpurpose",r["$[]"](2)),t.$backend()["$=="]("manpage")?(t.$attributes()["$[]="]("docname",t.$attributes()["$[]"]("manname")),t.$attributes()["$[]="]("outfilesuffix","."+t.$attributes()["$[]"]("manvolnum"))):s)):$.$warn("asciidoctor: ERROR: "+e.$prev_line_info()+": name section title must be at level 1"))},O.$$arity=2),e.defs(de,"$next_section",S=function(r,i,l){var o,a,u,c,p=this,d=s,f=s,h=s,g=s,b=s,m=s,y=s,v=s,w=s,k=s,x=s,E=s,A=s,O=s,S=s,R=s;for(null==l&&(l=_([],{})),d=!1,f=!1,h=!1,a=(u=i.$context()["$=="]("document"))?i.$blocks()["$empty?"]():i.$context()["$=="]("document"),(o=a!==!1&&a!==s&&null!=a?(u=(c=g=i["$has_header?"]())!==!1&&c!==s&&null!=c?c:l.$delete("invalid-header"))!==!1&&u!==s&&null!=u?u:p["$is_next_line_section?"](r,l)["$!"]():a)===s||null==o||o.$$is_boolean&&1!=o?(b=i.$document().$doctype(),m=p.$initialize_section(r,i,l),l=function(){return(o=w=l["$[]"]("title"))===s||null==o||o.$$is_boolean&&1!=o?_([],{}):_(["title"],{title:w})}(),y=m.$level(),(o=(a=y["$=="](0))?b["$=="]("book"):y["$=="](0))===s||null==o||o.$$is_boolean&&1!=o?v=[t(y,1)]:(f=m.$special()["$!"](),a=m.$special(),v=(o=a!==!1&&a!==s&&null!=a?["preface","appendix"]["$include?"](m.$sectname()):a)===s||null==o||o.$$is_boolean&&1!=o?[t(y,1)]:[t(y,2)])):(b=i.$doctype(),(o=(a=g)!==!1&&a!==s&&null!=a?a:(u=b["$=="]("book"))?l["$[]"](1)["$!="]("abstract"):b["$=="]("book"))===s||null==o||o.$$is_boolean&&1!=o||(d=h=fe.get("Block").$new(i,"preamble",_(["content_model"],{content_model:"compound"})),(o=(a=b["$=="]("book"))?i["$attr?"]("preface-title"):b["$=="]("book"))===s||null==o||o.$$is_boolean&&1!=o||(o=[i.$attr("preface-title")],a=d,a["$title="].apply(a,o),o[o.length-1]),i["$<<"](d)),m=i,y=0,v=(o=i.$attributes()["$has_key?"]("fragment"))===s||null==o||o.$$is_boolean&&1!=o?b["$=="]("book")?[0,1]:[1]:s),r.$skip_blank_lines();(a=r["$has_more_lines?"]())!==s&&null!=a&&(!a.$$is_boolean||1==a);){if(p.$parse_block_metadata_lines(r,m,l),(a=k=p["$is_next_line_section?"](r,l))===s||null==a||a.$$is_boolean&&1!=a)E=r.$line_info(),(a=A=p.$next_block(r,(u=h)!==!1&&u!==s&&null!=u?u:m,l,_(["parse_metadata"],{parse_metadata:!1})))===s||null==a||a.$$is_boolean&&1!=a||(f!==!1&&f!==s&&null!=f&&((a=m["$blocks?"]()["$!"]())===s||null==a||a.$$is_boolean&&1!=a?m.$blocks().$size()["$=="](1)&&(O=m.$blocks()["$[]"](0),u=h["$!"](),(a=u!==!1&&u!==s&&null!=u?O.$content_model()["$=="]("compound"):u)===s||null==a||a.$$is_boolean&&1!=a?(a=O.$content_model()["$!="]("compound"))===s||null==a||a.$$is_boolean&&1!=a||(h=fe.get("Block").$new(m,"open",_(["content_model"],{content_model:"compound"})),a=["partintro"],u=h,u["$style="].apply(u,a),a[a.length-1],m.$blocks().$shift(),O.$style()["$=="]("partintro")&&(a=["paragraph"],u=O,u["$context="].apply(u,a),a[a.length-1],a=[s],u=O,u["$style="].apply(u,a),a[a.length-1]),a=[h],u=O,u["$parent="].apply(u,a),a[a.length-1],h["$<<"](O),a=[h],u=A,u["$parent="].apply(u,a),a[a.length-1],m["$<<"](h)):p.$warn("asciidoctor: ERROR: "+E+": illegal block content outside of partintro block")):(a=A.$style()["$!="]("partintro"))===s||null==a||a.$$is_boolean&&1!=a||(A.$context()["$=="]("paragraph")?(a=["open"],u=A,u["$context="].apply(u,a),a[a.length-1],a=["partintro"],u=A,u["$style="].apply(u,a),a[a.length-1]):(h=fe.get("Block").$new(m,"open",_(["content_model"],{content_model:"compound"})),a=["partintro"],u=h,u["$style="].apply(u,a),a[a.length-1],a=[h],u=A,u["$parent="].apply(u,a),a[a.length-1],m["$<<"](h)))),((a=h)!==!1&&a!==s&&null!=a?a:m)["$<<"](A),l=_([],{}));else{if(k=t(k,m.$document().$attr("leveloffset",0).$to_i()),(a=(u=n(k,y))!==!1&&u!==s&&null!=u?u:(c=m.$context()["$=="]("document"))?k["$=="](0):m.$context()["$=="]("document"))===s||null==a||a.$$is_boolean&&1!=a){(a=(u=k["$=="](0))?b["$!="]("book"):k["$=="](0))===s||null==a||a.$$is_boolean&&1!=a||p.$warn("asciidoctor: ERROR: "+r.$line_info()+": only book doctypes can contain level 0 sections");break}(a=(u=k["$=="](0))?b["$!="]("book"):k["$=="](0))===s||null==a||a.$$is_boolean&&1!=a?(a=(u=v!==!1&&v!==s&&null!=v)?v["$include?"](k)["$!"]():v)===s||null==a||a.$$is_boolean&&1!=a||p.$warn(t(t("asciidoctor: WARNING: "+r.$line_info()+": section title out of sequence: ","expected "+function(){return(a=n(v.$size(),1))===s||null==a||a.$$is_boolean&&1!=a?"level":"levels"}()+" "+$(v," or ")+", "),"got level "+k)):p.$warn("asciidoctor: ERROR: "+r.$line_info()+": only book doctypes can contain level 0 sections"),u=p.$next_section(r,m,l),a=e.to_ary(u),x=null==a[0]?s:a[0],l=null==a[1]?s:a[1],u,m["$<<"](x)}r.$skip_blank_lines()}if(f!==!1&&f!==s&&null!=f)a=m["$blocks?"](),((o=a!==!1&&a!==s&&null!=a?m.$blocks()["$[]"](-1).$context()["$=="]("section"):a)===s||null==o||o.$$is_boolean&&1!=o)&&p.$warn("asciidoctor: ERROR: "+r.$line_info()+": invalid part, must have at least one section (e.g., chapter, appendix, etc.)");else if(d!==!1&&d!==s&&null!=d)if(S=i,(o=d["$blocks?"]())===s||null==o||o.$$is_boolean&&1!=o)S.$blocks().$shift();else if(u=fe.get("Compliance").$unwrap_standalone_preamble(),a=u!==!1&&u!==s&&null!=u?S.$blocks().$size()["$=="](1):u,(o=a!==!1&&a!==s&&null!=a?b["$!="]("book"):a)!==s&&null!=o&&(!o.$$is_boolean||1==o))for(S.$blocks().$shift();(a=R=d.$blocks().$shift())!==s&&null!=a&&(!a.$$is_boolean||1==a);)a=[S],u=R,u["$parent="].apply(u,a),a[a.length-1],S["$<<"](R);return[function(){return(o=m["$!="](i))===s||null==o||o.$$is_boolean&&1!=o?s:m}(),l.$dup()]},S.$$arity=-3),e.defs(de,"$next_block",R=function($,l,o,a){var u,c,p,f,h,g,b,m,y,v,w,k=this,x=s,E=s,A=s,O=s,S=s,R=s,T=s,I=s,C=s,N=s,M=s,L=s,z=s,P=s,D=s,B=s,q=s,j=s,F=s,U=s,G=s,H=s,Y=s,K=s,W=s,X=s,V=s,J=s,Z=s,Q=s,ee=s,te=s,ne=s,$e=s,re=s,ie=s,le=s,oe=s,ae=s,se=s,ue=s,ce=s,_e=s,pe=s,de=s,he=s,ge=s,be=s,me=s,ye=s,ve=s,we=s,ke=s,xe=s,Ee=s,Ae=s,Oe=s;if(null==o&&(o=_([],{})),null==a&&(a=_([],{})),x=$.$skip_blank_lines(),(u=$["$has_more_lines?"]())===s||null==u||u.$$is_boolean&&1!=u)return s;for(c=E=a["$[]"]("text"),(u=c!==!1&&c!==s&&null!=c?n(x,0):c)===s||null==u||u.$$is_boolean&&1!=u||(a.$delete("text"),E=!1),A=a.$fetch("parse_metadata",!0),O=l.$document(),(u=S=O.$extensions())===s||null==u||u.$$is_boolean&&1!=u?R=T=!1:(R=S["$blocks?"](),T=S["$block_macros?"]()),I=fe.get("ListItem")["$==="](l),C=s,N=s,M=s,L=O.$sourcemap(),z=s;p=C["$!"](),(c=p!==!1&&p!==s&&null!=p?$["$has_more_lines?"]():p)!==s&&null!=c&&(!c.$$is_boolean||1==c);)if((c=(p=A!==!1&&A!==s&&null!=A)?k.$parse_block_metadata_line($,O,o,a):A)===s||null==c||c.$$is_boolean&&1!=c){if(L!==!1&&L!==s&&null!=L&&(z=$.$cursor()),P=$.$read_line(),D=!1,B=s,q=s,j=s,(c=o["$[]"](1))===s||null==c||c.$$is_boolean&&1!=c||(p=k.$parse_style_attribute(o,$),c=e.to_ary(p),N=null==c[0]?s:c[0],M=null==c[1]?s:c[1],p),(c=F=k["$is_delimited_block?"](P,!0))===s||null==c||c.$$is_boolean&&1!=c||(D=!0,B=q=F.$context(),j=F.$terminator(),(c=N["$!"]())===s||null==c||c.$$is_boolean&&1!=c?(c=N["$!="](B.$to_s()))===s||null==c||c.$$is_boolean&&1!=c||((c=F.$masq()["$include?"](N))===s||null==c||c.$$is_boolean&&1!=c?(p=F.$masq()["$include?"]("admonition"),(c=p!==!1&&p!==s&&null!=p?fe.get("ADMONITION_STYLES")["$include?"](N):p)===s||null==c||c.$$is_boolean&&1!=c?(c=(p=R!==!1&&R!==s&&null!=R)?S["$registered_for_block?"](N,B):R)===s||null==c||c.$$is_boolean&&1!=c?(k.$warn("asciidoctor: WARNING: "+$.$prev_line_info()+": invalid style for "+B+" block: "+N),N=B.$to_s()):B=N.$to_sym():B="admonition"):B=N.$to_sym()):N=o["$[]="]("style",B.$to_s())),D!==!1&&D!==s&&null!=D);else for(;(p=!0)!==s&&null!=p&&(!p.$$is_boolean||1==p);){if(f=(h=N!==!1&&N!==s&&null!=N)?fe.get("Compliance").$strict_verbatim_paragraphs():N,(p=f!==!1&&f!==s&&null!=f?fe.get("VERBATIM_STYLES")["$include?"](N):f)!==s&&null!=p&&(!p.$$is_boolean||1==p)){B=N.$to_sym(),$.$unshift_line(P);break}if(E!==!1&&E!==s&&null!=E);else{if(U=function(){return(p=fe.get("Compliance").$markdown_syntax())===s||null==p||p.$$is_boolean&&1!=p?P.$chr():P.$lstrip().$chr()}(),h=fe.get("LAYOUT_BREAK_LINES")["$has_key?"](U),f=h!==!1&&h!==s&&null!=h?r(P.$length(),3):h,!((p=f!==!1&&f!==s&&null!=f?function(){return(h=fe.get("Compliance").$markdown_syntax())===s||null==h||h.$$is_boolean&&1!=h?fe.get("LayoutBreakLineRx"):fe.get("LayoutBreakLinePlusRx")}()["$=~"](P):f)===s||null==p||p.$$is_boolean&&1!=p)){C=fe.get("Block").$new(l,fe.get("LAYOUT_BREAK_LINES")["$[]"](U),_(["content_model"],{content_model:"empty"}));break}if(f=P["$end_with?"]("]"),!((p=f!==!1&&f!==s&&null!=f?G=fe.get("MediaBlockMacroRx").$match(P):f)===s||null==p||p.$$is_boolean&&1!=p)){if(H=G["$[]"](1).$to_sym(),C=fe.get("Block").$new(l,H,_(["content_model"],{content_model:"empty"})),Y=H["$=="]("image")?["alt","width","height"]:H["$=="]("video")?["poster","width","height"]:[],N!==!1&&N!==s&&null!=N&&(H["$=="]("image")&&o["$[]="]("alt",N),o.$delete("style"),N=s),C.$parse_attributes(G["$[]"](3),Y,_(["unescape_input","sub_input","sub_result","into"],{unescape_input:H["$=="]("image"),sub_input:!0,sub_result:!1,into:o})),K=C.$sub_attributes(G["$[]"](2),_(["attribute_missing"],{attribute_missing:"drop-line"})),(p=K["$empty?"]())!==s&&null!=p&&(!p.$$is_boolean||1==p))return O.$attributes().$fetch("attribute-missing",fe.get("Compliance").$attribute_missing())["$=="]("skip")?fe.get("Block").$new(l,"paragraph",_(["content_model","source"],{content_model:"simple",source:[P]})):(o.$clear(),s);o["$[]="]("target",K);break}if(!((p=(f=U["$=="]("t"))?G=fe.get("TocBlockMacroRx").$match(P):U["$=="]("t"))===s||null==p||p.$$is_boolean&&1!=p)){C=fe.get("Block").$new(l,"toc",_(["content_model"],{content_model:"empty"})),C.$parse_attributes(G["$[]"](1),[],_(["sub_result","into"],{sub_result:!1,into:o}));break}if(f=(h=T!==!1&&T!==s&&null!=T)?G=fe.get("GenericBlockMacroRx").$match(P):T,(p=f!==!1&&f!==s&&null!=f?W=S["$registered_for_block_macro?"](G["$[]"](1)):f)!==s&&null!=p&&(!p.$$is_boolean||1==p)){if(K=G["$[]"](2),X=G["$[]"](3),W.$config()["$[]"]("content_model")["$=="]("attributes")?((p=X["$empty?"]())===s||null==p||p.$$is_boolean&&1!=p)&&O.$parse_attributes(X,(p=W.$config()["$[]"]("pos_attrs"))!==!1&&p!==s&&null!=p?p:[],_(["sub_input","sub_result","into"],{sub_input:!0,sub_result:!1,into:o})):o["$[]="]("text",X),(p=V=W.$config()["$[]"]("default_attrs"))===s||null==p||p.$$is_boolean&&1!=p||(p=(f=V).$each,p.$$p=(g=function(e,t){var n,$,r;g.$$s||this;return null==e&&(e=s),null==t&&(t=s),n=e,$=o,(r=$["$[]"](n))!==!1&&r!==s&&null!=r?r:$["$[]="](n,t)},g.$$s=k,g.$$arity=2,g),p).call(f),(p=C=W.$process_method()["$[]"](l,K,o.$dup()))===s||null==p||p.$$is_boolean&&1!=p)return o.$clear(),s;o.$replace(C.$attributes());break}}if(!((p=G=fe.get("CalloutListRx").$match(P))===s||null==p||p.$$is_boolean&&1!=p)){for(C=fe.get("List").$new(l,"colist"),o["$[]="]("style","arabic"),$.$unshift_line(P),J=1;(h=(b=G)!==!1&&b!==s&&null!=b?b:(m=$["$has_more_lines?"](),m!==!1&&m!==s&&null!=m?G=fe.get("CalloutListRx").$match($.$peek_line()):m))!==s&&null!=h&&(!h.$$is_boolean||1==h);)(h=G["$[]"](1).$to_i()["$!="](J))===s||null==h||h.$$is_boolean&&1!=h||k.$warn("asciidoctor: WARNING: "+$.$path()+": line "+i($.$lineno(),2)+": callout list item index: expected "+J+" got "+G["$[]"](1)),Z=k.$next_list_item($,C,G),J=t(J,1),Z!==!1&&Z!==s&&null!=Z&&(C["$<<"](Z),Q=O.$callouts().$callout_ids(C.$items().$size()),(h=Q["$empty?"]()["$!"]())===s||null==h||h.$$is_boolean&&1!=h?k.$warn("asciidoctor: WARNING: "+$.$path()+": line "+i($.$lineno(),2)+": no callouts refer to list item "+C.$items().$size()):Z.$attributes()["$[]="]("coids",Q)),G=s;O.$callouts().$next_list();break}if(!((p=fe.get("UnorderedListRx")["$=~"](P))===s||null==p||p.$$is_boolean&&1!=p)){$.$unshift_line(P),C=k.$next_outline_list($,"ulist",l);break}if(!((p=G=fe.get("OrderedListRx").$match(P))===s||null==p||p.$$is_boolean&&1!=p)){$.$unshift_line(P),C=k.$next_outline_list($,"olist",l),h=o["$[]"]("style")["$!"](),(p=h!==!1&&h!==s&&null!=h?C.$attributes()["$[]"]("style")["$!"]():h)===s||null==p||p.$$is_boolean&&1!=p||(ee=C.$items()["$[]"](0).$marker(),(p=ee["$start_with?"]("."))===s||null==p||p.$$is_boolean&&1!=p?(N=(p=(h=fe.get("ORDERED_LIST_STYLES")).$find,p.$$p=(y=function(e){y.$$s||this;return null==e&&(e=s),fe.get("OrderedListMarkerRxMap")["$[]"](e)["$=~"](ee)},y.$$s=k,y.$$arity=1,y),p).call(h),o["$[]="]("style",((p=N)!==!1&&p!==s&&null!=p?p:fe.get("ORDERED_LIST_STYLES")["$[]"](0)).$to_s())):o["$[]="]("style",((p=fe.get("ORDERED_LIST_STYLES")["$[]"](i(ee.$length(),1)))!==!1&&p!==s&&null!=p?p:fe.get("ORDERED_LIST_STYLES")["$[]"](0)).$to_s()));break}if(!((p=G=fe.get("DescriptionListRx").$match(P))===s||null==p||p.$$is_boolean&&1!=p)){$.$unshift_line(P),C=k.$next_labeled_list($,G,l);break}if(b=(m=N["$=="]("float"))!==!1&&m!==s&&null!=m?m:N["$=="]("discrete"),!((p=b!==!1&&b!==s&&null!=b?k["$is_section_title?"](P,function(){return(m=fe.get("Compliance").$underline_style_section_titles())===s||null==m||m.$$is_boolean&&1!=m?s:$.$peek_line(!0)}()):b)===s||null==p||p.$$is_boolean&&1!=p)){$.$unshift_line(P),b=k.$parse_section_title($,O),p=e.to_ary(b),te=null==p[0]?s:p[0],ne=null==p[1]?s:p[1],$e=null==p[2]?s:p[2],re=null==p[3]?s:p[3],ie=null==p[4]?s:p[4],b,ne!==!1&&ne!==s&&null!=ne&&o["$[]="]("reftext",ne),(p=o["$has_key?"]("id"))===s||null==p||p.$$is_boolean&&1!=p||((p=te)!==!1&&p!==s&&null!=p?p:te=o["$[]"]("id")),C=fe.get("Block").$new(l,"floating_title",_(["content_model"],{content_model:"empty"})),(p=te["$nil_or_empty?"]())===s||null==p||p.$$is_boolean&&1!=p?(p=[te],b=C,b["$id="].apply(b,p),p[p.length-1]):(le=fe.get("Section").$new(l),p=[$e],b=le,b["$title="].apply(b,p),p[p.length-1],p=[le.$generate_id()],b=C,b["$id="].apply(b,p),p[p.length-1]),p=[re],b=C,b["$level="].apply(b,p),p[p.length-1],p=[$e],b=C,b["$title="].apply(b,p),p[p.length-1];break}if((p=(b=N!==!1&&N!==s&&null!=N)?N["$!="]("normal"):N)!==s&&null!=p&&(!p.$$is_boolean||1==p)){if(!((p=fe.get("PARAGRAPH_STYLES")["$include?"](N))===s||null==p||p.$$is_boolean&&1!=p)){B=N.$to_sym(),q="paragraph",$.$unshift_line(P);break}if(!((p=fe.get("ADMONITION_STYLES")["$include?"](N))===s||null==p||p.$$is_boolean&&1!=p)){B="admonition",q="paragraph",$.$unshift_line(P);break}if(!((p=(b=R!==!1&&R!==s&&null!=R)?S["$registered_for_block?"](N,"paragraph"):R)===s||null==p||p.$$is_boolean&&1!=p)){B=N.$to_sym(),q="paragraph",$.$unshift_line(P);break}k.$warn("asciidoctor: WARNING: "+$.$prev_line_info()+": invalid style for paragraph: "+N),N=s}if(oe=(p=x["$=="](0))?I:x["$=="](0),b=N["$!="]("normal"),(p=b!==!1&&b!==s&&null!=b?fe.get("LiteralParagraphRx")["$=~"](P):b)===s||null==p||p.$$is_boolean&&1!=p){if($.$unshift_line(P),ae=k.$read_paragraph_lines($,oe,_(["skip_line_comments"],{skip_line_comments:!0})),(p=ae["$empty?"]())!==s&&null!=p&&(!p.$$is_boolean||1==p))return $.$advance(),s;if(k.$catalog_inline_anchors(ae.$join(fe.get("EOL")),O),se=ae["$[]"](0),b=E["$!"](),(p=b!==!1&&b!==s&&null!=b?ue=fe.get("AdmonitionParagraphRx").$match(se):b)===s||null==p||p.$$is_boolean&&1!=p)if(m=E["$!"](),b=m!==!1&&m!==s&&null!=m?fe.get("Compliance").$markdown_syntax():m,(p=b!==!1&&b!==s&&null!=b?se["$start_with?"]("> "):b)===s||null==p||p.$$is_boolean&&1!=p)if(m=E["$!"](),(p=m!==!1&&m!==s&&null!=m?k["$blockquote?"](ae,se):m)===s||null==p||p.$$is_boolean&&1!=p)N["$=="]("normal")&&k["$adjust_indentation!"](ae),C=fe.get("Block").$new(l,"paragraph",_(["content_model","source","attributes"],{content_model:"simple",source:ae,attributes:o}));else{for(ae["$[]="](0,se["$[]"](d(1,-1,!1))),m=ae.$pop()["$[]"](d(3,-1,!1)).$split(", ",2),p=e.to_ary(m),_e=null==p[0]?s:p[0],pe=null==p[1]?s:p[1],m;(m=ae["$[]"](-1)["$empty?"]())!==s&&null!=m&&(!m.$$is_boolean||1==m);)ae.$pop();ae["$[]="](-1,ae["$[]"](-1).$chop()),o["$[]="]("style","quote"),_e!==!1&&_e!==s&&null!=_e&&o["$[]="]("attribution",_e),pe!==!1&&pe!==s&&null!=pe&&o["$[]="]("citetitle",pe),C=fe.get("Block").$new(l,"quote",_(["content_model","source","attributes"],{content_model:"simple",source:ae,attributes:o}))}else{if((p=(b=ae)["$map!"],p.$$p=(v=function(e){var t;v.$$s||this;return null==e&&(e=s),e["$=="](">")?e["$[]"](d(1,-1,!1)):(t=e["$start_with?"]("> "))===s||null==t||t.$$is_boolean&&1!=t?e:e["$[]"](d(2,-1,!1))},v.$$s=k,v.$$arity=1,v),p).call(b),(p=ae["$[]"](-1)["$start_with?"]("-- "))===s||null==p||p.$$is_boolean&&1!=p)m=s,p=e.to_ary(m),_e=null==p[0]?s:p[0],pe=null==p[1]?s:p[1],m;else for(m=ae.$pop()["$[]"](d(3,-1,!1)).$split(", ",2),p=e.to_ary(m),_e=null==p[0]?s:p[0],pe=null==p[1]?s:p[1],m;(m=ae["$[]"](-1)["$empty?"]())!==s&&null!=m&&(!m.$$is_boolean||1==m);)ae.$pop();o["$[]="]("style","quote"),_e!==!1&&_e!==s&&null!=_e&&o["$[]="]("attribution",_e),pe!==!1&&pe!==s&&null!=pe&&o["$[]="]("citetitle",pe),C=k.$build_block("quote","compound",!1,l,fe.get("Reader").$new(ae),o)}else ae["$[]="](0,ue.$post_match().$lstrip()),o["$[]="]("style",ue["$[]"](1)),o["$[]="]("name",ce=ue["$[]"](1).$downcase()),p="caption",b=o,(m=b["$[]"](p))!==!1&&m!==s&&null!=m?m:b["$[]="](p,O.$attributes()["$[]"](""+ce+"-caption")),C=fe.get("Block").$new(l,"admonition",_(["content_model","source","attributes"],{content_model:"simple",source:ae,attributes:o}))}else $.$unshift_line(P),ae=k.$read_paragraph_lines($,oe,_(["skip_line_comments"],{skip_line_comments:E})),k["$adjust_indentation!"](ae),C=fe.get("Block").$new(l,"literal",_(["content_model","source","attributes"],{content_model:"verbatim",source:ae,attributes:o})),I!==!1&&I!==s&&null!=I&&C.$set_option("listparagraph");break}if(p=C["$!"](),(c=p!==!1&&p!==s&&null!=p?B:p)!==s&&null!=c&&(!c.$$is_boolean||1==c))if((c=(p=B["$=="]("abstract"))!==!1&&p!==s&&null!=p?p:B["$=="]("partintro"))===s||null==c||c.$$is_boolean&&1!=c||(B="open"),de=B,"admonition"["$==="](de))o["$[]="]("name",ce=N.$downcase()),c="caption",p=o,(m=p["$[]"](c))!==!1&&m!==s&&null!=m?m:p["$[]="](c,O.$attributes()["$[]"](""+ce+"-caption")),C=k.$build_block(B,"compound",j,l,$,o);else{if("comment"["$==="](de))return k.$build_block(B,"skip",j,l,$,o),s;if("example"["$==="](de))C=k.$build_block(B,"compound",j,l,$,o);else if("listing"["$==="](de)||"fenced_code"["$==="](de)||"source"["$==="](de))B["$=="]("fenced_code")?(N=o["$[]="]("style","source"),p=P["$[]"](d(3,-1,!1)).$tr(" ","").$split(",",2),c=e.to_ary(p),he=null==c[0]?s:c[0],ge=null==c[1]?s:c[1],p,(c=he["$nil_or_empty?"]()["$!"]())===s||null==c||c.$$is_boolean&&1!=c?(c=be=O.$attributes()["$[]"]("source-language"))===s||null==c||c.$$is_boolean&&1!=c||o["$[]="]("language",be):(o["$[]="]("language",he),((c=ge["$nil_or_empty?"]())===s||null==c||c.$$is_boolean&&1!=c)&&o["$[]="]("linenums","")),p=o["$key?"]("indent")["$!"](),(c=p!==!1&&p!==s&&null!=p?O.$attributes()["$key?"]("source-indent"):p)===s||null==c||c.$$is_boolean&&1!=c||o["$[]="]("indent",O.$attributes()["$[]"]("source-indent")),j=j["$[]"](d(0,2,!1))):B["$=="]("source")&&(fe.get("AttributeList").$rekey(o,[s,"language","linenums"]),((c=o["$key?"]("language"))===s||null==c||c.$$is_boolean&&1!=c)&&((c=be=O.$attributes()["$[]"]("source-language"))===s||null==c||c.$$is_boolean&&1!=c||o["$[]="]("language",be)),p=o["$key?"]("indent")["$!"](),(c=p!==!1&&p!==s&&null!=p?O.$attributes()["$key?"]("source-indent"):p)===s||null==c||c.$$is_boolean&&1!=c||o["$[]="]("indent",O.$attributes()["$[]"]("source-indent"))),C=k.$build_block("listing","verbatim",j,l,$,o);else if("literal"["$==="](de))C=k.$build_block(B,"verbatim",j,l,$,o);else if("pass"["$==="](de))C=k.$build_block(B,"raw",j,l,$,o);else if("stem"["$==="](de)||"latexmath"["$==="](de)||"asciimath"["$==="](de))B["$=="]("stem")&&o["$[]="]("style",function(){return(c=me=o["$[]"](2))===s||null==c||c.$$is_boolean&&1!=c?(c=(ye=O.$attributes()["$[]"]("stem"))["$nil_or_empty?"]())===s||null==c||c.$$is_boolean&&1!=c?ye:"asciimath":(c=me["$include?"]("tex"))===s||null==c||c.$$is_boolean&&1!=c?"asciimath":"latexmath"}()),C=k.$build_block("stem","raw",j,l,$,o);else if("open"["$==="](de)||"sidebar"["$==="](de))C=k.$build_block(B,"compound",j,l,$,o);else if("table"["$==="](de))ve=$.$cursor(),we=fe.get("Reader").$new($.$read_lines_until(_(["terminator","skip_line_comments"],{terminator:j,skip_line_comments:!0})),ve),de=j.$chr(),","["$==="](de)?o["$[]="]("format","csv"):":"["$==="](de)&&o["$[]="]("format","dsv"),C=k.$next_table(we,l,o);else if("quote"["$==="](de)||"verse"["$==="](de))fe.get("AttributeList").$rekey(o,[s,"attribution","citetitle"]),C=k.$build_block(B,function(){return B["$=="]("verse")?"verbatim":"compound"}(),j,l,$,o);else if((c=(p=R!==!1&&R!==s&&null!=R)?W=S["$registered_for_block?"](B,q):R)===s||null==c||c.$$is_boolean&&1!=c)k.$raise("Unsupported block type "+B+" at "+$.$line_info());else if((c=(ke=W.$config()["$[]"]("content_model"))["$!="]("skip"))===s||null==c||c.$$is_boolean&&1!=c||((c=(xe=(p=W.$config()["$[]"]("pos_attrs"))!==!1&&p!==s&&null!=p?p:[])["$empty?"]()["$!"]())===s||null==c||c.$$is_boolean&&1!=c||fe.get("AttributeList").$rekey(o,[s].$concat(xe)),(c=V=W.$config()["$[]"]("default_attrs"))===s||null==c||c.$$is_boolean&&1!=c||(c=(p=V).$each,c.$$p=(w=function(e,t){var n,$,r;w.$$s||this;return null==e&&(e=s),null==t&&(t=s),n=e,$=o,(r=$["$[]"](n))!==!1&&r!==s&&null!=r?r:$["$[]="](n,t)},w.$$s=k,w.$$arity=2,w),c).call(p)),C=k.$build_block(B,ke,j,l,$,o,_(["extension"],{extension:W})),(c=(m=C!==!1&&C!==s&&null!=C)?ke["$!="]("skip"):C)===s||null==c||c.$$is_boolean&&1!=c)return o.$clear(),s}}else $.$advance();return C!==!1&&C!==s&&null!=C&&(z!==!1&&z!==s&&null!=z&&(u=[z],c=C,c["$source_location="].apply(c,u),u[u.length-1]),((u=C["$title?"]())===s||null==u||u.$$is_boolean&&1!=u)&&(u=[o["$[]"]("title")],c=C,c["$title="].apply(c,u),u[u.length-1]),C.$context()["$=="]("image")?(Ee=o["$[]"]("target"),C.$document().$register("images",Ee),u="alt",c=o,(m=c["$[]"](u))!==!1&&m!==s&&null!=m?m:c["$[]="](u,fe.get("Helpers").$basename(Ee,!0).$tr("_-"," ")),o["$[]="]("alt",C.$sub_specialchars(o["$[]"]("alt"))),C.$assign_caption(o.$delete("caption"),"figure"),(u=Ae=o["$[]"]("scaledwidth"))===s||null==u||u.$$is_boolean&&1!=u||(u=d(48,57,!1)["$include?"](((c=Ae["$[]"](-1))!==!1&&c!==s&&null!=c?c:0).$ord()))===s||null==u||u.$$is_boolean&&1!=u||o["$[]="]("scaledwidth",""+Ae+"%")):(u=C,(c=u.$caption())!==!1&&c!==s&&null!=c?c:u["$caption="](o.$delete("caption"))),u=[o["$[]"]("style")],c=C,c["$style="].apply(c,u),u[u.length-1],c=C,(u=Oe=(m=c.$id())!==!1&&m!==s&&null!=m?m:c["$id="](o["$[]"]("id")))===s||null==u||u.$$is_boolean&&1!=u||O.$register("ids",[Oe,(u=o["$[]"]("reftext"))!==!1&&u!==s&&null!=u?u:function(){return(c=C["$title?"]())===s||null==c||c.$$is_boolean&&1!=c?s:C.$title()}()]),((u=o["$empty?"]())===s||null==u||u.$$is_boolean&&1!=u)&&C.$attributes().$update(o),C.$lock_in_subs(),(u=C["$sub?"]("callouts"))===s||null==u||u.$$is_boolean&&1!=u||((u=k.$catalog_callouts(C.$source(),O))===s||null==u||u.$$is_boolean&&1!=u)&&C.$remove_sub("callouts")),C},R.$$arity=-3),e.defs(de,"$blockquote?",T=function(e,t){var $,r,i,l;return null==t&&(t=s),i=n(e.$size(),1),r=i!==!1&&i!==s&&null!=i?((l=t)!==!1&&l!==s&&null!=l?l:e["$[]"](0))["$start_with?"]('"'):i,$=r!==!1&&r!==s&&null!=r?e["$[]"](-1)["$start_with?"]("-- "):r,$!==!1&&$!==s&&null!=$?e["$[]"](-2)["$end_with?"]('"'):$},T.$$arity=-2),e.defs(de,"$read_paragraph_lines",I=function(e,t,n){var $,r,i=s;return null==n&&(n=_([],{})),n["$[]="]("break_on_blank_lines",!0),n["$[]="]("break_on_list_continuation",!0),n["$[]="]("preserve_last_line",!0),i=function(){return t!==!1&&t!==s&&null!=t?function(){return($=fe.get("Compliance").$block_terminates_paragraph())===s||null==$||$.$$is_boolean&&1!=$?fe.get("StartOfListProc"):fe.get("StartOfBlockOrListProc")}():function(){return($=fe.get("Compliance").$block_terminates_paragraph())===s||null==$||$.$$is_boolean&&1!=$?fe.get("NoOp"):fe.get("StartOfBlockProc")}()}(),($=(r=e).$read_lines_until,$.$$p=i.$to_proc(),$).call(r,n)},I.$$arity=-3),e.defs(de,"$is_delimited_block?",C=function(t,r){var a,u,c=s,_=s,p=s,f=s,h=s,g=s,b=s;if(null==r&&(r=!1),u=n(c=t.$length(),1),(a=u!==!1&&u!==s&&null!=u?fe.get("DELIMITED_BLOCK_LEADERS")["$include?"](t["$[]"](d(0,1,!1))):u)===s||null==a||a.$$is_boolean&&1!=a)return s;if(c["$=="](2))_=t,p=2;else{if((a=l(c,4))===s||null==a||a.$$is_boolean&&1!=a?(_=t["$[]"](d(0,3,!1)),p=4):(_=t,p=c),f=!1,(a=fe.get("Compliance").$markdown_syntax())!==s&&null!=a&&(!a.$$is_boolean||1==a)&&(h=function(){return p["$=="](4)?_.$chop():_}(),h["$=="]("```"))){if((a=(u=p["$=="](4))?_["$end_with?"]("`"):p["$=="](4))!==s&&null!=a&&(!a.$$is_boolean||1==a))return s;_=h,p=3,f=!0}if((a=(u=p["$=="](3))?f["$!"]():p["$=="](3))!==s&&null!=a&&(!a.$$is_boolean||1==a))return s}return(a=fe.get("DELIMITED_BLOCKS")["$has_key?"](_))===s||null==a||a.$$is_boolean&&1!=a?s:(a=(u=o(p,4))!==!1&&u!==s&&null!=u?u:p["$=="](c))===s||null==a||a.$$is_boolean&&1!=a?(""+_+$(_["$[]"](d(-1,-1,!1)),i(c,p)))["$=="](t)?r===!1||r===s||null==r||(a=e.to_a(fe.get("DELIMITED_BLOCKS")["$[]"](_)),g=null==a[0]?s:a[0],b=null==a[1]?s:a[1],a,fe.get("BlockMatchData").$new(g,b,_,t)):s:r===!1||r===s||null==r||(a=e.to_a(fe.get("DELIMITED_BLOCKS")["$[]"](_)),g=null==a[0]?s:a[0],b=null==a[1]?s:a[1],a,fe.get("BlockMatchData").$new(g,b,_,_))},C.$$arity=-2),e.defs(de,"$build_block",N=function(e,t,$,r,i,l,o){var a,u,c=this,p=s,d=s,f=s,h=s,g=s,b=s,m=s,y=s,v=s;if(null==o&&(o=_([],{})),(a=(u=t["$=="]("skip"))!==!1&&u!==s&&null!=u?u:t["$=="]("raw"))===s||null==a||a.$$is_boolean&&1!=a?(p=!1,d=t):(p=t["$=="]("skip"),d="simple"),(a=$["$nil?"]())===s||null==a||a.$$is_boolean&&1!=a?(a=d["$!="]("compound"))===s||null==a||a.$$is_boolean&&1!=a?$["$=="](!1)?(f=s,h=i):(f=s,g=i.$cursor(),h=fe.get("Reader").$new(i.$read_lines_until(_(["terminator","skip_processing"],{terminator:$,skip_processing:p})),g)):(f=i.$read_lines_until(_(["terminator","skip_processing"],{terminator:$,skip_processing:p})),h=s):(d["$=="]("verbatim")?f=i.$read_lines_until(_(["break_on_blank_lines","break_on_list_continuation"],{break_on_blank_lines:!0,break_on_list_continuation:!0})):(t["$=="]("compound")&&(t="simple"),f=c.$read_paragraph_lines(i,!1,_(["skip_line_comments","skip_processing"],{skip_line_comments:!0,skip_processing:!0}))),h=s),t["$=="]("skip"))return l.$clear(),f;if(t["$=="]("verbatim")&&((a=b=l["$[]"]("indent"))===s||null==a||a.$$is_boolean&&1!=a?(a=n(m=((u=l["$[]"]("tabsize"))!==!1&&u!==s&&null!=u?u:r.$document().$attributes()["$[]"]("tabsize")).$to_i(),0))===s||null==a||a.$$is_boolean&&1!=a||c["$adjust_indentation!"](f,s,m):c["$adjust_indentation!"](f,b,(a=l["$[]"]("tabsize"))!==!1&&a!==s&&null!=a?a:r.$document().$attributes()["$[]"]("tabsize"))),(a=y=o["$[]"]("extension"))===s||null==a||a.$$is_boolean&&1!=a)v=fe.get("Block").$new(r,e,_(["content_model","source","attributes"],{content_model:t,source:f,attributes:l}));else{if(l.$delete("style"),(a=v=y.$process_method()["$[]"](r,(u=h)!==!1&&u!==s&&null!=u?u:fe.get("Reader").$new(f),l.$dup()))===s||null==a||a.$$is_boolean&&1!=a)return s;l.$replace(v.$attributes()),(a=(u=v.$content_model()["$=="]("compound"))?(f=v.$lines())["$nil_or_empty?"]()["$!"]():v.$content_model()["$=="]("compound"))===s||null==a||a.$$is_boolean&&1!=a||(t="compound",h=fe.get("Reader").$new(f))}return u=l["$has_key?"]("title"),(a=u!==!1&&u!==s&&null!=u?v.$document()["$attr?"](""+v.$context()+"-caption"):u)===s||null==a||a.$$is_boolean&&1!=a||(a=[l.$delete("title")],u=v,u["$title="].apply(u,a),a[a.length-1],v.$assign_caption(l.$delete("caption"))),t["$=="]("compound")&&c.$parse_blocks(h,v),v},N.$$arity=-7),e.defs(de,"$parse_blocks",M=function(e,t){for(var n,$=s;(n=e["$has_more_lines?"]())!==s&&null!=n&&(!n.$$is_boolean||1==n);)$=fe.get("Parser").$next_block(e,t),$!==!1&&$!==s&&null!=$&&t["$<<"]($)},M.$$arity=2),e.defs(de,"$next_outline_list",L=function(e,$,r){var i,l,a,u=this,c=s,_=s,p=s,d=s,f=s,h=s;for(c=fe.get("List").$new(r,$),r.$context()["$=="]($)?(i=[t(r.$level(),1)],l=c,l["$level="].apply(l,i),i[i.length-1]):(i=[1],l=c,l["$level="].apply(l,i),i[i.length-1]);a=e["$has_more_lines?"](),(l=a!==!1&&a!==s&&null!=a?_=fe.get("ListRxMap")["$[]"]($).$match(e.$peek_line()):a)!==s&&null!=l&&(!l.$$is_boolean||1==l);){if(p=u.$resolve_list_marker($,_["$[]"](1)),
a=c["$items?"](),(l=a!==!1&&a!==s&&null!=a?p["$!="](c.$items()["$[]"](0).$marker()):a)===s||null==l||l.$$is_boolean&&1!=l)d=c.$level();else for(d=t(c.$level(),1),f=r;f.$context()["$=="]($);){if(p["$=="](f.$items()["$[]"](0).$marker())){d=f.$level();break}f=f.$parent()}if((l=(a=c["$items?"]()["$!"]())!==!1&&a!==s&&null!=a?a:d["$=="](c.$level()))===s||null==l||l.$$is_boolean&&1!=l){if(!((l=o(d,c.$level()))===s||null==l||l.$$is_boolean&&1!=l))break;(l=n(d,c.$level()))===s||null==l||l.$$is_boolean&&1!=l||c.$items()["$[]"](-1)["$<<"](u.$next_block(e,c))}else h=u.$next_list_item(e,c,_);h!==!1&&h!==s&&null!=h&&c["$<<"](h),h=s,e.$skip_blank_lines()}return c},L.$$arity=3),e.defs(de,"$catalog_callouts",z=function(e,t){var n,$,r,i=this,l=s;return l=!1,(n=e["$include?"]("<"))===s||null==n||n.$$is_boolean&&1!=n||(n=($=e).$scan,n.$$p=(r=function(){var e,n=(r.$$s||this,s);return null==f["~"]&&(f["~"]=s),n=f["~"],(e=n["$[]"](0).$chr()["$!="]("\\"))===s||null==e||e.$$is_boolean&&1!=e||t.$callouts().$register(n["$[]"](2)),l=!0},r.$$s=i,r.$$arity=0,r),n).call($,fe.get("CalloutQuickScanRx")),l},z.$$arity=2),e.defs(de,"$catalog_inline_anchors",P=function(e,t){var n,$,r,i=this;return(n=e["$include?"]("["))===s||null==n||n.$$is_boolean&&1!=n||(n=($=e).$scan,n.$$p=(r=function(){var e,n=(r.$$s||this,s),$=s,i=s;return null==f["~"]&&(f["~"]=s),n=f["~"],(e=n["$[]"](0)["$start_with?"]("\\"))===s||null==e||e.$$is_boolean&&1!=e?($=(e=n["$[]"](1))!==!1&&e!==s&&null!=e?e:n["$[]"](3),i=(e=n["$[]"](2))!==!1&&e!==s&&null!=e?e:n["$[]"](4),t.$register("ids",[$,i])):s},r.$$s=i,r.$$arity=0,r),n).call($,fe.get("InlineAnchorRx")),s},P.$$arity=2),e.defs(de,"$next_labeled_list",D=function(t,n,$){var r,i,l,o=this,a=s,u=s,c=s,_=s,p=s;for(a=fe.get("List").$new($,"dlist"),u=s,c=fe.get("DescriptionListSiblingRx")["$[]"](n["$[]"](2));(r=(i=n)!==!1&&i!==s&&null!=i?i:(l=t["$has_more_lines?"](),l!==!1&&l!==s&&null!=l?n=c.$match(t.$peek_line()):l))!==s&&null!=r&&(!r.$$is_boolean||1==r);)i=o.$next_list_item(t,a,n,c),r=e.to_ary(i),_=null==r[0]?s:r[0],p=null==r[1]?s:r[1],i,(r=(i=u!==!1&&u!==s&&null!=u)?u["$[]"](-1)["$!"]():u)===s||null==r||r.$$is_boolean&&1!=r?a.$items()["$<<"](u=[[_],p]):(u.$pop(),u["$[]"](0)["$<<"](_),u["$<<"](p)),n=s;return a},D.$$arity=3),e.defs(de,"$next_list_item",B=function(e,t,n,$){var r,i,l=this,o=s,a=s,u=s,c=s,p=s,f=s,h=s,g=s,b=s,m=s,y=s,v=s,w=s,k=s,x=s;if(null==$&&($=s),(o=t.$context())["$=="]("dlist")?(a=fe.get("ListItem").$new(t,n["$[]"](1)),u=fe.get("ListItem").$new(t,n["$[]"](3)),c=n["$[]"](3)["$nil_or_empty?"]()["$!"]()):(p=n["$[]"](2),f=!1,(r=(i=o["$=="]("ulist"))?p["$start_with?"]("["):o["$=="]("ulist"))===s||null==r||r.$$is_boolean&&1!=r||((r=p["$start_with?"]("[ ] "))===s||null==r||r.$$is_boolean&&1!=r?(r=(i=p["$start_with?"]("[x] "))!==!1&&i!==s&&null!=i?i:p["$start_with?"]("[*] "))===s||null==r||r.$$is_boolean&&1!=r||(f=!0,h=!0,p=p["$[]"](d(3,-1,!1)).$lstrip()):(f=!0,h=!1,p=p["$[]"](d(3,-1,!1)).$lstrip())),u=fe.get("ListItem").$new(t,p),f!==!1&&f!==s&&null!=f&&(t.$attributes()["$[]="]("checklist-option",""),u.$attributes()["$[]="]("checkbox",""),h!==!1&&h!==s&&null!=h&&u.$attributes()["$[]="]("checked","")),(r=$)!==!1&&r!==s&&null!=r?r:$=l.$resolve_list_marker(o,n["$[]"](1),t.$items().$size(),!0,e),r=[$],i=u,i["$marker="].apply(i,r),r[r.length-1],c=!0),e.$advance(),g=e.$cursor(),b=fe.get("Reader").$new(l.$read_lines_for_list_item(e,o,$,c),g),(r=b["$has_more_lines?"]())!==s&&null!=r&&(!r.$$is_boolean||1==r)){for(m=b.$skip_line_comments(),y=b.$peek_line(),((r=m["$empty?"]())===s||null==r||r.$$is_boolean&&1!=r)&&b.$unshift_lines(m),(r=y["$nil?"]()["$!"]())===s||null==r||r.$$is_boolean&&1!=r?(v=!1,w=!1):(v=y["$empty?"](),i=v["$!"](),(r=i!==!1&&i!==s&&null!=i?o["$!="]("dlist"):i)===s||null==r||r.$$is_boolean&&1!=r||(c=!1),r=v["$!"](),w=r!==!1&&r!==s&&null!=r?y["$empty?"]()["$!"]():r),k=_(["text"],{text:c["$!"]()});(i=b["$has_more_lines?"]())!==s&&null!=i&&(!i.$$is_boolean||1==i);)(i=x=l.$next_block(b,u,_([],{}),k))===s||null==i||i.$$is_boolean&&1!=i||u["$<<"](x);u.$fold_first(v,w)}return o["$=="]("dlist")?(((r=(i=u["$text?"]())!==!1&&i!==s&&null!=i?i:u["$blocks?"]())===s||null==r||r.$$is_boolean&&1!=r)&&(u=s),[a,u]):u},B.$$arity=-4),e.defs(de,"$read_lines_for_list_item",q=function(e,t,n,$){var r,i,l,o,a,u,c,p,d,h,g,b,m,y=this,v=s,w=s,k=s,x=s,E=s,A=s,O=s,S=s;for(null==f["~"]&&(f["~"]=s),null==n&&(n=s),null==$&&($=!0),v=[],w="inactive",k=!1,x=s;(i=e["$has_more_lines?"]())!==s&&null!=i&&(!i.$$is_boolean||1==i)&&(E=e.$read_line(),(i=y["$is_sibling_list_item?"](E,t,n))===s||null==i||i.$$is_boolean&&1!=i);)if(A=function(){return(i=v["$empty?"]())===s||null==i||i.$$is_boolean&&1!=i?v["$[]"](-1):s}(),A["$=="](fe.get("LIST_CONTINUATION"))&&(w["$=="]("inactive")&&(w="active",$=!0,k!==!1&&k!==s&&null!=k||v["$[]="](-1,"")),E["$=="](fe.get("LIST_CONTINUATION"))))(i=w["$!="]("frozen"))===s||null==i||i.$$is_boolean&&1!=i||(w="frozen",v["$<<"](E)),E=s;else{if((i=O=y["$is_delimited_block?"](E,!0))===s||null==i||i.$$is_boolean&&1!=i){if(l=(o=t["$=="]("dlist"))?w["$!="]("active"):t["$=="]("dlist"),!((i=l!==!1&&l!==s&&null!=l?fe.get("BlockAttributeLineRx")["$=~"](E):l)===s||null==i||i.$$is_boolean&&1!=i))break;if((i=(l=w["$=="]("active"))?E["$empty?"]()["$!"]():w["$=="]("active"))===s||null==i||i.$$is_boolean&&1!=i)if(o=A["$nil?"]()["$!"](),(i=o!==!1&&o!==s&&null!=o?A["$empty?"]():o)===s||null==i||i.$$is_boolean&&1!=i)(i=E["$empty?"]()["$!"]())===s||null==i||i.$$is_boolean&&1!=i||($=!0),(i=S=(g=(b=function(){return k!==!1&&k!==s&&null!=k?["dlist"]:fe.get("NESTABLE_LIST_CONTEXTS")}()).$find,g.$$p=(m=function(e){m.$$s||this;return null==e&&(e=s),fe.get("ListRxMap")["$[]"](e)["$=~"](E)},m.$$s=y,m.$$arity=1,m),g).call(b))===s||null==i||i.$$is_boolean&&1!=i||(k=!0,(i=(g=S["$=="]("dlist"))?f["~"]["$[]"](3)["$nil_or_empty?"]():S["$=="]("dlist"))===s||null==i||i.$$is_boolean&&1!=i||($=!1)),v["$<<"](E);else{if(!((i=E["$empty?"]())===s||null==i||i.$$is_boolean&&1!=i||(e.$skip_blank_lines(),E=e.$read_line(),(i=(o=E["$nil?"]())!==!1&&o!==s&&null!=o?o:y["$is_sibling_list_item?"](E,t,n))===s||null==i||i.$$is_boolean&&1!=i)))break;if(E["$=="](fe.get("LIST_CONTINUATION")))x=v.$size(),v["$<<"](E);else if($!==!1&&$!==s&&null!=$){if(!((i=y["$is_sibling_list_item?"](E,t,n))===s||null==i||i.$$is_boolean&&1!=i))break;if((i=S=(o=(p=fe.get("NESTABLE_LIST_CONTEXTS")).$find,o.$$p=(d=function(e){d.$$s||this;return null==e&&(e=s),fe.get("ListRxMap")["$[]"](e)["$=~"](E)},d.$$s=y,d.$$arity=1,d),o).call(p))===s||null==i||i.$$is_boolean&&1!=i){if((i=fe.get("LiteralParagraphRx")["$=~"](E))===s||null==i||i.$$is_boolean&&1!=i)break;e.$unshift_line(E),v.$concat((i=(o=e).$read_lines_until,i.$$p=(h=function(e){var $,r=h.$$s||this;return null==e&&(e=s),($=t["$=="]("dlist"))?r["$is_sibling_list_item?"](e,t,n):t["$=="]("dlist")},h.$$s=y,h.$$arity=1,h),i).call(o,_(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})))}else v["$<<"](E),k=!0,(i=(o=S["$=="]("dlist"))?f["~"]["$[]"](3)["$nil_or_empty?"]():S["$=="]("dlist"))===s||null==i||i.$$is_boolean&&1!=i||($=!1)}else k!==!1&&k!==s&&null!=k||v.$pop(),v["$<<"](E),$=!0}else(i=fe.get("LiteralParagraphRx")["$=~"](E))===s||null==i||i.$$is_boolean&&1!=i?(i=(o=(u=fe.get("BlockTitleRx")["$=~"](E))!==!1&&u!==s&&null!=u?u:fe.get("BlockAttributeLineRx")["$=~"](E))!==!1&&o!==s&&null!=o?o:fe.get("AttributeEntryRx")["$=~"](E))===s||null==i||i.$$is_boolean&&1!=i?((i=S=(o=(u=function(){return k!==!1&&k!==s&&null!=k?["dlist"]:fe.get("NESTABLE_LIST_CONTEXTS")}()).$find,o.$$p=(c=function(e){c.$$s||this;return null==e&&(e=s),fe.get("ListRxMap")["$[]"](e)["$=~"](E)},c.$$s=y,c.$$arity=1,c),o).call(u))===s||null==i||i.$$is_boolean&&1!=i||(k=!0,(i=(o=S["$=="]("dlist"))?f["~"]["$[]"](3)["$nil_or_empty?"]():S["$=="]("dlist"))===s||null==i||i.$$is_boolean&&1!=i||($=!1)),v["$<<"](E),w="inactive"):v["$<<"](E):(e.$unshift_line(E),v.$concat((i=(l=e).$read_lines_until,i.$$p=(a=function(e){var $,r=a.$$s||this;return null==e&&(e=s),($=t["$=="]("dlist"))?r["$is_sibling_list_item?"](e,t,n):t["$=="]("dlist")},a.$$s=y,a.$$arity=1,a),i).call(l,_(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0}))),w="inactive")}else{if(!w["$=="]("active"))break;v["$<<"](E),v.$concat(e.$read_lines_until(_(["terminator","read_last_line"],{terminator:O.$terminator(),read_last_line:!0}))),w="inactive"}E=s}for(E!==!1&&E!==s&&null!=E&&e.$unshift_line(E),x!==!1&&x!==s&&null!=x&&v.$delete_at(x);g=v["$empty?"]()["$!"](),(i=g!==!1&&g!==s&&null!=g?v["$[]"](-1)["$empty?"]():g)!==s&&null!=i&&(!i.$$is_boolean||1==i);)v.$pop();return i=v["$empty?"]()["$!"](),(r=i!==!1&&i!==s&&null!=i?v["$[]"](-1)["$=="](fe.get("LIST_CONTINUATION")):i)===s||null==r||r.$$is_boolean&&1!=r||v.$pop(),v},q.$$arity=-3),e.defs(de,"$initialize_section",j=function(t,n,$){var r,i,l=this,o=s,a=s,u=s,c=s,p=s,d=s,f=s,h=s,g=s,b=s;return null==$&&($=_([],{})),o=n.$document(),(r=o.$sourcemap())===s||null==r||r.$$is_boolean&&1!=r||(a=t.$cursor()),i=l.$parse_section_title(t,o),r=e.to_ary(i),u=null==r[0]?s:r[0],c=null==r[1]?s:r[1],p=null==r[2]?s:r[2],d=null==r[3]?s:r[3],f=null==r[4]?s:r[4],i,c!==!1&&c!==s&&null!=c&&$["$[]="]("reftext",c),h=fe.get("Section").$new(n,d,o.$attributes()["$has_key?"]("sectnums")),a!==!1&&a!==s&&null!=a&&(r=[a],i=h,i["$source_location="].apply(i,r),r[r.length-1]),r=[u],i=h,i["$id="].apply(i,r),r[r.length-1],r=[p],i=h,i["$title="].apply(i,r),r[r.length-1],(r=$["$[]"](1))===s||null==r||r.$$is_boolean&&1!=r?(r=(i=p.$downcase()["$=="]("synopsis"))?o.$doctype()["$=="]("manpage"):p.$downcase()["$=="]("synopsis"))===s||null==r||r.$$is_boolean&&1!=r?(r=["sect"+h.$level()],i=h,i["$sectname="].apply(i,r),r[r.length-1]):(r=[!0],i=h,i["$special="].apply(i,r),r[r.length-1],r=["synopsis"],i=h,i["$sectname="].apply(i,r),r[r.length-1]):(i=l.$parse_style_attribute($,t),r=e.to_ary(i),g=null==r[0]?s:r[0],f=null==r[1]?s:r[1],i,g!==!1&&g!==s&&null!=g?(r=[g],i=h,i["$sectname="].apply(i,r),r[r.length-1],r=[!0],i=h,i["$special="].apply(i,r),r[r.length-1],(r=(i=h.$sectname()["$=="]("abstract"))?o.$doctype()["$=="]("book"):h.$sectname()["$=="]("abstract"))===s||null==r||r.$$is_boolean&&1!=r||(r=["sect1"],i=h,i["$sectname="].apply(i,r),r[r.length-1],r=[!1],i=h,i["$special="].apply(i,r),r[r.length-1],r=[1],i=h,i["$level="].apply(i,r),r[r.length-1])):(r=["sect"+h.$level()],i=h,i["$sectname="].apply(i,r),r[r.length-1])),i=h.$id()["$!"](),(r=i!==!1&&i!==s&&null!=i?b=$["$[]"]("id"):i)===s||null==r||r.$$is_boolean&&1!=r?(r=h,(i=r.$id())!==!1&&i!==s&&null!=i?i:r["$id="](h.$generate_id())):(r=[b],i=h,i["$id="].apply(i,r),r[r.length-1]),(r=h.$id())===s||null==r||r.$$is_boolean&&1!=r||h.$document().$register("ids",[h.$id(),(r=$["$[]"]("reftext"))!==!1&&r!==s&&null!=r?r:h.$title()]),h.$update_attributes($),t.$skip_blank_lines(),h},j.$$arity=-3),e.defs(de,"$section_level",F=function(e){return fe.get("SECTION_LEVELS")["$[]"](e.$chr())},F.$$arity=1),e.defs(de,"$single_line_section_level",U=function(e){return i(e.$length(),1)},U.$$arity=1),e.defs(de,"$is_next_line_section?",G=function(t,n){var $,r,i,l,o=this,a=s,u=s;return i=(a=n["$[]"](1))["$nil?"]()["$!"](),r=i!==!1&&i!==s&&null!=i?(l=(u=a["$[]"](0).$ord())["$=="](100))!==!1&&l!==s&&null!=l?l:u["$=="](102):i,!!(($=r!==!1&&r!==s&&null!=r?a["$=~"](fe.get("FloatingTitleStyleRx")):r)===s||null==$||$.$$is_boolean&&1!=$)&&(!(($=t["$has_more_lines?"]())===s||null==$||$.$$is_boolean&&1!=$)&&(($=fe.get("Compliance").$underline_style_section_titles())===s||null==$||$.$$is_boolean&&1!=$?o["$is_section_title?"](t.$peek_line()):($=o)["$is_section_title?"].apply($,e.to_a(t.$peek_lines(2)))))},G.$$arity=2),e.defs(de,"$is_next_line_document_title?",H=function(e,t){var n=this;return n["$is_next_line_section?"](e,t)["$=="](0)},H.$$arity=2),e.defs(de,"$is_section_title?",Y=function(e,t){var n,$,r=this,i=s;return null==t&&(t=s),(n=i=r["$is_single_line_section_title?"](e))===s||null==n||n.$$is_boolean&&1!=n?!((n=($=t!==!1&&t!==s&&null!=t)?i=r["$is_two_line_section_title?"](e,t):t)===s||null==n||n.$$is_boolean&&1!=n)&&i:i},Y.$$arity=-2),e.defs(de,"$is_single_line_section_title?",K=function(e){var t,n,$,r,i=this,l=s,o=s;return l=function(){return e!==!1&&e!==s&&null!=e?e.$chr():s}(),n=($=l["$=="]("="))!==!1&&$!==s&&null!=$?$:(r=fe.get("Compliance").$markdown_syntax(),r!==!1&&r!==s&&null!=r?l["$=="]("#"):r),!((t=n!==!1&&n!==s&&null!=n?o=fe.get("AtxSectionRx").$match(e):n)===s||null==t||t.$$is_boolean&&1!=t)&&i.$single_line_section_level(o["$[]"](1))},K.$$arity=1),e.defs(de,"$is_two_line_section_title?",W=function(e,t){var n,$,r,o,a,u,c=this;return a=(u=e!==!1&&e!==s&&null!=e)?t:e,o=a!==!1&&a!==s&&null!=a?fe.get("SECTION_LEVELS")["$has_key?"](t.$chr()):a,r=o!==!1&&o!==s&&null!=o?t["$=~"](fe.get("SetextSectionLineRx")):o,$=r!==!1&&r!==s&&null!=r?e["$=~"](fe.get("SetextSectionTitleRx")):r,!((n=$!==!1&&$!==s&&null!=$?l(i(c.$line_length(e),c.$line_length(t)).$abs(),1):$)===s||null==n||n.$$is_boolean&&1!=n)&&c.$section_level(t)},W.$$arity=2),e.defs(de,"$parse_section_title",X=function(e,n){var $,o,a,u,c,_=this,p=s,d=s,f=s,h=s,g=s,b=s,m=s,y=s,v=s,w=s,k=s;return p=e.$read_line(),d=s,f=s,h=-1,g=s,b=!0,m=p.$chr(),o=(a=m["$=="]("="))!==!1&&a!==s&&null!=a?a:(u=fe.get("Compliance").$markdown_syntax(),u!==!1&&u!==s&&null!=u?m["$=="]("#"):u),($=o!==!1&&o!==s&&null!=o?y=fe.get("AtxSectionRx").$match(p):o)===s||null==$||$.$$is_boolean&&1!=$?($=fe.get("Compliance").$underline_style_section_titles())===s||null==$||$.$$is_boolean&&1!=$||(c=w=e.$peek_line(!0),u=c!==!1&&c!==s&&null!=c?fe.get("SECTION_LEVELS")["$has_key?"](w.$chr()):c,a=u!==!1&&u!==s&&null!=u?w["$=~"](fe.get("SetextSectionLineRx")):u,o=a!==!1&&a!==s&&null!=a?k=fe.get("SetextSectionTitleRx").$match(p):a,($=o!==!1&&o!==s&&null!=o?l(i(_.$line_length(p),_.$line_length(w)).$abs(),1):o)===s||null==$||$.$$is_boolean&&1!=$||(f=k["$[]"](1),o=f["$end_with?"]("]]"),($=o!==!1&&o!==s&&null!=o?v=fe.get("InlineSectionAnchorRx").$match(f):o)===s||null==$||$.$$is_boolean&&1!=$||($=v["$[]"](2)["$nil?"]())===s||null==$||$.$$is_boolean&&1!=$||(f=v["$[]"](1),d=v["$[]"](3),g=v["$[]"](4)),h=_.$section_level(w),b=!1,e.$advance())):(h=_.$single_line_section_level(y["$[]"](1)),f=y["$[]"](2),o=f["$end_with?"]("]]"),($=o!==!1&&o!==s&&null!=o?v=fe.get("InlineSectionAnchorRx").$match(f):o)===s||null==$||$.$$is_boolean&&1!=$||($=v["$[]"](2)["$nil?"]())===s||null==$||$.$$is_boolean&&1!=$||(f=v["$[]"](1),d=v["$[]"](3),g=v["$[]"](4))),($=r(h,0))===s||null==$||$.$$is_boolean&&1!=$||(h=t(h,n.$attr("leveloffset",0).$to_i())),[d,g,f,h,b]},X.$$arity=2),e.defs(de,"$line_length",V=function(e){var t;return(t=fe.get("FORCE_UNICODE_LINE_LENGTH"))===s||null==t||t.$$is_boolean&&1!=t?e.$length():e.$scan(fe.get("UnicodeCharScanRx")).$length()},V.$$arity=1),e.defs(de,"$parse_header_metadata",J=function($,r){var i,l,o,a,u,c,p=this,f=s,h=s,g=s,b=s,m=s,y=s,v=s,w=s,k=s,x=s,E=s;if(null==r&&(r=s),p.$process_attribute_entries($,r),f=_([],{}),h=s,g=s,l=$["$has_more_lines?"](),(i=l!==!1&&l!==s&&null!=l?$["$next_line_empty?"]()["$!"]():l)===s||null==i||i.$$is_boolean&&1!=i||(b=p.$process_authors($.$read_line()),((i=b["$empty?"]())===s||null==i||i.$$is_boolean&&1!=i)&&(r!==!1&&r!==s&&null!=r&&((i=(l=b).$each,i.$$p=(o=function(t,n){var $;o.$$s||this;return null==t&&(t=s),null==n&&(n=s),($=r.$attributes()["$has_key?"](t))===s||null==$||$.$$is_boolean&&1!=$?r.$attributes()["$[]="](t,function(){return($=e.get("String")["$==="](n))===s||null==$||$.$$is_boolean&&1!=$?n:r.$apply_header_subs(n)}()):s},o.$$s=p,o.$$arity=2,o),i).call(l),h=r.$attributes()["$[]"]("author"),g=r.$attributes()["$[]"]("authors")),f=b),p.$process_attribute_entries($,r),m=_([],{}),a=$["$has_more_lines?"](),(i=a!==!1&&a!==s&&null!=a?$["$next_line_empty?"]()["$!"]():a)===s||null==i||i.$$is_boolean&&1!=i||(y=$.$read_line(),(i=v=fe.get("RevisionInfoLineRx").$match(y))===s||null==i||i.$$is_boolean&&1!=i?$.$unshift_line(y):((i=v["$[]"](1))===s||null==i||i.$$is_boolean&&1!=i||m["$[]="]("revnumber",v["$[]"](1).$rstrip()),((i=(w=v["$[]"](2).$strip())["$empty?"]())===s||null==i||i.$$is_boolean&&1!=i)&&(a=v["$[]"](1)["$!"](),(i=a!==!1&&a!==s&&null!=a?w["$start_with?"]("v"):a)===s||null==i||i.$$is_boolean&&1!=i?m["$[]="]("revdate",w):m["$[]="]("revnumber",w["$[]"](d(1,-1,!1)))),(i=v["$[]"](3))===s||null==i||i.$$is_boolean&&1!=i||m["$[]="]("revremark",v["$[]"](3).$rstrip()))),((i=m["$empty?"]())===s||null==i||i.$$is_boolean&&1!=i)&&(r!==!1&&r!==s&&null!=r&&(i=(a=m).$each,i.$$p=(u=function(e,t){var n;u.$$s||this;return null==e&&(e=s),null==t&&(t=s),(n=r.$attributes()["$has_key?"](e))===s||null==n||n.$$is_boolean&&1!=n?r.$attributes()["$[]="](e,r.$apply_header_subs(t)):s},u.$$s=p,u.$$arity=2,u),i).call(a),f.$update(m)),p.$process_attribute_entries($,r),$.$skip_blank_lines()),r!==!1&&r!==s&&null!=r){if(b=s,c=r.$attributes()["$has_key?"]("author"),(i=c!==!1&&c!==s&&null!=c?(k=r.$attributes()["$[]"]("author"))["$!="](h):c)===s||null==i||i.$$is_boolean&&1!=i)if(c=r.$attributes()["$has_key?"]("authors"),(i=c!==!1&&c!==s&&null!=c?(k=r.$attributes()["$[]"]("authors"))["$!="](g):c)===s||null==i||i.$$is_boolean&&1!=i){for(x=[],E="author_"+t(x.$size(),1);(c=r.$attributes()["$has_key?"](E))!==s&&null!=c&&(!c.$$is_boolean||1==c);)x["$<<"](r.$attributes()["$[]"](E)),E="author_"+t(x.$size(),1);x.$size()["$=="](1)?b=p.$process_authors(x["$[]"](0),!0,!1):(i=n(x.$size(),1))===s||null==i||i.$$is_boolean&&1!=i||(b=p.$process_authors(x.$join("; "),!0))}else b=p.$process_authors(k,!0);else b=p.$process_authors(k,!0,!1);b!==!1&&b!==s&&null!=b&&(r.$attributes().$update(b),c=r.$attributes()["$has_key?"]("email")["$!"](),(i=c!==!1&&c!==s&&null!=c?r.$attributes()["$has_key?"]("email_1"):c)===s||null==i||i.$$is_boolean&&1!=i||r.$attributes()["$[]="]("email",r.$attributes()["$[]"]("email_1")))}return f},J.$$arity=-2),e.defs(de,"$process_authors",Z=function(e,$,r){var i,l,o,a,u,c=this,p=s,f=s,h=s;return null==$&&($=!1),null==r&&(r=!0),p=_([],{}),f=["author","authorinitials","firstname","middlename","lastname","email"],h=function(){return r!==!1&&r!==s&&null!=r?(i=(l=e.$split(";")).$map,i.$$p=(o=function(e){o.$$s||this;return null==e&&(e=s),e.$strip()},o.$$s=c,o.$$arity=1,o),i).call(l):[e]}(),(i=(a=h).$each_with_index,i.$$p=(u=function(e,r){var i,l,o,a,c,h,g,b=u.$$s||this,m=s,y=s,v=s,w=s,k=s,x=s;return null==e&&(e=s),null==r&&(r=s),(i=e["$empty?"]())===s||null==i||i.$$is_boolean&&1!=i?(m=_([],{}),r["$=="](0)?(i=(l=f).$each,i.$$p=(o=function(e){o.$$s||this;return null==e&&(e=s),m["$[]="](e.$to_sym(),e)},o.$$s=b,o.$$arity=1,o),i).call(l):(i=(a=f).$each,i.$$p=(c=function(e){c.$$s||this;return null==e&&(e=s),m["$[]="](e.$to_sym(),""+e+"_"+t(r,1))},c.$$s=b,c.$$arity=1,c),i).call(a),y=s,$!==!1&&$!==s&&null!=$?(i=n((y=e.$split(" ")).$size(),3))===s||null==i||i.$$is_boolean&&1!=i||(y=y["$[]"](d(0,1,!1)).$push(y["$[]"](d(2,-1,!1)).$join(" "))):(i=v=fe.get("AuthorInfoLineRx").$match(e))===s||null==i||i.$$is_boolean&&1!=i||(y=v.$to_a(),y.$shift()),(i=y["$nil?"]())===s||null==i||i.$$is_boolean&&1!=i?(p["$[]="](m["$[]"]("firstname"),w=y["$[]"](0).$tr("_"," ")),p["$[]="](m["$[]"]("author"),w),p["$[]="](m["$[]"]("authorinitials"),w["$[]"](0,1)),h=y["$[]"](1)["$nil?"]()["$!"](),(i=h!==!1&&h!==s&&null!=h?y["$[]"](2)["$nil?"]()["$!"]():h)===s||null==i||i.$$is_boolean&&1!=i?(i=y["$[]"](1)["$nil?"]()["$!"]())===s||null==i||i.$$is_boolean&&1!=i||(p["$[]="](m["$[]"]("lastname"),x=y["$[]"](1).$tr("_"," ")),p["$[]="](m["$[]"]("author"),[w,x].$join(" ")),p["$[]="](m["$[]"]("authorinitials"),[w["$[]"](0,1),x["$[]"](0,1)].$join())):(p["$[]="](m["$[]"]("middlename"),k=y["$[]"](1).$tr("_"," ")),p["$[]="](m["$[]"]("lastname"),x=y["$[]"](2).$tr("_"," ")),p["$[]="](m["$[]"]("author"),[w,k,x].$join(" ")),p["$[]="](m["$[]"]("authorinitials"),[w["$[]"](0,1),k["$[]"](0,1),x["$[]"](0,1)].$join())),((i=(h=$)!==!1&&h!==s&&null!=h?h:y["$[]"](3)["$nil?"]())===s||null==i||i.$$is_boolean&&1!=i)&&p["$[]="](m["$[]"]("email"),y["$[]"](3))):(p["$[]="](m["$[]"]("author"),p["$[]="](m["$[]"]("firstname"),w=e.$strip().$tr_s(" "," "))),p["$[]="](m["$[]"]("authorinitials"),w["$[]"](0,1))),p["$[]="]("authorcount",t(r,1)),r["$=="](1)&&(i=(h=f).$each,i.$$p=(g=function(e){var t;g.$$s||this;return null==e&&(e=s),(t=p["$has_key?"](e))===s||null==t||t.$$is_boolean&&1!=t?s:p["$[]="](""+e+"_1",p["$[]"](e))},g.$$s=b,g.$$arity=1,g),i).call(h),r["$=="](0)?p["$[]="]("authors",p["$[]"](m["$[]"]("author"))):p["$[]="]("authors",""+p["$[]"]("authors")+", "+p["$[]"](m["$[]"]("author")))):s},u.$$s=c,u.$$arity=2,u),i).call(a),p},Z.$$arity=-2),e.defs(de,"$parse_block_metadata_lines",Q=function(e,t,n,$){var r,i=this;for(null==n&&(n=_([],{})),null==$&&($=_([],{}));(r=i.$parse_block_metadata_line(e,t,n,$))!==s&&null!=r&&(!r.$$is_boolean||1==r);)e.$advance(),e.$skip_blank_lines();return n},Q.$$arity=-3),e.defs(de,"$parse_block_metadata_line",ee=function(e,t,n,$){var r,i,l,o=this,a=s,u=s,c=s,p=s,d=s;if(null==$&&($=_([],{})),(r=e["$has_more_lines?"]())===s||null==r||r.$$is_boolean&&1!=r)return!1;if(a=e.$peek_line(),i=u=a["$start_with?"]("//"),(r=i!==!1&&i!==s&&null!=i?c=fe.get("CommentBlockRx").$match(a):i)===s||null==r||r.$$is_boolean&&1!=r)if((r=(i=u!==!1&&u!==s&&null!=u)?fe.get("CommentLineRx")["$=~"](a):u)===s||null==r||r.$$is_boolean&&1!=r)if(l=$["$[]"]("text")["$!"](),i=l!==!1&&l!==s&&null!=l?a["$start_with?"](":"):l,(r=i!==!1&&i!==s&&null!=i?c=fe.get("AttributeEntryRx").$match(a):i)===s||null==r||r.$$is_boolean&&1!=r)if(l=a["$start_with?"]("["),i=d=l!==!1&&l!==s&&null!=l?a["$end_with?"]("]"):l,(r=i!==!1&&i!==s&&null!=i?c=fe.get("BlockAnchorRx").$match(a):i)===s||null==r||r.$$is_boolean&&1!=r)if((r=(i=d!==!1&&d!==s&&null!=d)?c=fe.get("BlockAttributeListRx").$match(a):d)===s||null==r||r.$$is_boolean&&1!=r){if(i=$["$[]"]("text")["$!"](),(r=i!==!1&&i!==s&&null!=i?c=fe.get("BlockTitleRx").$match(a):i)===s||null==r||r.$$is_boolean&&1!=r)return!1;n["$[]="]("title",c["$[]"](1))}else t.$document().$parse_attributes(c["$[]"](1),[],_(["sub_input","into"],{sub_input:!0,into:n}));else((r=c["$[]"](1)["$nil_or_empty?"]())===s||null==r||r.$$is_boolean&&1!=r)&&(n["$[]="]("id",c["$[]"](1)),((r=c["$[]"](2)["$nil?"]())===s||null==r||r.$$is_boolean&&1!=r)&&n["$[]="]("reftext",c["$[]"](2)));else o.$process_attribute_entry(e,t,n,c);else;else p=c["$[]"](0),e.$read_lines_until(_(["skip_first_line","preserve_last_line","terminator","skip_processing"],{skip_first_line:!0,preserve_last_line:!0,terminator:p,skip_processing:!0}));return!0},ee.$$arity=-4),e.defs(de,"$process_attribute_entries",te=function(e,t,n){var $,r=this;for(null==n&&(n=s),e.$skip_comment_lines();($=r.$process_attribute_entry(e,t,n))!==s&&null!=$&&(!$.$$is_boolean||1==$);)e.$advance(),e.$skip_comment_lines()},te.$$arity=-3),e.defs(de,"$process_attribute_entry",ne=function(e,t,n,$){var r,i,l=this,o=s,a=s,u=s,c=s,_=s,p=s;if(null==n&&(n=s),null==$&&($=s),(r=$)!==!1&&r!==s&&null!=r?r:$=function(){return(i=e["$has_more_lines?"]())===s||null==i||i.$$is_boolean&&1!=i?s:fe.get("AttributeEntryRx").$match(e.$peek_line())}(),$!==!1&&$!==s&&null!=$){if(o=$["$[]"](1),(r=(a=(i=$["$[]"](2))!==!1&&i!==s&&null!=i?i:"")["$empty?"]())===s||null==r||r.$$is_boolean&&1!=r){if((r=(i=a["$end_with?"](u=fe.get("LINE_CONTINUATION")))!==!1&&i!==s&&null!=i?i:a["$end_with?"](u=fe.get("LINE_CONTINUATION_LEGACY")))!==s&&null!=r&&(!r.$$is_boolean||1==r))for(a=a.$chop().$rstrip();(i=e.$advance())!==s&&null!=i&&(!i.$$is_boolean||1==i)&&((i=(c=e.$peek_line().$strip())["$empty?"]())===s||null==i||i.$$is_boolean&&1!=i)&&((i=_=c["$end_with?"](u))===s||null==i||i.$$is_boolean&&1!=i||(c=c.$chop().$rstrip()),p=function(){return(i=a["$end_with?"](fe.get("LINE_BREAK")))===s||null==i||i.$$is_boolean&&1!=i?" ":fe.get("EOL")}(),a=""+a+p+c,_!==!1&&_!==s&&null!=_););}else;return l.$store_attribute(o,a,function(){return t!==!1&&t!==s&&null!=t?t.$document():s}(),n),!0}return!1},ne.$$arity=-3),e.defs(de,"$store_attribute",$e=function(e,n,$,r){var l,o,a=this,u=s,c=s;return null==$&&($=s),null==r&&(r=s),(l=e["$end_with?"]("!"))===s||null==l||l.$$is_boolean&&1!=l?(l=e["$start_with?"]("!"))===s||null==l||l.$$is_boolean&&1!=l||(n=s,e=e["$[]"](d(1,-1,!1))):(n=s,e=e.$chop()),e=a.$sanitize_attribute_name(e),u=!0,$!==!1&&$!==s&&null!=$&&(e["$=="]("numbered")?e="sectnums":e["$=="]("leveloffset")&&n!==!1&&n!==s&&null!=n&&(c=n.$chr(),"+"["$==="](c)?n=t($.$attr("leveloffset",0).$to_i(),((l=n["$[]"](d(1,-1,!1)))!==!1&&l!==s&&null!=l?l:0).$to_i()).$to_s():"-"["$==="](c)&&(n=i($.$attr("leveloffset",0).$to_i(),((l=n["$[]"](d(1,-1,!1)))!==!1&&l!==s&&null!=l?l:0).$to_i()).$to_s())),u=function(){return n!==!1&&n!==s&&null!=n?$.$set_attribute(e,n):$.$delete_attribute(e)}()),(l=(o=u!==!1&&u!==s&&null!=u)?r:u)===s||null==l||l.$$is_boolean&&1!=l||(n!==!1&&n!==s&&null!=n&&(n=$.$attributes()["$[]"](e)),fe.get("Document").$$scope.get("AttributeEntry").$new(e,n).$save_to(r)),[e,n]},$e.$$arity=-3),e.defs(de,"$resolve_list_marker",re=function(e,t,n,$,r){var i,l,o=this;return null==n&&(n=0),null==$&&($=!1),null==r&&(r=s),(i=(l=e["$=="]("olist"))?t["$start_with?"](".")["$!"]():e["$=="]("olist"))===s||null==i||i.$$is_boolean&&1!=i?e["$=="]("colist")?"<1>":t:o.$resolve_ordered_list_marker(t,n,$,r)},re.$$arity=-3),e.defs(de,"$resolve_ordered_list_marker",ie=function(e,n,$,r){var i,l,o,a,u=this,c=s,_=s,p=s,d=s;return null==n&&(n=0),null==$&&($=!1),null==r&&(r=s),c=(i=(l=fe.get("ORDERED_LIST_STYLES")).$find,i.$$p=(o=function(t){o.$$s||this;return null==t&&(t=s),fe.get("OrderedListMarkerRxMap")["$[]"](t)["$=~"](e)},o.$$s=u,o.$$arity=1,o),i).call(l),_=p=s,d=c,"arabic"["$==="](d)?($!==!1&&$!==s&&null!=$&&(_=t(n,1),p=e.$to_i()),e="1."):"loweralpha"["$==="](d)?($!==!1&&$!==s&&null!=$&&(_=t("a"["$[]"](0).$ord(),n).$chr(),p=e.$chomp(".")),e="a."):"upperalpha"["$==="](d)?($!==!1&&$!==s&&null!=$&&(_=t("A"["$[]"](0).$ord(),n).$chr(),p=e.$chomp(".")),e="A."):"lowerroman"["$==="](d)?($!==!1&&$!==s&&null!=$&&(_=t(n,1),p=u.$roman_numeral_to_int(e.$chomp(")"))),e="i)"):"upperroman"["$==="](d)&&($!==!1&&$!==s&&null!=$&&(_=t(n,1),p=u.$roman_numeral_to_int(e.$chomp(")"))),e="I)"),(i=(a=$!==!1&&$!==s&&null!=$)?_["$!="](p):$)===s||null==i||i.$$is_boolean&&1!=i||u.$warn("asciidoctor: WARNING: "+r.$line_info()+": list item index: expected "+_+", got "+p),e},ie.$$arity=-2),e.defs(de,"$is_sibling_list_item?",le=function(t,n,$){var r,i=this,l=s,o=s,a=s;return(r=e.get("Regexp")["$==="]($))===s||null==r||r.$$is_boolean&&1!=r?(l=fe.get("ListRxMap")["$[]"](n),o=$):(l=$,o=!1),!((r=a=l.$match(t))===s||null==r||r.$$is_boolean&&1!=r)&&(o===!1||o===s||null==o||o["$=="](i.$resolve_list_marker(n,a["$[]"](1))))},le.$$arity=3),e.defs(de,"$next_table",oe=function(n,$,r){var i,l,o,a,u,c,_=this,p=s,f=s,h=s,g=s,b=s,m=s,y=s,v=s,w=s,k=s,x=s,E=s,A=s;for(p=fe.get("Table").$new($,r),(i=r["$has_key?"]("title"))===s||null==i||i.$$is_boolean&&1!=i||(i=[r.$delete("title")],l=p,l["$title="].apply(l,i),i[i.length-1],p.$assign_caption(r.$delete("caption"))),l=r["$key?"]("cols"),(i=l!==!1&&l!==s&&null!=l?(f=_.$parse_colspecs(r["$[]"]("cols")))["$empty?"]()["$!"]():l)===s||null==i||i.$$is_boolean&&1!=i?h=!1:(p.$create_columns(f),h=!0),g=n.$skip_blank_lines(),b=fe.get("Table").$$scope.get("ParserContext").$new(n,p,r),m=(i=r["$key?"]("header-option"))!==!1&&i!==s&&null!=i?i:r["$key?"]("noheader-option"),y=-1;(l=n["$has_more_lines?"]())!==s&&null!=l&&(!l.$$is_boolean||1==l);){for(y=t(y,1),v=n.$read_line(),c=m["$!"](),u=c!==!1&&c!==s&&null!=c?g["$=="](0):c,a=u!==!1&&u!==s&&null!=u?y["$=="](0):u,o=a!==!1&&a!==s&&null!=a?(w=n.$peek_line())["$nil?"]()["$!"]():a,(l=o!==!1&&o!==s&&null!=o?w["$empty?"]():o)===s||null==l||l.$$is_boolean&&1!=l||(l=[!0],o=p,o["$has_header_option="].apply(o,l),l[l.length-1],r["$[]="]("header-option",""),r["$[]="]("options",function(){return(l=r["$key?"]("options"))===s||null==l||l.$$is_boolean&&1!=l?"header":""+r["$[]"]("options")+",header"}())),b.$format()["$=="]("psv")&&((l=b["$starts_with_delimiter?"](v))===s||null==l||l.$$is_boolean&&1!=l?(o=_.$parse_cellspec(v,"start",b.$delimiter()),l=e.to_ary(o),k=null==l[0]?s:l[0],v=null==l[1]?s:l[1],o,(l=k["$nil?"]()["$!"]())===s||null==l||l.$$is_boolean&&1!=l||b.$close_open_cell(k)):(v=v["$[]"](d(1,-1,!1)),b.$close_open_cell())),x=!1;(o=(a=x["$!"]())!==!1&&a!==s&&null!=a?a:v["$empty?"]()["$!"]())!==s&&null!=o&&(!o.$$is_boolean||1==o);)if(x=!0,(o=E=b.$match_delimiter(v))===s||null==o||o.$$is_boolean&&1!=o)o=[""+b.$buffer()+v+fe.get("EOL")],a=b,a["$buffer="].apply(a,o),o[o.length-1],b.$format()["$=="]("csv")&&(o=[""+b.$buffer().$rstrip()+" "],a=b,a["$buffer="].apply(a,o),o[o.length-1]),v="",(o=(a=b.$format()["$=="]("psv"))!==!1&&a!==s&&null!=a?a:(u=b.$format()["$=="]("csv"))?b["$buffer_has_unclosed_quotes?"]():b.$format()["$=="]("csv"))===s||null==o||o.$$is_boolean&&1!=o?b.$close_cell(!0):b.$keep_cell_open();else{if(b.$format()["$=="]("csv")){if((o=b["$buffer_has_unclosed_quotes?"](E.$pre_match()))!==s&&null!=o&&(!o.$$is_boolean||1==o)){v=b.$skip_matched_delimiter(E);continue}}else if((o=E.$pre_match()["$end_with?"]("\\"))!==s&&null!=o&&(!o.$$is_boolean||1==o)){if((o=(v=b.$skip_matched_delimiter(E,!0))["$empty?"]())!==s&&null!=o&&(!o.$$is_boolean||1==o)){o=[""+b.$buffer()+fe.get("EOL")],a=b,a["$buffer="].apply(a,o),o[o.length-1],b.$keep_cell_open();break}continue}b.$format()["$=="]("psv")?(a=_.$parse_cellspec(E.$pre_match(),"end"),o=e.to_ary(a),k=null==o[0]?s:o[0],A=null==o[1]?s:o[1],a,b.$push_cellspec(k),o=[""+b.$buffer()+A],a=b,a["$buffer="].apply(a,o),o[o.length-1]):(o=[""+b.$buffer()+E.$pre_match()],a=b,a["$buffer="].apply(a,o),o[o.length-1]),(o=(v=E.$post_match())["$empty?"]())===s||null==o||o.$$is_boolean&&1!=o||(x=!1),b.$close_cell()}((l=b["$cell_open?"]())===s||null==l||l.$$is_boolean&&1!=l)&&(g=n.$skip_blank_lines()),((l=n["$has_more_lines?"]())===s||null==l||l.$$is_boolean&&1!=l)&&((l=b["$cell_open?"]())===s||null==l||l.$$is_boolean&&1!=l||b.$close_cell(!0))}return((i=(l=(o="colcount",a=p.$attributes(),(u=a["$[]"](o))!==!1&&u!==s&&null!=u?u:a["$[]="](o,p.$columns().$size()))["$=="](0))!==!1&&l!==s&&null!=l?l:h)===s||null==i||i.$$is_boolean&&1!=i)&&p.$assign_column_widths(),p.$partition_header_footer(r),p},oe.$$arity=3),e.defs(de,"$parse_colspecs",ae=function(t){var n,$,r,i,l,o=this,a=s;return(n=t["$include?"](" "))===s||null==n||n.$$is_boolean&&1!=n||(t=t.$tr(" ","")),t["$=="](t.$to_i().$to_s())?(n=($=e.get("Array")).$new,n.$$p=(r=function(){r.$$s||this;return _(["width"],{width:1})},r.$$s=o,r.$$arity=0,r),n).call($,t.$to_i()):(a=[],(n=(i=t.$split(",",-1)).$each,n.$$p=(l=function(t){var n,$,r,i=l.$$s||this,o=s,u=s,c=s,p=s;return null==t&&(t=s),(n=t["$empty?"]())===s||null==n||n.$$is_boolean&&1!=n?(n=o=fe.get("ColumnSpecRx").$match(t))===s||null==n||n.$$is_boolean&&1!=n?s:(u=_([],{}),(n=o["$[]"](2))===s||null==n||n.$$is_boolean&&1!=n||($=o["$[]"](2).$split("."),n=e.to_ary($),c=null==n[0]?s:n[0],p=null==n[1]?s:n[1],$,$=c["$nil_or_empty?"]()["$!"](),(n=$!==!1&&$!==s&&null!=$?fe.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("h")["$has_key?"](c):$)===s||null==n||n.$$is_boolean&&1!=n||u["$[]="]("halign",fe.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("h")["$[]"](c)),$=p["$nil_or_empty?"]()["$!"](),(n=$!==!1&&$!==s&&null!=$?fe.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("v")["$has_key?"](p):$)===s||null==n||n.$$is_boolean&&1!=n||u["$[]="]("valign",fe.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("v")["$[]"](p))),u["$[]="]("width",function(){return(n=o["$[]"](3))===s||null==n||n.$$is_boolean&&1!=n?1:o["$[]"](3).$to_i()}()),$=o["$[]"](4),(n=$!==!1&&$!==s&&null!=$?fe.get("Table").$$scope.get("TEXT_STYLES")["$has_key?"](o["$[]"](4)):$)===s||null==n||n.$$is_boolean&&1!=n||u["$[]="]("style",fe.get("Table").$$scope.get("TEXT_STYLES")["$[]"](o["$[]"](4))),(n=o["$[]"](1))===s||null==n||n.$$is_boolean&&1!=n?a["$<<"](u):(n=($=1).$upto,n.$$p=(r=function(){r.$$s||this;return a["$<<"](u.$dup())},r.$$s=i,r.$$arity=0,r),n).call($,o["$[]"](1).$to_i())):a["$<<"](_(["width"],{width:1}))},l.$$s=o,l.$$arity=1,l),n).call(i),a)},ae.$$arity=1),e.defs(de,"$parse_cellspec",se=function(t,n,$){var r,i,l=s,o=s,a=s,u=s,c=s,p=s,d=s;if(null==n&&(n="start"),
null==$&&($=s),l=s,o="",a=n,"start"["$==="](a)){if((r=t["$include?"]($))===s||null==r||r.$$is_boolean&&1!=r)return[s,t];if(i=t.$split($,2),r=e.to_ary(i),u=null==r[0]?s:r[0],o=null==r[1]?s:r[1],i,(r=l=fe.get("CellSpecStartRx").$match(u))===s||null==r||r.$$is_boolean&&1!=r)return[s,t];if((r=l["$[]"](0)["$empty?"]())!==s&&null!=r&&(!r.$$is_boolean||1==r))return[_([],{}),o]}else if("end"["$==="](a)){if((r=l=fe.get("CellSpecEndRx").$match(t))===s||null==r||r.$$is_boolean&&1!=r)return[_([],{}),t];if((r=l["$[]"](0).$lstrip()["$empty?"]())!==s&&null!=r&&(!r.$$is_boolean||1==r))return[_([],{}),t.$rstrip()];o=l.$pre_match()}return c=_([],{}),(r=l["$[]"](1))===s||null==r||r.$$is_boolean&&1!=r||(i=l["$[]"](1).$split("."),r=e.to_ary(i),p=null==r[0]?s:r[0],d=null==r[1]?s:r[1],i,p=function(){return(r=p["$nil_or_empty?"]())===s||null==r||r.$$is_boolean&&1!=r?p.$to_i():1}(),d=function(){return(r=d["$nil_or_empty?"]())===s||null==r||r.$$is_boolean&&1!=r?d.$to_i():1}(),l["$[]"](2)["$=="]("+")?(p["$=="](1)||c["$[]="]("colspan",p),d["$=="](1)||c["$[]="]("rowspan",d)):l["$[]"](2)["$=="]("*")&&(p["$=="](1)||c["$[]="]("repeatcol",p))),(r=l["$[]"](3))===s||null==r||r.$$is_boolean&&1!=r||(i=l["$[]"](3).$split("."),r=e.to_ary(i),p=null==r[0]?s:r[0],d=null==r[1]?s:r[1],i,i=p["$nil_or_empty?"]()["$!"](),(r=i!==!1&&i!==s&&null!=i?fe.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("h")["$has_key?"](p):i)===s||null==r||r.$$is_boolean&&1!=r||c["$[]="]("halign",fe.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("h")["$[]"](p)),i=d["$nil_or_empty?"]()["$!"](),(r=i!==!1&&i!==s&&null!=i?fe.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("v")["$has_key?"](d):i)===s||null==r||r.$$is_boolean&&1!=r||c["$[]="]("valign",fe.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("v")["$[]"](d))),i=l["$[]"](4),(r=i!==!1&&i!==s&&null!=i?fe.get("Table").$$scope.get("TEXT_STYLES")["$has_key?"](l["$[]"](4)):i)===s||null==r||r.$$is_boolean&&1!=r||c["$[]="]("style",fe.get("Table").$$scope.get("TEXT_STYLES")["$[]"](l["$[]"](4))),[c,o]},se.$$arity=-2),e.defs(de,"$parse_style_attribute",ue=function(e,n){var r,i,l,o,a,u,c,p=this,d=s,f=s,h=s,g=s,b=s,m=s,y=s,v=s,w=s;return null==n&&(n=s),d=e["$[]"]("style"),f=e["$[]"](1),i=(l=f!==!1&&f!==s&&null!=f)?f["$include?"](" ")["$!"]():f,(r=i!==!1&&i!==s&&null!=i?fe.get("Compliance").$shorthand_property_syntax():i)===s||null==r||r.$$is_boolean&&1!=r?(e["$[]="]("style",f),[f,d]):(h="style",g=[],b=_([],{}),m=(r=(i=p).$lambda,r.$$p=(o=function(){var e,t,$,r=o.$$s||this,i=s;return(e=g["$empty?"]())===s||null==e||e.$$is_boolean&&1!=e?(i=h,"role"["$==="](i)||"option"["$==="](i)?(e=h,t=b,($=t["$[]"](e))!==!1&&$!==s&&null!=$?$:t["$[]="](e,[]),b["$[]"](h).$push(g.$join())):"id"["$==="](i)?((e=b["$has_key?"]("id"))===s||null==e||e.$$is_boolean&&1!=e||r.$warn("asciidoctor: WARNING:"+function(){return(e=n["$nil?"]())===s||null==e||e.$$is_boolean&&1!=e?" "+n.$prev_line_info()+":":s}()+" multiple ids detected in style attribute"),b["$[]="](h,g.$join())):b["$[]="](h,g.$join()),g=[]):(e=h["$!="]("style"))===s||null==e||e.$$is_boolean&&1!=e?s:r.$warn("asciidoctor: WARNING:"+function(){return(e=n["$nil?"]())===s||null==e||e.$$is_boolean&&1!=e?" "+n.$prev_line_info()+":":s}()+" invalid empty "+h+" detected in style attribute")},o.$$s=p,o.$$arity=0,o),r).call(i),(r=(l=f).$each_char,r.$$p=(a=function(e){var t,n,$,r=(a.$$s||this,s);return null==e&&(e=s),(t=(n=($=e["$=="]("."))!==!1&&$!==s&&null!=$?$:e["$=="]("#"))!==!1&&n!==s&&null!=n?n:e["$=="]("%"))===s||null==t||t.$$is_boolean&&1!=t?g.$push(e):(m.$call(),function(){return r=e,"."["$==="](r)?h="role":"#"["$==="](r)?h="id":"%"["$==="](r)?h="option":s}())},a.$$s=p,a.$$arity=1,a),r).call(l),h["$=="]("style")?y=e["$[]="]("style",f):(m.$call(),y=(r=b["$has_key?"]("style"))===s||null==r||r.$$is_boolean&&1!=r?s:e["$[]="]("style",b["$[]"]("style")),(r=b["$has_key?"]("id"))===s||null==r||r.$$is_boolean&&1!=r||e["$[]="]("id",b["$[]"]("id")),(r=b["$has_key?"]("role"))===s||null==r||r.$$is_boolean&&1!=r||e["$[]="]("role",$(b["$[]"]("role")," ")),(r=b["$has_key?"]("option"))===s||null==r||r.$$is_boolean&&1!=r||((r=(u=v=b["$[]"]("option")).$each,r.$$p=(c=function(t){c.$$s||this;return null==t&&(t=s),e["$[]="](""+t+"-option","")},c.$$s=p,c.$$arity=1,c),r).call(u),(r=w=e["$[]"]("options"))===s||null==r||r.$$is_boolean&&1!=r?e["$[]="]("options",$(v,",")):e["$[]="]("options",$(t(v,w.$split(",")),",")))),[y,d])},ue.$$arity=-2),e.defs(de,"$adjust_indentation!",ce=function(r,l,o){var a,u,c,_,p,h,g,b,m,y,v,w=this,k=s,x=s,E=s;return null==l&&(l=0),null==o&&(o=0),(a=r["$empty?"]())===s||null==a||a.$$is_boolean&&1!=a?(u=n(o=o.$to_i(),0),(a=u!==!1&&u!==s&&null!=u?r.$join()["$include?"](fe.get("TAB")):u)===s||null==a||a.$$is_boolean&&1!=a||(k=$(" ",o),(a=(u=r)["$map!"],a.$$p=(c=function(e){var n,r,l,a,u,_=c.$$s||this,p=s;return null==e&&(e=s),(n=e["$empty?"]())===s||null==n||n.$$is_boolean&&1!=n?((n=e["$start_with?"](fe.get("TAB")))===s||null==n||n.$$is_boolean&&1!=n||(e=(n=(r=e).$sub,n.$$p=(l=function(e){l.$$s||this;return null==e&&(e=s),$(k,e.$length())},l.$$s=_,l.$$arity=1,l),n).call(r,fe.get("TabIndentRx"))),(n=e["$include?"](fe.get("TAB")))===s||null==n||n.$$is_boolean&&1!=n?e:(p=0,e=(n=(a=e).$gsub,n.$$p=(u=function(){var e=(u.$$s||this,s),n=s;return null==f["~"]&&(f["~"]=s),(e=t(f["~"].$begin(0),p))["$%"](o)["$=="](0)?(p=t(p,i(o,1)),k):((n=i(o,e["$%"](o)))["$=="](1)||(p=t(p,i(n,1))),$(" ",n))},u.$$s=_,u.$$arity=0,u),n).call(a,fe.get("TabRx")))):e},c.$$s=w,c.$$arity=1,c),a).call(u)),(a=(_=l!==!1&&l!==s&&null!=l)?n(l=l.$to_i(),-1):l)===s||null==a||a.$$is_boolean&&1!=a?s:(x=s,function(){var t=e.new_brk();try{return(a=(_=r).$each,a.$$p=(p=function($){var r,l,o=(p.$$s||this,s);return null==$&&($=s),(r=$["$empty?"]())===s||null==r||r.$$is_boolean&&1!=r?(o=i($.$length(),$.$lstrip().$length()))["$=="](0)?(x=s,void e.brk(s,t)):(r=(l=x!==!1&&x!==s&&null!=x)?n(o,x):x)===s||null==r||r.$$is_boolean&&1!=r?x=o:s:s},p.$$s=w,p.$$brk=t,p.$$arity=1,p),a).call(_)}catch(e){if(e===t)return e.$v;throw e}}(),l["$=="](0)?x!==!1&&x!==s&&null!=x&&(a=(h=r)["$map!"],a.$$p=(g=function(e){var t;g.$$s||this;return null==e&&(e=s),(t=e["$empty?"]())===s||null==t||t.$$is_boolean&&1!=t?e["$[]"](d(x,-1,!1)):e},g.$$s=w,g.$$arity=1,g),a).call(h):(E=$(" ",l),x!==!1&&x!==s&&null!=x?(a=(b=r)["$map!"],a.$$p=(m=function(e){var n;m.$$s||this;return null==e&&(e=s),(n=e["$empty?"]())===s||null==n||n.$$is_boolean&&1!=n?t(E,e["$[]"](d(x,-1,!1))):e},m.$$s=w,m.$$arity=1,m),a).call(b):(a=(y=r)["$map!"],a.$$p=(v=function(e){var n;v.$$s||this;return null==e&&(e=s),(n=e["$empty?"]())===s||null==n||n.$$is_boolean&&1!=n?t(E,e):e},v.$$s=w,v.$$arity=1,v),a).call(y)),s)):s},ce.$$arity=-2),e.defs(de,"$sanitize_attribute_name",_e=function(e){return e.$gsub(fe.get("InvalidAttributeNameCharsRx"),"").$downcase()},_e.$$arity=1),e.defs(de,"$roman_numeral_to_int",pe=function(e){var $,r,l,a=this,u=s,c=s;return e=e.$downcase(),u=_(["i","v","x"],{i:1,v:5,x:10}),c=0,($=(r=d(0,i(e.$length(),1),!1)).$each,$.$$p=(l=function($){var r,a,_=(l.$$s||this,s);return null==$&&($=s),_=u["$[]"](e["$[]"](d($,$,!1))),a=o(t($,1),e.$length()),c=(r=a!==!1&&a!==s&&null!=a?n(u["$[]"](e["$[]"](d(t($,1),t($,1),!1))),_):a)===s||null==r||r.$$is_boolean&&1!=r?t(c,_):i(c,_)},l.$$s=a,l.$$arity=1,l),$).call(r),c},pe.$$arity=1),s&&"roman_numeral_to_int"}(b.base,null)}(a.base)},Opal.modules["asciidoctor/path_resolver"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r=(e.top,e),i=e.nil,l=(e.breaker,e.slice,e.module),o=e.klass,a=e.hash2,s=e.range;return e.add_stubs(["$attr_accessor","$is_root?","$expand_path","$pwd","$start_with?","$==","$=~","$nil_or_empty?","$include?","$tr","$partition_path","$join_path","$[]","$posixfy","$is_web_root?","$is_unc?","$index","$split","$shift","$delete","$[]=","$*","$raise","$empty?","$system_path","$!=","$!","$dup","$each","$>","$length","$pop","$fetch","$warn","$push","$chomp","$uri_prefix","$<<","$+"]),function(r){var u,c=u=l(r,"Asciidoctor"),_=(c.$$proto,c.$$scope);!function(r,l){function u(){}var c,_,p,d,f,h,g,b,m,y,v,w=u=o(r,l,"PathResolver",u),k=w.$$proto,x=w.$$scope;return k.file_separator=k._partition_path_web=k._partition_path_sys=k.working_dir=i,e.cdecl(x,"DOT","."),e.cdecl(x,"DOT_DOT",".."),e.cdecl(x,"DOT_SLASH","./"),e.cdecl(x,"SLASH","/"),e.cdecl(x,"BACKSLASH","\\"),e.cdecl(x,"DOUBLE_SLASH","//"),e.cdecl(x,"WindowsRootRx",/^[a-zA-Z]:(?:\\|\/)/),w.$attr_accessor("file_separator"),w.$attr_accessor("working_dir"),e.defn(w,"$initialize",c=function(t,n){var $,r=this;return null==t&&(t=i),null==n&&(n=i),r.file_separator=function(){return t!==!1&&t!==i&&null!=t?t:($=e.get("File").$$scope.get("ALT_SEPARATOR"))!==!1&&$!==i&&null!=$?$:e.get("File").$$scope.get("SEPARATOR")}(),n!==!1&&n!==i&&null!=n?r.working_dir=function(){return($=r["$is_root?"](n))===i||null==$||$.$$is_boolean&&1!=$?e.get("File").$expand_path(n):n}():r.working_dir=e.get("File").$expand_path(e.get("Dir").$pwd()),r._partition_path_sys=a([],{}),r._partition_path_web=a([],{})},c.$$arity=-1),e.defn(w,"$is_root?",_=function(t){var n,$,r,l=this;return!((n=t["$start_with?"](x.get("SLASH")))===i||null==n||n.$$is_boolean&&1!=n)||(!((n=($=l.file_separator["$=="](x.get("BACKSLASH")))?x.get("WindowsRootRx")["$=~"](t):l.file_separator["$=="](x.get("BACKSLASH")))===i||null==n||n.$$is_boolean&&1!=n)||(r=e.get("RUBY_ENGINE_OPAL"),$=r!==!1&&r!==i&&null!=r?e.get("JAVASCRIPT_PLATFORM")["$=="]("browser"):r,!((n=$!==!1&&$!==i&&null!=$?t["$start_with?"]("file:///"):$)===i||null==n||n.$$is_boolean&&1!=n)))},_.$$arity=1),e.defn(w,"$is_unc?",p=function(e){return e["$start_with?"](x.get("DOUBLE_SLASH"))},p.$$arity=1),e.defn(w,"$is_web_root?",d=function(e){return e["$start_with?"](x.get("SLASH"))},d.$$arity=1),e.defn(w,"$posixfy",f=function(e){var t;return(t=e["$nil_or_empty?"]())===i||null==t||t.$$is_boolean&&1!=t?(t=e["$include?"](x.get("BACKSLASH")))===i||null==t||t.$$is_boolean&&1!=t?e:e.$tr(x.get("BACKSLASH"),x.get("SLASH")):""},f.$$arity=1),e.defn(w,"$expand_path",h=function(t){var n,$,r=this,l=i,o=i,a=i;return $=r.$partition_path(t),n=e.to_ary($),l=null==n[0]?i:n[0],o=null==n[1]?i:n[1],a=null==n[2]?i:n[2],$,r.$join_path(l,o)},h.$$arity=1),e.defn(w,"$partition_path",g=function(e,t){var n,$=this,r=i,l=i,o=i,a=i;return null==t&&(t=!1),(n=r=function(){return t!==!1&&t!==i&&null!=t?$._partition_path_web["$[]"](e):$._partition_path_sys["$[]"](e)}())===i||null==n||n.$$is_boolean&&1!=n?(l=$.$posixfy(e),o=function(){return t!==!1&&t!==i&&null!=t?(n=$["$is_web_root?"](l))===i||null==n||n.$$is_boolean&&1!=n?(n=l["$start_with?"](x.get("DOT_SLASH")))===i||null==n||n.$$is_boolean&&1!=n?i:x.get("DOT_SLASH"):x.get("SLASH"):(n=$["$is_root?"](l))===i||null==n||n.$$is_boolean&&1!=n?(n=l["$start_with?"](x.get("DOT_SLASH")))===i||null==n||n.$$is_boolean&&1!=n?i:x.get("DOT_SLASH"):(n=$["$is_unc?"](l))===i||null==n||n.$$is_boolean&&1!=n?(n=l["$start_with?"](x.get("SLASH")))===i||null==n||n.$$is_boolean&&1!=n?l["$[]"](s(0,l.$index(x.get("SLASH")),!1)):x.get("SLASH"):x.get("DOUBLE_SLASH")}(),a=l.$split(x.get("SLASH")),o["$=="](x.get("DOUBLE_SLASH"))?a=a["$[]"](s(2,-1,!1)):o!==!1&&o!==i&&null!=o&&a.$shift(),a.$delete(x.get("DOT")),function(){return t!==!1&&t!==i&&null!=t?$._partition_path_web:$._partition_path_sys}()["$[]="](e,[a,o,l])):r},g.$$arity=-2),e.defn(w,"$join_path",b=function(e,n){return null==n&&(n=i),n!==!1&&n!==i&&null!=n?""+n+t(e,x.get("SLASH")):t(e,x.get("SLASH"))},b.$$arity=-2),e.defn(w,"$system_path",m=function(t,$,r,l){var o,s,u,c=this,_=i,p=i,d=i,f=i,h=i,g=i,b=i,m=i,y=i,v=i;if(null==r&&(r=i),null==l&&(l=a([],{})),r!==!1&&r!==i&&null!=r&&(((o=c["$is_root?"](r))===i||null==o||o.$$is_boolean&&1!=o)&&c.$raise(e.get("SecurityError"),"Jail is not an absolute path: "+r),r=c.$posixfy(r)),(o=t["$nil_or_empty?"]())===i||null==o||o.$$is_boolean&&1!=o?(s=c.$partition_path(t),o=e.to_ary(s),_=null==o[0]?i:o[0],p=null==o[1]?i:o[1],d=null==o[2]?i:o[2],s):_=[],(o=_["$empty?"]())!==i&&null!=o&&(!o.$$is_boolean||1==o)){if(!((o=$["$nil_or_empty?"]())===i||null==o||o.$$is_boolean&&1!=o))return function(){return r!==!1&&r!==i&&null!=r?r:c.working_dir}();if((o=c["$is_root?"]($))===i||null==o||o.$$is_boolean&&1!=o)return c.$system_path($,r,r,l);if(r===!1||r===i||null==r)return c.$expand_path($)}return(o=(s=p!==!1&&p!==i&&null!=p)?p["$!="](x.get("DOT_SLASH")):p)===i||null==o||o.$$is_boolean&&1!=o||(f=c.$join_path(_,p),(o=(s=r["$!"]())!==!1&&s!==i&&null!=s?s:f["$start_with?"](r))===i||null==o||o.$$is_boolean&&1!=o)?($=(o=$["$nil_or_empty?"]())===i||null==o||o.$$is_boolean&&1!=o?(o=c["$is_root?"]($))===i||null==o||o.$$is_boolean&&1!=o?c.$system_path($,r,r,l):c.$posixfy($):function(){return r!==!1&&r!==i&&null!=r?r:c.working_dir}(),r["$=="]($)?(s=c.$partition_path(r),o=e.to_ary(s),h=null==o[0]?i:o[0],g=null==o[1]?i:o[1],d=null==o[2]?i:o[2],s,b=h.$dup()):r!==!1&&r!==i&&null!=r?(((o=$["$start_with?"](r))===i||null==o||o.$$is_boolean&&1!=o)&&c.$raise(e.get("SecurityError"),""+((o=l["$[]"]("target_name"))!==!1&&o!==i&&null!=o?o:"Start path")+" "+$+" is outside of jail: "+r+" (disallowed in safe mode)"),s=c.$partition_path($),o=e.to_ary(s),b=null==o[0]?i:o[0],m=null==o[1]?i:o[1],d=null==o[2]?i:o[2],s,s=c.$partition_path(r),o=e.to_ary(s),h=null==o[0]?i:o[0],g=null==o[1]?i:o[1],d=null==o[2]?i:o[2],s):(s=c.$partition_path($),o=e.to_ary(s),b=null==o[0]?i:o[0],m=null==o[1]?i:o[1],d=null==o[2]?i:o[2],s,g=m),y=b.$dup(),v=!1,(o=(s=_).$each,o.$$p=(u=function($){var o,a,s=u.$$s||this,c=i;return null==$&&($=i),$["$=="](x.get("DOT_DOT"))?r!==!1&&r!==i&&null!=r&&((o=n(y.$length(),h.$length()))===i||null==o||o.$$is_boolean&&1!=o)?(o=((a=c)!==!1&&a!==i&&null!=a?a:c=l.$fetch("recover",!0))["$!"]())===i||null==o||o.$$is_boolean&&1!=o?(o=v["$!"]())===i||null==o||o.$$is_boolean&&1!=o?i:(s.$warn("asciidoctor: WARNING: "+((o=l["$[]"]("target_name"))!==!1&&o!==i&&null!=o?o:"path")+" has illegal reference to ancestor of jail, auto-recovering"),v=!0):s.$raise(e.get("SecurityError"),""+((o=l["$[]"]("target_name"))!==!1&&o!==i&&null!=o?o:"path")+" "+t+" refers to location outside jail: "+r+" (disallowed in safe mode)"):y.$pop():y.$push($)},u.$$s=c,u.$$arity=1,u),o).call(s),c.$join_path(y,g)):f},m.$$arity=-3),e.defn(w,"$web_path",y=function(t,n){var $,r,l,o=this,a=i,u=i,c=i,_=i,p=i;return null==n&&(n=i),t=o.$posixfy(t),n=o.$posixfy(n),a=i,(($=(r=n["$nil_or_empty?"]())!==!1&&r!==i&&null!=r?r:o["$is_web_root?"](t))===i||null==$||$.$$is_boolean&&1!=$)&&(t=""+n.$chomp("/")+x.get("SLASH")+t,($=a=x.get("Helpers").$uri_prefix(t))===i||null==$||$.$$is_boolean&&1!=$||(t=t["$[]"](s(a.$length(),-1,!1)))),r=o.$partition_path(t,!0),$=e.to_ary(r),u=null==$[0]?i:$[0],c=null==$[1]?i:$[1],_=null==$[2]?i:$[2],r,p=[],($=(r=u).$each,$.$$p=(l=function(e){var t,n;l.$$s||this;return null==e&&(e=i),e["$=="](x.get("DOT_DOT"))?(t=p["$empty?"]())===i||null==t||t.$$is_boolean&&1!=t?p["$[]"](-1)["$=="](x.get("DOT_DOT"))?p["$<<"](e):p.$pop():(t=(n=c!==!1&&c!==i&&null!=c)?c["$!="](x.get("DOT_SLASH")):c)===i||null==t||t.$$is_boolean&&1!=t?p["$<<"](e):i:p["$<<"](e)},l.$$s=o,l.$$arity=1,l),$).call(r),a!==!1&&a!==i&&null!=a?""+a+o.$join_path(p,c):o.$join_path(p,c)},y.$$arity=-2),e.defn(w,"$relative_path",v=function(e,t){var n,r,l=this,o=i;return r=l["$is_root?"](e),(n=r!==!1&&r!==i&&null!=r?l["$is_root?"](t):r)===i||null==n||n.$$is_boolean&&1!=n?e:(o=$(t.$chomp(l.file_separator).$length(),1),e["$[]"](s(o,-1,!1)))},v.$$arity=2),i&&"relative_path"}(_.base,null)}(r.base)},Opal.modules["asciidoctor/reader"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function i(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}function l(e,t){return"number"==typeof e&&"number"==typeof t?e>=t:e["$>="](t)}function o(e,t){return"number"==typeof e&&"number"==typeof t?e/t:e["$/"](t)}function a(e,t){return"number"==typeof e&&"number"==typeof t?e<=t:e["$<="](t)}var s=(e.top,e),u=e.nil,c=(e.breaker,e.slice,e.module),_=e.klass,p=e.hash2,d=e.range;return e.add_stubs(["$attr_accessor","$path","$lineno","$attr_reader","$!","$===","$split","$file","$dir","$dirname","$==","$basename","$prepare_lines","$dup","$empty?","$[]","$normalize_lines_from_string","$normalize_lines_array","$+","$nil?","$peek_line","$nil_or_empty?","$>","$process_line","$times","$read_line","$<<","$reverse_each","$unshift","$has_more_lines?","$shift","$*","$read_lines","$advance","$eof?","$start_with?","$match","$push","$read_lines_until","$=~","$size","$clear","$[]=","$-","$new","$line_info","$to_i","$fetch","$attributes","$<","$references","$has_key?","$skip_front_matter!","$pop","$adjust_indentation!","$attr","$end_with?","$include?","$preprocess_conditional_inclusion","$captures","$preprocess_include","$strip","$pop_include","$downcase","$warn","$none?","$any?","$resolve_expr_val","$send","$to_sym","$replace_next_line","$rstrip","$sub_attributes","$attribute_missing","$include_processors?","$find","$handles?","$instance","$process_method","$parse","$>=","$safe","$pwd","$base_dir","$join","$uriish?","$require_library","$normalize_system_path","$file?","$relative_path","$each","$map","$to_proc","$/","$concat","$to_a","$uniq","$sort","$to_set","$open","$each_line","$infinite?","$push_include","$force_encoding","$chomp","$read","$extname","$rootname","$<=","$!=","$to_f","$extensions?","$extensions","$include_processors","$class","$object_id","$inspect","$to_s"]),function(s){var f,h=f=c(s,"Asciidoctor"),g=(h.$$proto,h.$$scope);!function(i,l){function o(){}var a,s,c,f,h,g,b,m,y,v,w,k,x,E,A,O,S,R,T,I,C,N,M,L,z,P,D,B,q,j=o=_(i,l,"Reader",o),F=j.$$proto,U=j.$$scope;return F.file=F.dir=F.lines=F.process_lines=F.look_ahead=F.eof=F.unescape_next_line=F.lineno=F.path=F.source_lines=u,function(t,n){function $(){}var r,i,l=$=_(t,n,"Cursor",$);l.$$proto,l.$$scope;return l.$attr_accessor("file"),l.$attr_accessor("dir"),l.$attr_accessor("path"),l.$attr_accessor("lineno"),e.defn(l,"$initialize",r=function(e,t,n,$){var r=this;return null==t&&(t=u),null==n&&(n=u),null==$&&($=u),r.file=e,r.dir=t,r.path=n,r.lineno=$},r.$$arity=-2),e.defn(l,"$line_info",i=function(){var e=this;return""+e.$path()+": line "+e.$lineno()},i.$$arity=0),e.alias(l,"to_s","line_info")}(U.base,null),j.$attr_reader("file"),j.$attr_reader("dir"),j.$attr_reader("path"),j.$attr_reader("lineno"),j.$attr_reader("source_lines"),j.$attr_accessor("process_lines"),e.defn(j,"$initialize",a=function(t,n,$){var r,i,l=this;return null==t&&(t=u),null==n&&(n=u),null==$&&($=p(["normalize"],{normalize:!1})),(r=n["$!"]())===u||null==r||r.$$is_boolean&&1!=r?(r=e.get("String")["$==="](n))===u||null==r||r.$$is_boolean&&1!=r?(l.file=n.$file(),l.dir=n.$dir(),l.path=(r=n.$path())!==!1&&r!==u&&null!=r?r:"<stdin>",(r=l.file)===u||null==r||r.$$is_boolean&&1!=r||(((r=l.dir)===u||null==r||r.$$is_boolean&&1!=r)&&(l.dir=e.get("File").$dirname(l.file),l.dir["$=="](".")&&(l.dir=u)),((r=n.$path())===u||null==r||r.$$is_boolean&&1!=r)&&(l.path=e.get("File").$basename(l.file))),l.lineno=(r=n.$lineno())!==!1&&r!==u&&null!=r?r:1):(l.file=n,i=e.get("File").$split(l.file),r=e.to_ary(i),l.dir=null==r[0]?u:r[0],l.path=null==r[1]?u:r[1],i,l.lineno=1):(l.file=l.dir=u,l.path="<stdin>",l.lineno=1),l.lines=function(){return t!==!1&&t!==u&&null!=t?l.$prepare_lines(t,$):[]}(),l.source_lines=l.lines.$dup(),l.eof=l.lines["$empty?"](),l.look_ahead=0,l.process_lines=!0,l.unescape_next_line=!1},a.$$arity=-1),e.defn(j,"$prepare_lines",s=function(t,n){var $;return null==n&&(n=p([],{})),($=e.get("String")["$==="](t))===u||null==$||$.$$is_boolean&&1!=$?($=n["$[]"]("normalize"))===u||null==$||$.$$is_boolean&&1!=$?t.$dup():U.get("Helpers").$normalize_lines_array(t):($=n["$[]"]("normalize"))===u||null==$||$.$$is_boolean&&1!=$?t.$split(U.get("EOL")):U.get("Helpers").$normalize_lines_from_string(t)},s.$$arity=-2),e.defn(j,"$process_line",c=function(e){var n,$=this;return(n=$.process_lines)===u||null==n||n.$$is_boolean&&1!=n||($.look_ahead=t($.look_ahead,1)),e},c.$$arity=1),e.defn(j,"$has_more_lines?",f=function(){var e,t=this;return((e=t.eof)!==!1&&e!==u&&null!=e?e:t.eof=t.$peek_line()["$nil?"]())["$!"]()},f.$$arity=0),e.defn(j,"$next_line_empty?",h=function(){var e=this;return e.$peek_line()["$nil_or_empty?"]()},h.$$arity=0),e.defn(j,"$peek_line",g=function(e){var t,$,r=this,i=u;return null==e&&(e=!1),(t=($=e)!==!1&&$!==u&&null!=$?$:n(r.look_ahead,0))===u||null==t||t.$$is_boolean&&1!=t?(t=($=r.eof)!==!1&&$!==u&&null!=$?$:r.lines["$empty?"]())===u||null==t||t.$$is_boolean&&1!=t?(t=(i=r.$process_line(r.lines["$[]"](0)))["$!"]())===u||null==t||t.$$is_boolean&&1!=t?i:r.$peek_line():(r.eof=!0,r.look_ahead=0,u):(t=r.unescape_next_line)===u||null==t||t.$$is_boolean&&1!=t?r.lines["$[]"](0):r.lines["$[]"](0)["$[]"](d(1,-1,!1))},g.$$arity=-1),e.defn(j,"$peek_lines",b=function(t,n){var $,r,i,l,o,a=this,s=u,c=u;return null==t&&(t=1),null==n&&(n=!0),s=a.look_ahead,c=[],function(){var l=e.new_brk();try{return($=(r=t).$times,$.$$p=(i=function(){var t,$=i.$$s||this,r=u;return(t=r=$.$read_line(n))===u||null==t||t.$$is_boolean&&1!=t?void e.brk(u,l):c["$<<"](r)},i.$$s=a,i.$$brk=l,i.$$arity=0,i),$).call(r)}catch(e){if(e===l)return e.$v;throw e}}(),(($=c["$empty?"]())===u||null==$||$.$$is_boolean&&1!=$)&&(($=(l=c).$reverse_each,$.$$p=(o=function(e){var t=o.$$s||this;return null==e&&(e=u),t.$unshift(e)},o.$$s=a,o.$$arity=1,o),$).call(l),n!==!1&&n!==u&&null!=n&&(a.look_ahead=s)),c},b.$$arity=-1),e.defn(j,"$read_line",m=function(e){var t,$,r,i=this;return null==e&&(e=!1),(t=($=(r=e)!==!1&&r!==u&&null!=r?r:n(i.look_ahead,0))!==!1&&$!==u&&null!=$?$:i["$has_more_lines?"]())===u||null==t||t.$$is_boolean&&1!=t?u:i.$shift()},m.$$arity=-1),e.defn(j,"$read_lines",y=function(){var e,t=this,n=u;for(n=[];(e=t["$has_more_lines?"]())!==u&&null!=e&&(!e.$$is_boolean||1==e);)n["$<<"](t.$shift());return n},y.$$arity=0),e.alias(j,"readlines","read_lines"),e.defn(j,"$read",v=function(){var e=this;return $(e.$read_lines(),U.get("EOL"))},v.$$arity=0),e.defn(j,"$advance",w=function(e){var t=this;return null==e&&(e=!0),t.$read_line(e)["$!"]()["$!"]()},w.$$arity=-1),e.defn(j,"$unshift_line",k=function(e){var t=this;return t.$unshift(e),u},k.$$arity=1),e.alias(j,"restore_line","unshift_line"),e.defn(j,"$unshift_lines",x=function(e){var t,n,$,r=this;return(t=(n=e).$reverse_each,t.$$p=($=function(e){var t=$.$$s||this;return null==e&&(e=u),t.$unshift(e)},$.$$s=r,$.$$arity=1,$),t).call(n),u},x.$$arity=1),e.alias(j,"restore_lines","unshift_lines"),e.defn(j,"$replace_next_line",E=function(e){var t=this;return t.$advance(),t.$unshift(e),u},E.$$arity=1),e.alias(j,"replace_line","replace_next_line"),e.defn(j,"$skip_blank_lines",A=function(){var e,n,$=this,r=u,i=u;if((e=$["$eof?"]())!==u&&null!=e&&(!e.$$is_boolean||1==e))return 0;for(r=0;(n=i=$.$peek_line())!==u&&null!=n&&(!n.$$is_boolean||1==n);){if((n=i["$empty?"]())===u||null==n||n.$$is_boolean&&1!=n)return r;$.$advance(),r=t(r,1)}return r},A.$$arity=0),e.defn(j,"$skip_comment_lines",O=function(t){var n,$,r,i,l=this,o=u,a=u,s=u,c=u,_=u;if(null==t&&(t=p([],{})),(n=l["$eof?"]())!==u&&null!=n&&(!n.$$is_boolean||1==n))return[];for(o=[],a=t["$[]"]("include_blank_lines");($=s=l.$peek_line())!==u&&null!=$&&(!$.$$is_boolean||1==$);)if(($=(r=a!==!1&&a!==u&&null!=a)?s["$empty?"]():a)===u||null==$||$.$$is_boolean&&1!=$)if(r=c=s["$start_with?"]("//"),($=r!==!1&&r!==u&&null!=r?_=U.get("CommentBlockRx").$match(s):r)===u||null==$||$.$$is_boolean&&1!=$){if((r=(i=c!==!1&&c!==u&&null!=c)?U.get("CommentLineRx")["$=~"](s):c)===u||null==r||r.$$is_boolean&&1!=r)break;o["$<<"](l.$shift())}else o["$<<"](l.$shift()),($=o).$push.apply($,e.to_a(l.$read_lines_until(p(["terminator","read_last_line","skip_processing"],{terminator:_["$[]"](0),read_last_line:!0,skip_processing:!0}))));else o["$<<"](l.$shift());return o},O.$$arity=-1),e.defn(j,"$skip_line_comments",S=function(){var e,t,n=this,$=u,r=u;if((e=n["$eof?"]())!==u&&null!=e&&(!e.$$is_boolean||1==e))return[];for($=[];!((t=r=n.$peek_line())===u||null==t||t.$$is_boolean&&1!=t||(t=U.get("CommentLineRx")["$=~"](r))===u||null==t||t.$$is_boolean&&1!=t);)$["$<<"](n.$shift());return $},S.$$arity=0),e.defn(j,"$terminate",R=function(){var e=this;return e.lineno=t(e.lineno,e.lines.$size()),e.lines.$clear(),e.eof=!0,e.look_ahead=0,u},R.$$arity=0),e.defn(j,"$eof?",T=function(){var e=this;return e["$has_more_lines?"]()["$!"]()},T.$$arity=0),e.alias(j,"empty?","eof?"),e.defn(j,"$read_lines_until",I=function(t){var n,$,i,l,o,a=this,s=I.$$p,c=s||u,_=u,d=u,f=u,h=u,g=u,b=u,m=u,y=u,v=u,w=u;for(null==t&&(t=p([],{})),I.$$p=null,_=[],(n=t["$[]"]("skip_first_line"))===u||null==n||n.$$is_boolean&&1!=n||a.$advance(),$=a.process_lines,(n=$!==!1&&$!==u&&null!=$?t["$[]"]("skip_processing"):$)===u||null==n||n.$$is_boolean&&1!=n?d=!1:(a.process_lines=!1,d=!0),(n=f=t["$[]"]("terminator"))===u||null==n||n.$$is_boolean&&1!=n?(h=t["$[]"]("break_on_blank_lines"),g=t["$[]"]("break_on_list_continuation")):(h=!1,g=!1),b=t["$[]"]("skip_line_comments"),m=!1,y=!1,v=!1;i=v["$!"](),($=i!==!1&&i!==u&&null!=i?w=a.$read_line():i)!==u&&null!=$&&(!$.$$is_boolean||1==$);)v=function(){for(;(i=!0)!==u&&null!=i&&(!i.$$is_boolean||1==i);)return!((i=(l=f!==!1&&f!==u&&null!=f)?w["$=="](f):f)===u||null==i||i.$$is_boolean&&1!=i)||(!((i=(l=h!==!1&&h!==u&&null!=h)?w["$empty?"]():h)===u||null==i||i.$$is_boolean&&1!=i)||(l=(o=g!==!1&&g!==u&&null!=g)?m:g,(i=l!==!1&&l!==u&&null!=l?w["$=="](U.get("LIST_CONTINUATION")):l)===u||null==i||i.$$is_boolean&&1!=i?!((i=(l=c!==u)?e.yield1(c,w):c!==u)===u||null==i||i.$$is_boolean&&1!=i):(t["$[]="]("preserve_last_line",!0),!0)));return u}(),v!==!1&&v!==u&&null!=v?(($=t["$[]"]("read_last_line"))===u||null==$||$.$$is_boolean&&1!=$||(_["$<<"](w),m=!0),($=t["$[]"]("preserve_last_line"))===u||null==$||$.$$is_boolean&&1!=$||(a.$unshift(w),y=!0)):(i=(l=b!==!1&&b!==u&&null!=b)?w["$start_with?"]("//"):b,(($=i!==!1&&i!==u&&null!=i?U.get("CommentLineRx")["$=~"](w):i)===u||null==$||$.$$is_boolean&&1!=$)&&(_["$<<"](w),m=!0));return d!==!1&&d!==u&&null!=d&&(a.process_lines=!0,(n=($=y!==!1&&y!==u&&null!=y)?f["$!"]():y)===u||null==n||n.$$is_boolean&&1!=n||(a.look_ahead=r(a.look_ahead,1))),_},I.$$arity=-1),e.defn(j,"$shift",C=function(){var e=this;return e.lineno=t(e.lineno,1),e.look_ahead["$=="](0)||(e.look_ahead=r(e.look_ahead,1)),e.lines.$shift()},C.$$arity=0),e.defn(j,"$unshift",N=function(e){var n=this;return n.lineno=r(n.lineno,1),n.look_ahead=t(n.look_ahead,1),n.eof=!1,n.lines.$unshift(e)},N.$$arity=1),e.defn(j,"$cursor",M=function(){var e=this;return U.get("Cursor").$new(e.file,e.dir,e.path,e.lineno)},M.$$arity=0),e.defn(j,"$line_info",L=function(){var e=this;return""+e.path+": line "+e.lineno},L.$$arity=0),e.alias(j,"next_line_info","line_info"),e.defn(j,"$prev_line_info",z=function(){var e=this;return""+e.path+": line "+r(e.lineno,1)},z.$$arity=0),e.defn(j,"$lines",P=function(){var e=this;return e.lines.$dup()},P.$$arity=0),e.defn(j,"$string",D=function(){var e=this;return $(e.lines,U.get("EOL"))},D.$$arity=0),e.defn(j,"$source",B=function(){var e=this;return $(e.source_lines,U.get("EOL"))},B.$$arity=0),e.defn(j,"$to_s",q=function(){var e=this;return e.$line_info()},q.$$arity=0),u&&"to_s"}(g.base,null),function(s,c){function f(){}var h,g,b,m,y,v,w,k,x,E,A,O,S,R,T,I=f=_(s,c,"PreprocessorReader",f),C=I.$$proto,N=I.$$scope;return C.document=C.lineno=C.process_lines=C.look_ahead=C.skipping=C.include_stack=C.conditional_stack=C.path=C.include_processor_extensions=C.maxdepth=C.dir=C.lines=C.file=C.includes=C.unescape_next_line=u,I.$attr_reader("include_stack"),I.$attr_reader("includes"),e.defn(I,"$initialize",h=function(t,n,$){var r,l,o,a,s=this,c=(h.$$p,u);return null==n&&(n=u),null==$&&($=u),h.$$p=null,s.document=t,(l=s,r=e.find_super_dispatcher(s,"initialize",h,!1),r.$$p=null,r).call(l,n,$,p(["normalize"],{normalize:!0})),c=t.$attributes().$fetch("max-include-depth",64).$to_i(),(r=i(c,0))===u||null==r||r.$$is_boolean&&1!=r||(c=0),s.maxdepth=p(["abs","rel"],{abs:c,rel:c}),s.include_stack=[],s.includes=(r="includes",o=t.$references(),(a=o["$[]"](r))!==!1&&a!==u&&null!=a?a:o["$[]="](r,[])),s.skipping=!1,s.conditional_stack=[],s.include_processor_extensions=u},h.$$arity=-2),e.defn(I,"$prepare_lines",g=function(n,r){var i,l,o,a,s=this,c=g.$$p,_=u,d=u,f=u,h=u,b=u,m=u;for(null==r&&(r=p([],{})),g.$$p=null,b=[],m=0;m<arguments.length;m++)b[m]=arguments[m];if(_=(l=s,i=e.find_super_dispatcher(s,"prepare_lines",g,!1),i.$$p=c,i).apply(l,b),o=s.document,(i=o!==!1&&o!==u&&null!=o?s.document.$attributes()["$has_key?"]("skip-front-matter"):o)===u||null==i||i.$$is_boolean&&1!=i||(i=d=s["$skip_front_matter!"](_))===u||null==i||i.$$is_boolean&&1!=i||s.document.$attributes()["$[]="]("front-matter",$(d,N.get("EOL"))),(i=r.$fetch("condense",!0))!==u&&null!=i&&(!i.$$is_boolean||1==i)){for(;a=f=_["$[]"](0),(o=a!==!1&&a!==u&&null!=a?f["$empty?"]():a)!==u&&null!=o&&(!o.$$is_boolean||1==o);)o=_.$shift(),o!==!1&&o!==u&&null!=o?s.lineno=t(s.lineno,1):o;for(;a=h=_["$[]"](-1),(o=a!==!1&&a!==u&&null!=a?h["$empty?"]():a)!==u&&null!=o&&(!o.$$is_boolean||1==o);)_.$pop()}return(i=r["$[]"]("indent"))===u||null==i||i.$$is_boolean&&1!=i||N.get("Parser")["$adjust_indentation!"](_,r["$[]"]("indent"),s.document.$attr("tabsize")),_},g.$$arity=-2),e.defn(I,"$process_line",b=function(n){var $,r,i,l,o=this,a=u,s=u;return($=o.process_lines)===u||null==$||$.$$is_boolean&&1!=$?n:($=n["$empty?"]())===u||null==$||$.$$is_boolean&&1!=$?(i=n["$end_with?"]("]"),r=i!==!1&&i!==u&&null!=i?n["$start_with?"]("[")["$!"]():i,($=r!==!1&&r!==u&&null!=r?n["$include?"]("::"):r)===u||null==$||$.$$is_boolean&&1!=$?($=o.skipping)===u||null==$||$.$$is_boolean&&1!=$?(o.look_ahead=t(o.look_ahead,1),n):(o.$advance(),u):(r=n["$include?"]("if"),($=r!==!1&&r!==u&&null!=r?a=N.get("ConditionalDirectiveRx").$match(n):r)===u||null==$||$.$$is_boolean&&1!=$?($=o.skipping)===u||null==$||$.$$is_boolean&&1!=$?(i=(l=s=n["$start_with?"]("\\include::"))!==!1&&l!==u&&null!=l?l:n["$start_with?"]("include::"),($=i!==!1&&i!==u&&null!=i?a=N.get("IncludeDirectiveRx").$match(n):i)===u||null==$||$.$$is_boolean&&1!=$?(o.look_ahead=t(o.look_ahead,1),n):s!==!1&&s!==u&&null!=s?(o.unescape_next_line=!0,o.look_ahead=t(o.look_ahead,1),n["$[]"](d(1,-1,!1))):($=o.$preprocess_include(a["$[]"](1),a["$[]"](2).$strip()))===u||null==$||$.$$is_boolean&&1!=$?(o.look_ahead=t(o.look_ahead,1),n):u):(o.$advance(),u):($=n["$start_with?"]("\\"))===u||null==$||$.$$is_boolean&&1!=$?($=(r=o).$preprocess_conditional_inclusion.apply(r,e.to_a(a.$captures())))===u||null==$||$.$$is_boolean&&1!=$?(o.look_ahead=t(o.look_ahead,1),n):(o.$advance(),u):(o.unescape_next_line=!0,o.look_ahead=t(o.look_ahead,1),n["$[]"](d(1,-1,!1))))):(o.look_ahead=t(o.look_ahead,1),"")},b.$$arity=1),e.defn(I,"$peek_line",m=function(t){var n,$,r,i=this,l=m.$$p,o=u,a=u,s=u;for(null==t&&(t=!1),m.$$p=null,a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return(n=o=(r=i,$=e.find_super_dispatcher(i,"peek_line",m,!1),$.$$p=l,$).apply(r,a))===u||null==n||n.$$is_boolean&&1!=n?(n=i.include_stack["$empty?"]())===u||null==n||n.$$is_boolean&&1!=n?(i.$pop_include(),i.$peek_line(t)):u:o},m.$$arity=-1),e.defn(I,"$preprocess_conditional_inclusion",y=function(e,t,$,r){var i,l,o,a,s,c,_,d,f,h,g=this,b=u,m=u,y=u,v=u,w=u,k=u,x=u,E=u,A=u;if(o=(a=e["$=="]("ifdef"))!==!1&&a!==u&&null!=a?a:e["$=="]("ifndef"),(i=(l=o!==!1&&o!==u&&null!=o?t["$empty?"]():o)!==!1&&l!==u&&null!=l?l:(o=e["$=="]("endif"))?r:e["$=="]("endif"))!==u&&null!=i&&(!i.$$is_boolean||1==i))return!1;if(t=t.$downcase(),e["$=="]("endif"))return b=g.conditional_stack.$size(),(i=n(b,0))===u||null==i||i.$$is_boolean&&1!=i?g.$warn("asciidoctor: ERROR: "+g.$line_info()+": unmatched macro: endif::"+t+"[]"):(m=g.conditional_stack["$[]"](-1),(i=(l=t["$empty?"]())!==!1&&l!==u&&null!=l?l:t["$=="](m["$[]"]("target")))===u||null==i||i.$$is_boolean&&1!=i?g.$warn("asciidoctor: ERROR: "+g.$line_info()+": mismatched macro: endif::"+t+"[], expected endif::"+m["$[]"]("target")+"[]"):(g.conditional_stack.$pop(),
g.skipping=function(){return!!((i=g.conditional_stack["$empty?"]())===u||null==i||i.$$is_boolean&&1!=i)&&g.conditional_stack["$[]"](-1)["$[]"]("skipping")}())),!0;if(y=!1,(i=g.skipping)===u||null==i||i.$$is_boolean&&1!=i){if(v=e,"ifdef"["$==="](v))v=$,u["$==="](v)?y=g.document.$attributes()["$has_key?"](t)["$!"]():","["$==="](v)?y=(i=(l=t.$split(","))["$none?"],i.$$p=(s=function(e){var t=s.$$s||this;return null==t.document&&(t.document=u),null==e&&(e=u),t.document.$attributes()["$has_key?"](e)},s.$$s=g,s.$$arity=1,s),i).call(l):"+"["$==="](v)&&(y=(i=(o=t.$split("+"))["$any?"],i.$$p=(c=function(e){var t=c.$$s||this;return null==t.document&&(t.document=u),null==e&&(e=u),t.document.$attributes()["$has_key?"](e)["$!"]()},c.$$s=g,c.$$arity=1,c),i).call(o));else if("ifndef"["$==="](v))v=$,u["$==="](v)?y=g.document.$attributes()["$has_key?"](t):","["$==="](v)?y=(i=(a=t.$split(","))["$none?"],i.$$p=(_=function(e){var t=_.$$s||this;return null==t.document&&(t.document=u),null==e&&(e=u),t.document.$attributes()["$has_key?"](e)["$!"]()},_.$$s=g,_.$$arity=1,_),i).call(a):"+"["$==="](v)&&(y=(i=(d=t.$split("+"))["$any?"],i.$$p=(f=function(e){var t=f.$$s||this;return null==t.document&&(t.document=u),null==e&&(e=u),t.document.$attributes()["$has_key?"](e)},f.$$s=g,f.$$arity=1,f),i).call(d));else if("ifeval"["$==="](v)){if((i=(h=t["$empty?"]()["$!"]())!==!1&&h!==u&&null!=h?h:(w=N.get("EvalExpressionRx").$match(r.$strip()))["$!"]())!==u&&null!=i&&(!i.$$is_boolean||1==i))return!1;k=g.$resolve_expr_val(w["$[]"](1)),x=g.$resolve_expr_val(w["$[]"](3)),y=(E=w["$[]"](2))["$=="]("!=")?k.$send("==",x):k.$send(E.$to_sym(),x)["$!"]()}}else;if((i=(h=e["$=="]("ifeval"))!==!1&&h!==u&&null!=h?h:r["$!"]())===u||null==i||i.$$is_boolean&&1!=i){if((i=(h=g.skipping)!==!1&&h!==u&&null!=h?h:y)===u||null==i||i.$$is_boolean&&1!=i)return A=g.$peek_line(!0),g.$replace_next_line(r.$rstrip()),g.$unshift(A),!0}else y!==!1&&y!==u&&null!=y&&(g.skipping=!0),g.conditional_stack["$<<"](p(["target","skip","skipping"],{target:t,skip:y,skipping:g.skipping}));return!0},y.$$arity=4),e.defn(I,"$preprocess_include",v=function(i,a){var s,c,_,d,f,h,g,b,m,y,v,w=this,k=u,x=u,E=u,A=u,O=u,S=u,R=u,T=u,I=u,C=u,M=u,L=u,z=u,P=u,D=u,B=u;if((s=(k=w.document.$sub_attributes(i,p(["attribute_missing"],{attribute_missing:"drop-line"})))["$empty?"]())===u||null==s||s.$$is_boolean&&1!=s){if(c=w["$include_processors?"](),(s=c!==!1&&c!==u&&null!=c?x=(_=(d=w.include_processor_extensions).$find,_.$$p=(f=function(e){f.$$s||this;return null==e&&(e=u),e.$instance()["$handles?"](k)},f.$$s=w,f.$$arity=1,f),_).call(d):c)===u||null==s||s.$$is_boolean&&1!=s){if((s=l(w.document.$safe(),N.get("SafeMode").$$scope.get("SECURE")))===u||null==s||s.$$is_boolean&&1!=s){if((s=n(E=w.maxdepth["$[]"]("abs"),0))===u||null==s||s.$$is_boolean&&1!=s)return!1;if((s=l(w.include_stack.$size(),E))!==u&&null!=s&&(!s.$$is_boolean||1==s))return w.$warn("asciidoctor: ERROR: "+w.$line_info()+": maximum include depth of "+w.maxdepth["$[]"]("rel")+" exceeded"),!1;if((s=e.get("RUBY_ENGINE_OPAL"))===u||null==s||s.$$is_boolean&&1!=s)if((s=N.get("Helpers")["$uriish?"](k))===u||null==s||s.$$is_boolean&&1!=s){if(A="file",O=w.document.$normalize_system_path(k,w.dir,u,p(["target_name"],{target_name:"include file"})),(s=e.get("File")["$file?"](O))===u||null==s||s.$$is_boolean&&1!=s)return w.$warn("asciidoctor: WARNING: "+w.$line_info()+": include file not found: "+O),w.$replace_next_line("Unresolved directive in "+w.path+" - include::"+k+"["+a+"]"),!0;S=N.get("PathResolver").$new().$relative_path(O,w.document.$base_dir())}else{if((s=w.document.$attributes()["$has_key?"]("allow-uri-read"))===u||null==s||s.$$is_boolean&&1!=s)return w.$replace_next_line("link:"+k+"[]"),!0;A="uri",O=S=k,(s=w.document.$attributes()["$has_key?"]("cache-uri"))===u||null==s||s.$$is_boolean&&1!=s?(s=e.get("RUBY_ENGINE_OPAL")["$!"]())===u||null==s||s.$$is_boolean&&1!=s||e.get("OpenURI"):((s=function(){try{return null!=e.get("OpenURI").$$scope.get("Cache")?"constant":u}catch(t){if(t.$$class===e.NameError)return u;throw t}}())===u||null==s||s.$$is_boolean&&1!=s)&&N.get("Helpers").$require_library("open-uri/cached","open-uri-cached")}else A="file",O=S=function(){return(s=w.include_stack["$empty?"]())===u||null==s||s.$$is_boolean&&1!=s?e.get("File").$join(w.dir,k):e.get("Dir").$pwd()["$=="](w.document.$base_dir())?k:e.get("File").$join(w.dir,k)}();if(R=u,T=u,I=p([],{}),(s=a["$empty?"]()["$!"]())===u||null==s||s.$$is_boolean&&1!=s||(I=N.get("AttributeList").$new(a).$parse(),(s=I["$has_key?"]("lines"))===u||null==s||s.$$is_boolean&&1!=s?(s=I["$has_key?"]("tag"))===u||null==s||s.$$is_boolean&&1!=s?(s=I["$has_key?"]("tags"))===u||null==s||s.$$is_boolean&&1!=s||(T=I["$[]"]("tags").$split(N.get("DataDelimiterRx")).$to_set()):T=[I["$[]"]("tag")].$to_set():(R=[],(s=(c=I["$[]"]("lines").$split(N.get("DataDelimiterRx"))).$each,s.$$p=(h=function(t){var n,$,r,i,l=(h.$$s||this,u),a=u;return null==t&&(t=u),(n=t["$include?"](".."))===u||null==n||n.$$is_boolean&&1!=n?R["$<<"](t.$to_i()):($=(r=(i=t.$split("..",2)).$map,r.$$p="to_i".$to_proc(),r).call(i),n=e.to_ary($),l=null==n[0]?u:n[0],a=null==n[1]?u:n[1],$,a["$=="](-1)?(R["$<<"](l),R["$<<"](o(1,0))):R.$concat(e.get("Range").$new(l,a).$to_a()))},h.$$s=w,h.$$arity=1,h),s).call(c),R=R.$sort().$uniq())),R!==!1&&R!==u&&null!=R)if((s=R["$empty?"]())===u||null==s||s.$$is_boolean&&1!=s){C=[],M=0,L=0;try{(s=(_=w).$open,s.$$p=(g=function(n){var $,r,i,l=g.$$s||this;return null==n&&(n=u),function(){var o=e.new_brk();try{return($=(r=n).$each_line,$.$$p=(i=function($){var r,l,a=(i.$$s||this,u);return null==$&&($=u),L=t(L,1),a=R["$[]"](0),l=e.get("Float")["$==="](a),(r=l!==!1&&l!==u&&null!=l?a["$infinite?"]():l)===u||null==r||r.$$is_boolean&&1!=r?(n.$lineno()["$=="](a)&&(C.$push($),M["$=="](0)&&(M=L),R.$shift()),(r=R["$empty?"]())===u||null==r||r.$$is_boolean&&1!=r?u:void e.brk(u,o)):(C.$push($),M["$=="](0)?M=L:u)},i.$$s=l,i.$$brk=o,i.$$arity=1,i),$).call(r)}catch(e){if(e===o)return e.$v;throw e}}()},g.$$s=w,g.$$arity=1,g),s).call(_,O,"r")}catch(t){if(!e.rescue(t,[N.get("StandardError")]))throw t;try{return w.$warn("asciidoctor: WARNING: "+w.$line_info()+": include "+A+" not readable: "+O),w.$replace_next_line("Unresolved directive in "+w.path+" - include::"+k+"["+a+"]"),!0}finally{e.pop_exception()}}w.$advance(),w.$push_include(C,O,S,M,I)}else;else if(T!==!1&&T!==u&&null!=T)if((s=T["$empty?"]())===u||null==s||s.$$is_boolean&&1!=s){C=[],M=0,L=0,z=u,P=e.get("Set").$new();try{(s=(b=w).$open,s.$$p=(m=function(n){var $,r,i,l=m.$$s||this;return null==n&&(n=u),($=(r=n).$each_line,$.$$p=(i=function(n){var $,r,l,o=i.$$s||this,a=u;return null==n&&(n=u),L=t(L,1),($=N.get("FORCE_ENCODING"))===u||null==$||$.$$is_boolean&&1!=$||n.$force_encoding(e.get("Encoding").$$scope.get("UTF_8")),n=n.$rstrip(),a=n.$chomp("-->").$rstrip(),z!==!1&&z!==u&&null!=z?($=a["$end_with?"]("end::"+z+"[]"))===u||null==$||$.$$is_boolean&&1!=$?(r=a["$end_with?"]("[]"),(($=r!==!1&&r!==u&&null!=r?N.get("TagDirectiveRx")["$=~"](a):r)===u||null==$||$.$$is_boolean&&1!=$)&&C.$push(n),M["$=="](0)?M=L:u):z=u:(r=a["$end_with?"]("[]"),($=r!==!1&&r!==u&&null!=r?N.get("TagDirectiveRx")["$=~"](a):r)===u||null==$||$.$$is_boolean&&1!=$?u:function(){var t=e.new_brk();try{return($=(r=T).$each,$.$$p=(l=function(n){var $;l.$$s||this;return null==n&&(n=u),($=a["$end_with?"]("tag::"+n+"[]"))===u||null==$||$.$$is_boolean&&1!=$?u:(z=n,P["$<<"](n),e.brk(u,t),void 0)},l.$$s=o,l.$$brk=t,l.$$arity=1,l),$).call(r)}catch(e){if(e===t)return e.$v;throw e}}())},i.$$s=l,i.$$arity=1,i),$).call(r)},m.$$s=w,m.$$arity=1,m),s).call(b,O,"r")}catch(t){if(!e.rescue(t,[N.get("StandardError")]))throw t;try{return w.$warn("asciidoctor: WARNING: "+w.$line_info()+": include "+A+" not readable: "+O),w.$replace_next_line("Unresolved directive in "+w.path+" - include::"+k+"["+a+"]"),!0}finally{e.pop_exception()}}((s=(D=r(T.$to_a(),P.$to_a()))["$empty?"]())===u||null==s||s.$$is_boolean&&1!=s)&&w.$warn("asciidoctor: WARNING: "+w.$line_info()+": tag"+function(){return(s=n(D.$size(),1))===u||null==s||s.$$is_boolean&&1!=s?u:"s"}()+" '"+$(D,",")+"' not found in include "+A+": "+O),w.$advance(),w.$push_include(C,O,S,M,I)}else;else try{B=(s=(y=w).$open,s.$$p=(v=function(e){v.$$s||this;return null==e&&(e=u),e.$read()},v.$$s=w,v.$$arity=1,v),s).call(y,O,"r"),w.$advance(),w.$push_include(B,O,S,1,I)}catch(t){if(!e.rescue(t,[N.get("StandardError")]))throw t;try{return w.$warn("asciidoctor: WARNING: "+w.$line_info()+": include "+A+" not readable: "+O),w.$replace_next_line("Unresolved directive in "+w.path+" - include::"+k+"["+a+"]"),!0}finally{e.pop_exception()}}return!0}return w.$replace_next_line("link:"+k+"[]"),!0}return w.$advance(),x.$process_method()["$[]"](w.document,w,k,N.get("AttributeList").$new(a).$parse()),!0}return w.$advance(),w.document.$attributes().$fetch("attribute-missing",N.get("Compliance").$attribute_missing())["$=="]("skip")&&w.$unshift("Unresolved directive in "+w.path+" - include::"+i+"["+a+"]"),!0},v.$$arity=2),e.defn(I,"$push_include",w=function(n,$,i,l,o){var s,c=this,_=u,d=u;return null==$&&($=u),null==i&&(i=u),null==l&&(l=1),null==o&&(o=p([],{})),c.include_stack["$<<"]([c.lines,c.file,c.dir,c.path,c.lineno,c.maxdepth,c.process_lines]),$!==!1&&$!==u&&null!=$?(c.file=$,c.dir=N.get("File").$dirname($),c.process_lines=N.get("ASCIIDOC_EXTENSIONS")["$[]"](e.get("File").$extname($))):(c.file=u,c.dir=".",c.process_lines=!0),c.path=function(){return i!==!1&&i!==u&&null!=i?(c.includes["$<<"](N.get("Helpers").$rootname(i)),i):"<stdin>"}(),c.lineno=l,(s=o["$has_key?"]("depth"))===u||null==s||s.$$is_boolean&&1!=s||(_=o["$[]"]("depth").$to_i(),(s=a(_,0))===u||null==s||s.$$is_boolean&&1!=s||(_=1),c.maxdepth=p(["abs","rel"],{abs:t(r(c.include_stack.$size(),1),_),rel:_})),(s=(c.lines=c.$prepare_lines(n,p(["normalize","condense","indent"],{normalize:!0,condense:!1,indent:o["$[]"]("indent")})))["$empty?"]())===u||null==s||s.$$is_boolean&&1!=s?((s=o["$has_key?"]("leveloffset"))===u||null==s||s.$$is_boolean&&1!=s||(c.lines.$unshift(""),c.lines.$unshift(":leveloffset: "+o["$[]"]("leveloffset")),c.lines.$push(""),(s=d=c.document.$attr("leveloffset"))===u||null==s||s.$$is_boolean&&1!=s?c.lines.$push(":leveloffset!:"):c.lines.$push(":leveloffset: "+d),c.lineno=r(c.lineno,2)),c.eof=!1,c.look_ahead=0):c.$pop_include(),c},w.$$arity=-2),e.defn(I,"$pop_include",k=function(){var t,$,r=this;return(t=n(r.include_stack.$size(),0))===u||null==t||t.$$is_boolean&&1!=t||($=r.include_stack.$pop(),t=e.to_ary($),r.lines=null==t[0]?u:t[0],r.file=null==t[1]?u:t[1],r.dir=null==t[2]?u:t[2],r.path=null==t[3]?u:t[3],r.lineno=null==t[4]?u:t[4],r.maxdepth=null==t[5]?u:t[5],r.process_lines=null==t[6]?u:t[6],$,r.eof=r.lines["$empty?"](),r.look_ahead=0),u},k.$$arity=0),e.defn(I,"$include_depth",x=function(){var e=this;return e.include_stack.$size()},x.$$arity=0),e.defn(I,"$exceeded_max_depth?",E=function(){var e,t,$=this,r=u;return t=n(r=$.maxdepth["$[]"]("abs"),0),!((e=t!==!1&&t!==u&&null!=t?l($.include_stack.$size(),r):t)===u||null==e||e.$$is_boolean&&1!=e)&&$.maxdepth["$[]"]("rel")},E.$$arity=0),e.defn(I,"$shift",A=function(){var t,n,$,r=this,i=A.$$p,l=u,o=u;for(A.$$p=null,l=[],o=0;o<arguments.length;o++)l[o]=arguments[o];return(t=r.unescape_next_line)===u||null==t||t.$$is_boolean&&1!=t?($=r,t=e.find_super_dispatcher(r,"shift",A,!1),t.$$p=i,t).apply($,l):(r.unescape_next_line=!1,(n=r,t=e.find_super_dispatcher(r,"shift",A,!1),t.$$p=i,t).apply(n,l)["$[]"](d(1,-1,!1)))},A.$$arity=0),e.defn(I,"$skip_front_matter!",O=function(n,$){var r,i,l,o=this,a=u,s=u;if(null==$&&($=!0),a=u,n["$[]"](0)["$=="]("---")){for(s=n.$dup(),a=[],n.$shift(),$!==!1&&$!==u&&null!=$&&(o.lineno=t(o.lineno,1));l=n["$empty?"]()["$!"](),(i=l!==!1&&l!==u&&null!=l?n["$[]"](0)["$!="]("---"):l)!==u&&null!=i&&(!i.$$is_boolean||1==i);)a.$push(n.$shift()),$!==!1&&$!==u&&null!=$&&(o.lineno=t(o.lineno,1));(r=n["$empty?"]())===u||null==r||r.$$is_boolean&&1!=r?(n.$shift(),$!==!1&&$!==u&&null!=$&&(o.lineno=t(o.lineno,1))):((r=n).$unshift.apply(r,e.to_a(s)),$!==!1&&$!==u&&null!=$&&(o.lineno=0),a=u)}return a},O.$$arity=-2),e.defn(I,"$resolve_expr_val",S=function(e){var t,n,$,r=this,i=u;return $=e["$start_with?"]('"'),(t=(n=$!==!1&&$!==u&&null!=$?e["$end_with?"]('"'):$)!==!1&&n!==u&&null!=n?n:($=e["$start_with?"]("'"),$!==!1&&$!==u&&null!=$?e["$end_with?"]("'"):$))===u||null==t||t.$$is_boolean&&1!=t?i=!1:(i=!0,e=e["$[]"](d(1,-1,!0))),(t=e["$include?"]("{"))===u||null==t||t.$$is_boolean&&1!=t||(e=r.document.$sub_attributes(e,p(["attribute_missing"],{attribute_missing:"drop"}))),i!==!1&&i!==u&&null!=i?e:(t=e["$empty?"]())===u||null==t||t.$$is_boolean&&1!=t?!!e["$=="]("true")||!e["$=="]("false")&&((t=e.$rstrip()["$empty?"]())===u||null==t||t.$$is_boolean&&1!=t?(t=e["$include?"]("."))===u||null==t||t.$$is_boolean&&1!=t?e.$to_i():e.$to_f():" "):u},S.$$arity=1),e.defn(I,"$include_processors?",R=function(){var e,t,n=this;return(e=n.include_processor_extensions["$nil?"]())===u||null==e||e.$$is_boolean&&1!=e?n.include_processor_extensions["$!="](!1):(t=n.document["$extensions?"](),(e=t!==!1&&t!==u&&null!=t?n.document.$extensions()["$include_processors?"]():t)===u||null==e||e.$$is_boolean&&1!=e?n.include_processor_extensions=!1:(n.include_processor_extensions=n.document.$extensions().$include_processors())["$!"]()["$!"]())},R.$$arity=0),e.defn(I,"$to_s",T=function(){var e,t,n,$=this;return"#<"+$.$class()+"@"+$.$object_id()+" {path: "+$.path.$inspect()+", line #: "+$.lineno+", include depth: "+$.include_stack.$size()+", include stack: ["+(e=(t=$.include_stack).$map,e.$$p=(n=function(e){n.$$s||this;return null==e&&(e=u),e.$to_s()},n.$$s=$,n.$$arity=1,n),e).call(t).$join(", ")+"]}>"},T.$$arity=0),u&&"to_s"}(g.base,g.get("Reader"))}(s.base)},Opal.modules["asciidoctor/section"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}var $=(e.top,e),r=e.nil,i=(e.breaker,e.slice,e.module),l=e.klass,o=e.hash2,a=e.range;return e.add_stubs(["$attr_accessor","$+","$level","$>","$==","$context","$special","$has_key?","$attributes","$[]","$chomp","$tr_s","$gsub","$downcase","$title","$empty?","$!","$start_with?","$unique_id_start_index","$references","$sectnum","$assign_index","$!=","$class","$object_id","$inspect","$size"]),function($){var s,u=s=i($,"Asciidoctor"),c=(u.$$proto,u.$$scope);!function($,i){function s(){}var u,c,_,p,d,f=s=l($,i,"Section",s),h=f.$$proto,g=f.$$scope;return h.level=h.document=h.parent=h.number=h.title=h.numbered=h.blocks=r,f.$attr_accessor("index"),f.$attr_accessor("number"),f.$attr_accessor("sectname"),f.$attr_accessor("special"),f.$attr_accessor("numbered"),e.defn(f,"$initialize",u=function($,i,l,a){var s,c,_,p=this;u.$$p;return null==$&&($=r),null==i&&(i=r),null==l&&(l=!0),null==a&&(a=o([],{})),u.$$p=null,(c=p,s=e.find_super_dispatcher(p,"initialize",u,!1),s.$$p=null,s).call(c,$,"section",a),i!==!1&&i!==r&&null!=i?p.level=i:p.level=function(){return $!==!1&&$!==r&&null!=$?t($.$level(),1):1}(),p.numbered=(s=l!==!1&&l!==r&&null!=l)?n(p.level,0):l,p.special=(s=(_=$!==!1&&$!==r&&null!=$)?$.$context()["$=="]("section"):$,s!==!1&&s!==r&&null!=s?$.$special():s),p.index=0,p.number=1},u.$$arity=-1),e.alias(f,"name","title"),e.defn(f,"$generate_id",c=function(){var e,n,$,i=this,l=r,o=r,s=r,u=r,c=r;if((e=i.document.$attributes()["$has_key?"]("sectids"))===r||null==e||e.$$is_boolean&&1!=e)return r;if(l=(e=i.document.$attributes()["$[]"]("idseparator"))!==!1&&e!==r&&null!=e?e:"_",o=(e=i.document.$attributes()["$[]"]("idprefix"))!==!1&&e!==r&&null!=e?e:"_",s=""+o+i.$title().$downcase().$gsub(g.get("InvalidSectionIdCharsRx"),l).$tr_s(l,l).$chomp(l),$=o["$empty?"](),n=$!==!1&&$!==r&&null!=$?l["$empty?"]()["$!"]():$,(e=n!==!1&&n!==r&&null!=n?s["$start_with?"](l):n)!==r&&null!=e&&(!e.$$is_boolean||1==e))for(s=s["$[]"](a(1,-1,!1));(n=s["$start_with?"](l))!==r&&null!=n&&(!n.$$is_boolean||1==n);)s=s["$[]"](a(1,-1,!1));for(u=s,c=g.get("Compliance").$unique_id_start_index();(n=i.document.$references()["$[]"]("ids")["$has_key?"](u))!==r&&null!=n&&(!n.$$is_boolean||1==n);)u=""+s+l+c,c=t(c,1);return u},c.$$arity=0),e.defn(f,"$sectnum",_=function(e,t){var $,i,l,o,a=this;return null==e&&(e="."),null==t&&(t=r),($=t)!==!1&&$!==r&&null!=$?$:t=function(){return t["$=="](!1)?"":e}(),o=a.level,l=o!==!1&&o!==r&&null!=o?n(a.level,1):o,i=l!==!1&&l!==r&&null!=l?a.parent:l,($=i!==!1&&i!==r&&null!=i?a.parent.$context()["$=="]("section"):i)===r||null==$||$.$$is_boolean&&1!=$?""+a.number+t:""+a.parent.$sectnum(e)+a.number+t},_.$$arity=-1),e.defn(f,"$<<",p=function(t){var n,$,i=this,l=p.$$p,o=r,a=r;for(p.$$p=null,o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];return t.$context()["$=="]("section")&&i.$assign_index(t),($=i,n=e.find_super_dispatcher(i,"<<",p,!1),n.$$p=l,n).apply($,o)},p.$$arity=1),e.defn(f,"$to_s",d=function(){var t,n,$=this,i=d.$$p,l=r,o=r,a=r;for(d.$$p=null,o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];return(t=$.title["$!="](r))===r||null==t||t.$$is_boolean&&1!=t?(n=$,t=e.find_super_dispatcher($,"to_s",d,!1),t.$$p=i,t).apply(n,o):(l=function(){return(t=$.numbered)===r||null==t||t.$$is_boolean&&1!=t?$.title:""+$.$sectnum()+" "+$.title}(),"#<"+$.$class()+"@"+$.$object_id()+" {level: "+$.level+", title: "+l.$inspect()+", blocks: "+$.blocks.$size()+"}>")},d.$$arity=0),r&&"to_s"}(c.base,c.get("AbstractBlock"))}($.base)},Opal.modules["asciidoctor/stylesheets"]=function(e){var t=(e.top,e),n=e.nil,$=(e.breaker,e.slice,e.module),r=e.klass,i=e.hash2;return e.add_stubs(["$join","$new","$chomp","$read","$primary_stylesheet_data","$open","$write","$primary_stylesheet_name","$coderay_stylesheet_data","$coderay_stylesheet_name","$load_pygments","$[]","$[]=","$sub","$css","$pygments_stylesheet_data","$pygments_stylesheet_name","$!","$nil?","$require_library"]),function(t){var l,o=l=$(t,"Asciidoctor"),a=(o.$$proto,o.$$scope);!function(t,$){function l(){}var o,a,s,u,c,_,p,d,f,h,g,b,m,y,v=l=r(t,$,"Stylesheets",l),w=v.$$proto,k=v.$$scope;return w.primary_stylesheet_data=w.coderay_stylesheet_data=w.pygments_stylesheet_data=n,e.cdecl(k,"DEFAULT_STYLESHEET_NAME","asciidoctor.css"),e.cdecl(k,"DEFAULT_PYGMENTS_STYLE","default"),e.cdecl(k,"STYLESHEETS_DATA_PATH",e.get("File").$join(k.get("DATA_PATH"),"stylesheets")),v.__instance__=v.$new(),e.defs(v,"$instance",o=function(){var e=this;return null==e.__instance__&&(e.__instance__=n),e.__instance__},o.$$arity=0),e.defn(v,"$primary_stylesheet_name",a=function(){return k.get("DEFAULT_STYLESHEET_NAME")},a.$$arity=0),e.defn(v,"$primary_stylesheet_data",s=function(){var t;return t=k.get("JAVASCRIPT_PLATFORM")["$=="]("node")?e.get("File").$join(__dirname,"css"):"css",($a=v.primary_stylesheet_data)!==!1&&$a!==n&&null!=$a?$a:v.primary_stylesheet_data=e.get("IO").$read(e.get("File").$join(t,"asciidoctor.css")).$chomp()},s.$$arity=0),e.defn(v,"$embed_primary_stylesheet",u=function(){var e=this;return"<style>\n"+e.$primary_stylesheet_data()+"\n</style>"},u.$$arity=0),e.defn(v,"$write_primary_stylesheet",c=function(t){var $,r,i,l=this;return($=(r=e.get("File")).$open,$.$$p=(i=function(e){var t=i.$$s||this;return null==e&&(e=n),e.$write(t.$primary_stylesheet_data())},i.$$s=l,i.$$arity=1,i),$).call(r,e.get("File").$join(t,l.$primary_stylesheet_name()),"w")},c.$$arity=1),e.defn(v,"$coderay_stylesheet_name",_=function(){return"coderay-asciidoctor.css"},_.$$arity=0),e.defn(v,"$coderay_stylesheet_data",p=function(){var t,$=this;return(t=$.coderay_stylesheet_data)!==!1&&t!==n&&null!=t?t:$.coderay_stylesheet_data=e.get("IO").$read(e.get("File").$join(k.get("STYLESHEETS_DATA_PATH"),"coderay-asciidoctor.css")).$chomp()},p.$$arity=0),e.defn(v,"$embed_coderay_stylesheet",d=function(){var e=this;return"<style>\n"+e.$coderay_stylesheet_data()+"\n</style>"},d.$$arity=0),e.defn(v,"$write_coderay_stylesheet",f=function(t){var $,r,i,l=this;return($=(r=e.get("File")).$open,$.$$p=(i=function(e){var t=i.$$s||this;return null==e&&(e=n),e.$write(t.$coderay_stylesheet_data())},i.$$s=l,i.$$arity=1,i),$).call(r,e.get("File").$join(t,l.$coderay_stylesheet_name()),"w")},f.$$arity=1),e.defn(v,"$pygments_stylesheet_name",h=function(e){var t;return null==e&&(e=n),"pygments-"+((t=e)!==!1&&t!==n&&null!=t?t:k.get("DEFAULT_PYGMENTS_STYLE"))+".css"},h.$$arity=-1),e.defn(v,"$pygments_stylesheet_data",g=function(t){var $,r,l,o,a=this;return null==t&&(t=n),($=a.$load_pygments())===n||null==$||$.$$is_boolean&&1!=$?"/* Pygments styles disabled. Pygments is not available. */":($=(l=t)!==!1&&l!==n&&null!=l?l:k.get("DEFAULT_PYGMENTS_STYLE"),r=(l=a.pygments_stylesheet_data)!==!1&&l!==n&&null!=l?l:a.pygments_stylesheet_data=i([],{}),(l=r["$[]"]($))!==!1&&l!==n&&null!=l?l:r["$[]="]($,e.get("Pygments").$css(".listingblock .pygments",i(["classprefix","style"],{classprefix:"tok-",style:(o=t)!==!1&&o!==n&&null!=o?o:k.get("DEFAULT_PYGMENTS_STYLE")})).$sub(".listingblock .pygments  {",".listingblock .pygments, .listingblock .pygments code {")))},g.$$arity=-1),e.defn(v,"$embed_pygments_stylesheet",b=function(e){var t=this;return null==e&&(e=n),"<style>\n"+t.$pygments_stylesheet_data(e)+"\n</style>"},b.$$arity=-1),e.defn(v,"$write_pygments_stylesheet",m=function(t,$){var r,i,l,o=this;return null==$&&($=n),(r=(i=e.get("File")).$open,r.$$p=(l=function(e){var t=l.$$s||this;return null==e&&(e=n),e.$write(t.$pygments_stylesheet_data($))},l.$$s=o,l.$$arity=1,l),r).call(i,e.get("File").$join(t,o.$pygments_stylesheet_name($)),"w")},m.$$arity=-2),e.defn(v,"$load_pygments",y=function(){var t;return!((t=null==e.Object.$$scope.Pygments?n:"constant")===n||null==t||t.$$is_boolean&&1!=t)||k.get("Helpers").$require_library("pygments","pygments.rb","ignore")["$nil?"]()["$!"]()},y.$$arity=0),n&&"load_pygments"}(a.base,null)}(t.base)},Opal.modules["asciidoctor/table"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e/t:e["$/"](t)}function i(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function l(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var o=(e.top,e),a=e.nil,s=(e.breaker,e.slice,e.module),u=e.klass,c=e.hash2,_=e.range;return e.add_stubs(["$attr_accessor","$new","$key?","$[]","$>","$to_i","$<","$==","$[]=","$attributes","$round","$*","$/","$to_f","$empty?","$body","$each","$+","$<<","$size","$assign_column_widths","$**","$assign_width","$-","$shift","$style=","$head=","$foot=","$pop","$update_attributes","$parent","$attr_reader","$delete","$!","$header_row?","$table","$split","$include?","$readlines","$!=","$unshift","$nil?","$strip","$apply_normal_subs","$convert","$map","$text","$to_s","$cursor","$raise","$nested?","$document","$escape","$columns","$start_with?","$match","$chop","$pre_match","$post_match","$end_with?","$lstrip","$push_cellspec","$cell_open?","$close_cell","$advance","$take_cellspec","$warn","$line_info","$tr_s","$upto","$times","$rowspan","$activate_rowspan","$colspan","$end_of_row?","$close_row","$rows","$effective_column_visits"]),function(o){var p,d=p=s(o,"Asciidoctor"),f=(d.$$proto,d.$$scope);!function(o,s){function _(){}var p,d,f,h,g,b=_=u(o,s,"Table",_),m=b.$$proto,y=b.$$scope;return m.attributes=m.document=m.has_header_option=m.rows=m.columns=a,function(t,n){function $(){}var r,i=$=u(t,n,"Rows",$);i.$$proto,i.$$scope;return i.$attr_accessor("head","foot","body"),e.defn(i,"$initialize",r=function(e,t,n){var $=this;return null==e&&(e=[]),null==t&&(t=[]),null==n&&(n=[]),$.head=e,$.foot=t,$.body=n},r.$$arity=-1),e.alias(i,"[]","send")}(y.base,null),e.cdecl(y,"DEFAULT_DATA_FORMAT","psv"),e.cdecl(y,"DATA_FORMATS",["psv","dsv","csv"]),e.cdecl(y,"DEFAULT_DELIMITERS",c(["psv","dsv","csv"],{psv:"|",dsv:":",csv:","})),e.cdecl(y,"TEXT_STYLES",c(["d","s","e","m","h","l","v","a"],{d:"none",s:"strong",e:"emphasis",m:"monospaced",h:"header",l:"literal",v:"verse",a:"asciidoc"})),e.cdecl(y,"ALIGNMENTS",c(["h","v"],{h:c(["<",">","^"],{"<":"left",">":"right","^":"center"}),v:c(["<",">","^"],{"<":"top",">":"bottom","^":"middle"})})),b.$attr_accessor("columns"),b.$attr_accessor("rows"),b.$attr_accessor("has_header_option"),e.defn(b,"$initialize",p=function(i,l){var o,s,u,c,_=this,d=(p.$$p,a),f=a;return p.$$p=null,(s=_,o=e.find_super_dispatcher(_,"initialize",p,!1),o.$$p=null,o).call(s,i,"table"),_.rows=y.get("Rows").$new(),_.columns=[],_.has_header_option=l["$key?"]("header-option"),(o=d=l["$[]"]("width"))===a||null==o||o.$$is_boolean&&1!=o?f=100:(o=(u=t(f=d.$to_i(),100))!==!1&&u!==a&&null!=u?u:n(f,1))===a||null==o||o.$$is_boolean&&1!=o||((o=(u=f["$=="](0))?(c=d["$=="]("0"))!==!1&&c!==a&&null!=c?c:d["$=="]("0%"):f["$=="](0))===a||null==o||o.$$is_boolean&&1!=o)&&(f=100),_.attributes["$[]="]("tablepcwidth",f),(o=_.document.$attributes()["$key?"]("pagewidth"))===a||null==o||o.$$is_boolean&&1!=o||(o="tableabswidth",u=_.attributes,(c=u["$[]"](o))!==!1&&c!==a&&null!=c?c:u["$[]="](o,$(r(_.attributes["$[]"]("tablepcwidth").$to_f(),100),_.document.$attributes()["$[]"]("pagewidth")).$round())),(o=l["$key?"]("rotate-option"))===a||null==o||o.$$is_boolean&&1!=o?a:l["$[]="]("orientation","landscape")},p.$$arity=2),e.defn(b,"$header_row?",d=function(){var e,t=this;return e=t.has_header_option,e!==!1&&e!==a&&null!=e?t.rows.$body()["$empty?"]():e},d.$$arity=0),e.defn(b,"$create_columns",f=function(e){var t,n,$,r=this,l=a,o=a;return l=[],o=0,(t=(n=e).$each,t.$$p=($=function(e){var t=$.$$s||this;return null==e&&(e=a),o=i(o,e["$[]"]("width")),l["$<<"](y.get("Column").$new(t,l.$size(),e))},$.$$s=r,$.$$arity=1,$),t).call(n),((t=(r.columns=l)["$empty?"]())===a||null==t||t.$$is_boolean&&1!=t)&&(r.attributes["$[]="]("colcount",l.$size()),r.$assign_column_widths(function(){return o["$=="](0)?a:o}())),a},f.$$arity=1),e.defn(b,"$assign_column_widths",h=function(e){var t,n,o,s,u,c=this,_=a,p=a,d=a;return null==e&&(e=a),_=10["$**"](4),p=d=0,e!==!1&&e!==a&&null!=e?(t=(n=c.columns).$each,t.$$p=(o=function(t){o.$$s||this;return null==t&&(t=a),p=i(p,d=t.$assign_width(a,e,_))},o.$$s=c,o.$$arity=1,o),t).call(n):(d=r(r($(100,_),c.columns.$size()).$to_i(),_),d.$to_i()["$=="](d)&&(d=d.$to_i()),(t=(s=c.columns).$each,t.$$p=(u=function(e){u.$$s||this;return null==e&&(e=a),p=i(p,e.$assign_width(d))},u.$$s=c,u.$$arity=1,u),t).call(s)),p["$=="](100)||c.columns["$[]"](-1).$assign_width(r($(i(l(100,p),d),_).$round(),_)),a},h.$$arity=-1),e.defn(b,"$partition_header_footer",g=function(e){var n,$,r,i,o=this,s=a,u=a;return o.attributes["$[]="]("rowcount",o.rows.$body().$size()),s=o.rows.$body().$size(),$=t(s,0),(n=$!==!1&&$!==a&&null!=$?o.has_header_option:$)===a||null==n||n.$$is_boolean&&1!=n||(u=o.rows.$body().$shift(),s=l(s,1),(n=($=u).$each,n.$$p=(r=function(e){var t,n;r.$$s||this;return null==e&&(e=a),t=[a],n=e,n["$style="].apply(n,t),t[t.length-1]},r.$$s=o,r.$$arity=1,r),n).call($),n=[[u]],i=o.rows,i["$head="].apply(i,n),n[n.length-1]),i=t(s,0),(n=i!==!1&&i!==a&&null!=i?e["$key?"]("footer-option"):i)===a||null==n||n.$$is_boolean&&1!=n||(n=[[o.rows.$body().$pop()]],i=o.rows,i["$foot="].apply(i,n),n[n.length-1]),a},g.$$arity=1),a&&"partition_header_footer"}(f.base,f.get("AbstractBlock")),function(t,n){function l(){}var o,s,_=l=u(t,n,"Column",l),p=_.$$proto;_.$$scope;return p.attributes=a,_.$attr_accessor("style"),e.defn(_,"$initialize",o=function(t,n,$){var r,l,s,u,_=this;o.$$p;return null==$&&($=c([],{})),o.$$p=null,(l=_,r=e.find_super_dispatcher(_,"initialize",o,!1),r.$$p=null,r).call(l,t,"column"),_.style=$["$[]"]("style"),$["$[]="]("colnumber",i(n,1)),r="width",s=$,(u=s["$[]"](r))!==!1&&u!==a&&null!=u?u:s["$[]="](r,1),r="halign",s=$,(u=s["$[]"](r))!==!1&&u!==a&&null!=u?u:s["$[]="](r,"left"),r="valign",s=$,(u=s["$[]"](r))!==!1&&u!==a&&null!=u?u:s["$[]="](r,"top"),_.$update_attributes($)},o.$$arity=-3),e.alias(_,"table","parent"),e.defn(_,"$assign_width",s=function(e,t,n){var i,l=this;return null==t&&(t=a),null==n&&(n=1e4),t!==!1&&t!==a&&null!=t&&(e=r($($(r(l.attributes["$[]"]("width").$to_f(),t),100),n).$to_i(),n),e.$to_i()["$=="](e)&&(e=e.$to_i())),l.attributes["$[]="]("colpcwidth",e),(i=l.$parent().$attributes()["$key?"]("tableabswidth"))===a||null==i||i.$$is_boolean&&1!=i||l.attributes["$[]="]("colabswidth",$(r(e,100),l.$parent().$attributes()["$[]"]("tableabswidth")).$round()),e},s.$$arity=-2),a&&"assign_width"}(f.get("Table"),f.get("AbstractNode")),function(t,n){function $(){}var r,i,l,o,s=$=u(t,n,"Cell",$),_=s.$$proto,p=s.$$scope;return _.style=_.document=_.text=_.inner_document=_.colspan=_.rowspan=_.attributes=a,s.$attr_accessor("style"),s.$attr_accessor("colspan"),s.$attr_accessor("rowspan"),e.alias(s,"column","parent"),s.$attr_reader("inner_document"),e.defn(s,"$initialize",r=function(t,n,$,i){var l,o,s,u=this,_=(r.$$p,a),d=a,f=a,h=a;return null==$&&($=c([],{})),null==i&&(i=a),r.$$p=null,(o=u,l=e.find_super_dispatcher(u,"initialize",r,!1),l.$$p=null,l).call(o,t,"cell"),u.text=n,u.style=a,u.colspan=a,u.rowspan=a,t!==!1&&t!==a&&null!=t&&(u.style=t.$attributes()["$[]"]("style"),u.$update_attributes(t.$attributes())),$!==!1&&$!==a&&null!=$&&(u.colspan=$.$delete("colspan"),u.rowspan=$.$delete("rowspan"),(l=$["$key?"]("style"))===a||null==l||l.$$is_boolean&&1!=l||(u.style=$["$[]"]("style")),u.$update_attributes($)),(l=(s=u.style["$=="]("asciidoc"))?t.$table()["$header_row?"]()["$!"]():u.style["$=="]("asciidoc"))===a||null==l||l.$$is_boolean&&1!=l?a:(_=u.document.$attributes().$delete("doctitle"),d=u.text.$split(p.get("EOL")),((l=(s=d["$empty?"]())!==!1&&s!==a&&null!=s?s:d["$[]"](0)["$include?"]("::")["$!"]())===a||null==l||l.$$is_boolean&&1!=l)&&(f=d["$[]"](0),h=p.get("PreprocessorReader").$new(u.document,f).$readlines(),(l=h["$!="](f))===a||null==l||l.$$is_boolean&&1!=l||(d.$shift(),(l=d).$unshift.apply(l,e.to_a(h)))),u.inner_document=p.get("Document").$new(d,c(["header_footer","parent","cursor"],{header_footer:!1,parent:u.document,cursor:i})),(s=_["$nil?"]())===a||null==s||s.$$is_boolean&&1!=s?u.document.$attributes()["$[]="]("doctitle",_):a)},r.$$arity=-3),e.defn(s,"$text",i=function(){var e=this;return e.$apply_normal_subs(e.text).$strip()},i.$$arity=0),e.defn(s,"$content",l=function(){var e,t,n,$=this;return $.style["$=="]("asciidoc")?$.inner_document.$convert():(e=(t=$.$text().$split(p.get("BlankLineRx"))).$map,e.$$p=(n=function(e){var t,$,r=n.$$s||this;return null==r.style&&(r.style=a),null==e&&(e=a),(t=($=r.style["$!"]())!==!1&&$!==a&&null!=$?$:r.style["$=="]("header"))===a||null==t||t.$$is_boolean&&1!=t?p.get("Inline").$new(r.$parent(),"quoted",e,c(["type"],{type:r.style})).$convert():e},n.$$s=$,n.$$arity=1,n),e).call(t)},l.$$arity=0),e.defn(s,"$to_s",o=function(){var t,n,$=this,r=o.$$p,i=a,l=a;for(o.$$p=null,i=[],l=0;l<arguments.length;l++)i[l]=arguments[l];return""+(n=$,t=e.find_super_dispatcher($,"to_s",o,!1),t.$$p=r,t).apply(n,i).$to_s()+" - [text: "+$.text+", colspan: "+((t=$.colspan)!==!1&&t!==a&&null!=t?t:1)+", rowspan: "+((t=$.rowspan)!==!1&&t!==a&&null!=t?t:1)+", attributes: "+$.attributes+"]"},o.$$arity=0),a&&"to_s"}(f.get("Table"),f.get("AbstractNode")),function(n,$){function r(){}var o,s,p,d,f,h,g,b,m,y,v,w,k,x,E,A,O,S,R,T=r=u(n,$,"ParserContext",r),I=T.$$proto,C=T.$$scope;return I.format=I.delimiter=I.delimiter_re=I.buffer=I.cellspecs=I.cell_open=I.last_cursor=I.table=I.current_row=I.colcount=I.column_visits=I.active_rowspans=I.linenum=a,T.$attr_accessor("table"),T.$attr_accessor("format"),T.$attr_reader("colcount"),T.$attr_accessor("buffer"),T.$attr_reader("delimiter"),T.$attr_reader("delimiter_re"),e.defn(T,"$initialize",o=function(e,t,n){var $,r,i,l=this;return null==n&&(n=c([],{})),l.reader=e,l.table=t,l.last_cursor=e.$cursor(),($=l.format=n["$[]"]("format"))===a||null==$||$.$$is_boolean&&1!=$?l.format=C.get("Table").$$scope.get("DEFAULT_DATA_FORMAT"):(($=C.get("Table").$$scope.get("DATA_FORMATS")["$include?"](l.format))===a||null==$||$.$$is_boolean&&1!=$)&&l.$raise("Illegal table format: "+l.format),l.delimiter=function(){return r=(i=l.format["$=="]("psv"))?n["$key?"]("separator")["$!"]():l.format["$=="]("psv"),
($=r!==!1&&r!==a&&null!=r?t.$document()["$nested?"]():r)===a||null==$||$.$$is_boolean&&1!=$?($=n["$[]"]("separator"))!==!1&&$!==a&&null!=$?$:C.get("Table").$$scope.get("DEFAULT_DELIMITERS")["$[]"](l.format):"!"}(),l.delimiter_re=new RegExp(""+C.get("Regexp").$escape(l.delimiter)),l.colcount=function(){return($=t.$columns()["$empty?"]())===a||null==$||$.$$is_boolean&&1!=$?t.$columns().$size():-1}(),l.buffer="",l.cellspecs=[],l.cell_open=!1,l.active_rowspans=[0],l.column_visits=0,l.current_row=[],l.linenum=-1},o.$$arity=-3),e.defn(T,"$starts_with_delimiter?",s=function(e){var t=this;return e["$start_with?"](t.delimiter)},s.$$arity=1),e.defn(T,"$match_delimiter",p=function(e){var t=this;return t.delimiter_re.$match(e)},p.$$arity=1),e.defn(T,"$skip_matched_delimiter",d=function(e,t){var n=this;return null==t&&(t=!1),n.buffer=""+n.buffer+function(){return t!==!1&&t!==a&&null!=t?e.$pre_match().$chop():e.$pre_match()}()+n.delimiter,e.$post_match()},d.$$arity=-2),e.defn(T,"$buffer_has_unclosed_quotes?",f=function(e){var t,n,$=this,r=a;return null==e&&(e=a),r=(""+$.buffer+e).$strip(),n=r["$start_with?"]('"'),t=n!==!1&&n!==a&&null!=n?r["$start_with?"]('""')["$!"]():n,t!==!1&&t!==a&&null!=t?r["$end_with?"]('"')["$!"]():t},f.$$arity=-1),e.defn(T,"$buffer_quoted?",h=function(){var e,t=this;return t.buffer=t.buffer.$lstrip(),e=t.buffer["$start_with?"]('"'),e!==!1&&e!==a&&null!=e?t.buffer["$start_with?"]('""')["$!"]():e},h.$$arity=0),e.defn(T,"$take_cellspec",g=function(){var e=this;return e.cellspecs.$shift()},g.$$arity=0),e.defn(T,"$push_cellspec",b=function(e){var t,n=this;return null==e&&(e=c([],{})),n.cellspecs["$<<"]((t=e)!==!1&&t!==a&&null!=t?t:c([],{})),a},b.$$arity=-1),e.defn(T,"$keep_cell_open",m=function(){var e=this;return e.cell_open=!0,a},m.$$arity=0),e.defn(T,"$mark_cell_closed",y=function(){var e=this;return e.cell_open=!1,a},y.$$arity=0),e.defn(T,"$cell_open?",v=function(){var e=this;return e.cell_open},v.$$arity=0),e.defn(T,"$cell_closed?",w=function(){var e=this;return e.cell_open["$!"]()},w.$$arity=0),e.defn(T,"$close_open_cell",k=function(e){var t,n=this;return null==e&&(e=c([],{})),n.$push_cellspec(e),(t=n["$cell_open?"]())===a||null==t||t.$$is_boolean&&1!=t||n.$close_cell(!0),n.$advance(),a},k.$$arity=-1),e.defn(T,"$close_cell",x=function(n){try{var $,r,o,s=this,u=a,p=a,d=a;return null==n&&(n=!1),u=s.buffer.$strip(),s.buffer="",s.format["$=="]("psv")?(p=s.$take_cellspec(),p!==!1&&p!==a&&null!=p?d=($=p.$delete("repeatcol"))!==!1&&$!==a&&null!=$?$:1:(s.$warn("asciidoctor: ERROR: "+s.last_cursor.$line_info()+": table missing leading separator, recovering automatically"),p=c([],{}),d=1)):(p=a,d=1,s.format["$=="]("csv")&&(r=u["$empty?"]()["$!"](),($=r!==!1&&r!==a&&null!=r?u["$include?"]('"'):r)===a||null==$||$.$$is_boolean&&1!=$||(r=u["$start_with?"]('"'),($=r!==!1&&r!==a&&null!=r?u["$end_with?"]('"'):r)===a||null==$||$.$$is_boolean&&1!=$||(u=u["$[]"](_(1,-1,!0)).$strip()),u=u.$tr_s('"','"')))),($=(r=1).$upto,$.$$p=(o=function($){var r,s,c,_,f,h,g=o.$$s||this,b=a,m=a,y=a,v=a;return null==g.colcount&&(g.colcount=a),null==g.table&&(g.table=a),null==g.current_row&&(g.current_row=a),null==g.last_cursor&&(g.last_cursor=a),null==g.reader&&(g.reader=a),null==g.column_visits&&(g.column_visits=a),null==g.linenum&&(g.linenum=a),null==$&&($=a),g.colcount["$=="](-1)?(g.table.$columns()["$<<"](b=C.get("Table").$$scope.get("Column").$new(g.table,l(i(g.table.$columns().$size(),$),1))),s=(c=p!==!1&&p!==a&&null!=p)?p["$key?"]("colspan"):p,(r=s!==!1&&s!==a&&null!=s?t(m=l(p["$[]"]("colspan").$to_i(),1),0):s)===a||null==r||r.$$is_boolean&&1!=r||(y=g.table.$columns().$size(),(r=(s=m).$times,r.$$p=(_=function(e){var t=_.$$s||this;return null==t.table&&(t.table=a),null==e&&(e=a),t.table.$columns()["$<<"](C.get("Table").$$scope.get("Column").$new(t.table,i(y,e)))},_.$$s=g,_.$$arity=1,_),r).call(s))):((r=b=g.table.$columns()["$[]"](g.current_row.$size()))===a||null==r||r.$$is_boolean&&1!=r)&&(g.$warn("asciidoctor: ERROR: "+g.last_cursor.$line_info()+": dropping cell because it exceeds specified number of columns"),e.ret(a)),v=C.get("Table").$$scope.get("Cell").$new(b,u,p,g.last_cursor),g.last_cursor=g.reader.$cursor(),((r=(c=v.$rowspan()["$!"]())!==!1&&c!==a&&null!=c?c:v.$rowspan()["$=="](1))===a||null==r||r.$$is_boolean&&1!=r)&&g.$activate_rowspan(v.$rowspan(),(r=v.$colspan())!==!1&&r!==a&&null!=r?r:1),g.column_visits=i(g.column_visits,(r=v.$colspan())!==!1&&r!==a&&null!=r?r:1),g.current_row["$<<"](v),c=g["$end_of_row?"](),(r=c!==!1&&c!==a&&null!=c?(f=(h=g.colcount["$!="](-1))!==!1&&h!==a&&null!=h?h:t(g.linenum,0))!==!1&&f!==a&&null!=f?f:(h=n!==!1&&n!==a&&null!=n)?$["$=="](d):n:c)===a||null==r||r.$$is_boolean&&1!=r?a:g.$close_row()},o.$$s=s,o.$$arity=1,o),$).call(r,d),s.cell_open=!1,a}catch(t){if(t===e.returner)return t.$v;throw t}},x.$$arity=-1),e.defn(T,"$close_row",E=function(){var e,t,n,$=this;return $.table.$rows().$body()["$<<"]($.current_row),$.colcount["$=="](-1)&&($.colcount=$.column_visits),$.column_visits=0,$.current_row=[],$.active_rowspans.$shift(),e=0,t=$.active_rowspans,(n=t["$[]"](e))!==!1&&n!==a&&null!=n?n:t["$[]="](e,0),a},E.$$arity=0),e.defn(T,"$activate_rowspan",A=function(e,t){var n,$,r,o=this;return(n=($=1..$upto(l(e,1))).$each,n.$$p=(r=function(e){var n,$=r.$$s||this;return null==$.active_rowspans&&($.active_rowspans=a),null==e&&(e=a),$.active_rowspans["$[]="](e,i((n=$.active_rowspans["$[]"](e))!==!1&&n!==a&&null!=n?n:0,t))},r.$$s=o,r.$$arity=1,r),n).call($),a},A.$$arity=2),e.defn(T,"$end_of_row?",O=function(){var e,t=this;return(e=t.colcount["$=="](-1))!==!1&&e!==a&&null!=e?e:t.$effective_column_visits()["$=="](t.colcount)},O.$$arity=0),e.defn(T,"$effective_column_visits",S=function(){var e=this;return i(e.column_visits,e.active_rowspans["$[]"](0))},S.$$arity=0),e.defn(T,"$advance",R=function(){var e=this;return e.linenum=i(e.linenum,1)},R.$$arity=0),a&&"advance"}(f.get("Table"),null)}(o.base)},function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>=t:e["$>="](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}var r,i=e.top,l=e,o=e.nil,a=(e.breaker,e.slice,e.gvars),s=e.module,u=e.hash2,c=e.range,_=e.hash;return null==a[":"]&&(a[":"]=o),e.add_stubs(["$==","$>=","$require","$unshift","$dirname","$new","$attr","$instance_variable_set","$send","$<<","$define","$expand_path","$join","$home","$[]","$pwd","$!","$!=","$default_external","$to_a","$bytes","$to_set","$map","$keys","$*","$dup","$[]=","$insert","$start","$===","$inject","$split","$gsub","$respond_to?","$each","$raise","$ancestors","$class","$path","$utc","$at","$to_i","$mtime","$readlines","$basename","$strftime","$rewind","$entries","$lines","$record","$parse","$exception","$message","$set_backtrace","$backtrace","$stack_trace=","$stack_trace","$load","$delete","$key?","$attributes","$outfilesuffix","$has_key?","$safe","$normalize_system_path","$directory?","$mkdir_p","$convert","$write","$<","$attr?","$uriish?","$include?","$write_primary_stylesheet","$instance","$empty?","$nil?","$read_asset","$open","$write_coderay_stylesheet","$write_pygments_stylesheet"]),((r=null!=l.RUBY_ENGINE)===o||null==r||r.$$is_boolean&&1!=r)&&e.cdecl(l,"RUBY_ENGINE","unknown"),e.cdecl(l,"RUBY_ENGINE_OPAL",l.get("RUBY_ENGINE")["$=="]("opal")),e.cdecl(l,"RUBY_ENGINE_JRUBY",l.get("RUBY_ENGINE")["$=="]("jruby")),e.cdecl(l,"RUBY_MIN_VERSION_1_9",t(l.get("RUBY_VERSION"),"1.9")),e.cdecl(l,"RUBY_MIN_VERSION_2",t(l.get("RUBY_VERSION"),"2")),i.$require("set"),l.get("RUBY_ENGINE")["$=="]("opal")&&i.$require("asciidoctor/opal_ext"),a[":"].$unshift(l.get("File").$dirname("asciidoctor")),function(r){var i,l,a,p,d=i=s(r,"Asciidoctor"),f=(d.$$proto,d.$$scope),h=o,g=o;e.cdecl(f,"RUBY_ENGINE",e.get("RUBY_ENGINE")),function(t){var n,$=n=s(t,"SafeMode"),r=($.$$proto,$.$$scope);e.cdecl(r,"UNSAFE",0),e.cdecl(r,"SAFE",1),e.cdecl(r,"SERVER",10),e.cdecl(r,"SECURE",20)}(f.base),function(t){var n,$,r=n=s(t,"Compliance");r.$$proto,r.$$scope;r.keys=e.get("Set").$new(),function(e){e.$$scope,e.$$proto;return e.$attr("keys")}(e.get_singleton_class(r)),e.defs(r,"$define",$=function(t,n){var $=this;return null==$.keys&&($.keys=o),$.$instance_variable_set("@"+t,n),function(e){e.$$scope,e.$$proto;return e}(e.get_singleton_class($)).$send("attr_accessor",t),$.keys["$<<"](t),o},$.$$arity=2),r.$define("block_terminates_paragraph",!0),r.$define("strict_verbatim_paragraphs",!0),r.$define("underline_style_section_titles",!0),r.$define("unwrap_standalone_preamble",!0),r.$define("attribute_missing","skip"),r.$define("attribute_undefined","drop-line"),r.$define("shorthand_property_syntax",!0),r.$define("unique_id_start_index",2),r.$define("markdown_syntax",!0)}(f.base),e.cdecl(f,"ROOT_PATH",e.get("File").$dirname(e.get("File").$dirname(e.get("File").$expand_path("asciidoctor")))),e.cdecl(f,"LIB_PATH",e.get("File").$join(f.get("ROOT_PATH"),"lib")),e.cdecl(f,"DATA_PATH",e.get("File").$join(f.get("ROOT_PATH"),"data"));try{e.cdecl(f,"USER_HOME",e.get("Dir").$home())}catch(t){if(!e.rescue(t,[f.get("StandardError")]))throw t;try{e.cdecl(f,"USER_HOME",(l=e.get("ENV")["$[]"]("HOME"))!==!1&&l!==o&&null!=l?l:e.get("Dir").$pwd())}finally{e.pop_exception()}}e.cdecl(f,"COERCE_ENCODING",(l=e.get("RUBY_ENGINE_OPAL")["$!"](),l!==!1&&l!==o&&null!=l?e.get("RUBY_MIN_VERSION_1_9"):l)),e.cdecl(f,"FORCE_ENCODING",(l=f.get("COERCE_ENCODING"),l!==!1&&l!==o&&null!=l?e.get("Encoding").$default_external()["$!="](e.get("Encoding").$$scope.get("UTF_8")):l)),e.cdecl(f,"BOM_BYTES_UTF_8","ï»¿".$bytes().$to_a()),e.cdecl(f,"BOM_BYTES_UTF_16LE","ÿþ".$bytes().$to_a()),e.cdecl(f,"BOM_BYTES_UTF_16BE","þÿ".$bytes().$to_a()),e.cdecl(f,"FORCE_UNICODE_LINE_LENGTH",e.get("RUBY_MIN_VERSION_1_9")["$!"]()),e.cdecl(f,"SUPPORTS_GSUB_RESULT_HASH",(l=e.get("RUBY_MIN_VERSION_1_9"),l!==!1&&l!==o&&null!=l?e.get("RUBY_ENGINE_OPAL")["$!"]():l)),e.cdecl(f,"EOL","\n"),e.cdecl(f,"NULL","\0"),e.cdecl(f,"TAB","\t"),e.cdecl(f,"DEFAULT_DOCTYPE","article"),e.cdecl(f,"DEFAULT_BACKEND","html5"),e.cdecl(f,"DEFAULT_STYLESHEET_KEYS",["","DEFAULT"].$to_set()),e.cdecl(f,"DEFAULT_STYLESHEET_NAME","asciidoctor.css"),e.cdecl(f,"BACKEND_ALIASES",u(["html","docbook"],{html:"html5",docbook:"docbook5"})),e.cdecl(f,"DEFAULT_PAGE_WIDTHS",u(["docbook"],{docbook:425})),e.cdecl(f,"DEFAULT_EXTENSIONS",u(["html","docbook","pdf","epub","asciidoc"],{html:".html",docbook:".xml",pdf:".pdf",epub:".epub",asciidoc:".adoc"})),e.cdecl(f,"ASCIIDOC_EXTENSIONS",u([".asciidoc",".adoc",".ad",".asc",".txt"],{".asciidoc":!0,".adoc":!0,".ad":!0,".asc":!0,".txt":!0})),e.cdecl(f,"SECTION_LEVELS",u(["=","-","~","^","+"],{"=":0,"-":1,"~":2,"^":3,"+":4})),e.cdecl(f,"ADMONITION_STYLES",["NOTE","TIP","IMPORTANT","WARNING","CAUTION"].$to_set()),e.cdecl(f,"PARAGRAPH_STYLES",["comment","example","literal","listing","normal","pass","quote","sidebar","source","verse","abstract","partintro"].$to_set()),e.cdecl(f,"VERBATIM_STYLES",["literal","listing","source","verse"].$to_set()),e.cdecl(f,"DELIMITED_BLOCKS",u(["--","----","....","====","****","____",'""',"++++","|===",",===",":===","!===","////","```"],{"--":["open",["comment","example","literal","listing","pass","quote","sidebar","source","verse","admonition","abstract","partintro"].$to_set()],"----":["listing",["literal","source"].$to_set()],"....":["literal",["listing","source"].$to_set()],"====":["example",["admonition"].$to_set()],"****":["sidebar",e.get("Set").$new()],____:["quote",["verse"].$to_set()],'""':["quote",["verse"].$to_set()],"++++":["pass",["stem","latexmath","asciimath"].$to_set()],"|===":["table",e.get("Set").$new()],",===":["table",e.get("Set").$new()],":===":["table",e.get("Set").$new()],"!===":["table",e.get("Set").$new()],"////":["comment",e.get("Set").$new()],"```":["fenced_code",e.get("Set").$new()]})),e.cdecl(f,"DELIMITED_BLOCK_LEADERS",(l=(a=f.get("DELIMITED_BLOCKS").$keys()).$map,l.$$p=(p=function(e){p.$$s||this;return null==e&&(e=o),e["$[]"](c(0,1,!1))},p.$$s=d,p.$$arity=1,p),l).call(a).$to_set()),e.cdecl(f,"LAYOUT_BREAK_LINES",u(["'","-","*","_","<"],{"'":"thematic_break","-":"thematic_break","*":"thematic_break",_:"thematic_break","<":"page_break"})),e.cdecl(f,"NESTABLE_LIST_CONTEXTS",["ulist","olist","dlist"]),e.cdecl(f,"ORDERED_LIST_STYLES",["arabic","loweralpha","lowerroman","upperalpha","upperroman"]),e.cdecl(f,"ORDERED_LIST_KEYWORDS",u(["loweralpha","lowerroman","upperalpha","upperroman"],{loweralpha:"a",lowerroman:"i",upperalpha:"A",upperroman:"I"})),e.cdecl(f,"LIST_CONTINUATION","+"),e.cdecl(f,"LINE_BREAK"," +"),e.cdecl(f,"LINE_CONTINUATION"," \\"),e.cdecl(f,"LINE_CONTINUATION_LEGACY"," +"),e.cdecl(f,"BLOCK_MATH_DELIMITERS",u(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\[","\\]"]})),e.cdecl(f,"INLINE_MATH_DELIMITERS",u(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\(","\\)"]})),e.cdecl(f,"FLEXIBLE_ATTRIBUTES",["sectnums"]),f.get("RUBY_ENGINE")["$=="]("opal")&&(e.cdecl(f,"CC_ALPHA","a-zA-Z"),e.cdecl(f,"CG_ALPHA","[a-zA-Z]"),e.cdecl(f,"CC_ALNUM","a-zA-Z0-9"),e.cdecl(f,"CG_ALNUM","[a-zA-Z0-9]"),e.cdecl(f,"CG_BLANK","[ \\t]"),e.cdecl(f,"CC_EOL","(?=\\n|$)"),e.cdecl(f,"CG_GRAPH","[\\x21-\\x7E]"),e.cdecl(f,"CC_ALL","[\\s\\S]"),e.cdecl(f,"CC_WORD","a-zA-Z0-9_"),e.cdecl(f,"CG_WORD","[a-zA-Z0-9_]")),e.cdecl(f,"AuthorInfoLineRx",new RegExp("^("+f.get("CG_WORD")+"["+f.get("CC_WORD")+"\\-'.]*)(?: +("+f.get("CG_WORD")+"["+f.get("CC_WORD")+"\\-'.]*))?(?: +("+f.get("CG_WORD")+"["+f.get("CC_WORD")+"\\-'.]*))?(?: +<([^>]+)>)?$")),e.cdecl(f,"RevisionInfoLineRx",/^(?:\D*(.*?),)?(?:\s*(?!:)(.*?))(?:\s*(?!^):\s*(.*))?$/),e.cdecl(f,"ManpageTitleVolnumRx",/^(.*)\((.*)\)$/),e.cdecl(f,"ManpageNamePurposeRx",new RegExp("^(.*?)"+f.get("CG_BLANK")+"+-"+f.get("CG_BLANK")+"+(.*)$")),e.cdecl(f,"ConditionalDirectiveRx",/^\\?(ifdef|ifndef|ifeval|endif)::(\S*?(?:([,\+])\S+?)?)\[(.+)?\]$/),e.cdecl(f,"EvalExpressionRx",new RegExp("^(\\S.*?)"+f.get("CG_BLANK")+"*(==|!=|<=|>=|<|>)"+f.get("CG_BLANK")+"*(\\S.*)$")),e.cdecl(f,"IncludeDirectiveRx",/^\\?include::([^\[]+)\[(.*?)\]$/),e.cdecl(f,"TagDirectiveRx",/\b(?:tag|end)::\S+\[\]$/),e.cdecl(f,"AttributeEntryRx",new RegExp("^:(!?\\w.*?):(?:"+f.get("CG_BLANK")+"+(.*))?$")),e.cdecl(f,"InvalidAttributeNameCharsRx",/[^\w\-]/),e.cdecl(f,"AttributeEntryPassMacroRx",/^pass:([a-z,]*)\[(.*)\]$/),e.cdecl(f,"AttributeReferenceRx",/(\\)?\{((set|counter2?):.+?|\w+(?:[\-]\w+)*)(\\)?\}/),e.cdecl(f,"BlockAnchorRx",new RegExp("^\\[\\[(?:|(["+f.get("CC_ALPHA")+":_]["+f.get("CC_WORD")+":.-]*)(?:,"+f.get("CG_BLANK")+"*(\\S.*))?)\\]\\]$")),e.cdecl(f,"BlockAttributeListRx",new RegExp("^\\[(|"+f.get("CG_BLANK")+"*["+f.get("CC_WORD")+"\\{,.#\"'%].*)\\]$")),e.cdecl(f,"BlockAttributeLineRx",new RegExp("^\\[(|"+f.get("CG_BLANK")+"*["+f.get("CC_WORD")+"\\{,.#\"'%].*|\\[(?:|["+f.get("CC_ALPHA")+":_]["+f.get("CC_WORD")+":.-]*(?:,"+f.get("CG_BLANK")+"*\\S.*)?)\\])\\]$")),e.cdecl(f,"BlockTitleRx",/^\.([^\s.].*)$/),e.cdecl(f,"AdmonitionParagraphRx",new RegExp("^("+n(f.get("ADMONITION_STYLES").$to_a(),"|")+"):"+f.get("CG_BLANK"))),e.cdecl(f,"LiteralParagraphRx",new RegExp("^("+f.get("CG_BLANK")+"+.*)$")),e.cdecl(f,"CommentBlockRx",/^\/{4,}$/),e.cdecl(f,"CommentLineRx",/^\/\/(?:[^\/]|$)/),e.cdecl(f,"AtxSectionRx",new RegExp("^((?:=|#){1,6})"+f.get("CG_BLANK")+"+(\\S.*?)(?:"+f.get("CG_BLANK")+"+\\1)?$")),e.cdecl(f,"SetextSectionTitleRx",new RegExp("^((?=.*"+f.get("CG_WORD")+"+.*)[^.].*?)$")),e.cdecl(f,"SetextSectionLineRx",/^(?:=|-|~|\^|\+)+$/),e.cdecl(f,"InlineSectionAnchorRx",new RegExp("^(.*?)"+f.get("CG_BLANK")+"+(\\\\)?\\[\\[(["+f.get("CC_ALPHA")+":_]["+f.get("CC_WORD")+":.-]*)(?:,"+f.get("CG_BLANK")+"*(\\S.*?))?\\]\\]$")),e.cdecl(f,"InvalidSectionIdCharsRx",new RegExp("&(?:[a-zA-Z]{2,}|#\\d{2,6}|#x[a-fA-F0-9]{2,5});|[^"+f.get("CC_WORD")+"]+?")),e.cdecl(f,"FloatingTitleStyleRx",/^(?:float|discrete)\b/),e.cdecl(f,"AnyListRx",new RegExp("^(?:"+f.get("CG_BLANK")+"*(?:-|([*.\\u2022])\\1{0,4}|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))"+f.get("CG_BLANK")+"|"+f.get("CG_BLANK")+"*.*?(?::{2,4}|;;)(?:$|"+f.get("CG_BLANK")+")|<?\\d+>"+f.get("CG_BLANK")+")")),e.cdecl(f,"UnorderedListRx",new RegExp("^"+f.get("CG_BLANK")+"*(-|\\*{1,5}|\\u2022{1,5})"+f.get("CG_BLANK")+"+(.*)$")),e.cdecl(f,"OrderedListRx",new RegExp("^"+f.get("CG_BLANK")+"*(\\.{1,5}|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))"+f.get("CG_BLANK")+"+(.*)$")),e.cdecl(f,"OrderedListMarkerRxMap",u(["arabic","loweralpha","lowerroman","upperalpha","upperroman"],{arabic:/\d+[.>]/,loweralpha:/[a-z]\./,lowerroman:/[ivx]+\)/,upperalpha:/[A-Z]\./,upperroman:/[IVX]+\)/})),e.cdecl(f,"DescriptionListRx",new RegExp("^(?!\\/\\/)"+f.get("CG_BLANK")+"*(.*?)(:{2,4}|;;)(?:"+f.get("CG_BLANK")+"+(.*))?$")),e.cdecl(f,"DescriptionListSiblingRx",u(["::",":::","::::",";;"],{"::":new RegExp("^(?!\\/\\/)"+f.get("CG_BLANK")+"*((?:.*[^:])?)(::)(?:"+f.get("CG_BLANK")+"+(.*))?$"),":::":new RegExp("^(?!\\/\\/)"+f.get("CG_BLANK")+"*((?:.*[^:])?)(:::)(?:"+f.get("CG_BLANK")+"+(.*))?$"),"::::":new RegExp("^(?!\\/\\/)"+f.get("CG_BLANK")+"*((?:.*[^:])?)(::::)(?:"+f.get("CG_BLANK")+"+(.*))?$"),";;":new RegExp("^(?!\\/\\/)"+f.get("CG_BLANK")+"*(.*)(;;)(?:"+f.get("CG_BLANK")+"+(.*))?$")})),e.cdecl(f,"CalloutListRx",new RegExp("^<?(\\d+)>"+f.get("CG_BLANK")+"+(.*)$")),e.cdecl(f,"CalloutExtractRx",/(?:(?:\/\/|#|--|;;) ?)?(\\)?<!?(--|)(\d+)\2>(?=(?: ?\\?<!?\2\d+\2>)*$)/),e.cdecl(f,"CalloutExtractRxt","(\\\\)?<()(\\d+)>(?=(?: ?\\\\?<\\d+>)*$)"),e.cdecl(f,"CalloutQuickScanRx",new RegExp("\\\\?<!?(--|)(\\d+)\\1>(?=(?: ?\\\\?<!?\\1\\d+\\1>)*"+f.get("CC_EOL")+")")),e.cdecl(f,"CalloutSourceRx",new RegExp("(?:(?:\\/\\/|#|--|;;) ?)?(\\\\)?&lt;!?(--|)(\\d+)\\2&gt;(?=(?: ?\\\\?&lt;!?\\2\\d+\\2&gt;)*"+f.get("CC_EOL")+")")),e.cdecl(f,"CalloutSourceRxt","(\\\\)?&lt;()(\\d+)&gt;(?=(?: ?\\\\?&lt;\\d+&gt;)*"+f.get("CC_EOL")+")"),e.cdecl(f,"ListRxMap",u(["ulist","olist","dlist","colist"],{ulist:f.get("UnorderedListRx"),olist:f.get("OrderedListRx"),dlist:f.get("DescriptionListRx"),colist:f.get("CalloutListRx")})),e.cdecl(f,"ColumnSpecRx",/^(?:(\d+)\*)?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?(\d+%?)?([a-z])?$/),e.cdecl(f,"CellSpecStartRx",new RegExp("^"+f.get("CG_BLANK")+"*(?:(\\d+(?:\\.\\d*)?|(?:\\d*\\.)?\\d+)([*+]))?([<^>](?:\\.[<^>]?)?|(?:[<^>]?\\.)?[<^>])?([a-z])?$")),e.cdecl(f,"CellSpecEndRx",new RegExp(""+f.get("CG_BLANK")+"+(?:(\\d+(?:\\.\\d*)?|(?:\\d*\\.)?\\d+)([*+]))?([<^>](?:\\.[<^>]?)?|(?:[<^>]?\\.)?[<^>])?([a-z])?$")),e.cdecl(f,"GenericBlockMacroRx",new RegExp("^("+f.get("CG_WORD")+"+)::(\\S*?)\\[((?:\\\\\\]|[^\\]])*?)\\]$")),e.cdecl(f,"MediaBlockMacroRx",/^(image|video|audio)::(\S+?)\[((?:\\\]|[^\]])*?)\]$/),e.cdecl(f,"TocBlockMacroRx",/^toc::\[(.*?)\]$/),e.cdecl(f,"InlineAnchorRx",new RegExp("\\\\?(?:\\[\\[(["+f.get("CC_ALPHA")+":_]["+f.get("CC_WORD")+":.-]*)(?:,"+f.get("CG_BLANK")+"*(\\S.*?))?\\]\\]|anchor:(\\S+)\\[(.*?[^\\\\])?\\])")),e.cdecl(f,"InlineBiblioAnchorRx",new RegExp("\\\\?\\[\\[\\[(["+f.get("CC_WORD")+":]["+f.get("CC_WORD")+":.-]*?)\\]\\]\\]")),e.cdecl(f,"EmailInlineMacroRx",new RegExp("([\\\\>:\\/])?"+f.get("CG_WORD")+"["+f.get("CC_WORD")+".%+-]*@"+f.get("CG_ALNUM")+"["+f.get("CC_ALNUM")+".-]*\\."+f.get("CG_ALPHA")+"{2,4}\\b")),e.cdecl(f,"FootnoteInlineMacroRx",new RegExp("\\\\?(footnote(?:ref)?):\\[("+f.get("CC_ALL")+"*?[^\\\\])\\]")),e.cdecl(f,"ImageInlineMacroRx",/\\?(?:image|icon):([^:\[][^\[]*)\[((?:\\\]|[^\]])*?)\]/),e.cdecl(f,"IndextermInlineMacroRx",new RegExp("\\\\?(?:(indexterm2?):\\[("+f.get("CC_ALL")+"*?[^\\\\])\\]|\\(\\(("+f.get("CC_ALL")+"+?)\\)\\)(?!\\)))")),e.cdecl(f,"KbdBtnInlineMacroRx",/\\?(?:kbd|btn):\[((?:\\\]|[^\]])+?)\]/),e.cdecl(f,"KbdDelimiterRx",new RegExp("(?:\\+|,)(?="+f.get("CG_BLANK")+"*[^\\1])")),e.cdecl(f,"LinkInlineRx",/(^|link:|&lt;|[\s>\(\)\[\];])(\\?(?:https?|file|ftp|irc):\/\/[^\s\[\]<]*[^\s.,\[\]<])(?:\[((?:\\\]|[^\]])*?)\])?/),e.cdecl(f,"LinkInlineMacroRx",/\\?(?:link|mailto):([^\s\[]+)(?:\[((?:\\\]|[^\]])*?)\])/),e.cdecl(f,"StemInlineMacroRx",new RegExp("\\\\?(stem|(?:latex|ascii)math):([a-z,]*)\\[("+f.get("CC_ALL")+"*?[^\\\\])\\]")),e.cdecl(f,"MenuInlineMacroRx",new RegExp("\\\\?menu:("+f.get("CG_WORD")+"|"+f.get("CG_WORD")+".*?\\S)\\["+f.get("CG_BLANK")+"*(.+?)?\\]")),e.cdecl(f,"MenuInlineRx",new RegExp('\\\\?"('+f.get("CG_WORD")+'[^"]*?'+f.get("CG_BLANK")+"*&gt;"+f.get("CG_BLANK")+'*[^" \\t][^"]*)"')),e.cdecl(f,"PassInlineRx",_(!1,["+","`",new RegExp("(^|[^"+f.get("CC_WORD")+";:])(?:\\[([^\\]]+?)\\])?(\\\\?(\\+|`)(\\S|\\S"+f.get("CC_ALL")+"*?\\S)\\4)(?!"+f.get("CG_WORD")+")")],!0,["`",o,new RegExp("(^|[^`"+f.get("CC_WORD")+"])(?:\\[([^\\]]+?)\\])?(\\\\?(`)([^`\\s]|[^`\\s]"+f.get("CC_ALL")+"*?\\S)\\4)(?![`"+f.get("CC_WORD")+"])")])),e.cdecl(f,"PassInlineMacroRx",new RegExp("(?:(?:(\\\\?)\\[([^\\]]+?)\\])?(\\\\{0,2})(\\+{2,3}|\\${2})("+f.get("CC_ALL")+"*?)\\4|(\\\\?)pass:([a-z,]*)\\[("+f.get("CC_ALL")+"*?[^\\\\])\\])")),e.cdecl(f,"XrefInlineMacroRx",new RegExp("\\\\?(?:&lt;&lt;(["+f.get("CC_WORD")+'":.\\/]'+f.get("CC_ALL")+"*?)&gt;&gt;|xref:(["+f.get("CC_WORD")+'":.\\/]'+f.get("CC_ALL")+"*?)\\[("+f.get("CC_ALL")+"*?)\\])")),f.get("RUBY_ENGINE")["$=="]("opal")&&e.cdecl(f,"LineBreakRx",/^(.*)[ \t]\+$/m),e.cdecl(f,"LayoutBreakLineRx",/^('|<){3,}$/),e.cdecl(f,"LayoutBreakLinePlusRx",/^(?:'|<){3,}$|^ {0,3}([-\*_])( *)\1\2\1$/),e.cdecl(f,"BlankLineRx",new RegExp("^"+f.get("CG_BLANK")+"*\\n")),e.cdecl(f,"DataDelimiterRx",/,|;/),e.cdecl(f,"DoubleQuotedRx",/^("|)(.*)\1$/),e.cdecl(f,"DoubleQuotedMultiRx",new RegExp('^("|)('+f.get("CC_ALL")+"*)\\1$")),e.cdecl(f,"TrailingDigitsRx",/\d+$/),e.cdecl(f,"EscapedSpaceRx",new RegExp("\\\\("+f.get("CG_BLANK")+")")),e.cdecl(f,"SpaceDelimiterRx",new RegExp("([^\\\\])"+f.get("CG_BLANK")+"+")),e.cdecl(f,"SubModifierSniffRx",/[+-]/),e.cdecl(f,"UnicodeCharScanRx",function(){return f.get("RUBY_ENGINE")["$=="]("opal")?o:o}()),e.cdecl(f,"UriSniffRx",new RegExp("^"+f.get("CG_ALPHA")+"["+f.get("CC_ALNUM")+".+-]+:/{0,2}")),e.cdecl(f,"UriTerminator",/[);:]$/),e.cdecl(f,"XmlSanitizeRx",/<[^>]+>/),e.cdecl(f,"INTRINSIC_ATTRIBUTES",u(["startsb","endsb","vbar","caret","asterisk","tilde","plus","backslash","backtick","blank","empty","sp","two-colons","two-semicolons","nbsp","deg","zwsp","quot","apos","lsquo","rsquo","ldquo","rdquo","wj","brvbar","cpp","amp","lt","gt"],{startsb:"[",endsb:"]",vbar:"|",caret:"^",asterisk:"*",tilde:"~",plus:"&#43;",backslash:"\\",backtick:"`",blank:"",empty:"",sp:" ","two-colons":"::","two-semicolons":";;",nbsp:"&#160;",deg:"&#176;",zwsp:"&#8203;",quot:"&#34;",apos:"&#39;",lsquo:"&#8216;",rsquo:"&#8217;",ldquo:"&#8220;",rdquo:"&#8221;",wj:"&#8288;",brvbar:"&#166;",cpp:"C++",amp:"&",lt:"<",gt:">"})),h=[["strong","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?\\*\\*("+f.get("CC_ALL")+"+?)\\*\\*")],["strong","constrained",new RegExp("(^|[^"+f.get("CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?\\*(\\S|\\S"+f.get("CC_ALL")+"*?\\S)\\*(?!"+f.get("CG_WORD")+")")],["double","constrained",new RegExp("(^|[^"+f.get("CC_WORD")+';:}])(?:\\[([^\\]]+?)\\])?"`(\\S|\\S'+f.get("CC_ALL")+'*?\\S)`"(?!'+f.get("CG_WORD")+")")],["single","constrained",new RegExp("(^|[^"+f.get("CC_WORD")+";:`}])(?:\\[([^\\]]+?)\\])?'`(\\S|\\S"+f.get("CC_ALL")+"*?\\S)`'(?!"+f.get("CG_WORD")+")")],["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?``("+f.get("CC_ALL")+"+?)``")],["monospaced","constrained",new RegExp("(^|[^"+f.get("CC_WORD")+";:\"'`}])(?:\\[([^\\]]+?)\\])?`(\\S|\\S"+f.get("CC_ALL")+"*?\\S)`(?!["+f.get("CC_WORD")+"\"'`])")],["emphasis","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?__("+f.get("CC_ALL")+"+?)__")],["emphasis","constrained",new RegExp("(^|[^"+f.get("CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?_(\\S|\\S"+f.get("CC_ALL")+"*?\\S)_(?!"+f.get("CG_WORD")+")")],["mark","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?##("+f.get("CC_ALL")+"+?)##")],["mark","constrained",new RegExp("(^|[^"+f.get("CC_WORD")+"&;:}])(?:\\[([^\\]]+?)\\])?#(\\S|\\S"+f.get("CC_ALL")+"*?\\S)#(?!"+f.get("CG_WORD")+")")],["superscript","unconstrained",/\\?(?:\[([^\]]+?)\])?\^(\S+?)\^/],["subscript","unconstrained",/\\?(?:\[([^\]]+?)\])?~(\S+?)~/]],g=h.$dup(),g["$[]="](2,["double","constrained",new RegExp("(^|[^"+f.get("CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?``(\\S|\\S"+f.get("CC_ALL")+"*?\\S)''(?!"+f.get("CG_WORD")+")")]),g["$[]="](3,["single","constrained",new RegExp("(^|[^"+f.get("CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?`(\\S|\\S"+f.get("CC_ALL")+"*?\\S)'(?!"+f.get("CG_WORD")+")")]),g["$[]="](4,["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?\\+\\+("+f.get("CC_ALL")+"+?)\\+\\+")]),g["$[]="](5,["monospaced","constrained",new RegExp("(^|[^"+f.get("CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?\\+(\\S|\\S"+f.get("CC_ALL")+"*?\\S)\\+(?!"+f.get("CG_WORD")+")")]),g.$insert(3,["emphasis","constrained",new RegExp("(^|[^"+f.get("CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?'(\\S|\\S"+f.get("CC_ALL")+"*?\\S)'(?!"+f.get("CG_WORD")+")")]),e.cdecl(f,"QUOTE_SUBS",_(!1,h,!0,g)),h=o,g=o,e.cdecl(f,"REPLACEMENTS",[[/\\?\(C\)/,"&#169;","none"],[/\\?\(R\)/,"&#174;","none"],[/\\?\(TM\)/,"&#8482;","none"],[/(^|\n| |\\)--( |\n|$)/,"&#8201;&#8212;&#8201;","none"],[new RegExp("("+f.get("CG_WORD")+")\\\\?--(?="+f.get("CG_WORD")+")"),"&#8212;&#8203;","leading"],[/\\?\.\.\./,"&#8230;&#8203;","leading"],[/\\?`'/,"&#8217;","none"],[new RegExp("("+f.get("CG_ALNUM")+")\\\\?'(?="+f.get("CG_ALPHA")+")"),"&#8217;","leading"],[/\\?-&gt;/,"&#8594;","none"],[/\\?=&gt;/,"&#8658;","none"],[/\\?&lt;-/,"&#8592;","none"],[/\\?&lt;=/,"&#8656;","none"],[/\\?(&)amp;((?:[a-zA-Z]{2,}|#\d{2,6}|#x[a-fA-F0-9]{2,5});)/,"","bounding"]]),function(n){var r,i,l,a,s=n.$$scope;n.$$proto;return e.defn(n,"$load",r=function(t,n){var $,r,i,l,a,c,_,p,d,f=this,h=o,g=o,b=o,m=o,y=o,v=o,w=o,k=o,x=o,E=o,A=o,O=o,S=o,R=o;null==n&&(n=u([],{}));try{if(n=n.$dup(),($=h=n["$[]"]("timings"))===o||null==$||$.$$is_boolean&&1!=$||h.$start("read"),g=n["$[]="]("attributes",function(){return($=(b=n["$[]"]("attributes"))["$!"]())===o||null==$||$.$$is_boolean&&1!=$?($=(r=e.get("Hash")["$==="](b))!==!1&&r!==o&&null!=r?r:(i=e.get("RUBY_ENGINE_JRUBY"),i!==!1&&i!==o&&null!=i?e.get("Java").$$scope.get("JavaUtil").$$scope.get("Map")["$==="](b):i))===o||null==$||$.$$is_boolean&&1!=$?($=e.get("Array")["$==="](b))===o||null==$||$.$$is_boolean&&1!=$?($=e.get("String")["$==="](b))===o||null==$||$.$$is_boolean&&1!=$?(c=b["$respond_to?"]("keys"),($=c!==!1&&c!==o&&null!=c?b["$respond_to?"]("[]"):c)===o||null==$||$.$$is_boolean&&1!=$?f.$raise(e.get("ArgumentError"),"illegal type for attributes option: "+b.$class().$ancestors()):(y=b,b=u([],{}),($=(c=y.$keys()).$each,$.$$p=(_=function(e){_.$$s||this;return null==e&&(e=o),b["$[]="](e,y["$[]"](e))},_.$$s=f,_.$$arity=1,_),$).call(c),b)):(m="\\1",b=b.$gsub(s.get("SpaceDelimiterRx"),""+m+s.get("NULL")).$gsub(s.get("EscapedSpaceRx"),m),($=(i=b.$split(s.get("NULL"))).$inject,$.$$p=(a=function(t,n){var $,r,i=(a.$$s||this,o),l=o;return null==t&&(t=o),null==n&&(n=o),r=n.$split("=",2),$=e.to_ary(r),i=null==$[0]?o:$[0],l=null==$[1]?o:$[1],r,t["$[]="](i,($=l)!==!1&&$!==o&&null!=$?$:""),t},a.$$s=f,a.$$arity=2,a),$).call(i,u([],{}))):($=(r=b).$inject,$.$$p=(l=function(t,n){var $,r,i=(l.$$s||this,o),a=o;return null==t&&(t=o),null==n&&(n=o),r=n.$split("=",2),$=e.to_ary(r),i=null==$[0]?o:$[0],a=null==$[1]?o:$[1],r,t["$[]="](i,($=a)!==!1&&$!==o&&null!=$?$:""),t},l.$$s=f,l.$$arity=2,l),$).call(r,u([],{})):b.$dup():u([],{})}()),v=o,($=e.get("File")["$==="](t))===o||null==$||$.$$is_boolean&&1!=$)if(($=t["$respond_to?"]("readlines"))===o||null==$||$.$$is_boolean&&1!=$)($=e.get("String")["$==="](t))===o||null==$||$.$$is_boolean&&1!=$?($=e.get("Array")["$==="](t))===o||null==$||$.$$is_boolean&&1!=$?f.$raise(e.get("ArgumentError"),"unsupported input type: "+t.$class()):v=t.$dup():v=t.$lines().$entries();else{try{t.$rewind()}catch(t){if(!e.rescue(t,[s.get("StandardError")]))throw t;try{}finally{e.pop_exception()}}v=t.$readlines()}else w=e.get("File").$expand_path(t.$path()),k=function(){return($=e.get("ENV")["$[]"]("SOURCE_DATE_EPOCH"))===o||null==$||$.$$is_boolean&&1!=$?t.$mtime():e.get("Time").$at(e.get("ENV")["$[]"]("SOURCE_DATE_EPOCH").$to_i()).$utc()}(),v=t.$readlines(),g["$[]="]("docfile",w),g["$[]="]("docdir",e.get("File").$dirname(w)),g["$[]="]("docname",s.get("Helpers").$basename(w,!0)),$="docdate",p=g,x=(d=p["$[]"]($))!==!1&&d!==o&&null!=d?d:p["$[]="]($,k.$strftime("%Y-%m-%d")),$="doctime",p=g,E=(d=p["$[]"]($))!==!1&&d!==o&&null!=d?d:p["$[]="]($,k.$strftime("%H:%M:%S %Z")),g["$[]="]("docdatetime",""+x+" "+E);return h!==!1&&h!==o&&null!=h&&(h.$record("read"),h.$start("parse")),A=n["$[]"]("parse")["$=="](!1)?s.get("Document").$new(v,n):s.get("Document").$new(v,n).$parse(),h!==!1&&h!==o&&null!=h&&h.$record("parse"),A}catch(t){if(!e.rescue(t,[s.get("StandardError")]))throw t;O=t;try{try{S="asciidoctor: FAILED: "+(($=g["$[]"]("docfile"))!==!1&&$!==o&&null!=$?$:"<stdin>")+": Failed to load AsciiDoc document",($=O["$respond_to?"]("exception"))===o||null==$||$.$$is_boolean&&1!=$?(R=O.$class().$new(S,O),$=[O.$stack_trace()],p=R,p["$stack_trace="].apply(p,$),$[$.length-1]):(R=O.$exception(""+S+" - "+O.$message()),R.$set_backtrace(O.$backtrace()))}catch(t){if(!e.rescue(t,[s.get("StandardError")]))throw t;try{R=O}finally{e.pop_exception()}}return f.$raise(R)}finally{e.pop_exception()}}},r.$$arity=-2),e.defn(n,"$load_file",i=function(t,n){var $,r=this;return null==n&&(n=u([],{})),r.$load(e.get("File").$new(($=t)!==!1&&$!==o&&null!=$?$:""),n)},i.$$arity=-2),e.defn(n,"$convert",l=function(n,r){var i,l,a,c,_,p,d,f=this,h=o,g=o,b=o,m=o,y=o,v=o,w=o,k=o,x=o,E=o,A=o,O=o,S=o,R=o,T=o,I=o,C=o,N=o,M=o,L=o,z=o,P=o,D=o,B=o,q=o,j=o;if(null==r&&(r=u([],{})),r=r.$dup(),r.$delete("parse"),h=r.$delete("to_file"),g=r.$delete("to_dir"),b=(i=r.$delete("mkdirs"))!==!1&&i!==o&&null!=i&&i,m=r["$[]"]("timings"),y=h,(!0)["$==="](y)||o["$==="](y))i=g["$!"](),v=i!==!1&&i!==o&&null!=i?e.get("File")["$==="](n):i,w=!1,k=g,h=o;else if((!1)["$==="](y))v=!1,w=!1,k=!1,h=o;else{if("/dev/null"["$==="](y))return f.$load(n,r);v=!1,w=h["$respond_to?"]("write"),k=function(){return(w===!1||w===o||null==w)&&h}()}return((i=r["$key?"]("header_footer"))===o||null==i||i.$$is_boolean&&1!=i)&&((i=(l=v)!==!1&&l!==o&&null!=l?l:k)===o||null==i||i.$$is_boolean&&1!=i||r["$[]="]("header_footer",!0)),v!==!1&&v!==o&&null!=v?(x=e.get("File").$expand_path(n.$path()),r["$[]="]("to_dir",E=e.get("File").$dirname(x))):k!==!1&&k!==o&&null!=k?g!==!1&&g!==o&&null!=g?h!==!1&&h!==o&&null!=h?r["$[]="]("to_dir",e.get("File").$dirname(e.get("File").$expand_path(e.get("File").$join(g,h)))):r["$[]="]("to_dir",e.get("File").$expand_path(g)):h!==!1&&h!==o&&null!=h&&r["$[]="]("to_dir",e.get("File").$dirname(e.get("File").$expand_path(h))):r["$[]="]("to_dir",o),A=f.$load(n,r),v!==!1&&v!==o&&null!=v?(O=e.get("File").$join(E,""+A.$attributes()["$[]"]("docname")+A.$outfilesuffix()),O["$=="](x)&&f.$raise(e.get("IOError"),"input file and output file cannot be the same: "+O)):k!==!1&&k!==o&&null!=k?(S=function(){return(i=r["$has_key?"]("base_dir"))===o||null==i||i.$$is_boolean&&1!=i?e.get("File").$expand_path(e.get("Dir").$pwd()):e.get("File").$expand_path(r["$[]"]("base_dir"))}(),R=function(){return(i=t(A.$safe(),s.get("SafeMode").$$scope.get("SAFE")))===o||null==i||i.$$is_boolean&&1!=i?o:S}(),g!==!1&&g!==o&&null!=g?(E=A.$normalize_system_path(g,S,R,u(["target_name","recover"],{target_name:"to_dir",recover:!1})),h!==!1&&h!==o&&null!=h?(O=A.$normalize_system_path(h,E,o,u(["target_name","recover"],{target_name:"to_dir",recover:!1})),E=e.get("File").$dirname(O)):O=e.get("File").$join(E,""+A.$attributes()["$[]"]("docname")+A.$outfilesuffix())):h!==!1&&h!==o&&null!=h&&(O=A.$normalize_system_path(h,S,R,u(["target_name","recover"],{target_name:"to_dir",recover:!1})),E=e.get("File").$dirname(O)),((i=e.get("File")["$directory?"](E))===o||null==i||i.$$is_boolean&&1!=i)&&(b!==!1&&b!==o&&null!=b?s.get("Helpers").$mkdir_p(E):f.$raise(e.get("IOError"),"target directory does not exist: "+g))):(O=h,E=o),m!==!1&&m!==o&&null!=m&&m.$start("convert"),T=function(){return(i=(l=O!==!1&&O!==o&&null!=O)?w["$!"]():O)===o||null==i||i.$$is_boolean&&1!=i?u([],{}):u(["outfile","outdir"],{outfile:O,outdir:E})}(),
I=A.$convert(T),m!==!1&&m!==o&&null!=m&&m.$record("convert"),O!==!1&&O!==o&&null!=O?(m!==!1&&m!==o&&null!=m&&m.$start("write"),A.$write(I,O),m!==!1&&m!==o&&null!=m&&m.$record("write"),p=w["$!"](),_=p!==!1&&p!==o&&null!=p?$(A.$safe(),s.get("SafeMode").$$scope.get("SECURE")):p,c=_!==!1&&_!==o&&null!=_?A["$attr?"]("linkcss"):_,a=c!==!1&&c!==o&&null!=c?A["$attr?"]("copycss"):c,l=a!==!1&&a!==o&&null!=a?A["$attr?"]("basebackend-html"):a,(i=l!==!1&&l!==o&&null!=l?(a=C=A.$attr("stylesdir"),a!==!1&&a!==o&&null!=a?s.get("Helpers")["$uriish?"](C):a)["$!"]():l)===o||null==i||i.$$is_boolean&&1!=i||(N=!1,M=!1,(i=L=A.$attr("stylesheet"))===o||null==i||i.$$is_boolean&&1!=i||((i=s.get("DEFAULT_STYLESHEET_KEYS")["$include?"](L))===o||null==i||i.$$is_boolean&&1!=i?(i=s.get("Helpers")["$uriish?"](L)["$!"]())===o||null==i||i.$$is_boolean&&1!=i||(M=!0):N=!0),i=A["$attr?"]("source-highlighter","coderay"),z=i!==!1&&i!==o&&null!=i?A.$attr("coderay-css","class")["$=="]("class"):i,i=A["$attr?"]("source-highlighter","pygments"),P=i!==!1&&i!==o&&null!=i?A.$attr("pygments-css","class")["$=="]("class"):i,(i=(l=(a=(c=N)!==!1&&c!==o&&null!=c?c:M)!==!1&&a!==o&&null!=a?a:z)!==!1&&l!==o&&null!=l?l:P)===o||null==i||i.$$is_boolean&&1!=i||(D=A.$normalize_system_path(C,E,function(){return(i=t(A.$safe(),s.get("SafeMode").$$scope.get("SAFE")))===o||null==i||i.$$is_boolean&&1!=i?o:E}()),b!==!1&&b!==o&&null!=b&&s.get("Helpers").$mkdir_p(D),N!==!1&&N!==o&&null!=N?s.get("Stylesheets").$instance().$write_primary_stylesheet(D):M!==!1&&M!==o&&null!=M&&(B=(i=(B=A.$attr("copycss"))["$empty?"]())===o||null==i||i.$$is_boolean&&1!=i?A.$normalize_system_path(B):A.$normalize_system_path(L),q=A.$normalize_system_path(L,D,function(){return(i=t(A.$safe(),s.get("SafeMode").$$scope.get("SAFE")))===o||null==i||i.$$is_boolean&&1!=i?o:E}()),((i=(l=B["$=="](q))!==!1&&l!==o&&null!=l?l:(j=A.$read_asset(B))["$nil?"]())===o||null==i||i.$$is_boolean&&1!=i)&&(i=(l=e.get("File")).$open,i.$$p=(d=function(e){d.$$s||this;return null==e&&(e=o),e.$write(j)},d.$$s=f,d.$$arity=1,d),i).call(l,q,"w")),z!==!1&&z!==o&&null!=z?s.get("Stylesheets").$instance().$write_coderay_stylesheet(D):P!==!1&&P!==o&&null!=P&&s.get("Stylesheets").$instance().$write_pygments_stylesheet(D,A.$attr("pygments-style")))),A):I},l.$$arity=-2),e.alias(n,"render","convert"),e.defn(n,"$convert_file",a=function(t,n){var $,r=this;return null==n&&(n=u([],{})),r.$convert(e.get("File").$new(($=t)!==!1&&$!==o&&null!=$?$:""),n)},a.$$arity=-2),e.alias(n,"render_file","convert_file")}(e.get_singleton_class(d)),f.get("RUBY_ENGINE")["$=="]("opal")&&(d.$require("asciidoctor/version"),d.$require("asciidoctor/timings"))}(l.base),i.$require("asciidoctor/core_ext"),i.$require("asciidoctor/helpers"),i.$require("asciidoctor/substitutors"),i.$require("asciidoctor/abstract_node"),i.$require("asciidoctor/abstract_block"),i.$require("asciidoctor/attribute_list"),i.$require("asciidoctor/block"),i.$require("asciidoctor/callouts"),i.$require("asciidoctor/converter"),(r=l.get("RUBY_ENGINE_OPAL"))===o||null==r||r.$$is_boolean&&1!=r||i.$require("asciidoctor/converter/html5"),i.$require("asciidoctor/document"),i.$require("asciidoctor/inline"),i.$require("asciidoctor/list"),i.$require("asciidoctor/parser"),i.$require("asciidoctor/path_resolver"),i.$require("asciidoctor/reader"),i.$require("asciidoctor/section"),i.$require("asciidoctor/stylesheets"),i.$require("asciidoctor/table")}(Opal);var t=function(e){return e&&!e.smap?Opal.hash(e):e};Opal.Asciidoctor.$$class.$$proto.convert=function(e,n){var $=this.$convert(e,t(n));return $===Opal.nil?"":$},Opal.Asciidoctor.$$class.$$proto.convertFile=function(e,n){return this.$convert_file(e,t(n))},Opal.Asciidoctor.$$class.$$proto.load=function(e,n){return this.$load(e,t(n))},Opal.Asciidoctor.$$class.$$proto.loadFile=function(e,n){return this.$load_file(e,t(n))},Opal.Asciidoctor.AbstractBlock.$$proto.getTitle=function(){return this.title},Opal.Asciidoctor.AbstractBlock.$$proto.getStyle=function(){return this.style},Opal.Asciidoctor.AbstractBlock.$$proto.getCaption=function(){return this.caption},Opal.Asciidoctor.AbstractBlock.$$proto.getLevel=function(){return this.level},Opal.Asciidoctor.AbstractBlock.$$proto.getBlocks=function(){return this.blocks},Opal.Asciidoctor.AbstractBlock.$$proto.getContent=function(){return this.$content()},Opal.Asciidoctor.AbstractBlock.$$proto.convert=function(){return this.$convert()},Opal.Asciidoctor.AbstractBlock.$$proto.delegate=function(){return this.$delegate()},Opal.Asciidoctor.AbstractBlock.$$proto.findBy=function(e){return this.$find_by(e)},Opal.Asciidoctor.AbstractBlock.$$proto.convert=function(){return this.$convert()},Opal.Asciidoctor.AbstractNode.$$proto.getAttributes=function(){return this.attributes},Opal.Asciidoctor.AbstractNode.$$proto.getAttribute=function(e,t,n){var $=this.$attr(e,t,n);if($!==Opal.nil)return $},Opal.Asciidoctor.AbstractNode.$$proto.isAttribute=function(e,t,n){var $=this["$attr?"](e,t,n);if($!==Opal.nil)return $},Opal.Asciidoctor.AbstractNode.$$proto.setAttribute=function(e,t,n){return"undefined"==typeof n&&(n=!0),this.$set_attribute(e,t,n)},Opal.Asciidoctor.AbstractNode.$$proto.isInline=function(){return this["$inline?"]()},Opal.Asciidoctor.AbstractNode.$$proto.isBlock=function(){return this["$block?"]()},Opal.Asciidoctor.AbstractNode.$$proto.isRole=function(e){return this["$role?"](e)},Opal.Asciidoctor.AbstractNode.$$proto.getRole=function(){return this.$role()},Opal.Asciidoctor.AbstractNode.$$proto.hasRole=function(e){return this["$has_role?"](e)},Opal.Asciidoctor.AbstractNode.$$proto.getRoles=function(){return this.$roles()},Opal.Asciidoctor.AbstractNode.$$proto.addRole=function(e){return this.$add_role(e)},Opal.Asciidoctor.AbstractNode.$$proto.removeRole=function(e){return this.$remove_role(e)},Opal.Asciidoctor.AbstractNode.$$proto.isReftext=function(){return this["$reftext?"]()},Opal.Asciidoctor.AbstractNode.$$proto.getReftext=function(){return this.$reftext()},Opal.Asciidoctor.AbstractNode.$$proto.getContext=function(){var e=this.context;return e&&"function"==typeof e.$to_s?e.$to_s():e},Opal.Asciidoctor.AbstractNode.$$proto.getId=function(){return this.id},Opal.Asciidoctor.AbstractNode.$$proto.isOption=function(e){return this["$option?"](e)},Opal.Asciidoctor.AbstractNode.$$proto.setOption=function(e){return this.$set_option(e)},Opal.Asciidoctor.AbstractNode.$$proto.getIconURI=function(e){return this.$icon_uri(e)},Opal.Asciidoctor.AbstractNode.$$proto.getMediaURI=function(e,t){return this.$media_uri(e,t)},Opal.Asciidoctor.AbstractNode.$$proto.getImageURI=function(e,t){return this.$image_uri(e,t)},Opal.Asciidoctor.AbstractNode.$$proto.getConverter=function(){return this.$converter()},Opal.Asciidoctor.AbstractNode.$$proto.readContents=function(e,n){return this.$read_contents(e,t(n))},Opal.Asciidoctor.AbstractNode.$$proto.readAsset=function(e,n){return this.$read_asset(e,t(n))},Opal.Asciidoctor.AbstractNode.$$proto.normalizeWebPath=function(e,t,n){return this.$normalize_web_path(e,t,n)},Opal.Asciidoctor.AbstractNode.$$proto.normalizeSystemPath=function(e,n,$,r){return this.$normalize_system_path(e,n,$,t(r))},Opal.Asciidoctor.AbstractNode.$$proto.normalizeAssetPath=function(e,t,n){return this.$normalize_asset_path(e,t,n)},Opal.Asciidoctor.Document.$$proto.getHeader=function(){return this.header},Opal.Asciidoctor.Document.$$proto.setAttribute=function(e,t){return this.$set_attribute(e,t)},Opal.Asciidoctor.Document.$$proto.removeAttribute=function(e){this.attributes.$delete(e),this.attribute_overrides.$delete(e)},Opal.Asciidoctor.Document.$$proto.convert=function(e){var n=this.$convert(t(e));return n===Opal.nil?"":n},Opal.Asciidoctor.Document.$$proto.write=function(e,t){return this.$write(e,t)},Opal.Asciidoctor.Document.$$proto.getAuthor=function(){return this.$author()},Opal.Asciidoctor.Document.$$proto.getSource=function(){return this.$source()},Opal.Asciidoctor.Document.$$proto.getSourceLines=function(){return this.$source_lines()},Opal.Asciidoctor.Document.$$proto.isNested=function(){return this["$nested?"]()},Opal.Asciidoctor.Document.$$proto.hasFootnotes=function(){return this["$footnotes?"]()},Opal.Asciidoctor.Document.$$proto.getFootnotes=function(){return this.$footnotes()},Opal.Asciidoctor.Document.$$proto.isEmbedded=function(){return this["$embedded?"]()},Opal.Asciidoctor.Document.$$proto.hasExtensions=function(){return this["$extensions?"]()},Opal.Asciidoctor.Document.$$proto.getDoctype=function(){return this.$doctype()},Opal.Asciidoctor.Document.$$proto.getBackend=function(){return this.$backend()},Opal.Asciidoctor.Document.$$proto.isBasebackend=function(e){return this["$basebackend?"](e)},Opal.Asciidoctor.Document.$$proto.getTitle=function(){return this.$title()},Opal.Asciidoctor.Document.$$proto.setTitle=function(e){return this["$title="](e)},Opal.Asciidoctor.Document.$$proto.getDoctitle=function(e){return this.$doctitle(t(e))},Opal.Asciidoctor.Document.$$proto.getRevdate=function(){return this.$revdate()},Opal.Asciidoctor.Document.$$proto.getNotitle=function(){return this.$notitle()},Opal.Asciidoctor.Document.$$proto.getNoheader=function(){return this.$noheader()},Opal.Asciidoctor.Document.$$proto.getNofooter=function(){return this.$nofooter()},Opal.Asciidoctor.Document.$$proto.hasHeader=function(){return this["$header?"]()},Opal.Asciidoctor.Document.$$proto.deleteAttribute=function(e){return this.$delete_attribute(e)},Opal.Asciidoctor.Document.$$proto.isAttributeLocked=function(e){return this["$attribute_locked?"](e)},Opal.Asciidoctor.Document.$$proto.parse=function(e){return this.$parse(e)},Opal.Asciidoctor.Document.$$proto.getDocinfo=function(e,t){return this.$docinfo(e,t)},Opal.Asciidoctor.Document.$$proto.hasDocinfoProcessors=function(e){return this["$docinfo_processors?"](e)},Opal.Asciidoctor.Document.$$proto.counterIncrement=function(e,t){return this.$counter_increment(e,t)},Opal.Asciidoctor.Document.$$proto.counter=function(e,t){return this.$counter(e,t)},Opal.Asciidoctor.Document.$$proto.getSafe=function(){return this.$safe},Opal.Asciidoctor.Document.$$proto.getCompatMode=function(){return this.$compat_mode},Opal.Asciidoctor.Document.$$proto.getSourcemap=function(){return this.$sourcemap},Opal.Asciidoctor.Document.$$proto.getReferences=function(){return this.$references},Opal.Asciidoctor.Document.$$proto.getCounters=function(){return this.$counters},Opal.Asciidoctor.Document.$$proto.getCallouts=function(){return this.$callouts},Opal.Asciidoctor.Document.$$proto.getBaseDir=function(){return this.$base_dir},Opal.Asciidoctor.Document.$$proto.getOptions=function(){return this.$options},Opal.Asciidoctor.Document.$$proto.getOutfilesuffix=function(){return this.$outfilesuffix},Opal.Asciidoctor.Document.$$proto.getParentDocument=function(){return this.$parent_document},Opal.Asciidoctor.Document.$$proto.getReader=function(){return this.$reader},Opal.Asciidoctor.Document.$$proto.getConverter=function(){return this.$converter},Opal.Asciidoctor.Document.$$proto.getExtensions=function(){return this.$extensions},Opal.Asciidoctor.Document.Title.$$proto.getMain=function(){return this.main},Opal.Asciidoctor.Document.Title.$$proto.getCombined=function(){return this.combined},Opal.Asciidoctor.Document.Title.$$proto.getSubtitle=function(){return this.subtitle},Opal.Asciidoctor.Document.Title.$$proto.isSanitized=function(){var e=this["$sanitized?"]();return e!==Opal.nil&&e},Opal.Asciidoctor.Document.Title.$$proto.hasSubtitle=function(){return this["$subtitle?"]()};var n=Opal.Asciidoctor.$$scope.Extensions;return n.register=function(e,t){Opal.block_send(Opal.Asciidoctor.Extensions,"register",e,t)},n.Registry.$$proto.inlineMacro=function(e,t){return Opal.block_send(this,"inline_macro",e,t)},n.InlineMacroProcessor.$$proto.process=function(e){return Opal.block_send(this,"process",e)},Opal.Asciidoctor});
//# sourceMappingURL=asciidoctor.min.js.map