{"version":3,"sources":["angular-permission.js"],"names":["window","angular","undefined","$q","$delegate","any","promises","deferred","defer","counter","results","isArray","forEach","promise","key","when","then","value","resolve","reason","reject","PermTransitionEvents","this","broadcastPermissionStartEvent","Error","broadcastPermissionAcceptedEvent","broadcastPermissionDeniedEvent","PermPermission","PermTransitionProperties","Permission","permissionName","validationFunction","validateConstructor","wrapInPromise","result","dfd","isString","TypeError","isFunction","prototype","validatePermission","validationResult","call","PermRole","PermPermissionStore","Role","roleName","validateRole","map","hasPermissionDefinition","permission","getPermissionDefinition","all","definePermission","permissionStore","defineManyPermissions","permissionNames","removePermissionDefinition","isDefined","getStore","clearStore","PermRoleStore","defineRole","roleStore","defineManyRoles","roleMap","isObject","removeRoleDefinition","hasRoleDefinition","getRoleDefinition","PermissionDirective","$log","$injector","PermPermissionMap","PermPermissionStrategies","restrict","bindToController","sref","only","except","onAuthorized","onUnauthorized","controllerAs","controller","$scope","$element","isSrefStateDefined","has","onAuthorizedAccess","showElement","onUnauthorizedAccess","hideElement","$watchGroup","PermStateAuthorization","get","authorizeByStateName","PermAuthorization","permissionMap","authorizeByPermissionMap","e","error","message","authorizePermissionMap","resolveExceptPrivilegeMap","exceptPromises","resolvePropertyValidity","rejectedPermissions","resolveOnlyPermissionMap","length","onlyPromises","resolvedPermissions","rejectedPermission","PermissionMap","normalizeMapProperty","redirectTo","resolveFunctionRedirect","redirectFunction","rejectedPermissionName","redirectState","state","resolveObjectRedirect","redirectObject","ReferenceError","property","resolveRedirectState","privilegeName","role","$inject","module","exports","name","decorator","enableElement","removeAttr","disableElement","attr","removeClass","addClass","service","factory","directive"],"mappings":"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","file":"angular-permission.min.js"}