// Generated by CoffeeScript 1.3.3
/*
  Superslides 0.4.3
  Fullscreen slideshow plugin for jQuery
  by Nic Aitch @nicinabox
  http://nicinabox.github.com/superslides/
*/(function(){var e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k;i=$(window),k=i.width(),h=i.height(),p=navigator.userAgent.match(/mobile/i),c=!0,g=0,f=!1,x=0,v=3,n=[],t=[],r=[],e=[],w=function(){return S(),E()},S=function(){return n.css({width:k*v,height:h,left:x>1?-k:void 0})},E=function(){return $.fn.superslides.options.scrollable&&e.each(function(){var e;return e=$(this).find(".scrollable"),e||$(this).wrapInner('<div class="scrollable" />'),e.find("img").not(".keep-original").insertBefore(e)}),x>1&&e.not(".current").css({display:"none",position:"absolute",overflow:"hidden",top:0,left:k,zIndex:0}),u(e)},d=function(e,t){return $("<img>",{src:e.attr("src")}).load(function(){if(t instanceof Function)return t(this)})},b=function(e){var t;return t=k/e.data("aspect-ratio"),t>=h?e.css({top:-(t-h)/2}):e.css({top:0})},y=function(e){var t;return t=h*e.data("aspect-ratio"),t>=k?e.css({left:-(t-k)/2}):e.css({left:0})},o=function(e){if(!e.data("aspect-ratio")){d(e,function(t){return e.removeAttr("width").removeAttr("height"),e.data("aspect-ratio",t.width/t.height),o(e)});return}return y(e),b(e),t.trigger("slides.image_adjusted")},u=function(e){return e.each(function(e){return $(this).width(k).height(h),x>1&&$(this).css({left:k}),o($("img",this).not(".keep-original"))}),t.trigger("slides.sized")},s=function(e){var t;return t=$(".slides-pagination"),e>=0||(e=x-1),t.append($("<a>",{href:"#"+e}))},T=function(){var e;return x>1?(location.hash?e=location.hash.replace(/^#/,""):e=c?0:"next",a(e),m()):(t.fadeIn("fast"),$("."+$.fn.superslides.options.nav_class).hide())},N=function(){return clearInterval(g)},m=function(){if($.fn.superslides.options.play)return g&&N(),g=setInterval(function(){return a(c?0:"next")},$.fn.superslides.options.delay)},C=function(){return e=t.children(),$.fn.superslides.api.size=x=e.length,E(),s(),t.trigger("slides.updated")},l=function(e){return t.append(e),C()},a=function(r){var i,s,o,u=this;if(f||r>=x||r===this.current)return;f=!0,o=this.current||r-1||0;switch(r){case"next":s=k*2,r=-s,i=this.current+1,x===i&&(i=0);break;case"prev":s=r=0,i=this.current-1,i===-1&&(i=x-1);break;default:i=+r,i>o?(s=k*2,r=-s):s=r=0}return this.current=i,e.removeClass("current").eq(this.current).css({left:s,display:"block"}),n.animate({useTranslate3d:p?!0:!1,left:r},$.fn.superslides.options.slide_speed,$.fn.superslides.options.slide_easing,function(){return n.css({left:-k}),e.eq(i).css({left:k,zIndex:2}),e.eq(o).css({left:k,display:"none",zIndex:0}),e.eq(u.current).addClass("current"),c&&(t.fadeIn("fast"),t.trigger("slides.initialized"),c=!1),f=!1,t.trigger("slides.animated",[u.current,i,o])}),this.current},$.fn.superslides=function(o){var f,l,c;return typeof o=="string"?(f=$.fn.superslides.api,c=o,l=Array.prototype.slice.call(arguments),l.splice(0,1),f[c].apply(this,l)):(o=$.fn.superslides.options=$.extend($.fn.superslides.options,o),$("."+o.container_class,this).wrap('<div class="slides-control" />'),n=$(".slides-control",this),t=$("."+o.container_class),r=$("."+o.nav_class),e=t.children(),$.fn.superslides.api.size=x=e.length,v=x===1?1:3,this.each(function(){var t=this;return w(),$(window).resize(function(t){k=i.width(),h=i.height(),u(e),n.width(k*v).height(h);if(x>1)return n.css({left:-k})}),$(document).on("click","."+o.nav_class+" a",function(e){return e.preventDefault(),N(),$(this).hasClass("next")?a("next"):a("prev")}),o.pagination&&i.on("slides.initialized",function(n){return $(t).append($("<nav>",{"class":"slides-pagination"})),e.each(function(e){return s(e)})}).on("slides.animated",function(e,t,n,r){var i;return i=$(".slides-pagination"),$(".active",i).removeClass("active"),$("a",i).eq(t).addClass("active")}).on("click",".slides-pagination a",function(e){var t;return o.hashchange||e.preventDefault(),t=this.hash.replace(/^#/,""),a(t)}).on("hashchange",function(e){var t;return t=location.hash.replace(/^#/,""),N(),a(t)}),T()}))},$.fn.superslides.options={delay:5e3,play:!1,slide_speed:"normal",slide_easing:"linear",nav_class:"slides-navigation",container_class:"slides-container",pagination:!1,hashchange:!1,scrollable:!0},$.fn.superslides.api={start:function(){return T()},stop:function(){return N()},play:function(){return m()},append:function(e){return l(e)},animate:function(e){return N(),a(e)},next:function(){return a("next")},prev:function(){return a("prev")}}}).call(this);