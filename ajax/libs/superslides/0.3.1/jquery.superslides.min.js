// Generated by CoffeeScript 1.3.3
/*
  Superslides 0.3.1
  Fullscreen slideshow plugin for jQuery
  by Nic Aitch @nicinabox
  http://nicinabox.github.com/superslides/
*/(function(){var e;e=jQuery,e.fn.superslides=function(t){var n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x;return t=e.extend({delay:5e3,play:!1,slide_speed:"normal",slide_easing:"linear",nav_class:"slides-navigation",container_class:"slides-container"},t),e("."+t.container_class,this).wrap('<div class="slides-control" />'),o=this,i=e(".slides-control",o),r=e("."+t.container_class),n=r.children(),s=e("."+t.nav_class),w=n.length,x=window.innerWidth||document.documentElement.clientWidth,p=window.innerHeight||document.documentElement.clientHeight,c=0,b=0,m=0,h=!0,y=0,l=!1,d=navigator.userAgent.match(/mobile/i),E=function(){if(w>1)return f(h?0:"next"),g()},S=function(){return clearInterval(y)},g=function(){if(t.play)return y&&S(),y=setInterval(function(){return f(h?0:"next")},t.delay)},v=function(e,t){var n;return n=new Image,e.load(function(){return typeof t=="function"&&t(this),this})},u=function(e){(!e.data("original-height")||!e.data("original-width"))&&v(e,function(t){return e.data("original-height",t.height).removeAttr("height"),e.data("original-width",t.width).removeAttr("width"),u(e)}),p<e.data("original-height")&&e.css({top:-(e.data("original-height")-p)/2}),x<e.data("original-width")?e.css({left:-(e.data("original-width")-x)/2}):e.css({left:0});if(e.data("original-height")&&e.data("original-width"))return o.trigger("slides.image_adjusted")},a=function(t){return t.each(function(t){return e(this).width(x).height(p).css({left:x}),u(e("img",this))}),o.trigger("slides.sized")},f=function(e){var s;if(!l){b=c,l=!0;switch(e){case"next":s=x*2,e=-s,m=c+1,w===m&&(m=0);break;case"prev":s=0,e=0,m=c-1,m===-1&&(m=w-1);break;default:b=-1,m=e}return c=m,n.removeClass("current"),n.eq(c).css({left:s,display:"block"}),i.animate({useTranslate3d:d?!0:!1,left:e},t.slide_speed,t.slide_easing,function(){return i.css({left:-x}),n.eq(m).css({left:x,zIndex:2}),n.eq(b).css({left:x,display:"none",zIndex:0}),n.eq(c).addClass("current"),h&&(r.fadeIn("fast"),o.trigger("slides.initialized"),h=!1),l=!1,o.trigger("slides.animated")})}},this.each(function(){return w>1&&(i.css({position:"relative",width:x*3,height:p,left:-x}),r.hide(),n.css({display:"none",position:"absolute",overflow:"hidden",top:0,left:x,zIndex:0}),a(n)),e(window).resize(function(e){return x=window.innerWidth||document.documentElement.clientWidth,p=window.innerHeight||document.documentElement.clientHeight,a(n),i.width(x*3).css({left:-x,height:p})}),e("a",s).click(function(t){return t.preventDefault(),S(),e(this).hasClass("next")?f("next"):f("prev")}),o.on("slides.start",function(e){return E()}),o.on("slides.stop",function(e){return S()}),o.on("slides.play",function(e){return g()}),o.on("slides.next",function(e){return S(),f("next")}),o.on("slides.prev",function(e){return S(),f("prev")}),o.trigger("slides.start")})}}).call(this);