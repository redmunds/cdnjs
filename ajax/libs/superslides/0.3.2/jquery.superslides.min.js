// Generated by CoffeeScript 1.3.3
/*
  Superslides 0.3.2
  Fullscreen slideshow plugin for jQuery
  by Nic Aitch @nicinabox
  http://nicinabox.github.com/superslides/
*/(function(){var e;e=jQuery,e.fn.superslides=function(t){var n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N;return t=e.extend({delay:5e3,play:!1,slide_speed:"normal",slide_easing:"linear",nav_class:"slides-navigation",container_class:"slides-container"},t),e("."+t.container_class,this).wrap('<div class="slides-control" />'),o=this,u=e(window),i=e(".slides-control",o),r=e("."+t.container_class),n=r.children(),s=e("."+t.nav_class),S=n.length,N=u.width(),d=u.height(),h=0,E=0,y=0,p=!0,w=0,c=!1,g=S===1?1:3,v=navigator.userAgent.match(/mobile/i),x=function(){if(S>1)return l(p?0:"next"),b()},T=function(){return clearInterval(w)},b=function(){if(t.play)return w&&T(),w=setInterval(function(){return l(p?0:"next")},t.delay)},m=function(t,n){return e("<img />").attr("src",t.attr("src")).load(function(){return typeof n=="function"&&n(this),this})},a=function(e){(!e.data("original-height")||!e.data("original-width"))&&m(e,function(t){return e.data("original-height",t.height).removeAttr("height"),e.data("original-width",t.width).removeAttr("width"),a(e)}),d<e.data("original-height")&&e.css({top:-(e.data("original-height")-d)/2}),N<e.data("original-width")?e.css({left:-(e.data("original-width")-N)/2}):e.css({left:0});if(e.data("original-height")&&e.data("original-width"))return o.trigger("slides.image_adjusted")},f=function(t){return t.each(function(t){return e(this).width(N).height(d),S>1&&e(this).css({left:N}),a(e("img",this))}),o.trigger("slides.sized")},l=function(e){var s;if(!c){E=h,c=!0;switch(e){case"next":s=N*2,e=-s,y=h+1,S===y&&(y=0);break;case"prev":s=0,e=0,y=h-1,y===-1&&(y=S-1);break;default:E=-1,y=e}return h=y,n.removeClass("current"),n.eq(h).css({left:s,display:"block"}),i.animate({useTranslate3d:v?!0:!1,left:e},t.slide_speed,t.slide_easing,function(){return i.css({left:-N}),n.eq(y).css({left:N,zIndex:2}),n.eq(E).css({left:N,display:"none",zIndex:0}),n.eq(h).addClass("current"),p&&(r.fadeIn("fast"),o.trigger("slides.initialized"),p=!1),c=!1,o.trigger("slides.animated")})}},this.each(function(){return i.css({position:"relative"}),S>1&&(i.css({width:N*g,height:d,left:-N}),r.hide(),n.css({display:"none",position:"absolute",overflow:"hidden",top:0,left:N,zIndex:0})),f(n),e(window).resize(function(e){N=u.width(),d=u.height(),f(n),i.width(N*g).css({height:d});if(S>1)return i.css({left:-N})}),e("a",s).click(function(t){return t.preventDefault(),T(),e(this).hasClass("next")?l("next"):l("prev")}),o.on("slides.start",function(e){return x()}),o.on("slides.stop",function(e){return T()}),o.on("slides.play",function(e){return b()}),o.on("slides.next",function(e){return T(),l("next")}),o.on("slides.prev",function(e){return T(),l("prev")}),o.trigger("slides.start")})}}).call(this);