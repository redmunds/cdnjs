// Generated by CoffeeScript 1.3.3
/*
  Superslides 0.4
  Fullscreen slideshow plugin for jQuery
  by Nic Aitch @nicinabox
  http://nicinabox.github.com/superslides/
*/(function(){var e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b;i=$(window),b=i.width(),l=i.height(),c=navigator.userAgent.match(/mobile/i),f=!0,v=0,a=!1,m=0,p=3,n="",t="",r="",e="",h=function(e,t){return $("<img />").attr("src",e.attr("src")).load(function(){return typeof t=="function"&&t(this),this})},s=function(e){(!e.data("original-height")||!e.data("original-width"))&&h(e,function(t){return e.data("original-height",t.height).removeAttr("height"),e.data("original-width",t.width).removeAttr("width"),s(e)}),l<e.data("original-height")&&e.css({top:-(e.data("original-height")-l)/2}),b<e.data("original-width")?e.css({left:-(e.data("original-width")-b)/2}):e.css({left:0});if(e.data("original-height")&&e.data("original-width"))return t.trigger("slides.image_adjusted")},o=function(e){return e.each(function(e){return $(this).width(b).height(l),m>1&&$(this).css({left:b}),s($("img",this))}),t.trigger("slides.sized")},g=function(){var e;if(m>1)return location.hash?e=location.hash.replace(/^#/,""):e=f?0:"next",u(e),d()},y=function(){return clearInterval(v)},d=function(){if($.fn.superslides.options.play)return v&&y(),v=setInterval(function(){return u(f?0:"next")},$.fn.superslides.options.delay)},u=function(r){var i,s,o,u;u=this,u.current=u.current>=0?u.current:null;if(!(a||r>=m||+r===u.current)){o=u.current||+r-1||0,a=!0;switch(r){case"next":s=b*2,r=-s,i=u.current+1,m===i&&(i=0);break;case"prev":s=r=0,i=u.current-1,i===-1&&(i=m-1);break;default:i=+r,i>o?(s=b*2,r=-s):s=r=0}return u.current=i,e.removeClass("current"),e.eq(u.current).css({left:s,display:"block"}),n.animate({useTranslate3d:c?!0:!1,left:r},$.fn.superslides.options.slide_speed,$.fn.superslides.options.slide_easing,function(){return n.css({left:-b}),e.eq(i).css({left:b,zIndex:2}),e.eq(o).css({left:b,display:"none",zIndex:0}),e.eq(u.current).addClass("current"),f&&(t.fadeIn("fast"),t.trigger("slides.initialized"),f=!1),a=!1,t.trigger("slides.animated",[u.current,i,o])}),u.current}},$.fn.superslides=function(s){var a,f,c;return typeof s=="string"?(a=$.fn.superslides.api,c=s,f=Array.prototype.slice.call(arguments),f.splice(0,1),a[c].call(this,f.join(", "))):(s=$.fn.superslides.options=$.extend($.fn.superslides.options,s),$("."+s.container_class,this).wrap('<div class="slides-control" />'),n=$(".slides-control",this),t=$("."+s.container_class),r=$("."+s.nav_class),e=t.children(),m=e.length,p=m===1?1:3,this.each(function(){var r;return n.css({position:"relative"}),m>1&&(n.css({width:b*p,height:l,left:-b}),t.hide(),e.css({display:"none",position:"absolute",overflow:"hidden",top:0,left:b,zIndex:0})),o(e),$(window).resize(function(t){b=i.width(),l=i.height(),o(e),n.width(b*p).css({height:l});if(m>1)return n.css({left:-b})}),$(document).on("click","."+s.nav_class+" a",function(e){return e.preventDefault(),y(),$(this).hasClass("next")?u("next"):u("prev")}),s.pagination&&(r=this,$(document).on("slides.initialized",function(e){return $(r).append($("<nav>",{"class":"slides-pagination"})),$(".slides-container",r).children().each(function(e){return $(".slides-pagination").append($("<a>",{href:"#"+e}))})}).on("slides.animated",function(e,t,n,r){var i;return i=$(".slides-pagination"),$(".active",i).removeClass("active"),$("a",i).eq(t).addClass("active")}).on("click",".slides-pagination a",function(e){var t;return s.hashchange||e.preventDefault(),t=this.hash.replace(/^#/,""),u(t)}),i.on("hashchange",function(e){var t;return t=location.hash.replace(/^#/,""),y(),u(t)})),g()}))},$.fn.superslides.options={delay:5e3,play:!1,slide_speed:"normal",slide_easing:"linear",nav_class:"slides-navigation",container_class:"slides-container",pagination:!1,hashchange:!1},$.fn.superslides.api={start:function(){return g()},stop:function(){return y()},play:function(){return d()},animate:function(e){return y(),u(e)},next:function(){return u("next")},prev:function(){return u("prev")}}}).call(this);