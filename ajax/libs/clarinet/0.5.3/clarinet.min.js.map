{"version":3,"sources":["clarinet.js"],"names":["clarinet","checkBufferLength","parser","maxAllowed","Math","max","MAX_BUFFER_LENGTH","maxActual","i","l","buffers","length","len","closeText","error","bufferCheckPosition","position","clearBuffers","CParser","opt","this","q","c","closed","closedRoot","sawRoot","tag","state","S","BEGIN","stack","fastlist","column","line","emit","createStream","CStream","Stream","apply","me","_parser","writable","readable","onend","onerror","er","streamWraps","forEach","ev","Object","defineProperty","get","set","h","on","removeAllListeners","enumerable","configurable","event","data","INFO","console","log","emitNode","textNode","closeValue","textopts","closeNumber","numberNode","parseFloat","text","trim","normalize","replace","Error","end","VALUE","call","write","chunk","DEBUG","charAt","STATE","OPEN_OBJECT","OPEN_ARRAY","OPEN_KEY","push","CLOSE_KEY","pop","CLOSE_OBJECT","STRING","CLOSE_ARRAY","TRUE","FALSE","NULL","NUMBER_DIGIT","indexOf","starti","consecutive_slashes","gaps","e","shift","s","substring","TRUE2","TRUE3","FALSE2","FALSE3","FALSE4","NULL2","NULL3","NUMBER_DECIMAL_POINT","p","env","process","window","FastList","require","exc","Array","CDEBUG","EVENTS","filter","TEXT_ESCAPE","BACKSLASH","END","s_","create","o","f","prototype","getPrototypeOf","keys","a","hasOwnProperty","resume","close","ex","constructor","value","toString","handler","args","arguments","splice","exports"],"mappings":"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","file":"clarinet.min.js"}