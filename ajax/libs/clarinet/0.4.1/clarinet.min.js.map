{"version":3,"sources":["clarinet.js"],"names":["clarinet","checkBufferLength","parser","maxAllowed","Math","max","MAX_BUFFER_LENGTH","maxActual","i","l","buffers","length","len","closeText","error","bufferCheckPosition","position","clearBuffers","is","charclass","c","indexOf","not","CParser","opt","this","q","p","closed","closedRoot","sawRoot","tag","state","S","BEGIN","stack","fastlist","column","line","emit","createStream","CStream","Stream","apply","me","_parser","writable","readable","onend","onerror","er","streamWraps","forEach","ev","Object","defineProperty","get","set","h","on","removeAllListeners","enumerable","configurable","event","data","INFO","console","log","emitNode","textNode","closeValue","textopts","closeNumber","numberNode","parseFloat","text","trim","normalize","replace","Error","end","VALUE","call","write","chunk","DEBUG","charAt","STATE","OPEN_OBJECT","OPEN_ARRAY","whitespace","OPEN_KEY","push","CLOSE_KEY","pop","CLOSE_OBJECT","STRING","CLOSE_ARRAY","TRUE","FALSE","NULL","NUMBER_DIGIT","BACKSLASH","TRUE2","TRUE3","FALSE2","FALSE3","FALSE4","NULL2","NULL3","NUMBER_DECIMAL_POINT","env","process","window","FastList","require","exc","Array","CDEBUG","EVENTS","filter","TEXT_ESCAPE","END","s_","create","o","f","prototype","getPrototypeOf","keys","a","hasOwnProperty","resume","close","ex","constructor","value","toString","handler","args","arguments","splice","exports"],"mappings":"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","file":"clarinet.min.js"}