{"version":3,"sources":["clarinet.js"],"names":["clarinet","checkBufferLength","parser","maxAllowed","Math","max","MAX_BUFFER_LENGTH","maxActual","i","l","buffers","length","len","closeText","error","bufferCheckPosition","position","clearBuffers","CParser","opt","this","q","c","p","closed","closedRoot","sawRoot","tag","state","S","BEGIN","stack","fastlist","column","line","emit","createStream","CStream","Stream","apply","me","_parser","writable","readable","onend","onerror","er","streamWraps","forEach","ev","Object","defineProperty","get","set","h","on","removeAllListeners","enumerable","configurable","event","data","INFO","console","log","emitNode","textNode","closeValue","textopts","closeNumber","numberNode","parseFloat","text","trim","normalize","replace","Error","end","VALUE","call","write","chunk","DEBUG","charAt","STATE","OPEN_OBJECT","OPEN_ARRAY","OPEN_KEY","push","CLOSE_KEY","pop","CLOSE_OBJECT","STRING","CLOSE_ARRAY","TRUE","FALSE","NULL","NUMBER_DIGIT","indexOf","starti","consecutive_slashes","gaps","e","shift","s","slice","substring","TRUE2","TRUE3","FALSE2","FALSE3","FALSE4","NULL2","NULL3","NUMBER_DECIMAL_POINT","env","process","window","FastList","require","exc","Array","CDEBUG","EVENTS","filter","TEXT_ESCAPE","BACKSLASH","END","s_","create","o","f","prototype","getPrototypeOf","keys","a","hasOwnProperty","resume","close","ex","constructor","value","toString","handler","args","arguments","splice","exports"],"mappings":"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","file":"clarinet.min.js"}