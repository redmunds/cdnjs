{"version":3,"sources":["clarinet.js"],"names":["clarinet","checkBufferLength","parser","maxAllowed","Math","max","MAX_BUFFER_LENGTH","maxActual","i","l","buffers","length","len","closeText","error","bufferCheckPosition","position","clearBuffers","CParser","opt","this","q","c","closed","closedRoot","sawRoot","tag","state","S","BEGIN","stack","fastlist","column","line","emit","createStream","CStream","Stream","apply","me","_parser","writable","readable","onend","onerror","er","streamWraps","forEach","ev","Object","defineProperty","get","set","h","on","removeAllListeners","enumerable","configurable","event","data","INFO","console","log","emitNode","textNode","closeValue","textopts","closeNumber","numberNode","parseFloat","text","trim","normalize","replace","Error","end","VALUE","call","write","chunk","DEBUG","charAt","STATE","p","OPEN_OBJECT","OPEN_ARRAY","OPEN_KEY","push","CLOSE_KEY","pop","CLOSE_OBJECT","STRING","CLOSE_ARRAY","TRUE","FALSE","NULL","NUMBER_DIGIT","indexOf","starti","consecutive_slashes","substring","TRUE2","TRUE3","FALSE2","FALSE3","FALSE4","NULL2","NULL3","NUMBER_DECIMAL_POINT","env","process","window","FastList","require","exc","Array","CDEBUG","EVENTS","filter","TEXT_ESCAPE","BACKSLASH","END","s_","create","o","f","prototype","getPrototypeOf","keys","a","hasOwnProperty","resume","close","ex","constructor","value","toString","handler","args","arguments","splice","exports"],"mappings":"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","file":"clarinet.min.js"}