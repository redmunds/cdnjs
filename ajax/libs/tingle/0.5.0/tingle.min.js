!function(t,n){"function"==typeof define&&define.amd?define(n):"object"==typeof exports?module.exports=n():t.tingle=n()}(this,function(){function t(t){this.modal,this.modalCloseBtn,this.modalWrapper,this.modalContent,t=t?t:{},this.onClose=t.onClose?t.onClose:null}function n(){var t=Math.max(this.modalContent.offsetHeight,this.modalContent.scrollHeight,this.modalContent.clientHeight||0),n=Math.max(document.documentElement.clientHeight,window.innerHeight||0);if(n>t){var o=n/2-t/2;this.modalContent.style.top=o+"px"}}function o(){c(this.modal)}function e(){document.querySelector(".tingle-modal")&&h(this.modal)}function i(){m(this.modalCloseBtn,"click",this.close.bind(this)),m(this.modal,"click",this.close.bind(this)),m(this.modalContent,"click",l),window.addEventListener("resize",this.onResize.bind(this))}function l(t){t.stopPropagation()}function s(){r(this.modalCloseBtn,"click",this.close.bind(this)),r(this.modal,"click",this.close.bind(this)),r(this.modalContent,"click",l)}function d(){this.modal=u("div","tingle-modal"),this.modal.style.display="none",this.modalCloseBtn=u("button","tingle-modal__close"),this.modalCloseBtn.innerHTML="Ã—",this.modalContent=u("div","tingle-modal__content"),this.modal.appendChild(this.modalCloseBtn),this.modal.appendChild(this.modalContent)}function a(t){return"undefined"!=typeof t.length&&"undefined"!=typeof t.item}function c(t){document.body.insertBefore(t,document.body.firstChild)}function h(t){t.parentNode.removeChild(t)}function m(t,n,o){a(t)?[].forEach.call(t,function(t){t.addEventListener(n,o)}):t.addEventListener(n,o)}function r(t,n,o){a(t)?[].forEach.call(t,function(t){t.removeEventListener(n,o)}):t.removeEventListener(n,o)}function u(t,n){var t=document.createElement(t);return n&&t.classList.add(n),t}var f=document.querySelector("body");return t.prototype.init=function(){d.call(this),i.call(this),o.call(this)},t.prototype.open=function(t){this.modal.style.display="block",n.call(this);var o=this;window.setTimeout(function(){o.modal.classList.add("tingle-modal--visible")},50),f.classList.add("tingle-enabled")},t.prototype.close=function(t){this.modal.style.display="none",this.modal.classList.remove("tingle-modal--visible"),f.classList.remove("tingle-enabled"),this.modalContent.classList.remove("tingle-modal__content--center"),"function"==typeof this.onClose&&this.onClose()},t.prototype.destroy=function(){null!==this.modal&&(s.call(this),e.call(this),this.modal=null)},t.prototype.setContent=function(t){this.modalContent.innerHTML=t},t.prototype.onResize=function(){n.call(this)},{modal:t}});