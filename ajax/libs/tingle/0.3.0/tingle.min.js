!function(t,n){"function"==typeof define&&define.amd?define(n):"object"==typeof exports?module.exports=n():t.tingle=n()}(this,function(){function t(t){this.modal,this.modalCloseBtn,this.modalWrapper,this.modalContent,t=t?t:{},this.onClose=t.onClose?t.onClose:null}function n(t){return"undefined"!=typeof t.length&&"undefined"!=typeof t.item}function o(t){document.body.insertBefore(t,document.body.firstChild)}function e(t){t.parentNode.removeChild(t)}function i(t,o,e){n(t)?[].forEach.call(t,function(t){t.addEventListener(o,e)}):t.addEventListener(o,e)}function l(t,o,e){n(t)?[].forEach.call(t,function(t){t.removeEventListener(o,e)}):t.removeEventListener(o,e)}function s(t,n){var t=document.createElement(t);return n&&t.classList.add(n),t}t.prototype.init=function(){r.call(this),c.call(this),d.call(this)},t.prototype.open=function(t){this.modal.style.display="block";var n=Math.max(this.modalContent.offsetHeight,this.modalContent.scrollHeight,this.modalContent.clientHeight||0),o=Math.max(document.documentElement.clientHeight,window.innerHeight||0);o>n&&this.modalContent.classList.add("tingle-modal__content--center");var e=this;window.setTimeout(function(){e.modal.classList.add("tingle-modal--visible")},50)},t.prototype.close=function(t){this.modal.style.display="none",this.modal.classList.remove("tingle-modal--visible"),this.modalContent.classList.remove("tingle-modal__content--center"),"function"==typeof this.onClose&&this.onClose()},t.prototype.destroy=function(){null!==this.modal&&(m.call(this),a.call(this),this.modal=null)},t.prototype.setContent=function(t){this.modalContent.innerHTML=t};var d=function(){o(this.modal)},a=function(){document.querySelector(".tingle-modal")&&e(this.modal)},c=function(){i(this.modalCloseBtn,"click",this.close.bind(this)),i(this.modal,"click",this.close.bind(this)),i(this.modalContent,"click",h)},h=function(t){t.stopPropagation()},m=function(){l(this.modalCloseBtn,"click",this.close.bind(this)),l(this.modal,"click",this.close.bind(this)),l(this.modalContent,"click",h)},r=function(){this.modal=s("div","tingle-modal"),this.modal.style.display="none",this.modalCloseBtn=s("button","tingle-modal__close"),this.modalCloseBtn.innerHTML="Ã—",this.modalContent=s("div","tingle-modal__content"),this.modal.appendChild(this.modalCloseBtn),this.modal.appendChild(this.modalContent)};return{modal:t}});