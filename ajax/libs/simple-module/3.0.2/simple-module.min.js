/* simple-module v3.0.2 | (c) Mycolorway Design | MIT License */
(function(){var t,e,n,o,r=function(t,e){function n(){this.constructor=t}for(var o in e)i.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty,l=[].slice;(o="object"==typeof module&&module.exports)?(t=require("eventemitter2"),n=require("lodash")):(t=window.EventEmitter2,n=window._),e=function(t){function e(t){e.__super__.constructor.call(this),this.opts=n.extend({},e.opts,t),this.opts.plugins.forEach(function(t){return function(n){return t.plugins[n]=new e.plugins[n](t)}}(this))}return r(e,t),e.extend=function(t){var e,n,o;if(!t||"object"!=typeof t)throw new Error("SimpleModule.extend: param should be an object");for(e in t)o=t[e],"included"!==e&&"extended"!==e&&(this[e]=o);return null!=(n=t.extended)&&n.call(this),this},e.include=function(t){var e,n,o;if(!t||"object"!=typeof t)throw new Error("SimpleModule.include: param should be an object");for(e in t)o=t[e],"included"!==e&&"extended"!==e&&(this.prototype[e]=o);return null!=(n=t.included)&&n.call(this),this},e.plugins={},e.plugin=function(t,e){if(!t||"string"!=typeof t)throw new Error("SimpleModule.plugin: first param should be a string");if("function"!=typeof e)throw new Error("SimpleModule.plugin: second param should be a class");return this.plugins[t]=e,this},e.opts={plugins:[]},e.prototype.plugins={},e.prototype.off=function(t,o){return n.isFunction(o)?e.__super__.off.call(this,t,o):this.removeAllListeners(t)},e.prototype.one=function(){var t;return t=1<=arguments.length?l.call(arguments,0):[],this.once.apply(this,t)},e.prototype.trigger=function(){var t;return t=1<=arguments.length?l.call(arguments,0):[],this.emit.apply(this,t)},e.prototype.triggerAsync=function(){var t;return t=1<=arguments.length?l.call(arguments,0):[],this.emitAsync.apply(this,t)},e}(t),o?module.exports=e:window.SimpleModule=e}).call(this);