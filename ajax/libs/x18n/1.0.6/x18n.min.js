(function(){var t;t=function(){function t(e){var n,i,o;null==e&&(e={}),e.__observable={lastIds:{},events:{},ids:[]},o=t.prototype;for(i in o)n=o[i],e[i]=n;return e}var e;return e={is:function(t,e){return Object.prototype.toString.call(e).match(/\s(\w+)/)[1].toLowerCase()===t},isPlainObject:function(t){return!!t&&e.is("object",t)},toArray:function(t){return e.is("array",t)?t:[t]}},t.prototype.on=function(t,n,i){var o,r,s,l,a,c;if(e.isPlainObject(t)){i=n;for(r in t)n=t[r],this.on(r,n,i)}else for(t=e.toArray(t),this.__observable.ids.length=0,a=0,c=t.length;c>a;a++)r=t[a],(s=this.__observable.lastIds)[r]||(s[r]=0),o=""+r+";"+ ++this.__observable.lastIds[r],i&&(o+=" once"),this.__observable.ids.push(o),(l=this.__observable.events)[r]||(l[r]={}),this.__observable.events[r][o]=n;return this},t.prototype.once=function(t,e){return this.on(t,e,!0)},t.prototype.off=function(t){var e,n,i,o,r;if(void 0===t)this.__observable.events={};else for(r=t.__observable.ids,i=0,o=r.length;o>i;i++)e=r[i],n=e.substr(0,e.lastIndexOf(";")).split(" ")[0],t.__observable.events[n]&&delete t.__observable.events[n][e];return this},t.prototype.trigger=function(t,e){var n,i,o;null==e&&(e=[]),o=this.__observable.events[t];for(i in o)n=o[i],n.apply(null,e),i.lastIndexOf(" once")===i.length-1&&this.off(i);return this},t}(),"function"==typeof define&&define.amd?define("observable",[],function(){return t}):"undefined"!=typeof exports?module.exports=t:window.Observable=t}).call(this),function(){var t,e,n=[].slice,i=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};e=function(t){var e;return e=function(){function e(){}var o,r;return e.dict={},e.defaultlocal="en",e.chosenLocal=void 0,e.availableLocales=[],e.locales=[],e.dynamicBindings=!0,e.missingTranslations={},o=new t,e.__observable=o.__observable,e.on=o.on,e.once=o.once,e.off=o.off,e.trigger=o.trigger,e.utils={merge:function(t,e){var n,i,o;i=[];for(n in e)o=e[n],"object"==typeof o&&"object"==typeof t[n]?i.push(this.merge(t[n],o)):i.push(t[n]=o);return i},filter:function(t,e){var n,i,o,r;for(o=[],n=0,i=t.length;i>n;n++)r=t[n],e(r)&&o.push(r);return o},unique:function(t){var e,n,i,o,r,s;for(r={},e=0,i=t.length;i>e;e++)s=t[e],r[s]=s;o=[];for(n in r)s=r[n],o.push(s);return o},getByDotNotation:function(t,e){var n;for(n=e.split(".");0!==n.length&&void 0!==t;)t=t[n[0]],n.shift();return t},isPlainObject:function(t){return!!t&&"[object Object]"===Object.prototype.toString.call(t)}},e.register=function(t,e){return t in this.dict||(this.dict[t]={},this.availableLocales.push(t)),this.utils.merge(this.dict[t],e),this.trigger("dict:change")},e.set=function(t){return this.chosenLocal=t,this.sortLocales()},e.setDefault=function(t){return this.defaultLocal=t,this.sortLocales()},e.detectLocal=function(){return navigator.userLanguage||navigator.language},e.similiarLocales=function(t){return t=String(t).slice(0,2).toLowerCase(),this.utils.filter(this.availableLocales,function(e){return t===e?!1:0===e.toLowerCase().indexOf(t)})},e.sortLocales=function(){var t,e,o,r,s;for(t=[this.chosenLocal].concat(n.call(this.similiarLocales(this.chosenLocal)),[this.detectLocal()],n.call(this.similiarLocales(this.detectLocal)),[this.defaultlocal],[this.similiarLocales(this.defaultlocal)],["en"],n.call(this.similiarLocales("en"))),s=[],e=0,o=t.length;o>e;e++)r=t[e],i.call(this.availableLocales,r)>=0&&s.push(r);return s.push.apply(s,this.availableLocales),this.locales=this.utils.unique(s),this.trigger("lang:change")},e.resolveBindings=function(t){return t=String(t),this.dynamicBindings?t.replace(/\$\{([^}]+)\}/g,function(t,n){return e.globalEval(n)}):t},e.interpolate=function(){var t,e;return e=arguments[0],t=2<=arguments.length?n.call(arguments,1):[],e=this.utils.isPlainObject(t[0])?e.replace(/%\{([^}]+)\}/g,function(e,n){return t[0][n]}):e.replace(/%(\d+)/g,function(e,n){return t[Number(n)-1]}),this.resolveBindings(e)},e.globalEval=function(t){return(window.execScript||function(t){return eval.call(window,t)})(t)},r=window.t,e.t=function(){var t,i,o,r,s,l,a;for(o=arguments[0],i=2<=arguments.length?n.call(arguments,1):[],a=void 0,l=e.locales,t=0,r=l.length;r>t&&(s=l[t],!(a=e.utils.getByDotNotation(e.dict[s],o)));t++)s in e.missingTranslations||(e.missingTranslations[s]=[]),e.missingTranslations[s].push(o),e.missingTranslations[s]=e.utils.unique(e.missingTranslations[s]),e.trigger("missing-translation",[s,o]);return"string"==typeof a?a=e.interpolate.apply(e,[e.resolveBindings(a)].concat(n.call(i))):void 0!==a&&(a.plural=function(t){return t=e.resolveBindings(t),t in a?a[t]:e.interpolate(a.n,t)}),a},e.t.noConflict=function(){return window.t=r,e.t},window.t=e.t,e.on("dict:change",function(){return e.sortLocales()}),e}()},"undefined"!=typeof module&&null!==module?(t=require("observable_js"),module.exports=e(t)):"function"==typeof define&&define.amd?define("x18n",["observable"],function(t){return e(t)}):window.x18n=e(window.Observable)}.call(this);
//# sourceMappingURL=x18n.min.js.map