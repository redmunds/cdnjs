jQuery&&function(t){function i(i){var a=t('<span class="minicolors" />'),n=i.attr("data-slider")||t.minicolors.settings.defaultSlider;i.data("initialized")||(a.attr("class",i.attr("data-class")).attr("style",i.attr("data-style")).toggleClass("minicolors-swatch-left","left"===i.attr("data-swatch-position")).toggleClass("minicolors-with-opacity",void 0!==i.attr("data-opacity")),void 0!==i.attr("data-position")&&t.each(i.attr("data-position").split(" "),function(){a.addClass("minicolors-position-"+this)}),i.data("initialized",!0).attr("data-default",i.attr("data-default")||"").attr("data-slider",n).prop("size",7).prop("maxlength",7).wrap(a).after('<span class="minicolors-panel minicolors-slider-'+n+'"><span class="minicolors-slider"><span class="minicolors-picker"></span></span><span class="minicolors-opacity-slider"><span class="minicolors-picker"></span></span><span class="minicolors-grid"><span class="minicolors-grid-inner"></span><span class="minicolors-picker"><span></span></span></span></span>'),i.parent().find(".minicolors-panel").on("selectstart",function(){return!1}).end(),"left"===i.attr("data-swatch-position")?i.before('<span class="minicolors-swatch"><span></span></span>'):i.after('<span class="minicolors-swatch"><span></span></span>'),"false"===i.attr("data-textfield")&&i.addClass("minicolors-hidden"),"inline"===i.attr("data-control")&&i.parent().addClass("minicolors-inline"),c(i))}function a(t){c(t)}function n(t){var i=t.parent();t.data("initialized")&&i.hasClass("minicolors")&&i.remove()}function o(i){var a=i.parent(),n=a.find(".minicolors-panel");!i.data("initialized")||i.prop("disabled")||a.hasClass("minicolors-focus")||(s(),a.addClass("minicolors-focus"),n.stop(!0,!0).fadeIn(t.minicolors.settings.showSpeed,function(){i.trigger("show",i)}))}function s(){t(".minicolors:not(.minicolors-inline)").each(function(){var i=t(this),a=i.find("INPUT");i.find(".minicolors-panel").fadeOut(t.minicolors.settings.hideSpeed,function(){i.hasClass("minicolors-focus")&&a.trigger("hide",a),i.removeClass("minicolors-focus")})})}function r(i,a,n){var o,s,r,c,l=i.parents(".minicolors").find("INPUT"),h=i.find("[class$=-picker]"),d=i.offset().left,p=i.offset().top,f=Math.round(a.pageX-d),g=Math.round(a.pageY-p),u=n?t.minicolors.settings.animationSpeed:0;a.originalEvent.changedTouches&&(f=a.originalEvent.changedTouches[0].pageX-d,g=a.originalEvent.changedTouches[0].pageY-p),f<0&&(f=0),g<0&&(g=0),f>i.width()&&(f=i.width()),g>i.height()&&(g=i.height()),i.parent().is(".minicolors-slider-wheel")&&h.parent().is(".minicolors-grid")&&(o=75-f,s=75-g,r=Math.sqrt(o*o+s*s),c=Math.atan2(s,o),c<0&&(c+=2*Math.PI),r>75&&(r=75,f=75-75*Math.cos(c),g=75-75*Math.sin(c)),f=Math.round(f),g=Math.round(g)),i.is(".minicolors-grid")?h.stop(!0).animate({top:g+"px",left:f+"px"},u,t.minicolors.settings.animationEasing,function(){e(l)}):h.stop(!0).animate({top:g+"px"},u,t.minicolors.settings.animationEasing,function(){e(l)})}function e(t){function i(t,i){var a,n;return t.length&&i?(a=t.offset().left,n=t.offset().top,{x:a-i.offset().left+t.outerWidth()/2,y:n-i.offset().top+t.outerHeight()/2}):null}var a,n,o,s,r,e,c,l,h,p=t.parent(),f=(p.find(".minicolors-panel"),p.find(".minicolors-swatch")),u=void 0!==t.attr("data-opacity"),m=t.attr("data-slider"),b=p.find(".minicolors-grid"),v=p.find(".minicolors-slider"),y=p.find(".minicolors-opacity-slider"),w=b.find("[class$=-picker]"),M=v.find("[class$=-picker]"),k=y.find("[class$=-picker]"),x=i(w,b),C=i(M,v),I=i(k,y);switch(m){case"wheel":e=b.width()/2-x.x,c=b.height()/2-x.y,l=Math.sqrt(e*e+c*c),h=Math.atan2(c,e),h<0&&(h+=2*Math.PI),l>75&&(l=75,x.x=69-75*Math.cos(h),x.y=69-75*Math.sin(h)),n=d(l/.75,0,100),a=d(180*h/Math.PI,0,360),o=d(100-Math.floor(C.y*(100/v.height())),0,100),r=g({h:a,s:n,b:o}),v.css("backgroundColor",g({h:a,s:n,b:100}));break;case"saturation":a=d(parseInt(x.x*(360/b.width())),0,360),n=d(100-Math.floor(C.y*(100/v.height())),0,100),o=d(100-Math.floor(x.y*(100/b.height())),0,100),r=g({h:a,s:n,b:o}),v.css("backgroundColor",g({h:a,s:100,b:o})),p.find(".minicolors-grid-inner").css("opacity",n/100);break;case"brightness":a=d(parseInt(x.x*(360/b.width())),0,360),n=d(100-Math.floor(x.y*(100/b.height())),0,100),o=d(100-Math.floor(C.y*(100/v.height())),0,100),r=g({h:a,s:n,b:o}),v.css("backgroundColor",g({h:a,s:n,b:100})),p.find(".minicolors-grid-inner").css("opacity",1-o/100);break;default:a=d(360-parseInt(C.y*(360/v.height())),0,360),n=d(Math.floor(x.x*(100/b.width())),0,100),o=d(100-Math.floor(x.y*(100/b.height())),0,100),r=g({h:a,s:n,b:o}),b.css("backgroundColor",g({h:a,s:100,b:100}))}s=u?parseFloat(1-I.y/y.height()).toFixed(2):1,t.val(r),u&&t.attr("data-opacity",s),f.find("SPAN").css({backgroundColor:r,opacity:s}),r+s!==t.data("last-change")&&t.data("last-change",r+s).trigger("change",t)}function c(t,i){var a,n,o,s,r,e,c,p=t.parent(),f=p.find(".minicolors-swatch"),m=void 0!==t.attr("data-opacity"),b=t.attr("data-slider"),v=p.find(".minicolors-grid"),y=p.find(".minicolors-slider"),w=p.find(".minicolors-opacity-slider"),M=v.find("[class$=-picker]"),k=y.find("[class$=-picker]"),x=w.find("[class$=-picker]");switch(a=l(h(t.val(),!0)),a||(a=l(h(t.attr("data-default"),!0))),n=u(a),i||t.val(a),m&&(o=""===t.attr("data-opacity")?1:d(parseFloat(t.attr("data-opacity")).toFixed(2),0,1),t.attr("data-opacity",o),f.find("SPAN").css("opacity",o),r=d(w.height()-w.height()*o,0,w.height()),x.css("top",r+"px")),f.find("SPAN").css("backgroundColor",a),b){case"wheel":e=d(Math.ceil(.75*n.s),0,v.height()/2),c=n.h*Math.PI/180,s=d(75-Math.cos(c)*e,0,v.width()),r=d(75-Math.sin(c)*e,0,v.height()),M.css({top:r+"px",left:s+"px"}),r=150-n.b/(100/v.height()),""===a&&(r=0),k.css("top",r+"px"),y.css("backgroundColor",g({h:n.h,s:n.s,b:100}));break;case"saturation":s=d(5*n.h/12,0,150),r=d(v.height()-Math.ceil(n.b/(100/v.height())),0,v.height()),M.css({top:r+"px",left:s+"px"}),r=d(y.height()-n.s*(y.height()/100),0,y.height()),k.css("top",r+"px"),y.css("backgroundColor",g({h:n.h,s:100,b:n.b})),p.find(".minicolors-grid-inner").css("opacity",n.s/100);break;case"brightness":s=d(5*n.h/12,0,150),r=d(v.height()-Math.ceil(n.s/(100/v.height())),0,v.height()),M.css({top:r+"px",left:s+"px"}),r=d(y.height()-n.b*(y.height()/100),0,y.height()),k.css("top",r+"px"),y.css("backgroundColor",g({h:n.h,s:n.s,b:100})),p.find(".minicolors-grid-inner").css("opacity",1-n.b/100);break;default:s=d(Math.ceil(n.s/(100/v.width())),0,v.width()),r=d(v.height()-Math.ceil(n.b/(100/v.height())),0,v.height()),M.css({top:r+"px",left:s+"px"}),r=d(y.height()-n.h/(360/y.height()),0,y.height()),k.css("top",r+"px"),v.css("backgroundColor",g({h:n.h,s:100,b:100}))}}function l(i){return"uppercase"===t.minicolors.settings.letterCase?i.toUpperCase():i.toLowerCase()}function h(t,i){return t=t.replace(/[^A-F0-9]/gi,""),3!==t.length&&6!==t.length?"":(3===t.length&&i&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),"#"+t)}function d(t,i,a){return t<i&&(t=i),t>a&&(t=a),t}function p(t){var i={},a=Math.round(t.h),n=Math.round(255*t.s/100),o=Math.round(255*t.b/100);if(0===n)i.r=i.g=i.b=o;else{var s=o,r=(255-n)*o/255,e=(s-r)*(a%60)/60;360===a&&(a=0),a<60?(i.r=s,i.b=r,i.g=r+e):a<120?(i.g=s,i.b=r,i.r=s-e):a<180?(i.g=s,i.r=r,i.b=r+e):a<240?(i.b=s,i.r=r,i.g=s-e):a<300?(i.b=s,i.g=r,i.r=r+e):a<360?(i.r=s,i.g=r,i.b=s-e):(i.r=0,i.g=0,i.b=0)}return{r:Math.round(i.r),g:Math.round(i.g),b:Math.round(i.b)}}function f(i){var a=[i.r.toString(16),i.g.toString(16),i.b.toString(16)];return t.each(a,function(t,i){1===i.length&&(a[t]="0"+i)}),"#"+a.join("")}function g(t){return f(p(t))}function u(t){var i=m(b(t));return 0===i.s&&(i.h=360),i}function m(t){var i={h:0,s:0,b:0},a=Math.min(t.r,t.g,t.b),n=Math.max(t.r,t.g,t.b),o=n-a;return i.b=n,i.s=0!==n?255*o/n:0,0!==i.s?t.r===n?i.h=(t.g-t.b)/o:t.g===n?i.h=2+(t.b-t.r)/o:i.h=4+(t.r-t.g)/o:i.h=-1,i.h*=60,i.h<0&&(i.h+=360),i.s*=100/255,i.b*=100/255,i}function b(t){return t=parseInt(t.indexOf("#")>-1?t.substring(1):t,16),{r:t>>16,g:(65280&t)>>8,b:255&t}}t.minicolors={settings:{defaultSlider:"hue",letterCase:"lowercase",hideSpeed:100,showSpeed:100,animationSpeed:100,animationEasing:"swing"},init:function(){t("INPUT[type=minicolors]").each(function(){i(t(this))})},remove:function(i){t(i).each(function(){n(t(this))})},refresh:function(){t("INPUT[type=minicolors]").each(function(){a(t(this))})},show:function(i){o(t(i).eq(0))},hide:function(){s()},rgbObject:function(i){var a=h(t(i).val(),!0),n=b(a),o=i.attr("data-opacity");return n?(void 0!==o&&t.extend(n,{a:parseFloat(o)}),n):null},rgbString:function(i){var a=h(t(i).val(),!0),n=b(a),o=i.attr("data-opacity");return n?void 0===o?"rgb("+n.r+", "+n.g+", "+n.b+")":"rgba("+n.r+", "+n.g+", "+n.b+", "+parseFloat(o)+")":null}},t(window).on("load",function(){t.minicolors.init(),t(document).on("mousedown touchstart",function(i){t(i.target).parents().add(i.target).hasClass("minicolors")||s()}).on("mousedown touchstart",".minicolors-grid, .minicolors-slider, .minicolors-opacity-slider",function(i){var a=t(this);i.preventDefault(),t(document).data("minicolors-target",a),r(a,i,!0)}).on("mousemove touchmove",function(i){var a=t(document).data("minicolors-target");a&&r(a,i)}).on("mouseup touchend",function(){t(this).removeData("minicolors-target")}).on("mousedown touchstart",".minicolors-swatch",function(i){var a=t(this).parent().find("INPUT"),n=a.parent();n.hasClass("minicolors-focus")?s(a):o(a)}).on("focus","INPUT[type=minicolors]",function(i){var a=t(this);a.data("initialized")&&o(a)}).on("blur","INPUT[type=minicolors]",function(i){var a=t(this);a.data("initialized")&&(a.val(l(h(""!==a.val()?a.val():l(h(a.attr("data-default"),!0)),!0))),s(a))}).on("keydown","INPUT[type=minicolors]",function(i){var a=t(this);if(a.data("initialized"))switch(i.keyCode){case 9:s();break;case 27:s(),a.blur()}}).on("keyup","INPUT[type=minicolors]",function(i){var a=t(this);a.data("initialized")&&c(a,!0)}).on("paste","INPUT[type=minicolors]",function(i){var a=t(this);a.data("initialized")&&setTimeout(function(){c(a,!0)},1)})})}(jQuery);
//# sourceMappingURL=jquery.miniColors.min.js.map