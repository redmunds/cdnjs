jQuery&&function(i){function t(t,o){var s=i('<span class="minicolors" />'),n=i.minicolors.defaultSettings;t.data("minicolors-initialized")||(o=i.extend(!0,{},n,o),s.attr("class",s.attr("class")+" "+o.classes).attr("style",o.styles).toggleClass("minicolors-swatch-left","left"===o.swatchPosition).toggleClass("minicolors-with-opacity",o.opacity),void 0!==o.position&&i.each(o.position.split(" "),function(){s.addClass("minicolors-position-"+this)}),t.addClass("minicolors-input").data("minicolors-initialized",!0).data("minicolors-settings",o).prop("size",7).prop("maxlength",7).wrap(s).after('<span class="minicolors-panel minicolors-slider-'+o.control+'"><span class="minicolors-slider"><span class="minicolors-picker"></span></span><span class="minicolors-opacity-slider"><span class="minicolors-picker"></span></span><span class="minicolors-grid"><span class="minicolors-grid-inner"></span><span class="minicolors-picker"><span></span></span></span></span>'),t.parent().find(".minicolors-panel").on("selectstart",function(){return!1}).end(),"left"===o.swatchPosition?t.before('<span class="minicolors-swatch"><span></span></span>'):t.after('<span class="minicolors-swatch"><span></span></span>'),o.textfield||t.addClass("minicolors-hidden"),o.inline&&t.parent().addClass("minicolors-inline"),c(t))}function o(i){var t=i.parent();i.removeData("minicolors-initialized").removeData("minicolors-settings").removeProp("size").removeProp("maxlength").removeClass("minicolors-input"),t.before(i).remove()}function s(i){c(i)}function n(i){var t=i.parent(),o=t.find(".minicolors-panel"),s=i.data("minicolors-settings");!i.data("minicolors-initialized")||i.prop("disabled")||t.hasClass("minicolors-focus")||(a(),t.addClass("minicolors-focus"),o.stop(!0,!0).fadeIn(s.showSpeed,function(){s.show&&s.show.call(i)}))}function a(){i(".minicolors-input").each(function(){var t=i(this),o=t.data("minicolors-settings"),s=t.parent();o.inline||s.find(".minicolors-panel").fadeOut(o.hideSpeed,function(){s.hasClass("minicolors-focus")&&o.hide&&o.hide.call(t),s.removeClass("minicolors-focus")})})}function r(i,t,o){var s,n,a,r,c=i.parents(".minicolors").find("INPUT"),l=c.data("minicolors-settings"),h=i.find("[class$=-picker]"),d=i.offset().left,p=i.offset().top,u=Math.round(t.pageX-d),g=Math.round(t.pageY-p),f=o?l.animationSpeed:0;t.originalEvent.changedTouches&&(u=t.originalEvent.changedTouches[0].pageX-d,g=t.originalEvent.changedTouches[0].pageY-p),u<0&&(u=0),g<0&&(g=0),u>i.width()&&(u=i.width()),g>i.height()&&(g=i.height()),i.parent().is(".minicolors-slider-wheel")&&h.parent().is(".minicolors-grid")&&(s=75-u,n=75-g,a=Math.sqrt(s*s+n*n),r=Math.atan2(n,s),r<0&&(r+=2*Math.PI),a>75&&(a=75,u=75-75*Math.cos(r),g=75-75*Math.sin(r)),u=Math.round(u),g=Math.round(g)),i.is(".minicolors-grid")?h.stop(!0).animate({top:g+"px",left:u+"px"},f,l.animationEasing,function(){e(c)}):h.stop(!0).animate({top:g+"px"},f,l.animationEasing,function(){e(c)})}function e(i){function t(i,t){var o,s;return i.length&&t?(o=i.offset().left,s=i.offset().top,{x:o-t.offset().left+i.outerWidth()/2,y:s-t.offset().top+i.outerHeight()/2}):null}var o,s,n,a,r,e,c,l,h,d=i.parent(),p=i.data("minicolors-settings"),g=(d.find(".minicolors-panel"),d.find(".minicolors-swatch")),f=d.find(".minicolors-grid"),b=d.find(".minicolors-slider"),v=d.find(".minicolors-opacity-slider"),y=f.find("[class$=-picker]"),w=b.find("[class$=-picker]"),M=v.find("[class$=-picker]"),x=t(y,f),k=t(w,b),C=t(M,v);switch(p.control){case"wheel":e=f.width()/2-x.x,c=f.height()/2-x.y,l=Math.sqrt(e*e+c*c),h=Math.atan2(c,e),h<0&&(h+=2*Math.PI),l>75&&(l=75,x.x=69-75*Math.cos(h),x.y=69-75*Math.sin(h)),s=u(l/.75,0,100),o=u(180*h/Math.PI,0,360),n=u(100-Math.floor(k.y*(100/b.height())),0,100),r=m({h:o,s:s,b:n}),b.css("backgroundColor",m({h:o,s:s,b:100}));break;case"saturation":o=u(parseInt(x.x*(360/f.width())),0,360),s=u(100-Math.floor(k.y*(100/b.height())),0,100),n=u(100-Math.floor(x.y*(100/f.height())),0,100),r=m({h:o,s:s,b:n}),b.css("backgroundColor",m({h:o,s:100,b:n})),d.find(".minicolors-grid-inner").css("opacity",s/100);break;case"brightness":o=u(parseInt(x.x*(360/f.width())),0,360),s=u(100-Math.floor(x.y*(100/f.height())),0,100),n=u(100-Math.floor(k.y*(100/b.height())),0,100),r=m({h:o,s:s,b:n}),b.css("backgroundColor",m({h:o,s:s,b:100})),d.find(".minicolors-grid-inner").css("opacity",1-n/100);break;default:o=u(360-parseInt(k.y*(360/b.height())),0,360),s=u(Math.floor(x.x*(100/f.width())),0,100),n=u(100-Math.floor(x.y*(100/f.height())),0,100),r=m({h:o,s:s,b:n}),f.css("backgroundColor",m({h:o,s:100,b:100}))}a=p.opacity?parseFloat(1-C.y/v.height()).toFixed(2):1,i.val(r),p.opacity&&i.attr("data-opacity",a),g.find("SPAN").css({backgroundColor:r,opacity:a}),r+a!==i.data("minicolors-lastChange")&&(i.data("minicolors-lastChange",r+a),p.change&&p.change.call(i,r,a))}function c(i,t){var o,s,n,a,r,e,c,l=i.parent(),h=i.data("minicolors-settings"),g=l.find(".minicolors-swatch"),f=l.find(".minicolors-grid"),v=l.find(".minicolors-slider"),y=l.find(".minicolors-opacity-slider"),w=f.find("[class$=-picker]"),M=v.find("[class$=-picker]"),x=y.find("[class$=-picker]");switch(o=d(p(i.val(),!0)),o||(o=d(p(h.defaultValue,!0))),s=b(o),t||i.val(o),h.opacity&&(n=""===i.attr("data-opacity")?1:u(parseFloat(i.attr("data-opacity")).toFixed(2),0,1),i.attr("data-opacity",n),g.find("SPAN").css("opacity",n),r=u(y.height()-y.height()*n,0,y.height()),x.css("top",r+"px")),g.find("SPAN").css("backgroundColor",o),h.control){case"wheel":e=u(Math.ceil(.75*s.s),0,f.height()/2),c=s.h*Math.PI/180,a=u(75-Math.cos(c)*e,0,f.width()),r=u(75-Math.sin(c)*e,0,f.height()),w.css({top:r+"px",left:a+"px"}),r=150-s.b/(100/f.height()),""===o&&(r=0),M.css("top",r+"px"),v.css("backgroundColor",m({h:s.h,s:s.s,b:100}));break;case"saturation":a=u(5*s.h/12,0,150),r=u(f.height()-Math.ceil(s.b/(100/f.height())),0,f.height()),w.css({top:r+"px",left:a+"px"}),r=u(v.height()-s.s*(v.height()/100),0,v.height()),M.css("top",r+"px"),v.css("backgroundColor",m({h:s.h,s:100,b:s.b})),l.find(".minicolors-grid-inner").css("opacity",s.s/100);break;case"brightness":a=u(5*s.h/12,0,150),r=u(f.height()-Math.ceil(s.s/(100/f.height())),0,f.height()),w.css({top:r+"px",left:a+"px"}),r=u(v.height()-s.b*(v.height()/100),0,v.height()),M.css("top",r+"px"),v.css("backgroundColor",m({h:s.h,s:s.s,b:100})),l.find(".minicolors-grid-inner").css("opacity",1-s.b/100);break;default:a=u(Math.ceil(s.s/(100/f.width())),0,f.width()),r=u(f.height()-Math.ceil(s.b/(100/f.height())),0,f.height()),w.css({top:r+"px",left:a+"px"}),r=u(v.height()-s.h/(360/v.height()),0,v.height()),M.css("top",r+"px"),f.css("backgroundColor",m({h:s.h,s:100,b:100}))}}function l(t){var o=p(i(t).val(),!0),s=y(o),n=i(t).attr("data-opacity");return s?(void 0!==n&&i.extend(s,{a:parseFloat(n)}),s):null}function h(t,o){var s=p(i(t).val(),!0),n=y(s),a=i(t).attr("data-opacity");return n?(void 0===a&&(a=1),o?"rgba("+n.r+", "+n.g+", "+n.b+", "+parseFloat(a)+")":"rgb("+n.r+", "+n.g+", "+n.b+")"):null}function d(i,t){return"uppercase"===t?i.toUpperCase():i.toLowerCase()}function p(i,t){return i=i.replace(/[^A-F0-9]/gi,""),3!==i.length&&6!==i.length?"":(3===i.length&&t&&(i=i[0]+i[0]+i[1]+i[1]+i[2]+i[2]),"#"+i)}function u(i,t,o){return i<t&&(i=t),i>o&&(i=o),i}function g(i){var t={},o=Math.round(i.h),s=Math.round(255*i.s/100),n=Math.round(255*i.b/100);if(0===s)t.r=t.g=t.b=n;else{var a=n,r=(255-s)*n/255,e=(a-r)*(o%60)/60;360===o&&(o=0),o<60?(t.r=a,t.b=r,t.g=r+e):o<120?(t.g=a,t.b=r,t.r=a-e):o<180?(t.g=a,t.r=r,t.b=r+e):o<240?(t.b=a,t.r=r,t.g=a-e):o<300?(t.b=a,t.g=r,t.r=r+e):o<360?(t.r=a,t.g=r,t.b=a-e):(t.r=0,t.g=0,t.b=0)}return{r:Math.round(t.r),g:Math.round(t.g),b:Math.round(t.b)}}function f(t){var o=[t.r.toString(16),t.g.toString(16),t.b.toString(16)];return i.each(o,function(i,t){1===t.length&&(o[i]="0"+t)}),"#"+o.join("")}function m(i){return f(g(i))}function b(i){var t=v(y(i));return 0===t.s&&(t.h=360),t}function v(i){var t={h:0,s:0,b:0},o=Math.min(i.r,i.g,i.b),s=Math.max(i.r,i.g,i.b),n=s-o;return t.b=s,t.s=0!==s?255*n/s:0,0!==t.s?i.r===s?t.h=(i.g-i.b)/n:i.g===s?t.h=2+(i.b-i.r)/n:t.h=4+(i.r-i.g)/n:t.h=-1,t.h*=60,t.h<0&&(t.h+=360),t.s*=100/255,t.b*=100/255,t}function y(i){return i=parseInt(i.indexOf("#")>-1?i.substring(1):i,16),{r:i>>16,g:(65280&i)>>8,b:255&i}}i.minicolors={defaultSettings:{animationSpeed:100,animationEasing:"swing",classes:"",control:"hue",defaultValue:"",hideSpeed:100,inline:!1,letterCase:"lowercase",opacity:!1,position:"default",showSpeed:100,styles:"",swatchPosition:"left",textfield:!0,change:null,hide:null,show:null}},i.extend(i.fn,{minicolors:function(n,a){switch(n){case"destroy":return i(this).each(function(){o(i(this))}),i(this);case"opacity":return void 0===a?i(this).attr("data-opacity"):(i(this).each(function(){s(i(this).attr("data-opacity",a))}),i(this));case"rgbObject":return l(i(this),"rgbaObject"===n);case"rgbString":case"rgbaString":return h(i(this),"rgbaString"===n);case"settings":return void 0===a?i(this).data("minicolors-settings"):(i(this).each(function(){var t=i(this).data("minicolors-settings")||{};o(i(this)),i(this).minicolors(i.extend(!0,t,a))}),i(this));case"value":return void 0===a?i(this).val():(i(this).each(function(){s(i(this).val(a))}),i(this));case"create":default:return"create"!==n&&(a=n),i(this).each(function(){t(i(this),a)}),i(this)}}}),i(document).on("mousedown.minicolors touchstart.minicolors",function(t){i(t.target).parents().add(t.target).hasClass("minicolors")||a()}).on("mousedown.minicolors touchstart.minicolors",".minicolors-grid, .minicolors-slider, .minicolors-opacity-slider",function(t){var o=i(this);t.preventDefault(),i(document).data("minicolors-target",o),r(o,t,!0)}).on("mousemove.minicolors touchmove.minicolors",function(t){var o=i(document).data("minicolors-target");o&&r(o,t)}).on("mouseup.minicolors touchend.minicolors",function(){i(this).removeData("minicolors-target")}).on("mousedown.minicolors touchstart.minicolors",".minicolors-swatch",function(t){var o=i(this).parent().find("INPUT"),s=o.parent();s.hasClass("minicolors-focus")?a(o):n(o)}).on("focus.minicolors",".minicolors-input",function(t){var o=i(this);o.data("minicolors-initialized")&&n(o)}).on("blur.minicolors",".minicolors-input",function(t){var o=i(this),s=o.data("minicolors-settings");o.data("minicolors-initialized")&&(o.val(p(o.val(),!0)),""===o.val()&&o.val(p(s.defaultValue,!0)),o.val(d(o.val(),s.letterCase)),a(o))}).on("keydown.minicolors",".minicolors-input",function(t){var o=i(this);if(o.data("minicolors-initialized"))switch(t.keyCode){case 9:a();break;case 27:a(),o.blur()}}).on("keyup.minicolors",".minicolors-input",function(t){var o=i(this);o.data("minicolors-initialized")&&c(o,!0)}).on("paste.minicolors",".minicolors-input",function(t){var o=i(this);o.data("minicolors-initialized")&&setTimeout(function(){c(o,!0)},1)})}(jQuery);