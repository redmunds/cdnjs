!function(){function e(e,n){"use strict";var r=new t(e,n);return r.beautify()}function t(e,t){"use strict";function n(e,t){return{mode:t,last_text:e?e.last_text:"",last_word:e?e.last_word:"",var_line:!1,var_line_tainted:!1,var_line_reindented:!1,in_html_comment:!1,multiline_array:!1,if_block:!1,do_block:!1,do_while:!1,in_case_statement:!1,in_case:!1,case_body:!1,indentation_level:e?e.indentation_level+(e.var_line&&e.var_line_reindented?1:0):0,ternary_depth:0}}function r(e){for(e=void 0===e?!1:e;z.length&&(" "===z[z.length-1]||z[z.length-1]===$||z[z.length-1]===Te||e&&("\n"===z[z.length-1]||"\r"===z[z.length-1]));)z.pop()}function _(e){return e.replace(/^\s\s*|\s\s*$/,"")}function i(e){e=e.replace(/\x0d/g,"");for(var t=[],n=e.indexOf("\n");-1!==n;)t.push(e.substring(0,n)),e=e.substring(n+1),n=e.indexOf("\n");return e.length&&t.push(e),t}function a(){return z.length&&"\n"===z[z.length-1]}function o(e,t){var n=e.length-1;for(0>n&&(n+=e.length),n>e.length-1&&(n=e.length-1),n++;n-- >0;)if(n in e&&e[n]===t)return n;return-1}function l(e){if(e=void 0===e?!1:e,fe.wrap_line_length&&!e){var t="",n=0,r=o(z,"\n")+1;r<z.length&&(t=z.slice(r).join(""),n=t.length+U.length+(ae?1:0),n>=fe.wrap_line_length&&(e=!0))}(fe.preserve_newlines&&_e||e)&&!a()&&(s(!1,!0),ie=!0,_e=!1)}function s(e,t){if(ie=!1,ae=!1,!t&&";"!==Z.last_text)for(;Z.mode===de.Statement&&!Z.if_block;)E();Z.mode===de.ArrayLiteral&&(Z.multiline_array=!0),z.length&&(!e&&a()||z.push("\n"))}function c(){a()&&(fe.keep_array_indentation&&K(Z.mode)&&se.length?z.push(se.join("")+""):(Te&&z.push(Te),d(Z.indentation_level),d(Z.var_line&&Z.var_line_reindented),d(ie)))}function d(e){if(void 0===e?e=1:"number"!=typeof e&&(e=e?1:0),""!==Z.last_text)for(var t=0;e>t;t+=1)z.push($)}function f(){if(ae&&z.length){var e=z[z.length-1];a()||" "===e||e===$||z.push(" ")}}function T(e){e=e||U,c(),ie=!1,f(),ae=!1,z.push(e)}function u(){Z.indentation_level+=1}function h(e){Z?(H.push(Z),q=Z):q=n(null,e),Z=n(q,e)}function K(e){return e===de.ArrayLiteral}function p(e){return m(e,[de.Expression,de.ForInitializer,de.Conditional])}function E(){H.length>0&&(q=Z,Z=H.pop())}function A(){return"do"===Z.last_text||"else"===Z.last_text&&"if"!==U||"TK_END_EXPR"===Q&&(q.mode===de.ForInitializer||q.mode===de.Conditional)?(l(),h(de.Statement),u(),ie=!1,!0):!1}function v(e,t){for(var n=0;n<e.length;n++){var r=_(e[n]);if(r.charAt(0)!==t)return!1}return!0}function O(e){return m(e,["case","return","do","if","throw","else"])}function m(e,t){for(var n=0;n<t.length;n+=1)if(t[n]===e)return!0;return!1}function x(e){for(var t,n=!1,r="",_=0,i="",a=0;n||_<e.length;)if(t=e.charAt(_),_++,n){if(n=!1,"x"===t)i=e.substr(_,2),_+=2;else{if("u"!==t){r+="\\"+t;continue}i=e.substr(_,4),_+=4}if(!i.match(/^[0123456789abcdefABCDEF]+$/))return e;if(a=parseInt(i,16),a>=0&&32>a){r+="x"===t?"\\x"+i:"\\u"+i;continue}if(34===a||39===a||92===a)r+="\\"+String.fromCharCode(a);else{if("x"===t&&a>126&&255>=a)return e;r+=String.fromCharCode(a)}}else"\\"===t?n=!0:r+=t;return r}function R(e){for(var t=ee,n=X.charAt(t);m(n,J)&&n!==e;){if(t++,t>=oe)return!1;n=X.charAt(t)}return n===e}function N(){var e;if(le=0,ee>=oe)return["","TK_EOF"];_e=!1,se=[];var t=X.charAt(ee);for(ee+=1;m(t,J);){if("\n"===t?(le+=1,se=[]):le&&(t===$?se.push($):"\r"!==t&&se.push(" ")),ee>=oe)return["","TK_EOF"];t=X.charAt(ee),ee+=1}if(m(t,V)){if(oe>ee)for(;m(X.charAt(ee),V)&&(t+=X.charAt(ee),ee+=1,ee!==oe););if(ee!==oe&&t.match(/^[0-9]+[Ee]$/)&&("-"===X.charAt(ee)||"+"===X.charAt(ee))){var n=X.charAt(ee);ee+=1;var r=N();return t+=n+r[0],[t,"TK_WORD"]}return"in"===t?[t,"TK_OPERATOR"]:[t,"TK_WORD"]}if("("===t||"["===t)return[t,"TK_START_EXPR"];if(")"===t||"]"===t)return[t,"TK_END_EXPR"];if("{"===t)return[t,"TK_START_BLOCK"];if("}"===t)return[t,"TK_END_BLOCK"];if(";"===t)return[t,"TK_SEMICOLON"];if("/"===t){var i="",a=!0;if("*"===X.charAt(ee)){if(ee+=1,oe>ee)for(;oe>ee&&("*"!==X.charAt(ee)||!X.charAt(ee+1)||"/"!==X.charAt(ee+1))&&(t=X.charAt(ee),i+=t,"\n"!==t&&"\r"!==t||(a=!1),ee+=1,!(ee>=oe)););return ee+=2,a&&0===le?["/*"+i+"*/","TK_INLINE_COMMENT"]:["/*"+i+"*/","TK_BLOCK_COMMENT"]}if("/"===X.charAt(ee)){for(i=t;"\r"!==X.charAt(ee)&&"\n"!==X.charAt(ee)&&(i+=X.charAt(ee),ee+=1,!(ee>=oe)););return[i,"TK_COMMENT"]}}if("'"===t||'"'===t||("/"===t||fe.e4x&&"<"===t&&X.slice(ee-1).match(/^<[a-zA-Z:0-9]+\s*([a-zA-Z:0-9]+="[^"]*"\s*)*\/?\s*>/))&&("TK_WORD"===Q&&O(Z.last_text)||"TK_END_EXPR"===Q&&m(q.mode,[de.Conditional,de.ForInitializer])||m(Q,["TK_COMMENT","TK_START_EXPR","TK_START_BLOCK","TK_END_BLOCK","TK_OPERATOR","TK_EQUALS","TK_EOF","TK_SEMICOLON","TK_COMMA"]))){var o=t,l=!1,s=!1;if(e=t,oe>ee)if("/"===o){for(var c=!1;l||c||X.charAt(ee)!==o;)if(e+=X.charAt(ee),l?l=!1:(l="\\"===X.charAt(ee),"["===X.charAt(ee)?c=!0:"]"===X.charAt(ee)&&(c=!1)),ee+=1,ee>=oe)return[e,"TK_STRING"]}else if(fe.e4x&&"<"===o){var d=/<(\/?)([a-zA-Z:0-9]+)\s*([a-zA-Z:0-9]+="[^"]*"\s*)*(\/?)\s*>/g,f=X.slice(ee-1),T=d.exec(f);if(T&&0===T.index){for(var u=T[2],h=0;T;){var K=!!T[1],p=T[2],E=!!T[T.length-1];if(p!==u||E||(K?--h:++h),0>=h)break;T=d.exec(f)}var A=T?T.index+T[0].length:f.length;return ee+=A-1,[f.slice(0,A),"TK_STRING"]}}else for(;l||X.charAt(ee)!==o;)if(e+=X.charAt(ee),l?("x"!==X.charAt(ee)&&"u"!==X.charAt(ee)||(s=!0),l=!1):l="\\"===X.charAt(ee),ee+=1,ee>=oe)return[e,"TK_STRING"];if(ee+=1,e+=o,s&&fe.unescape_strings&&(e=x(e)),"/"===o)for(;oe>ee&&m(X.charAt(ee),V);)e+=X.charAt(ee),ee+=1;return[e,"TK_STRING"]}if("#"===t){if(0===z.length&&"!"===X.charAt(ee)){for(e=t;oe>ee&&"\n"!==t;)t=X.charAt(ee),e+=t,ee+=1;return[_(e)+"\n","TK_UNKNOWN"]}var v="#";if(oe>ee&&m(X.charAt(ee),ne)){do t=X.charAt(ee),v+=t,ee+=1;while(oe>ee&&"#"!==t&&"="!==t);return"#"===t||("["===X.charAt(ee)&&"]"===X.charAt(ee+1)?(v+="[]",ee+=2):"{"===X.charAt(ee)&&"}"===X.charAt(ee+1)&&(v+="{}",ee+=2)),[v,"TK_WORD"]}}if("<"===t&&"<!--"===X.substring(ee-1,ee+3)){for(ee+=3,t="<!--";"\n"!==X.charAt(ee)&&oe>ee;)t+=X.charAt(ee),ee++;return Z.in_html_comment=!0,[t,"TK_COMMENT"]}if("-"===t&&Z.in_html_comment&&"-->"===X.substring(ee-1,ee+2))return Z.in_html_comment=!1,ee+=2,["-->","TK_COMMENT"];if("."===t)return[t,"TK_DOT"];if(m(t,Y)){for(;oe>ee&&m(t+X.charAt(ee),Y)&&(t+=X.charAt(ee),ee+=1,!(ee>=oe)););return","===t?[t,"TK_COMMA"]:"="===t?[t,"TK_EQUALS"]:[t,"TK_OPERATOR"]}return[t,"TK_UNKNOWN"]}function b(){if(A(),"["===U){if("TK_WORD"===Q||")"===Z.last_text)return m(Z.last_text,te)&&(ae=!0),h(de.Expression),T(),void(fe.space_in_paren&&(ae=!0));K(Z.mode)&&("["!==Z.last_text&&(","!==Z.last_text||"]"!==G&&"}"!==G)||fe.keep_array_indentation||s())}else h("for"===Z.last_text?de.ForInitializer:m(Z.last_text,["if","while"])?de.Conditional:de.Expression);";"===Z.last_text||"TK_START_BLOCK"===Q?s():"TK_END_EXPR"===Q||"TK_START_EXPR"===Q||"TK_END_BLOCK"===Q||"."===Z.last_text?_e&&s():"TK_WORD"!==Q&&"TK_OPERATOR"!==Q?ae=!0:"function"===Z.last_word||"typeof"===Z.last_word?fe.jslint_happy&&(ae=!0):(m(Z.last_text,te)||"catch"===Z.last_text)&&fe.space_before_conditional&&(ae=!0),"("===U&&("TK_EQUALS"!==Q&&"TK_OPERATOR"!==Q||Z.mode!==de.ObjectLiteral&&l()),T(),fe.space_in_paren&&(ae=!0),"["===U&&(h(de.ArrayLiteral),u())}function S(){for(;Z.mode===de.Statement;)E();"]"===U&&K(Z.mode)&&Z.multiline_array&&!fe.keep_array_indentation&&s(),E(),fe.space_in_paren&&(ae=!0),T(),Z.do_while&&q.mode===de.Conditional&&(q.mode=de.Expression,Z.do_block=!1,Z.do_while=!1)}function y(){h(de.BlockStatement);var e=R("}"),t=e&&"function"===Z.last_word&&"TK_END_EXPR"===Q;"expand"===fe.brace_style?"TK_OPERATOR"!==Q&&(t||"TK_EQUALS"===Q||O(Z.last_text)&&"else"!==Z.last_text)?ae=!0:s():"TK_OPERATOR"!==Q&&"TK_START_EXPR"!==Q?"TK_START_BLOCK"===Q?s():ae=!0:K(q.mode)&&","===Z.last_text&&("}"===G?ae=!0:s()),T(),u()}function L(){for(;Z.mode===de.Statement;)E();E();var e="TK_START_BLOCK"===Q;"expand"===fe.brace_style?e||s():e||(K(Z.mode)&&fe.keep_array_indentation?(fe.keep_array_indentation=!1,s(),fe.keep_array_indentation=!0):s()),T()}function C(){if(A()||!_e||p(Z.mode)||"TK_OPERATOR"===Q&&"--"!==Z.last_text&&"++"!==Z.last_text||"TK_EQUALS"===Q||!fe.preserve_newlines&&"var"===Z.last_text||s(),Z.do_block&&!Z.do_while){if("while"===U)return ae=!0,T(),ae=!0,void(Z.do_while=!0);s(),Z.do_block=!1}if(Z.if_block&&"else"!==U){for(;Z.mode===de.Statement;)E();Z.if_block=!1}if("function"===U){if(Z.var_line&&"TK_EQUALS"!==Q&&(Z.var_line_reindented=!0),(a()||";"===Z.last_text)&&"{"!==Z.last_text&&!K(Z.mode)){le=a()?le:0,fe.preserve_newlines||(le=1);for(var e=0;2-le>e;e++)s(!0)}return"TK_WORD"===Q?"get"===Z.last_text||"set"===Z.last_text||"new"===Z.last_text||"return"===Z.last_text?ae=!0:s():"TK_OPERATOR"===Q||"="===Z.last_text?ae=!0:p(Z.mode)||s(),T(),void(Z.last_word=U)}return"case"===U||"default"===U&&Z.in_case_statement?(s(),(Z.case_body||fe.jslint_happy)&&(Z.indentation_level--,Z.case_body=!1),T(),Z.in_case=!0,void(Z.in_case_statement=!0)):(re="NONE","TK_END_BLOCK"===Q?m(U,["else","catch","finally"])?"expand"===fe.brace_style||"end-expand"===fe.brace_style?re="NEWLINE":(re="SPACE",ae=!0):re="NEWLINE":"TK_SEMICOLON"===Q&&Z.mode===de.BlockStatement?re="NEWLINE":"TK_SEMICOLON"===Q&&p(Z.mode)?re="SPACE":"TK_STRING"===Q?re="NEWLINE":"TK_WORD"===Q?re="SPACE":"TK_START_BLOCK"===Q?re="NEWLINE":"TK_END_EXPR"===Q&&(ae=!0,re="NEWLINE"),m(U,te)&&")"!==Z.last_text&&(re="else"===Z.last_text?"SPACE":"NEWLINE"),"TK_COMMA"!==Q&&"TK_START_EXPR"!==Q&&"TK_EQUALS"!==Q&&"TK_OPERATOR"!==Q||Z.mode!==de.ObjectLiteral&&l(),m(U,["else","catch","finally"])?"TK_END_BLOCK"!==Q||"expand"===fe.brace_style||"end-expand"===fe.brace_style?s():(r(!0),"}"!==z[z.length-1]&&s(),ae=!0):"NEWLINE"===re?O(Z.last_text)?ae=!0:"TK_END_EXPR"!==Q?"TK_START_EXPR"===Q&&"var"===U||":"===Z.last_text||("if"===U&&"else"===Z.last_word&&"{"!==Z.last_text?ae=!0:(Z.var_line=!1,Z.var_line_reindented=!1,s())):m(U,te)&&")"!==Z.last_text&&(Z.var_line=!1,Z.var_line_reindented=!1,s()):K(Z.mode)&&","===Z.last_text&&"}"===G?s():"SPACE"===re&&(ae=!0),T(),Z.last_word=U,"var"===U&&(Z.var_line=!0,Z.var_line_reindented=!1,Z.var_line_tainted=!1),"do"===U&&(Z.do_block=!0),void("if"===U&&(Z.if_block=!0)))}function g(){for(;Z.mode===de.Statement&&!Z.if_block;)E();T(),Z.var_line=!1,Z.var_line_reindented=!1,Z.mode===de.ObjectLiteral&&(Z.mode=de.BlockStatement)}function w(){A()?ae=!0:"TK_WORD"===Q?ae=!0:"TK_COMMA"===Q||"TK_START_EXPR"===Q||"TK_EQUALS"===Q||"TK_OPERATOR"===Q?Z.mode!==de.ObjectLiteral&&l():s(),T()}function M(){Z.var_line&&(Z.var_line_tainted=!0),ae=!0,T(),ae=!0}function k(){return Z.var_line?((p(Z.mode)||"TK_END_BLOCK"===Q)&&(Z.var_line_tainted=!1),Z.var_line&&(Z.var_line_reindented=!0),T(),void(Z.var_line_tainted?(Z.var_line_tainted=!1,s()):ae=!0)):void("TK_END_BLOCK"===Q&&Z.mode!==de.Expression?(T(),Z.mode===de.ObjectLiteral&&"}"===Z.last_text?s():ae=!0):Z.mode===de.ObjectLiteral?(T(),s()):(T(),ae=!0))}function I(){var e=!0,t=!0;return O(Z.last_text)?(ae=!0,void T()):"*"!==U||"TK_DOT"!==Q||G.match(/^\d+$/)?":"===U&&Z.in_case?(Z.case_body=!0,u(),T(),s(),void(Z.in_case=!1)):"::"===U?void T():(!_e||"--"!==U&&"++"!==U||s(),m(U,["--","++","!"])||m(U,["-","+"])&&(m(Q,["TK_START_BLOCK","TK_START_EXPR","TK_EQUALS","TK_OPERATOR"])||m(Z.last_text,te)||","===Z.last_text)?(e=!1,t=!1,";"===Z.last_text&&p(Z.mode)&&(e=!0),"TK_WORD"===Q&&m(Z.last_text,te)&&(e=!0),Z.mode!==de.BlockStatement&&Z.mode!==de.Statement||"{"!==Z.last_text&&";"!==Z.last_text||s()):":"===U?0===Z.ternary_depth?(Z.mode===de.BlockStatement&&(Z.mode=de.ObjectLiteral),e=!1):Z.ternary_depth-=1:"?"===U&&(Z.ternary_depth+=1),ae=ae||e,T(),void(ae=t)):void T()}function P(){var e,t=i(U);if(v(t.slice(1),"*"))for(s(!1,!0),T(t[0]),e=1;e<t.length;e++)s(!1,!0),T(" "+_(t[e]));else for(t.length>1?s(!1,!0):"TK_END_BLOCK"===Q?s(!1,!0):ae=!0,T(t[0]),z.push("\n"),e=1;e<t.length;e++)z.push(t[e]),z.push("\n");R("\n")||s(!1,!0)}function D(){ae=!0,T(),ae=!0}function B(){_e?s(!1,!0):r(!0),ae=!0,T(),s(!1,!0)}function j(){O(Z.last_text)?ae=!0:l(")"===Z.last_text&&fe.break_chained_methods),T()}function W(){T(),"\n"===U[U.length-1]&&s()}var X,z,U,F,Q,G,$,Z,q,H,J,V,Y,ee,te,ne,re,_e,ie,ae,oe,le,se,ce,de,fe,Te="";for(J="\n\r	 ".split(""),V="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789_$".split(""),ne="0123456789".split(""),Y="+ - * / % & ++ -- = += -= *= /= %= == === != !== > < >= <= >> << >>> >>>= >>= <<= && &= | || ! !! , : ? ^ ^= |= ::",Y+=" <%= <% %> <?= <? ?>",Y=Y.split(" "),te="continue,try,throw,return,var,if,switch,case,default,for,while,break,function".split(","),de={BlockStatement:"BlockStatement",Statement:"Statement",ObjectLiteral:"ObjectLiteral",ArrayLiteral:"ArrayLiteral",ForInitializer:"ForInitializer",Conditional:"Conditional",Expression:"Expression"},ce={TK_START_EXPR:b,TK_END_EXPR:S,TK_START_BLOCK:y,TK_END_BLOCK:L,TK_WORD:C,TK_SEMICOLON:g,TK_STRING:w,TK_EQUALS:M,TK_OPERATOR:I,TK_COMMA:k,TK_BLOCK_COMMENT:P,TK_INLINE_COMMENT:D,TK_COMMENT:B,TK_DOT:j,TK_UNKNOWN:W},t=t?t:{},fe={},void 0!==t.space_after_anon_function&&void 0===t.jslint_happy&&(t.jslint_happy=t.space_after_anon_function),void 0!==t.braces_on_own_line&&(fe.brace_style=t.braces_on_own_line?"expand":"collapse"),fe.brace_style=t.brace_style?t.brace_style:fe.brace_style?fe.brace_style:"collapse","expand-strict"===fe.brace_style&&(fe.brace_style="expand"),fe.indent_size=t.indent_size?parseInt(t.indent_size,10):4,fe.indent_char=t.indent_char?t.indent_char:" ",fe.preserve_newlines=void 0===t.preserve_newlines?!0:t.preserve_newlines,fe.break_chained_methods=void 0===t.break_chained_methods?!1:t.break_chained_methods,fe.max_preserve_newlines=void 0===t.max_preserve_newlines?0:parseInt(t.max_preserve_newlines,10),fe.space_in_paren=void 0===t.space_in_paren?!1:t.space_in_paren,fe.jslint_happy=void 0===t.jslint_happy?!1:t.jslint_happy,fe.keep_array_indentation=void 0===t.keep_array_indentation?!1:t.keep_array_indentation,fe.space_before_conditional=void 0===t.space_before_conditional?!0:t.space_before_conditional,fe.unescape_strings=void 0===t.unescape_strings?!1:t.unescape_strings,fe.wrap_line_length=void 0===t.wrap_line_length?0:parseInt(t.wrap_line_length,10),fe.e4x=void 0===t.e4x?!1:t.e4x,$="";fe.indent_size>0;)$+=fe.indent_char,fe.indent_size-=1;for(;e&&(" "===e.charAt(0)||"	"===e.charAt(0));)Te+=e.charAt(0),e=e.substring(1);X=e,oe=e.length,Q="TK_START_BLOCK",G="",z=[],ie=!1,ae=!1,se=[],H=[],h(de.BlockStatement),ee=0,this.beautify=function(){for(var e,t,n,r;;){if(e=N(),U=e[0],F=e[1],"TK_EOF"===F)break;if(n=fe.keep_array_indentation&&K(Z.mode))for(t=0;le>t;t+=1)s(!0);else if(_e=le>0,fe.max_preserve_newlines&&le>fe.max_preserve_newlines&&(le=fe.max_preserve_newlines),fe.preserve_newlines&&le>1)for(s(),t=1;le>t;t+=1)s(!0);ce[F](),"TK_INLINE_COMMENT"!==F&&"TK_COMMENT"!==F&&"TK_UNKNOWN"!==F&&(G=Z.last_text,Q=F,Z.last_text=U)}return r=Te+z.join("").replace(/[\r\n ]+$/,"")}}"function"==typeof define?define(function(t,n,r){n.js_beautify=e}):"undefined"!=typeof exports?exports.js_beautify=e:"undefined"!=typeof window?window.js_beautify=e:"undefined"!=typeof global&&(global.js_beautify=e)}();
//# sourceMappingURL=beautify.min.js.map