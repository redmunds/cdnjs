!function(){function e(e,n){"use strict";var r=new t(e,n);return r.beautify()}function t(e,t){"use strict";function n(e,t){return{mode:t,last_text:e?e.last_text:"",last_word:e?e.last_word:"",var_line:!1,var_line_tainted:!1,var_line_reindented:!1,in_html_comment:!1,multiline_array:!1,if_block:!1,do_block:!1,do_while:!1,in_case_statement:!1,in_case:!1,case_body:!1,indentation_level:e?e.indentation_level+(e.var_line&&e.var_line_reindented?1:0):0,ternary_depth:0}}function r(e){for(e=void 0===e?!1:e;U.length&&(" "===U[U.length-1]||U[U.length-1]===Z||U[U.length-1]===ue||e&&("\n"===U[U.length-1]||"\r"===U[U.length-1]));)U.pop()}function _(e){return e.replace(/^\s\s*|\s\s*$/,"")}function i(e){e=e.replace(/\x0d/g,"");for(var t=[],n=e.indexOf("\n");-1!==n;)t.push(e.substring(0,n)),e=e.substring(n+1),n=e.indexOf("\n");return e.length&&t.push(e),t}function a(){return U.length&&"\n"===U[U.length-1]}function o(){return a()&&U.length-1>0&&"\n"===U[U.length-2]}function l(e,t){var n=e.length-1;for(0>n&&(n+=e.length),n>e.length-1&&(n=e.length-1),n++;n-- >0;)if(n in e&&e[n]===t)return n;return-1}function s(e){if(e=void 0===e?!1:e,Te.wrap_line_length&&!e){var t="",n=0,r=l(U,"\n")+1;r<U.length&&(t=U.slice(r).join(""),n=t.length+F.length+(oe?1:0),n>=Te.wrap_line_length&&(e=!0))}(Te.preserve_newlines&&ie||e)&&!a()&&(c(!1,!0),p(q.mode)||E(q.mode)||(ae=!0))}function c(e,t){if(ae=!1,oe=!1,!t&&";"!==q.last_text)for(;q.mode===fe.Statement&&!q.if_block;)A();q.mode===fe.ArrayLiteral&&(q.multiline_array=!0),U.length&&(!e&&a()||U.push("\n"))}function d(){if(a())if(Te.keep_array_indentation&&p(q.mode)&&ie)for(var e=0;e<ce.length;e+=1)U.push(ce[e]);else ue&&U.push(ue),f(q.indentation_level),f(q.var_line&&q.var_line_reindented),f(ae)}function f(e){if(void 0===e?e=1:"number"!=typeof e&&(e=e?1:0),""!==q.last_text)for(var t=0;e>t;t+=1)U.push(Z)}function T(){if(oe&&U.length){var e=U[U.length-1];a()||" "===e||e===Z||U.push(" ")}}function u(e){e=e||F,d(),ae=!1,T(),oe=!1,U.push(e)}function h(){q.indentation_level+=1}function K(e){q?(J.push(q),H=q):H=n(null,e),q=n(H,e)}function p(e){return e===fe.ArrayLiteral}function E(e){return x(e,[fe.Expression,fe.ForInitializer,fe.Conditional])}function A(){J.length>0&&(H=q,q=J.pop())}function v(){return"do"===q.last_text||"else"===q.last_text&&"if"!==F||"TK_END_EXPR"===G&&(H.mode===fe.ForInitializer||H.mode===fe.Conditional)?(s(),K(fe.Statement),h(),ae=!1,!0):!1}function O(e,t){for(var n=0;n<e.length;n++){var r=_(e[n]);if(r.charAt(0)!==t)return!1}return!0}function m(e){return x(e,["case","return","do","if","throw","else"])}function x(e,t){for(var n=0;n<t.length;n+=1)if(t[n]===e)return!0;return!1}function R(e){for(var t,n=!1,r="",_=0,i="",a=0;n||_<e.length;)if(t=e.charAt(_),_++,n){if(n=!1,"x"===t)i=e.substr(_,2),_+=2;else{if("u"!==t){r+="\\"+t;continue}i=e.substr(_,4),_+=4}if(!i.match(/^[0123456789abcdefABCDEF]+$/))return e;if(a=parseInt(i,16),a>=0&&32>a){r+="x"===t?"\\x"+i:"\\u"+i;continue}if(34===a||39===a||92===a)r+="\\"+String.fromCharCode(a);else{if("x"===t&&a>126&&255>=a)return e;r+=String.fromCharCode(a)}}else"\\"===t?n=!0:r+=t;return r}function N(e){for(var t=te,n=z.charAt(t);x(n,V)&&n!==e;){if(t++,t>=le)return!1;n=z.charAt(t)}return n===e}function b(){var e;if(se=0,te>=le)return["","TK_EOF"];ie=!1,ce=[];var t=z.charAt(te);for(te+=1;x(t,V);){if("\n"===t?(se+=1,ce=[]):se&&(t===Z?ce.push(Z):"\r"!==t&&ce.push(" ")),te>=le)return["","TK_EOF"];t=z.charAt(te),te+=1}if(x(t,Y)){if(le>te)for(;x(z.charAt(te),Y)&&(t+=z.charAt(te),te+=1,te!==le););if(te!==le&&t.match(/^[0-9]+[Ee]$/)&&("-"===z.charAt(te)||"+"===z.charAt(te))){var n=z.charAt(te);te+=1;var r=b();return t+=n+r[0],[t,"TK_WORD"]}return"in"===t?[t,"TK_OPERATOR"]:[t,"TK_WORD"]}if("("===t||"["===t)return[t,"TK_START_EXPR"];if(")"===t||"]"===t)return[t,"TK_END_EXPR"];if("{"===t)return[t,"TK_START_BLOCK"];if("}"===t)return[t,"TK_END_BLOCK"];if(";"===t)return[t,"TK_SEMICOLON"];if("/"===t){var i="",a=!0;if("*"===z.charAt(te)){if(te+=1,le>te)for(;le>te&&("*"!==z.charAt(te)||!z.charAt(te+1)||"/"!==z.charAt(te+1))&&(t=z.charAt(te),i+=t,"\n"!==t&&"\r"!==t||(a=!1),te+=1,!(te>=le)););return te+=2,a&&0===se?["/*"+i+"*/","TK_INLINE_COMMENT"]:["/*"+i+"*/","TK_BLOCK_COMMENT"]}if("/"===z.charAt(te)){for(i=t;"\r"!==z.charAt(te)&&"\n"!==z.charAt(te)&&(i+=z.charAt(te),te+=1,!(te>=le)););return[i,"TK_COMMENT"]}}if("'"===t||'"'===t||("/"===t||Te.e4x&&"<"===t&&z.slice(te-1).match(/^<[a-zA-Z:0-9]+\s*([a-zA-Z:0-9]+="[^"]*"\s*)*\/?\s*>/))&&("TK_WORD"===G&&m(q.last_text)||"TK_END_EXPR"===G&&x(H.mode,[fe.Conditional,fe.ForInitializer])||x(G,["TK_COMMENT","TK_START_EXPR","TK_START_BLOCK","TK_END_BLOCK","TK_OPERATOR","TK_EQUALS","TK_EOF","TK_SEMICOLON","TK_COMMA"]))){var o=t,l=!1,s=!1;if(e=t,le>te)if("/"===o){for(var c=!1;l||c||z.charAt(te)!==o;)if(e+=z.charAt(te),l?l=!1:(l="\\"===z.charAt(te),"["===z.charAt(te)?c=!0:"]"===z.charAt(te)&&(c=!1)),te+=1,te>=le)return[e,"TK_STRING"]}else if(Te.e4x&&"<"===o){var d=/<(\/?)([a-zA-Z:0-9]+)\s*([a-zA-Z:0-9]+="[^"]*"\s*)*(\/?)\s*>/g,f=z.slice(te-1),T=d.exec(f);if(T&&0===T.index){for(var u=T[2],h=0;T;){var K=!!T[1],p=T[2],E=!!T[T.length-1];if(p!==u||E||(K?--h:++h),0>=h)break;T=d.exec(f)}var A=T?T.index+T[0].length:f.length;return te+=A-1,[f.slice(0,A),"TK_STRING"]}}else for(;l||z.charAt(te)!==o;)if(e+=z.charAt(te),l?("x"!==z.charAt(te)&&"u"!==z.charAt(te)||(s=!0),l=!1):l="\\"===z.charAt(te),te+=1,te>=le)return[e,"TK_STRING"];if(te+=1,e+=o,s&&Te.unescape_strings&&(e=R(e)),"/"===o)for(;le>te&&x(z.charAt(te),Y);)e+=z.charAt(te),te+=1;return[e,"TK_STRING"]}if("#"===t){if(0===U.length&&"!"===z.charAt(te)){for(e=t;le>te&&"\n"!==t;)t=z.charAt(te),e+=t,te+=1;return[_(e)+"\n","TK_UNKNOWN"]}var v="#";if(le>te&&x(z.charAt(te),re)){do t=z.charAt(te),v+=t,te+=1;while(le>te&&"#"!==t&&"="!==t);return"#"===t||("["===z.charAt(te)&&"]"===z.charAt(te+1)?(v+="[]",te+=2):"{"===z.charAt(te)&&"}"===z.charAt(te+1)&&(v+="{}",te+=2)),[v,"TK_WORD"]}}if("<"===t&&"<!--"===z.substring(te-1,te+3)){for(te+=3,t="<!--";"\n"!==z.charAt(te)&&le>te;)t+=z.charAt(te),te++;return q.in_html_comment=!0,[t,"TK_COMMENT"]}if("-"===t&&q.in_html_comment&&"-->"===z.substring(te-1,te+2))return q.in_html_comment=!1,te+=2,["-->","TK_COMMENT"];if("."===t)return[t,"TK_DOT"];if(x(t,ee)){for(;le>te&&x(t+z.charAt(te),ee)&&(t+=z.charAt(te),te+=1,!(te>=le)););return","===t?[t,"TK_COMMA"]:"="===t?[t,"TK_EQUALS"]:[t,"TK_OPERATOR"]}return[t,"TK_UNKNOWN"]}function y(){if(v(),"["===F){if("TK_WORD"===G||")"===q.last_text)return x(q.last_text,ne)&&(oe=!0),K(fe.Expression),u(),void(Te.space_in_paren&&(oe=!0));p(q.mode)&&("["!==q.last_text&&(","!==q.last_text||"]"!==$&&"}"!==$)||Te.keep_array_indentation||c())}else K("for"===q.last_text?fe.ForInitializer:x(q.last_text,["if","while"])?fe.Conditional:fe.Expression);";"===q.last_text||"TK_START_BLOCK"===G?c():"TK_END_EXPR"===G||"TK_START_EXPR"===G||"TK_END_BLOCK"===G||"."===q.last_text?ie&&c():"TK_WORD"!==G&&"TK_OPERATOR"!==G?oe=!0:"function"===q.last_word||"typeof"===q.last_word?Te.jslint_happy&&(oe=!0):(x(q.last_text,ne)||"catch"===q.last_text)&&Te.space_before_conditional&&(oe=!0),"("===F&&("TK_EQUALS"!==G&&"TK_OPERATOR"!==G||q.mode!==fe.ObjectLiteral&&s()),"["===F&&K(fe.ArrayLiteral),u(),Te.space_in_paren&&(oe=!0),h()}function S(){for(;q.mode===fe.Statement;)A();"]"===F&&p(q.mode)&&q.multiline_array&&!Te.keep_array_indentation&&c(),Te.space_in_paren&&(oe=!0),"]"===F&&Te.keep_array_indentation?(u(),A()):(A(),u()),q.do_while&&H.mode===fe.Conditional&&(H.mode=fe.Expression,q.do_block=!1,q.do_while=!1)}function L(){K(fe.BlockStatement);var e=N("}"),t=e&&"function"===q.last_word&&"TK_END_EXPR"===G;"expand"===Te.brace_style?"TK_OPERATOR"!==G&&(t||"TK_EQUALS"===G||m(q.last_text)&&"else"!==q.last_text)?oe=!0:c():"TK_OPERATOR"!==G&&"TK_START_EXPR"!==G?"TK_START_BLOCK"===G?c():oe=!0:p(H.mode)&&","===q.last_text&&("}"===$?oe=!0:c()),u(),h()}function C(){for(;q.mode===fe.Statement;)A();A();var e="TK_START_BLOCK"===G;"expand"===Te.brace_style?e||c():e||(p(q.mode)&&Te.keep_array_indentation?(Te.keep_array_indentation=!1,c(),Te.keep_array_indentation=!0):c()),u()}function g(){if(v()||!ie||E(q.mode)||"TK_OPERATOR"===G&&"--"!==q.last_text&&"++"!==q.last_text||"TK_EQUALS"===G||!Te.preserve_newlines&&"var"===q.last_text||c(),q.do_block&&!q.do_while){if("while"===F)return oe=!0,u(),oe=!0,void(q.do_while=!0);c(),q.do_block=!1}if(q.if_block&&"else"!==F){for(;q.mode===fe.Statement;)A();q.if_block=!1}return"function"===F?(q.var_line&&"TK_EQUALS"!==G&&(q.var_line_reindented=!0),!a()&&";"!==q.last_text&&"}"!==q.last_text||"{"===q.last_text||p(q.mode)||(a()||c(!0),o()||c(!0)),"TK_WORD"===G?"get"===q.last_text||"set"===q.last_text||"new"===q.last_text||"return"===q.last_text?oe=!0:c():"TK_OPERATOR"===G||"="===q.last_text?oe=!0:E(q.mode)||c(),u(),void(q.last_word=F)):"case"===F||"default"===F&&q.in_case_statement?(c(),(q.case_body||Te.jslint_happy)&&(q.indentation_level--,q.case_body=!1),u(),q.in_case=!0,void(q.in_case_statement=!0)):(_e="NONE","TK_END_BLOCK"===G?x(F,["else","catch","finally"])?"expand"===Te.brace_style||"end-expand"===Te.brace_style?_e="NEWLINE":(_e="SPACE",oe=!0):_e="NEWLINE":"TK_SEMICOLON"===G&&q.mode===fe.BlockStatement?_e="NEWLINE":"TK_SEMICOLON"===G&&E(q.mode)?_e="SPACE":"TK_STRING"===G?_e="NEWLINE":"TK_WORD"===G?_e="SPACE":"TK_START_BLOCK"===G?_e="NEWLINE":"TK_END_EXPR"===G&&(oe=!0,_e="NEWLINE"),x(F,ne)&&")"!==q.last_text&&(_e="else"===q.last_text?"SPACE":"NEWLINE"),"TK_COMMA"!==G&&"TK_START_EXPR"!==G&&"TK_EQUALS"!==G&&"TK_OPERATOR"!==G||q.mode!==fe.ObjectLiteral&&s(),x(F,["else","catch","finally"])?"TK_END_BLOCK"!==G||"expand"===Te.brace_style||"end-expand"===Te.brace_style?c():(r(!0),"}"!==U[U.length-1]&&c(),oe=!0):"NEWLINE"===_e?m(q.last_text)?oe=!0:"TK_END_EXPR"!==G?"TK_START_EXPR"===G&&"var"===F||":"===q.last_text||("if"===F&&"else"===q.last_word&&"{"!==q.last_text?oe=!0:(q.var_line=!1,q.var_line_reindented=!1,c())):x(F,ne)&&")"!==q.last_text&&(q.var_line=!1,q.var_line_reindented=!1,c()):p(q.mode)&&","===q.last_text&&"}"===$?c():"SPACE"===_e&&(oe=!0),u(),q.last_word=F,"var"===F&&(q.var_line=!0,q.var_line_reindented=!1,q.var_line_tainted=!1),"do"===F&&(q.do_block=!0),void("if"===F&&(q.if_block=!0)))}function w(){for(;q.mode===fe.Statement&&!q.if_block;)A();u(),q.var_line=!1,q.var_line_reindented=!1,q.mode===fe.ObjectLiteral&&(q.mode=fe.BlockStatement)}function k(){v()?oe=!0:"TK_WORD"===G?oe=!0:"TK_COMMA"===G||"TK_START_EXPR"===G||"TK_EQUALS"===G||"TK_OPERATOR"===G?q.mode!==fe.ObjectLiteral&&s():c(),u()}function M(){q.var_line&&(q.var_line_tainted=!0),oe=!0,u(),oe=!0}function I(){return q.var_line?((E(q.mode)||"TK_END_BLOCK"===G)&&(q.var_line_tainted=!1),q.var_line&&(q.var_line_reindented=!0),u(),void(q.var_line_tainted?(q.var_line_tainted=!1,c()):oe=!0)):void("TK_END_BLOCK"===G&&q.mode!==fe.Expression?(u(),q.mode===fe.ObjectLiteral&&"}"===q.last_text?c():oe=!0):q.mode===fe.ObjectLiteral?(u(),c()):(u(),oe=!0))}function P(){var e=!0,t=!0;return m(q.last_text)?(oe=!0,void u()):"*"!==F||"TK_DOT"!==G||$.match(/^\d+$/)?":"===F&&q.in_case?(q.case_body=!0,h(),u(),c(),void(q.in_case=!1)):"::"===F?void u():(!ie||"--"!==F&&"++"!==F||c(),x(F,["--","++","!"])||x(F,["-","+"])&&(x(G,["TK_START_BLOCK","TK_START_EXPR","TK_EQUALS","TK_OPERATOR"])||x(q.last_text,ne)||","===q.last_text)?(e=!1,t=!1,";"===q.last_text&&E(q.mode)&&(e=!0),"TK_WORD"===G&&x(q.last_text,ne)&&(e=!0),q.mode!==fe.BlockStatement&&q.mode!==fe.Statement||"{"!==q.last_text&&";"!==q.last_text||c()):":"===F?0===q.ternary_depth?(q.mode===fe.BlockStatement&&(q.mode=fe.ObjectLiteral),e=!1):q.ternary_depth-=1:"?"===F&&(q.ternary_depth+=1),oe=oe||e,u(),void(oe=t)):void u()}function D(){var e,t=i(F),n=!1;for(c(!1,!0),t.length>1&&O(t.slice(1),"*")&&(n=!0),u(t[0]),e=1;e<t.length;e++)c(!1,!0),n?u(" "+_(t[e])):U.push(t[e]);c(!1,!0)}function B(){oe=!0,u(),oe=!0}function W(){ie?c(!1,!0):r(!0),oe=!0,u(),c(!1,!0)}function j(){m(q.last_text)?oe=!0:s(")"===q.last_text&&Te.break_chained_methods),u()}function X(){u(),"\n"===F[F.length-1]&&c()}var z,U,F,Q,G,$,Z,q,H,J,V,Y,ee,te,ne,re,_e,ie,ae,oe,le,se,ce,de,fe,Te,ue="";for(V="\n\r	 ".split(""),Y="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789_$".split(""),re="0123456789".split(""),ee="+ - * / % & ++ -- = += -= *= /= %= == === != !== > < >= <= >> << >>> >>>= >>= <<= && &= | || ! !! , : ? ^ ^= |= ::",ee+=" <%= <% %> <?= <? ?>",ee=ee.split(" "),ne="continue,try,throw,return,var,if,switch,case,default,for,while,break,function".split(","),fe={BlockStatement:"BlockStatement",Statement:"Statement",ObjectLiteral:"ObjectLiteral",ArrayLiteral:"ArrayLiteral",ForInitializer:"ForInitializer",Conditional:"Conditional",Expression:"Expression"},de={TK_START_EXPR:y,TK_END_EXPR:S,TK_START_BLOCK:L,TK_END_BLOCK:C,TK_WORD:g,TK_SEMICOLON:w,TK_STRING:k,TK_EQUALS:M,TK_OPERATOR:P,TK_COMMA:I,TK_BLOCK_COMMENT:D,TK_INLINE_COMMENT:B,TK_COMMENT:W,TK_DOT:j,TK_UNKNOWN:X},t=t?t:{},Te={},void 0!==t.space_after_anon_function&&void 0===t.jslint_happy&&(t.jslint_happy=t.space_after_anon_function),void 0!==t.braces_on_own_line&&(Te.brace_style=t.braces_on_own_line?"expand":"collapse"),Te.brace_style=t.brace_style?t.brace_style:Te.brace_style?Te.brace_style:"collapse","expand-strict"===Te.brace_style&&(Te.brace_style="expand"),Te.indent_size=t.indent_size?parseInt(t.indent_size,10):4,Te.indent_char=t.indent_char?t.indent_char:" ",Te.preserve_newlines=void 0===t.preserve_newlines?!0:t.preserve_newlines,Te.break_chained_methods=void 0===t.break_chained_methods?!1:t.break_chained_methods,Te.max_preserve_newlines=void 0===t.max_preserve_newlines?0:parseInt(t.max_preserve_newlines,10),Te.space_in_paren=void 0===t.space_in_paren?!1:t.space_in_paren,Te.jslint_happy=void 0===t.jslint_happy?!1:t.jslint_happy,Te.keep_array_indentation=void 0===t.keep_array_indentation?!1:t.keep_array_indentation,Te.space_before_conditional=void 0===t.space_before_conditional?!0:t.space_before_conditional,Te.unescape_strings=void 0===t.unescape_strings?!1:t.unescape_strings,Te.wrap_line_length=void 0===t.wrap_line_length?0:parseInt(t.wrap_line_length,10),Te.e4x=void 0===t.e4x?!1:t.e4x,Z="";Te.indent_size>0;)Z+=Te.indent_char,Te.indent_size-=1;for(;e&&(" "===e.charAt(0)||"	"===e.charAt(0));)ue+=e.charAt(0),e=e.substring(1);z=e,le=e.length,G="TK_START_BLOCK",$="",U=[],ae=!1,oe=!1,ce=[],J=[],K(fe.BlockStatement),te=0,this.beautify=function(){for(var e,t,n,r;;){if(e=b(),F=e[0],Q=e[1],"TK_EOF"===Q)break;if(n=Te.keep_array_indentation&&p(q.mode),ie=se>0,n)for(t=0;se>t;t+=1)c(t>0);else if(Te.max_preserve_newlines&&se>Te.max_preserve_newlines&&(se=Te.max_preserve_newlines),Te.preserve_newlines&&se>1)for(c(),t=1;se>t;t+=1)c(!0);de[Q](),"TK_INLINE_COMMENT"!==Q&&"TK_COMMENT"!==Q&&"TK_UNKNOWN"!==Q&&($=q.last_text,G=Q,q.last_text=F)}return r=ue+U.join("").replace(/[\r\n ]+$/,"")}}"function"==typeof define?define(function(t,n,r){n.js_beautify=e}):"undefined"!=typeof exports?exports.js_beautify=e:"undefined"!=typeof window?window.js_beautify=e:"undefined"!=typeof global&&(global.js_beautify=e)}();
//# sourceMappingURL=beautify.min.js.map