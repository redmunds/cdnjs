!function(){function e(e,n){"use strict";var r=new t(e,n);return r.beautify()}function t(e,t){"use strict";function n(e,t){var n=0;e&&(n=e.indentation_level,n+=e.var_line&&e.var_line_reindented?1:0,!o()&&e.line_indent_level>n&&(n=e.line_indent_level));var r={mode:t,parent:e,last_text:e?e.last_text:"",last_word:e?e.last_word:"",var_line:!1,var_line_tainted:!1,var_line_reindented:!1,in_html_comment:!1,multiline_frame:!1,if_block:!1,do_block:!1,do_while:!1,in_case_statement:!1,in_case:!1,case_body:!1,indentation_level:n,line_indent_level:e?e.line_indent_level:n,start_line_index:G.length,ternary_depth:0};return r}function r(){return{text:[]}}function i(e){if(e=void 0===e?!1:e,G.length)for(_(G[G.length-1],e);e&&G.length>1&&0===G[G.length-1].text.length;)G.pop(),_(G[G.length-1],e)}function _(e){for(;e.text.length&&(" "===e.text[e.text.length-1]||e.text[e.text.length-1]===J||e.text[e.text.length-1]===pe);)e.text.pop()}function a(e){return e.replace(/^\s+|\s+$/g,"")}function l(e){e=e.replace(/\x0d/g,"");for(var t=[],n=e.indexOf("\n");-1!==n;)t.push(e.substring(0,n)),e=e.substring(n+1),n=e.indexOf("\n");return e.length&&t.push(e),t}function o(){var e=G[G.length-1];return 0===e.text.length}function s(){if(o()){if(1===G.length)return!0;var e=G[G.length-2];return 0===e.text.length}return!1}function c(e){if(e=void 0===e?!1:e,Ke.wrap_line_length&&!e){var t=G[G.length-1],n=0;t.text.length>0&&(n=t.text.join("").length+$.length+(ce?1:0),n>=Ke.wrap_line_length&&(e=!0))}(Ke.preserve_newlines&&oe||e)&&!o()&&(d(!1,!0),A(V.mode)||E(V.mode)||(se=!0))}function d(e,t){if(se=!1,ce=!1,!t&&";"!==V.last_text)for(;V.mode===ue.Statement&&!V.if_block&&!V.do_block;)O();1===G.length&&o()||!e&&o()||(V.multiline_frame=!0,G.push(r()))}function f(){if(o()){var e=G[G.length-1];if(Ke.keep_array_indentation&&A(V.mode)&&oe){e.text.push("");for(var t=0;t<Te.length;t+=1)e.text.push(Te[t])}else pe&&e.text.push(pe),T(V.indentation_level+(V.var_line&&V.var_line_reindented?1:0)+(se?1:0))}}function T(e){if(G.length>1){var t=G[G.length-1];V.line_indent_level=e;for(var n=0;e>n;n+=1)t.text.push(J)}}function h(){var e=G[G.length-1];if(ce&&e.text.length){var t=e.text[e.text.length-1];" "!==t&&t!==J&&e.text.push(" ")}}function u(e){e=e||$,f(),se=!1,h(),ce=!1,G[G.length-1].text.push(e)}function K(){V.indentation_level+=1}function p(){V.indentation_level>0&&(!V.parent||V.indentation_level>V.parent.indentation_level)&&(V.indentation_level-=1)}function x(e){if(!e.multiline_frame)for(var t,n=e.start_line_index,r=0;n<G.length;)t=G[n],n++,0!==t.text.length&&(r=pe&&t.text[0]===pe?1:0,t.text[r]===J&&t.text.splice(r,1))}function v(e){V?(ee.push(V),Y=V):Y=n(null,e),V=n(Y,e)}function A(e){return e===ue.ArrayLiteral}function E(e){return g(e,[ue.Expression,ue.ForInitializer,ue.Conditional])}function O(){ee.length>0&&(Y=V,V=ee.pop())}function m(){return"do"===V.last_text||"else"===V.last_text&&"if"!==$||"TK_END_EXPR"===q&&(Y.mode===ue.ForInitializer||Y.mode===ue.Conditional)?(c(g($,["do","for","if","while"])),v(ue.Statement),o()&&(K(),se=!1),!0):!1}function R(e,t){for(var n=0;n<e.length;n++){var r=a(e[n]);if(r.charAt(0)!==t)return!1}return!0}function N(e){return g(e,["case","return","do","if","throw","else"])}function g(e,t){for(var n=0;n<t.length;n+=1)if(t[n]===e)return!0;return!1}function b(e){for(var t,n=!1,r="",i=0,_="",a=0;n||i<e.length;)if(t=e.charAt(i),i++,n){if(n=!1,"x"===t)_=e.substr(i,2),i+=2;else{if("u"!==t){r+="\\"+t;continue}_=e.substr(i,4),i+=4}if(!_.match(/^[0123456789abcdefABCDEF]+$/))return e;if(a=parseInt(_,16),a>=0&&32>a){r+="x"===t?"\\x"+_:"\\u"+_;continue}if(34===a||39===a||92===a)r+="\\"+String.fromCharCode(a);else{if("x"===t&&a>126&&255>=a)return e;r+=String.fromCharCode(a)}}else"\\"===t?n=!0:r+=t;return r}function S(e){for(var t=ie,n=Q.charAt(t);g(n,te)&&n!==e;){if(t++,t>=de)return!1;n=Q.charAt(t)}return n===e}function C(){var e;if(fe=0,ie>=de)return["","TK_EOF"];oe=!1,Te=[];var t=Q.charAt(ie);for(ie+=1;g(t,te);){if("\n"===t?(fe+=1,Te=[]):fe&&(t===J?Te.push(J):"\r"!==t&&Te.push(" ")),ie>=de)return["","TK_EOF"];t=Q.charAt(ie),ie+=1}if(g(t,ne)){if(de>ie)for(;g(Q.charAt(ie),ne)&&(t+=Q.charAt(ie),ie+=1,ie!==de););if(ie!==de&&t.match(/^[0-9]+[Ee]$/)&&("-"===Q.charAt(ie)||"+"===Q.charAt(ie))){var n=Q.charAt(ie);ie+=1;var r=C();return t+=n+r[0],[t,"TK_WORD"]}return"in"===t?[t,"TK_OPERATOR"]:[t,"TK_WORD"]}if("("===t||"["===t)return[t,"TK_START_EXPR"];if(")"===t||"]"===t)return[t,"TK_END_EXPR"];if("{"===t)return[t,"TK_START_BLOCK"];if("}"===t)return[t,"TK_END_BLOCK"];if(";"===t)return[t,"TK_SEMICOLON"];if("/"===t){var i="",_=!0;if("*"===Q.charAt(ie)){if(ie+=1,de>ie)for(;de>ie&&("*"!==Q.charAt(ie)||!Q.charAt(ie+1)||"/"!==Q.charAt(ie+1))&&(t=Q.charAt(ie),i+=t,"\n"!==t&&"\r"!==t||(_=!1),ie+=1,!(ie>=de)););return ie+=2,_&&0===fe?["/*"+i+"*/","TK_INLINE_COMMENT"]:["/*"+i+"*/","TK_BLOCK_COMMENT"]}if("/"===Q.charAt(ie)){for(i=t;"\r"!==Q.charAt(ie)&&"\n"!==Q.charAt(ie)&&(i+=Q.charAt(ie),ie+=1,!(ie>=de)););return[i,"TK_COMMENT"]}}if("'"===t||'"'===t||("/"===t||Ke.e4x&&"<"===t&&Q.slice(ie-1).match(/^<([a-zA-Z:0-9]+|{[^{}]*}|!\[CDATA\[[\s\S]*?\]\])\s*([a-zA-Z:0-9]+=('[^']*'|"[^"]*"|{[^{}]*})\s*)*\/?\s*>/))&&("TK_WORD"===q&&N(V.last_text)||"TK_END_EXPR"===q&&g(Y.mode,[ue.Conditional,ue.ForInitializer])||g(q,["TK_COMMENT","TK_START_EXPR","TK_START_BLOCK","TK_END_BLOCK","TK_OPERATOR","TK_EQUALS","TK_EOF","TK_SEMICOLON","TK_COMMA"]))){var l=t,o=!1,s=!1;if(e=t,de>ie)if("/"===l){for(var c=!1;o||c||Q.charAt(ie)!==l;)if(e+=Q.charAt(ie),o?o=!1:(o="\\"===Q.charAt(ie),"["===Q.charAt(ie)?c=!0:"]"===Q.charAt(ie)&&(c=!1)),ie+=1,ie>=de)return[e,"TK_STRING"]}else if(Ke.e4x&&"<"===l){var d=/<(\/?)([a-zA-Z:0-9]+|{[^{}]*}|!\[CDATA\[[\s\S]*?\]\])\s*([a-zA-Z:0-9]+=('[^']*'|"[^"]*"|{[^{}]*})\s*)*(\/?)\s*>/g,f=Q.slice(ie-1),T=d.exec(f);if(T&&0===T.index){for(var h=T[2],u=0;T;){var K=!!T[1],p=T[2],x=!!T[T.length-1]||"![CDATA["===p.slice(0,8);if(p!==h||x||(K?--u:++u),0>=u)break;T=d.exec(f)}var v=T?T.index+T[0].length:f.length;return ie+=v-1,[f.slice(0,v),"TK_STRING"]}}else for(;o||Q.charAt(ie)!==l;)if(e+=Q.charAt(ie),o?("x"!==Q.charAt(ie)&&"u"!==Q.charAt(ie)||(s=!0),o=!1):o="\\"===Q.charAt(ie),ie+=1,ie>=de)return[e,"TK_STRING"];if(ie+=1,e+=l,s&&Ke.unescape_strings&&(e=b(e)),"/"===l)for(;de>ie&&g(Q.charAt(ie),ne);)e+=Q.charAt(ie),ie+=1;return[e,"TK_STRING"]}if("#"===t){if(1===G.length&&0===G[0].text.length&&"!"===Q.charAt(ie)){for(e=t;de>ie&&"\n"!==t;)t=Q.charAt(ie),e+=t,ie+=1;return[a(e)+"\n","TK_UNKNOWN"]}var A="#";if(de>ie&&g(Q.charAt(ie),ae)){do t=Q.charAt(ie),A+=t,ie+=1;while(de>ie&&"#"!==t&&"="!==t);return"#"===t||("["===Q.charAt(ie)&&"]"===Q.charAt(ie+1)?(A+="[]",ie+=2):"{"===Q.charAt(ie)&&"}"===Q.charAt(ie+1)&&(A+="{}",ie+=2)),[A,"TK_WORD"]}}if("<"===t&&"<!--"===Q.substring(ie-1,ie+3)){for(ie+=3,t="<!--";"\n"!==Q.charAt(ie)&&de>ie;)t+=Q.charAt(ie),ie++;return V.in_html_comment=!0,[t,"TK_COMMENT"]}if("-"===t&&V.in_html_comment&&"-->"===Q.substring(ie-1,ie+2))return V.in_html_comment=!1,ie+=2,["-->","TK_COMMENT"];if("."===t)return[t,"TK_DOT"];if(g(t,re)){for(;de>ie&&g(t+Q.charAt(ie),re)&&(t+=Q.charAt(ie),ie+=1,!(ie>=de)););return","===t?[t,"TK_COMMA"]:"="===t?[t,"TK_EQUALS"]:[t,"TK_OPERATOR"]}return[t,"TK_UNKNOWN"]}function y(){m();var e=ue.Expression;if("["===$){if("TK_WORD"===q||")"===V.last_text)return g(V.last_text,_e)&&(ce=!0),v(e),u(),K(),void(Ke.space_in_paren&&(ce=!0));e=ue.ArrayLiteral,A(V.mode)&&("["!==V.last_text&&(","!==V.last_text||"]"!==H&&"}"!==H)||Ke.keep_array_indentation||d())}else"for"===V.last_text?e=ue.ForInitializer:g(V.last_text,["if","while"])&&(e=ue.Conditional);";"===V.last_text||"TK_START_BLOCK"===q?d():"TK_END_EXPR"===q||"TK_START_EXPR"===q||"TK_END_BLOCK"===q||"."===V.last_text?(c(oe),se=!1):"TK_WORD"!==q&&"TK_OPERATOR"!==q?ce=!0:"function"===V.last_word||"typeof"===V.last_word?Ke.jslint_happy&&(ce=!0):(g(V.last_text,_e)||"catch"===V.last_text)&&Ke.space_before_conditional&&(ce=!0),"("===$&&("TK_EQUALS"!==q&&"TK_OPERATOR"!==q||V.mode!==ue.ObjectLiteral&&c()),v(e),u(),Ke.space_in_paren&&(ce=!0),K()}function L(){for(;V.mode===ue.Statement;)O();"]"===$&&A(V.mode)&&V.multiline_frame&&!Ke.keep_array_indentation&&d(),V.multiline_frame&&c(),Ke.space_in_paren&&(ce=!0),"]"===$&&Ke.keep_array_indentation?(u(),O()):(O(),u()),x(Y),V.do_while&&Y.mode===ue.Conditional&&(Y.mode=ue.Expression,V.do_block=!1,V.do_while=!1)}function w(){v(ue.BlockStatement);var e=S("}"),t=e&&"function"===V.last_word&&"TK_END_EXPR"===q;"expand"===Ke.brace_style?"TK_OPERATOR"!==q&&(t||"TK_EQUALS"===q||N(V.last_text)&&"else"!==V.last_text)?ce=!0:d():"TK_OPERATOR"!==q&&"TK_START_EXPR"!==q?"TK_START_BLOCK"===q?d():ce=!0:A(Y.mode)&&","===V.last_text&&("}"===H?ce=!0:d()),u(),K()}function k(){for(;V.mode===ue.Statement;)O();var e="TK_START_BLOCK"===q;"expand"===Ke.brace_style?e||d():e||(A(V.mode)&&Ke.keep_array_indentation?(Ke.keep_array_indentation=!1,d(),Ke.keep_array_indentation=!0):d()),O(),u()}function M(){if(m()||!oe||E(V.mode)||"TK_OPERATOR"===q&&"--"!==V.last_text&&"++"!==V.last_text||"TK_EQUALS"===q||!Ke.preserve_newlines&&"var"===V.last_text||d(),V.do_block&&!V.do_while){if("while"===$)return ce=!0,u(),ce=!0,void(V.do_while=!0);d(),V.do_block=!1}if(V.if_block&&"else"!==$){for(;V.mode===ue.Statement;)O();V.if_block=!1}if("case"===$||"default"===$&&V.in_case_statement)return d(),(V.case_body||Ke.jslint_happy)&&(p(),V.case_body=!1),u(),V.in_case=!0,void(V.in_case_statement=!0);if("function"===$&&(V.var_line&&"TK_EQUALS"!==q&&(V.var_line_reindented=!0),!o()&&";"!==V.last_text&&"}"!==V.last_text||"{"===V.last_text||A(V.mode)||s()||(d(),d(!0)),"TK_WORD"===q?"get"===V.last_text||"set"===V.last_text||"new"===V.last_text||"return"===V.last_text?ce=!0:d():"TK_OPERATOR"===q||"="===V.last_text?ce=!0:E(V.mode)||d()),"TK_COMMA"!==q&&"TK_START_EXPR"!==q&&"TK_EQUALS"!==q&&"TK_OPERATOR"!==q||V.mode!==ue.ObjectLiteral&&c(),"function"===$)return u(),void(V.last_word=$);if(le="NONE","TK_END_BLOCK"===q?g($,["else","catch","finally"])?"expand"===Ke.brace_style||"end-expand"===Ke.brace_style?le="NEWLINE":(le="SPACE",ce=!0):le="NEWLINE":"TK_SEMICOLON"===q&&V.mode===ue.BlockStatement?le="NEWLINE":"TK_SEMICOLON"===q&&E(V.mode)?le="SPACE":"TK_STRING"===q?le="NEWLINE":"TK_WORD"===q?le="SPACE":"TK_START_BLOCK"===q?le="NEWLINE":"TK_END_EXPR"===q&&(ce=!0,le="NEWLINE"),g($,_e)&&")"!==V.last_text&&(le="else"===V.last_text?"SPACE":"NEWLINE"),g($,["else","catch","finally"]))if("TK_END_BLOCK"!==q||"expand"===Ke.brace_style||"end-expand"===Ke.brace_style)d();else{i(!0);var e=G[G.length-1];"}"!==e.text[e.text.length-1]&&d(),ce=!0}else"NEWLINE"===le?N(V.last_text)?ce=!0:"TK_END_EXPR"!==q?"TK_START_EXPR"===q&&"var"===$||":"===V.last_text||("if"===$&&"else"===V.last_word&&"{"!==V.last_text?ce=!0:(V.var_line=!1,V.var_line_reindented=!1,d())):g($,_e)&&")"!==V.last_text&&(V.var_line=!1,V.var_line_reindented=!1,d()):A(V.mode)&&","===V.last_text&&"}"===H?d():"SPACE"===le&&(ce=!0);u(),V.last_word=$,"var"===$&&(V.var_line=!0,V.var_line_reindented=!1,V.var_line_tainted=!1),"do"===$&&(V.do_block=!0),"if"===$&&(V.if_block=!0)}function I(){for(m()&&(ce=!1);V.mode===ue.Statement&&!V.if_block&&!V.do_block;)O();u(),V.var_line=!1,V.var_line_reindented=!1,V.mode===ue.ObjectLiteral&&(V.mode=ue.BlockStatement)}function P(){m()?ce=!0:"TK_WORD"===q?ce=!0:"TK_COMMA"===q||"TK_START_EXPR"===q||"TK_EQUALS"===q||"TK_OPERATOR"===q?V.mode!==ue.ObjectLiteral&&c():d(),u()}function D(){V.var_line&&(V.var_line_tainted=!0),ce=!0,u(),ce=!0}function B(){return V.var_line?((E(V.mode)||"TK_END_BLOCK"===q)&&(V.var_line_tainted=!1),V.var_line&&(V.var_line_reindented=!0),u(),void(V.var_line_tainted?(V.var_line_tainted=!1,d()):ce=!0)):void("TK_END_BLOCK"===q&&V.mode!==ue.Expression?(u(),V.mode===ue.ObjectLiteral&&"}"===V.last_text?d():ce=!0):V.mode===ue.ObjectLiteral?(u(),d()):(u(),ce=!0))}function j(){var e=!0,t=!0;return N(V.last_text)?(ce=!0,void u()):"*"!==$||"TK_DOT"!==q||H.match(/^\d+$/)?":"===$&&V.in_case?(V.case_body=!0,K(),u(),d(),void(V.in_case=!1)):"::"===$?void u():(!oe||"--"!==$&&"++"!==$||d(),g($,["--","++","!"])||g($,["-","+"])&&(g(q,["TK_START_BLOCK","TK_START_EXPR","TK_EQUALS","TK_OPERATOR"])||g(V.last_text,_e)||","===V.last_text)?(e=!1,t=!1,";"===V.last_text&&E(V.mode)&&(e=!0),"TK_WORD"===q&&g(V.last_text,_e)&&(e=!0),V.mode!==ue.BlockStatement&&V.mode!==ue.Statement||"{"!==V.last_text&&";"!==V.last_text||d()):":"===$?0===V.ternary_depth?(V.mode===ue.BlockStatement&&(V.mode=ue.ObjectLiteral),e=!1):V.ternary_depth-=1:"?"===$&&(V.ternary_depth+=1),ce=ce||e,u(),void(ce=t)):void u()}function W(){var e,t=l($),n=!1;for(d(!1,!0),t.length>1&&R(t.slice(1),"*")&&(n=!0),u(t[0]),e=1;e<t.length;e++)d(!1,!0),n?u(" "+a(t[e])):G[G.length-1].text.push(t[e]);d(!1,!0)}function X(){ce=!0,u(),ce=!0}function z(){oe?d(!1,!0):i(!0),ce=!0,u(),d(!1,!0)}function U(){N(V.last_text)?ce=!0:c(")"===V.last_text&&Ke.break_chained_methods),u()}function F(){u(),"\n"===$[$.length-1]&&d()}var Q,G,$,Z,q,H,J,V,Y,ee,te,ne,re,ie,_e,ae,le,oe,se,ce,de,fe,Te,he,ue,Ke,pe="";for(te="\n\r	 ".split(""),ne="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789_$".split(""),ae="0123456789".split(""),re="+ - * / % & ++ -- = += -= *= /= %= == === != !== > < >= <= >> << >>> >>>= >>= <<= && &= | || ! !! , : ? ^ ^= |= ::",re+=" <%= <% %> <?= <? ?>",re=re.split(" "),_e="continue,try,throw,return,var,if,switch,case,default,for,while,break,function".split(","),ue={BlockStatement:"BlockStatement",Statement:"Statement",ObjectLiteral:"ObjectLiteral",ArrayLiteral:"ArrayLiteral",ForInitializer:"ForInitializer",Conditional:"Conditional",Expression:"Expression"},he={TK_START_EXPR:y,TK_END_EXPR:L,TK_START_BLOCK:w,TK_END_BLOCK:k,TK_WORD:M,TK_SEMICOLON:I,TK_STRING:P,TK_EQUALS:D,TK_OPERATOR:j,TK_COMMA:B,TK_BLOCK_COMMENT:W,TK_INLINE_COMMENT:X,TK_COMMENT:z,TK_DOT:U,TK_UNKNOWN:F},t=t?t:{},Ke={},void 0!==t.space_after_anon_function&&void 0===t.jslint_happy&&(t.jslint_happy=t.space_after_anon_function),void 0!==t.braces_on_own_line&&(Ke.brace_style=t.braces_on_own_line?"expand":"collapse"),Ke.brace_style=t.brace_style?t.brace_style:Ke.brace_style?Ke.brace_style:"collapse","expand-strict"===Ke.brace_style&&(Ke.brace_style="expand"),Ke.indent_size=t.indent_size?parseInt(t.indent_size,10):4,Ke.indent_char=t.indent_char?t.indent_char:" ",Ke.preserve_newlines=void 0===t.preserve_newlines?!0:t.preserve_newlines,Ke.break_chained_methods=void 0===t.break_chained_methods?!1:t.break_chained_methods,Ke.max_preserve_newlines=void 0===t.max_preserve_newlines?0:parseInt(t.max_preserve_newlines,10),Ke.space_in_paren=void 0===t.space_in_paren?!1:t.space_in_paren,Ke.jslint_happy=void 0===t.jslint_happy?!1:t.jslint_happy,Ke.keep_array_indentation=void 0===t.keep_array_indentation?!1:t.keep_array_indentation,Ke.space_before_conditional=void 0===t.space_before_conditional?!0:t.space_before_conditional,Ke.unescape_strings=void 0===t.unescape_strings?!1:t.unescape_strings,Ke.wrap_line_length=void 0===t.wrap_line_length?0:parseInt(t.wrap_line_length,10),Ke.e4x=void 0===t.e4x?!1:t.e4x,J="";Ke.indent_size>0;)J+=Ke.indent_char,Ke.indent_size-=1;for(;e&&(" "===e.charAt(0)||"	"===e.charAt(0));)pe+=e.charAt(0),e=e.substring(1);Q=e,de=e.length,q="TK_START_BLOCK",H="",G=[r()],se=!1,ce=!1,Te=[],ee=[],v(ue.BlockStatement),ie=0,this.beautify=function(){for(var e,t,n,r;;){if(e=C(),$=e[0],Z=e[1],"TK_EOF"===Z)break;if(n=Ke.keep_array_indentation&&A(V.mode),oe=fe>0,n)for(t=0;fe>t;t+=1)d(t>0);else if(Ke.max_preserve_newlines&&fe>Ke.max_preserve_newlines&&(fe=Ke.max_preserve_newlines),Ke.preserve_newlines&&fe>1)for(d(),t=1;fe>t;t+=1)d(!0);he[Z](),"TK_INLINE_COMMENT"!==Z&&"TK_COMMENT"!==Z&&"TK_UNKNOWN"!==Z&&(H=V.last_text,q=Z,V.last_text=$)}r=G[0].text.join("");for(var i=1;i<G.length;i++)r+="\n"+G[i].text.join("");return r=r.replace(/[\r\n ]+$/,"")}}"function"==typeof define?"undefined"==typeof define.amd?define(function(t,n,r){n.js_beautify=e}):define([],function(){return e}):"undefined"!=typeof exports?exports.js_beautify=e:"undefined"!=typeof window?window.js_beautify=e:"undefined"!=typeof global&&(global.js_beautify=e)}();
//# sourceMappingURL=beautify.min.js.map