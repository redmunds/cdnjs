function js_beautify(e,n){function r(e){for(e="undefined"==typeof e?!1:e;p.length&&(" "===p[p.length-1]||p[p.length-1]===P||p[p.length-1]===j||e&&("\n"===p[p.length-1]||"\r"===p[p.length-1]));)p.pop()}function t(e){return e.replace(/^\s\s*|\s\s*$/,"")}function _(e){e=e.replace(/\x0d/g,"");for(var n=[],r=e.indexOf("\n");-1!==r;)n.push(e.substring(0,r)),e=e.substring(r+1),r=e.indexOf("\n");return e.length&&n.push(e),n}function a(){var e=H;H=!1,i(),H=e}function i(e,n){if(I.eat_next_space=!1,(!H||!O(I.mode))&&(e="undefined"==typeof e?!0:e,n="undefined"==typeof n?!0:n,n&&(I.if_line=!1,I.chain_extra_indentation=0),r(),p.length)){"\n"===p[p.length-1]&&e||(w=!0,p.push("\n")),j&&p.push(j);for(var t=0;t<I.indentation_level+I.chain_extra_indentation;t+=1)p.push(P);I.var_line&&I.var_line_reindented&&p.push(P)}}function T(){if("TK_COMMENT"===A)return i();if(I.eat_next_space)return void(I.eat_next_space=!1);var e=" ";p.length&&(e=p[p.length-1])," "!==e&&"\n"!==e&&e!==P&&p.push(" ")}function E(){w=!1,I.eat_next_space=!1,p.push(S)}function o(){I.indentation_level+=1}function f(){p.length&&p[p.length-1]===P&&p.pop()}function c(e){I&&L.push(I),I={previous_mode:I?I.mode:"BLOCK",mode:e,var_line:!1,var_line_tainted:!1,var_line_reindented:!1,in_html_comment:!1,if_line:!1,chain_extra_indentation:0,in_case_statement:!1,in_case:!1,case_body:!1,eat_next_space:!1,indentation_level:I?I.indentation_level+(I.var_line&&I.var_line_reindented?1:0):0,ternary_depth:0}}function O(e){return"[EXPRESSION]"===e||"[INDENTED-EXPRESSION]"===e}function s(e){return l(e,["[EXPRESSION]","(EXPRESSION)","(FOR-EXPRESSION)","(COND-EXPRESSION)"])}function d(){if(x="DO_BLOCK"===I.mode,L.length>0){var e=I.mode;I=L.pop(),I.previous_mode=e}}function K(e,n){for(var r=0;r<e.length;r++){var _=t(e[r]);if(_.charAt(0)!==n)return!1}return!0}function h(e){return l(e,["case","return","do","if","throw","else"])}function l(e,n){for(var r=0;r<n.length;r+=1)if(n[r]===e)return!0;return!1}function u(e){for(var n=X,r=R.charAt(n);l(r,b)&&r!==e;){if(n++,n>=Z)return 0;r=R.charAt(n)}return r}function N(){var e,n;if(F=0,X>=Z)return["","TK_EOF"];W=!1;var _=R.charAt(X);X+=1;var a=H&&O(I.mode);if(a){for(var T=0;l(_,b);){if("\n"===_?(r(),p.push("\n"),w=!0,T=0):"	"===_?T+=4:"\r"===_||(T+=1),X>=Z)return["","TK_EOF"];_=R.charAt(X),X+=1}if(w)for(e=0;T>e;e++)p.push(" ")}else{for(;l(_,b);){if("\n"===_&&(F+=z?z>=F?1:0:1),X>=Z)return["","TK_EOF"];_=R.charAt(X),X+=1}if(J&&F>1)for(e=0;F>e;e+=1)i(0===e),w=!0;W=F>0}if(l(_,D)){if(Z>X)for(;l(R.charAt(X),D)&&(_+=R.charAt(X),X+=1,X!==Z););if(X!==Z&&_.match(/^[0-9]+[Ee]$/)&&("-"===R.charAt(X)||"+"===R.charAt(X))){var E=R.charAt(X);X+=1;var o=N();return _+=E+o[0],[_,"TK_WORD"]}return"in"===_?[_,"TK_OPERATOR"]:(!W||"TK_OPERATOR"===A||"TK_EQUALS"===A||I.if_line||!J&&"var"===v||i(),[_,"TK_WORD"])}if("("===_||"["===_)return[_,"TK_START_EXPR"];if(")"===_||"]"===_)return[_,"TK_END_EXPR"];if("{"===_)return[_,"TK_START_BLOCK"];if("}"===_)return[_,"TK_END_BLOCK"];if(";"===_)return[_,"TK_SEMICOLON"];if("/"===_){var f="",c=!0;if("*"===R.charAt(X)){if(X+=1,Z>X)for(;Z>X&&("*"!==R.charAt(X)||!R.charAt(X+1)||"/"!==R.charAt(X+1))&&(_=R.charAt(X),f+=_,"\n"!==_&&"\r"!==_||(c=!1),X+=1,!(X>=Z)););return X+=2,c&&0===F?["/*"+f+"*/","TK_INLINE_COMMENT"]:["/*"+f+"*/","TK_BLOCK_COMMENT"]}if("/"===R.charAt(X)){for(f=_;"\r"!==R.charAt(X)&&"\n"!==R.charAt(X)&&(f+=R.charAt(X),X+=1,!(X>=Z)););return W&&i(),[f,"TK_COMMENT"]}}if("'"===_||'"'===_||"/"===_&&("TK_WORD"===A&&h(v)||")"===v&&l(I.previous_mode,["(COND-EXPRESSION)","(FOR-EXPRESSION)"])||"TK_COMMA"===A||"TK_COMMENT"===A||"TK_START_EXPR"===A||"TK_START_BLOCK"===A||"TK_END_BLOCK"===A||"TK_OPERATOR"===A||"TK_EQUALS"===A||"TK_EOF"===A||"TK_SEMICOLON"===A)){var s=_,d=!1,K=0,u=0;if(n=_,Z>X)if("/"===s){for(var S=!1;d||S||R.charAt(X)!==s;)if(n+=R.charAt(X),d?d=!1:(d="\\"===R.charAt(X),"["===R.charAt(X)?S=!0:"]"===R.charAt(X)&&(S=!1)),X+=1,X>=Z)return[n,"TK_STRING"]}else for(;d||R.charAt(X)!==s;)if(n+=R.charAt(X),K&&K>=u&&(K=parseInt(n.substr(-u),16),K&&K>=32&&126>=K&&(K=String.fromCharCode(K),n=n.substr(0,n.length-u-2)+(K===s||"\\"===K?"\\":"")+K),K=0),K?K++:d?(d=!1,Y&&("x"===R.charAt(X)?(K++,u=2):"u"===R.charAt(X)&&(K++,u=4))):d="\\"===R.charAt(X),X+=1,X>=Z)return[n,"TK_STRING"];if(X+=1,n+=s,"/"===s)for(;Z>X&&l(R.charAt(X),D);)n+=R.charAt(X),X+=1;return[n,"TK_STRING"]}if("#"===_){if(0===p.length&&"!"===R.charAt(X)){for(n=_;Z>X&&"\n"!==_;)_=R.charAt(X),n+=_,X+=1;return p.push(t(n)+"\n"),i(),N()}var C="#";if(Z>X&&l(R.charAt(X),y)){do _=R.charAt(X),C+=_,X+=1;while(Z>X&&"#"!==_&&"="!==_);return"#"===_||("["===R.charAt(X)&&"]"===R.charAt(X+1)?(C+="[]",X+=2):"{"===R.charAt(X)&&"}"===R.charAt(X+1)&&(C+="{}",X+=2)),[C,"TK_WORD"]}}if("<"===_&&"<!--"===R.substring(X-1,X+3)){for(X+=3,_="<!--";"\n"!==R.charAt(X)&&Z>X;)_+=R.charAt(X),X++;return I.in_html_comment=!0,[_,"TK_COMMENT"]}if("-"===_&&I.in_html_comment&&"-->"===R.substring(X-1,X+2))return I.in_html_comment=!1,X+=2,W&&i(),["-->","TK_COMMENT"];if("."===_)return[_,"TK_DOT"];if(l(_,M)){for(;Z>X&&l(_+R.charAt(X),M)&&(_+=R.charAt(X),X+=1,!(X>=Z)););return","===_?[_,"TK_COMMA"]:"="===_?[_,"TK_EQUALS"]:[_,"TK_OPERATOR"]}return[_,"TK_UNKNOWN"]}var R,p,S,A,v,C,m,I,L,P,b,D,M,X,B,y,g,k,x,W,w,F,j="";n=n?n:{};var U;void 0!==n.space_after_anon_function&&void 0===n.jslint_happy&&(n.jslint_happy=n.space_after_anon_function),void 0!==n.braces_on_own_line&&(U=n.braces_on_own_line?"expand":"collapse"),U=n.brace_style?n.brace_style:U?U:"collapse";var G=n.indent_size?n.indent_size:4,Q=n.indent_char?n.indent_char:" ",J="undefined"==typeof n.preserve_newlines?!0:n.preserve_newlines,$="undefined"==typeof n.break_chained_methods?!1:n.break_chained_methods,z="undefined"==typeof n.max_preserve_newlines?!1:n.max_preserve_newlines,q="undefined"===n.jslint_happy?!1:n.jslint_happy,H="undefined"==typeof n.keep_array_indentation?!1:n.keep_array_indentation,V="undefined"==typeof n.space_before_conditional?!0:n.space_before_conditional,Y="undefined"==typeof n.unescape_strings?!1:n.unescape_strings;w=!1;var Z=e.length;for(P="";G>0;)P+=Q,G-=1;for(;e&&(" "===e.charAt(0)||"	"===e.charAt(0));)j+=e.charAt(0),e=e.substring(1);for(R=e,m="",A="TK_START_EXPR",v="",C="",p=[],x=!1,b="\n\r	 ".split(""),D="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789_$".split(""),y="0123456789".split(""),M="+ - * / % & ++ -- = += -= *= /= %= == === != !== > < >= <= >> << >>> >>>= >>= <<= && &= | || ! !! , : ? ^ ^= |= ::",M+=" <%= <% %> <?= <? ?>",M=M.split(" "),B="continue,try,throw,return,var,if,switch,case,default,for,while,break,function".split(","),L=[],c("BLOCK"),X=0;;){var ee=N();if(S=ee[0],k=ee[1],"TK_EOF"===k)break;switch(k){case"TK_START_EXPR":if("["===S){if("TK_WORD"===A||")"===v){l(v,B)&&T(),c("(EXPRESSION)"),E();break}"[EXPRESSION]"===I.mode||"[INDENTED-EXPRESSION]"===I.mode?"]"===C&&","===v?("[EXPRESSION]"===I.mode&&(I.mode="[INDENTED-EXPRESSION]",H||o()),c("[EXPRESSION]"),H||i()):"["===v?("[EXPRESSION]"===I.mode&&(I.mode="[INDENTED-EXPRESSION]",H||o()),c("[EXPRESSION]"),H||i()):c("[EXPRESSION]"):c("[EXPRESSION]")}else c("for"===m?"(FOR-EXPRESSION)":l(m,["if","while"])?"(COND-EXPRESSION)":"(EXPRESSION)");";"===v||"TK_START_BLOCK"===A?i():"TK_END_EXPR"===A||"TK_START_EXPR"===A||"TK_END_BLOCK"===A||"."===v?W&&i():"TK_WORD"!==A&&"TK_OPERATOR"!==A?T():"function"===m||"typeof"===m?q&&T():(l(v,B)||"catch"===v)&&V&&T(),E();break;case"TK_DOT":h(v)?T():")"===v&&($||W)&&(I.chain_extra_indentation=1,i(!0,!1)),E();break;case"TK_END_EXPR":if("]"===S)if(H){if("}"===v){f(),E(),d();break}}else if("[INDENTED-EXPRESSION]"===I.mode&&"]"===v){d(),i(),E();break}d(),E();break;case"TK_START_BLOCK":if(c("do"===m?"DO_BLOCK":"BLOCK"),"expand"===U||"expand-strict"===U){var ne=!1;"expand-strict"===U?(ne="}"===u(),ne||i(!0)):"TK_OPERATOR"!==A&&("="===v||h(v)&&"else"!==v?T():i(!0)),E(),ne||o()}else"TK_OPERATOR"!==A&&"TK_START_EXPR"!==A?"TK_START_BLOCK"===A?i():T():O(I.previous_mode)&&","===v&&("}"===C?T():i()),o(),E();break;case"TK_END_BLOCK":d(),"expand"===U||"expand-strict"===U?("{"!==v&&i(),E()):("TK_START_BLOCK"===A?w?f():r():O(I.mode)&&H?(H=!1,i(),H=!0):i(),E());break;case"TK_WORD":if(x){T(),E(),T(),x=!1;break}if(g="NONE","function"===S){if(I.var_line&&"TK_EQUALS"!==A&&(I.var_line_reindented=!0),(w||";"===v)&&"{"!==v&&"TK_BLOCK_COMMENT"!==A&&"TK_COMMENT"!==A){F=w?F:0,J||(F=1);for(var re=0;2-F>re;re++)i(!1)}"TK_WORD"===A?"get"===v||"set"===v||"new"===v||"return"===v?T():i():"TK_OPERATOR"===A||"="===v?T():s(I.mode)||i(),E(),m=S;break}if("case"===S||"default"===S&&I.in_case_statement){i(),I.case_body&&(I.indentation_level--,I.case_body=!1,f()),E(),I.in_case=!0,I.in_case_statement=!0;break}"TK_END_BLOCK"===A?l(S.toLowerCase(),["else","catch","finally"])?"expand"===U||"end-expand"===U||"expand-strict"===U?g="NEWLINE":(g="SPACE",T()):g="NEWLINE":"TK_SEMICOLON"!==A||"BLOCK"!==I.mode&&"DO_BLOCK"!==I.mode?"TK_SEMICOLON"===A&&s(I.mode)?g="SPACE":"TK_STRING"===A?g="NEWLINE":"TK_WORD"===A?("else"===v&&r(!0),g="SPACE"):"TK_START_BLOCK"===A?g="NEWLINE":"TK_END_EXPR"===A&&(T(),g="NEWLINE"):g="NEWLINE",l(S,B)&&")"!==v&&(g="else"===v?"SPACE":"NEWLINE"),I.if_line&&"TK_END_EXPR"===A&&(I.if_line=!1),l(S.toLowerCase(),["else","catch","finally"])?"TK_END_BLOCK"!==A||"expand"===U||"end-expand"===U||"expand-strict"===U?i():(r(!0),T()):"NEWLINE"===g?h(v)?T():"TK_END_EXPR"!==A?"TK_START_EXPR"===A&&"var"===S||":"===v||("if"===S&&"else"===m&&"{"!==v?T():(I.var_line=!1,I.var_line_reindented=!1,i())):l(S,B)&&")"!==v&&(I.var_line=!1,I.var_line_reindented=!1,i()):O(I.mode)&&","===v&&"}"===C?i():"SPACE"===g&&T(),E(),m=S,"var"===S&&(I.var_line=!0,I.var_line_reindented=!1,I.var_line_tainted=!1),"if"===S&&(I.if_line=!0),"else"===S&&(I.if_line=!1);break;case"TK_SEMICOLON":E(),I.var_line=!1,I.var_line_reindented=!1,"OBJECT"===I.mode&&(I.mode="BLOCK");break;case"TK_STRING":"TK_END_EXPR"===A&&l(I.previous_mode,["(COND-EXPRESSION)","(FOR-EXPRESSION)"])?T():"TK_COMMENT"===A||"TK_STRING"===A||"TK_START_BLOCK"===A||"TK_END_BLOCK"===A||"TK_SEMICOLON"===A?i():"TK_WORD"===A?T():J&&W&&"OBJECT"!==I.mode&&(i(),p.push(P)),E();break;case"TK_EQUALS":I.var_line&&(I.var_line_tainted=!0),T(),E(),T();break;case"TK_COMMA":if(I.var_line){if((s(I.mode)||"TK_END_BLOCK"===A)&&(I.var_line_tainted=!1),I.var_line_tainted){E(),I.var_line_reindented=!0,I.var_line_tainted=!1,i();break}I.var_line_tainted=!1,E(),T();break}"TK_COMMENT"===A&&i(),"TK_END_BLOCK"===A&&"(EXPRESSION)"!==I.mode?(E(),"OBJECT"===I.mode&&"}"===v?i():T()):"OBJECT"===I.mode?(E(),i()):(E(),T());break;case"TK_OPERATOR":var te=!0,_e=!0;if(h(v)){T(),E();break}if("*"===S&&"TK_DOT"===A&&!C.match(/^\d+$/)){E();break}if(":"===S&&I.in_case){I.case_body=!0,o(),E(),i(),I.in_case=!1;break}if("::"===S){E();break}l(S,["--","++","!"])||l(S,["-","+"])&&(l(A,["TK_START_BLOCK","TK_START_EXPR","TK_EQUALS","TK_OPERATOR"])||l(v,B)||","==v)?(te=!1,_e=!1,";"===v&&s(I.mode)&&(te=!0),"TK_WORD"===A&&l(v,B)&&(te=!0),"BLOCK"!==I.mode||"{"!==v&&";"!==v||i()):":"===S?0===I.ternary_depth?("BLOCK"===I.mode&&(I.mode="OBJECT"),te=!1):I.ternary_depth-=1:"?"===S&&(I.ternary_depth+=1),te&&T(),E(),_e&&T();break;case"TK_BLOCK_COMMENT":var ae,ie=_(S);if(K(ie.slice(1),"*"))for(i(),p.push(ie[0]),ae=1;ae<ie.length;ae++)i(),p.push(" "),p.push(t(ie[ae]));else for(ie.length>1?i():"TK_END_BLOCK"===A?i():T(),ae=0;ae<ie.length;ae++)p.push(ie[ae]),p.push("\n");"\n"!==u("\n")&&i();break;case"TK_INLINE_COMMENT":T(),E(),s(I.mode)?T():a();break;case"TK_COMMENT":","!==v||W||r(!0),"TK_COMMENT"!==A&&(W?i():T()),E(),i();break;case"TK_UNKNOWN":E()}C=v,A=k,v=S}var Te=j+p.join("").replace(/[\r\n ]+$/,"");return Te}"undefined"!=typeof exports&&(exports.js_beautify=js_beautify);
//# sourceMappingURL=beautify.min.js.map