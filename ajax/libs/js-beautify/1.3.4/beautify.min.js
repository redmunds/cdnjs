!function(){function e(e,n){"use strict";var r=new t(e,n);return r.beautify()}function t(e,t){"use strict";function n(e,t){var n=e?e.indentation_level+(e.var_line&&e.var_line_reindented?1:0):0,r={mode:t,parent:e,last_text:e?e.last_text:"",last_word:e?e.last_word:"",var_line:!1,var_line_tainted:!1,var_line_reindented:!1,in_html_comment:!1,multiline_array:!1,if_block:!1,do_block:!1,do_while:!1,in_case_statement:!1,in_case:!1,case_body:!1,indentation_level:n,ternary_depth:0};return r}function r(e){for(e=void 0===e?!1:e;F.length&&(" "===F[F.length-1]||F[F.length-1]===q||F[F.length-1]===Ke||e&&("\n"===F[F.length-1]||"\r"===F[F.length-1]));)F.pop()}function _(e){return e.replace(/^\s\s*|\s\s*$/,"")}function i(e){e=e.replace(/\x0d/g,"");for(var t=[],n=e.indexOf("\n");-1!==n;)t.push(e.substring(0,n)),e=e.substring(n+1),n=e.indexOf("\n");return e.length&&t.push(e),t}function a(){return F.length&&"\n"===F[F.length-1]}function o(){return a()&&F.length-1>0&&"\n"===F[F.length-2]}function l(e,t){var n=e.length-1;for(0>n&&(n+=e.length),n>e.length-1&&(n=e.length-1),n++;n-- >0;)if(n in e&&e[n]===t)return n;return-1}function s(e){if(e=void 0===e?!1:e,he.wrap_line_length&&!e){var t="",n=0,r=l(F,"\n")+1;r<F.length&&(t=F.slice(r).join(""),n=t.length+Q.length+(se?1:0),n>=he.wrap_line_length&&(e=!0))}(he.preserve_newlines&&ae||e)&&!a()&&(c(!1,!0),E(H.mode)||v(H.mode)||(le=!0))}function c(e,t){if(le=!1,se=!1,!t&&";"!==H.last_text)for(;H.mode===ue.Statement&&!H.if_block&&!H.do_block;)A();H.mode===ue.ArrayLiteral&&(H.multiline_array=!0),F.length&&(!e&&a()||F.push("\n"))}function d(){if(a())if(he.keep_array_indentation&&E(H.mode)&&ae)for(var e=0;e<fe.length;e+=1)F.push(fe[e]);else Ke&&F.push(Ke),f(H.indentation_level+(H.var_line&&H.var_line_reindented?1:0)+(le?1:0))}function f(e){if(""!==H.last_text){oe=e;for(var t=0;e>t;t+=1)F.push(q)}}function T(){if(se&&F.length){var e=F[F.length-1];a()||" "===e||e===q||F.push(" ")}}function u(e){e=e||Q,d(),le=!1,T(),se=!1,F.push(e)}function h(){H.indentation_level+=1}function K(){H.indentation_level>0&&(!H.parent||H.indentation_level>H.parent.indentation_level)&&(H.indentation_level-=1)}function p(e){H?(V.push(H),J=H):J=n(null,e),H=n(J,e)}function E(e){return e===ue.ArrayLiteral}function v(e){return R(e,[ue.Expression,ue.ForInitializer,ue.Conditional])}function A(){V.length>0&&(J=H,H=V.pop())}function O(){return"do"===H.last_text||"else"===H.last_text&&"if"!==Q||"TK_END_EXPR"===$&&(J.mode===ue.ForInitializer||J.mode===ue.Conditional)?(s(R(Q,["do","for","if","while"])),p(ue.Statement),a()&&(h(),le=!1),!0):!1}function m(e,t){for(var n=0;n<e.length;n++){var r=_(e[n]);if(r.charAt(0)!==t)return!1}return!0}function x(e){return R(e,["case","return","do","if","throw","else"])}function R(e,t){for(var n=0;n<t.length;n+=1)if(t[n]===e)return!0;return!1}function N(e){for(var t,n=!1,r="",_=0,i="",a=0;n||_<e.length;)if(t=e.charAt(_),_++,n){if(n=!1,"x"===t)i=e.substr(_,2),_+=2;else{if("u"!==t){r+="\\"+t;continue}i=e.substr(_,4),_+=4}if(!i.match(/^[0123456789abcdefABCDEF]+$/))return e;if(a=parseInt(i,16),a>=0&&32>a){r+="x"===t?"\\x"+i:"\\u"+i;continue}if(34===a||39===a||92===a)r+="\\"+String.fromCharCode(a);else{if("x"===t&&a>126&&255>=a)return e;r+=String.fromCharCode(a)}}else"\\"===t?n=!0:r+=t;return r}function b(e){for(var t=ne,n=U.charAt(t);R(n,Y)&&n!==e;){if(t++,t>=ce)return!1;n=U.charAt(t)}return n===e}function S(){var e;if(de=0,ne>=ce)return["","TK_EOF"];ae=!1,fe=[];var t=U.charAt(ne);for(ne+=1;R(t,Y);){if("\n"===t?(de+=1,fe=[]):de&&(t===q?fe.push(q):"\r"!==t&&fe.push(" ")),ne>=ce)return["","TK_EOF"];t=U.charAt(ne),ne+=1}if(R(t,ee)){if(ce>ne)for(;R(U.charAt(ne),ee)&&(t+=U.charAt(ne),ne+=1,ne!==ce););if(ne!==ce&&t.match(/^[0-9]+[Ee]$/)&&("-"===U.charAt(ne)||"+"===U.charAt(ne))){var n=U.charAt(ne);ne+=1;var r=S();return t+=n+r[0],[t,"TK_WORD"]}return"in"===t?[t,"TK_OPERATOR"]:[t,"TK_WORD"]}if("("===t||"["===t)return[t,"TK_START_EXPR"];if(")"===t||"]"===t)return[t,"TK_END_EXPR"];if("{"===t)return[t,"TK_START_BLOCK"];if("}"===t)return[t,"TK_END_BLOCK"];if(";"===t)return[t,"TK_SEMICOLON"];if("/"===t){var i="",a=!0;if("*"===U.charAt(ne)){if(ne+=1,ce>ne)for(;ce>ne&&("*"!==U.charAt(ne)||!U.charAt(ne+1)||"/"!==U.charAt(ne+1))&&(t=U.charAt(ne),i+=t,"\n"!==t&&"\r"!==t||(a=!1),ne+=1,!(ne>=ce)););return ne+=2,a&&0===de?["/*"+i+"*/","TK_INLINE_COMMENT"]:["/*"+i+"*/","TK_BLOCK_COMMENT"]}if("/"===U.charAt(ne)){for(i=t;"\r"!==U.charAt(ne)&&"\n"!==U.charAt(ne)&&(i+=U.charAt(ne),ne+=1,!(ne>=ce)););return[i,"TK_COMMENT"]}}if("'"===t||'"'===t||("/"===t||he.e4x&&"<"===t&&U.slice(ne-1).match(/^<[a-zA-Z:0-9]+\s*([a-zA-Z:0-9]+="[^"]*"\s*)*\/?\s*>/))&&("TK_WORD"===$&&x(H.last_text)||"TK_END_EXPR"===$&&R(J.mode,[ue.Conditional,ue.ForInitializer])||R($,["TK_COMMENT","TK_START_EXPR","TK_START_BLOCK","TK_END_BLOCK","TK_OPERATOR","TK_EQUALS","TK_EOF","TK_SEMICOLON","TK_COMMA"]))){var o=t,l=!1,s=!1;if(e=t,ce>ne)if("/"===o){for(var c=!1;l||c||U.charAt(ne)!==o;)if(e+=U.charAt(ne),l?l=!1:(l="\\"===U.charAt(ne),"["===U.charAt(ne)?c=!0:"]"===U.charAt(ne)&&(c=!1)),ne+=1,ne>=ce)return[e,"TK_STRING"]}else if(he.e4x&&"<"===o){var d=/<(\/?)([a-zA-Z:0-9]+)\s*([a-zA-Z:0-9]+="[^"]*"\s*)*(\/?)\s*>/g,f=U.slice(ne-1),T=d.exec(f);if(T&&0===T.index){for(var u=T[2],h=0;T;){var K=!!T[1],p=T[2],E=!!T[T.length-1];if(p!==u||E||(K?--h:++h),0>=h)break;T=d.exec(f)}var v=T?T.index+T[0].length:f.length;return ne+=v-1,[f.slice(0,v),"TK_STRING"]}}else for(;l||U.charAt(ne)!==o;)if(e+=U.charAt(ne),l?("x"!==U.charAt(ne)&&"u"!==U.charAt(ne)||(s=!0),l=!1):l="\\"===U.charAt(ne),ne+=1,ne>=ce)return[e,"TK_STRING"];if(ne+=1,e+=o,s&&he.unescape_strings&&(e=N(e)),"/"===o)for(;ce>ne&&R(U.charAt(ne),ee);)e+=U.charAt(ne),ne+=1;return[e,"TK_STRING"]}if("#"===t){if(0===F.length&&"!"===U.charAt(ne)){for(e=t;ce>ne&&"\n"!==t;)t=U.charAt(ne),e+=t,ne+=1;return[_(e)+"\n","TK_UNKNOWN"]}var A="#";if(ce>ne&&R(U.charAt(ne),_e)){do t=U.charAt(ne),A+=t,ne+=1;while(ce>ne&&"#"!==t&&"="!==t);return"#"===t||("["===U.charAt(ne)&&"]"===U.charAt(ne+1)?(A+="[]",ne+=2):"{"===U.charAt(ne)&&"}"===U.charAt(ne+1)&&(A+="{}",ne+=2)),[A,"TK_WORD"]}}if("<"===t&&"<!--"===U.substring(ne-1,ne+3)){for(ne+=3,t="<!--";"\n"!==U.charAt(ne)&&ce>ne;)t+=U.charAt(ne),ne++;return H.in_html_comment=!0,[t,"TK_COMMENT"]}if("-"===t&&H.in_html_comment&&"-->"===U.substring(ne-1,ne+2))return H.in_html_comment=!1,ne+=2,["-->","TK_COMMENT"];if("."===t)return[t,"TK_DOT"];if(R(t,te)){for(;ce>ne&&R(t+U.charAt(ne),te)&&(t+=U.charAt(ne),ne+=1,!(ne>=ce)););return","===t?[t,"TK_COMMA"]:"="===t?[t,"TK_EQUALS"]:[t,"TK_OPERATOR"]}return[t,"TK_UNKNOWN"]}function y(){if(O(),"["===Q){if("TK_WORD"===$||")"===H.last_text)return R(H.last_text,re)&&(se=!0),p(ue.Expression),u(),void(he.space_in_paren&&(se=!0));E(H.mode)&&("["!==H.last_text&&(","!==H.last_text||"]"!==Z&&"}"!==Z)||he.keep_array_indentation||c())}else p("for"===H.last_text?ue.ForInitializer:R(H.last_text,["if","while"])?ue.Conditional:ue.Expression);";"===H.last_text||"TK_START_BLOCK"===$?c():"TK_END_EXPR"===$||"TK_START_EXPR"===$||"TK_END_BLOCK"===$||"."===H.last_text?ae&&c():"TK_WORD"!==$&&"TK_OPERATOR"!==$?se=!0:"function"===H.last_word||"typeof"===H.last_word?he.jslint_happy&&(se=!0):(R(H.last_text,re)||"catch"===H.last_text)&&he.space_before_conditional&&(se=!0),"("===Q&&("TK_EQUALS"!==$&&"TK_OPERATOR"!==$||H.mode!==ue.ObjectLiteral&&s()),"["===Q&&p(ue.ArrayLiteral),u(),he.space_in_paren&&(se=!0),h()}function L(){for(;H.mode===ue.Statement;)A();"]"===Q&&E(H.mode)&&H.multiline_array&&!he.keep_array_indentation&&c(),he.space_in_paren&&(se=!0),"]"===Q&&he.keep_array_indentation?(u(),A()):(A(),u()),H.do_while&&J.mode===ue.Conditional&&(J.mode=ue.Expression,H.do_block=!1,H.do_while=!1)}function C(){p(ue.BlockStatement);var e=b("}"),t=e&&"function"===H.last_word&&"TK_END_EXPR"===$;"expand"===he.brace_style?"TK_OPERATOR"!==$&&(t||"TK_EQUALS"===$||x(H.last_text)&&"else"!==H.last_text)?se=!0:c():"TK_OPERATOR"!==$&&"TK_START_EXPR"!==$?"TK_START_BLOCK"===$?c():se=!0:E(J.mode)&&","===H.last_text&&("}"===Z?se=!0:c()),u(),h()}function g(){for(;H.mode===ue.Statement;)A();A();var e="TK_START_BLOCK"===$;"expand"===he.brace_style?e||c():e||(E(H.mode)&&he.keep_array_indentation?(he.keep_array_indentation=!1,c(),he.keep_array_indentation=!0):c()),u()}function w(){if(O()||!ae||v(H.mode)||"TK_OPERATOR"===$&&"--"!==H.last_text&&"++"!==H.last_text||"TK_EQUALS"===$||!he.preserve_newlines&&"var"===H.last_text||c(),H.do_block&&!H.do_while){if("while"===Q)return se=!0,u(),se=!0,void(H.do_while=!0);c(),H.do_block=!1}if(H.if_block&&"else"!==Q){for(;H.mode===ue.Statement;)A();H.if_block=!1}return"function"===Q?(H.var_line&&"TK_EQUALS"!==$&&(H.var_line_reindented=!0),!a()&&";"!==H.last_text&&"}"!==H.last_text||"{"===H.last_text||E(H.mode)||(a()||c(!0),o()||c(!0)),"TK_WORD"===$?"get"===H.last_text||"set"===H.last_text||"new"===H.last_text||"return"===H.last_text?se=!0:c():"TK_OPERATOR"===$||"="===H.last_text?se=!0:v(H.mode)||c(),v(H.mode)&&!v(H.parent.mode)&&!E(H.parent.mode)&&oe<H.indentation_level&&K(),u(),void(H.last_word=Q)):"case"===Q||"default"===Q&&H.in_case_statement?(c(),(H.case_body||he.jslint_happy)&&(K(),H.case_body=!1),u(),H.in_case=!0,void(H.in_case_statement=!0)):(ie="NONE","TK_END_BLOCK"===$?R(Q,["else","catch","finally"])?"expand"===he.brace_style||"end-expand"===he.brace_style?ie="NEWLINE":(ie="SPACE",se=!0):ie="NEWLINE":"TK_SEMICOLON"===$&&H.mode===ue.BlockStatement?ie="NEWLINE":"TK_SEMICOLON"===$&&v(H.mode)?ie="SPACE":"TK_STRING"===$?ie="NEWLINE":"TK_WORD"===$?ie="SPACE":"TK_START_BLOCK"===$?ie="NEWLINE":"TK_END_EXPR"===$&&(se=!0,ie="NEWLINE"),R(Q,re)&&")"!==H.last_text&&(ie="else"===H.last_text?"SPACE":"NEWLINE"),"TK_COMMA"!==$&&"TK_START_EXPR"!==$&&"TK_EQUALS"!==$&&"TK_OPERATOR"!==$||H.mode!==ue.ObjectLiteral&&s(),R(Q,["else","catch","finally"])?"TK_END_BLOCK"!==$||"expand"===he.brace_style||"end-expand"===he.brace_style?c():(r(!0),"}"!==F[F.length-1]&&c(),se=!0):"NEWLINE"===ie?x(H.last_text)?se=!0:"TK_END_EXPR"!==$?"TK_START_EXPR"===$&&"var"===Q||":"===H.last_text||("if"===Q&&"else"===H.last_word&&"{"!==H.last_text?se=!0:(H.var_line=!1,H.var_line_reindented=!1,c())):R(Q,re)&&")"!==H.last_text&&(H.var_line=!1,H.var_line_reindented=!1,c()):E(H.mode)&&","===H.last_text&&"}"===Z?c():"SPACE"===ie&&(se=!0),u(),H.last_word=Q,"var"===Q&&(H.var_line=!0,H.var_line_reindented=!1,H.var_line_tainted=!1),"do"===Q&&(H.do_block=!0),void("if"===Q&&(H.if_block=!0)))}function k(){for(O()&&(se=!1);H.mode===ue.Statement&&!H.if_block&&!H.do_block;)A();u(),H.var_line=!1,H.var_line_reindented=!1,H.mode===ue.ObjectLiteral&&(H.mode=ue.BlockStatement)}function M(){O()?se=!0:"TK_WORD"===$?se=!0:"TK_COMMA"===$||"TK_START_EXPR"===$||"TK_EQUALS"===$||"TK_OPERATOR"===$?H.mode!==ue.ObjectLiteral&&s():c(),u()}function I(){H.var_line&&(H.var_line_tainted=!0),se=!0,u(),se=!0}function P(){return H.var_line?((v(H.mode)||"TK_END_BLOCK"===$)&&(H.var_line_tainted=!1),H.var_line&&(H.var_line_reindented=!0),u(),void(H.var_line_tainted?(H.var_line_tainted=!1,c()):se=!0)):void("TK_END_BLOCK"===$&&H.mode!==ue.Expression?(u(),H.mode===ue.ObjectLiteral&&"}"===H.last_text?c():se=!0):H.mode===ue.ObjectLiteral?(u(),c()):(u(),se=!0))}function D(){var e=!0,t=!0;return x(H.last_text)?(se=!0,void u()):"*"!==Q||"TK_DOT"!==$||Z.match(/^\d+$/)?":"===Q&&H.in_case?(H.case_body=!0,h(),u(),c(),void(H.in_case=!1)):"::"===Q?void u():(!ae||"--"!==Q&&"++"!==Q||c(),R(Q,["--","++","!"])||R(Q,["-","+"])&&(R($,["TK_START_BLOCK","TK_START_EXPR","TK_EQUALS","TK_OPERATOR"])||R(H.last_text,re)||","===H.last_text)?(e=!1,t=!1,";"===H.last_text&&v(H.mode)&&(e=!0),"TK_WORD"===$&&R(H.last_text,re)&&(e=!0),H.mode!==ue.BlockStatement&&H.mode!==ue.Statement||"{"!==H.last_text&&";"!==H.last_text||c()):":"===Q?0===H.ternary_depth?(H.mode===ue.BlockStatement&&(H.mode=ue.ObjectLiteral),e=!1):H.ternary_depth-=1:"?"===Q&&(H.ternary_depth+=1),se=se||e,u(),void(se=t)):void u()}function B(){var e,t=i(Q),n=!1;for(c(!1,!0),t.length>1&&m(t.slice(1),"*")&&(n=!0),u(t[0]),e=1;e<t.length;e++)c(!1,!0),n?u(" "+_(t[e])):F.push(t[e]);c(!1,!0)}function W(){se=!0,u(),se=!0}function j(){ae?c(!1,!0):r(!0),se=!0,u(),c(!1,!0)}function X(){x(H.last_text)?se=!0:s(")"===H.last_text&&he.break_chained_methods),u()}function z(){u(),"\n"===Q[Q.length-1]&&c()}var U,F,Q,G,$,Z,q,H,J,V,Y,ee,te,ne,re,_e,ie,ae,oe,le,se,ce,de,fe,Te,ue,he,Ke="";for(Y="\n\r	 ".split(""),ee="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789_$".split(""),_e="0123456789".split(""),te="+ - * / % & ++ -- = += -= *= /= %= == === != !== > < >= <= >> << >>> >>>= >>= <<= && &= | || ! !! , : ? ^ ^= |= ::",te+=" <%= <% %> <?= <? ?>",te=te.split(" "),re="continue,try,throw,return,var,if,switch,case,default,for,while,break,function".split(","),ue={BlockStatement:"BlockStatement",Statement:"Statement",ObjectLiteral:"ObjectLiteral",ArrayLiteral:"ArrayLiteral",ForInitializer:"ForInitializer",Conditional:"Conditional",Expression:"Expression"},Te={TK_START_EXPR:y,TK_END_EXPR:L,TK_START_BLOCK:C,TK_END_BLOCK:g,TK_WORD:w,TK_SEMICOLON:k,TK_STRING:M,TK_EQUALS:I,TK_OPERATOR:D,TK_COMMA:P,TK_BLOCK_COMMENT:B,TK_INLINE_COMMENT:W,TK_COMMENT:j,TK_DOT:X,TK_UNKNOWN:z},t=t?t:{},he={},void 0!==t.space_after_anon_function&&void 0===t.jslint_happy&&(t.jslint_happy=t.space_after_anon_function),void 0!==t.braces_on_own_line&&(he.brace_style=t.braces_on_own_line?"expand":"collapse"),he.brace_style=t.brace_style?t.brace_style:he.brace_style?he.brace_style:"collapse","expand-strict"===he.brace_style&&(he.brace_style="expand"),he.indent_size=t.indent_size?parseInt(t.indent_size,10):4,he.indent_char=t.indent_char?t.indent_char:" ",he.preserve_newlines=void 0===t.preserve_newlines?!0:t.preserve_newlines,he.break_chained_methods=void 0===t.break_chained_methods?!1:t.break_chained_methods,he.max_preserve_newlines=void 0===t.max_preserve_newlines?0:parseInt(t.max_preserve_newlines,10),he.space_in_paren=void 0===t.space_in_paren?!1:t.space_in_paren,he.jslint_happy=void 0===t.jslint_happy?!1:t.jslint_happy,he.keep_array_indentation=void 0===t.keep_array_indentation?!1:t.keep_array_indentation,he.space_before_conditional=void 0===t.space_before_conditional?!0:t.space_before_conditional,he.unescape_strings=void 0===t.unescape_strings?!1:t.unescape_strings,he.wrap_line_length=void 0===t.wrap_line_length?0:parseInt(t.wrap_line_length,10),he.e4x=void 0===t.e4x?!1:t.e4x,q="";he.indent_size>0;)q+=he.indent_char,he.indent_size-=1;for(;e&&(" "===e.charAt(0)||"	"===e.charAt(0));)Ke+=e.charAt(0),e=e.substring(1);U=e,ce=e.length,$="TK_START_BLOCK",Z="",oe=0,F=[],le=!1,se=!1,fe=[],V=[],p(ue.BlockStatement),ne=0,this.beautify=function(){for(var e,t,n,r;;){if(e=S(),Q=e[0],G=e[1],"TK_EOF"===G)break;if(n=he.keep_array_indentation&&E(H.mode),ae=de>0,n)for(t=0;de>t;t+=1)c(t>0);else if(he.max_preserve_newlines&&de>he.max_preserve_newlines&&(de=he.max_preserve_newlines),he.preserve_newlines&&de>1)for(c(),t=1;de>t;t+=1)c(!0);Te[G](),"TK_INLINE_COMMENT"!==G&&"TK_COMMENT"!==G&&"TK_UNKNOWN"!==G&&(Z=H.last_text,$=G,H.last_text=Q)}return r=Ke+F.join("").replace(/[\r\n ]+$/,"")}}"function"==typeof define?define(function(t,n,r){n.js_beautify=e}):"undefined"!=typeof exports?exports.js_beautify=e:"undefined"!=typeof window?window.js_beautify=e:"undefined"!=typeof global&&(global.js_beautify=e)}();
//# sourceMappingURL=beautify.min.js.map