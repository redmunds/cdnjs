!function(){function e(e,n){"use strict";var r=new t(e,n);return r.beautify()}function t(e,t){"use strict";function n(e,t){return{mode:t,last_text:e?e.last_text:"",last_word:e?e.last_word:"",var_line:!1,var_line_tainted:!1,var_line_reindented:!1,in_html_comment:!1,multiline_array:!1,if_block:!1,do_block:!1,do_while:!1,in_case_statement:!1,in_case:!1,case_body:!1,indentation_level:e?e.indentation_level+(e.var_line&&e.var_line_reindented?1:0):0,ternary_depth:0}}function r(e){for(e=void 0===e?!1:e;U.length&&(" "===U[U.length-1]||U[U.length-1]===$||U[U.length-1]===fe||e&&("\n"===U[U.length-1]||"\r"===U[U.length-1]));)U.pop()}function _(e){return e.replace(/^\s\s*|\s\s*$/,"")}function i(e){e=e.replace(/\x0d/g,"");for(var t=[],n=e.indexOf("\n");-1!==n;)t.push(e.substring(0,n)),e=e.substring(n+1),n=e.indexOf("\n");return e.length&&t.push(e),t}function a(){return U.length&&"\n"===U[U.length-1]}function o(e,t){var n=e.length-1;for(0>n&&(n+=e.length),n>e.length-1&&(n=e.length-1),n++;n-- >0;)if(n in e&&e[n]===t)return n;return-1}function l(e){if(e=void 0===e?!1:e,Te.wrap_line_length&&!e){var t="",n=0,r=o(U,"\n")+1;r<U.length&&(t=U.slice(r).join(""),n=t.length+z.length+(oe?1:0),n>=Te.wrap_line_length&&(e=!0))}(Te.preserve_newlines&&_e||e)&&!a()&&(s(!1,!0),ae=!0,_e=!1)}function s(e,t){if(ae=!1,oe=!1,!t&&";"!==q.last_text)for(;q.mode===de.Statement&&!q.if_block;)E();q.mode===de.ArrayLiteral&&(q.multiline_array=!0),U.length&&(!e&&a()||U.push("\n"))}function c(){a()&&(Te.keep_array_indentation&&K(q.mode)&&le.length?U.push(le.join("")+""):(fe&&U.push(fe),d(q.indentation_level),d(q.var_line&&q.var_line_reindented),d(ae)))}function d(e){if(void 0===e?e=1:"number"!=typeof e&&(e=e?1:0),""!==q.last_text)for(var t=0;e>t;t+=1)U.push($)}function T(){if(oe&&U.length){var e=U[U.length-1];a()||" "===e||e===$||U.push(" ")}}function f(e){e=e||z,c(),ae=!1,T(),oe=!1,U.push(e)}function u(){q.indentation_level+=1}function h(e){q?(J.push(q),H=q):H=n(null,e),q=n(H,e)}function K(e){return e===de.ArrayLiteral}function p(e){return m(e,[de.ArrayLiteral,de.Expression,de.ForInitializer,de.Conditional])}function E(){J.length>0&&(H=q,q=J.pop())}function O(){return"do"===q.last_text||"else"===q.last_text&&"if"!==z||"TK_END_EXPR"===Q&&(H.mode===de.ForInitializer||H.mode===de.Conditional)?(l(),h(de.Statement),u(),ae=!1,!0):!1}function A(e,t){for(var n=0;n<e.length;n++){var r=_(e[n]);if(r.charAt(0)!==t)return!1}return!0}function v(e){return m(e,["case","return","do","if","throw","else"])}function m(e,t){for(var n=0;n<t.length;n+=1)if(t[n]===e)return!0;return!1}function x(e){for(var t,n=!1,r="",_=0,i="",a=0;n||_<e.length;)if(t=e.charAt(_),_++,n){if(n=!1,"x"===t)i=e.substr(_,2),_+=2;else{if("u"!==t){r+="\\"+t;continue}i=e.substr(_,4),_+=4}if(!i.match(/^[0123456789abcdefABCDEF]+$/))return e;if(a=parseInt(i,16),a>=0&&32>a){r+="x"===t?"\\x"+i:"\\u"+i;continue}if(34===a||39===a||92===a)r+="\\"+String.fromCharCode(a);else{if("x"===t&&a>126&&255>=a)return e;r+=String.fromCharCode(a)}}else"\\"===t?n=!0:r+=t;return r}function R(e){for(var t=ee,n=X.charAt(t);m(n,V)&&n!==e;){if(t++,t>=se)return!1;n=X.charAt(t)}return n===e}function N(){var e;if(ie=0,ee>=se)return["","TK_EOF"];_e=!1,le=[];var t=X.charAt(ee);for(ee+=1;m(t,V);){if("\n"===t?(ie+=1,le=[]):ie&&(t===$?le.push($):"\r"!==t&&le.push(" ")),ee>=se)return["","TK_EOF"];t=X.charAt(ee),ee+=1}if(m(t,Y)){if(se>ee)for(;m(X.charAt(ee),Y)&&(t+=X.charAt(ee),ee+=1,ee!==se););if(ee!==se&&t.match(/^[0-9]+[Ee]$/)&&("-"===X.charAt(ee)||"+"===X.charAt(ee))){var n=X.charAt(ee);ee+=1;var r=N();return t+=n+r[0],[t,"TK_WORD"]}return"in"===t?[t,"TK_OPERATOR"]:[t,"TK_WORD"]}if("("===t||"["===t)return[t,"TK_START_EXPR"];if(")"===t||"]"===t)return[t,"TK_END_EXPR"];if("{"===t)return[t,"TK_START_BLOCK"];if("}"===t)return[t,"TK_END_BLOCK"];if(";"===t)return[t,"TK_SEMICOLON"];if("/"===t){var i="",a=!0;if("*"===X.charAt(ee)){if(ee+=1,se>ee)for(;se>ee&&("*"!==X.charAt(ee)||!X.charAt(ee+1)||"/"!==X.charAt(ee+1))&&(t=X.charAt(ee),i+=t,"\n"!==t&&"\r"!==t||(a=!1),ee+=1,!(ee>=se)););return ee+=2,a&&0===ie?["/*"+i+"*/","TK_INLINE_COMMENT"]:["/*"+i+"*/","TK_BLOCK_COMMENT"]}if("/"===X.charAt(ee)){for(i=t;"\r"!==X.charAt(ee)&&"\n"!==X.charAt(ee)&&(i+=X.charAt(ee),ee+=1,!(ee>=se)););return[i,"TK_COMMENT"]}}if("'"===t||'"'===t||"/"===t&&("TK_WORD"===Q&&v(q.last_text)||"TK_END_EXPR"===Q&&m(H.mode,[de.Conditional,de.ForInitializer])||m(Q,["TK_COMMENT","TK_START_EXPR","TK_START_BLOCK","TK_END_BLOCK","TK_OPERATOR","TK_EQUALS","TK_EOF","TK_SEMICOLON","TK_COMMA"]))){var o=t,l=!1,s=!1;if(e=t,se>ee)if("/"===o){for(var c=!1;l||c||X.charAt(ee)!==o;)if(e+=X.charAt(ee),l?l=!1:(l="\\"===X.charAt(ee),"["===X.charAt(ee)?c=!0:"]"===X.charAt(ee)&&(c=!1)),ee+=1,ee>=se)return[e,"TK_STRING"]}else for(;l||X.charAt(ee)!==o;)if(e+=X.charAt(ee),l?("x"!==X.charAt(ee)&&"u"!==X.charAt(ee)||(s=!0),l=!1):l="\\"===X.charAt(ee),ee+=1,ee>=se)return[e,"TK_STRING"];if(ee+=1,e+=o,s&&Te.unescape_strings&&(e=x(e)),"/"===o)for(;se>ee&&m(X.charAt(ee),Y);)e+=X.charAt(ee),ee+=1;return[e,"TK_STRING"]}if("#"===t){if(0===U.length&&"!"===X.charAt(ee)){for(e=t;se>ee&&"\n"!==t;)t=X.charAt(ee),e+=t,ee+=1;return[_(e)+"\n","TK_UNKNOWN"]}var d="#";if(se>ee&&m(X.charAt(ee),ne)){do t=X.charAt(ee),d+=t,ee+=1;while(se>ee&&"#"!==t&&"="!==t);return"#"===t||("["===X.charAt(ee)&&"]"===X.charAt(ee+1)?(d+="[]",ee+=2):"{"===X.charAt(ee)&&"}"===X.charAt(ee+1)&&(d+="{}",ee+=2)),[d,"TK_WORD"]}}if("<"===t&&"<!--"===X.substring(ee-1,ee+3)){for(ee+=3,t="<!--";"\n"!==X.charAt(ee)&&se>ee;)t+=X.charAt(ee),ee++;return q.in_html_comment=!0,[t,"TK_COMMENT"]}if("-"===t&&q.in_html_comment&&"-->"===X.substring(ee-1,ee+2))return q.in_html_comment=!1,ee+=2,["-->","TK_COMMENT"];if("."===t)return[t,"TK_DOT"];if(m(t,Z)){for(;se>ee&&m(t+X.charAt(ee),Z)&&(t+=X.charAt(ee),ee+=1,!(ee>=se)););return","===t?[t,"TK_COMMA"]:"="===t?[t,"TK_EQUALS"]:[t,"TK_OPERATOR"]}return[t,"TK_UNKNOWN"]}function b(){if(O(),"["===z){if("TK_WORD"===Q||")"===q.last_text)return m(q.last_text,te)&&(oe=!0),h(de.Expression),void f();K(q.mode)&&("["===q.last_text||"]"===G&&","===q.last_text)&&(Te.keep_array_indentation||s())}else h("for"===q.last_text?de.ForInitializer:m(q.last_text,["if","while"])?de.Conditional:de.Expression);";"===q.last_text||"TK_START_BLOCK"===Q?s():"TK_END_EXPR"===Q||"TK_START_EXPR"===Q||"TK_END_BLOCK"===Q||"."===q.last_text?_e&&s():"TK_WORD"!==Q&&"TK_OPERATOR"!==Q?oe=!0:"function"===q.last_word||"typeof"===q.last_word?Te.jslint_happy&&(oe=!0):(m(q.last_text,te)||"catch"===q.last_text)&&Te.space_before_conditional&&(oe=!0),"("===z&&("TK_EQUALS"!==Q&&"TK_OPERATOR"!==Q||q.mode!==de.ObjectLiteral&&l()),f(),"["===z&&(h(de.ArrayLiteral),u())}function y(){for(;q.mode===de.Statement;)E();"]"===z&&K(q.mode)&&q.multiline_array&&!Te.keep_array_indentation&&s(),E(),f(),q.do_while&&H.mode===de.Conditional&&(H.mode=de.Expression,q.do_block=!1,q.do_while=!1)}function L(){h(de.BlockStatement);var e=R("}");"expand-strict"===Te.brace_style?e||s():"expand"===Te.brace_style?"TK_OPERATOR"!==Q&&("TK_EQUALS"===Q||v(q.last_text)&&"else"!==q.last_text?oe=!0:s()):"TK_OPERATOR"!==Q&&"TK_START_EXPR"!==Q?"TK_START_BLOCK"===Q?s():oe=!0:K(H.mode)&&","===q.last_text&&("}"===G?oe=!0:s()),f(),u()}function S(){for(;q.mode===de.Statement;)E();E(),"expand"===Te.brace_style||"expand-strict"===Te.brace_style?"TK_START_BLOCK"!==Q&&s():"TK_START_BLOCK"!==Q&&(K(q.mode)&&Te.keep_array_indentation?(Te.keep_array_indentation=!1,s(),Te.keep_array_indentation=!0):s()),f()}function C(){if(O()||!_e||p(q.mode)||"TK_OPERATOR"===Q&&"--"!==q.last_text&&"++"!==q.last_text||"TK_EQUALS"===Q||!Te.preserve_newlines&&"var"===q.last_text||s(),q.do_block&&!q.do_while){if("while"===z)return oe=!0,f(),oe=!0,void(q.do_while=!0);s(),q.do_block=!1}if(q.if_block&&"else"!==z){for(;q.mode===de.Statement;)E();q.if_block=!1}if("function"===z){if(q.var_line&&"TK_EQUALS"!==Q&&(q.var_line_reindented=!0),(a()||";"===q.last_text)&&"{"!==q.last_text&&"TK_BLOCK_COMMENT"!==Q&&"TK_COMMENT"!==Q){ie=a()?ie:0,Te.preserve_newlines||(ie=1);for(var e=0;2-ie>e;e++)s(!0)}return"TK_WORD"===Q?"get"===q.last_text||"set"===q.last_text||"new"===q.last_text||"return"===q.last_text?oe=!0:s():"TK_OPERATOR"===Q||"="===q.last_text?oe=!0:p(q.mode)||s(),f(),void(q.last_word=z)}return"case"===z||"default"===z&&q.in_case_statement?(s(),(q.case_body||Te.jslint_happy)&&(q.indentation_level--,q.case_body=!1),f(),q.in_case=!0,void(q.in_case_statement=!0)):(re="NONE","TK_END_BLOCK"===Q?m(z,["else","catch","finally"])?"expand"===Te.brace_style||"end-expand"===Te.brace_style||"expand-strict"===Te.brace_style?re="NEWLINE":(re="SPACE",oe=!0):re="NEWLINE":"TK_SEMICOLON"===Q&&q.mode===de.BlockStatement?re="NEWLINE":"TK_SEMICOLON"===Q&&p(q.mode)?re="SPACE":"TK_STRING"===Q?re="NEWLINE":"TK_WORD"===Q?re="SPACE":"TK_START_BLOCK"===Q?re="NEWLINE":"TK_END_EXPR"===Q&&(oe=!0,re="NEWLINE"),m(z,te)&&")"!==q.last_text&&(re="else"===q.last_text?"SPACE":"NEWLINE"),"TK_COMMA"!==Q&&"TK_START_EXPR"!==Q&&"TK_EQUALS"!==Q&&"TK_OPERATOR"!==Q||q.mode!==de.ObjectLiteral&&l(),m(z,["else","catch","finally"])?"TK_END_BLOCK"!==Q||"expand"===Te.brace_style||"end-expand"===Te.brace_style||"expand-strict"===Te.brace_style?s():(r(!0),"}"!==U[U.length-1]&&s(),oe=!0):"NEWLINE"===re?v(q.last_text)?oe=!0:"TK_END_EXPR"!==Q?"TK_START_EXPR"===Q&&"var"===z||":"===q.last_text||("if"===z&&"else"===q.last_word&&"{"!==q.last_text?oe=!0:(q.var_line=!1,q.var_line_reindented=!1,s())):m(z,te)&&")"!==q.last_text&&(q.var_line=!1,q.var_line_reindented=!1,s()):K(q.mode)&&","===q.last_text&&"}"===G?s():"SPACE"===re&&(oe=!0),f(),q.last_word=z,"var"===z&&(q.var_line=!0,q.var_line_reindented=!1,q.var_line_tainted=!1),"do"===z&&(q.do_block=!0),void("if"===z&&(q.if_block=!0)))}function g(){for(;q.mode===de.Statement&&!q.if_block;)E();f(),q.var_line=!1,q.var_line_reindented=!1,q.mode===de.ObjectLiteral&&(q.mode=de.BlockStatement)}function w(){O()?oe=!0:"TK_WORD"===Q?oe=!0:"TK_COMMA"===Q||"TK_START_EXPR"===Q||"TK_EQUALS"===Q||"TK_OPERATOR"===Q?q.mode!==de.ObjectLiteral&&l():s(),f()}function M(){q.var_line&&(q.var_line_tainted=!0),oe=!0,f(),oe=!0}function k(){return q.var_line?((p(q.mode)||"TK_END_BLOCK"===Q)&&(q.var_line_tainted=!1),q.var_line&&(q.var_line_reindented=!0),f(),void(q.var_line_tainted?(q.var_line_tainted=!1,s()):oe=!0)):void("TK_END_BLOCK"===Q&&q.mode!==de.Expression?(f(),q.mode===de.ObjectLiteral&&"}"===q.last_text?s():oe=!0):q.mode===de.ObjectLiteral?(f(),s()):(f(),oe=!0))}function I(){var e=!0,t=!0;return v(q.last_text)?(oe=!0,void f()):"*"!==z||"TK_DOT"!==Q||G.match(/^\d+$/)?":"===z&&q.in_case?(q.case_body=!0,u(),f(),s(),void(q.in_case=!1)):"::"===z?void f():(!_e||"--"!==z&&"++"!==z||s(),m(z,["--","++","!"])||m(z,["-","+"])&&(m(Q,["TK_START_BLOCK","TK_START_EXPR","TK_EQUALS","TK_OPERATOR"])||m(q.last_text,te)||","===q.last_text)?(e=!1,t=!1,";"===q.last_text&&p(q.mode)&&(e=!0),"TK_WORD"===Q&&m(q.last_text,te)&&(e=!0),q.mode!==de.BlockStatement&&q.mode!==de.Statement||"{"!==q.last_text&&";"!==q.last_text||s()):":"===z?0===q.ternary_depth?(q.mode===de.BlockStatement&&(q.mode=de.ObjectLiteral),e=!1):q.ternary_depth-=1:"?"===z&&(q.ternary_depth+=1),oe=oe||e,f(),void(oe=t)):void f()}function P(){var e,t=i(z);if(A(t.slice(1),"*"))for(s(!1,!0),f(t[0]),e=1;e<t.length;e++)s(!1,!0),f(" "+_(t[e]));else for(t.length>1?s(!1,!0):"TK_END_BLOCK"===Q?s(!1,!0):oe=!0,f(t[0]),U.push("\n"),e=1;e<t.length;e++)U.push(t[e]),U.push("\n");R("\n")||s(!1,!0)}function B(){oe=!0,f(),oe=!0}function D(){_e&&s(!1,!0),","!==q.last_text||_e||r(!0),oe=!0,f(),s(!1,!0)}function W(){v(q.last_text)?oe=!0:l(")"===q.last_text&&Te.break_chained_methods),f()}function j(){f(),"\n"===z[z.length-1]&&s()}var X,U,z,F,Q,G,$,q,H,J,V,Y,Z,ee,te,ne,re,_e,ie,ae,oe,le,se,ce,de,Te,fe="";for(V="\n\r	 ".split(""),Y="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789_$".split(""),ne="0123456789".split(""),Z="+ - * / % & ++ -- = += -= *= /= %= == === != !== > < >= <= >> << >>> >>>= >>= <<= && &= | || ! !! , : ? ^ ^= |= ::",Z+=" <%= <% %> <?= <? ?>",Z=Z.split(" "),te="continue,try,throw,return,var,if,switch,case,default,for,while,break,function".split(","),de={BlockStatement:"BlockStatement",Statement:"Statement",ObjectLiteral:"ObjectLiteral",ArrayLiteral:"ArrayLiteral",ForInitializer:"ForInitializer",Conditional:"Conditional",Expression:"Expression"},ce={TK_START_EXPR:b,TK_END_EXPR:y,TK_START_BLOCK:L,TK_END_BLOCK:S,TK_WORD:C,TK_SEMICOLON:g,TK_STRING:w,TK_EQUALS:M,TK_OPERATOR:I,TK_COMMA:k,TK_BLOCK_COMMENT:P,TK_INLINE_COMMENT:B,TK_COMMENT:D,TK_DOT:W,TK_UNKNOWN:j},t=t?t:{},Te={},void 0!==t.space_after_anon_function&&void 0===t.jslint_happy&&(t.jslint_happy=t.space_after_anon_function),void 0!==t.braces_on_own_line&&(Te.brace_style=t.braces_on_own_line?"expand":"collapse"),Te.brace_style=t.brace_style?t.brace_style:Te.brace_style?Te.brace_style:"collapse",Te.indent_size=t.indent_size?parseInt(t.indent_size,10):4,Te.indent_char=t.indent_char?t.indent_char:" ",Te.preserve_newlines=void 0===t.preserve_newlines?!0:t.preserve_newlines,Te.break_chained_methods=void 0===t.break_chained_methods?!1:t.break_chained_methods,Te.max_preserve_newlines=void 0===t.max_preserve_newlines?0:parseInt(t.max_preserve_newlines,10),Te.jslint_happy=void 0===t.jslint_happy?!1:t.jslint_happy,Te.keep_array_indentation=void 0===t.keep_array_indentation?!1:t.keep_array_indentation,Te.space_before_conditional=void 0===t.space_before_conditional?!0:t.space_before_conditional,Te.unescape_strings=void 0===t.unescape_strings?!1:t.unescape_strings,Te.wrap_line_length=void 0===t.wrap_line_length?0:parseInt(t.wrap_line_length,10),$="";Te.indent_size>0;)$+=Te.indent_char,Te.indent_size-=1;for(;e&&(" "===e.charAt(0)||"	"===e.charAt(0));)fe+=e.charAt(0),e=e.substring(1);X=e,se=e.length,Q="TK_START_BLOCK",G="",U=[],ae=!1,oe=!1,le=[],J=[],h(de.BlockStatement),ee=0,this.beautify=function(){for(var e,t,n,r;;){if(e=N(),z=e[0],F=e[1],"TK_EOF"===F)break;if(n=Te.keep_array_indentation&&K(q.mode))for(t=0;ie>t;t+=1)s(!0);else if(_e=ie>0,Te.max_preserve_newlines&&ie>Te.max_preserve_newlines&&(ie=Te.max_preserve_newlines),Te.preserve_newlines&&ie>1)for(s(),t=1;ie>t;t+=1)s(!0);ce[F](),"TK_INLINE_COMMENT"!==F&&"TK_COMMENT"!==F&&"TK_UNKNOWN"!==F&&(G=q.last_text,Q=F,q.last_text=z)}return r=fe+U.join("").replace(/[\r\n ]+$/,"")}}"function"==typeof define?define(function(t,n,r){n.js_beautify=e}):"undefined"!=typeof exports?exports.js_beautify=e:"undefined"!=typeof window&&(window.js_beautify=e)}();
//# sourceMappingURL=beautify.min.js.map