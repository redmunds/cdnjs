!function(t){t.fn.miniTip=function(o){var n={title:"",content:!1,delay:300,anchor:"top",fadeIn:200,fadeOut:200,aHide:!1,maxW:"250px",offset:5},i=t.extend(n,o);if(t("#miniTip").length<=0){var a=t('<div id="miniTip" style="max-width:'+i.maxW+';"><div id="miniTip_t"></div><div id="miniTip_c"></div><div id="miniTip_a"></div></div>');t("body").append(a)}var a=t("#miniTip"),e=t("#miniTip_t"),r=t("#miniTip_c"),h=t("#miniTip_a");return this.each(function(){function o(){r.html(d),e.html(i.title),h.removeAttr("class");var o=parseInt(f.offset().top),n=parseInt(f.offset().left),p=parseInt(f.outerWidth()),s=parseInt(f.outerHeight()),c=a.outerWidth(),u=a.outerHeight(),m=Math.round((p-c)/2),l=Math.round((s-u)/2),v=Math.round(n+m),T=Math.round(o+s+i.offset),M=Math.round(c-16)/2-parseInt(a.css("borderLeftWidth")),g=m+n<parseInt(t(window).scrollLeft()),I=c+n>parseInt(t(window).width()),w=o+s+i.offset+u+8>parseInt(t(window).height()+t(window).scrollTop()),x=o+s-(i.offset+u+8)<0,b=i.anchor;g&&m<0||"right"==i.anchor&&!I||"left"==i.anchor&&n<c+i.offset+5?(b="right",aTop=Math.round(u-13)/2,M=-12,v=Math.round(n+p+i.offset),T=Math.round(o+l)):(I&&m<0||"left"==i.anchor&&!g)&&(b="left",aTop=Math.round(u-13)/2,M=Math.round(c),v=Math.round(n-(c+i.offset+5)),T=Math.round(o+l)),w||"bottom"==i.anchor&&w||"top"==i.anchor&&!x?("top"!=i.anchor&&"bottom"!=i.anchor||(b="top"),aTop=u,T=Math.round(o-(u+i.offset+5))):(x|("top"==i.anchor&&x)||"bottom"==i.anchor&&!w)&&("top"!=i.anchor&&"bottom"!=i.anchor||(b="bottom"),aTop=-12,T=Math.round(o+s+i.offset)),console.log(aTop,M),h.css({"margin-left":M+"px","margin-top":aTop+"px"}).attr("class",b),a.css({"margin-left":v+"px","margin-top":T+"px"}).stop(!0,!0).fadeIn(i.fadeIn)}function n(){console.log("hide")}var d=i.content?i.content:t(this).attr("title");if(""!=d){var f=t(this);i.content||f.removeAttr("title"),f.hover(function(){o()},function(){n()})}})}}(jQuery);
