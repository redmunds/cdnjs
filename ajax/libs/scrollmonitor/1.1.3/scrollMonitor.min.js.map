{"version":3,"sources":["scrollMonitor.js"],"names":["factory","define","amd","module","exports","calculateViewport","viewportTop","scrollTop","viewportBottom","viewportHeight","documentHeight","getDocumentHeight","previousDocumentHeight","calculateViewportI","watchers","length","recalculateLocation","recalculateWatchLocationsAndTrigger","getViewportHeight","updateAndTriggerWatchers","debouncedRecalcuateAndTrigger","clearTimeout","recalculateAndTriggerTimer","setTimeout","updateAndTriggerWatchersI","update","triggerCallbacks","ElementWatcher","watchItem","offsets","triggerCallbackArray","listeners","listenerToTriggerListI","listener","callback","call","self","latestEvent","isOne","splice","this","top","bottom","defaultOffsets","callbacks","i","j","eventTypes","locked","wasInViewport","wasFullyInViewport","wasAboveViewport","wasBelowViewport","isInViewport","ENTERVIEWPORT","isFullyInViewport","FULLYENTERVIEWPORT","isAboveViewport","isBelowViewport","VISIBILITYCHANGE","PARTIALLYEXITVIEWPORT","EXITVIEWPORT","STATECHANGE","previousTop","previousBottom","nodeName","cachedDisplay","style","display","boundingRect","getBoundingClientRect","height","undefined","LOCATIONCHANGE","scrollMonitorListener","event","isOnServer","window","isInBrowser","pageYOffset","document","documentElement","body","innerHeight","clientHeight","Math","max","scrollHeight","offsetHeight","prototype","on","Error","join","push","off","item","one","recalculateSize","destroy","index","indexOf","lock","unlock","eventHandlerFactory","type","e","$","addEventListener","attachEvent","beget","create","element","querySelector","watcher","recalculateLocations","scrollMonitor"],"mappings":"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","file":"scrollMonitor.min.js"}