{"version":3,"sources":["scrollMonitor.js"],"names":["factory","define","amd","module","exports","window","scrollMonitor","calculateViewport","viewportTop","scrollTop","viewportBottom","viewportHeight","documentHeight","getDocumentHeight","previousDocumentHeight","calculateViewportI","watchers","length","recalculateLocation","recalculateWatchLocationsAndTrigger","getViewportHeight","updateAndTriggerWatchers","debouncedRecalcuateAndTrigger","clearTimeout","recalculateAndTriggerTimer","setTimeout","updateAndTriggerWatchersI","update","triggerCallbacks","ElementWatcher","watchItem","offsets","triggerCallbackArray","listeners","listenerToTriggerListI","listener","callback","call","self","latestEvent","isOne","splice","this","top","bottom","defaultOffsets","callbacks","i","j","eventTypes","locked","wasInViewport","wasFullyInViewport","wasAboveViewport","wasBelowViewport","isInViewport","ENTERVIEWPORT","isFullyInViewport","FULLYENTERVIEWPORT","isAboveViewport","isBelowViewport","VISIBILITYCHANGE","PARTIALLYEXITVIEWPORT","EXITVIEWPORT","STATECHANGE","previousTop","previousBottom","nodeName","cachedDisplay","style","display","boundingRect","getBoundingClientRect","height","undefined","LOCATIONCHANGE","scrollMonitorListener","event","isOnServer","isInBrowser","pageYOffset","document","documentElement","body","innerHeight","clientHeight","Math","max","scrollHeight","offsetHeight","prototype","on","Error","join","push","off","item","one","recalculateSize","destroy","index","indexOf","lock","unlock","eventHandlerFactory","type","e","$","addEventListener","attachEvent","beget","create","element","querySelector","watcher","recalculateLocations"],"mappings":"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","file":"scrollMonitor.min.js"}