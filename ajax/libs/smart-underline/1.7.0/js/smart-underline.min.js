(function(){var e,n,t,r,o,i,a,d,u,l,m,c,g,p,s,f,b,k,h,v;window.SmartUnderline={init:function(){},destroy:function(){}},window.getComputedStyle&&document.documentElement.getAttribute&&(f="#b4d5fe",c="data-smart-underline-link-color",p="data-smart-underline-link-small",g="data-smart-underline-link-large",e="data-smart-underline-container-id",s=[],h=function(){return+new Date},v=function(){var e;return e=0,function(){return e+=1}}(),m=function(e){var n,t;return"transparent"===e||"rgba(0, 0, 0, 0)"===e||(t=e.match(/^rgba\(.*,(.+)\)/i),2===(null!=t?t.length:void 0)&&(n=parseFloat(t[1]),n<1e-4))},a=function(e){var n,t,r,o;return t=getComputedStyle(e),n=t.backgroundColor,r=e.parentNode,o=!r||r===document.documentElement||r===e,"none"!==t.backgroundImage?null:m(n)?o?e.parentNode||e:a(r):e},u=function(e){return t(e)||n(e)},t=function(e){var n,r,o,i,a,d;for(i=e.children,r=0,o=i.length;r<o;r++)return n=i[r],"img"===(a=null!=(d=n.tagName)?d.toLowerCase():void 0)||"video"===a||"canvas"===a||"embed"===a||"object"===a||"iframe"===a||t(n);return!1},n=function(e){var t,r,o,i,a;for(a=e.children,o=0,i=a.length;o<i;o++)return t=a[o],r=getComputedStyle(link),"inline"!==r.display||n(t);return!1},i=function(e){var n;return n=getComputedStyle(e).backgroundColor,e===document.documentElement&&m(n)?"rgb(255, 255, 255)":n},d=function(e){return getComputedStyle(e).color},k=document.createElement("style"),r=function(n,t){var o,i;return null==t&&(t=0),o=n.parentNode,i=!o||o===document||o===n,i?t:(o.hasAttribute(e)&&(t+=1),t+r(o))},b=function(e){var n,t,o;o=[];for(t in e)n=e[t],n.depth=r(n.container),o.push(n);return o.sort(function(e,n){return e.depth<n.depth?-1:e.depth>n.depth?1:0}),o},l=function(n){var t,r,o,l,m,w,x,y,C,S,A,z,E,L,N,D,q,F,M,T,U,j,H;if(L=h(),E=document.querySelectorAll(""+(n.location?n.location+" ":"")+"a"),E.length){for(l={},q=0,T=E.length;q<T;q++)y=E[q],N=getComputedStyle(y),w=parseFloat(N.fontSize),"underline"===N.textDecoration&&"inline"===N.display&&w>=8&&!u(y)&&(o=a(y),o&&(y.setAttribute(c,d(y)),w<=14&&y.setAttribute(p,""),w>=20&&y.setAttribute(g,""),x=o.getAttribute(e),x?l[x].links.push(y):(x=v(),o.setAttribute(e,x),l[x]={id:x,container:o,links:[y]})));for(D="",m=b(l),F=0,U=m.length;F<U;F++){for(o=m[F],C={},H=o.links,M=0,j=H.length;M<j;M++)y=H[M],C[d(y)]=!0;t=i(o.container);for(r in C)A="["+e+'="'+o.id+'"] a['+c+'="'+r+'"]',z=""+A+"["+p+"]",S=""+A+"["+g+"]",D+=""+A+", "+A+":visited {\n  color: "+r+";\n  text-decoration: none !important;\n  text-shadow: 0.03em 0 "+t+", -0.03em 0 "+t+", 0 0.03em "+t+", 0 -0.03em "+t+", 0.06em 0 "+t+", -0.06em 0 "+t+", 0.09em 0 "+t+", -0.09em 0 "+t+", 0.12em 0 "+t+", -0.12em 0 "+t+", 0.15em 0 "+t+", -0.15em 0 "+t+";\n  background-color: transparent;\n  background-image: -webkit-linear-gradient("+t+", "+t+"), -webkit-linear-gradient("+t+", "+t+"), -webkit-linear-gradient("+r+", "+r+");\n  background-image: -moz-linear-gradient("+t+", "+t+"), -moz-linear-gradient("+t+", "+t+"), -moz-linear-gradient("+r+", "+r+");\n  background-image: -o-linear-gradient("+t+", "+t+"), -o-linear-gradient("+t+", "+t+"), -o-linear-gradient("+r+", "+r+");\n  background-image: -ms-linear-gradient("+t+", "+t+"), -ms-linear-gradient("+t+", "+t+"), -ms-linear-gradient("+r+", "+r+");\n  background-image: linear-gradient("+t+", "+t+"), linear-gradient("+t+", "+t+"), linear-gradient("+r+", "+r+");\n  -webkit-background-size: 0.05em 1px, 0.05em 1px, 1px 1px;\n  -moz-background-size: 0.05em 1px, 0.05em 1px, 1px 1px;\n  background-size: 0.05em 1px, 0.05em 1px, 1px 1px;\n  background-repeat: no-repeat, no-repeat, repeat-x;\n  background-position: 0% 89%, 100% 89%, 0% 89%;\n}\n\n"+z+" {\n  background-position: 0% 96%, 100% 96%, 0% 96%;\n}\n\n"+S+" {\n  background-position: 0% 86%, 100% 86%, 0% 86%;\n}\n\n"+A+"::selection {\n  text-shadow: 0.03em 0 "+f+", -0.03em 0 "+f+", 0 0.03em "+f+", 0 -0.03em "+f+", 0.06em 0 "+f+", -0.06em 0 "+f+", 0.09em 0 "+f+", -0.09em 0 "+f+", 0.12em 0 "+f+", -0.12em 0 "+f+", 0.15em 0 "+f+", -0.15em 0 "+f+";\n  background: "+f+";\n}\n\n"+A+"::-moz-selection {\n  text-shadow: 0.03em 0 "+f+", -0.03em 0 "+f+", 0 0.03em "+f+", 0 -0.03em "+f+", 0.06em 0 "+f+", -0.06em 0 "+f+", 0.09em 0 "+f+", -0.09em 0 "+f+", 0.12em 0 "+f+", -0.12em 0 "+f+", 0.15em 0 "+f+", -0.15em 0 "+f+";\n  background: "+f+";\n}"}return k.innerHTML=D,document.body.appendChild(k),s.push(h()-L)}},o=function(){var n,t,r,o,i,a;for(null!=(o=k.parentNode)&&o.removeChild(k),i=[c,p,g,e],a=[],t=0,r=i.length;t<r;t++)n=i[t],a.push(Array.prototype.forEach.call(document.querySelectorAll("["+n+"]"),function(e){return e.removeAttribute(n)}));return a},window.SmartUnderline={init:function(e){return null==e&&(e={}),"loading"===document.readyState?(window.addEventListener("DOMContentLoaded",function(){return l(e)}),window.addEventListener("load",function(){return o(),l(e)})):(o(),l(e))},destroy:function(){return o()},performanceTimes:function(){return s}})}).call(this);
//# sourceMappingURL=smart-underline.min.js.map