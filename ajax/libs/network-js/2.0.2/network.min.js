!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.Network=e()}}(function(){return function e(t,r,n){function i(a,u){if(!r[a]){if(!t[a]){var s="function"==typeof require&&require;if(!u&&s)return s(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var f=r[a]={exports:{}};t[a][0].call(f.exports,function(e){var r=t[a][1][e];return i(r?r:e)},f,f.exports,e,t,r,n)}return r[a].exports}for(var o="function"==typeof require&&require,a=0;a<n.length;a++)i(n[a]);return i}({1:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,r){var n=r[t];if(n){var i={};for(var o in n)i[o]=n[o];i.value=i.initializer.call(e),Object.defineProperty(e,t,i)}}Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function e(e,t,r){for(var n=0;n<t.length;n++){var i=t[n],o=i.decorators,a=i.key;if(delete i.key,delete i.decorators,i.enumerable=i.enumerable||!1,i.configurable=!0,("value"in i||i.initializer)&&(i.writable=!0),o){for(var u=0;u<o.length;u++){var s=o[u];if("function"!=typeof s)throw new TypeError("The decorator for method "+i.key+" is of the invalid type "+typeof s);i=s(e,a,i)||i}if(void 0!==i.initializer){r[a]=i;continue}}Object.defineProperty(e,a,i)}}return function(t,r,n,i,o){return r&&e(t.prototype,r,i),n&&e(t,n,o),t}}(),a=e("../utils/decorators"),u=function(){function e(){n(this,e),i(this,"_eventCallbacks",t)}var t={};return o(e,[{key:"on",value:function(e,t){var r=this;return e=Array.isArray(e)?e:[e],e.forEach(function(e){var n=r._eventCallbacks[e]=r._eventCallbacks[e]||[];~n.indexOf(t)||n.push(t)}),this}},{key:"off",value:function(e){var t=this,r=arguments.length<=1||void 0===arguments[1]?null:arguments[1];return e=Array.isArray(e)?e:[e],e.forEach(function(e){var n=t._eventCallbacks[e];if(!r&&n)delete t._eventCallbacks[e];else{var i=n?n.indexOf(r):-1;-1!=i&&n.splice(i,1)}}),this}},{key:"trigger",value:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;t>n;n++)r[n-1]=arguments[n];var i=this._eventCallbacks[e]||[],o=!0;return i.forEach(function(e){var t=e.apply(void 0,r);t=t!==!1?!0:!1,o=o&&t}),o}},{key:"_eventCallbacks",decorators:[a.enumerable(!1)],initializer:function(){return{}},enumerable:!0}],null,t),e}();r["default"]=u,t.exports=r["default"]},{"../utils/decorators":7}],2:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t,r){var n=r[t];if(n){var i={};for(var o in n)i[o]=n[o];i.value=i.initializer.call(e),Object.defineProperty(e,t,i)}}Object.defineProperty(r,"__esModule",{value:!0});var u=function(){function e(e,t,r){for(var n=0;n<t.length;n++){var i=t[n],o=i.decorators,a=i.key;if(delete i.key,delete i.decorators,i.enumerable=i.enumerable||!1,i.configurable=!0,("value"in i||i.initializer)&&(i.writable=!0),o){for(var u=0;u<o.length;u++){var s=o[u];if("function"!=typeof s)throw new TypeError("The decorator for method "+i.key+" is of the invalid type "+typeof s);i=s(e,a,i)||i}if(void 0!==i.initializer){r[a]=i;continue}}Object.defineProperty(e,a,i)}}return function(t,r,n,i,o){return r&&e(t.prototype,r,i),n&&e(t,n,o),t}}(),s=function(e,t,r){for(var n=!0;n;){var i=e,o=t,a=r;u=l=s=void 0,n=!1,null===i&&(i=Function.prototype);var u=Object.getOwnPropertyDescriptor(i,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;return void 0===s?void 0:s.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return void 0;e=l,t=o,r=a,n=!0}},l=e("./HttpModule"),f=n(l),c=e("../Timing"),d=n(c),h=e("../../utils/helpers"),p=e("../../utils/decorators"),g=function(e){function t(e){var n=this,o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];i(this,t),e=~["upload","download"].indexOf(e)?e:"download",s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),a(this,"_loadingType",r),a(this,"_intendedEnd",r),a(this,"_isRestarting",r),a(this,"_lastLoadedValue",r),a(this,"_speedRecords",r),a(this,"_avgSpeed",r),a(this,"_requestID",r),a(this,"_progressID",r),a(this,"_started",r),a(this,"_firstProgress",r),a(this,"_deferredProgress",r),a(this,"_timingLabels",r),this._extendDefaultSettings({data:{size:"upload"==e?2097152:10485760,multiplier:2}}).settings(o),this._loadingType=e,this.on("xhr-upload-loadstart",function(){return d["default"].mark(n._timingLabels.start)}),this.on("xhr-readystatechange",function(e){n._started||e.readyState!=XMLHttpRequest.LOADING||(d["default"].mark(n._timingLabels.start),n._started=!0)});var u="upload"==e?"xhr-upload":"xhr";this.on(u+"-progress",function(e,t){return n._progress(t)}),this.on(u+"-timeout",function(){return n._timeout()}),this.on(u+"-loadend",function(){return n._end()})}var r={},r={};return o(t,e),u(t,[{key:"_loadingType",decorators:[p.enumerable(!1)],initializer:function(){return void 0},enumerable:!0},{key:"_intendedEnd",decorators:[p.enumerable(!1)],initializer:function(){return!1},enumerable:!0},{key:"_isRestarting",decorators:[p.enumerable(!1)],initializer:function(){return!1},enumerable:!0},{key:"_lastLoadedValue",decorators:[p.enumerable(!1)],initializer:function(){return null},enumerable:!0},{key:"_speedRecords",decorators:[p.enumerable(!1)],initializer:function(){return[]},enumerable:!0},{key:"_avgSpeed",decorators:[p.enumerable(!1)],initializer:function(){return void 0},enumerable:!0},{key:"_requestID",decorators:[p.enumerable(!1)],initializer:function(){return 0},enumerable:!0},{key:"_progressID",decorators:[p.enumerable(!1)],initializer:function(){return 0},enumerable:!0},{key:"_started",decorators:[p.enumerable(!1)],initializer:function(){return!1},enumerable:!0},{key:"_firstProgress",decorators:[p.enumerable(!1)],initializer:function(){return!0},enumerable:!0},{key:"_deferredProgress",decorators:[p.enumerable(!1)],initializer:function(){return void 0},enumerable:!0},{key:"_timingLabels",decorators:[p.enumerable(!1)],initializer:function(){return{start:null,progress:null,end:null,measure:null}},enumerable:!0}],null,r),u(t,[{key:"start",value:function(){var e=this._loadingType,t=this.settings().data,r=this._requestID++;this._intendedEnd=!1,this._lastLoadedValue=null,this._speedRecords=[],this._started=!1,this._firstProgress=!0,this._deferredProgress=h.defer(),this._isRestarting||this.trigger("start",t.size);var n=this._timingLabels;n.start=e+"-"+r+"-start",n.progress=e+"-"+r+"-progress",n.end=e+"-"+r+"-end",n.measure=e+"-"+r+"-measure";var i="upload"==e?new Blob([new ArrayBuffer(t.size)]):null,o="download"==e?"GET":"POST";return this._newRequest(o,{size:t.size})._sendRequest(i),this}},{key:"abort",value:function(){return this._intendedEnd=!0,this._abort()}},{key:"_progress",value:function(e){var t=this;if(this._firstProgress)return this._firstProgress=!1;this._deferredProgress.run();var r=this._timingLabels,n=this._progressID++,i=r.progress+"-"+n,o=e.loaded;d["default"].mark(i);var a,u=d["default"].measure(r.measure+"-avg-"+n,r.start,i),s=o/u*1e3;if(null===this._lastLoadedValue)a=s;else{var l=d["default"].measure(r.measure+"-instant-"+n,r.progress+"-"+(n-1),i);a=(o-this._lastLoadedValue)/l*1e3}return this._lastLoadedValue=o,this._deferredProgress=h.defer(function(){t._avgSpeed=s,t._speedRecords.push(a),t.trigger("progress",s,a)}),this}},{key:"_timeout",value:function(){return this._intendedEnd=!0,this}},{key:"_end",value:function(){if(this._intendedEnd)this._isRestarting=!1,this.trigger("end",this._avgSpeed,this._speedRecords);else{var e=(this._loadingType,this.settings().data);e.size*=e.multiplier,this.trigger("restart",e.size),this._isRestarting=!0,this.start()}return this}}],null,r),t}(f["default"]);r["default"]=g,t.exports=r["default"]},{"../../utils/decorators":7,"../../utils/helpers":8,"../Timing":6,"./HttpModule":3}],3:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t,r){var n=r[t];if(n){var i={};for(var o in n)i[o]=n[o];i.value=i.initializer.call(e),Object.defineProperty(e,t,i)}}Object.defineProperty(r,"__esModule",{value:!0});var u=function(){function e(e,t,r){for(var n=0;n<t.length;n++){var i=t[n],o=i.decorators,a=i.key;if(delete i.key,delete i.decorators,i.enumerable=i.enumerable||!1,i.configurable=!0,("value"in i||i.initializer)&&(i.writable=!0),o){for(var u=0;u<o.length;u++){var s=o[u];if("function"!=typeof s)throw new TypeError("The decorator for method "+i.key+" is of the invalid type "+typeof s);i=s(e,a,i)||i}if(void 0!==i.initializer){r[a]=i;continue}}Object.defineProperty(e,a,i)}}return function(t,r,n,i,o){return r&&e(t.prototype,r,i),n&&e(t,n,o),t}}(),s=function(e,t,r){for(var n=!0;n;){var i=e,o=t,a=r;u=l=s=void 0,n=!1,null===i&&(i=Function.prototype);var u=Object.getOwnPropertyDescriptor(i,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;return void 0===s?void 0:s.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return void 0;e=l,t=o,r=a,n=!0}},l=e("../EventDispatcher"),f=n(l),c=e("../../utils/helpers"),d=e("../../utils/decorators"),h=function(e){function t(e){var n=this,o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];i(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),a(this,"_defaultSettings",r),a(this,"_settings",r),a(this,"_moduleName",r),a(this,"_xhr",r),a(this,"_lastURLToken",r),a(this,"_requesting",r),a(this,"_requestingOverridden",r),this._extendDefaultSettings({endpoint:"./network.php",delay:8e3}),this.settings(o),this._moduleName=e,this.on(["xhr-loadstart","xhr-upload-loadstart"],function(){n._requestingOverridden||(n._requesting=!0)}),this.on(["xhr-loadend","xhr-upload-loadend"],function(){n._requestingOverridden||(n._requesting=!1)})}var r={},r={};return o(t,e),u(t,[{key:"_defaultSettings",decorators:[d.enumerable(!1)],initializer:function(){return null},enumerable:!0},{key:"_settings",decorators:[d.enumerable(!1)],initializer:function(){return null},enumerable:!0},{key:"_moduleName",decorators:[d.enumerable(!1)],initializer:function(){return void 0},enumerable:!0},{key:"_xhr",decorators:[d.enumerable(!1)],initializer:function(){return null},enumerable:!0},{key:"_lastURLToken",decorators:[d.enumerable(!1)],initializer:function(){return null},enumerable:!0},{key:"_requesting",decorators:[d.enumerable(!1)],initializer:function(){return!1},enumerable:!0},{key:"_requestingOverridden",decorators:[d.enumerable(!1)],initializer:function(){return!1},enumerable:!0}],null,r),u(t,[{key:"settings",value:function(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0];return c.isObject(e)?(this._settings=c.assignStrict(this._defaultSettings||{},this._settings||{},e),this):c.copy(this._settings||this._defaultSettings||{})}},{key:"isRequesting",value:function(){return this._requesting}},{key:"_extendDefaultSettings",value:function(e){return this._defaultSettings=c.assign(this._defaultSettings||{},e),this}},{key:"_newRequest",value:function(e,t){var r=this;if(!this.trigger("_newRequest")&&!this._requestingOverridden)return console.warn("To ensure accurate measures, you can only make one request at a time."),this;var n=this.settings(),i=new XMLHttpRequest,o=["GET","POST"];if(!~o.indexOf(e))return console.warn("The HTTP method must be GET or POST."),this;t=t||{};var a=(new Date).getTime();this._lastURLToken="network-"+a;var u=n.endpoint;u+=~u.indexOf("?")?"&":"?",u+="module="+this._moduleName,Object.keys(t).forEach(function(e){var r=encodeURIComponent(t[e]);u+="&"+e+"="+r}),u+="&"+this._lastURLToken,i.open(e,u),this._xhr&&this._xhr.readyState==XMLHttpRequest.OPENED&&this._xhr.abort(),this._xhr=i;var s=["loadstart","progress","abort","error","load","timeout","loadend","readystatechange"];s.forEach(function(e){i.addEventListener(e,function(){for(var t=arguments.length,n=Array(t),o=0;t>o;o++)n[o]=arguments[o];("progress"!=e||r._requesting)&&r.trigger.apply(r,["xhr-"+e,i].concat(n))}),"readystatechange"!=e&&i.upload.addEventListener(e,function(){for(var t=arguments.length,n=Array(t),o=0;t>o;o++)n[o]=arguments[o];r.trigger.apply(r,["xhr-upload-"+e,i].concat(n))})});var l=function(e){setTimeout(function(){e.readyState!=XMLHttpRequest.UNSENT&&e.readyState!=XMLHttpRequest.DONE&&(r.trigger("xhr-timeout"),r.trigger("xhr-upload-timeout"),e.abort())},n.delay)};return this.on("xhr-upload-loadstart",l).on("xhr-readystatechange",function(e){return function(t){e||t.readyState!=XMLHttpRequest.LOADING||(e=!0,l(t))}}(!1)),this}},{key:"_sendRequest",value:function(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0];return this._xhr&&this._xhr.readyState==XMLHttpRequest.OPENED?this._xhr.send(e):console.warn("A request must have been created before sending any data."),this}},{key:"_abort",value:function(){return this._xhr&&this._xhr.abort(),this}},{key:"_getTimingEntry",value:function(e){return setTimeout(function(t){return function(){var r=performance.getEntriesByType("resource").filter(function(e){return~e.name.indexOf(t)});e(r.length?r[0]:null)}}(this._lastURLToken),0),this}},{key:"_setRequesting",value:function(e){return this._requestingOverridden=!0,this._requesting=e,this}}],null,r),t}(f["default"]);r["default"]=h,t.exports=r["default"]},{"../../utils/decorators":7,"../../utils/helpers":8,"../EventDispatcher":1}],4:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t,r){var n=r[t];if(n){var i={};for(var o in n)i[o]=n[o];i.value=i.initializer.call(e),Object.defineProperty(e,t,i)}}Object.defineProperty(r,"__esModule",{value:!0});var u=function(){function e(e,t,r){for(var n=0;n<t.length;n++){var i=t[n],o=i.decorators,a=i.key;if(delete i.key,delete i.decorators,i.enumerable=i.enumerable||!1,i.configurable=!0,("value"in i||i.initializer)&&(i.writable=!0),o){for(var u=0;u<o.length;u++){var s=o[u];if("function"!=typeof s)throw new TypeError("The decorator for method "+i.key+" is of the invalid type "+typeof s);i=s(e,a,i)||i}if(void 0!==i.initializer){r[a]=i;continue}}Object.defineProperty(e,a,i)}}return function(t,r,n,i,o){return r&&e(t.prototype,r,i),n&&e(t,n,o),t}}(),s=function(e,t,r){for(var n=!0;n;){var i=e,o=t,a=r;u=l=s=void 0,n=!1,null===i&&(i=Function.prototype);var u=Object.getOwnPropertyDescriptor(i,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;return void 0===s?void 0:s.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return void 0;e=l,t=o,r=a,n=!0}},l=e("./HttpModule"),f=n(l),c=e("../Timing"),d=n(c),h=e("../../utils/helpers"),p=e("../../utils/decorators"),g=function(e){function t(){var e=this,n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];i(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,"latency"),a(this,"_requestsLeft",r),a(this,"_attemptsLeft",r),a(this,"_latencies",r),a(this,"_requestID",r),a(this,"_timingLabels",r),this._extendDefaultSettings({measures:5,attempts:3}).settings(n),d["default"].supportsResourceTiming()?this.on("xhr-load",function(){return e._measure()}):(this.on("xhr-loadstart",function(){return d["default"].mark(e._timingLabels.start)}),this.on("xhr-readystatechange",function(t){return e._measure(t)}))}var r={},r={};return o(t,e),u(t,[{key:"_requestsLeft",decorators:[p.enumerable(!1)],initializer:function(){return void 0},enumerable:!0},{key:"_attemptsLeft",decorators:[p.enumerable(!1)],initializer:function(){return void 0},enumerable:!0},{key:"_latencies",decorators:[p.enumerable(!1)],initializer:function(){return void 0},enumerable:!0},{key:"_requestID",decorators:[p.enumerable(!1)],initializer:function(){return 0},enumerable:!0},{key:"_timingLabels",decorators:[p.enumerable(!1)],initializer:function(){return{start:null,end:null,measure:null}},enumerable:!0}],null,r),u(t,[{key:"settings",value:function(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0];return h.isObject(e)?s(Object.getPrototypeOf(t.prototype),"settings",this).call(this,h.assignStrict(e,{delay:0})):h.except(s(Object.getPrototypeOf(t.prototype),"settings",this).call(this),["delay"])}},{key:"start",value:function(){var e=this.settings(),t=e.measures,r=e.attempts;return this._requestsLeft=t,this._attemptsLeft=r*t,d["default"].supportsResourceTiming()||(this._requestsLeft++,this._attemptsLeft++),this._setRequesting(!0),this._latencies=[],this._nextRequest(),this}},{key:"_nextRequest",value:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?!1:arguments[0],r=this._requestID++,n=t?this._requestsLeft:this._requestsLeft--;if(this._attemptsLeft--&&(n||t)){var i=this._timingLabels;i.start="latency-"+r+"-start",i.end="latency-"+r+"-end",i.measure="latency-"+r+"-measure",this._newRequest("GET")._sendRequest()}else this._setRequesting(!1),setTimeout(function(){return e._end()},0);return this}},{key:"_measure",value:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?null:arguments[0];if(t)if(this._requestsLeft<this.settings().measures){if(t.readyState==XMLHttpRequest.HEADERS_RECEIVED){var r=this._timingLabels;d["default"].mark(r.end);var n=d["default"].measure(r.measure,r.start,r.end);n&&this._latencies.push(n),this._abort(),this._nextRequest(!n)}}else this._nextRequest();else this._getTimingEntry(function(t){var r=t.secureConnectionStart?t.secureConnectionStart-t.connectStart:t.connectEnd-t.connectStart;r&&e._latencies.push(r),e._nextRequest(!r)});return this}},{key:"_end",value:function(){var e=this._latencies,t=e.reduce(function(e,t){return e+t},0)/(e.length||1);if(t=t||null,e.length<this.settings().measures){var r=this.settings(),n=r.measures,i=r.attempts;console.warn(["An insufficient number of measures have been processed, this could be due to your web server using","persistant connections or to your client settings (measures: "+n+", attempts: "+i+")"].join(" "))}return this.trigger("end",t,e),this}}],null,r),t}(f["default"]);r["default"]=g,t.exports=r["default"]},{"../../utils/decorators":7,"../../utils/helpers":8,"../Timing":6,"./HttpModule":3}],5:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t,r){var n=r[t];if(n){var i={};for(var o in n)i[o]=n[o];i.value=i.initializer.call(e),Object.defineProperty(e,t,i)}}Object.defineProperty(r,"__esModule",{value:!0});var u=function(){function e(e,t,r){for(var n=0;n<t.length;n++){var i=t[n],o=i.decorators,a=i.key;if(delete i.key,delete i.decorators,i.enumerable=i.enumerable||!1,i.configurable=!0,("value"in i||i.initializer)&&(i.writable=!0),o){for(var u=0;u<o.length;u++){var s=o[u];if("function"!=typeof s)throw new TypeError("The decorator for method "+i.key+" is of the invalid type "+typeof s);i=s(e,a,i)||i}if(void 0!==i.initializer){r[a]=i;continue}}Object.defineProperty(e,a,i)}}return function(t,r,n,i,o){return r&&e(t.prototype,r,i),n&&e(t,n,o),t}}(),s=e("./EventDispatcher"),l=n(s),f=e("./Http/HttpModule"),c=n(f),d=e("./Http/LatencyModule"),h=n(d),p=e("./Http/BandwidthModule"),g=n(p),m=e("./Timing"),v=n(m),y=e("../utils/helpers"),_=e("../utils/decorators"),b=function(){function e(){var r=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];o(this,e),a(this,"_modules",t),a(this,"_modulesInitialized",t),a(this,"_pendingSettings",t),this._registerModule("latency",function(e){return new h["default"](e)})._registerModule("upload",function(e){return new g["default"]("upload",e)})._registerModule("download",function(e){return new g["default"]("download",e)}),this._initModules(this.settings(r))}var t={},t={};return u(e,[{key:"_modules",decorators:[_.enumerable(!1)],initializer:function(){return{}},enumerable:!0},{key:"_modulesInitialized",decorators:[_.enumerable(!1)],initializer:function(){return!1},enumerable:!0},{key:"_pendingSettings",decorators:[_.enumerable(!1)],initializer:function(){return{}},enumerable:!0}],[{key:"_exposeInternalClasses",decorators:[_.enumerable(!1)],value:function(){var e=y.getGlobalObject(),t={EventDispatcher:l["default"],HttpModule:c["default"],LatencyModule:h["default"],BandwidthModule:g["default"],Timing:v["default"]};return Object.keys(t).forEach(function(r){e[r]=t[r]}),this}}],t),u(e,[{key:"settings",value:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?null:arguments[0],r=Object.keys(this._modules);if(!y.isObject(t))return r.reduce(function(t,r){return y.assign(t,i({},r,e._modules[r].settings()))},{});var n=function(){var n=y.except(t,r),o=y.except(t,Object.keys(n));return t=r.reduce(function(e,t){return y.assign(e,i({},t,n))},{}),t=y.assign(t,o),e._modulesInitialized?Object.keys(e._modules).forEach(function(r){e._modules[r].settings(t[r])}):e._pendingSettings=t,{v:e}}();return"object"==typeof n?n.v:void 0}},{key:"isRequesting",value:function(){var e=!1;for(var t in this._modules)this._modules.hasOwnProperty(t)&&(e=e||this._modules[t].isRequesting());return e}},{key:"_registerModule",value:function(e,t){return this._modules[e]=t,this}},{key:"_initModules",value:function(){var e=this;return this._modulesInitialized||(Object.keys(this._modules).forEach(function(t){e._modules[t]=e._modules[t](e._pendingSettings[t]).on("_newRequest",function(){return!e.isRequesting()}),e[t]=e._modules[t]}),this._modulesInitialized=!0),this}}],null,t),e}();r["default"]=b,t.exports=r["default"]},{"../utils/decorators":7,"../utils/helpers":8,"./EventDispatcher":1,"./Http/BandwidthModule":2,"./Http/HttpModule":3,"./Http/LatencyModule":4,"./Timing":6}],6:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,r){var n=r[t];if(n){var i={};for(var o in n)i[o]=n[o];i.value=i.initializer.call(e),Object.defineProperty(e,t,i)}}Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function e(e,t,r){for(var n=0;n<t.length;n++){var i=t[n],o=i.decorators,a=i.key;if(delete i.key,delete i.decorators,i.enumerable=i.enumerable||!1,i.configurable=!0,("value"in i||i.initializer)&&(i.writable=!0),o){for(var u=0;u<o.length;u++){var s=o[u];if("function"!=typeof s)throw new TypeError("The decorator for method "+i.key+" is of the invalid type "+typeof s);i=s(e,a,i)||i}if(void 0!==i.initializer){r[a]=i;continue}}Object.defineProperty(e,a,i)}}return function(t,r,n,i,o){return r&&e(t.prototype,r,i),n&&e(t,n,o),t}}(),a=e("../utils/helpers"),u=e("../utils/decorators"),s=function(){function e(){n(this,e),i(this,"_support",t),i(this,"_marks",t),i(this,"_measures",t);var r=a.getGlobalObject();this._support={performance:!!r.performance,userTiming:r.performance&&performance.mark,resourceTiming:r.performance&&"function"==typeof performance.getEntriesByType&&performance.timing}}var t={},t={};return o(e,[{key:"_support",decorators:[u.enumerable(!1)],initializer:function(){return{}},enumerable:!0},{key:"_marks",decorators:[u.enumerable(!1)],initializer:function(){return{}},enumerable:!0},{key:"_measures",decorators:[u.enumerable(!1)],initializer:function(){return{}},enumerable:!0}],null,t),o(e,[{key:"mark",value:function(e){var t=this._support,r=this._marks;return t.userTiming&&performance.mark(e),r[e]=t.performance?performance.now():(new Date).getTime(),this}},{key:"measure",value:function(e,t,r){var n=this._support,i=this._marks,o=this._measures;if("undefined"==typeof o[e]){var a=i[r]-i[t];if(n.userTiming){performance.measure(e,t,r);var u=performance.getEntriesByName(e);o[e]=u.length?u[0].duration:a}else o[e]=a}return o[e]}},{key:"supportsResourceTiming",value:function(){return this._support.resourceTiming}}],null,t),e}();r["default"]=new s,t.exports=r["default"]},{"../utils/decorators":7,"../utils/helpers":8}],7:[function(e,t,r){"use strict";function n(e){return function(t,r,n){return n.enumerable=e,n}}Object.defineProperty(r,"__esModule",{value:!0}),r.enumerable=n},{}],8:[function(e,t,r){(function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(){return"undefined"!=typeof self?self:"undefined"!=typeof e?e:new Function("return this")()}function i(e){return void 0!=e&&null!=e&&"object"==typeof e.valueOf()}function o(e){return JSON.parse(JSON.stringify(e))}function a(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];t=o(t);for(var r=arguments.length,n=Array(r>2?r-2:0),u=2;r>u;u++)n[u-2]=arguments[u];return n.forEach(function(r){Object.keys(r).forEach(function(n){if(!e||t.hasOwnProperty(n)){var o=r[n];t[n]=i(o)?a(e,t[n],o):o}})}),t}function u(){for(var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments.length,r=Array(t>1?t-1:0),n=1;t>n;n++)r[n-1]=arguments[n];return a.apply(void 0,[!1,e].concat(r))}function s(){for(var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments.length,r=Array(t>1?t-1:0),n=1;t>n;n++)r[n-1]=arguments[n];return a.apply(void 0,[!0,e].concat(r))}function l(e,t){var r=o(e);return t.forEach(function(e){return delete r[e]}),r}function f(){var e=arguments.length<=0||void 0===arguments[0]?function(){}:arguments[0];return new(function(){function r(){t(this,r),this.func=e}return c(r,[{key:"run",value:function(){this.func&&this.func(),delete this.func}}]),r}())}Object.defineProperty(r,"__esModule",{value:!0});var c=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();r.getGlobalObject=n,r.isObject=i,r.copy=o,r.assign=u,r.assignStrict=s,r.except=l,r.defer=f}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[5])(5)});
//# sourceMappingURL=network.min.js.map