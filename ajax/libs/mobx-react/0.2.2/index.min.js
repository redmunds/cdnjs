!function(){function e(e,t,n){function o(e){var t=a.findDOMNode(e);t&&p.set(t,e),u.emit({event:"render",renderTime:e.__$mobRenderEnd-e.__$mobRenderStart,totalTime:Date.now()-e.__$mobRenderStart,component:e,node:t})}function r(e,t){var n=e[t],o=m[t];e[t]=function(){n&&n.apply(this,arguments),o.apply(this,arguments)}}function i(e){if("function"==typeof e&&!e.prototype.render&&!e.isReactClass&&!a.Component.isPrototypeOf(e))return i(a.createClass({displayName:e.name,render:function(){return e.call(this,this.props)}}));if(!e)throw new Error("Please pass a valid component to 'reactiveComponent'");var t=e.prototype||e;return["componentWillMount","componentWillUnmount","componentDidMount","componentDidUpdate"].forEach(function(e){r(t,e)}),t.shouldComponentUpdate||(t.shouldComponentUpdate=m.shouldComponentUpdate),e}function s(){if("undefined"==typeof WeakMap)throw new Error("tracking components is not supported in this browser");c||(c=!0)}if(!e)throw new Error("mobservable-react requires the Mobservable package.");var a=n||t;if(!a)throw new Error("mobservable-react requires either React or ReactNative to be available");var c=!1,p="undefined"!=typeof WeakMap?new WeakMap:void 0,u=new e._.SimpleEventEmitter,m={componentWillMount:function(){var t=this.render;this.__$mobDependencies=[],this.render=function(){c&&(this.__$mobRenderStart=Date.now());var n,o=!1;this.__$mobDisposer=e.observe(function(){o?(this.__$mobDisposer(),a.Component.prototype.forceUpdate.call(this)):(o=!0,n=t.call(this))},this),this.$mobservable=this.__$mobDisposer.$mobservable;var r=this.$mobservable.observing.map(function(e){return e.setRefCount(1),e});return this.__$mobDependencies.forEach(function(e){e.setRefCount(-1)}),this.__$mobDependencies=r,c&&(this.__$mobRenderEnd=Date.now()),n}},componentWillUnmount:function(){if(this.__$mobDisposer&&this.__$mobDisposer(),this.__$mobDependencies.forEach(function(e){e.setRefCount(-1)}),delete this.$mobservable,c){var e=a.findDOMNode(this);e&&(p["delete"](e),u.emit({event:"destroy",component:this,node:e}))}},componentDidMount:function(){c&&o(this)},componentDidUpdate:function(){c&&o(this)},shouldComponentUpdate:function(t,n){if(this.state!==n)return!0;var o,r=Object.keys(this.props);if(r.length!==Object.keys(t).length)return!0;for(var i=r.length-1;o=r[i];i--){var s=t[o];if(s!==this.props[o])return!0;if(s&&"object"==typeof s&&!e.isReactive(s))return!0}return!1}};return{reactiveComponent:i,renderReporter:u,componentByNodeRegistery:p,trackComponents:s}}"function"==typeof define&&define.amd?define("mobservable-react",["mobservable","react","react-native"],e):"object"==typeof exports?module.exports=e(require("mobservable"),function(){try{return require("react")}catch(e){return null}}(),function(){try{return require("react-native")}catch(e){return null}}()):this.mobservableReact=e(this.mobservable,this.React,this.ReactNative)}();
//# sourceMappingURL=index.min.js.map