!function(){function e(e,t,n){function o(e){return n?n.findDOMNode(e):null}function r(e){var t=o(e);t&&c.set(t,e),m.emit({event:"render",renderTime:e.__$mobRenderEnd-e.__$mobRenderStart,totalTime:Date.now()-e.__$mobRenderStart,component:e,node:t})}function s(e,t){var n=e[t],o=d[t];e[t]=function(){n&&n.apply(this,arguments),o.apply(this,arguments)}}function i(e){if("function"==typeof e&&!e.prototype.render&&!e.isReactClass&&!t.Component.isPrototypeOf(e))return i(t.createClass({displayName:e.displayName||e.name,propTypes:e.propTypes,contextTypes:e.contextTypes,getDefaultProps:function(){return e.defaultProps},render:function(){return e.call(this,this.props,this.context)}}));if(!e)throw new Error("Please pass a valid component to 'observer'");var n=e.prototype||e;return["componentWillMount","componentWillUnmount","componentDidMount","componentDidUpdate"].forEach(function(e){s(n,e)}),n.shouldComponentUpdate||(n.shouldComponentUpdate=d.shouldComponentUpdate),e.isMobservableReactObserver=!0,e}function a(){if("undefined"==typeof WeakMap)throw new Error("[mobservable-react] tracking components is not supported in this browser.");p||(p=!0)}if(!e)throw new Error("mobservable-react requires the Mobservable package");if(!t)throw new Error("mobservable-react requires React to be available");var p=!1,c="undefined"!=typeof WeakMap?new WeakMap:void 0,m=new e.extras.SimpleEventEmitter,d={componentWillMount:function(){var n=this.render;this.__$mobDependencies=[],this.render=function(){p&&(this.__$mobRenderStart=Date.now());var o,r=!1,s=this;this.__$mobRenderDisposer=e.autorun(function(){r?(s.__$mobRenderDisposer(),s.__$mobHasUnmounted!==!0&&t.Component.prototype.forceUpdate.call(s)):(r=!0,e.extras.withStrict(!0,function(){o=n.call(s)}))}),this.render.$mobservable=this.__$mobRenderDisposer.$mobservable,this.render.$mobservable.context.name=[this.displayName||this.name||this.constructor&&this.constructor.name||"<component>","#",this._reactInternalInstance&&this._reactInternalInstance._rootNodeID,".render()"].join("");var i=this.__$mobRenderDisposer.$mobservable.observing.map(function(e){return e.setRefCount(1),e});return this.__$mobDependencies.forEach(function(e){e.setRefCount(-1)}),this.__$mobDependencies=i,p&&(this.__$mobRenderEnd=Date.now()),o}},componentWillUnmount:function(){if(this.__$mobRenderDisposer&&this.__$mobRenderDisposer(),this.__$mobDependencies.forEach(function(e){e.setRefCount(-1)}),this.__$mobHasUnmounted=!0,delete this.render.$mobservable,p){var e=o(this);e&&c["delete"](e),m.emit({event:"destroy",component:this,node:e})}},componentDidMount:function(){p&&r(this)},componentDidUpdate:function(){p&&r(this)},shouldComponentUpdate:function(t,n){if(this.state!==n)return!0;var o,r=Object.keys(this.props);if(r.length!==Object.keys(t).length)return!0;for(var s=r.length-1;o=r[s];s--){var i=t[o];if(i!==this.props[o])return!0;if(i&&"object"==typeof i&&!e.isObservable(i))return!0}return!1}};return{observer:i,reactiveComponent:function(){return console.warn("[mobservable-react] `reactiveComponent` has been renamed to `observer` and will be removed in 1.1."),i.apply(null,arguments)},renderReporter:m,componentByNodeRegistery:c,trackComponents:a}}"function"==typeof define&&define.amd?define("mobservable-react",["mobservable","react","react-dom"],e):"object"==typeof exports?module.exports=e(require("mobservable"),require("react"),require("react-dom")):this.mobservableReact=e(this.mobservable,this.React,this.ReactDOM)}();
//# sourceMappingURL=index.min.js.map