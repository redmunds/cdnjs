!function(t){function e(t){var e={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"};return(t+"").replace(/[<>&"'\/]/g,function(t){return e[t]})}t.fn.extend({expandable:function(i){var n=t.extend({duration:"normal",interval:750,within:1,by:2,init:!1},i);return this.filter("textarea").each(function(){function i(){var t,i,o,s,f,l=r.val();p.html(e(l).replace(/\n/g,"&nbsp;<br>")),i=r[0].offsetHeight-d,o=p[0].offsetHeight-d,s=Math.floor(o/h),f=Math.floor(i/h-s),f<=n.within?(t=h*(s+Math.max(f,0)+n.by),r.stop().animate({height:t},n.duration)):f>n.by+n.within&&(t=Math.max(i-h*(f-(n.by+n.within)),a),r.stop().animate({height:t},n.duration))}var o,r=t(this).css({display:"block",overflow:"hidden"}),a=r.height(),d=this.offsetHeight-a,h=parseInt(r.css("lineHeight"),10)||parseInt(r.css("fontSize"),10),p=t('<div style="position:absolute;top:-999px;left:-999px;border-color:#000;border-style:solid;overflow-x:hidden;visibility:hidden;z-index:0;white-space: pre-wrap;white-space:-moz-pre-wrap;white-space:-pre-wrap;white-space:-o-pre-wrap;word-wrap:break-word;" />').appendTo("body");t.each("borderTopWidth borderRightWidth borderBottomWidth borderLeftWidth paddingTop paddingRight paddingBottom paddingLeft fontSize fontFamily fontWeight fontStyle fontStretch fontVariant wordSpacing lineHeight width".split(" "),function(t,e){p.css(e,r.css(e))}),r.bind("keypress",function(t){"13"==t.keyCode&&i()}).bind("focus blur",function(t){"blur"==t.type&&clearInterval(o),"focus"==t.type&&(o=setInterval(i,n.interval))}),n.init&&i()}).end()}})}(jQuery);
//# sourceMappingURL=jquery.expandable.min.js.map