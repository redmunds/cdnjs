!function(t){function e(t){var e={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"};return(t+"").replace(/[<>&"'\/]/g,function(t){return e[t]})}t.fn.extend({expandable:function(i){var o=t.extend({duration:"normal",interval:750,within:1,by:2,maxRows:!1,init:!1},i);return this.filter("textarea").each(function(){function i(){var t,i,n,l,f,c=r.val();return h.html(e(c).replace(/\n/g,"&nbsp;<br>")),i=r[0].offsetHeight-d,n=h[0].offsetHeight-d,l=Math.floor(n/s),f=Math.floor(i/s-l),p&&n>=p?void r.css({display:"auto",overflow:"auto"}):void(f<=o.within?(t=s*(l+Math.max(f,0)+o.by),p&&(t=Math.min(t,p)),r.stop().animate({height:t},o.duration)):f>o.by+o.within&&(t=Math.max(i-s*(f-(o.by+o.within)),a),r.stop().animate({height:t},o.duration)))}var n,r=t(this).css({display:"block",overflow:"hidden"}),a=r.height(),d=this.offsetHeight-a,s=parseInt(r.css("lineHeight"),10)||parseInt(r.css("fontSize"),10),h=t('<div style="position:absolute;top:-999px;left:-999px;border-color:#000;border-style:solid;overflow-x:hidden;visibility:hidden;z-index:0;white-space: pre-wrap;white-space:-moz-pre-wrap;white-space:-pre-wrap;white-space:-o-pre-wrap;word-wrap:break-word;" />').appendTo("body"),p=!1;o.maxRows&&(p=o.maxRows*s),t.each("borderTopWidth borderRightWidth borderBottomWidth borderLeftWidth paddingTop paddingRight paddingBottom paddingLeft fontSize fontFamily fontWeight fontStyle fontStretch fontVariant wordSpacing lineHeight width".split(" "),function(t,e){h.css(e,r.css(e))}),r.bind("keypress",function(t){"13"==t.keyCode&&i()}).bind("focus blur",function(t){"blur"==t.type&&clearInterval(n),"focus"==t.type&&(n=setInterval(i,o.interval))}),o.init&&i()}).end()}})}(jQuery);
//# sourceMappingURL=jquery.expandable.min.js.map