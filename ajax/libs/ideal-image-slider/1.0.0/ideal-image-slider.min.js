var IdealImageSlider=function(){"use strict";var t=function(t){t=t||{};for(var i=1;i<arguments.length;i++){var e=arguments[i];if(e)for(var s in e)e.hasOwnProperty(s)&&("object"==typeof e[s]?deepExtend(t[s],e[s]):t[s]=e[s])}return t},i=function(t,i){i&&(t.classList?t.classList.add(i):t.className+=" "+i)},e=function(t,i){t.classList?t.classList.remove(i):t.className=t.className.replace(new RegExp("(^|\\b)"+i.split(" ").join("|")+"(\\b|$)","gi")," ")},s=function(t){return Array.prototype.slice.call(t)},n=function(t,i){if(!t.style.backgroundImage){var e=new Image;e.setAttribute("src",t.getAttribute("data-src")),e.onload=function(){t.style.backgroundImage="url("+t.getAttribute("data-src")+")","function"==typeof i&&i(this)}}},r=function(){var t="(-webkit-min-device-pixel-ratio: 1.5),				          (min--moz-device-pixel-ratio: 1.5),				          (-o-min-device-pixel-ratio: 3/2),				          (min-resolution: 1.5dppx)";return window.devicePixelRatio>1?!0:!(!window.matchMedia||!window.matchMedia(t).matches)},a=function(t,i){var e=document.createEvent("CustomEvent");return e.initCustomEvent(i,!0,!0,t.target),t.target.dispatchEvent(e),e=null,!1},u=!0,o={x:0,y:0},l={x:0,y:0},h={touchstart:function(t){o={x:t.touches[0].pageX,y:t.touches[0].pageY}},touchmove:function(t){u=!1,l={x:t.touches[0].pageX,y:t.touches[0].pageY}},touchend:function(t){if(u)a(t,"fc");else{var i=l.x-o.x,e=Math.abs(i),s=l.y-o.y,n=Math.abs(s);Math.max(e,n)>20&&a(t,e>n?0>i?"swl":"swr":0>s?"swu":"swd")}u=!0},touchcancel:function(t){u=!1}};for(var c in h)document.addEventListener(c,h[c],!1);var d=function(e){this.settings={selector:"",height:400,interval:4e3,transitionDuration:700,effect:"slide",disableNav:!1,previousNavSelector:"",nextNavSelector:"",classes:{container:"ideal-image-slider",slide:"iis-slide",previousSlide:"iis-previous-slide",currentSlide:"iis-current-slide",nextSlide:"iis-next-slide",previousNav:"iis-previous-nav",nextNav:"iis-next-nav",animating:"iis-is-animating",directionPrevious:"iis-direction-previous",directionNext:"iis-direction-next"},onInit:function(){},onStart:function(){},onStop:function(){},onDestroy:function(){},beforeChange:function(){},afterChange:function(){}},"string"==typeof e?this.settings.selector=e:"object"==typeof e&&t(this.settings,e);var a=document.querySelector(this.settings.selector);if(!a)return null;a.setAttribute("role","listbox");var u=s(a.children),o=[];a.innerHTML="",Array.prototype.forEach.call(u,function(e,s){if(e instanceof HTMLImageElement||e instanceof HTMLAnchorElement){var n=document.createElement("a"),u="",l="";if(e instanceof HTMLAnchorElement){u=e.getAttribute("href"),l=e.getAttribute("target");var h=e.querySelector("img");if(null===h)return;e=h}"undefined"!=typeof e.dataset?(t(n.dataset,e.dataset),e.dataset.src?n.dataset.src=e.dataset.src:n.dataset.src=e.src,r()&&e.dataset["src-2x"]&&(n.dataset.src=e.dataset["src-2x"])):e.getAttribute("data-src")?n.setAttribute("data-src",e.getAttribute("data-src")):n.setAttribute("data-src",e.getAttribute("src")),u&&n.setAttribute("href",u),l&&n.setAttribute("target",l),e.getAttribute("className")&&i(n,e.getAttribute("className")),e.getAttribute("id")&&n.setAttribute("id",e.id),e.getAttribute("alt")&&(n.innerHTML=e.getAttribute("alt")),n.setAttribute("role","option"),n.style.cssText+="-webkit-transition-duration:"+this.settings.transitionDuration+"ms;-moz-transition-duration:"+this.settings.transitionDuration+"ms;-o-transition-duration:"+this.settings.transitionDuration+"ms;transition-duration:"+this.settings.transitionDuration+"ms;",a.appendChild(n),o.push(n)}}.bind(this));var l=o;if(l.length<=1)return null;if(!this.settings.disableNav){var h,c;this.settings.previousNavSelector?h=document.querySelector(this.settings.previousNavSelector):(h=document.createElement("a"),a.appendChild(h)),this.settings.nextNavSelector?c=document.querySelector(this.settings.nextNavSelector):(c=document.createElement("a"),a.appendChild(c)),i(h,this.settings.classes.previousNav),i(c,this.settings.classes.nextNav),h.addEventListener("click",function(){this.stop(),this.previousSlide()}.bind(this)),c.addEventListener("click",function(){this.stop(),this.nextSlide()}.bind(this)),"ontouchstart"in document.documentElement&&(h.style.display="none",c.style.display="none",a.addEventListener("swr",function(){this.stop(),this.previousSlide()}.bind(this),!1),a.addEventListener("swl",function(){this.stop(),this.nextSlide()}.bind(this),!1))}this._attributes={container:a,slides:l,previousSlide:"undefined"!=typeof l[l.length-1]?l[l.length-1]:l[0],currentSlide:l[0],nextSlide:"undefined"!=typeof l[1]?l[1]:l[0],timerId:0,origChildren:u,touchX:null,touchY:null,touchIsMoving:!1},this.settings.height&&(this._attributes.container.style.height=this.settings.height+"px"),i(a,this.settings.classes.container),i(a,"iis-effect-"+this.settings.effect),Array.prototype.forEach.call(this._attributes.slides,function(t,e){i(t,this.settings.classes.slide)}.bind(this)),i(this._attributes.previousSlide,this.settings.classes.previousSlide),i(this._attributes.currentSlide,this.settings.classes.currentSlide),i(this._attributes.nextSlide,this.settings.classes.nextSlide),n(this._attributes.currentSlide,function(){this.settings.onInit.apply(this)}.bind(this)),n(this._attributes.previousSlide),n(this._attributes.nextSlide)};return d.prototype.get=function(t){return this._attributes.hasOwnProperty(t)?this._attributes[t]:void 0},d.prototype.set=function(t,i){return this._attributes[t]=i},d.prototype.start=function(){this._attributes.timerId=setInterval(this.nextSlide.bind(this),this.settings.interval),this.settings.onStart.apply(this)},d.prototype.stop=function(){clearInterval(this._attributes.timerId),this._attributes.timerId=0,this.settings.onStop.apply(this)},d.prototype.previousSlide=function(){this.settings.beforeChange.apply(this),e(this._attributes.previousSlide,this.settings.classes.previousSlide),e(this._attributes.currentSlide,this.settings.classes.currentSlide),e(this._attributes.nextSlide,this.settings.classes.nextSlide);var t=this._attributes.slides,s=t.indexOf(this._attributes.currentSlide);this._attributes.nextSlide=this._attributes.currentSlide,this._attributes.previousSlide=t[s-2],this._attributes.currentSlide=t[s-1],"undefined"==typeof this._attributes.currentSlide&&"undefined"==typeof this._attributes.previousSlide?(this._attributes.currentSlide=t[t.length-1],this._attributes.previousSlide=t[t.length-2]):"undefined"==typeof this._attributes.previousSlide&&(this._attributes.previousSlide=t[t.length-1]),n(this._attributes.previousSlide),i(this._attributes.previousSlide,this.settings.classes.previousSlide),i(this._attributes.currentSlide,this.settings.classes.currentSlide),i(this._attributes.nextSlide,this.settings.classes.nextSlide),i(this._attributes.container,this.settings.classes.directionPrevious),setTimeout(function(){e(this._attributes.container,this.settings.classes.directionPrevious)}.bind(this),this.settings.transitionDuration),this.settings.transitionDuration&&(i(this._attributes.container,this.settings.classes.animating),setTimeout(function(){e(this._attributes.container,this.settings.classes.animating)}.bind(this),this.settings.transitionDuration)),this.settings.afterChange.apply(this)},d.prototype.nextSlide=function(){this.settings.beforeChange.apply(this),e(this._attributes.previousSlide,this.settings.classes.previousSlide),e(this._attributes.currentSlide,this.settings.classes.currentSlide),e(this._attributes.nextSlide,this.settings.classes.nextSlide);var t=this._attributes.slides,s=t.indexOf(this._attributes.currentSlide);this._attributes.previousSlide=this._attributes.currentSlide,this._attributes.currentSlide=t[s+1],this._attributes.nextSlide=t[s+2],"undefined"==typeof this._attributes.currentSlide&&"undefined"==typeof this._attributes.nextSlide?(this._attributes.currentSlide=t[0],this._attributes.nextSlide=t[1]):"undefined"==typeof this._attributes.nextSlide&&(this._attributes.nextSlide=t[0]),n(this._attributes.nextSlide),i(this._attributes.previousSlide,this.settings.classes.previousSlide),i(this._attributes.currentSlide,this.settings.classes.currentSlide),i(this._attributes.nextSlide,this.settings.classes.nextSlide),i(this._attributes.container,this.settings.classes.directionNext),setTimeout(function(){e(this._attributes.container,this.settings.classes.directionNext)}.bind(this),this.settings.transitionDuration),this.settings.transitionDuration&&(i(this._attributes.container,this.settings.classes.animating),setTimeout(function(){e(this._attributes.container,this.settings.classes.animating)}.bind(this),this.settings.transitionDuration)),this.settings.afterChange.apply(this)},d.prototype.gotoSlide=function(t){this.settings.beforeChange.apply(this),this.stop(),e(this._attributes.previousSlide,this.settings.classes.previousSlide),e(this._attributes.currentSlide,this.settings.classes.currentSlide),e(this._attributes.nextSlide,this.settings.classes.nextSlide),t--;var s=this._attributes.slides;this._attributes.previousSlide=s[t-1],this._attributes.currentSlide=s[t],this._attributes.nextSlide=s[t+1],"undefined"==typeof this._attributes.previousSlide&&(this._attributes.previousSlide=s[s.length-1]),"undefined"==typeof this._attributes.nextSlide&&(this._attributes.nextSlide=s[0]),n(this._attributes.previousSlide),n(this._attributes.currentSlide),n(this._attributes.nextSlide),i(this._attributes.previousSlide,this.settings.classes.previousSlide),i(this._attributes.currentSlide,this.settings.classes.currentSlide),i(this._attributes.nextSlide,this.settings.classes.nextSlide),this.settings.transitionDuration&&(i(this._attributes.container,this.settings.classes.animating),setTimeout(function(){e(this._attributes.container,this.settings.classes.animating)}.bind(this),this.settings.transitionDuration)),this.settings.afterChange.apply(this)},d.prototype.destroy=function(){clearInterval(this._attributes.timerId),this._attributes.timerId=0,this._attributes.container.innerHTML="",Array.prototype.forEach.call(this._attributes.origChildren,function(t,i){this._attributes.container.appendChild(t)}.bind(this)),e(this._attributes.container,this.settings.classes.container),e(this._attributes.container,"iis-effect-"+this.settings.effect),this._attributes.container.style.height="",this.settings.onDestroy.apply(this)},{Slider:d}}();