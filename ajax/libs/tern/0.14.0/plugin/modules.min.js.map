{"version":3,"sources":["modules.js"],"names":["mod","exports","module","require","define","amd","tern","signal","infer","Modules","server","options","this","modules","Object","create","nonRelative","resolvers","modNameTests","importTests","completables","resolvePath","parent","sub","test","m","exec","length","lastSlash","lastIndexOf","slice","dirName","path","baseName","defaultResolver","name","parentFile","cx","findFile","isRelative","filter","word","string","query","caseInsensitive","toLowerCase","indexOf","preCondenseReach","state","mods","node","roots","Obj","id","origin","prop","defProp","replace","propagate","postLoadDef","data","definitions","me","props","get","findTypeAt","_file","_pos","expr","type","imp","modName","isModName","isImport","modType","resolveModule","sourceFile","getProp","getType","originNode","doc","url","findCompletions","file","wordEnd","resolvePos","end","lit","findExpressionAround","ast","scope","argNode","value","start","raw","quote","charAt","completions","completeFileName","completeModuleName","text","outputPos","isProperty","map","rec","JSON","stringify","displayName","prototype","mixin","buildWrappingScope","Scope","maybeOverride","hasOwnProperty","override","def","parsePath","topScope","load","over","dontLoad","RegExp","ANull","resolved","relative","i","known","addFile","AVal","findIn","array","fromObj","obj","useVal","addCompletion","pathsSeen","val","afterSlash","found","dir","_dir","added","fs","pDir","projectDir","endSlash","pt","resolve","dirname","base","filePart","basename","readdirSync","forEach","registerPlugin","on","defineQueryType","takesFile","run","describe","aval","target","toString","span","getSpan","storeSpan","resp"],"mappings":"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","file":"modules.min.js"}