!function(e){return"object"==typeof exports&&"object"==typeof module?e(require("../lib/infer"),require("../lib/tern"),require("acorn/dist/walk")):"function"==typeof define&&define.amd?define(["../lib/infer","../lib/tern","acorn/dist/walk"],e):void e(tern,tern,acorn.walk)}(function(e,t,n){"use strict";function r(t){var r=e.cx().parent.mod.completeStrings;n.simple(t,{Literal:function(e){"string"==typeof e.value&&e.value&&e.value.length<r.maxLen&&(r.seen[e.value]=t.sourceFile.name)}})}function i(n,r){var i=t.resolvePos(n,r.end),o=e.findExpressionAround(n.ast,null,i,n.scope,"Literal");if(o&&"string"==typeof o.node.value){var s=o.node.value.slice(0,i-o.node.start-1),l=[],a=e.cx().parent.mod.completeStrings.seen;for(var u in a)if(u.length>s.length&&0==u.indexOf(s))if(r.types||r.docs||r.urls||r.origins){var c={name:JSON.stringify(u),displayName:u};l.push(c),r.types&&(c.type="string"),r.origins&&(c.origin=a[u])}else l.push(JSON.stringify(u));return l.length?{start:t.outputPos(r,n,o.node.start),end:t.outputPos(r,n,i+(n.text.charAt(i)==n.text.charAt(o.node.start)?1:0)),isProperty:!1,completions:l}:void 0}}t.registerPlugin("complete_strings",function(e,t){e.mod.completeStrings={maxLen:t&&t.maxLength||15,seen:Object.create(null)},e.on("reset",function(){e.mod.completeStrings.seen=Object.create(null)}),e.on("postParse",r),e.on("completion",i)})});
//# sourceMappingURL=complete_strings.min.js.map