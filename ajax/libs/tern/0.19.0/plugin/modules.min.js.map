{"version":3,"sources":["modules.js"],"names":["mod","exports","module","require","define","amd","tern","signal","infer","Modules","server","options","this","modules","Object","create","nonRelative","knownModules","resolvers","modNameTests","importTests","completableTypes","resolvePath","parent","sub","test","m","exec","length","lastSlash","lastIndexOf","slice","dirName","path","baseName","defaultResolver","name","parentFile","cx","findFile","isRelative","filter","word","string","query","caseInsensitive","toLowerCase","indexOf","preCondenseReach","state","mods","node","roots","Obj","id","origin","prop","defProp","replace","propagate","postLoadDef","data","me","definitions","props","get","known","findTypeAt","_file","_pos","expr","type","modType","getModType","inner","getType","originNode","doc","url","findCompletions","file","wordEnd","resolvePos","end","types","findExpressionAround","ast","scope","isModName","findModuleCompletions","imp","isImport","findImportCompletions","completions","start","resolveModule","sourceFile","forAllPropertiesOf","obj","depth","protos","addCompletion","outputPos","isSpecifier","argNode","value","raw","quote","charAt","completeFileName","completeModuleName","text","isProperty","map","rec","JSON","stringify","displayName","prototype","mixin","buildWrappingScope","Scope","maybeOverride","hasOwnProperty","override","def","parsePath","topScope","load","over","dontLoad","RegExp","ANull","resolved","relative","i","addFile","AVal","findIn","array","pos","fromObj","useVal","pathsSeen","val","afterSlash","found","dir","_dir","added","modName","getObjType","hasProp","getProp","fs","pDir","projectDir","endSlash","pt","resolve","dirname","base","filePart","basename","readdirSync","forEach","projectPath","normalizeFilename","registerPlugin","on","defineQueryType","takesFile","run","describe","aval","target","toString","span","getSpan","storeSpan","resp"],"mappings":"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","file":"modules.min.js"}