{"version":3,"sources":["modules.js"],"names":["mod","exports","module","require","define","amd","tern","signal","infer","Modules","server","options","this","modules","Object","create","nonRelative","knownModules","resolvers","modNameTests","importTests","resolvePath","parent","sub","test","m","exec","length","lastSlash","lastIndexOf","slice","dirName","path","baseName","defaultResolver","name","parentFile","cx","findFile","isRelative","filter","word","string","query","caseInsensitive","toLowerCase","indexOf","preCondenseReach","state","mods","node","roots","Obj","id","origin","prop","defProp","replace","propagate","postLoadDef","data","me","definitions","props","get","known","findTypeAt","_file","_pos","expr","type","modType","getModType","originNode","doc","url","findCompletions","file","wordEnd","resolvePos","end","findExpressionAround","ast","scope","isModName","findModuleCompletions","imp","isImport","findImportCompletions","completions","start","resolveModule","sourceFile","getType","forAllPropertiesOf","obj","depth","protos","addCompletion","outputPos","isSpecifier","argNode","value","raw","quote","charAt","completeFileName","completeModuleName","text","isProperty","map","rec","JSON","stringify","displayName","prototype","mixin","buildWrappingScope","Scope","maybeOverride","hasOwnProperty","override","def","parsePath","topScope","load","over","dontLoad","RegExp","ANull","resolved","relative","i","addFile","AVal","findIn","array","fromObj","useVal","pathsSeen","val","afterSlash","found","dir","_dir","added","modName","getProp","fs","pDir","projectDir","endSlash","pt","resolve","dirname","base","filePart","basename","readdirSync","forEach","projectPath","normalizeFilename","registerPlugin","on","defineQueryType","takesFile","run","describe","aval","target","toString","span","getSpan","storeSpan","resp"],"mappings":"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","file":"modules.min.js"}