{"version":3,"sources":["modules.js"],"names":["mod","exports","module","require","define","amd","tern","signal","infer","Modules","server","options","this","modules","Object","create","nonRelative","resolvers","modNameTests","importTests","completables","resolvePath","parent","sub","test","m","exec","length","lastSlash","lastIndexOf","slice","dirName","path","baseName","defaultResolver","name","parentFile","cx","findFile","isRelative","filter","word","string","query","caseInsensitive","toLowerCase","indexOf","preCondenseReach","state","mods","node","roots","Obj","id","origin","prop","defProp","replace","propagate","postLoadDef","data","definitions","me","props","get","findTypeAt","_file","_pos","expr","type","modType","getModType","originNode","doc","url","findCompletions","file","wordEnd","resolvePos","end","lit","findExpressionAround","ast","scope","modName","isModName","argNode","value","start","raw","quote","charAt","completions","completeFileName","completeModuleName","text","outputPos","isProperty","map","rec","JSON","stringify","displayName","prototype","mixin","buildWrappingScope","Scope","maybeOverride","hasOwnProperty","override","def","parsePath","topScope","load","resolveModule","over","dontLoad","RegExp","ANull","resolved","relative","i","known","addFile","AVal","findIn","array","isImport","fromObj","obj","useVal","addCompletion","pathsSeen","val","afterSlash","found","dir","_dir","added","imp","sourceFile","getProp","getType","fs","pDir","projectDir","endSlash","pt","resolve","dirname","base","filePart","basename","readdirSync","forEach","projectPath","registerPlugin","on","defineQueryType","takesFile","run","describe","aval","target","toString","span","getSpan","storeSpan","resp"],"mappings":"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","file":"modules.min.js"}