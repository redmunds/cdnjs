/*!
 * Chirashi.js v4.1.3
 * (c) 2016 Alex Toudic
 * Released under the MIT License.
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.Chirashi=t.Chirashi||{})}(this,function(t){"use strict";function e(t){return[].slice.call(document.querySelectorAll(t))}function n(t){return t instanceof HTMLElement||t===window||t===document||t instanceof SVGElement||t instanceof Text}function r(t){return document.querySelector(t)}function o(t){return"string"==typeof t?r(t):t instanceof Array?o(t[0]):n(t)?t:null}function i(t,e){var n=!(arguments.length<=2||void 0===arguments[2])&&arguments[2];if(t){if(t instanceof Array||t instanceof NodeList||t instanceof HTMLCollection)if(n)for(var r=-1,o=t.length;++r<o;)e(t[r],r);else for(var i=t.length;i--;)e(t[i],i);else e(t,0);return t}}function a(t){if("string"==typeof t)return e(t);if(t instanceof Array){var r=function(){var e=[];return i(t,function(t){var n=a(t);n&&(e=e.concat(n))}),{v:e}}();if("object"===("undefined"==typeof r?"undefined":Qt(r)))return r.v}return t instanceof NodeList?[].slice.call(t):n(t)?[t]:null}function u(t,e){var n=!(arguments.length<=2||void 0===arguments[2])&&arguments[2];return i(a(t),e,n)}function c(t,e){var n=!(arguments.length<=2||void 0===arguments[2])&&arguments[2];if("object"==("undefined"==typeof t?"undefined":Qt(t))){var r=Object.keys(t);if(n)for(var o=-1,i=r.length;++o<i;){var a=r[o];e(a,t[a])}else for(var u=r.length;u--;){var c=r[u];e(c,t[c])}return t}}function s(t,e){return e=e.split(" "),u(t,function(t){if(t.classList)for(var n=e.length;n--;)t.classList.add(e[n])})}function f(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n="";c(e,function(t,e){n+=" "+t+'="'+e+'"'}),t.indexOf("<")==-1&&(t="<"+t+n+"></"+t+">");var r=document.createElement("div");return r.innerHTML=t,r.firstChild}function l(t,e){var r=arguments.length<=2||void 0===arguments[2]?[]:arguments[2],o=[];return i(e,function(t,e){"string"==typeof t&&(t=f(t,r[e]||{})),n(t)&&o.push(t)}),u(t,function(t,e){t.appendChild&&i(o,function(e){t.appendChild(e)})})}function d(t,e){var n=Object.keys(e);return u(t,function(t){if(t.setAttribute)for(var r=n.length,o=void 0,i=void 0;r--;)o=n[r],i=e[o],i?t.setAttribute(o,i):t.removeAttribute(name)})}function p(t,e){return t=o(t),!!t&&t.getAttribute&&t.getAttribute(e)}function m(t,e){return"object"==("undefined"==typeof e?"undefined":Qt(e))?d(t,e):p(t,e)}function v(t){return t=o(t),!!t&&t.cloneNode(!0)}function h(t,e,n){return n&&"undefined"!=typeof n.value&&++n.value,t=o(t),!(!t||t===window||t===document)&&("string"==typeof e&&t.matches(e)||t==e?t:h(t.parentNode,e,n))}function y(t,e){var n=Object.keys(e);return u(t,function(t){if(t.setAttribute)for(var r=n.length,o=void 0;r--;)o=n[r],value=e[o],value?t.setAttribute("data-"+o,value):t.removeAttribute(name)})}function g(t,e){return p(t,"data-"+e)}function b(t,e){return"object"==("undefined"==typeof e?"undefined":Qt(e))?y(t,e):g(t,e)}function w(t,e){return u(t,function(t){t.innerHTML=e})}function x(t){return w(t,"")}function k(t,e){var n=[];return u(t,function(t){t&&t!==window&&t!==document&&("string"==typeof e&&t.matches(e)||t==e)&&n.push(t)}),n}function E(t,e){return t=o(t),!!t&&t.querySelector(e)}function M(t,e){var n=[];return u(t,function(t){n=n.concat([].slice.call(t.querySelectorAll(e)))}),n}function S(t){return t=o(t),!!t&&t.innerHTML}function j(t,e){return t=o(t),!!t&&t[e]}function C(t,e){if(t=o(t),t&&t.classList){e=e.split(" ");for(var n=e.length,r=!1;n--&&(r=t.classList.contains(e[n])););return r}}function L(t,e){return"string"==typeof e?w(t,e):S(t)}function A(t){if(t=o(t)){for(var e=t,n=t.parentNode,r=0;e.previousElementSibling;)++r,e=e.previousElementSibling;return t===n.children[r]?r:-1}}function T(t,e){var n=arguments.length<=2||void 0===arguments[2]?[]:arguments[2],r=[];return forEach(e,function(t,e){"string"==typeof t&&(t=f(t,n[e]||{})),isDomElement(t)&&r.push(t)}),u(t,function(t,e){t.parentNode&&t.parentNode.insertBefore&&forEach(r,function(e){t.parentNode.insertBefore(e,t.nextElementSibling)})})}function D(t,e){var n=arguments.length<=2||void 0===arguments[2]?[]:arguments[2],r=[];return i(e,function(t,e){"string"==typeof t&&(t=f(t,n[e]||{})),isDomElement(t)&&r.push(t)}),u(t,function(t,e){t.parentNode&&t.parentNode.insertBefore&&i(r,function(e){t.parentNode.insertBefore(e,t)})})}function O(t){if(t=o(t))return t.nextElementSibling}function N(t){return t=o(t),!!t&&t.parentNode}function X(t){return t=o(t),!!t&&t.previousElementSibling}function Y(t,e){return u(t,function(t){return Objec.assign(t,e)})}function z(t,e){return"object"==("undefined"==typeof e?"undefined":Qt(e))?Y(t,e):j(t,e)}function H(t,e){return e=e.split(" "),u(t,function(t){if(t.classList)for(var n=e.length;n--;)t.classList.remove(e[n])})}function I(t){return u(t,function(t){t.parentNode&&t.parentNode.removeChild(t)})}function P(t,e){return e=e.split(" "),u(t,function(t){if(t.classList)for(var n=e.length;n--;)t.classList.toggle(e[n])})}function B(t,e,n){return e=e.split(" "),u(t,function(t){if(t.addEventListener)for(var r=e.length;r--;)t.addEventListener(e[r],n)})}function W(t,e,n,r){var o=[];return u(t,function(t){var i=!1,a={element:t,begin:function(t){t.preventDefault(),t.stopPropagation(),"touches"in t&&t.touches.length&&(t=t.touches[0]),i=!0,n&&n({x:t.pageX,y:t.pageY})},move:function(t){i&&(t.preventDefault(),t.stopPropagation(),"touches"in t&&t.touches.length&&(t=t.touches[0]),e&&e({x:t.pageX,y:t.pageY}))},end:function(t){i&&(t.preventDefault(),t.stopPropagation(),"touches"in t&&t.touches.length&&(t=t.touches[0]),i=!1,r&&r({x:t.pageX,y:t.pageY}))}};B(t,"touchstart mousedown",a.begin),B(document.body,"touchmove mousemove",a.move),B(document.body,"touchend mouseup",a.end),o.push(a)}),{off:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){forEach(o,function(t){off(t.element,"touchstart, mousedown",t.begin),off(document.body,"touchmove, mousemove",t.move),off(document.body,"touchend, mouseup",t.end)})})}}function Z(t,e,n){return u(t,function(t){e&&B(t,"mouseenter",e),n&&B(t,"mouseleave",n)}),{off:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){u(t,function(t){e&&off(t,"mouseenter",e),n&&off(t,"mouseleave",n)})})}}function q(t,e,n){return e=e.split(" "),u(t,function(t){if(t.removeEventListener)for(var r=e.length;r--;)t.removeEventListener(e[r],n)})}function V(t,e,n){var r=arguments.length<=3||void 0===arguments[3]||arguments[3],o=arguments.length<=4||void 0===arguments[4]||arguments[4];if(t=a(t),!t||0==t.length)return void(n&&n());var u={value:t.length};return callback=function(t){function e(e,n,r){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t,o,i){t&&(o=t.target,"error"==t.type&&(i=t)),r&&q(o,"load loadedmetadata error",callback),e&&e(o,i),!--u.value&&n&&n()}),i(t,function(t){o&&!t.src?callback(null,t,"image without src"):t.naturalWidth||t.loadedmetadata?callback(null,t,null):B(t,"load loadedmetadata error",callback)}),{off:function(){i(t,function(t){return q(t,"load loadedmetadata error",callback)})}}}function R(t){B(document,"DOMContentLoaded",t)}function U(t,e,n){e=e.split(" ");var r=e.length;t=a(t);for(var o=function(){var o=e[r];window.CustomEvent?o=new CustomEvent(o,{detail:n}):(o=document.createEvent("CustomEvent"),o.initCustomEvent(o,!0,!0,n)),forEach(t,function(t){t.dispatchEvent&&t.dispatchEvent(o)})};r--;)o();return t}function _(t){return t=o(t),!!t&&t.offsetHeight}function F(t){return t=o(t),!!t&&{width:t.offsetWidth,height:t.offsetHeight}}function G(t,e){if(t=o(t)){var n=getComputedStyle(t)[e];return n.indexOf("px")==-1?n:parseInt(n,10)}}function J(t){return t=o(t),!!t&&t.offsetWidth}function K(t,e){return"number"==typeof e&&(e+="px"),u(t,function(t){t.style&&(t.style.height=e)})}function Q(t,e){return"undefined"!=typeof e?K(t,e):_(t)}function $(t){return u(t,function(t){t.style&&(t.style.visibility="hidden")})}function tt(t,e,n){switch(t){case"x":n[4]+=e;break;case"y":n[5]+=e;break;case"rotate":var r=Math.cos(e),o=Math.sin(e);n[0]*=r,n[1]+=o,n[2]-=o,n[3]*=r;break;case"scale":n[0]*=e,n[2]*=e;break;case"scaleX":n[0]*=e;break;case"scaleY":n[3]*=e;break;case"skew":var i=Math.tan(e);n[2]+=i,n[1]+=i;break;case"skewX":n[2]+=Math.tan(e);break;case"skewY":n[1]+=Math.tan(e)}}function et(t){for(var e=Object.keys(t),n=e.length,r=[1,0,0,1,0,0];n--;){var o=e[n],i=t[o];if("object"==("undefined"==typeof i?"undefined":Qt(i)))for(var a=Object.keys(i),u=a.length;u--;){var c=a[u];tt(o+c.toUpperCase(),i[c],r)}else tt(o,i,r)}return r}function nt(t,e){var n=et(e);return n="matrix("+n.join(",")+")",u(t,function(t){t.style&&(t.style[Jt+"transform"]=n,t.style.transform=n)})}function rt(t,e,n){switch(t){case"x":n[12]+=e;break;case"y":n[13]+=e;break;case"z":n[14]+=e;break;case"rotate":var r=Math.cos(e),o=Math.sin(e);n[0]*=r,n[1]+=o,n[4]-=o,n[5]*=r;break;case"rotateX":var i=Math.cos(e),a=Math.sin(e);n[5]*=i,n[6]+=a,n[9]-=a,n[10]*=i;break;case"rotateY":var u=Math.cos(e),c=Math.sin(e);n[0]*=u,n[2]-=c,n[8]+=c,n[10]*=u;break;case"rotateZ":var s=Math.cos(e),f=Math.sin(e);n[0]*=s,n[1]+=f,n[4]-=f,n[5]*=s;break;case"scale":n[0]*=e,n[5]*=e;break;case"scaleX":n[0]*=e;break;case"scaleY":n[5]*=e;break;case"scaleZ":n[10]*=e;break;case"skew":var l=Math.tan(e);n[4]+=l,n[1]+=l;break;case"skewX":n[4]+=Math.tan(e);break;case"skewY":n[1]+=Math.tan(e)}}function ot(t){for(var e=Object.keys(t),n=e.length,r=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];n--;){var o=e[n],i=t[o];if("object"==("undefined"==typeof i?"undefined":Qt(i)))for(var a=Object.keys(i),u=a.length;u--;){var c=a[u];rt(o+c.toUpperCase(),i[c],r)}else rt(o,i,r)}return r}function it(t,e){var n=ot(e);return n="matrix3d("+n.join(",")+")",u(t,function(t){t.style&&(t.style[Jt+"transform"]=n,t.style.transform=n)})}function at(t,e){return Kt?matrix3D(t,e):matrix2D(t,e)}function ut(t){if(t=o(t),!t)return!1;var e=t.getBoundingClientRect();return{top:e.top+(document.documentElement.scrollTop||document.body.scrollTop),left:e.left+(document.documentElement.scrollLeft||document.body.scrollLeft)}}function ct(t){return t=o(t),!!t&&{top:t.offsetTop,left:t.offsetLeft}}function st(t,e,n){var r="scaleX"in e?e.scaleX:"scale"in e?e.scale:1,o="scaleY"in e?e.scaleY:"scale"in e?e.scale:1,i="scale("+r+","+o+")";return u(t,function(t){t.style&&(n?(t.style[Jt+"transform"]+=" "+i,t.style.transform+=" "+i):(t.style[Jt+"transform"]=i,t.style.transform=i))})}function ft(t,e,n){var r="scaleX"in e?e.scaleX:"scale"in e?e.scale:1,o="scaleY"in e?e.scaleY:"scale"in e?e.scale:1,i="scaleZ"in e?e.scaleZ:1,a="scale3d("+r+","+o+","+i+")";return u(t,function(t){t.style&&(n?(t.style[Jt+"transform"]+=" "+a,t.style.transform+=" "+a):(t.style[Jt+"transform"]=a,t.style.transform=a))})}function lt(t,e,n){return Kt?ft(t,e,n):st(t,e,n)}function dt(t){return t=o(t),!!t&&t.getBoundingClientRect()}function pt(t,e){return"number"==typeof e.width&&(e.width+="px"),"number"==typeof e.height&&(e.height+="px"),u(t,function(t){t.style&&Object.assign(t.style,e)})}function mt(t,e){for(var n=Object.keys(e),r=n.length;r--;){var o=n[r];if($t.indexOf(o)==-1){var i=e[o];"number"==typeof i&&(e[o]+="px")}}return u(t,function(t){t.style&&Object.assign(t.style,e)})}function vt(t,e){return"number"==typeof e&&(e+="px"),u(t,function(t){t.style&&(t.style.width=e)})}function ht(t){return u(t,function(t){t.style&&(t.style.visibility="")})}function yt(t,e){return"object"!=("undefined"==typeof e?"undefined":Qt(e))?F(t):pt(t,e)}function gt(t,e){return"object"==("undefined"==typeof e?"undefined":Qt(e))?mt(t,e):"string"==typeof e?G(t,e):void 0}function bt(t,e,n){var r="x"in e?e.x:0,o="y"in e?e.y:0;"number"==typeof r&&(r+="px"),"number"==typeof o&&(o+="px");var i="translate("+r+","+o+")";return u(t,function(t){t.style&&(n?(t.style[Jt+"transform"]+=" "+i,t.style.transform+=" "+i):(t.style[Jt+"transform"]=i,t.style.transform=i))})}function wt(t,e,n){var r="x"in e?e.x:0,o="y"in e?e.y:0,i="z"in e?e.z:0;"number"==typeof r&&(r+="px"),"number"==typeof o&&(o+="px"),"number"==typeof i&&(i+="px");var a="translate3d("+r+","+o+","+i+")";return u(t,function(t){t.style&&(n?(t.style[Jt+"transform"]+=" "+a,t.style.transform+=" "+a):(t.style[Jt+"transform"]=a,t.style.transform=a))})}function xt(t,e,n){return Kt?wt(t,e,n):bt(t,e,n)}function kt(t,e){if("skew"in e||"skewX"in e||"skewY"in e||"rotate"in e||"rotateX"in e||"rotateY"in e||"rotateZ"in e)return at(t,e);var n=!1;return(n="x"in e||"y"in e||"z"in e)?xt(t,e):"scale"in e||"scaleX"in e||"scaleY"in e||"scaleZ"in e?lt(t,e,n):void 0}function Et(t,e){return"undefined"!=typeof e?vt(t,e):J(t)}function Mt(t,e){var n=!(arguments.length<=2||void 0===arguments[2])&&arguments[2],r=n,o=void 0,i=function(){r=!1,t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),o=setTimeout(function(){r=n},e)},a=function u(){clearTimeout(o),r?i.call.apply(i,[this].concat(Array.prototype.slice.call(arguments))):o=setTimeout(i.bind(this,arguments),e),u.cancel=function(){clearTimeout(o),r=!0,o=null}};return a}function St(t){if(null==t||"object"!==("undefined"==typeof t?"undefined":Qt(t)))return t;var e=t.constructor();for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function jt(t,e){return Object.assign(t,e)}function Ct(t){var e={};return function(){var n=JSON.stringify(arguments);return n in e?e[n]:e[n]=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments)))}}function Lt(t){var e=arguments.length<=1||void 0===arguments[1]?0:arguments[1];return Math.random()*(t-e+1)+e}function At(t){var e=arguments.length<=1||void 0===arguments[1]?0:arguments[1];return~~(Math.random()*(t-e+1))+e}function Tt(t){var e=arguments.length<=1||void 0===arguments[1]?1:arguments[1],n=arguments.length<=2||void 0===arguments[2]?0:arguments[2];return isNaN(t)?e:Math.min(Math.max(t,n),e)}function Dt(t,e){var n=arguments.length<=2||void 0===arguments[2]||arguments[2],r=arguments.length<=3||void 0===arguments[3]||arguments[3],o=0,i=void 0,a=function(){i=null,o=n?performance.now():0,t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments)))},u=function c(){var t=performance.now();o||n||(o=t);var u=e-(t-o);u<0||u>e?a.call.apply(a,[this].concat(Array.prototype.slice.call(arguments))):r&&!i&&(i=setTimeout(a.bind(this,arguments),u)),c.cancel=function(){clearTimeout(i),o=0,i=null}};return u}var Ot=navigator.userAgent.toLowerCase(),Nt=/android/i.test(Ot),Xt=Nt&&!/mobile/i.test(Ot),Yt=navigator.vendor&&navigator.vendor.toLowerCase(),zt=/chrome|chromium/i.test(Ot)&&/google inc/.test(Yt),Ht=/firefox/i.test(Ot),It=Ot.indexOf("msie")!=-1&&parseInt(Ot.split("msie")[1],10),Pt=/iphone|ipad|ipod/i.test(Ot),Bt=/ipad/i.test(Ot),Wt=/iphone/i.test(Ot),Zt=/ipod/i.test(Ot),qt=/win/i.test("navigator"in window&&"appVersion"in navigator&&navigator.appVersion.toLowerCase()||""),Vt=!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch),Rt=Pt||Nt||qt&&Vt,Ut=/safari/i.test(Ot)&&/apple computer/.test(Yt),_t=qt&&/phone/i.test(ua),Ft=qt&&!_t&&Vt,Gt=Bt||Xt||Ft,Jt=(Array.prototype.slice.call(window.getComputedStyle(document.documentElement,"")).join("").match(/-(moz|webkit|ms)-/)||""===styles.OLink&&["","o"])[1];document.documentElement.style[Jt+"matrix"]="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)";var Kt=document.documentElement.style[Jt+"matrix"];document.documentElement.style[Jt+"matrix"]="";var Qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},$t=["z-index","zoom","font-weight","line-height","counter-reset","counter-increment","volume","stress","pitch-range","richness","opacity"];t.isAndroidTablet=Xt,t.isAndroid=Nt,t.isChrome=zt,t.isFirefox=Ht,t.isIe=It,t.isIos=Pt,t.isIpad=Bt,t.isIphone=Wt,t.isIpod=Zt,t.isMobile=Rt,t.isSafari=Ut,t.isTablet=Gt,t.isTouchable=Vt,t.isWindowsPhone=_t,t.isWindowsTablet=Ft,t.isWindows=qt,t.prefix=Jt,t.support3D=Kt,t.ua=Ot,t.vendor=Yt,t.forEach=i,t.forElements=u,t.forIn=c,t.getElement=o,t.getElements=a,t.getSelectorAll=e,t.getSelector=r,t.isDomElement=n,t.addClass=s,t.append=l,t.attr=m,t.clone=v,t.closest=h,t.createElement=f,t.data=b,t.empty=x,t.filter=k,t.findOne=E,t.find=M,t.getAttr=p,t.getData=g,t.getHtml=S,t.getProp=j,t.hasClass=C,t.html=L,t.indexInParent=A,t.insertAfter=T,t.insertBefore=D,t.next=O,t.parent=N,t.prev=X,t.prop=z,t.removeClass=H,t.remove=I,t.setAttr=d,t.setData=y,t.setHtml=w,t.setProp=Y,t.toggleClass=P,t.drag=W,t.hover=Z,t.load=V,t.off=q,t.on=B,t.ready=R,t.trigger=U,t.getHeight=_,t.getSize=F,t.getStyle=G,t.getWidth=J,t.height=Q,t.hide=$,t.matrix=at,t.matrix2D=nt,t.matrix3D=it,t.offset=ut,t.position=ct,t.scale=lt,t.scale2D=st,t.scale3D=ft,t.screenPosition=dt,t.setHeight=K,t.setSize=pt,t.setStyle=mt,t.setWidth=vt,t.show=ht,t.size=yt,t.style=gt,t.transform=kt,t.translate=xt,t.translate2D=bt,t.translate3D=wt,t.width=Et,t.debounce=Mt,t.deepClone=St,t.defaultify=jt,t.memoize=Ct,t.randomBetween=Lt,t.randomIntBetween=At,t.range=Tt,t.throttle=Dt,t.transformTo2DMatrix=et,t.transformTo3DMatrix=ot,Object.defineProperty(t,"__esModule",{value:!0})});