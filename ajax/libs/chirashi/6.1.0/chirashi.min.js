/**
 * Chirashi.js v6.0.3
 * (c) 2017 Alex Toudic
 * Released under MIT License.
 **/

!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(n.Chirashi=n.Chirashi||{})}(this,function(n){"use strict";function t(n,t){if(!n)return[];"object"===("undefined"==typeof n?"undefined":Sn(n))&&"length"in n||(n=[n]);for(var e=n.length,r=0;r<e;++r)t(n[r],r);return n}function e(n,t){n[t]=function(){return this["_chrsh-valid"]=!1,Array.prototype[t].apply(this,arguments)}}function r(n){return t(Nn,e.bind(null,n)),n["_chrsh-valid"]=!0,n}function i(n){for(var t=[],e=-1;t[++e]=n[e];);return t.length--,r(t)}function o(n,t){if(0===t.search(Mn))switch(t[0]){case".":return i(n.getElementsByClassName(t.slice(1)));case"#":return[n.getElementById(t.slice(1))];default:return i(n.getElementsByTagName(t))}return i(n.querySelectorAll(t))}function u(n){return n instanceof window.HTMLElement||n===window||n===document||n instanceof window.SVGElement||n instanceof window.Text}function f(n){if("string"==typeof n)return o(document,n);if(n instanceof window.NodeList||n instanceof window.HTMLCollection)return i(n);if(n instanceof Array){var e=function(){if(n["_chrsh-valid"])return{v:n};var e=[];return t(n,function(n){e.push.apply(e,f(n))}),{v:r(e)}}();if("object"===("undefined"==typeof e?"undefined":Sn(e)))return e.v}return r(u(n)?[n]:[])}function c(n,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t(f(n,r),e)}function a(n,t,e){t(e,n[e])}function s(n,e){if("object"===("undefined"==typeof n?"undefined":Sn(n)))return t(Object.keys(n),a.bind(null,n,e)),n}function l(n,t){if(0===t.search(jn))switch(t[0]){case".":return n.getElementsByClassName(t.slice(1))[0];case"#":return n.getElementById(t.slice(1));default:return n.getElementsByTagName(t)[0]}return n.querySelector(t)}function d(n){return"string"==typeof n?l(document,n):n instanceof window.NodeList||n instanceof window.HTMLCollection?n[0]:n instanceof Array?d(n[0]):u(n)&&n}function p(n,t,e){e.classList[n].apply(e.classList,t)}function h(n,t,e){return c(n,p.bind(null,t,e))}function v(n){for(var t=arguments.length,e=Array(t>1?t-1:0),r=1;r<t;r++)e[r-1]=arguments[r];return h(n,"add",e)}function g(n){if(On.lastIndex=0,n.indexOf("<")===-1){for(var t=null,e="",r="",i=void 0;i=On.exec(n);){var o=i[3];if("undefined"!=typeof o){var u=i[5];e+=" "+o+("undefined"!=typeof u?"="+u:"")}else{var f=i[1],c=i[2];"."===f?r+=" "+c:"#"===f?e+=' id="'+c+'"':t=c}}null===t&&(t="div"),n="<"+t+(r?' class="'+r.slice(1)+'"':"")+e+"></"+t+">"}var a=document.createElement("div");a.innerHTML=n;var s=a.firstChild;return s}function y(n,e){return n=d(n),!(!n||!n.appendChild)&&(t(e,function(t,e){"string"==typeof t?n.appendChild(g(t)):u(t)&&n.appendChild(t)},!0),n)}function m(n,t){return n=d(n),n?n[t]:null}function b(n){return m(n,"children")}function w(n){return n=d(n),!!n&&"cloneNode"in n&&n.cloneNode(!0)}function x(n,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document;return n=d(n),!(!n||("string"==typeof e?n.matches(e):n===e))&&(("string"==typeof t?n.matches(t):n===t)?n:!!n.parentNode&&x(n.parentNode,t,e))}function C(n,t){var e=[];return c(n,function(n){("string"==typeof t&&"matches"in n&&n.matches(t)||n===t)&&e.push(n)}),r(e)}function E(n,t){if(!n.length)return n.querySelectorAll(t);var e=function(){var e=[];return c(n,function(n){e.push.apply(e,[].slice.call(n.querySelectorAll(t)))}),{v:r(e)}}();return"object"===("undefined"==typeof e?"undefined":Sn(e))?e.v:void 0}function S(n,t){return n=d(n),n?n.querySelector(t):null}function L(n,t){return n=d(n),!!n&&n.getAttribute(t)}function A(n,t){return L(n,"data-"+t)}function N(n){return m(n,"innerHTML")}function M(n){return Hn.lastIndex=0,"string"==typeof n?n.search(Hn)!==-1?n.split(Hn):[n]:n}function j(n,t){if(n=d(n),n&&n.classList){t=M(t);for(var e=t.length,r=void 0;e--&&(r=n.classList.contains(t[e])););return r}}function O(n){if(n=d(n),!n)return null;for(var t=n,e=0;t=t.previousElementSibling;)++e;return e}function H(n,e){if(n=d(n),n&&"parentNode"in n){var r=n.parentNode;return t(e,function(t,e){"string"==typeof t&&(t=g(t)),u(t)&&r.insertBefore(t,n.nextElementSibling)},!0),n}}function T(n,e){if(n=d(n),n&&"parentNode"in n){var r=n.parentNode;return t(e,function(t,e){"string"==typeof t&&(t=g(t)),u(t)&&r.insertBefore(t,n)},!0),n}}function z(n){return m(n,"nextElementSibling")}function B(n){return m(n,"parentNode")}function _(n){return m(n,"previousElementSibling")}function P(n){return c(n,function(n){n.parentNode&&n.parentNode.removeChild(n)})}function k(n,t,e){n[t](e)}function I(n,e,r){r[n]&&t(e,k.bind(null,r,n))}function q(n,t,e){return c(n,I.bind(null,t,e))}function D(n,t){return q(n,"removeAttribute",M(t))}function X(n){for(var t=arguments.length,e=Array(t>1?t-1:0),r=1;r<t;r++)e[r-1]=arguments[r];return h(n,"remove",e)}function Y(n,e){return e=M(e),t(e,function(n,t){e[t]="data-"+n}),q(n,"removeAttribute",e)}function R(n,t){return s(t,function(n,e){"string"==typeof e||e instanceof Array||(t[n]=JSON.stringify(e))}),c(n,function(n){s(t,function(t,e){n.setAttribute(t,e)})})}function U(n,t){var e={};return s(t,function(n,t){e["data-"+n]=t}),R(n,e)}function W(n,t){return c(n,function(n){return Object.assign(n,t)})}function Z(n,t){return W(n,{innerHTML:t})}function F(n,e){if(!(e instanceof Array||"string"==typeof e))return c(n,function(n){n.classList&&s(e,function(e,r){var i=r(n);t(M(e),function(t){n.classList.toggle(t,i)})})});var r=function(){var r=M(e);return{v:c(n,function(n){n.classList&&t(r,function(t){n.classList.toggle(t)})})}}();return"object"===("undefined"==typeof r?"undefined":Sn(r))?r.v:void 0}function $(n,t,e,r){r[n](e,t)}function G(n,e,r,i){t(n,$.bind(null,e,r,i))}function J(n,e,r,i){t(M(r),G.bind(null,n,e,i))}function V(n,t,e){return t+="EventListener",n=f(n),s(e,J.bind(null,n,t)),n}function K(n,t){return n=V(n,"add",t),{off:function(e,r){V(e||n,"remove",r?Ln({},r,t[r]):t)}}}function Q(n,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.body,r={};s(t,function(t,i){r[t]=function(t){var r=x(t.target,n,e);r&&i(t,r)}});var i=K(e,r);return{unbind:function(n){i.off(e,n)}}}function nn(n,t){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=void 0,o={};return s(t,function(n,t){o[n]=function(o){t(o),i.off(e&&o.currentTarget,r&&n)}}),i=K(n,o),{cancel:i.off}}function tn(n){"complete"===(arguments[1]||document.readyState)?n():nn(document,{DOMContentLoaded:n})}function en(n,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(n=f(n),n.length)return r=An({},r,Tn),t(M(e),function(e){e=new window.CustomEvent(e,r),t(n,function(n){return n.dispatchEvent(e)})}),n}function rn(n){for(var t=""+n,e=void 0;e=zn.exec(n);)t=t.replace(new RegExp(e,"g"),"-"+e[0].toLowerCase());return t}function on(n,t){return s(t,function(n,e){Bn.indexOf(rn(n))===-1&&"number"==typeof e&&(t[n]+="px")}),c(n,function(n){n.style&&Object.assign(n.style,t)})}function un(n,e){e=M(e);var r={};return t(e,function(n){r[n]=""}),on(n,r)}function fn(n){if(n=d(n),!n)return!1;var t=n.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}function cn(n,t,e){return m(n,""+(e?"offset":"client")+t)}function an(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return cn(n,"Height",t)}function sn(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return cn(n,"Width",t)}function ln(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{width:sn(n,t),height:an(n,t)}}function dn(n,t){if(n=d(n)){var e=window.getComputedStyle(n)[t];return e.indexOf("px")===-1?e:parseFloat(e)}}function pn(n){return on(n,{visibility:"hidden"})}function hn(n){var t=fn(n);return t&&{top:t.top,left:t.left}}function vn(n){var t=hn(n);return t&&{top:t.top+window.scrollY,left:t.left+window.scrollX}}function gn(n){return n=d(n),!!n&&{top:n.offsetTop,left:n.offsetLeft}}function yn(n,t){return on(n,{height:t})}function mn(n,t,e){return on(n,{width:t,height:e})}function bn(n,t){return on(n,{width:t})}function wn(n){return on(n,{visibility:"visible"})}function xn(n,e,r,i,o){var u={};return r in n?"object"===Sn(n[r])?t(e,function(t){u[""+r+t.toUpperCase()]=t in n[r]?n[r][t]:i}):t(e,function(n){u[""+r+n.toUpperCase()]=o[n]}):t(e,function(n){u[""+r+n.toUpperCase()]=i}),u}function Cn(n){var e="x"in n?n.x:0,r="y"in n?n.y:0,i="z"in n?n.z:0,o=xn(n,["x","y","z"],"scale",1,{x:n.scale,y:n.scale,z:1}),u=o.scaleX,f=o.scaleY,c=o.scaleZ,a=xn(n,["x","y","z"],"rotate",0,{x:0,y:0,z:n.rotate}),s=a.rotateX,l=a.rotateY,d=a.rotateZ,p=xn(n,["x","y"],"skew",0,{x:n.skew,y:n.skew}),h=p.skewX,v=p.skewY,g=Math.cos(s),y=Math.sin(s),m=Math.cos(l),b=Math.sin(l),w=Math.cos(d),x=Math.sin(d),C=Math.tan(h),E=Math.tan(v),S=[u*m*w,x+E,-b,0,-x+C,f*g*w,y,0,b,-y,c*g*m,0,e,r,i,1];return t(S,function(n,t){S[t]=+n.toFixed(2)}),S}function En(n,t){return on(n,{transform:"matrix3d("+Cn(t).join(",")+")"})}var Sn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ln=function(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n},An=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Nn=["push","splice","unshift"],Mn=/^[.#]?[\w-_]+$/,jn=/^[.#]?[\w-_]+$/,On=/([#.]?)([\w-_]+)|\[([\w-_]+)(=([\w.{}:'"\s]+))?]/g,Hn=/[,\s]+/g,Tn={bubbles:!0,cancelable:!0},zn=/[A-Z]/g,Bn=["z-index","zoom","font-weight","line-height","counter-reset","counter-increment","volume","stress","pitch-range","richness","opacity"];n.forEach=t,n.forElements=c,n.forIn=s,n.getElement=d,n.getElements=f,n.isDomElement=u,n.addClass=v,n.append=y,n.children=b,n.clone=w,n.closest=x,n.createElement=g,n.filter=C,n.find=E,n.findOne=S,n.getAttr=L,n.getData=A,n.getHtml=N,n.getProp=m,n.hasClass=j,n.indexInParent=O,n.insertAfter=H,n.insertBefore=T,n.next=z,n.parent=B,n.prev=_,n.remove=P,n.removeAttr=D,n.removeClass=X,n.removeData=Y,n.setAttr=R,n.setData=U,n.setHtml=Z,n.setProp=W,n.toggleClass=F,n.bind=Q,n.on=K,n.once=nn,n.ready=tn,n.trigger=en,n.clearStyle=un,n.clientRect=fn,n.getHeight=an,n.getSize=ln,n.getStyle=dn,n.getWidth=sn,n.hide=pn,n.offset=vn,n.position=gn,n.screenPosition=hn,n.setHeight=yn,n.setSize=mn,n.setStyle=on,n.setWidth=bn,n.show=wn,n.transform=En,Object.defineProperty(n,"__esModule",{value:!0})});