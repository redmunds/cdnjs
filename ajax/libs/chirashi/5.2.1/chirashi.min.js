/**
 * Chirashi.js v5.2.1
 * (c) 2017 Alex Toudic
 * Released under MIT License.
 **/

!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(n.Chirashi=n.Chirashi||{})}(this,function(n){"use strict";function t(n,t){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!n)return[];if(n instanceof Array||n instanceof window.NodeList||n instanceof window.HTMLCollection||(n=[n]),e)for(var r=-1,i=n.length;++r<i;)t(n[r],r);else for(var o=n.length;o--;)t(n[o],o);return n}function e(n){return n.chrshPush=function(n){return this.push.apply(this,gn(i(n))),this["_chrsh-valid"]=!0,this},t(yn,function(t){n[t]=function(){return this["_chrsh-valid"]=!1,Array.prototype[t].apply(this,arguments)}}),n["_chrsh-valid"]=!0,n}function r(n){return n instanceof window.HTMLElement||n===window||n===document||n instanceof window.SVGElement||n instanceof window.Text}function i(n){if(n&&n["_chrsh-valid"])return n;var o=void 0;return"string"==typeof n?o=[].concat(gn(document.querySelectorAll(n))):n instanceof Array?!function(){var e=[];t(n,function(n){e.push.apply(e,gn(i(n)))}),o=e}():o=n instanceof window.NodeList||n instanceof window.HTMLCollection?[].concat(gn(n)):r(n)?[n]:[],e(o)}function o(n,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t(i(n),e,r)}function u(n,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("object"===("undefined"==typeof n?"undefined":pn(n)))return t(Object.keys(n),function(t){return e(t,n[t])},r),n}function f(n){return"string"==typeof n?document.querySelector(n):n instanceof Array||n instanceof window.NodeList||n instanceof window.HTMLCollection?f(n[0]):r(n)&&n}function c(n,t){var e="string"==typeof n?n.split(/[,\s]+/g):n;return t?e.map(function(n){return""+t+n}):e}function a(n,t,e){return e=c(e),o(n,function(n){var r;n.classList&&(r=n.classList)[t].apply(r,gn(e))})}function s(n,t){return a(n,"add",t)}function l(n){if(n.indexOf("<")===-1){for(var t=null,e="",r="",i=void 0;i=mn.exec(n);)"undefined"!=typeof i[5]?e+=" "+i[5]+("undefined"!=typeof i[7]?"="+i[7]:""):"."===i[2]?r+=" "+i[3]:"#"===i[2]?e+=' id="'+i[3]+'"':t=i[3];null===t&&(t="div"),n="<"+t+(r?' class="'+r.slice(1)+'"':"")+e+"></"+t+">"}var o=document.createElement("div");o.innerHTML=n;var u=o.firstChild;return u}function d(n,e){return n=f(n),!(!n||!n.appendChild)&&(t(e,function(t,e){"string"==typeof t?n.appendChild(l(t)):r(t)&&n.appendChild(t)},!0),n)}function p(n,t){return n=f(n),n?n[t]:null}function h(n){var t=p(n,"children");return!!t&&e([].concat(gn(t)))}function v(n){return n=f(n),!!n&&"cloneNode"in n&&n.cloneNode(!0)}function g(n,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document;return n=f(n),!(!n||("string"==typeof e?n.matches(e):n===e))&&(("string"==typeof t?n.matches(t):n===t)?n:!!n.parentNode&&g(n.parentNode,t,e))}function y(n,t){var r=[];return o(n,function(n){("string"==typeof t&&"matches"in n&&n.matches(t)||n===t)&&r.push(n)}),e(r)}function m(n,t){var r=[];return o(n,function(n){"querySelectorAll"in n&&r.push.apply(r,gn(n.querySelectorAll(t)))}),e(r)}function w(n,t){return n=f(n),n&&"querySelector"in n?n.querySelector(t):null}function b(n,t){return n=f(n),!!n&&n.getAttribute(t)}function x(n,t){return b(n,"data-"+t)}function S(n){return p(n,"innerHTML")}function A(n,t){if(n=f(n),n&&n.classList){t=c(t);for(var e=t.length,r=void 0;e--&&(r=n.classList.contains(t[e])););return r}}function C(n){if(n=f(n),!n)return null;for(var t=n,e=0;t=t.previousElementSibling;)++e;return e}function L(n,e){if(n=f(n),n&&"parentNode"in n){var i=n.parentNode;return t(e,function(t,e){"string"==typeof t&&(t=l(t)),r(t)&&i.insertBefore(t,n.nextElementSibling)},!0),n}}function E(n,e){if(n=f(n),n&&"parentNode"in n){var i=n.parentNode;return t(e,function(t,e){"string"==typeof t&&(t=l(t)),r(t)&&i.insertBefore(t,n)},!0),n}}function M(n){return p(n,"nextElementSibling")}function N(n){return p(n,"parentNode")}function O(n){return p(n,"previousElementSibling")}function j(n){return o(n,function(n){n.parentNode&&n.parentNode.removeChild(n)})}function H(n,e,r){return o(n,function(n){n[e]&&t(r,function(t){n[e](t)})})}function z(n,t){return H(n,"removeAttribute",c(t))}function T(n,t){return a(n,"remove",t)}function P(n,t){return H(n,"removeAttribute",c(t,"data-"))}function _(n,t){return u(t,function(n,e){"string"==typeof e||e instanceof Array||(t[n]=JSON.stringify(e))}),o(n,function(n){u(t,function(t,e){n.setAttribute(t,e)})})}function k(n,t){var e={};return u(t,function(n,t){e["data-"+n]=t}),_(n,e)}function q(n,t){return o(n,function(n){return Object.assign(n,t)})}function D(n,t){return q(n,{innerHTML:t})}function B(n,e){if(!(e instanceof Array||"string"==typeof e))return o(n,function(n){n.classList&&u(e,function(e,r){var i=r(n);t(c(e),function(t){n.classList.toggle(t,i)})})});var r=function(){var r=c(e);return{v:o(n,function(n){n.classList&&t(r,function(t){n.classList.toggle(t)})})}}();return"object"===("undefined"==typeof r?"undefined":pn(r))?r.v:void 0}function X(n,e,r){return e+="EventListener",o(n,function(n){u(r,function(r,i){t(c(r),function(t){return n[e](t,i)})})})}function Y(n,t){return n=X(n,"add",t),{off:function(e,r){X(e||n,"remove",r?hn({},r,t[r]):t)}}}function R(n,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.body,r={};u(t,function(t,i){r[t]=function(t){var r=g(t.target,n,e);r&&i(t,r)}});var i=Y(e,r);return{unbind:function(n){i.off(e,n)}}}function U(n,t){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=void 0,o={};return u(t,function(n,t){o[n]=function(o){t(o),i.off(e&&o.currentTarget,r&&n)}}),i=Y(n,o),{cancel:i.off}}function W(n){"complete"===(arguments[1]||document.readyState)?n():U(document,{DOMContentLoaded:n})}function Z(n,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(n=i(n),n.length)return r=vn({},r,wn),t(c(e),function(e){e=new window.CustomEvent(e,r),t(n,function(n){return n.dispatchEvent(e)})}),n}function F(n){for(var t=""+n,e=void 0;e=bn.exec(n);)t=t.replace(new RegExp(e,"g"),"-"+e[0].toLowerCase());return t}function I(n,t){return u(t,function(n,e){xn.indexOf(F(n))===-1&&"number"==typeof e&&(t[n]+="px")}),o(n,function(n){n.style&&Object.assign(n.style,t)})}function G(n,e){e=c(e);var r={};return t(e,function(n){r[n]=""}),I(n,r)}function J(n){if(n=f(n),!n)return!1;var t=n.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}function V(n,t,e){return p(n,""+(e?"offset":"client")+t)}function K(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return V(n,"Height",t)}function Q(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return V(n,"Width",t)}function $(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{width:Q(n,t),height:K(n,t)}}function nn(n,t){if(n=f(n)){var e=window.getComputedStyle(n)[t];return e.indexOf("px")===-1?e:parseFloat(e)}}function tn(n){return I(n,{visibility:"hidden"})}function en(n){var t=J(n);return t&&{top:t.top,left:t.left}}function rn(n){var t=en(n);return t&&{top:t.top+window.scrollY,left:t.left+window.scrollX}}function on(n){return n=f(n),!!n&&{top:n.offsetTop,left:n.offsetLeft}}function un(n,t){return I(n,{height:t})}function fn(n,t,e){return I(n,{width:t,height:e})}function cn(n,t){return I(n,{width:t})}function an(n){return I(n,{visibility:"visible"})}function sn(n,e,r,i,o){var u={};return r in n?"object"===pn(n[r])?t(e,function(t){u[""+r+t.toUpperCase()]=t in n[r]?n[r][t]:i}):t(e,function(n){u[""+r+n.toUpperCase()]=o[n]}):t(e,function(n){u[""+r+n.toUpperCase()]=i}),u}function ln(n){var e="x"in n?n.x:0,r="y"in n?n.y:0,i="z"in n?n.z:0,o=sn(n,["x","y","z"],"scale",1,{x:n.scale,y:n.scale,z:1}),u=o.scaleX,f=o.scaleY,c=o.scaleZ,a=sn(n,["x","y","z"],"rotate",0,{x:0,y:0,z:n.rotate}),s=a.rotateX,l=a.rotateY,d=a.rotateZ,p=sn(n,["x","y"],"skew",0,{x:n.skew,y:n.skew}),h=p.skewX,v=p.skewY,g=Math.cos(s),y=Math.sin(s),m=Math.cos(l),w=Math.sin(l),b=Math.cos(d),x=Math.sin(d),S=Math.tan(h),A=Math.tan(v),C=[u*m*b,x+A,-w,0,-x+S,f*g*b,y,0,w,-y,c*g*m,0,e,r,i,1];return t(C,function(n,t){C[t]=+n.toFixed(2)}),C}function dn(n,t){return I(n,{transform:"matrix3d("+ln(t).join(",")+")"})}var pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},hn=function(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n},vn=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},gn=function(n){if(Array.isArray(n)){for(var t=0,e=Array(n.length);t<n.length;t++)e[t]=n[t];return e}return Array.from(n)},yn=["push","splice","unshift"],mn=/(([#.]?)([\w-_]+))|(\[([\w-_]+)(=([\w.{}:'"]+))?])/g,wn={bubbles:!0,cancelable:!0},bn=/[A-Z]/g,xn=["z-index","zoom","font-weight","line-height","counter-reset","counter-increment","volume","stress","pitch-range","richness","opacity"];n.forEach=t,n.forElements=o,n.forIn=u,n.getElement=f,n.getElements=i,n.isDomElement=r,n.addClass=s,n.append=d,n.children=h,n.clone=v,n.closest=g,n.createElement=l,n.filter=y,n.find=m,n.findOne=w,n.getAttr=b,n.getData=x,n.getHtml=S,n.getProp=p,n.hasClass=A,n.indexInParent=C,n.insertAfter=L,n.insertBefore=E,n.next=M,n.parent=N,n.prev=O,n.remove=j,n.removeAttr=z,n.removeClass=T,n.removeData=P,n.setAttr=_,n.setData=k,n.setHtml=D,n.setProp=q,n.toggleClass=B,n.bind=R,n.on=Y,n.once=U,n.ready=W,n.trigger=Z,n.clearStyle=G,n.clientRect=J,n.getHeight=K,n.getSize=$,n.getStyle=nn,n.getWidth=Q,n.hide=tn,n.offset=rn,n.position=on,n.screenPosition=en,n.setHeight=un,n.setSize=fn,n.setStyle=I,n.setWidth=cn,n.show=an,n.transform=dn,Object.defineProperty(n,"__esModule",{value:!0})});