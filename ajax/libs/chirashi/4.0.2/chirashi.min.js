/*!
 * Chirashi.js v4.0.2
 * (c) 2016 Alex Toudic
 * Released under the MIT License.
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Chirashi=e()}(this,function(){"use strict";function t(t){return[].slice.call(document.querySelectorAll(t))}function e(t){return t instanceof HTMLElement||t===window||t===document||t instanceof SVGElement}function n(t){return document.querySelector(t)}function r(t){return"string"==typeof t?n(t):t instanceof Array?r(t[0]):e(t)?t:null}function o(t,e){var n=arguments.length<=2||void 0===arguments[2]?!1:arguments[2];if(t){if(t instanceof Array||t instanceof NodeList||t instanceof HTMLCollection)if(n)for(var r=-1,o=t.length;++r<o;)e(t[r],r);else for(var i=t.length;i--;)e(t[i],i);else e(t,0);return t}}function i(n){if("string"==typeof n)return t(n);if(n instanceof Array){var r=function(){var t=[];return o(n,function(e){var n=i(e);n&&(t=t.concat(n))}),{v:t}}();if("object"==typeof r)return r.v}return n instanceof NodeList?[].slice.call(n):e(n)?[n]:null}function a(t,e){var n=arguments.length<=2||void 0===arguments[2]?!1:arguments[2];return o(i(t),e,n)}function s(t,e){var n=arguments.length<=2||void 0===arguments[2]?!1:arguments[2];if("object"==typeof t){var r=Object.keys(t);if(n)for(var o=-1,i=r.length;++o<i;){var a=r[o];e(a,t[a])}else for(var s=r.length;s--;){var c=r[s];e(c,t[c])}return t}}function c(t,e){return e=e.split(" "),a(t,function(t){if(t.classList)for(var n=e.length;n--;)t.classList.add(e[n])})}function u(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n="";s(e,function(t,e){n+=" "+t+'="'+e+'"'}),-1==t.indexOf("<")&&(t="<"+t+n+"></"+t+">");var r=document.createElement("div");return r.innerHTML=t,r.firstChild}function l(t,n){var r=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];if("string"==typeof n)n=u(n,r);else if(!e(n))return t;return a(t,function(t){t.appendChild&&t.appendChild(n)})}function f(t,e){var n=Object.keys(e);return a(t,function(t){if(t.setAttribute)for(var r=n.length,o=void 0,i=void 0;r--;)o=n[r],i=e[o],i?t.setAttribute(o,i):t.removeAttribute(name)})}function d(t,e){return t=r(t),!!t&&t.getAttribute&&t.getAttribute(e)}function m(t,e){return"object"==typeof e?f(t,e):d(t,e)}function p(t){return t=r(t),!!t&&t.cloneNode(!0)}function v(t,e,n){return n&&"undefined"!=typeof n.value&&++n.value,t=r(t),t&&t!==window&&t!==document?"string"==typeof e&&t.matches(e)||t==e?t:v(t.parentNode,e,n):!1}function h(t,e){var n=Object.keys(e);return a(t,function(t){if(t.setAttribute)for(var r=n.length,o=void 0;r--;)o=n[r],value=e[o],value?t.setAttribute("data-"+o,value):t.removeAttribute(name)})}function y(t,e){return d(t,"data-"+e)}function g(t,e){return"object"==typeof e?h(t,e):y(t,e)}function b(t,e){return a(t,function(t){t.innerHTML=e})}function w(t){return b(t,"")}function x(t,e){var n=[];return a(t,function(t){t&&t!==window&&t!==document&&("string"==typeof e&&t.matches(e)||t==e)&&n.push(t)}),n}function k(t,e){return t=r(t),!!t&&t.querySelector(e)}function E(t,e){return t=r(t),t?[].slice.call(t.querySelectorAll(e)):[]}function M(t){return t=r(t),!!t&&t.innerHTML}function j(t,e){return t=r(t),!!t&&t[e]}function L(t,e){if(t=r(t),t&&t.classList){e=e.split(" ");for(var n=e.length,o=!1;n--&&(o=t.classList.contains(e[n])););return o}}function A(t,e){return"string"==typeof e?b(t,e):M(t)}function C(t){if(t=r(t)){for(var e=t,n=t.parentNode,o=0;e.previousElementSibling;)++o,e=e.previousElementSibling;return t===n.children[o]?o:-1}}function T(t,e){return"string"==typeof e&&(e=u(e)),a(t,function(t){t.parentNode&&t.parentNode.insertBefore(e,t.nextElementSibling)})}function O(t,e){return"string"==typeof e&&(e=u(e)),a(t,function(t){t.parentNode&&t.parentNode.insertBefore(e,t)})}function D(t){return(t=r(t))?t.nextElementSibling:void 0}function S(t){return t=r(t),!!t&&t.parentNode}function N(t){return t=r(t),!!t&&t.previousElementSibling}function X(t,e){return a(t,function(t){return Objec.assign(t,e)})}function Y(t,e){return"object"==typeof e?X(t,e):j(t,e)}function z(t,e){return e=e.split(" "),a(t,function(t){if(t.classList)for(var n=e.length;n--;)t.classList.remove(e[n])})}function H(t){return a(t,function(t){t.parentNode&&t.parentNode.removeChild(t)})}function I(t,e){return e=e.split(" "),a(t,function(t){if(t.classList)for(var n=e.length;n--;)t.classList.toggle(e[n])})}function P(t,e,n){return e=e.split(" "),a(t,function(t){if(t.addEventListener)for(var r=e.length;r--;)t.addEventListener(e[r],n)})}function W(t,e,n,r){var o=[];return a(t,function(t){var i=!1,a={element:t,begin:function(t){t.preventDefault(),t.stopPropagation(),"touches"in t&&t.touches.length&&(t=t.touches[0]),i=!0,n&&n({x:t.pageX,y:t.pageY})},move:function(t){i&&(t.preventDefault(),t.stopPropagation(),"touches"in t&&t.touches.length&&(t=t.touches[0]),e&&e({x:t.pageX,y:t.pageY}))},end:function(t){i&&(t.preventDefault(),t.stopPropagation(),"touches"in t&&t.touches.length&&(t=t.touches[0]),i=!1,r&&r({x:t.pageX,y:t.pageY}))}};P(t,"touchstart mousedown",a.begin),P(document.body,"touchmove mousemove",a.move),P(document.body,"touchend mouseup",a.end),o.push(a)}),{off:function(){forEach(o,function(t){off(t.element,"touchstart, mousedown",t.begin),off(document.body,"touchmove, mousemove",t.move),off(document.body,"touchend, mouseup",t.end)})}}}function B(t,e,n){return a(t,function(t){e&&P(t,"mouseenter",e),n&&P(t,"mouseleave",n)}),{off:function(){a(t,function(t){e&&off(t,"mouseenter",e),n&&off(t,"mouseleave",n)})}}}function Z(t,e,n){return e=e.split(" "),a(t,function(t){if(t.removeEventListener)for(var r=e.length;r--;)t.removeEventListener(e[r],n)})}function q(t,e,n){var r=arguments.length<=3||void 0===arguments[3]?!0:arguments[3],a=arguments.length<=4||void 0===arguments[4]?!0:arguments[4];if(t=i(t),!t||0==t.length)return void(n&&n());var s={value:t.length};return callback=function(t,o,i){t&&(o=t.target,"error"==t.type&&(i=t)),r&&Z(o,"load loadedmetadata error",callback),e&&e(o,i),!--s.value&&n&&n()},o(t,function(t){a&&!t.src?callback(null,t,"image without src"):t.naturalWidth||t.loadedmetadata?callback(null,t,null):P(t,"load loadedmetadata error",callback)}),{off:function(){o(t,function(t){return Z(t,"load loadedmetadata error",callback)})}}}function V(t){P(document,"DOMContentLoaded",t)}function R(t,e,n){e=e.split(" ");var r=e.length;t=i(t);for(var o=function(){var o=e[r];window.CustomEvent?o=new CustomEvent(o,{detail:n}):(o=document.createEvent("CustomEvent"),o.initCustomEvent(o,!0,!0,n)),forEach(t,function(t){t.dispatchEvent&&t.dispatchEvent(o)})};r--;)o();return t}function U(t){return t=r(t),!!t&&t.offsetHeight}function F(t){return t=r(t),!!t&&{width:t.offsetWidth,height:t.offsetHeight}}function G(t,e){if(t=r(t)){var n=getComputedStyle(t)[e];return-1==n.indexOf("px")?n:parseInt(n,10)}}function J(t){return t=r(t),!!t&&t.offsetWidth}function K(t,e){return"number"==typeof e&&(e+="px"),a(t,function(t){t.style&&(t.style.height=e)})}function Q(t,e){return"undefined"!=typeof e?K(t,e):U(t)}function $(t){return a(t,function(t){t.style&&(t.style.visibility="hidden")})}function _(t,e,n){switch(t){case"x":n[4]+=e;break;case"y":n[5]+=e;break;case"rotate":var r=Math.cos(e),o=Math.sin(e);n[0]*=r,n[1]+=o,n[2]-=o,n[3]*=r;break;case"scale":n[0]*=e,n[2]*=e;break;case"scaleX":n[0]*=e;break;case"scaleY":n[3]*=e;break;case"skew":var i=Math.tan(e);n[2]+=i,n[1]+=i;break;case"skewX":n[2]+=Math.tan(e);break;case"skewY":n[1]+=Math.tan(e)}}function tt(t){for(var e=Object.keys(t),n=e.length,r=[1,0,0,1,0,0];n--;){var o=e[n],i=t[o];if("object"==typeof i)for(var a=Object.keys(i),s=a.length;s--;){var c=a[s];_(o+c.toUpperCase(),i[c],r)}else _(o,i,r)}return r}function et(t,e){var n=tt(e);return n="matrix("+n.join(",")+")",a(t,function(t){t.style&&(t.style[Jt+"transform"]=n,t.style.transform=n)})}function nt(t,e,n){switch(t){case"x":n[12]+=e;break;case"y":n[13]+=e;break;case"z":n[14]+=e;break;case"rotate":var r=Math.cos(e),o=Math.sin(e);n[0]*=r,n[1]+=o,n[4]-=o,n[5]*=r;break;case"rotateX":var i=Math.cos(e),a=Math.sin(e);n[5]*=i,n[6]+=a,n[9]-=a,n[10]*=i;break;case"rotateY":var s=Math.cos(e),c=Math.sin(e);n[0]*=s,n[2]-=c,n[8]+=c,n[10]*=s;break;case"rotateZ":var u=Math.cos(e),l=Math.sin(e);n[0]*=u,n[1]+=l,n[4]-=l,n[5]*=u;break;case"scale":n[0]*=e,n[5]*=e;break;case"scaleX":n[0]*=e;break;case"scaleY":n[5]*=e;break;case"scaleZ":n[10]*=e;break;case"skew":var f=Math.tan(e);n[4]+=f,n[1]+=f;break;case"skewX":n[4]+=Math.tan(e);break;case"skewY":n[1]+=Math.tan(e)}}function rt(t){for(var e=Object.keys(t),n=e.length,r=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];n--;){var o=e[n],i=t[o];if("object"==typeof i)for(var a=Object.keys(i),s=a.length;s--;){var c=a[s];nt(o+c.toUpperCase(),i[c],r)}else nt(o,i,r)}return r}function ot(t,e){var n=rt(e);return n="matrix3d("+n.join(",")+")",a(t,function(t){t.style&&(t.style[Jt+"transform"]=n,t.style.transform=n)})}function it(t,e){return Kt?matrix3D(t,e):matrix2D(t,e)}function at(t){if(t=r(t),!t)return!1;var e=t.getBoundingClientRect();return{top:e.top+(document.documentElement.scrollTop||document.body.scrollTop),left:e.left+(document.documentElement.scrollLeft||document.body.scrollLeft)}}function st(t){return t=r(t),!!t&&{top:t.offsetTop,left:t.offsetLeft}}function ct(t,e,n){var r="scaleX"in e?e.scaleX:"scale"in e?e.scale:1,o="scaleY"in e?e.scaleY:"scale"in e?e.scale:1,i="scale("+r+","+o+")";return a(t,function(t){t.style&&(n?(t.style[Jt+"transform"]+=" "+i,t.style.transform+=" "+i):(t.style[Jt+"transform"]=i,t.style.transform=i))})}function ut(t,e,n){var r="scaleX"in e?e.scaleX:"scale"in e?e.scale:1,o="scaleY"in e?e.scaleY:"scale"in e?e.scale:1,i="scaleZ"in e?e.scaleZ:1,s="scale3d("+r+","+o+","+i+")";return a(t,function(t){t.style&&(n?(t.style[Jt+"transform"]+=" "+s,t.style.transform+=" "+s):(t.style[Jt+"transform"]=s,t.style.transform=s))})}function lt(t,e,n){return Kt?ut(t,e,n):ct(t,e,n)}function ft(t){return t=r(t),!!t&&t.getBoundingClientRect()}function dt(t,e){var n=e.width,r=e.height;return"number"==typeof n&&(n+="px"),"number"==typeof r&&(r+="px"),a(t,function(t){t.style&&Object.assign(t.style,{width:n,height:r})})}function mt(t,e){for(var n=Object.keys(e),r=n.length;r--;){var o=n[r];if(-1==Qt.indexOf(o)){var i=e[o];"number"==typeof i&&(e[o]+="px")}}return a(t,function(t){t.style&&Object.assign(t.style,e)})}function pt(t,e){return"number"==typeof e&&(e+="px"),a(t,function(t){t.style&&(t.style.width=e)})}function vt(t){return a(t,function(t){t.style&&(t.style.visibility="")})}function ht(t,e){return"object"!=typeof object?F(t):dt(t,object)}function yt(t,e){return"object"==typeof e?mt(t,e):"string"==typeof e?G(t,e):void 0}function gt(t,e,n){var r="x"in e?e.x:0,o="y"in e?e.y:0;"number"==typeof r&&(r+="px"),"number"==typeof o&&(o+="px");var i="translate("+r+","+o+")";return a(t,function(t){t.style&&(n?(t.style[Jt+"transform"]+=" "+i,t.style.transform+=" "+i):(t.style[Jt+"transform"]=i,t.style.transform=i))})}function bt(t,e,n){var r="x"in e?e.x:0,o="y"in e?e.y:0,i="z"in e?e.z:0;"number"==typeof r&&(r+="px"),"number"==typeof o&&(o+="px"),"number"==typeof i&&(i+="px");var s="translate3d("+r+","+o+","+i+")";return a(t,function(t){t.style&&(n?(t.style[Jt+"transform"]+=" "+s,t.style.transform+=" "+s):(t.style[Jt+"transform"]=s,t.style.transform=s))})}function wt(t,e,n){return Kt?bt(t,e,n):gt(t,e,n)}function xt(t,e){if("skew"in e||"skewX"in e||"skewY"in e||"rotate"in e||"rotateX"in e||"rotateY"in e||"rotateZ"in e)return it(t,e);var n=!1;return(n="x"in e||"y"in e||"z"in e)?wt(t,e):"scale"in e||"scaleX"in e||"scaleY"in e||"scaleZ"in e?lt(t,e,n):void 0}function kt(t,e){return"undefined"!=typeof e?pt(t,e):J(t)}function Et(t,e){var n=arguments.length<=2||void 0===arguments[2]?!1:arguments[2],r=n,o=void 0,i=function(){r=!1,t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),o=setTimeout(function(){r=n},e)},a=function(){clearTimeout(o),r?i.call.apply(i,[this].concat(Array.prototype.slice.call(arguments))):o=setTimeout(i.bind(this,arguments),e),a.cancel=function(){clearTimeout(o),r=!0,o=null}};return a}function Mt(t){if(null==t||"object"!=typeof t)return t;var e=t.constructor();for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function jt(t,e){return Object.assign(t,e)}function Lt(t){var e={};return function(){var n=JSON.stringify(arguments);return n in e?e[n]:e[n]=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments)))}}function At(t){var e=arguments.length<=1||void 0===arguments[1]?0:arguments[1];return Math.random()*(t-e+1)+e}function Ct(t){var e=arguments.length<=1||void 0===arguments[1]?0:arguments[1];return~~(Math.random()*(t-e+1))+e}function Tt(t){var e=arguments.length<=1||void 0===arguments[1]?1:arguments[1],n=arguments.length<=2||void 0===arguments[2]?0:arguments[2];return isNaN(t)?e:Math.min(Math.max(t,n),e)}function Ot(t,e){var n=arguments.length<=2||void 0===arguments[2]?!0:arguments[2],r=arguments.length<=3||void 0===arguments[3]?!0:arguments[3],o=0,i=void 0,a=function(){i=null,o=n?performance.now():0,t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments)))},s=function(){var t=performance.now();o||n||(o=t);var c=e-(t-o);0>c||c>e?a.call.apply(a,[this].concat(Array.prototype.slice.call(arguments))):r&&!i&&(i=setTimeout(a.bind(this,arguments),c)),s.cancel=function(){clearTimeout(i),o=0,i=null}};return s}var Dt=navigator.userAgent.toLowerCase(),St=/android/i.test(Dt),Nt=St&&!/mobile/i.test(Dt),Xt=navigator.vendor&&navigator.vendor.toLowerCase(),Yt=/chrome|chromium/i.test(Dt)&&/google inc/.test(Xt),zt=/firefox/i.test(Dt),Ht=-1!=Dt.indexOf("msie")?parseInt(Dt.split("msie")[1],10):!1,It=/iphone|ipad|ipod/i.test(Dt),Pt=/ipad/i.test(Dt),Wt=/iphone/i.test(Dt),Bt=/ipod/i.test(Dt),Zt=/win/i.test("navigator"in window&&"appVersion"in navigator&&navigator.appVersion.toLowerCase()||""),qt=!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch),Vt=It||St||Zt&&qt,Rt=/safari/i.test(Dt)&&/apple computer/.test(Xt),Ut=Zt&&/phone/i.test(ua),Ft=Zt&&!Ut&&qt,Gt=Pt||Nt||Ft,Jt=(Array.prototype.slice.call(window.getComputedStyle(document.documentElement,"")).join("").match(/-(moz|webkit|ms)-/)||""===styles.OLink&&["","o"])[1];document.documentElement.style[Jt+"matrix"]="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)";var Kt=document.documentElement.style[Jt+"matrix"];document.documentElement.style[Jt+"matrix"]="";var Qt=["z-index","zoom","font-weight","line-height","counter-reset","counter-increment","volume","stress","pitch-range","richness","opacity"],$t={isAndroidTablet:Nt,isAndroid:St,isChrome:Yt,isFirefox:zt,isIe:Ht,isIos:It,isIpad:Pt,isIphone:Wt,isIpod:Bt,isMobile:Vt,isSafari:Rt,isTablet:Gt,isTouchable:qt,isWindowsPhone:Ut,isWindowsTablet:Ft,isWindows:Zt,prefix:Jt,support3D:Kt,ua:Dt,vendor:Xt,forEach:o,forElements:a,forIn:s,getElement:r,getElements:i,getSelectorAll:t,getSelector:n,isDomElement:e,addClass:c,append:l,attr:m,clone:p,closest:v,createElement:u,data:g,empty:w,filter:x,findOne:k,find:E,getAttr:d,getData:y,getHtml:M,getProp:j,hasClass:L,html:A,indexInParent:C,insertAfter:T,insertBefore:O,next:D,parent:S,prev:N,prop:Y,removeClass:z,remove:H,setAttr:f,setData:h,setHtml:b,setProp:X,toggleClass:I,drag:W,hover:B,load:q,off:Z,on:P,ready:V,trigger:R,getHeight:U,getSize:F,getStyle:G,getWidth:J,height:Q,hide:$,matrix:it,matrix2D:et,matrix3D:ot,offset:at,position:st,scale:lt,scale2D:ct,scale3D:ut,screenPosition:ft,setHeight:K,setSize:dt,setStyle:mt,setWidth:pt,show:vt,size:ht,style:yt,transform:xt,translate:wt,translate2D:gt,translate3D:bt,width:kt,debounce:Et,deepClone:Mt,defaultify:jt,memoize:Lt,randomBetween:At,randomIntBetween:Ct,range:Tt,throttle:Ot,transformTo2DMatrix:tt,transformTo3DMatrix:rt};return $t});