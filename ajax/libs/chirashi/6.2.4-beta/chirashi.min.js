/**
 * Chirashi.js v6.2.4-beta
 * (c) 2017 Alex Toudic
 * Released under MIT License.
 **/

!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(n.Chirashi=n.Chirashi||{})}(this,function(n){"use strict";function t(n,t){if(!n)return[];"object"===("undefined"==typeof n?"undefined":Wn(n))&&"length"in n||(n=[n]);for(var e=n.length,r=0;r<e;++r)t(n[r],r);return n}function e(n,t){n[t]=function(){return this["_chrsh-valid"]=!1,Array.prototype[t].apply(this,arguments)}}function r(n){return t($n,e.bind(null,n)),n["_chrsh-valid"]=!0,n}function i(n){for(var t=[],e=-1;t[++e]=n[e];);return t.length--,r(t)}function o(n,t){if(0===t.search(Gn))switch(t[0]){case".":return i(n.getElementsByClassName(t.slice(1)));case"#":var e=n===document?n.getElementById(t.slice(1)):n.querySelector(t);return r(e?[e]:[]);default:return i(n.getElementsByTagName(t))}return i(n.querySelectorAll(t))}function u(n){return n instanceof window.HTMLElement||n===window||n===document||n instanceof window.SVGElement||n instanceof window.Text}function c(n,t){n.push.apply(n,f(t))}function f(n){if("string"==typeof n)return o(document,n);if(n instanceof window.NodeList||n instanceof window.HTMLCollection)return i(n);if(n instanceof Array){if(n["_chrsh-valid"])return n;var e=[];return t(n,c.bind(null,e)),r(e)}return r(u(n)?[n]:[])}function l(n,e){return t(f(n),e)}function a(n,t,e){t(e,n[e])}function s(n,e){if("object"===("undefined"==typeof n?"undefined":Wn(n)))return t(Object.keys(n),a.bind(null,n,e)),n}function d(n,t){if(0===t.search(Jn))switch(t[0]){case".":return n.getElementsByClassName(t.slice(1))[0];case"#":return n.getElementById(t.slice(1));default:return n.getElementsByTagName(t)[0]}return n.querySelector(t)}function h(n){return"string"==typeof n?d(document,n):n instanceof window.NodeList||n instanceof window.HTMLCollection?n[0]:n instanceof Array?h(n[0]):u(n)&&n}function p(n,t,e){e.classList[n].apply(e.classList,t)}function g(n,t,e){return l(n,p.bind(null,t,e))}function y(n){for(var t=arguments.length,e=Array(t>1?t-1:0),r=1;r<t;r++)e[r-1]=arguments[r];return g(n,"add",e)}function v(n){if(Vn.lastIndex=0,n.indexOf("<")===-1){for(var t=null,e="",r="",i="",o=void 0;o=Vn.exec(n);)if(o[1])switch(o[0][0]){case"#":e+=' id="'+o[1]+'"';break;case".":r+=" "+o[1];break;default:t=o[1]}else o[2]?e+=" "+o[2]+(o[4]?'="'+o[4]+'"':""):i=o[5];null===t&&(t="div"),n="<"+t+(r?' class="'+r.slice(1)+'"':"")+e+">"+i+"</"+t+">"}var u=document.createElement("div");u.innerHTML=n;var c=u.firstChild;return c}function b(n,t){n.appendChild("string"==typeof t?v(t):n.appendChild(t))}function m(n,e){return n=h(n),!(!n||!n.appendChild)&&(t(e,b.bind(null,n)),n)}function w(n,t){return n=h(n),n?n[t]:null}function x(n){return i(w(n,"children"))}function C(n){return n=h(n),!!n&&"cloneNode"in n&&n.cloneNode(!0)}function E(n,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document;return n=h(n),!(!n||("string"==typeof e?n.matches(e):n===e))&&(("string"==typeof t?n.matches(t):n===t)?n:!!n.parentNode&&E(n.parentNode,t,e))}function S(n){n.parentNode&&n.parentNode.removeChild(n)}function A(n){return l(n,S)}function L(n){A(n.children)}function N(n){return l(n,L)}function M(n,t,e){var i=[];return l(t,n.bind(null,i,e)),r(i)}function O(n,t,e){("string"==typeof t&&"matches"in e&&e.matches(t)||e===t)&&n.push(e)}function j(n,t,e){n.push.apply(n,o(e,t))}function H(n,t){return n=h(n),n?n.querySelector(t):null}function T(n,t){return n=h(n),!!n&&n.getAttribute(t)}function z(n,t){return T(n,"data-"+t)}function B(n){return w(n,"innerHTML")}function _(n){if(n=h(n)){for(var t=arguments.length<=1?0:arguments.length-1,e=void 0,r=-1;++r<t&&(e=n.classList.contains(arguments.length<=r+1?void 0:arguments[r+1])););return e}}function k(n){if(n=h(n),!n)return null;for(var t=n,e=0;t=t.previousElementSibling;)++e;return e}function P(n,e,r){if(e=h(e),e&&"parentNode"in e){var i=e.parentNode;return t(r,n.bind(null,i,e)),e}}function I(n,t,e){n.insertBefore("string"==typeof e?v(e):e,t.nextElementSibling)}function D(n,t,e){n.insertBefore("string"==typeof e?v(e):e,t)}function q(n){return w(n,"nextElementSibling")}function X(n){return w(n,"parentNode")}function Y(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],e=n.parentNode;return e?(t.push(e),Y(e,t)):t}function R(n){return r(Y(h(n)))}function U(n){return w(n,"previousElementSibling")}function W(n,t,e){n[t](e)}function Z(n,e,r){r[n]&&t(e,W.bind(null,r,n))}function F(n,t,e){return l(n,Z.bind(null,t,e))}function $(n){for(var t=arguments.length,e=Array(t>1?t-1:0),r=1;r<t;r++)e[r-1]=arguments[r];return F(n,"removeAttribute",e)}function G(n){for(var t=arguments.length,e=Array(t>1?t-1:0),r=1;r<t;r++)e[r-1]=arguments[r];return g(n,"remove",e)}function J(n,t,e){n[e]="data-"+t}function V(n){for(var e=arguments.length,r=Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];return t(r,J.bind(null,r)),F(n,"removeAttribute",r)}function K(n,t,e,r){return s(r,n.bind(null,r)),l(e,t.bind(null,r))}function Q(n,t){s(n,t.setAttribute.bind(t))}function nn(n,t,e){"string"==typeof e||e instanceof Array||(n[t]=JSON.stringify(e))}function tn(n,t,e){n["data-"+t]=e}function en(n,t){var e={};return s(t,tn.bind(null,e)),et(n,e)}function rn(n,t){Object.assign(t,n)}function on(n,t){return l(n,rn.bind(null,t))}function un(n,t){return on(n,{innerHTML:t})}function cn(n){return rt.lastIndex=0,"string"==typeof n?n.search(rt)!==-1?n.split(rt):[n]:n}function fn(n,t){t.classList.toggle(n)}function ln(n,t){l(n,fn.bind(null,t))}function an(n,t,e){e.classList.toggle(n,t(e))}function sn(n,t,e){l(n,an.bind(null,e,t))}function dn(n,e,r){t(cn(e),sn.bind(null,n,r))}function hn(n){for(var e=arguments.length,r=Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];"object"===Wn(r[0])?s(r[0],dn.bind(null,n)):t(r,ln.bind(null,n))}function pn(n,t,e,r){r[n](e,t)}function gn(n,e,r,i){t(n,pn.bind(null,e,r,i))}function yn(n,e,r,i){t(cn(r),gn.bind(null,n,e,i))}function vn(n,t,e){return t+="EventListener",n=f(n),s(e,yn.bind(null,n,t)),n}function bn(n,t){return n=vn(n,"add",t),{off:function(e,r){vn(e||n,"remove",r?Zn({},r,t[r]):t)}}}function mn(n,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.body,r={};s(t,function(t,i){r[t]=function(t){var r=E(t.target,n,e);r&&i(t,r)}});var i=bn(e,r);return{unbind:function(n){i.off(e,n)}}}function wn(n,t){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=void 0,o={};return s(t,function(n,t){o[n]=function(o){t(o),i.off(e&&o.currentTarget,r&&n)}}),i=bn(n,o),{cancel:i.off}}function xn(n){"complete"===(arguments[1]||document.readyState)?n():wn(document,{DOMContentLoaded:n})}function Cn(n,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(n=f(n),n.length)return r=Fn({},r,it),t(cn(e),function(e){e=new window.CustomEvent(e,r),t(n,function(n){return n.dispatchEvent(e)})}),n}function En(n){for(var t=""+n,e=void 0;e=ot.exec(n);)t=t.replace(new RegExp(e,"g"),"-"+e[0].toLowerCase());return t}function Sn(n,t,e){ut.indexOf(En(t))===-1&&"number"==typeof e&&(n[t]+="px")}function An(n,t){t.style&&Object.assign(t.style,n)}function Ln(n,t){n[t]=""}function Nn(n){for(var e={},r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return t(i,Ln.bind(null,e)),ct(n,e)}function Mn(n){if(n=h(n),!n)return!1;var t=n.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}function On(n,t,e){return w(n,""+(e?"offset":"client")+t)}function jn(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return On(n,"Height",t)}function Hn(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return On(n,"Width",t)}function Tn(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{width:Hn(n,t),height:jn(n,t)}}function zn(n,t){if(n=h(n)){var e=window.getComputedStyle(n)[t];return e.indexOf("px")===-1?e:parseFloat(e)}}function Bn(n){return ct(n,{visibility:"hidden"})}function _n(n){var t=Mn(n);return t&&{top:t.top,left:t.left}}function kn(n){var t=_n(n);return t&&{top:t.top+window.scrollY,left:t.left+window.scrollX}}function Pn(n){return n=h(n),!!n&&{top:n.offsetTop,left:n.offsetLeft}}function In(n,t){return ct(n,{height:t})}function Dn(n,t,e){return ct(n,{width:t,height:e})}function qn(n,t){return ct(n,{width:t})}function Xn(n){return ct(n,{visibility:"visible"})}function Yn(n,e,r,i,o){var u={};return r in n?"object"===Wn(n[r])?t(e,function(t){u[""+r+t.toUpperCase()]=t in n[r]?n[r][t]:i}):t(e,function(n){u[""+r+n.toUpperCase()]=o[n]}):t(e,function(n){u[""+r+n.toUpperCase()]=i}),u}function Rn(n){var e="x"in n?n.x:0,r="y"in n?n.y:0,i="z"in n?n.z:0,o=Yn(n,["x","y","z"],"scale",1,{x:n.scale,y:n.scale,z:1}),u=o.scaleX,c=o.scaleY,f=o.scaleZ,l=Yn(n,["x","y","z"],"rotate",0,{x:0,y:0,z:n.rotate}),a=l.rotateX,s=l.rotateY,d=l.rotateZ,h=Yn(n,["x","y"],"skew",0,{x:n.skew,y:n.skew}),p=h.skewX,g=h.skewY,y=Math.cos(a),v=Math.sin(a),b=Math.cos(s),m=Math.sin(s),w=Math.cos(d),x=Math.sin(d),C=Math.tan(p),E=Math.tan(g),S=[u*b*w,x+E,-m,0,-x+C,c*y*w,v,0,m,-v,f*y*b,0,e,r,i,1];return t(S,function(n,t){S[t]=+n.toFixed(2)}),S}function Un(n,t){return ct(n,{transform:"matrix3d("+Rn(t).join(",")+")"})}var Wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Zn=function(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n},Fn=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},$n=["push","splice","unshift"],Gn=/^[.#]?[\w-_]+$/,Jn=/^[.#]?[\w-_]+$/,Vn=/[#.]?([\w-_]+)|\[([\w-_]+)(="([\w.{}:'\/'"#!@\s]+)?")?]|{([\w.{}:'\/'"#!@\s]+)}/g,Kn=M.bind(null,O),Qn=M.bind(null,j),nt=P.bind(null,I),tt=P.bind(null,D),et=K.bind(null,nn,Q),rt=/[,\s]+/g,it={bubbles:!0,cancelable:!0},ot=/[A-Z]/g,ut=["z-index","zoom","font-weight","line-height","counter-reset","counter-increment","volume","stress","pitch-range","richness","opacity"],ct=K.bind(null,Sn,An);n.forEach=t,n.forElements=l,n.forIn=s,n.getElement=h,n.getElements=f,n.isDomElement=u,n.addClass=y,n.append=m,n.children=x,n.clone=C,n.closest=E,n.createElement=v,n.empty=N,n.filter=Kn,n.find=Qn,n.findOne=H,n.getAttr=T,n.getData=z,n.getHtml=B,n.getProp=w,n.hasClass=_,n.indexInParent=k,n.insertAfter=nt,n.insertBefore=tt,n.next=q,n.parent=X,n.parents=R,n.prev=U,n.remove=A,n.removeAttr=$,n.removeClass=G,n.removeData=V,n.setAttr=et,n.setData=en,n.setHtml=un,n.setProp=on,n.toggleClass=hn,n.bind=mn,n.on=bn,n.once=wn,n.ready=xn,n.trigger=Cn,n.clearStyle=Nn,n.clientRect=Mn,n.getHeight=jn,n.getSize=Tn,n.getStyle=zn,n.getWidth=Hn,n.hide=Bn,n.offset=kn,n.position=Pn,n.screenPosition=_n,n.setHeight=In,n.setSize=Dn,n.setStyle=ct,n.setWidth=qn,n.show=Xn,n.transform=Un,Object.defineProperty(n,"__esModule",{value:!0})});