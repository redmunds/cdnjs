/*!
 * Chirashi.js v5.1.2
 * (c) 2016 Alex Toudic
 * Released under the MIT License.
 */
!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):n.Chirashi=t()}(this,function(){"use strict";function n(n,t){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!n)return[];if(n instanceof Array||n instanceof window.NodeList||n instanceof window.HTMLCollection||(n=[n]),e)for(var r=-1,o=n.length;++r<o;)t(n[r],r);else for(var i=n.length;i--;)t(n[i],i);return n}function t(t){return t.chrshPush=function(n){return this.push.apply(this,hn(r(n))),this["_chrsh-valid"]=!0,this},n(pn,function(n){t[n]=function(){return this["_chrsh-valid"]=!1,Array.prototype[n].apply(this,arguments)}}),t["_chrsh-valid"]=!0,t}function e(n){return n instanceof window.HTMLElement||n===window||n===document||n instanceof window.SVGElement||n instanceof window.Text}function r(o){if(o&&o["_chrsh-valid"])return o;var i=void 0;return"string"==typeof o?i=[].concat(hn(document.querySelectorAll(o))):o instanceof Array?!function(){var t=[];n(o,function(n){t.push.apply(t,hn(r(n)))}),i=t}():i=o instanceof window.NodeList||o instanceof window.HTMLCollection?[].concat(hn(o)):e(o)?[o]:[],t(i)}function o(t,e){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n(r(t),e,o)}function i(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("object"===("undefined"==typeof t?"undefined":sn(t)))return n(Object.keys(t),function(n){return e(n,t[n])},r),t}function u(n){return"string"==typeof n?document.querySelector(n):n instanceof Array||n instanceof window.NodeList||n instanceof window.HTMLCollection?u(n[0]):e(n)&&n}function c(n,t){var e="string"==typeof n?n.split(/[,\s]+/g):n;return t?e.map(function(n){return""+t+n}):e}function f(n,t,e){return e=c(e),o(n,function(n){var r;n.classList&&(r=n.classList)[t].apply(r,hn(e))})}function a(n,t){return f(n,"add",t)}function s(n){if(n.indexOf("<")===-1){for(var t=null,e="",r="",o=void 0;o=vn.exec(n);)"undefined"!=typeof o[5]?e+=" "+o[5]+("undefined"!=typeof o[7]?"="+o[7]:""):"."===o[2]?r+=" "+o[3]:"#"===o[2]?e+=' id="'+o[3]+'"':t=o[3];null===t&&(t="div"),n="<"+t+(r?' class="'+r.slice(1)+'"':"")+e+"></"+t+">"}var i=document.createElement("div");i.innerHTML=n;var u=i.firstChild;return u}function l(t,r){return t=u(t),!(!t||!t.appendChild)&&(n(r,function(n,r){"string"==typeof n?t.appendChild(s(n)):e(n)&&t.appendChild(n)},!0),t)}function d(n,t){return n=u(n),n?n[t]:null}function h(n){var e=d(n,"children");return!!e&&t([].concat(hn(e)))}function p(n){return n=u(n),!!n&&"cloneNode"in n&&n.cloneNode(!0)}function v(n,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document;return n=u(n),!(!n||("string"==typeof e?n.matches(e):n===e))&&(("string"==typeof t?n.matches(t):n===t)?n:!!n.parentNode&&v(n.parentNode,t,e))}function y(n,e){var r=[];return o(n,function(n){("string"==typeof e&&"matches"in n&&n.matches(e)||n===e)&&r.push(n)}),t(r)}function g(n,e){var r=[];return o(n,function(n){"querySelectorAll"in n&&r.push.apply(r,hn(n.querySelectorAll(e)))}),t(r)}function m(n,t){return n=u(n),n&&"querySelector"in n?n.querySelector(t):null}function w(n,t){return n=u(n),!!n&&n.getAttribute(t)}function b(n,t){return w(n,"data-"+t)}function x(n){return d(n,"innerHTML")}function S(n,t){if(n=u(n),n&&n.classList){t=c(t);for(var e=t.length,r=void 0;e--&&(r=n.classList.contains(t[e])););return r}}function A(n){if(n=u(n),!n)return null;for(var t=n,e=0;t=t.previousElementSibling;)++e;return e}function C(t,r){if(t=u(t),t&&"parentNode"in t){var o=t.parentNode;return n(r,function(n,r){"string"==typeof n&&(n=s(n)),e(n)&&o.insertBefore(n,t.nextElementSibling)},!0),t}}function L(t,r){if(t=u(t),t&&"parentNode"in t){var o=t.parentNode;return n(r,function(n,r){"string"==typeof n&&(n=s(n)),e(n)&&o.insertBefore(n,t)},!0),t}}function E(n){return d(n,"nextElementSibling")}function M(n){return d(n,"parentNode")}function N(n){return d(n,"previousElementSibling")}function k(n){return o(n,function(n){n.parentNode&&n.parentNode.removeChild(n)})}function j(t,e,r){return o(t,function(t){t[e]&&n(r,function(n){t[e](n)})})}function H(n,t){return j(n,"removeAttribute",c(t))}function O(n,t){return f(n,"remove",t)}function z(n,t){return j(n,"removeAttribute",c(t,"data-"))}function _(n,t){return i(t,function(n,e){"string"==typeof e||e instanceof Array||(t[n]=JSON.stringify(e))}),o(n,function(n){i(t,function(t,e){n.setAttribute(t,e)})})}function T(n,t){var e={};return i(t,function(n,t){e["data-"+n]=t}),_(n,e)}function P(n,t){return o(n,function(n){return Object.assign(n,t)})}function q(n,t){return P(n,{innerHTML:t})}function I(t,e){if(!(e instanceof Array||"string"==typeof e))return o(t,function(t){t.classList&&i(e,function(e,r){var o=r(t);n(c(e),function(n){t.classList.toggle(n,o)})})});var r=function(){var r=c(e);return{v:o(t,function(t){t.classList&&n(r,function(n){t.classList.toggle(n)})})}}();return"object"===("undefined"==typeof r?"undefined":sn(r))?r.v:void 0}function B(t,e,r){return e+="EventListener",o(t,function(t){i(r,function(r,o){n(c(r),function(n){return t[e](n,o)})})})}function D(n,t){return n=B(n,"add",t),{off:function(e,r){B(e||n,"remove",r?ln({},r,t[r]):t)}}}function R(n,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.body,r={};i(t,function(t,o){r[t]=function(t){var r=v(t.target,n,e);r&&o(t,r)}});var o=D(e,r);return{unbind:function(n){o.off(e,n)}}}function X(n,t){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=void 0,u={};return i(t,function(n,t){u[n]=function(i){t(i),o.off(e&&i.currentTarget,r&&n)}}),o=D(n,u),{cancel:o.off}}function Y(n){"complete"===document.readyState?n():X(document,{DOMContentLoaded:n})}function U(t,e){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t=r(t),t.length)return o=dn({},o,yn),n(c(e),function(e){e=new window.CustomEvent(e,o),n(t,function(n){return n.dispatchEvent(e)})}),t}function W(n,t){return i(t,function(n,e){gn.indexOf(n)===-1&&"number"==typeof e&&(t[n]+="px")}),o(n,function(n){n.style&&Object.assign(n.style,t)})}function F(t,e){e=c(e);var r={};return n(e,function(n){r[n]=""}),W(t,r)}function Z(n,t,e){return d(n,""+(e?"offset":"client")+t)}function G(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Z(n,"Height",t)}function J(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Z(n,"Width",t)}function V(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{width:J(n,t),height:G(n,t)}}function K(n,t){if(n=u(n)){var e=window.getComputedStyle(n)[t];return e.indexOf("px")===-1?e:parseFloat(e)}}function Q(n){return W(n,{visibility:"hidden"})}function $(n){if(n=u(n),!n)return!1;var t=n.getBoundingClientRect();return{top:t.top+window.scrollY,left:t.left+window.scrollX}}function nn(n){return n=u(n),!!n&&{top:n.offsetTop,left:n.offsetLeft}}function tn(n){return n=u(n),!!n&&n.getBoundingClientRect()}function en(n,t){return W(n,{height:t})}function rn(n,t,e){return W(n,{width:t,height:e})}function on(n,t){return W(n,{width:t})}function un(n){return W(n,{visibility:"visible"})}function cn(t,e,r,o,i){var u={};return r in t?"object"===sn(t[r])?n(e,function(n){u[""+r+n.toUpperCase()]=n in t[r]?t[r][n]:o}):n(e,function(n){u[""+r+n.toUpperCase()]=i[n]}):n(e,function(n){u[""+r+n.toUpperCase()]=o}),u}function fn(t){var e="x"in t?t.x:0,r="y"in t?t.y:0,o="z"in t?t.z:0,i=cn(t,["x","y","z"],"scale",1,{x:t.scale,y:t.scale,z:1}),u=i.scaleX,c=i.scaleY,f=i.scaleZ,a=cn(t,["x","y","z"],"rotate",0,{x:0,y:0,z:t.rotate}),s=a.rotateX,l=a.rotateY,d=a.rotateZ,h=cn(t,["x","y"],"skew",0,{x:t.skew,y:t.skew}),p=h.skewX,v=h.skewY,y=Math.cos(s),g=Math.sin(s),m=Math.cos(l),w=Math.sin(l),b=Math.cos(d),x=Math.sin(d),S=Math.tan(p),A=Math.tan(v),C=[u*m*b,x+A,-w,0,-x+S,c*y*b,g,0,w,-g,f*y*m,0,e,r,o,1];return n(C,function(n,t){C[t]=+n.toFixed(2)}),C}function an(n,t){return W(n,{transform:"matrix3d("+fn(t).join(",")+")"})}var sn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ln=(function(){function n(n){this.value=n}function t(t){function e(n,t){return new Promise(function(e,o){var c={key:n,arg:t,resolve:e,reject:o,next:null};u?u=u.next=c:(i=u=c,r(n,t))})}function r(e,i){try{var u=t[e](i),c=u.value;c instanceof n?Promise.resolve(c.value).then(function(n){r("next",n)},function(n){r("throw",n)}):o(u.done?"return":"normal",u.value)}catch(f){o("throw",f)}}function o(n,t){switch(n){case"return":i.resolve({value:t,done:!0});break;case"throw":i.reject(t);break;default:i.resolve({value:t,done:!1})}i=i.next,i?r(i.key,i.arg):u=null}var i,u;this._invoke=e,"function"!=typeof t["return"]&&(this["return"]=void 0)}return"function"==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(n){return this._invoke("next",n)},t.prototype["throw"]=function(n){return this._invoke("throw",n)},t.prototype["return"]=function(n){return this._invoke("return",n)},{wrap:function(n){return function(){return new t(n.apply(this,arguments))}},await:function(t){return new n(t)}}}(),function(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}),dn=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},hn=function(n){if(Array.isArray(n)){for(var t=0,e=Array(n.length);t<n.length;t++)e[t]=n[t];return e}return Array.from(n)},pn=["push","splice","unshift"],vn=/(([#\.]?)([\w-_]+))|(\[([\w-_]+)(=([\w-_\.{}:'"]+))?\])/g,yn={bubbles:!0,cancelable:!0},gn=["zIndex","z-index","zoom","font-weight","lineHeight","line-height","counterReset","counter-reset","counterIncrement","counter-increment","volume","stress","pitchRange","pitch-range","richness","opacity"],mn={forEach:n,forElements:o,forIn:i,getElement:u,getElements:r,isDomElement:e,addClass:a,append:l,children:h,clone:p,closest:v,createElement:s,filter:y,find:g,findOne:m,getAttr:w,getData:b,getHtml:x,getProp:d,hasClass:S,indexInParent:A,insertAfter:C,insertBefore:L,next:E,parent:M,prev:N,remove:k,removeAttr:H,removeClass:O,removeData:z,setAttr:_,setData:T,setHtml:q,setProp:P,toggleClass:I,bind:R,on:D,once:X,ready:Y,trigger:U,clearStyle:F,getHeight:G,getSize:V,getStyle:K,getWidth:J,hide:Q,offset:$,position:nn,screenPosition:tn,setHeight:en,setSize:rn,setStyle:W,setWidth:on,show:un,transform:an};return mn});