/*! sifter.js | https://github.com/brianreavis/sifter.js | Apache License (v2) */
!function(t,r){if(typeof define==="function"&&define.amd){define(r)}else if(typeof exports==="object"){module.exports=r()}else{t.Sifter=r()}}(this,function(){var t=function(t,r){this.items=t;this.settings=r||{diacritics:true}};t.prototype.tokenize=function(t){t=r(String(t||"").toLowerCase());if(!t||!t.length)return[];var n,o,s,u;var f=[];var a=t.split(/ +/);for(n=0,o=a.length;n<o;n++){s=e(a[n]);if(this.settings.diacritics){for(u in i){if(i.hasOwnProperty(u)){s=s.replace(new RegExp(u,"g"),i[u])}}}f.push({string:a[n],regex:new RegExp(s,"i")})}return f};t.prototype.iterator=function(t,r){var e;if(n(t)){e=Array.prototype.forEach||function(t){for(var r=0,e=this.length;r<e;r++){t(this[r],r,this)}}}else{e=function(t){for(var r in this){if(this.hasOwnProperty(r)){t(this[r],r,this)}}}}e.apply(t,[r])};t.prototype.getScoreFunction=function(t){var r=this;var e=t.tokens;var n=function(){if(!e.length){return function(){return 0}}else if(e.length===1){return function(t){var r,n;t=String(t||"").toLowerCase();n=t.search(e[0].regex);if(n===-1)return 0;r=e[0].string.length/t.length;if(n===0)r+=.5;return r}}else{return function(t){var r,n,i,o;t=String(t||"").toLowerCase();r=0;for(i=0,o=e.length;i<o;i++){n=t.search(e[i].regex);if(n===-1)continue;if(n===0)r+=.5;r+=e[i].string.length/t.length}return r/e.length}}}();var i=function(){var r=t.options.fields;if(!r||!r.length){return function(){return 0}}else if(r.length===1){var e=r[0];return function(t){if(!t.hasOwnProperty(e))return 0;return n(t[e])}}else{return function(t){var e=0;var i=0;for(var o=0,s=r.length;o<s;o++){if(t.hasOwnProperty(r[o])){i+=n(t[r[o]]);e++}}return i/e}}}();return i};t.prototype.search=function(t,r){var e=this,n,i,o,s;r=r||{};t=String(t||"").toLowerCase();o={options:r,query:t,tokens:e.tokenize(t),total:0,items:[]};s=r.score||e.getScoreFunction(o);if(t.length){e.iterator(e.items,function(t,r){i=s(t);if(i>0){o.items.push({score:i,id:r})}});o.items.sort(function(t,r){return r.score-t.score})}else{e.iterator(e.items,function(t,r){o.items.push({score:1,id:r})});if(r.sort){o.items.sort(function(){var t=r.sort;var n=r.direction==="desc"?-1:1;return function(r,i){r=r&&String(e.items[r.id][t]||"").toLowerCase();i=i&&String(e.items[i.id][t]||"").toLowerCase();if(r>i)return 1*n;if(i>r)return-1*n;return 0}}())}}o.total=o.items.length;if(typeof r.limit==="number"){o.items=o.items.slice(0,r.limit)}return o};var r=function(t){return(t+"").replace(/^\s+|\s+$|/g,"")};var e=function(t){return(t+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")};var n=Array.isArray||$&&$.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};var i={a:"[a\xc0\xc1\xc2\xc3\xc4\xc5\xe0\xe1\xe2\xe3\xe4\xe5]",c:"[c\xc7\xe7]",e:"[e\xc8\xc9\xca\xcb\xe8\xe9\xea\xeb]",i:"[i\xcc\xcd\xce\xcf\xec\xed\xee\xef]",n:"[n\xd1\xf1]",o:"[o\xd2\xd3\xd4\xd5\xd5\xd6\xd8\xf2\xf3\xf4\xf5\xf6\xf8]",s:"[s\u0160\u0161]",u:"[u\xd9\xda\xdb\xdc\xf9\xfa\xfb\xfc]",y:"[y\u0178\xff\xfd]",z:"[z\u017d\u017e]"};return t});