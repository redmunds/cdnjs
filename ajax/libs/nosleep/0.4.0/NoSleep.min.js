// NoSleep.min.js v0.4.0 - git.io/vfn01 - Rich Tibbett - MIT license
!function(e){function i(e,i,o){var t=document.createElement("source");t.src="./resources/blank."+i,t.type="video/"+o,e.appendChild(t)}var o={Android:/Android/gi.test(navigator.userAgent),iOS:/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent)},t=function(){return o.iOS?this.noSleepTimer=null:o.Android&&(this.noSleepVideo=document.createElement("video"),this.noSleepVideo.setAttribute("loop","")),this};t.prototype.enable=function(e){o.iOS?(this.disable(),this.noSleepTimer=window.setInterval(function(){window.location=window.location,window.setTimeout(window.stop,0)},e||15e3)):o.Android&&(this.videoSourcesLoaded||(i(this.noSleepVideo,"webm","webm"),i(this.noSleepVideo,"mp4","mp4"),i(this.noSleepVideo,"ogv","ogg"),this.videoSourcesLoaded=!0),this.noSleepVideo.play())},t.prototype.disable=function(){o.iOS?this.noSleepTimer&&(window.clearInterval(this.noSleepTimer),this.noSleepTimer=null):o.Android&&this.noSleepVideo.pause()},e.NoSleep=t}(this);
