!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Client=t():(e.airbrakeJs=e.airbrakeJs||{},e.airbrakeJs.Client=t())}(this,function(){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var r={};return t.m=e,t.c=r,t.i=function(e){return e},t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=15)}([function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){var n,o,i;o=r(12),i=function(e,t){var r,n;null==t&&(t=1e3),r={};for(n in e)r[n]=o(e[n],t=t);return r},n=function(e,t,r){var n,o;for(null==t&&(t=1e3),null==r&&(r=64e3);;){if(e.params=i(e.params,t=t),e.environment=i(e.environment,t=t),e.session=i(e.session,t=t),o=JSON.stringify(e),o.length<r)return o;if(0===t)break;t=Math.floor(t/2)}throw n=new Error("airbrake-js: cannot jsonify notice (length="+o.length+" maxLength="+r+")"),n.params={json:o.slice(0,+Math.floor(t/2)+1||9e9)+"..."},n},e.exports=n},function(e,t){var r,n;n=/^\[(\$.+)\]\s(.+)$/,r=function(e){var t,r;return t=e.errors[0],null!=t.type&&""!==t.type&&"Error"!==t.type?e:null==t.message?e:(r=t.message.match(n),r&&(t.type=r[1],t.message=r[2]),e)},e.exports=r},function(e,t){var r,n,o=[].indexOf||function(e){for(var t=0,r=this.length;t<r;t++)if(t in this&&this[t]===e)return t;return-1};r=["Script error","Script error."],n=function(e){var t;return t=e.errors[0].message,o.call(r,t)>=0?null:e},e.exports=n},function(e,t){var r,n;n=/^Uncaught\s(.+?):\s(.+)$/,r=function(e){var t,r;return t=e.errors[0],null!=t.type&&""!==t.type&&"Error"!==t.type?e:null==t.message?e:(r=t.message.match(n),r&&(t.type=r[1],t.message=r[2]),e)},e.exports=r},function(e,t){var r;null==(r=Array.prototype).indexOf&&(r.indexOf=function(e,t){var r,n,o,i;for(t=t||0,r=n=o=t,i=this.length;o<=i?n<i:n>i;r=o<=i?++n:--n)if(this[r]===e)return r;return-1})},function(e,t){var r;r=function(){var e,t,r,n,o,i;for(i=Array.prototype.slice.call(arguments),e=i.shift()||{},t=0,n=i.length;t<n;t++){o=i[t];for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},e.exports=r},function(e,t){var r;r=function(){function e(e){var t,r;this._onResolved=[],this._onRejected=[],r=function(e){return function(){return e.resolve.apply(e,arguments)}}(this),t=function(e){return function(){return e.reject.apply(e,arguments)}}(this),null!=e&&e(r,t)}return e.prototype.then=function(e,t){return e&&(null!=this._resolvedWith&&e(this._resolvedWith),this._onResolved.push(e)),t&&(null!=this._rejectedWith&&t(this._resolvedWith),this._onRejected.push(t)),this},e.prototype.catch=function(e){return null!=this._rejectedWith&&e(this._rejectedWith),this._onRejected.push(e),this},e.prototype.resolve=function(){var e,t,r,n;for(this._resolvedWith=arguments,n=this._onResolved,t=0,r=n.length;t<r;t++)e=n[t],e.apply(this,this._resolvedWith);return this},e.prototype.reject=function(){var e,t,r,n;for(this._rejectedWith=arguments,n=this._onRejected,t=0,r=n.length;t<r;t++)e=n[t],e.apply(this,this._rejectedWith);return this},e}(),e.exports=r},function(e,t,r){var n,o;n=r(13),o=function(e,t){var r,o,i,s,a,c,u;for(i=n.parse(e),r=[],s=0,a=i.length;s<a;s++)o=i[s],r.push({function:o.functionName||"",file:o.fileName,line:o.lineNumber,column:o.columnNumber});return c=null!=e.message?String(e.message):String(e),u=null!=e.name&&""!==e.name?e.name:"",""===u&&""===c&&0===r.length?void("undefined"!=typeof console&&null!==console&&"function"==typeof console.warn&&console.warn("airbrake: can't process error",e)):t("stacktracejs",{type:u,message:c,backtrace:r})},e.exports=o},function(e,t,r){(function(t){var n,o;n=r(1),o=function(e,r,o){var i,s,a;return a=r.host+"/api/v3/projects/"+r.projectId+"/create-notice?key="+r.projectKey,i=n(e),s=new t.XMLHttpRequest,s.open("POST",a,!0),s.send(i),s.onreadystatechange=function(){var t;if(4===s.readyState&&200===s.status)return t=JSON.parse(s.responseText),e.id=t.id,o.resolve(e)}},e.exports=o}).call(t,r(0))},function(e,t,r){(function(t){var n,o,i;o=r(1),n=0,i=function(e,r,i){var s,a,c,u,p,l,f;return n++,s="airbrakeCb"+String(n),t[s]=function(r){var n;e.id=r.id,i.resolve(e);try{return delete t[s]}catch(e){return n=e,t[s]=void 0}},u=encodeURIComponent(o(e)),f=r.host+"/api/v3/projects/"+r.projectId+"/create-notice?key="+r.projectKey+"&callback="+s+"&body="+u,a=t.document,c=a.getElementsByTagName("head")[0],l=a.createElement("script"),l.src=f,p=function(){return c.removeChild(l)},l.onload=p,l.onerror=p,c.appendChild(l)},e.exports=i}).call(t,r(0))},function(e,t,r){(function(t){var n,o;n=r(1),o=function(e,r,o){var i,s,a;return a=r.host+"/api/v3/projects/"+r.projectId+"/notices?key="+r.projectKey,i=n(e),s=new t.XMLHttpRequest,s.open("POST",a,!0),s.setRequestHeader("Content-Type","application/json"),s.send(i),s.onreadystatechange=function(){var t;if(4===s.readyState&&201===s.status)return t=JSON.parse(s.responseText),e.id=t.id,o.resolve(e)}},e.exports=o}).call(t,r(0))},function(e,t){var r,n;r=function(e,t){var r;try{return e[t]}catch(e){return void(r=e)}},n=function(e,t,n){var o,i,s,a,c;return null==t&&(t=1e3),null==n&&(n=5),a=0,s=[],c=[],i=function(e){var t,n,o,i,a;for(n=c.indexOf(e),i=[s[n]],t=o=a=n;a<=0?o<=0:o>=0;t=a<=0?++o:--o)c[t]&&r(c[t],i[0])===e&&(e=c[t],i.unshift(s[t]));return"~"+i.join(".")},(o=function(e,u,p){var l,f,h,v,d,m;if(null==u&&(u=""),null==p&&(p=0),a++,a>t)return"[Truncated]";if(null===e||void 0===e)return e;switch(typeof e){case"boolean":case"number":case"string":case"function":return e;case"object":break;default:return String(e)}if(e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp)return e;if(c.indexOf(e)>=0)return"[Circular "+i(e)+"]";if(p++,p>n)return"[Truncated]";if(s.push(u),c.push(e),a--,"[object Array]"===Object.prototype.toString.apply(e)){for(l=[],h=v=0,d=e.length;v<d&&(f=e[h],a++,!(a>=t));h=++v)l.push(o(f,u=h,p));return l}l={};for(u in e)if(Object.prototype.hasOwnProperty.call(e,u)){if(a++,a>=t)break;m=r(e,u),void 0!==m&&(l[u]=o(m,u=u,p))}return l})(e)},e.exports=n},function(e,t,r){var n,o,i;!function(s,a){"use strict";o=[r(14)],n=a,i="function"==typeof n?n.apply(t,o):n,!(void 0!==i&&(e.exports=i))}(this,function(e){"use strict";var t=/(^|@)\S+\:\d+/,r=/^\s*at .*(\S+\:\d+|\(native\))/m,n=/^(eval@)?(\[native code\])?$/;return{parse:function(e){if("undefined"!=typeof e.stacktrace||"undefined"!=typeof e["opera#sourceloc"])return this.parseOpera(e);if(e.stack&&e.stack.match(r))return this.parseV8OrIE(e);if(e.stack)return this.parseFFOrSafari(e);throw new Error("Cannot parse given Error object")},extractLocation:function(e){if(e.indexOf(":")===-1)return[e];var t=/(.+?)(?:\:(\d+))?(?:\:(\d+))?$/,r=t.exec(e.replace(/[\(\)]/g,""));return[r[1],r[2]||void 0,r[3]||void 0]},parseV8OrIE:function(t){var n=t.stack.split("\n").filter(function(e){return!!e.match(r)},this);return n.map(function(t){t.indexOf("(eval ")>-1&&(t=t.replace(/eval code/g,"eval").replace(/(\(eval at [^\()]*)|(\)\,.*$)/g,""));var r=t.replace(/^\s+/,"").replace(/\(eval code/g,"(").split(/\s+/).slice(1),n=this.extractLocation(r.pop()),o=r.join(" ")||void 0,i=["eval","<anonymous>"].indexOf(n[0])>-1?void 0:n[0];return new e({functionName:o,fileName:i,lineNumber:n[1],columnNumber:n[2],source:t})},this)},parseFFOrSafari:function(t){var r=t.stack.split("\n").filter(function(e){return!e.match(n)},this);return r.map(function(t){if(t.indexOf(" > eval")>-1&&(t=t.replace(/ line (\d+)(?: > eval line \d+)* > eval\:\d+\:\d+/g,":$1")),t.indexOf("@")===-1&&t.indexOf(":")===-1)return new e({functionName:t});var r=t.split("@"),n=this.extractLocation(r.pop()),o=r.join("@")||void 0;return new e({functionName:o,fileName:n[0],lineNumber:n[1],columnNumber:n[2],source:t})},this)},parseOpera:function(e){return!e.stacktrace||e.message.indexOf("\n")>-1&&e.message.split("\n").length>e.stacktrace.split("\n").length?this.parseOpera9(e):e.stack?this.parseOpera11(e):this.parseOpera10(e)},parseOpera9:function(t){for(var r=/Line (\d+).*script (?:in )?(\S+)/i,n=t.message.split("\n"),o=[],i=2,s=n.length;i<s;i+=2){var a=r.exec(n[i]);a&&o.push(new e({fileName:a[2],lineNumber:a[1],source:n[i]}))}return o},parseOpera10:function(t){for(var r=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,n=t.stacktrace.split("\n"),o=[],i=0,s=n.length;i<s;i+=2){var a=r.exec(n[i]);a&&o.push(new e({functionName:a[3]||void 0,fileName:a[2],lineNumber:a[1],source:n[i]}))}return o},parseOpera11:function(r){var n=r.stack.split("\n").filter(function(e){return!!e.match(t)&&!e.match(/^Error created at/)},this);return n.map(function(t){var r,n=t.split("@"),o=this.extractLocation(n.pop()),i=n.shift()||"",s=i.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^\)]*\)/g,"")||void 0;i.match(/\(([^\)]*)\)/)&&(r=i.replace(/^[^\(]+\(([^\)]*)\)$/,"$1"));var a=void 0===r||"[arguments not available]"===r?void 0:r.split(",");return new e({functionName:s,args:a,fileName:o[0],lineNumber:o[1],columnNumber:o[2],source:t})},this)}}})},function(e,t,r){var n,o,i;!function(r,s){"use strict";o=[],n=s,i="function"==typeof n?n.apply(t,o):n,!(void 0!==i&&(e.exports=i))}(this,function(){"use strict";function e(e){return!isNaN(parseFloat(e))&&isFinite(e)}function t(e){return e[0].toUpperCase()+e.substring(1)}function r(e){return function(){return this[e]}}function n(e){if(e instanceof Object)for(var r=o.concat(i.concat(s.concat(a))),n=0;n<r.length;n++)e.hasOwnProperty(r[n])&&void 0!==e[r[n]]&&this["set"+t(r[n])](e[r[n]])}var o=["isConstructor","isEval","isNative","isToplevel"],i=["columnNumber","lineNumber"],s=["fileName","functionName","source"],a=["args"];n.prototype={getArgs:function(){return this.args},setArgs:function(e){if("[object Array]"!==Object.prototype.toString.call(e))throw new TypeError("Args must be an Array");this.args=e},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(e){if(e instanceof n)this.evalOrigin=e;else{if(!(e instanceof Object))throw new TypeError("Eval Origin must be an Object or StackFrame");this.evalOrigin=new n(e)}},toString:function(){var t=this.getFunctionName()||"{anonymous}",r="("+(this.getArgs()||[]).join(",")+")",n=this.getFileName()?"@"+this.getFileName():"",o=e(this.getLineNumber())?":"+this.getLineNumber():"",i=e(this.getColumnNumber())?":"+this.getColumnNumber():"";return t+r+n+o+i}};for(var c=0;c<o.length;c++)n.prototype["get"+t(o[c])]=r(o[c]),n.prototype["set"+t(o[c])]=function(e){return function(t){this[e]=Boolean(t)}}(o[c]);for(var u=0;u<i.length;u++)n.prototype["get"+t(i[u])]=r(i[u]),n.prototype["set"+t(i[u])]=function(t){return function(r){if(!e(r))throw new TypeError(t+" must be a Number");this[t]=Number(r)}}(i[u]);for(var p=0;p<s.length;p++)n.prototype["get"+t(s[p])]=r(s[p]),n.prototype["set"+t(s[p])]=function(e){return function(t){this[e]=String(t)}}(s[p]);return n})},function(e,t,r){(function(t){var n,o,i,s;r(5),s=r(6),o=r(7),i=function(e){return function(t,r,n,o,i){return i?e.notify(i):e.notify({error:{message:t,fileName:r,lineNumber:n,columnNumber:o||0}})}},n=function(){function e(e){var n;null==e&&(e={}),this._projectId=e.projectId||0,this._projectKey=e.projectKey||"",this._host=e.host||"https://api.airbrake.io",this._processor=null,this._reporters=[],this._filters=[],void 0!==e.processor?this._processor=e.processor:this._processor=r(8),void 0!==e.reporter?this.addReporter(e.reporter):(n=null==e.host&&"withCredentials"in new t.XMLHttpRequest?"compat":null!=t.document?"jsonp":"xhr",this.addReporter(n)),this.addFilter(r(3)),this.addFilter(r(4)),this.addFilter(r(2)),this.onerror=i(this),null==t.onerror&&e.onerror!==!1&&(t.onerror=this.onerror)}return e.prototype.setProject=function(e,t){return this._projectId=e,this._projectKey=t},e.prototype.setHost=function(e){return this._host=e},e.prototype.addReporter=function(e){switch(e){case"compat":e=r(9);break;case"xhr":e=r(11);break;case"jsonp":e=r(10)}return this._reporters.push(e)},e.prototype.addFilter=function(e){return this._filters.push(e)},e.prototype.notify=function(e){var r,n,i;return r={language:"JavaScript",sourceMapEnabled:!0},(null!=(i=t.navigator)?i.userAgent:void 0)&&(r.userAgent=t.navigator.userAgent),t.location&&(r.url=String(t.location),r.rootDirectory=t.location.protocol+"//"+t.location.host),n=new o,this._processor(e.error||e,function(t){return function(o,i){var a,c,u,p,l,f,h,v,d,m;for(f={errors:[i],context:s(r,e.context),params:e.params||{},environment:e.environment||{},session:e.session||{}},f.context.notifier={name:"airbrake-js",version:"0.6.0-alpha.3",url:"https://github.com/airbrake/airbrake-js"},v=t._filters,c=0,p=v.length;c<p;c++)if(a=v[c],f=a(f),null===f||f===!1)return;for(h={projectId:t._projectId,projectKey:t._projectKey,host:t._host},d=t._reporters,u=0,l=d.length;u<l;u++)(m=d[u])(f,h,n)}}(this)),n},e.prototype._wrapArguments=function(e){var t,r,n,o;for(r=n=0,o=e.length;n<o;r=++n)t=e[r],"function"==typeof t&&(e[r]=this.wrap(t));return e},e.prototype.wrap=function(e){var t,r,n;if(e.__airbrake__)return e;n=this,t=function(){var t,r;t=n._wrapArguments(arguments);try{return e.apply(this,t)}catch(e){r=e,t=Array.prototype.slice.call(arguments),n.notify({error:r,params:{arguments:t}})}};for(r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t.__airbrake__=!0,t.__inner__=e,t},e}(),e.exports=n}).call(t,r(0))}])});
//# sourceMappingURL=client.min.js.map