{"version":3,"sources":["client.js"],"names":["_typeof","Symbol","iterator","obj","constructor","prototype","root","factory","exports","module","define","amd","nes","window","global","version","ignore","parse","message","next","error","JSON","err","NesError","stringify","string","nextTick","callback","setTimeout","type","Error","errorCodes","1000","1001","1002","1003","1004","1005","1006","1007","1008","1009","1010","1011","1015","Client","url","options","this","_url","_settings","_heartbeatTimeout","_ws","_reconnection","_reconnectionTimer","_ids","_requests","_subscriptions","_heartbeat","_packets","_disconnectListeners","_disconnectRequested","onError","console","onConnect","onDisconnect","onUpdate","id","WebSocket","connect","arguments","reconnect","wait","delay","maxDelay","retries","Infinity","settings","auth","timeout","_connect","initial","_this","ws","clearTimeout","finalize","cb","timeoutHandler","_cleanup","_reconnect","onopen","_hello","path","_disconnect","onerror","event","onclose","wasRequested","log","code","explanation","reason","wasClean","willReconnect","onmessage","_onMessage","overrideReconnectionAuth","disconnect","isInternal","requested","push","readyState","OPEN","CONNECTING","close","ids","Object","keys","i","length","request","listeners","forEach","listener","_this2","Math","min","method","headers","payload","_send","track","_this3","encoded","send","record","subs","subscriptions","subscribe","handler","_this4","indexOf","unsubscribe","sync","pos","splice","errIgnore","_this5","_beat","data","prefix","slice","join","update","statusCode","socket","heartbeat","interval","handlers","undefined","flags","revoked","_this6"],"mappings":"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","file":"client.min.js"}