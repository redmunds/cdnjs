{"version":3,"sources":["client.js"],"names":["_typeof","Symbol","iterator","obj","constructor","root","factory","exports","module","define","amd","nes","window","global","version","ignore","parse","message","next","error","JSON","err","NesError","stringify","string","nextTick","callback","setTimeout","type","Error","errorCodes",1000,1001,1002,1003,1004,1005,1006,1007,1008,1009,1010,1011,1015,"Client","url","options","this","_url","_settings","_heartbeatTimeout","_ws","_reconnection","_reconnectionTimer","_ids","_requests","_subscriptions","_heartbeat","_packets","_disconnectListeners","_disconnectRequested","onError","console","onConnect","onDisconnect","onUpdate","id","WebSocket","prototype","connect","arguments","reconnect","wait","delay","maxDelay","retries","Infinity","settings","auth","timeout","_connect","initial","_this","ws","clearTimeout","finalize","cb","timeoutHandler","_cleanup","_reconnect","onopen","_hello","path","_disconnect","onerror","event","onclose","wasRequested","log","code","explanation","reason","wasClean","willReconnect","onmessage","_onMessage","overrideReconnectionAuth","disconnect","isInternal","requested","push","readyState","OPEN","CONNECTING","close","ids","Object","keys","i","length","request","listeners","forEach","listener","_this2","Math","min","method","headers","payload","_send","track","_this3","encoded","send","record","subs","subscriptions","subscribe","handler","_this4","indexOf","unsubscribe","sync","pos","splice","errIgnore","_this5","_beat","data","prefix","slice","join","update","statusCode","socket","heartbeat","interval","handlers","undefined","flags","revoked","_this6"],"mappings":"AAAA,YAQA,IAAIA,SAA4B,kBAAXC,SAAoD,gBAApBA,QAAOC,SAAwB,SAAUC,GAAO,aAAcA,IAAS,SAAUA,GAAO,MAAOA,IAAyB,kBAAXF,SAAyBE,EAAIC,cAAgBH,OAAS,eAAkBE,KAE1O,SAAWE,EAAMC,GAI6D,YAAlD,mBAAZC,SAA0B,YAAcP,QAAQO,WAA8F,YAAjD,mBAAXC,QAAyB,YAAcR,QAAQQ,SACzIA,OAAOD,QAAUD,IACQ,kBAAXG,SAAyBA,OAAOC,IAC9CD,OAAOH,GACsE,YAAlD,mBAAZC,SAA0B,YAAcP,QAAQO,UAC/DA,QAAQI,IAAML,IAEdD,EAAKM,IAAML,KAI2B,mBAAXM,QAAyBA,OAASC,OAAgC,WAIjG,GAAIC,GAAU,IACVC,EAAS,aAETC,EAAQ,SAAeC,EAASC,GAEhC,GAAIf,GAAM,KACNgB,EAAQ,IAEZ,KACIhB,EAAMiB,KAAKJ,MAAMC,GACnB,MAAOI,GACLF,EAAQ,GAAIG,GAASD,EAAK,YAG9B,MAAOH,GAAKC,EAAOhB,IAGnBoB,EAAY,SAAmBN,EAASC,GAExC,GAAIM,GAAS,KACTL,EAAQ,IAEZ,KACIK,EAASJ,KAAKG,UAAUN,GAC1B,MAAOI,GACLF,EAAQ,GAAIG,GAASD,EAAK,QAG9B,MAAOH,GAAKC,EAAOK,IAGnBC,EAAW,SAAkBC,GAE7B,MAAO,UAAUL,GAEbM,WAAW,WACP,MAAOD,GAASL,IACjB,KAIPC,EAAW,SAAkBD,EAAKO,GAOlC,MALmB,gBAARP,KACPA,EAAM,GAAIQ,OAAMR,IAGpBA,EAAIO,KAAOA,EACJP,GAKPS,GACAC,IAAM,iBACNC,KAAM,aACNC,KAAM,iBACNC,KAAM,mBACNC,KAAM,WACNC,KAAM,qBACNC,KAAM,mBACNC,KAAM,6BACNC,KAAM,mBACNC,KAAM,kBACNC,KAAM,sBACNC,KAAM,wBACNC,KAAM,iBAKNC,EAAS,SAAgBC,EAAKC,GAE9BA,EAAUA,MAIVC,KAAKC,KAAOH,EACZE,KAAKE,UAAYH,EACjBC,KAAKG,mBAAoB,EAIzBH,KAAKI,IAAM,KACXJ,KAAKK,cAAgB,KACrBL,KAAKM,mBAAqB,KAC1BN,KAAKO,KAAO,EACZP,KAAKQ,aACLR,KAAKS,kBACLT,KAAKU,WAAa,KAClBV,KAAKW,YACLX,KAAKY,qBAAuB,KAC5BZ,KAAKa,sBAAuB,EAI5Bb,KAAKc,QAAU,SAAUxC,GACrB,MAAOyC,SAAQ3C,MAAME,IAEzB0B,KAAKgB,UAAYhD,EACjBgC,KAAKiB,aAAejD,EACpBgC,KAAKkB,SAAWlD,EAIhBgC,KAAKmB,GAAK,KA6kBd,OA1kBAtB,GAAOuB,UAAyD,mBAAdA,WAA4B,KAAOA,UAErFvB,EAAOwB,UAAUC,QAAU,SAAUvB,EAASpB,GAO1C,MALuB,kBAAZoB,KACPpB,EAAW4C,UAAU,GACrBxB,MAGAC,KAAKK,cACE3B,EAASC,GAAU,GAAIG,OAAM,sDAGpCkB,KAAKI,IACE1B,EAASC,GAAU,GAAIG,OAAM,uBAGpCiB,EAAQyB,aAAc,EAEtBxB,KAAKK,eACDoB,KAAM,EACNC,MAAO3B,EAAQ2B,OAAS,IACxBC,SAAU5B,EAAQ4B,UAAY,IAC9BC,QAAS7B,EAAQ6B,SAAWC,EAAAA,EAC5BC,UACIC,KAAMhC,EAAQgC,KACdC,QAASjC,EAAQiC,UAIzBhC,KAAKK,cAAgB,SAGzBL,MAAKiC,SAASlC,GAAS,EAAMpB,KAGjCkB,EAAOwB,UAAUY,SAAW,SAAUlC,EAASmC,EAASvD,GACpD,GAAIwD,GAAQnC,KAERoC,EAAK,GAAIvC,GAAOuB,UAAUpB,KAAKC,KAAMD,KAAKE,UAAUkC,GACxDpC,MAAKI,IAAMgC,EAEXC,aAAarC,KAAKM,oBAClBN,KAAKM,mBAAqB,IAE1B,IAAIgC,GAAW,SAAkBhE,GAE7B,GAAIK,EAAU,CAEV,GAAI4D,GAAK5D,CAET,OADAA,GAAW,KACJ4D,EAAGjE,GAGd,MAAO6D,GAAMrB,QAAQxC,IAGrBkE,EAAiB,WAMjB,MAJAL,GAAMM,WAENH,EAAS,GAAI/D,GAAS,uBAAwB,YAE1C2D,EACOC,EAAMO,aADjB,QAKAV,EAAUjC,EAAQiC,QAAUpD,WAAW4D,EAAgBzC,EAAQiC,SAAW,IAE9EI,GAAGO,OAAS,WAKR,MAHAN,cAAaL,GACbI,EAAGO,OAAS,KAELR,EAAMS,OAAO7C,EAAQgC,KAAM,SAAUzD,GAExC,MAAIA,IACIA,EAAIuE,YACGV,GAAM1B,eAAenC,EAAIuE,MAG7BV,EAAMW,YAAY,WACrB,MAAOR,GAAShE,KACjB,KAGP6D,EAAMnB,YACCsB,QAIfF,EAAGW,QAAU,SAAUC,GAEnBX,aAAaL,GACbG,EAAMM,UAEN,IAAIrE,GAAQ,GAAIG,GAAS,eAAgB,KACzC,OAAO+D,GAASlE,IAGpBgE,EAAGa,QAAU,SAAUD,GAEfZ,EAAGO,QACHL,EAAS,GAAIxD,OAAM,gDAGvB,IAAIoE,GAAef,EAAMtB,oBAEzBsB,GAAMM,UAEN,IAAIU,IACAC,KAAMJ,EAAMI,KACZC,YAAatE,EAAWiE,EAAMI,OAAS,UACvCE,OAAQN,EAAMM,OACdC,SAAUP,EAAMO,SAChBC,iBAAkBrB,EAAM9B,eAAiB8B,EAAM9B,cAAcuB,SAAW,GACxEsB,aAAcA,EAGlBf,GAAMlB,aAAakC,EAAIK,cAAeL,GACtChB,EAAMO,cAGVN,EAAGqB,UAAY,SAAUvF,GAErB,MAAOiE,GAAMuB,WAAWxF,KAIhC2B,EAAOwB,UAAUsC,yBAA2B,SAAU5B,GAElD,MAAK/B,MAAKK,eAIVL,KAAKK,cAAcyB,SAASC,KAAOA,GAC5B,IAJI,GAOflC,EAAOwB,UAAUuC,WAAa,SAAUjF,GAGpC,MADAA,GAAWA,GAAYX,EAChBgC,KAAK8C,YAAYnE,GAAU,IAGtCkB,EAAOwB,UAAUyB,YAAc,SAAUnE,EAAUkF,GAE/C7D,KAAKK,cAAgB,KACrBgC,aAAarC,KAAKM,oBAClBN,KAAKM,mBAAqB,IAC1B,IAAIwD,GAAY9D,KAAKa,uBAAyBgD,CAE9C,OAAI7D,MAAKY,sBACLZ,KAAKa,qBAAuBiD,MAC5B9D,MAAKY,qBAAqBmD,KAAKpF,KAI9BqB,KAAKI,KAAOJ,KAAKI,IAAI4D,aAAenE,EAAOuB,UAAU6C,MAAQjE,KAAKI,IAAI4D,aAAenE,EAAOuB,UAAU8C,WAEhGxF,EAASC,MAGpBqB,KAAKa,qBAAuBiD,EAC5B9D,KAAKY,sBAAwBjC,OAC7BqB,MAAKI,IAAI+D,UAGbtE,EAAOwB,UAAUoB,SAAW,WAEpBzC,KAAKI,MACDJ,KAAKI,IAAI4D,aAAenE,EAAOuB,UAAU6C,MAAQjE,KAAKI,IAAI4D,aAAenE,EAAOuB,UAAU8C,YAE1FlE,KAAKI,IAAI+D,QAGbnE,KAAKI,IAAIuC,OAAS,KAClB3C,KAAKI,IAAI6C,QAAU,KACnBjD,KAAKI,IAAI2C,QAAU/E,EACnBgC,KAAKI,IAAIqD,UAAY,KACrBzD,KAAKI,IAAM,MAGfJ,KAAKW,YACLX,KAAKmB,GAAK,KAEVkB,aAAarC,KAAKU,YAClBV,KAAKU,WAAa,IAOlB,KAAK,GAHDtC,GAAQ,GAAIG,GAAS,uCAAwC,cAE7D6F,EAAMC,OAAOC,KAAKtE,KAAKQ,WAClB+D,EAAI,EAAGA,EAAIH,EAAII,SAAUD,EAAG,CACjC,GAAIpD,GAAKiD,EAAIG,GACTE,EAAUzE,KAAKQ,UAAUW,GACzBxC,EAAW8F,EAAQ9F,QACvB0D,cAAaoC,EAAQzC,eACdhC,MAAKQ,UAAUW,GACtBxC,EAASP,GAGb,GAAI4B,KAAKY,qBAAsB,CAC3B,GAAI8D,GAAY1E,KAAKY,oBACrBZ,MAAKY,qBAAuB,KAC5BZ,KAAKa,sBAAuB,EAC5B6D,EAAUC,QAAQ,SAAUC,GACxB,MAAOA,SAKnB/E,EAAOwB,UAAUqB,WAAa,WAC1B,GAAImC,GAAS7E,IAIb,IAAKA,KAAKK,cAAV,CAIA,GAAIL,KAAKK,cAAcuB,QAAU,EAC7B,MAAO5B,MAAK8C,YAAY9E,GAAQ,KAGlCgC,KAAKK,cAAcuB,QACrB5B,KAAKK,cAAcoB,KAAOzB,KAAKK,cAAcoB,KAAOzB,KAAKK,cAAcqB,KAEvE,IAAIM,GAAU8C,KAAKC,IAAI/E,KAAKK,cAAcoB,KAAMzB,KAAKK,cAAcsB,SACnE3B,MAAKM,mBAAqB1B,WAAW,WAEjCiG,EAAO5C,SAAS4C,EAAOxE,cAAcyB,UAAU,EAAO,SAAUxD,GAE5D,MAAIA,IACAuG,EAAO/D,QAAQxC,GACRuG,EAAOnC,cAFlB,UAKLV,KAGPnC,EAAOwB,UAAUoD,QAAU,SAAU1E,EAASpB,GAEnB,gBAAZoB,KACPA,GACIiF,OAAQ,MACRnC,KAAM9C,GAId,IAAI0E,IACA5F,KAAM,UACNmG,OAAQjF,EAAQiF,QAAU,MAC1BnC,KAAM9C,EAAQ8C,KACdoC,QAASlF,EAAQkF,QACjBC,QAASnF,EAAQmF,QAGrB,OAAOlF,MAAKmF,MAAMV,GAAS,EAAM9F,IAGrCkB,EAAOwB,UAAUnD,QAAU,SAAUA,EAASS,GAE1C,GAAI8F,IACA5F,KAAM,UACNX,QAASA,EAGb,OAAO8B,MAAKmF,MAAMV,GAAS,EAAM9F,IAGrCkB,EAAOwB,UAAU8D,MAAQ,SAAUV,EAASW,EAAOzG,GAC/C,GAAI0G,GAASrF,IAIb,OAFArB,GAAWA,GAAYX,EAElBgC,KAAKI,KAAOJ,KAAKI,IAAI4D,aAAenE,EAAOuB,UAAU6C,MAK1DQ,EAAQtD,KAAOnB,KAAKO,SAEpB/B,GAAUiG,EAAS,SAAUnG,EAAKgH,GAE9B,GAAIhH,EACA,MAAOI,GAASC,GAAUL,EAK9B,KAAK8G,EACD,IACI,MAAOC,GAAOjF,IAAImF,KAAKD,GACzB,MAAOhH,GACL,MAAOI,GAASC,GAAU,GAAIJ,GAASD,EAAK,OAMpD,GAAIkH,IACA7G,SAAUA,EACVqD,QAAS,KAGTqD,GAAOnF,UAAU8B,UACjBwD,EAAOxD,QAAUpD,WAAW,WAKxB,MAHA4G,GAAO7G,SAAW,KAClB6G,EAAOxD,QAAU,KAEVrD,EAAS,GAAIJ,GAAS,oBAAqB,aACnD8G,EAAOnF,UAAU8B,UAGxBqD,EAAO7E,UAAUiE,EAAQtD,IAAMqE,CAE/B,KACIH,EAAOjF,IAAImF,KAAKD,GAClB,MAAOhH,GAGL,MAFA+D,cAAagD,EAAO7E,UAAUiE,EAAQtD,IAAIa,eACnCqD,GAAO7E,UAAUiE,EAAQtD,IACzBzC,EAASC,GAAU,GAAIJ,GAASD,EAAK,WA7CzCI,EAASC,GAAU,GAAIJ,GAAS,+CAAgD,gBAkD/FsB,EAAOwB,UAAUuB,OAAS,SAAUb,EAAMpD,GAEtC,GAAI8F,IACA5F,KAAM,QACNd,QAASA,EAGTgE,KACA0C,EAAQ1C,KAAOA,EAGnB,IAAI0D,GAAOzF,KAAK0F,eAKhB,OAJID,GAAKjB,SACLC,EAAQgB,KAAOA,GAGZzF,KAAKmF,MAAMV,GAAS,EAAM9F,IAGrCkB,EAAOwB,UAAUqE,cAAgB,WAE7B,MAAOrB,QAAOC,KAAKtE,KAAKS,iBAG5BZ,EAAOwB,UAAUsE,UAAY,SAAU9C,EAAM+C,EAASjH,GAClD,GAAIkH,GAAS7F,IAEb,KAAK6C,GAAoB,MAAZA,EAAK,GAEd,MAAOnE,GAASC,GAAU,GAAIJ,GAAS,eAAgB,QAG3D,IAAIkH,GAAOzF,KAAKS,eAAeoC,EAC/B,IAAI4C,EAQA,MAJ8B,KAA1BA,EAAKK,QAAQF,IACbH,EAAK1B,KAAK6B,GAGPlH,EAASC,IAKpB,IAFAqB,KAAKS,eAAeoC,IAAS+C,IAExB5F,KAAKI,KAAOJ,KAAKI,IAAI4D,aAAenE,EAAOuB,UAAU6C,KAItD,MAAOvF,GAASC,IAGpB,IAAI8F,IACA5F,KAAM,MACNgE,KAAMA,EAGV,OAAO7C,MAAKmF,MAAMV,GAAS,EAAM,SAAUnG,GAMvC,MAJIA,UACOuH,GAAOpF,eAAeoC,GAG1BlE,EAASL,MAIxBuB,EAAOwB,UAAU0E,YAAc,SAAUlD,EAAM+C,EAASjH,GAEpD,IAAKkE,GAAoB,MAAZA,EAAK,GAEd,MAAOnE,GAASC,GAAU,GAAIJ,GAAS,eAAgB,QAG3D,IAAIkH,GAAOzF,KAAKS,eAAeoC,EAC/B,KAAK4C,EACD,MAAO/G,GAASC,IAGpB,IAAIqH,IAAO,CACX,IAAKJ,EAGE,CACH,GAAIK,GAAMR,EAAKK,QAAQF,EACvB,IAAY,KAARK,EACA,MAAOvH,GAASC,IAGpB8G,GAAKS,OAAOD,EAAK,GACZR,EAAKjB,eACCxE,MAAKS,eAAeoC,GAC3BmD,GAAO,cAXJhG,MAAKS,eAAeoC,GAC3BmD,GAAO,CAcX,KAAKA,IAAShG,KAAKI,KAAOJ,KAAKI,IAAI4D,aAAenE,EAAOuB,UAAU6C,KAE/D,MAAOvF,GAASC,IAGpB,IAAI8F,IACA5F,KAAM,QACNgE,KAAMA,EAGV,OAAO7C,MAAKmF,MAAMV,GAAS,EAAM,SAAU0B,GACvC,MAAOxH,QAIfkB,EAAOwB,UAAUqC,WAAa,SAAUxF,GACpC,GAAIkI,GAASpG,IAEbA,MAAKqG,OAEL,IAAIC,GAAOpI,EAAQoI,KACfC,EAASD,EAAK,EAClB,IAAe,MAAXC,EAAgB,CAEhB,GADAvG,KAAKW,SAASoD,KAAKuC,EAAKE,MAAM,IACf,MAAXD,EACA,MAGJD,GAAOtG,KAAKW,SAAS8F,KAAK,IAC1BzG,KAAKW,YAGLX,KAAKW,SAAS6D,SACdxE,KAAKW,YACLX,KAAKc,QAAQ,GAAIvC,GAAS,iCAAkC,cAGhEN,EAAMqI,EAAM,SAAUhI,EAAKoI,GAEvB,GAAIpI,EACA,MAAO8H,GAAOtF,QAAQxC,EAK1B,IAAIF,GAAQ,IAYZ,IAXIsI,EAAOC,YAAcD,EAAOC,YAAc,KAAOD,EAAOC,YAAc,MAEtEvI,EAAQ,GAAIG,GAASmI,EAAOxB,QAAQhH,SAAWwI,EAAOxB,QAAQ9G,MAAO,UACrEA,EAAMuI,WAAaD,EAAOC,WAC1BvI,EAAMkI,KAAOI,EAAOxB,QACpB9G,EAAM6G,QAAUyB,EAAOzB,QACvB7G,EAAMyE,KAAO6D,EAAO7D,MAKJ,SAAhB6D,EAAO7H,KACP,MAAOuH,GAAOjB,OAAQtG,KAAM,SAAU,EAK1C,IAAoB,WAAhB6H,EAAO7H,KACP,MAAOuH,GAAOlF,SAASwF,EAAOxI,QAKlC,IAAoB,QAAhBwI,EAAO7H,MAAkC,WAAhB6H,EAAO7H,KAApC,CAwBA,GAAI4F,GAAU2B,EAAO5F,UAAUkG,EAAOvF,GACtC,KAAKsD,EACD,MAAO2B,GAAOtF,QAAQ,GAAIvC,GAAS,wCAAyC,YAGhF,IAAII,GAAW8F,EAAQ9F,QAIvB,IAHA0D,aAAaoC,EAAQzC,eACdoE,GAAO5F,UAAUkG,EAAOvF,IAE1BxC,EAML,MAAoB,YAAhB+H,EAAO7H,KACAF,EAASP,EAAOsI,EAAOxB,QAASwB,EAAOC,WAAYD,EAAOzB,SAKjD,YAAhByB,EAAO7H,KACAF,EAASP,EAAOsI,EAAOxI,SAKd,UAAhBwI,EAAO7H,MACPuH,EAAOjF,GAAKuF,EAAOE,OACfF,EAAOG,YACPT,EAAOjG,kBAAoBuG,EAAOG,UAAUC,SAAWJ,EAAOG,UAAU7E,QACxEoE,EAAOC,SAGJ1H,EAASP,IAKA,QAAhBsI,EAAO7H,MAAkC,UAAhB6H,EAAO7H,KAEzBF,EAASP,GAGbgI,EAAOtF,QAAQ,GAAIvC,GAAS,mCAAqCmI,EAAO7H,KAAM,iBApErF,CAEI,GAAIkI,GAAWX,EAAO3F,eAAeiG,EAAO7D,KAK5C,IAJoB,WAAhB6D,EAAO7H,YACAuH,GAAO3F,eAAeiG,EAAO7D,MAGpCkE,GAA+BC,SAAnBN,EAAOxI,QAAuB,CAE1C,GAAI+I,KACgB,YAAhBP,EAAO7H,OACPoI,EAAMC,SAAU,EAGpB,KAAK,GAAI3C,GAAI,EAAGA,EAAIwC,EAASvC,SAAUD,EACnCwC,EAASxC,GAAGmC,EAAOxI,QAAS+I,QAyDhDpH,EAAOwB,UAAUgF,MAAQ,WACrB,GAAIc,GAASnH,IAERA,MAAKG,oBAIVkC,aAAarC,KAAKU,YAElBV,KAAKU,WAAa9B,WAAW,WAEzBuI,EAAOrG,QAAQ,GAAIvC,GAAS,yCAA0C,YACtE4I,EAAO/G,IAAI+D,SACZnE,KAAKG,sBAKHN,OAAQA","file":"client.min.js"}