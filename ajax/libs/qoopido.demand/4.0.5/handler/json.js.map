{"version":3,"sources":["/extras/handler/json.js"],"names":["definition","abstractHandler","HandlerJson","regexMatchType","prototype","validate","type","test","onPreRequest","url","this","slice","process","data","JSON","parse","source","provide","extends"],"mappings":";CAAC,WACA,YAEA,SAASA,GAAWC,GAGnB,QAASC,MAFT,GAAIC,GAAiB,oBAoBrB,OAhBAD,GAAYE,WACXC,SAAU,SAASC,GAClB,MAAOH,GAAeI,KAAKD,IAE5BE,aAAc,WACb,GAAIC,GAAMC,KAAKD,GAEfC,MAAKD,IAAwB,UAAlBA,EAAIE,OAAM,GAAkBF,EAAM,QAAUA,GAExDG,QAAS,WACR,GAAIC,GAAOC,KAAKC,MAAML,KAAKM,OAE3BC,SAAQ,WAAa,MAAOJ,OAIvB,IAAKX,EAAYgB,QAAQjB,IAGjCgB,SAAU,4BAA8BjB","file":"json.js","sourcesContent":["(function() {\n\t'use strict';\n\n\tfunction definition(abstractHandler) {\n\t\tvar regexMatchType = /^application\\/json/;\n\n\t\tfunction HandlerJson() {}\n\n\t\tHandlerJson.prototype = {\n\t\t\tvalidate: function(type) {\n\t\t\t\treturn regexMatchType.test(type);\n\t\t\t},\n\t\t\tonPreRequest: function() {\n\t\t\t\tvar url = this.url;\n\n\t\t\t\tthis.url = url.slice(-5) !== '.json' ? url + '.json' : url;\n\t\t\t},\n\t\t\tprocess: function() {\n\t\t\t\tvar data = JSON.parse(this.source);\n\n\t\t\t\tprovide(function() { return data; });\n\t\t\t}\n\t\t};\n\n\t\treturn new (HandlerJson.extends(abstractHandler));\n\t}\n\n\tprovide([ '/demand/abstract/handler' ], definition);\n}());"]}