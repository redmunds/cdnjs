!function(e){"use strict";"function"==typeof define&&define.amd?define(["load-image"],e):e(window.loadImage)}(function(e){"use strict";if(window.navigator&&window.navigator.platform&&/iP(hone|od|ad)/.test(window.navigator.platform)){var t=e.renderImageToCanvas;e.detectSubsampling=function(e){var t,a;return e.width*e.height>1048576&&(t=document.createElement("canvas"),t.width=t.height=1,a=t.getContext("2d"),a.drawImage(e,-e.width+1,0),0===a.getImageData(0,0,1,1).data[3])},e.detectVerticalSquash=function(e,t){var a,n,i,r,d,o=document.createElement("canvas"),c=o.getContext("2d");for(o.width=1,o.height=t,c.drawImage(e,0,0),a=c.getImageData(0,0,1,t).data,n=0,i=t,r=t;r>n;)d=a[4*(r-1)+3],0===d?i=r:n=r,r=i+n>>1;return r/t||1},e.renderImageToCanvas=function(a,n,i,r,d,o,c,g,m,u){if("image/jpeg"===n._type){var f,h,w,s,l=a.getContext("2d"),v=document.createElement("canvas"),I=1024,p=v.getContext("2d");if(v.width=I,v.height=I,l.save(),f=e.detectSubsampling(n),f&&(d/=2,o/=2),h=e.detectVerticalSquash(n,o),f&&1!==h){for(m=Math.ceil(I*m/d),u=Math.ceil(I*u/o/h),g=0,s=0;s<o;){for(c=0,w=0;w<d;)p.clearRect(0,0,I,I),p.drawImage(n,i,r,d,o,-w,-s,d,o),l.drawImage(v,0,0,I,I,c,g,m,u),w+=I,c+=m;s+=I,g+=u}return l.restore(),a}}return t(a,n,i,r,d,o,c,g,m,u)}}});
//# sourceMappingURL=load-image-ios.min.js.map