!function(e){"use strict";"function"==typeof define&&define.amd?define(["load-image"],e):e(window.loadImage)}(function(e){"use strict";var i=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice);e.blobSlice=i&&function(){var e=this.slice||this.webkitSlice||this.mozSlice;return e.apply(this,arguments)},e.metaDataParsers={jpeg:{65505:[]}},e.parseMetaData=function(i,a,t){t=t||{};var l=this,n=t.maxMetaDataSize||262144,o={},r=!(window.DataView&&i&&i.size>=12&&"image/jpeg"===i.type&&e.blobSlice);!r&&e.readFile(e.blobSlice.call(i,0,n),function(i){var n,r,s,c,g=i.target.result,d=new DataView(g),f=2,b=d.byteLength-4,m=f;if(65496===d.getUint16(0)){for(;f<b&&(n=d.getUint16(f),n>=65504&&n<=65519||65534===n);){if(r=d.getUint16(f+2)+2,f+r>d.byteLength){console.log("Invalid meta data: Invalid segment size.");break}if(s=e.metaDataParsers.jpeg[n])for(c=0;c<s.length;c+=1)s[c].call(l,d,f,r,o,t);f+=r,m=f}!t.disableImageHead&&m>6&&(g.slice?o.imageHead=g.slice(0,m):o.imageHead=new Uint8Array(g).subarray(0,m))}else console.log("Invalid JPEG file: Missing JPEG marker.");a(o)},"readAsArrayBuffer")||a(o)}});
//# sourceMappingURL=load-image-meta.min.js.map