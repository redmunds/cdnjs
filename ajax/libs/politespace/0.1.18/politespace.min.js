!function(t,e){"use strict";var i=function(t){if(!t)throw new Error("Politespace requires an element argument.");if(t.getAttribute&&!window.operamini){this.element=t,this.$element=e(t),this.delimiter=this.$element.attr("data-delimiter")||" ",this.decimalMark=this.$element.attr("data-decimal-mark")||"",this.reverse=this.$element.is("[data-reverse]"),this.groupLength=this.$element.attr("data-grouplength")||3;var i=this.$element.attr("data-proxy-anchor");this.$proxyAnchor=this.$element,this.$proxy=null,i&&(this.$proxyAnchor=this.$element.closest(i))}};i.prototype._divideIntoArray=function(t){for(var e,i,r,n=(""+this.groupLength).split(","),s=1===n.length,a=[],o=0;n.length&&o<t.length;)e=s?n[0]:n.shift()||t.length-o,r=Math.min(parseInt(e,10),t.length-o),i=this.reverse?-1*(r+o):o,a.push(t.substr(i,r)),o+=r;return this.reverse&&a.reverse(),a},i.prototype.format=function(t){var e,i=this.unformat(t),r="";return this.decimalMark&&(e=i.split(this.decimalMark),r=e.length>1?this.decimalMark+e[1]:"",i=e[0]),this._divideIntoArray(i).join(this.delimiter)+r},i.prototype.trimMaxlength=function(t){var e=this.element.getAttribute("maxlength");return e&&(t=t.substr(0,e)),t},i.prototype.getValue=function(){return this.trimMaxlength(this.element.value)},i.prototype.update=function(){this.element.value=this.useProxy()||"password"===this.$element.attr("type")?this.getValue():this.format(this.getValue())},i.prototype.unformat=function(t){return t.replace(new RegExp(this.delimiter,"g"),"")},i.prototype.reset=function(){this.element.value=this.unformat(this.element.value)},i.prototype.useProxy=function(){var t=this.$element.attr("pattern"),e=this.$element.attr("type");return"number"===e||!!t&&!new RegExp("^"+t+"$").test(this.delimiter)},i.prototype.updateProxy=function(){if(this.useProxy()&&this.$proxy.length){var t=this.format(this.getValue()),e=this.element.offsetWidth;this.$proxy.html(t),e&&this.$proxy.css("width",e+"px"),this.$proxy.closest(".politespace-proxy")[t?"addClass":"removeClass"]("notempty")}},i.prototype.createProxy=function(){function t(t,i){for(var r=0,n=e(t),s=0,a=i.length;s<a;s++)r+=parseFloat(n.css(i[s]));return r}if(this.useProxy()){var i=e("<div>").addClass("politespace-proxy active"),r=this.$proxyAnchor.next(),n=this.$proxyAnchor.parent();this.$proxy=e("<div>").addClass("politespace-proxy-val").css({font:this.$element.css("font"),"padding-left":t(this.element,["padding-left","border-left-width"])+"px","padding-right":t(this.element,["padding-right","border-right-width"])+"px",top:t(this.element,["padding-top","border-top-width","margin-top"])+"px"}),i.append(this.$proxy),i.append(this.$proxyAnchor),r.length?i.insertBefore(r):n.append(i),this.updateProxy()}},i.prototype.setGroupLength=function(t){this.groupLength=t,this.$element.attr("data-grouplength",t)},t.Politespace=i}(this,jQuery),function(t){"use strict";function e(t){for(var e in i)if(t.match(i[e]))return e;return-1}var i={MASTERCARD:/^(2[2-7]|5[1-5])/,VISA:/^4/,DISCOVER:/^6(011|5)/,AMEX:/^3[47]/};e.TYPES=i,t.CreditableCardType=e}("undefined"!=typeof global?global:this),function(t,e){"use strict";e(document).bind("politespace-init politespace-input",function(i){var r=e(i.target);if(r.is("[data-politespace-creditcard]")){var n=r.data("politespace"),s=r.val(),a=r.is("[data-politespace-creditcard-maxlength]"),o=t.CreditableCardType(s);"AMEX"===o?(n.setGroupLength(a?"4,6,5":"4,6,"),a&&r.attr("maxlength",15)):"DISCOVER"!==o&&"VISA"!==o&&"MASTERCARD"!==o||(n.setGroupLength(a?"4,4,4,4":"4"),a&&r.attr("maxlength",16))}})}("undefined"!=typeof global?global:this,jQuery),function(t){"use strict";var e="politespace",i="[data-"+e+"]";t.fn[e]=function(){return this.each(function(){var i=t(this);if(!i.data(e)){var r=new Politespace(this);r.useProxy()&&r.createProxy(),i.bind("politespace-hide-proxy",function(){t(this).closest(".politespace-proxy").removeClass("active")}).bind("politespace-show-proxy",function(){t(this).closest(".politespace-proxy").addClass("active"),r.update(),r.updateProxy()}).bind("input keydown",function(){t(this).trigger("politespace-input"),r.updateProxy()}).bind("blur",function(){r.update(),r.useProxy()&&t(this).trigger("politespace-show-proxy")}).bind("focus",function(){t(this).trigger("politespace-hide-proxy"),r.reset()}).data(e,r).trigger("politespace-init"),r.update(),r.updateProxy()}})},t(document).bind("enhance",function(r){var n=t(r.target).is(i)?t(r.target):t(i,r.target);n[e]()})}(jQuery);
//# sourceMappingURL=politespace.min.js.map