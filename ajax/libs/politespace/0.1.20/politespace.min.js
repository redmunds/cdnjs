!function(t,e){"use strict";var i=function(t){if(!t)throw new Error("Politespace requires an element argument.");if(t.getAttribute&&!window.operamini){this.element=t,this.$element=e(t),this.delimiter=this.$element.attr("data-delimiter")||" ",this.decimalMark=this.$element.attr("data-decimal-mark")||"",this.reverse=this.$element.is("[data-reverse]"),this.strip=this.$element.attr("data-politespace-strip"),this.groupLength=this.$element.attr("data-grouplength")||3;var i=this.$element.attr("data-proxy-anchor");this.$proxyAnchor=this.$element,this.$proxy=null,i&&(this.$proxyAnchor=this.$element.closest(i))}};i.prototype._divideIntoArray=function(t){for(var e,i,r,a=(""+this.groupLength).split(","),n=1===a.length,s=[],o=0;a.length&&o<t.length;)e=n?a[0]:a.shift()||t.length-o,r=Math.min(parseInt(e,10),t.length-o),i=this.reverse?-1*(r+o):o,s.push(t.substr(i,r)),o+=r;return this.reverse&&s.reverse(),s},i.prototype.format=function(t){var e,i=this.unformat(t);this.strip&&(i=i.replace(new RegExp(this.strip,"g"),""));var r="";return this.decimalMark&&(e=i.split(this.decimalMark),r=e.length>1?this.decimalMark+e[1]:"",i=e[0]),this._divideIntoArray(i).join(this.delimiter)+r},i.prototype.trimMaxlength=function(t){var e=this.element.getAttribute("maxlength");return e&&(t=t.substr(0,e)),t},i.prototype.getValue=function(){return this.trimMaxlength(this.element.value)},i.prototype.update=function(){this.element.value=this.useProxy()||"password"===this.$element.attr("type")?this.getValue():this.format(this.getValue())},i.prototype.unformat=function(t){return t.replace(new RegExp(this.delimiter,"g"),"")},i.prototype.reset=function(){this.element.value=this.unformat(this.element.value)},i.prototype.useProxy=function(){var t=this.$element.attr("pattern"),e=this.$element.attr("type");return"number"===e||!!t&&!new RegExp("^"+t+"$").test(this.delimiter)},i.prototype.updateProxy=function(){if(this.useProxy()&&this.$proxy.length){var t=this.format(this.getValue()),e=this.element.offsetWidth;this.$proxy.html(t),e&&this.$proxy.css("width",e+"px"),this.$proxy.closest(".politespace-proxy")[t?"addClass":"removeClass"]("notempty")}},i.prototype.createProxy=function(){function t(t,i){for(var r=0,a=e(t),n=0,s=i.length;n<s;n++)r+=parseFloat(a.css(i[n]));return r}if(this.useProxy()){var i=e("<div>").addClass("politespace-proxy active"),r=this.$proxyAnchor.next(),a=this.$proxyAnchor.parent();this.$proxy=e("<div>").addClass("politespace-proxy-val").css({font:this.$element.css("font"),"padding-left":t(this.element,["padding-left","border-left-width"])+"px","padding-right":t(this.element,["padding-right","border-right-width"])+"px",top:t(this.element,["padding-top","border-top-width","margin-top"])+"px"}),i.append(this.$proxy),i.append(this.$proxyAnchor),r.length?i.insertBefore(r):a.append(i),this.updateProxy()}},i.prototype.setGroupLength=function(t){this.groupLength=t,this.$element.attr("data-grouplength",t)},t.Politespace=i}(this,jQuery),function(t){"use strict";function e(t){for(var e in i)if(t.match(i[e]))return e;return-1}var i={MASTERCARD:/^(2[2-7]|5[1-5])/,VISA:/^4/,DISCOVER:/^6(011|5)/,AMEX:/^3[47]/};e.TYPES=i,t.CreditableCardType=e}("undefined"!=typeof global?global:this),function(t,e){"use strict";e(document).bind("politespace-init politespace-input",function(i){var r=e(i.target);if(r.is("[data-politespace-creditcard]")){var a=r.data("politespace"),n=r.val(),s=r.is("[data-politespace-creditcard-maxlength]"),o=t.CreditableCardType(n);"AMEX"===o?(a.setGroupLength(s?"4,6,5":"4,6,"),s&&r.attr("maxlength",15)):"DISCOVER"!==o&&"VISA"!==o&&"MASTERCARD"!==o||(a.setGroupLength(s?"4,4,4,4":"4"),s&&r.attr("maxlength",16))}})}("undefined"!=typeof global?global:this,jQuery),function(t,e){"use strict";function i(t){var i=e(t),r=i.val();i.val(r.replace(/^1/,""))}var r="politespace-us-telephone-maxlength",a="politespace-beforeblur.politespace-us-telephone";e(document).bind("politespace-init",function(t){var n=e(t.target);if(n.is("[data-politespace-us-telephone]")){var s=n.attr("maxlength");s&&(n.data(r,parseInt(s,10)),i(n[0]),n.off(a).on(a,function(){e(this).attr("maxlength",n.data(r)),i(this)}))}}),e(document).bind("politespace-input",function(t){var i=e(t.target);i.is("[data-politespace-us-telephone]")&&0===i.val().indexOf("1")&&i.attr("maxlength",i.data(r)+1)})}("undefined"!=typeof global?global:this,jQuery),function(t){"use strict";var e="politespace",i="[data-"+e+"]";t.fn[e]=function(){return this.each(function(){var i=t(this);if(!i.data(e)){var r=new Politespace(this);r.useProxy()&&r.createProxy(),i.bind("politespace-hide-proxy",function(){t(this).closest(".politespace-proxy").removeClass("active")}).bind("politespace-show-proxy",function(){t(this).closest(".politespace-proxy").addClass("active"),r.update(),r.updateProxy()}).bind("input keydown",function(){t(this).trigger("politespace-input"),r.updateProxy()}).bind("blur",function(){t(this).trigger("politespace-beforeblur"),r.update(),r.useProxy()&&t(this).trigger("politespace-show-proxy")}).bind("focus",function(){t(this).trigger("politespace-hide-proxy"),r.reset()}).data(e,r).trigger("politespace-init"),r.update(),r.updateProxy()}})},t(document).bind("enhance",function(r){var a=t(r.target).is(i)?t(r.target):t(i,r.target);a[e]()})}(jQuery);
//# sourceMappingURL=politespace.min.js.map