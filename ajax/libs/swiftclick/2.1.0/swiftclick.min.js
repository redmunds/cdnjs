"use strict";function SwiftClick(a){function b(){"function"==typeof n&&(m.addEventListener("click",c,!1),m.onclick=null),m.addEventListener("touchstart",d,!1),m.addEventListener("click",f,!0)}function c(a){n(a)}function d(a){var b=a.target,c=b.nodeName.toLowerCase(),d=a.changedTouches[0];return"undefined"==typeof l.options.elements[c]||(!!o||(l.options.useCssParser&&i(b)?(r=!1,!0):(a.stopPropagation(),o=!0,p.x=d.pageX,p.y=d.pageY,q=h(),b.removeEventListener("touchend",e,!1),void b.addEventListener("touchend",e,!1))))}function e(a){var b=a.target,c=a.changedTouches[0];return b.removeEventListener("touchend",e,!1),o=!1,!!j(c)||(a.stopPropagation(),a.preventDefault(),r=!1,b.focus(),g(b,c),!1)}function f(a){var b=a.target,c=b.nodeName.toLowerCase();if("undefined"!=typeof l.options.elements[c]){if(r)return r=!1,a.stopPropagation(),a.preventDefault(),!1;r=!0}}function g(a,b){var c=document.createEvent("MouseEvents");c.initMouseEvent("click",!0,!0,window,1,b.screenX,b.screenY,b.clientX,b.clientY,!1,!1,!1,!1,0,null),a.dispatchEvent(c)}function h(){var a={x:window.pageXOffset||document.body.scrollLeft||document.documentElement.scrollLeft||0,y:window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop||0};return a}function i(a){var b="swiftclick-ignore",c="swiftclick-force",d=a.parentNode,e=!1;if(k(a,b))return!0;if(k(a,c))return e;if(null===d)return e;for(;d;)k(d,b)?(d=null,e=!0):d=d.parentNode;return e}function j(a){var b=l.options.maxTouchDrift,c=h();return Math.abs(a.pageX-p.x)>b||Math.abs(a.pageY-p.y)>b||Math.abs(c.x-q.x)>b||Math.abs(c.y-q.y)>b}function k(a,b){var c="undefined"!=typeof a.className&&(" "+a.className+" ").indexOf(" "+b+" ")>-1;return c}if("undefined"!=typeof SwiftClick.swiftDictionary[a])return SwiftClick.swiftDictionary[a];SwiftClick.swiftDictionary[a]=this,this.options={elements:{a:"a",div:"div",span:"span",button:"button"},minTouchDrift:4,maxTouchDrift:16,useCssParser:!1};var l=this,m=a,n=m.onclick,o=!1,p={x:0,y:0},q={x:0,y:0},r=!1;"onorientationchange"in window&&"ontouchstart"in window&&b()}SwiftClick.swiftDictionary={},SwiftClick.prototype.setMaxTouchDrift=function(a){if("number"!=typeof a)throw new TypeError('expected "maxTouchDrift" to be of type "number"');a<this.options.minTouchDrift&&(a=this.options.minTouchDrift),this.options.maxTouchDrift=a},SwiftClick.prototype.addNodeNamesToTrack=function(a){var b,c=0,d=a.length;for(c;c<d;c++){if("string"!=typeof a[c])throw new TypeError('all values within the "nodeNames" array must be of type "string"');b=a[c].toLowerCase(),this.options.elements[b]=b}},SwiftClick.prototype.replaceNodeNamesToTrack=function(a){this.options.elements={},this.addNodeNamesToTrack(a)},SwiftClick.prototype.useCssParser=function(a){this.options.useCssParser=a},SwiftClick.attach=function(a){return"undefined"!=typeof SwiftClick.swiftDictionary[a]?SwiftClick.swiftDictionary[a]:new SwiftClick(a)},"undefined"!=typeof define&&define.amd?define(function(){return SwiftClick}):"undefined"!=typeof module&&module.exports?module.exports=SwiftClick:window.SwiftClick=SwiftClick;