/* PageX 1.0.0 https://github.com/franciscop/pagex */
var pagex=function(a,b,c,d){if(!(this instanceof pagex))return new pagex(a,b,c,d);c||(c=b,b=!1),"string"==typeof a&&(a=this.path(a));var e=function(){d=d||window.location.pathname.replace(/^\//,"/"),a.test(d)!==b&&c.apply(null,d.match(a)?d.match(a).slice(1):[])};document.addEventListener("DOMContentLoaded",e),["interactive","complete","loaded"].indexOf(document.readyState)!==-1&&e()};pagex.prototype.path=function(){function a(a){for(var b,c=[],d=0,e=0,f="";null!=(b=p.exec(a));){var h=b[0],i=b[1],j=b.index;if(f+=a.slice(e,j),e=j+h.length,i)f+=i[1];else{var k=a[e],l=b[2],m=b[3],n=b[4],o=b[5],q=b[6],r=b[7];f&&(c.push(f),f="");var s=null!=l&&null!=k&&k!==l,t="+"===q||"*"===q,u="?"===q||"*"===q,v=b[2]||"/",w=n||o||(r?".*":"[^"+v+"]+?");c.push({name:m||d++,prefix:l||"",delimiter:v,optional:u,repeat:t,partial:s,asterisk:!!r,pattern:g(w)})}}return e<a.length&&(f+=a.substr(e)),f&&c.push(f),c}function b(b){return e(a(b))}function c(a){return encodeURI(a).replace(/[\/?#]/g,function(a){return"%"+a.charCodeAt(0).toString(16).toUpperCase()})}function d(a){return encodeURI(a).replace(/[?#]/g,function(a){return"%"+a.charCodeAt(0).toString(16).toUpperCase()})}function e(a){for(var b=new Array(a.length),e=0;e<a.length;e++)"object"==typeof a[e]&&(b[e]=new RegExp("^(?:"+a[e].pattern+")$"));return function(e,f){for(var g="",h=e||{},i=f||{},j=i.pretty?c:encodeURIComponent,k=0;k<a.length;k++){var l=a[k];if("string"!=typeof l){var m,n=h[l.name];if(null==n){if(l.optional){l.partial&&(g+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(o(n)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(n)+"`");if(0===n.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var p=0;p<n.length;p++){if(m=j(n[p]),!b[k].test(m))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(m)+"`");g+=(0===p?l.prefix:l.delimiter)+m}}else{if(m=l.asterisk?d(n):j(n),!b[k].test(m))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+m+'"');g+=l.prefix+m}}else g+=l}return g}}function f(a){return a.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function g(a){return a.replace(/([=!:$\/()])/g,"\\$1")}function h(a,b){return a.keys=b,a}function i(a){return a.sensitive?"":"i"}function j(a,b){var c=a.source.match(/\((?!\?)/g);if(c)for(var d=0;d<c.length;d++)b.push({name:d,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return h(a,b)}function k(a,b,c){for(var d=[],e=0;e<a.length;e++)d.push(n(a[e],b,c).source);var f=new RegExp("(?:"+d.join("|")+")",i(c));return h(f,b)}function l(b,c,d){for(var e=a(b),f=m(e,d),g=0;g<e.length;g++)"string"!=typeof e[g]&&c.push(e[g]);return h(f,c)}function m(a,b){b=b||{};for(var c=b.strict,d=b.end!==!1,e="",g=a[a.length-1],h="string"==typeof g&&/\/$/.test(g),j=0;j<a.length;j++){var k=a[j];if("string"==typeof k)e+=f(k);else{var l=f(k.prefix),m="(?:"+k.pattern+")";k.repeat&&(m+="(?:"+l+m+")*"),m=k.optional?k.partial?l+"("+m+")?":"(?:"+l+"("+m+"))?":l+"("+m+")",e+=m}}return c||(e=(h?e.slice(0,-2):e)+"(?:\\/(?=$))?"),e+=d?"$":c&&h?"":"(?=\\/|$)",new RegExp("^"+e,i(b))}function n(a,b,c){return b=b||[],o(b)?c||(c={}):(c=b,b=[]),a instanceof RegExp?j(a,b):o(a)?k(a,b,c):l(a,b,c)}var o=Array.isArray||function(a){return"[object Array]"==Object.prototype.toString.call(a)},p=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g"),q=n;return q.parse=a,q.compile=b,q.tokensToFunction=e,q.tokensToRegExp=m,q}();