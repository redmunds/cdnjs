/*! Copyright (c) 2010 Brandon Aaron (http://brandonaaron.net)
 * Dual licensed under the MIT (MIT_LICENSE.txt)
 * and GPL Version 2 (GPL_LICENSE.txt) licenses.
 *
 * Version: 1.3
 * Requires jQuery 1.3+
 * Docs: http://docs.jquery.com/Plugins/livequery
 */
(function(a){a.extend(a.fn,{livequery:function(c,b){var d=this,e;a.each(a.livequery.queries,function(f,g){if(d.selector==g.selector&&d.context==g.context&&(!c||c.$lqguid==g.fn.$lqguid)&&(!b||b.$lqguid==g.fn2.$lqguid)){return(e=g)&&false}});e=e||new a.livequery(d.selector,d.context,c,b);e.stopped=false;e.run();return d},expire:function(c,b){var d=this;a.each(a.livequery.queries,function(e,f){if(d.selector==f.selector&&d.context==f.context&&(!c||c.$lqguid==f.fn.$lqguid)&&(!b||b.$lqguid==f.fn2.$lqguid)&&!d.stopped){a.livequery.stop(f.id)}});return d}});a.livequery=function(b,d,e,c){var f=this;f.selector=b;f.context=d;f.fn=e;f.fn2=c;f.elements=a([]);f.stopped=false;f.id=a.livequery.queries.push(f)-1;e.$lqguid=e.$lqguid||a.livequery.guid++;if(c){c.$lqguid=c.$lqguid||a.livequery.guid++}return f};a.livequery.prototype={stop:function(){var b=this;if(b.stopped){return}if(b.fn2){b.elements.each(b.fn2)}b.elements=a([]);b.stopped=true},run:function(){var c=this;if(c.stopped){return}var e=c.elements,b=a(c.selector,c.context),f=b.not(e),d=e.not(b);c.elements=b;f.each(c.fn);if(c.fn2){d.each(c.fn2)}}};a.extend(a.livequery,{guid:0,queries:[],queue:[],running:false,timeout:null,checkQueue:function(){if(a.livequery.running&&a.livequery.queue.length){var b=a.livequery.queue.length;while(b--){a.livequery.queries[a.livequery.queue.shift()].run()}}},pause:function(){a.livequery.running=false},play:function(){a.livequery.running=true;a.livequery.run()},registerPlugin:function(){a.each(arguments,function(c,d){if(!a.fn[d]){return}var b=a.fn[d];a.fn[d]=function(){var e=b.apply(this,arguments);a.livequery.run();return e}})},run:function(b){if(b!=undefined){if(a.inArray(b,a.livequery.queue)<0){a.livequery.queue.push(b)}}else{a.each(a.livequery.queries,function(c){if(a.inArray(c,a.livequery.queue)<0){a.livequery.queue.push(c)}})}if(a.livequery.timeout){clearTimeout(a.livequery.timeout)}a.livequery.timeout=setTimeout(a.livequery.checkQueue,20)},stop:function(b){if(b!=undefined){a.livequery.queries[b].stop()}else{a.each(a.livequery.queries,a.livequery.prototype.stop)}}});a.livequery.registerPlugin("append","prepend","after","before","wrap","attr","removeAttr","addClass","removeClass","toggleClass","empty","remove","html","prop","removeProp");a(function(){a.livequery.play()})})(jQuery);