/*! Copyright 
 *  (c) 2010, Brandon Aaron (http://brandonaaron.net)
 *  (c) 2012, Alexander Zaytsev (http://hazzik.ru/en)
 * Dual licensed under the MIT (MIT_LICENSE.txt)
 * and GPL Version 2 (GPL_LICENSE.txt) licenses.
 *
 * Version: 1.3.2
 * Requires jQuery 1.3+
 * Docs: http://docs.jquery.com/Plugins/livequery
 */
(function(b,c){b.extend(b.fn,{livequery:function(e,d){var f=this,g;b.each(a.queries,function(h,j){if(f.selector==j.selector&&f.context==j.context&&(!e||e.$lqguid==j.fn.$lqguid)&&(!d||d.$lqguid==j.fn2.$lqguid)){return(g=j)&&false}});g=g||new a(f.selector,f.context,e,d);g.stopped=false;g.run();return f},expire:function(e,d){var f=this;b.each(a.queries,function(g,h){if(f.selector==h.selector&&f.context==h.context&&(!e||e.$lqguid==h.fn.$lqguid)&&(!d||d.$lqguid==h.fn2.$lqguid)&&!f.stopped){a.stop(h.id)}});return f}});var a=b.livequery=function(d,f,g,e){var h=this;h.selector=d;h.context=f;h.fn=g;h.fn2=e;h.elements=b([]);h.stopped=false;h.id=a.queries.push(h)-1;g.$lqguid=g.$lqguid||a.guid++;if(e){e.$lqguid=e.$lqguid||a.guid++}return h};a.prototype={stop:function(){var d=this;if(d.stopped){return}if(d.fn2){d.elements.each(d.fn2)}d.elements=b([]);d.stopped=true},run:function(){var e=this;if(e.stopped){return}var g=e.elements,d=b(e.selector,e.context),h=d.not(g),f=g.not(d);e.elements=d;h.each(e.fn);if(e.fn2){f.each(e.fn2)}}};b.extend(a,{guid:0,queries:[],queue:[],running:false,timeout:null,checkQueue:function(){if(a.running&&a.queue.length){var d=a.queue.length;while(d--){a.queries[a.queue.shift()].run()}}},pause:function(){a.running=false},play:function(){a.running=true;a.run()},registerPlugin:function(){b.each(arguments,function(e,f){if(!b.fn[f]){return}var d=b.fn[f];b.fn[f]=function(){var g=d.apply(this,arguments);a.run();return g}})},run:function(d){if(d!=c){if(b.inArray(d,a.queue)<0){a.queue.push(d)}}else{b.each(a.queries,function(e){if(b.inArray(e,a.queue)<0){a.queue.push(e)}})}if(a.timeout){clearTimeout(a.timeout)}a.timeout=setTimeout(a.checkQueue,20)},stop:function(d){if(d!=c){a.queries[d].stop()}else{b.each(a.queries,a.prototype.stop)}}});a.registerPlugin("append","prepend","after","before","wrap","attr","removeAttr","addClass","removeClass","toggleClass","empty","remove","html","prop","removeProp");b(function(){a.play()})})(jQuery);