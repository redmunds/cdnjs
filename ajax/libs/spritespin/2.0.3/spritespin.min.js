!function(){var e=this.SpriteLoader={};e.preload=function(t,i){"string"==typeof t&&(t=[t]);var n,a={callback:i,numLoaded:0,numImages:t.length,images:[]};for(n=0;n<t.length;n+=1)e.load(t[n],a)},e.load=function(e,t){var i=new Image;t.images.push(i),i.onload=function(){t.numLoaded+=1,t.numLoaded===t.numImages&&t.callback(t.images)},i.src=e}}(),function(e,t){var i=t.SpriteSpin={},n=i.api={};i.modules={},i.behaviors={},i.disableSelection=function(e){return e.attr("unselectable","on").css({"-moz-user-select":"none","-khtml-user-select":"none","-webkit-user-select":"none","user-select":"none"}).on("selectstart",!1),e},i.updateInput=function(e,t){return void 0===e.touches&&void 0!==e.originalEvent&&(e.touches=e.originalEvent.touches),t.oldX=t.currentX,t.oldY=t.currentY,void 0!==e.touches&&e.touches.length>0?(t.currentX=e.touches[0].clientX,t.currentY=e.touches[0].clientY):(t.currentX=e.clientX,t.currentY=e.clientY),void 0!==t.startX&&void 0!==t.startY||(t.startX=t.currentX,t.startY=t.currentY,t.clickframe=t.frame),void 0!==t.oldX&&void 0!==t.oldY||(t.oldX=t.currentX,t.oldY=t.currentY),t.dX=t.currentX-t.startX,t.dY=t.currentY-t.startY,t.dW=t.dX*t.dragDirX+t.dY*t.dragDirY,t.ddX=t.currentX-t.oldX,t.ddY=t.currentY-t.oldY,t.ddW=t.ddX*t.dragDirX+t.ddY*t.dragDirY,!1},i.resetInput=function(e){e.startX=void 0,e.startY=void 0,e.currentX=void 0,e.currentY=void 0,e.oldX=void 0,e.oldY=void 0,e.dX=0,e.dY=0,e.dW=0,e.ddX=0,e.ddY=0,e.ddW=0,"function"==typeof e.module.resetInput&&e.module.resetInput(e)},i.clamp=function(e,t,i){return e>i?i:t>e?t:e},i.wrap=function(e,t,i,n){for(;e>i;)e-=n;for(;t>e;)e+=n;return e},i.reload=function(e,t){t&&e.module.initialize&&e.module.initialize(e),i.prepareBackground(e),i.preloadImages(e,function(){i.rebindEvents(e),e.module.reload(e),e.target.trigger("onLoad",e)})},i.preloadImages=function(e,t){e.preload.fadeIn(250,function(){SpriteLoader.preload(e.source,function(i){e.preload.fadeOut(250,function(){e.preload.hide()}),e.stage.show(),e.canvas&&e.canvas.show(),e.images=i,t.apply(e.target,[e])})})},i.prepareBackground=function(t){var i=[t.width,"px"].join(""),n=[t.height,"px"].join("");t.target.css({width:i,height:n,position:"relative"});var a={width:i,height:n,top:"0px",left:"0px",position:"absolute"};e.extend(a,t.preloadCSS||{}),t.preload.css(a).html(t.preloadHtml||"").hide(),t.stage.css({width:i,height:n,top:"0px",left:"0px",position:"absolute"}).hide(),t.canvas&&(t.canvas[0].width=t.width,t.canvas[0].height=t.height,t.canvas.css({width:i,height:n,top:"0px",left:"0px",position:"absolute"}).hide())},i.draw=function(e){e.module.draw(e)},i.rebindEvents=function(t){var n=t.target;n.unbind(".spritespin");var a=t.behavior;"string"==typeof t.behavior&&(a=i.behaviors[t.behavior]),a=a||{};var o=function(e){return e.cancelable&&e.preventDefault(),!1};n.bind("mousedown.spritespin",a.mousedown||e.noop),n.bind("mousemove.spritespin",a.mousemove||e.noop),n.bind("mouseup.spritespin",a.mouseup||e.noop),n.bind("mouseenter.spritespin",a.mouseenter||e.noop),n.bind("mouseover.spritespin",a.mouseover||e.noop),n.bind("mouseleave.spritespin",a.mouseleave||e.noop),n.bind("dblclick.spritespin",a.dblclick||e.noop),n.bind("onFrame.spritespin",a.onFrame||e.noop),t.touchable&&(n.bind("touchstart.spritespin",a.mousedown||e.noop),n.bind("touchmove.spritespin",a.mousemove||e.noop),n.bind("touchend.spritespin",a.mouseup||e.noop),n.bind("touchcancel.spritespin",a.mouseleave||e.noop),n.bind("click.spritespin",o),n.bind("gesturestart.spritespin",o),n.bind("gesturechange.spritespin",o),n.bind("gestureend.spritespin",o)),n.bind("mousedown.spritespin selectstart.spritespin",o),n.bind("onFrame.spritespin",function(e,t){i.draw(t)}),n.bind("onLoad.spritespin",function(e,t){t.target.spritespin("animate",t.animate,t.loop)}),"function"==typeof t.onFrame&&n.bind("onFrame.spritespin",t.onFrame),"function"==typeof t.onLoad&&n.bind("onLoad.spritespin",t.onLoad)},e.fn.spritespin=function(t){return n[t]?n[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist on jQuery.spritespin"):n.init.apply(this,arguments)},n.init=function(n){var a={width:void 0,height:void 0,frames:36,frame:0,module:"360",behavior:"drag",animate:!0,loop:!1,loopFrame:0,frameStep:1,frameTime:36,frameWrap:!0,reverse:!1,sense:1,orientation:"horizontal",source:void 0,preloadHtml:void 0,preloadCSS:void 0,onFrame:void 0,onLoad:void 0,touchable:void 0};return n=n||{},e.extend(a,n),this.each(function(){var o=e(this),r=o.data("spritespin");if(r)e.extend(r,n),n.source?SpriteSpin.reload(r):o.spritespin("animate",r.animate,r.loop);else{var s=o.find("img"),p=0;if(s.length>0)for(a.source=[],p=0;p<s.length;p+=1)a.source.push(e(s[p]).attr("src"));if("string"==typeof a.source&&(a.source=[a.source]),i.disableSelection(o).css({overflow:"hidden",position:"relative"}),o.empty(),o.append(e("<div class='spritespin-stage'/>")),o.append(e("<div class='spritespin-preload'/>")),o.addClass("spritespin-instance"),a.enableCanvas){var d=e("<canvas class='spritespin-canvas'/>")[0],u=!(!d.getContext||!d.getContext("2d"));u&&(a.canvas=e(d),a.context=d.getContext("2d"),o.append(a.canvas))}"string"==typeof a.module&&(a.module=SpriteSpin.modules[a.module]),a.target=o,a.stage=o.find(".spritespin-stage"),a.preload=o.find(".spritespin-preload"),a.animation=null,a.touchable=a.touchable||/iphone|ipod|ipad|android/i.test(t.navigator.userAgent),o.data("spritespin",a),SpriteSpin.reload(a,!0)}})},n.destroy=function(){return this.each(function(){var t=e(this);t.unbind(".spritespin"),t.removeData("spritespin")})},n.update=function(t){return this.each(function(){var a=e(this),o=a.data("spritespin");void 0===t?o.frame+=o.animation&&o.reverse?-o.frameStep:o.frameStep:o.frame=t,o.animation||!o.animation&&o.frameWrap?o.frame=i.wrap(o.frame,0,o.frames-1,o.frames):o.frame=i.clamp(o.frame,0,o.frames-1),!o.loop&&o.animation&&o.frame===o.loopFrame&&n.animate.apply(o.target,[!1]),o.target.trigger("onFrame",o)})},n.animate=function(i,n){return void 0===i?null!==e(this).data("spritespin").animation:this.each(function(){var a=e(this),o=a.data("spritespin");"boolean"==typeof n&&(o.loop=n),"toggle"===i&&(o.animate=!o.animate),"boolean"==typeof i&&(o.animate=i),o.animation&&(t.clearInterval(o.animation),o.animation=null),o.animate&&(o.animation=t.setInterval(function(){try{a.spritespin("update")}catch(e){}},o.frameTime))})},n.frame=function(t){return void 0===t?e(this).data("spritespin").frame:this.each(function(){e(this).spritespin("update",t)})},n.loop=function(t){return void 0===t?e(this).data("spritespin").loop:this.each(function(){var i=e(this);i.spritespin("animate",i.data("spritespin").animate,t)})},n.next=function(){return this.each(function(){var t=e(this);t.spritespin("frame",t.spritespin("frame")+1)})},n.prev=function(){return this.each(function(){var t=e(this);t.spritespin("frame",t.spritespin("frame")-1)})},n.animateTo=function(t){return this.each(function(){var i=e(this);i.spritespin({animate:!0,loop:!1,loopFrame:t})})},i.behaviors.none={name:"none",mousedown:e.noop,mousemove:e.noop,mouseup:e.noop,mouseenter:e.noop,mouseover:e.noop,mouseleave:e.noop,dblclick:e.noop,onFrame:e.noop}}(jQuery,window),function(e,t,i){i.behaviors.click={name:"click",mouseup:function(t){var n=e(this),a=n.data("spritespin");i.updateInput(t,a),n.spritespin("animate",!1);var o,r,s=a.target.offset();"horizontal"==a.orientation?(o=a.width/2,r=a.currentX-s.left):(o=a.height/2,r=a.currentY-s.top),r>o?(n.spritespin("frame",a.frame+1),a.reverse=!1):(n.spritespin("frame",a.frame-1),a.reverse=!0)}}}(jQuery,window,window.SpriteSpin),function(e,t,i){i.behaviors.drag={name:"drag",mousedown:function(t){var n=e(this),a=n.data("spritespin");i.updateInput(t,a),a.onDrag=!0},mousemove:function(t){var n=e(this),a=n.data("spritespin");if(a.onDrag){i.updateInput(t,a);var o;o="horizontal"==a.orientation?a.dX/a.width:a.dY/a.height;var r=o*a.frames*a.sense,s=Math.round(a.clickframe+r);n.spritespin("update",s),n.spritespin("animate",!1)}},mouseup:function(t){var n=e(this),a=n.data("spritespin");i.resetInput(a),a.onDrag=!1},mouseleave:function(t){var n=e(this),a=n.data("spritespin");i.resetInput(a),a.onDrag=!1}}}(jQuery,window,window.SpriteSpin),function(e,t,i){i.behaviors.hold={name:"hold",mousedown:function(t){var n=e(this),a=n.data("spritespin");i.updateInput(t,a),a.onDrag=!0,n.spritespin("animate",!0)},mousemove:function(t){var n=e(this),a=n.data("spritespin");if(a.onDrag){i.updateInput(t,a);var o,r,s=a.target.offset();"horizontal"==a.orientation?(o=a.width/2,r=(a.currentX-s.left-o)/o):(o=a.height/2,r=(a.currentY-s.top-o)/o),a.reverse=0>r,r=0>r?-r:r,a.frameTime=80*(1-r)+20}},mouseup:function(t){var n=e(this),a=n.data("spritespin");i.resetInput(a),a.onDrag=!1,n.spritespin("animate",!1)},mouseleave:function(t){var n=e(this),a=n.data("spritespin");i.resetInput(a),a.onDrag=!1,n.spritespin("animate",!1)},onFrame:function(t){var i=e(this);i.spritespin("animate",!0)}}}(jQuery,window,window.SpriteSpin),function(e,t,i){i.behaviors.swipe={name:"swipe",mousedown:function(t){var n=e(this),a=n.data("spritespin");i.updateInput(t,a),a.onDrag=!0},mousemove:function(t){var n=e(this),a=n.data("spritespin");if(a.onDrag){i.updateInput(t,a);var o,r,s=a.frame,p=a.snap||.25;"horizontal"==a.orientation?(o=a.dX,r=a.width*p):(o=a.dY,r=a.height*p),o>r?(s=a.frame-1,a.onDrag=!1):-r>o&&(s=a.frame+1,a.onDrag=!1),n.spritespin("update",s),n.spritespin("animate",!1)}},mouseup:function(t){var n=e(this),a=n.data("spritespin");a.onDrag=!1,i.resetInput(a)},mouseleave:function(t){var n=e(this),a=n.data("spritespin");a.onDrag=!1,i.resetInput(a)}}}(jQuery,window,window.SpriteSpin),function(e,t){var i=t.SpriteSpin.modules[360]={};i.reload=function(t){var n=e(t.images);t.stage.empty(),t.modopts={is_sprite:1==t.images.length,resX:t.resolutionX||t.images[0].width,resY:t.resolutionY||t.images[0].height,offX:t.offsetX||0,offY:t.offsetY||0,stepX:t.stepX||t.width,stepY:t.stepY||t.height,numFramesX:t.framesX||t.frames,oldFrame:t.frame,images:n},t.modopts.is_sprite||t.canvas||t.stage.append(n),n.css({width:t.modopts.resX,height:t.modopts.resY}),i.draw(t)},i.draw=function(e){e.modopts.is_sprite?i.drawSpritesheet(e):i.drawImages(e)},i.drawSpritesheet=function(e){var t=e.modopts,i=e.source[0],n=e.frame%t.numFramesX,a=e.frame/t.numFramesX|0,o=t.offX+n*t.stepX,r=t.offY+a*t.stepY;return e.canvas?(e.context.clearRect(0,0,e.width,e.height),void e.context.drawImage(e.images[0],o,r,e.width,e.height,0,0,e.width,e.height)):void e.stage.css({width:[e.width,"px"].join(""),height:[e.height,"px"].join(""),"background-image":["url('",i,"')"].join(""),"background-repeat":"no-repeat","background-position":[-o,"px ",-r,"px"].join(""),"-webkit-background-size":[t.resX,"px ",t.resY,"px"].join("")})},i.drawImages=function(t){var i=t.images[t.frame];if(t.canvas)return t.context.clearRect(0,0,t.width,t.height),void t.context.drawImage(i,0,0);var n=t.stage.css({width:[t.width,"px"].join(""),height:[t.height,"px"].join("")}).children().hide()[t.frame];SpriteSpin.disableSelection(e(n)).show()}}(window.jQuery,window),function(e,t){var i=t.SpriteSpin.modules.gallery={};i.reload=function(t){t.images=[],t.offsets=[],t.stage.empty(),t.speed=500,t.opacity=.25,t.oldFrame=0;var i=0,n=0;for(n=0;n<t.source.length;n+=1){var a=e("<img src='"+t.source[n]+"'/>");t.stage.append(a),t.images.push(a),t.offsets.push(-i+(t.width-a[0].width)/2),i+=a[0].width,a.css({opacity:.25})}t.stage.css({width:i}),t.images[t.oldFrame].animate({opacity:1},t.speed)},i.draw=function(e){e.oldFrame!=e.frame&&e.offsets?(e.stage.stop(!0,!1),e.stage.animate({left:e.offsets[e.frame]},e.speed),e.images[e.oldFrame].animate({opacity:e.opacity},e.speed),e.oldFrame=e.frame,e.images[e.oldFrame].animate({opacity:1},e.speed)):e.stage.css({left:e.offsets[e.frame]+e.dX})},i.resetInput=function(e){e.onDrag||e.stage.animate({left:e.offsets[e.frame]})}}(jQuery,window),function(e,t){var i=t.SpriteSpin.modules.panorama={};i.reload=function(e){e.stage.empty();var t=e.modopts={};t.resX=e.resolutionX||e.images[0].width,t.resY=e.resolutionY||e.images[0].height,"horizontal"==e.orientation?t.frames=e.frames||t.resX:t.frames=e.frames||t.resY,i.draw(e)},i.draw=function(e){var t,i,n=e.modopts;"horizontal"==e.orientation?(t=e.frame%n.frames,i=0):(t=0,i=e.frame%n.frames),e.stage.css({width:[e.width,"px"].join(""),height:[e.height,"px"].join(""),"background-image":["url('",e.source[0],"')"].join(""),"background-repeat":"repeat-both","background-position":[-t,"px ",-i,"px"].join(""),"-webkit-background-size":[n.resX,"px ",n.resY,"px"].join("")})}}(window.jQuery,window);