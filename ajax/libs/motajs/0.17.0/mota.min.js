/*! MotaJS v0.17.0 | http://jdmota.github.io/motajs/ | MIT */
(function(){function t(t){return t&&t.Object===Pr?t:null}function e(t,e,n,r,i,o,s){var u=s;for(var a in n)(r||Hr.call(n,a))&&(u=t(e,n,a,i,o,u));if(Zr)for(var c=Zr(n),h=0;h<c.length;h++){var l=c[h];Xr.call(n,l)&&(u=t(e,n,l,i,o,u))}}function n(t,e,n,r){return function(i){var o=Object(i),s=r?arguments.length-1:arguments.length,u=r?arguments[s]:void 0;r&&"function"!=typeof u&&(u=void 0,s++);for(var a=0;a<s;a++){var c=arguments[a+1];null!=c&&c!==o&&t(e,o,c,n,u,a)}return o}}function r(t,e,n){t[n]=e[n]}function i(t,e,n,r){t[n]=r?r(t[n],e[n],n,t,e):e[n]}function o(t){var e=fi.iterator;return e?t[e]():t["@@iterator"]()}function s(t){var e=fi.iterator;return e?t[e]:t["@@iterator"]}function u(t,e){var n=fi.iterator;n&&(t[n]=e),t["@@iterator"]=e}function a(t,e,n){var r=t.prototype;r.entries=function(){return new e(this,wi)},r.values=function(){return new e(this,bi)},r.keys=function(){return new e(this,_i)},u(r,r[n])}function c(t){return Ei(Object(t))}function h(t,e){return null!=t&&t.hasOwnProperty===Hr?t.hasOwnProperty(e):Hr.call(t,e)}function l(t){var e=typeof t;return"object"===e||"function"===e?null===t?"null":Ai[hi(t)]||"object":e}function f(t){return hi(t)===si.Arguments}function p(t){var e;return!!Si(t)||!(!C(t)||ji(t)||V(t))&&(e="length"in t&&t.length,"number"==typeof e&&e>-1&&e%1==0&&e<=Oi)}function d(t){return t===!0||t===!1||"boolean"===l(t)}function v(t){return"date"===l(t)}function g(t){var e,n=Di();if(n&&t===n)return!0;if(!t||null!==t.parentNode||!(e=t.defaultView))return!1;if(Wr)return V(e);var r=hi(t);return r===Ti||r===Ui}function m(t){return!!t&&1===t.nodeType&&"object"==typeof t&&!I(t)}function y(t){if(null==t)return!0;if(Si(t)||U(t)||f(t))return 0===t.length;for(var e in t)if(h(t,e))return!1;return!0}function _(t){return"error"===l(t)}function b(t){return O(t)&&Gr(t)}function w(t){return Si(t)||!!t&&ji(s(t))}function x(t){return Si(t)||!!t&&t.values!==t.keys&&ji(t.values)&&ji(t.keys)&&t.values===s(t)}function E(t){return!!t&&ji(t.entries)&&t.entries===s(t)}function A(t){return x(t)||E(t)}function k(t){return O(t)&&t!=+t}function j(t){return null==t}function S(t){return null===t}function O(t){return"number"===l(t)}function M(t){return"object"===l(t)}function C(t){var e;return!!t&&("function"==(e=typeof t)||"object"===e)}function I(t){var e,n;return!!M(t)&&(e=c(t),null===e||(n=Hr.call(e,"constructor")&&e.constructor,"function"==typeof n&&n instanceof n&&Ni.call(n)===Fi))}function T(t){return"regexp"===l(t)}function U(t){return"string"===l(t)}function N(t){return"symbol"===l(t)}function F(t){return"object"==typeof t&&"number"==typeof t.length&&!!ai[hi(t)]}function q(t){return void 0===t}function V(t){if(t===Kr)return!0;if(!t||"object"!=typeof t)return!1;if(!Wr&&t.window!==t)return!1;var e=hi(t);return e===qi||e===Vi}function P(t,e){for(var n=[],r=0,i=r+e;i<t.length;r++,i++)n[r]=t[i];return n}function L(t,e){return null==e?t():t.call(e)}function R(t,e){switch(e.length){case 0:return t();case 1:return t(e[0]);case 2:return t(e[0],e[1]);case 3:return t(e[0],e[1],e[2]);case 4:return t(e[0],e[1],e[2],e[3]);case 5:return t(e[0],e[1],e[2],e[3],e[4]);default:return t.apply(void 0,e)}}function z(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2]);case 4:return t.call(e,n[0],n[1],n[2],n[3]);case 5:return t.call(e,n[0],n[1],n[2],n[3],n[4]);default:return t.apply(e,n)}}function D(t,e,n){if(t)return n?null==e?R(t,n):z(t,e,n):L(t,e)}function W(t){return C(t)?Pi(t):{}}function B(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4])}var n=W(t.prototype),r=D(t,n,e);return C(r)?r:n}}function $(t,e){var n,r,i=B(t);return arguments.length<3?r=function(){var n=this&&this instanceof r?i:t;return D(n,e,P(arguments,0))}:(n=P(arguments,2),r=function(){for(var o=P(n,0),s=o.length,u=0;u<arguments.length;u++)o[u+s]=arguments[u];var a=this&&this instanceof r?i:t;return D(a,e,o)}),r}function K(t){if(!ji(t))throw new TypeError("Expected a function")}function H(t){var e,n=!1,r=t;return K(r),function(){return n||(n=!0,e=D(r,this,P(arguments,0)),r=void 0),e}}function Y(t,e){"undefined"!=typeof console&&console.error(t+" WARNS: "+e)}function Q(){this.view=null,this.events=null}function G(t,e,n,r,i){this.type=t,this.namespaces=e,this.handler=n,this.context=r,this.isRegExp=i,this.once=!1,this._index=-1}function X(t,e,n,r){var i,o,s,u,a=[""],c=l(t),h="regexp"===c;if(h)r.push(new G(t,(void 0),e,n,h));else if("object"===c){e&&(n=e);for(s in t)X(s,t[s],n,r)}else for(o=(t||"").match(Hi)||a,i=0;i<o.length;i++)s=o[i],u=s.match(Yi),s=(s.match(Qi)||a)[0],r.push(new G(s,u,e,n,h));return r}function J(t,e){var n,r,i=0;for(t.length>e.length?(n=e,r=t):(n=t,r=e);i<n.length;i++)if(r.indexOf(n[i])>-1)return!0;return!1}function Z(t,e){return t===e||""+t==""+e&&l(t)===l(e)}function tt(t,e,n,r,i,o){var s,u=(!e||Z(t.type,e)||o&&t.isRegExp&&(s=e.match(t.type)))&&(!r||t.handler===r)&&(!n||0===n.length||t.namespaces&&J(t.namespaces,n))&&(!i||t.context===i);return void 0===s?u:s}function et(){this.arr=[],this._maxListeners=void 0}function nt(t){return Ki.setup(t,"events",new et)}function rt(t,e,n){var r=[];return Ji(this,"get",Zi,t,e,n,r),r}function it(){var t=Ki.get(this,"events"),e=t&&t._maxListeners;return"number"==typeof e&&e}function ot(t,e,n){var r=Ji(this,"getFirst",void 0,t,e,n);return r>0}function st(t,e,n){return Ji(this,"off",to,t,e,n),this}function ut(){}function at(t,e,n){return no.call(this,t,e,n,!0)}function ct(t){return nt(this)._maxListeners="number"!=typeof t||t<0||isNaN(t)?void 0:t,this}function ht(t){return Ji(this,"trigger",ro,t,void 0,void 0,P(arguments,1)),this}function lt(t,e){var n={},r=0;return function(i){return void 0===e||i.length>e?(void 0===n[i]&&(r===oo&&(n={},r=0),n[i]=t(i),r++),n[i]):t(i)}}function ft(t){if(!U(t))throw new TypeError("Path must be a string.")}function pt(t){return t.charCodeAt(0)===uo}function dt(t){return ft(t),pt(t)}function vt(t){return ft(t),co(t)}function gt(t,e){this.router=t,this.window=$r,this.document=$r&&$r.document,this.history=$r&&$r.history,this.location=this.history&&this.history.location||$r&&$r.location,this._started=!1,this.fragment="/",this.callback=e||ut}function mt(t,e){return null==e?t:function(n,r,i){return t.call(e,n,r,i)}}function yt(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n,t)===mo)return}function _t(t,e,n){for(var r,i=0;!(r=n.next()).done;){if(e(r.value,i,t)===mo)return;i++}}function bt(t,e,n){for(var r,i;!(r=n.next()).done&&(i=r.value,e(i[1],i[0],t)!==mo););}function wt(t,e){for(var n,r=0,i=Qr(t);r<i.length;r++)if(n=i[r],e(t[n],n,t)===mo)return}function xt(t,e,n){var r,i;return r=s(t),ji(r)?(i=o(t),r===t.entries?bt(t,e,i):_t(t,e,i)):n===!1?void 0:wt(t,e)}function Et(t){return t>>>1&1073741824|3221225471&t}function At(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}function kt(t,e){return t=_o(t,3432918353),t=_o(t<<15|t>>>-15,461845907),t=_o(t<<13|t>>>-13,5),t=(t+3864292196|0)^e,t=_o(t^t>>>16,2246822507),t=_o(t^t>>>13,3266489909),Et(t^t>>>16)}function jt(t){return Ki.get(t,"hash")}function St(t){var e,n;if(!t)return 0;if("function"==typeof t.valueOf&&(t=t.valueOf(),!t))return 0;if(t===!0)return 1;if(e=typeof t,"number"===e){if(!Gr(t))return t>0?1:-1;for(n=0|t,n!==t&&(n^=4294967295*t);t>4294967295;)t/=4294967295,n^=t;return Et(n)}return"string"===e?bo(t):(n=jt(t),void 0!==n?n:"function"==typeof t.hashCode?t.hashCode():(n=wo++,1073741824&wo&&(wo=1),Ki.setup(t,"hash",n),n))}function Ot(t,e){return t===e||t!==t&&e!==e}function Mt(t,e){if(Ot(t,e))return!0;if(!t||!e)return!1;if(ji(t.valueOf)&&ji(e.valueOf)){if(t=t.valueOf(),e=e.valueOf(),Ot(t,e))return!0;if(!t||!e)return!1}return ji(t.equals)&&ji(e.equals)&&t.equals(e)}function Ct(t){this.children=[],this.owner=t,this.bitmap=0}function It(t){return t-=t>>1&1431655765,t=(858993459&t)+(t>>2&858993459),t=t+(t>>4)&252645135,t+=t>>8,t+=t>>16,127&t}function Tt(t,e,n,r){var i=n.hash,o=r.hash,s=new Ct(t),u=s.children,a=(0===e?i:i>>>e)&vo,c=(0===e?o:o>>>e)&vo;return s.bitmap=1<<a|1<<c,a<c?(u[0]=n,u[1]=r):a>c?(u[0]=r,u[1]=n):u[0]=Tt(t,e+fo,n,r),s}function Ut(t,e,n,r){this.children=[n,r],this.hash=t,this.owner=e}function Nt(t,e,n,r){this.key=t,this.value=e,this.hash=n,this.owner=r}function Ft(t,e){return{node:t,index:0,prev:e}}function qt(t,e,n){return{value:n===wi?[t,e]:n===_i?t:e,done:!1}}function Vt(){return Eo.changeValue=!1,Eo.changeSize=!1,Eo.oldValue=void 0,Eo}function Pt(t){var e=Ki.get(t,"events");return!(!e||!e.length())}function Lt(t,e,n,r){var i,o,s=St(e),u=t.__owner,a=n===lo,c=t.__root,h=0,l=Vt();return c?c=t.__root.modify(e,n,s,0,u,l):a||(l.changeValue=!0,l.changeSize=!0,c=new Nt(e,n,s,u)),l.changeValue?(h=t.size+(l.changeSize?a?-1:1:0),h||u?(u?(t.__root=c,t.size=h,t.__hash=void 0):t=Bt(!1,h,c),u&&!r&&Pt(t)&&(i={type:a?"delete":l.changeSize?"add":"update",key:e},i.name=e,a?i.oldValue=l.oldValue:(i.value=i.newValue=n,l.changeSize||(i.oldValue=l.oldValue)),o=t.__changes,o||(o=t.__changes=[]),o.push(i)),t):ko):t}function Rt(){}function zt(t){return!(!t||!t[go])}function Dt(t){return t===ho?(this.__root=null,this.__owner=null,this.__changes=null,this.__hash=void 0,this.size=0,this):Bt(!0,0,null).merge(t,ho)}function Wt(t){return t===ho?(this.__root=null,this.__owner=null,this.__hash=void 0,this.size=0,this):ko.merge(t,ho)}function Bt(t,e,n){var r=t?new Dt(ho):new Wt(ho);return r.size=e||0,r.__root=n,t&&(r.__owner={}),r}function $t(t,e){for(var n in e)Bi(t,n,{writable:!0,configurable:!0,value:e[n]})}function Kt(t){if(null!=t){if(!ji(t))throw new TypeError(t+" is not a function");return t}}function Ht(t,e,n){if(ji(t))return{next:t,error:e,complete:n};if(Object(t)!==t)throw new TypeError("Observer must be an object");return t}function Yt(t){return void 0===t._observer}function Qt(t,e){Yt(t)||(t._observer=void 0,Gt(t,e))}function Gt(t,e){var n=t._cleanup;if(n)if(t._cleanup=void 0,e)try{n()}catch(r){}else n();if(e)throw e}function Xt(t,e){var n=t(e);if(null!=n)if(ji(n.unsubscribe))n=n.unsubscribe.bind(n);else if(!ji(n))throw new TypeError(n+" is not a function");return n}function Jt(t,e){var n,r,i=t._observer;if(!Yt(t))try{r=Kt(i.next),r&&(n=r.call(i,e))}catch(o){Qt(t,o)}return n}function Zt(t,e){var n,r,i=t._observer;if(!Yt(t)){t._observer=void 0;try{r=Kt(i.complete),r&&(n=r.call(i,e))}catch(o){Gt(t,o)}Gt(t)}return n}function te(t,e){var n,r,i,o=t._observer;if(Yt(t))throw e;t._observer=void 0;try{r=Kt(o.error),r?n=r.call(o,e):i=e}catch(s){i=s}return Gt(t,i),n}function ee(t){return di(t,"species")||t}function ne(){this.first=null,this.last=null}function re(t){return t===Co||t===To||t===Io}function ie(t,e,n){t.state!==e&&t.state===Co&&re(e)&&(t.value=n,t.state=e,ue(t))}function oe(t){return!(!t||!t[Mo])}function se(t,e){if(t===e)ie(t,To,new TypeError("The promise and its value refer to the same object"));else if(oe(e))e.state===Co?e.then(function(e){se(t,e)},function(e){ie(t,To,e)}):ie(t,e.state,e.value);else if(C(e)||ji(e)){var n,r=!1;try{n=e.then,ji(n)?n.call(e,function(e){r||(se(t,e),r=!0)},function(e){r||(ie(t,To,e),r=!0)}):(ie(t,Io,e),r=!0)}catch(i){r||(ie(t,To,i),r=!0)}}else ie(t,Io,e)}function ue(t){var e=t.queue;t.state===Co||e.isEmpty()||Oo(function(){for(;!e.isEmpty();){var n,r=e.shift(),i=null;t.state===Io?i=r.handlers.fulfill:t.state===To&&(i=r.handlers.reject);try{n=i(t.value)}catch(o){ie(r,To,o);continue}se(r,n)}})}function ae(t){return t}function ce(t){throw t}function he(t){var e=this;this.value=null,this.state=Co,this.queue=new ne,this.handlers={fulfill:ae,reject:ce};var n=function(t){se(e,t)},r=function(t){ie(e,To,t)};if(ji(t))try{t(n,r)}catch(i){r(i)}}function le(t){Oo(function(){throw t})}function fe(){this.arr=[]}function pe(t){this.multicast=t}function de(t){var e=this._subscription,n=this._subs;n&&(n.remove(t),e&&this._refCount&&!n.length()&&e.unsubscribe())}function ve(t){if("string"==typeof t)return t;if(N(t))return yi?yi.call(t):"";var e=t+"";return"0"===e&&1/t===-(1/0)?"-0":e}function ge(t){return null==t?"":ve(t)}function me(t){var e=ge(t);return e&&$o.test(e)?e.replace(Bo,"\\$&"):e}function ye(t,e){if(ft(t),!t)return"";var n=pt(t)?"/":"",r=t.replace(so,"/").split("/"),i=ao(r,!n),o=i.pop();return e?o.replace(Ko(e),""):o}function _e(t){ft(t);var e=t.replace(Qo,"").match(Yo);return e&&e[2]&&e[1]?e[2]:""}function be(){var t,e,n=[];for(t=0;t<arguments.length;t++)e=arguments[t],ft(e),e&&n.push(e);return co(n.join("/"))}function we(t,e,n){ft(t);var r,i=0,o=null,s=e.regexp,u=e.names,a=t.match(s);if(e.negated)return a?null:{};if(a)for(o={};i<u.length;i++)r=u[i],(n||"number"!=typeof r)&&(o[r]=a[i+1]?Go(a[i+1]):a[i+1]);return o}function xe(t){return t?t.replace(Jo,"\\$1"):""}function Ee(t,e,n,r,i){var o="(?:"+r+")",s=i?"\\/":"\\/"+es;return n&&(o+="(?:"+s+o+")*"),o=e?t?"(?:"+s+"("+o+"))?":"("+o+")?":t?s+"("+o+")":"("+o+")"}function Ae(t,e,n,r){var i,o,s,u,a,c="";return i=!!e[2],o=e[6],s=e[7]||"*"===o,u=e[8],i&&(a=t.charCodeAt(n),a&&a!==uo&&(c+="\\/",i=!1)),c+Ee(i,s||u||"?"===o,s||"+"===o,xe(e[4]||e[5])||ns,r)}function ke(t,e){var n,r,i=[],o="",s=0,u=0,a=0,c=t.charCodeAt(0)===rs,h=e&&e.caseSensitive,l=!e||void 0===e.end||e.end,f=(c?t.slice(1):t).replace(Xo,"")||"/";"/"!==f||l||(f="");for(var p=e&&e.dot;n=ts.exec(f);)a=n.index,o+=me(f.slice(u,a)),u=a+n[0].length,r=n[1],r?o+=r:(o+=Ae(f,n,u,p),i.push(n[3]||s++));return u<f.length&&(o+=me(f.substr(u))),{regexp:new RegExp("^"+o+"(?:/(?=$))?"+(l?"$":"(?=\\/|$)"),h?"":"i"),names:i,negated:c}}function je(t){for(var e,n,r=[];e=ts.exec(t);)n=e[3],n&&r.push(n);return r}function Se(t,e){ft(t),ft(e);var n,r,i,o,s,u;for(n=ao(t.split("/"),!0),r=ao(e.split("/"),!0),i=Math.min(n.length,r.length),o=i,s=0;s<i;s++)if(n[s]!==r[s]){o=s;break}for(u=[],s=o;s<n.length;s++)u.push("..");return u=u.concat(r.slice(o)),u.join("/")}function Oe(){for(var t,e="",n=arguments.length,r=!1;n--&&!r;)t=arguments[n],ft(t),t&&(e=e?t+"/"+e:t,r=pt(e));return co(e)}function Me(t){var e=t&&t.replace(hs,"");return e?Oe("/",e.replace(as,"").replace(cs,"")):"/"}function Ce(t){var e=t&&t.match(hs);return e&&e[0]||""}function Ie(t,e){this.method=t,this.fn=e}function Te(t){this.pattern=ss,this.path=os,this.router=t,this._runThis=this._run.bind(this)}function Ue(t,e){this.fn=function(n,r,i){var o=n.params;o&&t in o&&e(n,r,i,o[t])}}function Ne(t,e,n,r){try{t(e,n,r)}catch(i){r(i)}}function Fe(t){var e=!1;return function(n){e||(e=!0,Oo(function(){t(n),t=void 0}))}}function qe(t,e){var n=e?e.replace(ls,"$1"):"";return n&&"/"!==t?t+"/"+n:t+n}function Ve(t){return this instanceof Ve?(this.caseSensitive=t&&t.caseSensitive,this.dot=t&&t.dot,this.path=os,this.pattern=ss,this.names=ss.names,this.routes=[],void(this.params=[])):new Ve(t)}function Pe(t){return null==t?[]:Qr(Object(t))}function Le(t){var e,n,r,i,o="",s=0;if(!t)return"";if(e=l(t),"array"===e)for(n=t.length;s<n;s++)t[s]&&(o+=" "+t[s]);else if("object"===e)for(r=Pe(t),n=r.length;s<n;s++)i=r[s],t[i]&&(o+=" "+i);else o=t+"";return o.trim()}function Re(t){this.__internal__=null,this.props=t}function ze(t,e){throw new Error(t+" ERROR: "+e)}function De(t){function e(t){Re.call(this,t)}ji(t)&&(t={render:t}),t&&ji(t.render)||ze("mota.view.createClass","Provide an object with a `render` property containing a function"),e.displayName=t.displayName,e.validateProps=t.validateProps;for(var n in t.statics)e[n]=t.statics[n];return e.prototype=new Re,t=ti(e.prototype,t),t.constructor=e,e}function We(t){for(var e=0;e<ps.length;e++)if(ps[e].el===t)return ps[e]}function Be(t){ps.push(t)}function $e(){for(var t=0;t<ps.length;t++)ps[t].updater.startIgnore()}function Ke(){for(var t=0;t<ps.length;t++)ps[t].updater.endIgnore()}function He(){return!0}function Ye(){return!1}function Qe(t){var e=t.target;this.originalEvent=t,this.type=t.type,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget,3===e.nodeType?this.target=e.parentNode:this.target=e,this.timeStamp=t.timeStamp||fs()}function Ge(t){return t.nodeType&&3!==t.nodeType||t===t.window}function Xe(t){return t.__internal__?t.__internal__.el:null}function Je(){}function Ze(t){var e,n,r,i,o,s=t.slice(0),u=[0];for(e=0;e<t.length;e++)if(t[e]!==-1)if(n=u[u.length-1],t[n]<t[e])s[e]=n,u.push(e);else{for(r=0,i=u.length-1;r<i;)o=r+i>>>1,t[u[o]]<t[e]?r=o+1:i=o;t[e]<t[u[r]]&&(r>0&&(s[e]=u[r-1]),u[r]=e)}for(r=u.length,i=u[r-1];r--;)u[r]=i,i=s[i];return u}function tn(t,e){t[e.key]=null,e.remove()}function en(t,e,n){if(null!=e||null!=n){for(var r=t.map,i=0,o=0,s=e?e.length:0,u=n?n.length:0,a=s-1,c=u-1,h=null,l=null,f=null,p=null,d=null;i<=a&&o<=c&&(l=n[o],l===e[i]);)l.reconcile(),o++,i++;for(;i<=a&&o<=c&&(f=n[c],f===e[a]);)f.reconcile(),c--,a--;for(;i<=a&&o<=c&&(f=n[c],h=e[i],f===h);)t.move(f,c+1<u?n[c+1].el:null),c--,i++;for(;i<=a&&o<=c&&(l=n[o],p=e[a],l===p);)t.move(l,e[i].el),o++,a--;if(i>a){if(o<=c)for(d=c+1<u?n[c+1].el:null;o<=c;o++)t.move(n[o],d)}else if(o>c)for(;i<=a;)tn(r,e[i++]);else{for(var v=a-i+1,g=c-o+1,m=new Array(g),y=0;y<g;y++)m[y]=-1;var _,b=!1,w=0,x=0,E=!0,A=0,k={};for(y=o;y<=c;y++)k[n[y].key]=y;for(y=i;y<=a;y++)E=!0,p=e[y],A<u&&(_=k[p.key],void 0!==_&&(m[_-o]=y,x>_?b=!0:x=_,A++,E=!1)),E&&(tn(r,p),w++);var j;if(b){var S=Ze(m),O=S.length-1;for(y=g-1;y>=0;y--)j=y+o,m[y]===-1||O<0||y!==S[O]?t.move(n[j],j+1<u?n[j+1].el:null):(n[j].reconcile(),O--)}else if(v-w===g)for(y=g-1;y>=0;y--)n[y+o].reconcile();else for(y=g-1;y>=0;y--)j=y+o,m[y]===-1?t.move(n[j],j+1<u?n[j+1].el:null):n[j].reconcile()}}}function nn(t,e,n,r,i){if(this.parentInternal=r,this.parentNotFrag=r.isFrag?r.parentNotFrag:r,this.parentEl=this.parentNotFrag.el,this.depth=r.depth+1,this.key=i,!ji(t))return this.isNative=!0,this.owner=r.owner,this.dom.setType(t,e),void(n&&n(this.el));this.construct=t,this.props=this.validateProps(e);var o=this.component=new t(this.props);o.__internal__=this,this.owner=o,this.dontQueue=!0,o.initialize&&o.initialize(),n&&n(o),o.componentWillMount&&o.componentWillMount(),this.queued=!1,this.dontQueue=!1,o.render(this.dom,this.props),this.el||this.dom.error("You must use `setType` inside the render method."),o.componentDidMount&&this.updater.queueCallback(o,"componentDidMount")}function rn(t){this.dontQueue||(this.queued?t&&(this.force=!0):(this.queued=!0,this.force=!!t,this.updater.queueUpdate(this)))}function on(t){var e=t.component,n=t.array;if(t.queued=!1,t.dontQueue=!0,e&&(e.componentWillUnmount&&e.componentWillUnmount(),e.__internal__=null),n){var r=0;if(t.isFrag)for(;r<n.length;r++)n[r].remove();else for(;r<n.length;r++)on(n[r])}}function sn(){this.updater.queueElemDeletion(this),on(this)}function un(t){return t||0===t?t+"":void 0}function an(t){if(this.shouldUpdate=!0,this.isNative){if(!this.hasAttrs){var e=un(t)||"";this.el.nodeValue!==e&&this.updater.queueAttrUpdate(this,"nodeValue",e,"prop")}}else{var n=this.component,r=this.props,i=t;if(this.dontQueue=!0,null==i?i=this.props:(i=this.validateProps(i),n.componentWillReceiveProps&&n.componentWillReceiveProps(i)),!this.force&&n.shouldComponentUpdate){var o=n.shouldComponentUpdate(i);if(o===!1)return this.props=n.props=i,this.queued=!1,this.dontQueue=!1,void(this.shouldUpdate=!1)}n.componentWillUpdate&&n.componentWillUpdate(i),this.props=n.props=i,this.queued=!1,this.dontQueue=!1,this.force=!1,n.render(this.dom,i),n.componentDidUpdate&&this.updater.queueCallback(n,"componentDidUpdate",r)}}function cn(t){this.root=t,this.updater=t.updater,this.dom=t.updater.dom,this.component=null,this.construct=null,this.queued=!1,this.dontQueue=!1,this.force=!1,this.shouldUpdate=!0,this.array=null,this.tempArray=null,this.map=null,this.isNative=!1,this.isNativeMounted=!1,this.isFrag=!1,this.justCreated=!0,this.depth=-1,this.type=void 0,this.hasAttrs=!0,this.isVoid=!1,this.parentInternal=null,this.parentNotFrag=null,this.parentEl=null,this.key=void 0,this.el=null,this.closingEl=null,this.props=null,this.itEl=null,this.noKeyIdx=null,this.textBuffer=void 0,this.newAttrs=null,this.prevAttrs=null,this.statics=null,this.staticsIdx=0}function hn(t,e,n){var r,i,o=e.type;return"#text"===o?t.createTextNode(n||""):"#comment"===o?t.createComment(n||""):(i=e.parentEl,r="foreignObject"===i.nodeName?null:As[o]||i.namespaceURI,r?t.createElementNS(r,o):t.createElement(o))}function ln(t){return t.charAt(0).toUpperCase()+t.substring(1)}function fn(t,e){return null==e||"boolean"==typeof e||""===e?"":"number"!=typeof e||0===e||Ss[t]?(e+"").trim():e+"px"}function pn(t){if(!t)return!0;for(var e in t)return!1;return!0}function dn(t,e,n,r){var i,o,s,u=(e.el,null);if(pn(n))return void(pn(r)||e.dom._pushAttr("style",null,"attr"));e.dom._startStyle(),u={};for(i in n)o=Os(i),o&&(s=fn(o,n[o]),s&&(r?(r[o]!==s&&e.dom._pushAttr(o,s,"style"),r[o]=void 0):e.dom._pushAttr(o,s,"style"),u[o]=s));if(r)for(i in r)r[i]&&e.dom._pushAttr(i,"","style");return e.dom._endStyle(),u}function vn(t,e,n,r){var i=un(n);return i!==r&&e.dom._pushAttr(t,i,"attr"),i}function gn(t,e,n,r){var i=!!n;return i!==r&&e.dom._pushAttr(t,n?"":null,"attr"),i}function mn(t,e,n,r){var i=!!n;return i!==r&&e.dom._pushAttr(t,i,"prop"),i}function yn(t,e,n,r){var i=un(n);return i!==r&&e.dom._pushAttr(t,i||"","prop"),i}function _n(t,e,n,r){var i=un(n);return i!==r&&e.updater.queueEdgeCaseUpdate(e,t,i||""),i}function bn(t,e,n,r){return"select"===e.type?_n(t,e,n,r):vn(t,e,n,r)}function wn(t,e,n){if(null==e){var r,i=n.noKeyIdx||(n.noKeyIdx={});return ji(t)?(t.__type||(t.__type=Is++),r=t.__type):r=t,void 0===i[r]&&(i[r]=0),r+"$noKey$"+i[r]++}return"key$"+e}function xn(t,e,n){e.isFrag&&t.error("dom.attr","#fragment doesn't allow attributes."),e.tempArray&&t.error("dom.attr","You can only call this before any .open() call."),n||t.error("dom.attr","Provide a name.");var r=Ts[n]||n;return e.newAttrs&&void 0!==e.newAttrs[r]&&t.error("dom.attr",'You are setting "'+n+'" more than once.'),r}function En(t){var e,n,r=t.type,i=t.parentNotFrag;if(e=i.itEl?i.itEl:i.el.firstChild,e||(e={nodeName:""}),i.itEl=e.nextSibling||{nodeName:""},n=e.nodeName.toLowerCase(),t.isFrag?"#comment"!==n:r!==n){var o=" Expected '"+r+"' but found '"+n+"'.";t.dom.error("The pre-rendered markup did not match the component being rendered."+o)}return t.isNativeMounted=!0,e}function An(t,e){this.current=null,this.root=t,this.updater=e,this.ignore=0}function kn(t){var e=t&&t.constructor;return t?" Please check the code for the "+(e&&(e.displayName||e.name))+" component.":""}function jn(t){this.data=t,this.left=null,this.right=null}function Sn(t){if("class"!==t)return 0===t.lastIndexOf("xml:",0)?"http://www.w3.org/XML/1998/namespace":0===t.lastIndexOf("xlink:",0)?"http://www.w3.org/1999/xlink":void 0}function On(t,e){var n=Sn(e);return n?t.getAttributeNS(n,e):t.getAttribute(e)}function Mn(t,e,n){var r;null==n?t.removeAttribute(e):(r=Sn(e),r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))}function Cn(t,e,n,r){"attr"===r?Mn(t,e,n):"prop"===r?t[e]=n:"style"===r&&(t.style[e]=n)}function In(t,e,n,r){return"attr"===r?On(t,e)!==n:"prop"===r?t[e]!==n:t.style[e]!==n}function Tn(t){var e=t.internal,n=e.el,r=e.closingEl;t.remove?(n.parentNode.removeChild(n),r&&r.parentNode.removeChild(r)):(e.isNativeMounted=!0,t.parentNode.insertBefore(n,t.next),r&&t.parentNode.insertBefore(r,t.next))}function Un(t){Cn(t.el,t.name,t.value,t.type)}function Nn(t){t.el[t.name]=t.value}function Fn(t){t.component[t.name](t.arg)}function qn(t,e,n,r,i){t.push({el:e,name:n,value:r,type:i})}function Vn(t,e){for(var n=0;n<t.length;n++)e(t[n])}function Pn(){this.ignore=0,this.allowFlush=!0,this.dirtyComponents=new Us,this.dom=null,this.pendingAttrUpdates=[],this.pendingElemMoves=[],this.pendingEdgeCase=[],this.pendingCallbacks=[]}function Ln(t){this.el=t,this.isFirstRender=!0,this.props=null,this.reuseMarkup=!!t.firstChild,this.updater=new Pn,this.updater.dom=new An(this,this.updater),this.doc=t.ownerDocument,this.__internal__=new cn(this),this.__internal__.el=t,this.__internal__.component=this,this.__internal__.isNativeMounted=!0,this.__internal__.initVars(t.nodeName)}function Rn(t){var e=new Ln(t);return Be(e),e}function zn(t,e,n){Di();e&&1===e.nodeType||ze("mota.view.render","`parent` should be an DOM element");var r=We(e)||Rn(e);r.render=t,r.componentDidUpdate=function(){this.isFirstRender=!1,this.reuseMarkup=!1,this.componentDidUpdate=void 0,ji(n)&&n()},r.__internal__.queueUpdate(!1)}function Dn(t){return qs[t]}function Wn(t){var e=ge(t);return e&&Fs.test(e)?e.replace(Ns,Dn):e}function Bn(t){return t.replace(Vs,"-$1").toLowerCase()}function $n(t,e){this.current=null,this.root=t,this.updater=e,this.ignore=0,this.string=""}function Kn(){this.isFirstRender=!0,this.props=null,this.reuseMarkup=!1,this.updater=Ps,this.updater.dom=new $n(this,this.updater),this.__internal__=new cn(this),this.__internal__.el={},this.__internal__.component=this,this.__internal__.initVars("div")}function Hn(t){var e=new Kn,n=e.updater.dom,r=e.__internal__;return e.render=t,n.current=r,r.update(null),n._finishJob(),n.string}function Yn(t){t.__internal__.queueUpdate()}function Qn(t){t.__internal__.queueUpdate(!0)}function Gn(t,e){var n,r;for(n=0;n<e.length;n++)r=e[n],t[r]=$(t[r],t);return t}function Xn(t,e){for(var n=0;n<e.length;n++)t[n]=e[n];return t}function Jn(t,e,n,r,i){return e?(i.set(n,t),ri(t,n,function(t,e,n,o,s){return or(e,!0,r,n,s,i)})):ti(t,n),t}function Zn(t){var e=t.length,n=t.constructor(e);return e&&"string"==typeof t[0]&&h(t,"index")&&(n.index=t.index,n.input=t.input),n}function tr(t,e,n,r){var i=0;for(r.set(e,t);i<t.length;i++)t[i]=or(e[i],!0,n,i,e,r);return t}function er(t,e){if(e)return t.slice();var n=new t.constructor(t.length);return t.copy(n),n}function nr(t,e){var n=e?Ds(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function rr(t,e,n,r){var i=new t.constructor;return e&&r.set(t,i),t.forEach(function(o,s){i.set(s,e?or(o,!0,n,s,t,r):o)}),i}function ir(t,e,n,r){var i=new t.constructor;return e&&r.set(t,i),t.forEach(function(o){i.add(e?or(o,!0,n,o,t,r):o)}),i}function or(t,e,n,r,i,o){var s,u,a,h,l,f=o;if(n&&(s=i?n(t,r,i,f):n(t),void 0!==s))return s;if(!C(t))return t;if(e)if(f){if(l=f.get(t))return l}else f=new Rs;return Si(t)?(s=Zn(t),e?tr(s,t,n,f):Xn(s,t)):Ii(t)?er(t,e):(u=hi(t),ai[u]?nr(t,e):u===si.Map?rr(t,e,n,f):u===si.Set?ir(t,e,n,f):(a=ji(t),u===si.Object||u===si.Arguments||a&&!i?s=a||!ji(t.constructor)?{}:W(c(t)):(h=zs[u],h&&(s=h(t,e,n,f))),s?Jn(s,e,t,n,f):i?t:{}))}function sr(t){var e={},n=Object(t);for(var r in n)e[r]=n[r];return e}function ur(t,e,n){void 0===n&&("number"!=typeof e||e in t)||(t[e]=n)}function ar(t,n,r,i,o,s,u){var a=u;if(Si(r)||F(r))for(var c=0;c<r.length;c++)a=t(n,r,c,o,s,a);else e(t,n,r,!0,o,s,a)}function cr(t,e,n,r,i,o){var s,u,a,c=t[n],h=e[n],l=o;return C(h)?(l||(l=new Rs),(s=l.get(h))?(ur(t,n,s),l):(u=r?r(c,h,n,t,e,l):void 0,a=void 0===u,a&&(u=h,Si(h)||F(h)?Si(c)?u=c:p(c)?u=Xn([],c):(a=!1,u=or(h,!0)):I(h)||f(h)?f(c)?u=sr(c):!C(c)||i&&ji(c)?(a=!1,u=or(h,!0)):u=c:a=!1),a&&(l.set(h,u),ar(cr,u,h,!0,r,i,l),l["delete"](h)),ur(t,n,u),l)):(u=r?r(c,h,n,t,e,l):void 0,void 0===u&&(u=h),ur(t,n,u),l)}function hr(t,e,n){return void 0===t||Ot(t,Yr[n])&&!Hr.call(e,n)}function lr(t,e,n){var r=t[n];hr(r,t,n)&&(t[n]=e[n])}function fr(t,e,n,r,i,o){if(C(t)&&C(e)&&(o.set(e,t),ar(cr,t,e,!0,fr,void 0,o),o["delete"](e)),!hr(t,r,n))return t}function pr(t,e,n,r,i,o){return cr(t,e,n,fr,i,o)}function dr(t){if(null==t)return[];var e=Object(t),n=[];for(var r in e)Hr.call(e,r)&&n.push([r,e[r]]);return n}function vr(t){if(null==t)return[];var e=Object(t),n=[];for(var r in e)n.push([r,e[r]]);return n}function gr(t){return t}function mr(t,e,n,r){var i=Pe(t),o=Pe(e),s=i.length;if(s!==o.length)return!1;var u=r.get(t);if(u&&r.get(e))return u===e;var a,c=!0,l=!1,f=0;for(r.set(t,e),r.set(e,t);f<s;f++){if(a=i[f],!h(e,a)||!Er(t[a],e[a],n,a,t,e,r)){c=!1;break}l||"constructor"!==a||(l=!0)}if(c&&!l){var p=t.constructor,d=e.constructor;p===d||I(t)&&I(e)||(c=!1)}return r["delete"](t),r["delete"](e),c}function yr(t,e,n,r,i){var o=!0,s=0,u=t.length;if(u!==e.length)return!1;var a=r.get(t);if(a&&r.get(e))return a===e;var c=i&&new Rs;for(r.set(t,e),r.set(e,t);s<u;s++){var h,l=t[s],f=e[s];if(n){if(h=n(l,f,s,t,e,r))continue;if(void 0!==h){o=!1;break}}if(i){for(var p=0,d=!1;p<e.length;p++)if(!c.has(p)&&xr(l,e[p],n,r)){c.set(p,!0),d=!0;break}if(!d){o=!1;break}}else if(!xr(l,f,n,r)){o=!1;break}}return r["delete"](t),r["delete"](e),o}function _r(t,e){var n=new Array(e.size),r=0;return e.forEach(function(e,i){n[r++]=t?[i,e]:e}),n}function br(t,e,n,r,i){if(e.size!==n.size)return!1;var o=i.get(e);if(o&&i.get(n))return o===n;i.set(e,n),i.set(n,e);var s=yr(_r(t,e),_r(t,n),r,i,!0);return i["delete"](e),i["delete"](n),s}function wr(t,e,n,r,i){switch(n){case si.DataView:if(t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset)return!1;t=t.buffer,e=e.buffer;case si.ArrayBuffer:return t.byteLength===e.byteLength&&Er(new Uint8Array(t),new Uint8Array(e));case si.Boolean:case si.Date:case si.Number:return Ot(+t,+e);case si.Error:return t.name===e.name&&t.message===e.message;case si.RegExp:case si.String:return t+""==e+"";case si.Map:case si.Set:return br(n===si.Map,t,e,r,i);case si.Symbol:if(mi)return mi.call(t)===mi.call(e)}return!1}function xr(t,e,n,r){var i,o,s,u,a=r;return t===e||(null==t||null==e||!C(t)&&!C(e)?t!==t&&e!==e:(i=Si(t),o=Si(e),i?s=si.Array:(s=hi(t),s=s===si.Arguments?si.Object:s),o?u=si.Array:(u=hi(e),u=u===si.Arguments?si.Object:u),s===u&&(a||(a=new Rs),s!==si.Object?i||F(t)?yr(t,e,n,a):wr(t,e,s,n,a):mr(t,e,n,a))))}function Er(t,e,n,r,i,o,s){if(n){var u=i?n(t,e,r,i,o,s):n(t,e);if(void 0!==u)return!!u}return xr(t,e,n,s)}function Ar(t,e){return Er(t,e)}function kr(t,e,n){return Er(t,e,n)}function jr(t){if(null==t)return[];var e,n=Object(t),r=[];for(e in n)r.push(e);return r}function Sr(t,e){"undefined"!=typeof console&&console.log(t+" LOG: "+e)}function Or(t,e){return function(){for(var n=0;n<t.length;n++)D(t[n],this,arguments);return D(e,this,arguments)}}function Mr(t,e){var n,r,i,o=t&&t.prototype,s={};if(!o)return t;for(var u=0;u<e.length;u++){n=e[u];for(r in n)s[r]||(s[r]=[]),s[r].push(n[r])}for(r in s)i=o[r],o[r]=Or(s[r],ji(i)&&i);return t}function Cr(){return Js&&Kr.mota===this&&(Kr.mota=Js),this}function Ir(t){return eu[t]}function Tr(t){var e=ge(t);return e&&tu.test(e)?e.replace(Zs,Ir):e}function Ur(t){var e=ge(t);return nu[e]||(nu[e]=0),e+ ++nu[e]}function Nr(t,e){var n,r;for(n in e)if(r=e[n],r&&!r(t[n],n,t))return!1;return!0}function Fr(t){if(null==t)return[];var e=Object(t),n=[];for(var r in e)Hr.call(e,r)&&n.push(e[r]);return n}function qr(t){if(null==t)return[];var e=Object(t),n=[];for(var r in e)n.push(e[r]);return n}var Vr,Pr=Object,Lr="object"==typeof exports&&exports,Rr=Lr&&"object"==typeof module&&module,zr=Rr&&Rr.exports===Lr,Dr=t("object"==typeof global&&global),Wr=!!Dr,Br=t("object"==typeof self&&self),$r=t("object"==typeof window&&window),Kr=Dr||Br||Function("return this")(),Hr={}.hasOwnProperty,Yr=Object.prototype,Qr=Object.keys,Gr=isFinite,Xr=Object.prototype.propertyIsEnumerable,Jr=Object.getOwnPropertySymbols;Jr&&(Vr=function(t){return Jr(Object(t))});var Zr=Vr,ti=n(e,r,!1,!1),ei=n(e,r,!0,!1),ni=n(e,i,!0,!0),ri=n(e,i,!1,!0),ii=["Arguments","Array","Boolean","Date","Error","Function","GeneratorFunction","Map","Number","Object","Promise","RegExp","Set","String","Symbol","WeakMap","WeakSet","ArrayBuffer","DataView"],oi=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array"],si={},ui={},ai={};ii.forEach(function(t){si[t]="[object "+t+"]"}),oi.forEach(function(t){var e="[object "+t+"]";ui[t]=si[t]=e,ai[e]=!0});var ci={}.toString,hi=function(t){return ci.call(t)},li="function"==typeof Symbol&&!(Wr&&/^v0/.test(process.version)),fi="function"==typeof Symbol?Symbol:{},pi=function(t){return fi[t]||"@@"+t},di=function(t,e){var n=fi[e];return n?t[n]:t["@@"+e]},vi=function(t,e,n){var r=fi[e];r&&(t[r]=n),t["@@"+e]=n},gi=fi?fi.prototype:void 0,mi=gi?gi.valueOf:void 0,yi=gi?gi.toString:void 0,_i=0,bi=1,wi=2,xi=Object.freeze({value:void 0,done:!0}),Ei=Object.getPrototypeOf,Ai={
"[object Array]":"array","[object Boolean]":"boolean","[object Date]":"date","[object Error]":"error","[object Function]":"function","[object GeneratorFunction]":"function","[object Number]":"number","[object Object]":"object","[object RegExp]":"regexp","[object String]":"string","[object Symbol]":"symbol"},ki=function(t){return"function"==typeof t||!1};"function"!=typeof/./&&"object"!=typeof Int8Array||(ki=function(t){return"function"===l(t)});var ji=ki,Si=Array.isArray,Oi=Math.pow(2,53)-1,Mi=zr?Dr.Buffer:void 0,Ci=Mi?Mi.isBuffer:void 0,Ii=Ci||function(){return!1},Ti="[object HTMLDocument]",Ui="[object Document]",Ni=Function.prototype.toString,Fi=Ni.call(Object),qi="[object Window]",Vi="[object global]",Pi=Object.create,Li=$r,Ri=Li&&Li.document,zi=function(){return Li},Di=function(){return Ri},Wi=function(t){V(t)&&(Li=t,Ri=t.document)},Bi=Object.defineProperty,$i=li&&Symbol("mota internal")||("__mota__"+Math.random()).replace(/0\./g,"");Q.prototype=Object.create(null);var Ki={setup:function(t,e,n,r){var i=t[$i];return i||(i=new Q,r||li?t[$i]=i:Bi(t,$i,{writable:!0,value:i})),i[e]?i[e]:i[e]=n},get:function(t,e){var n=t[$i];return n&&n[e]},remove:function(t,e){var n=t[$i];n&&(n[e]=null)}},Hi=/\S+/g,Yi=/\.[^.]+/g,Qi=/^[^.]+/g,Gi={length:function(){return this.arr.length},add:function(t){t._index=this.arr.push(t)-1},remove:function(t){for(var e=this.arr,n=t._index,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r],e[n]._index=n;e.pop()},forEach:function(t){for(var e=this.arr,n=0,r=e.length;n<r&&t(e[n])!==!1;n++);},safeForEach:function(t){for(var e=this.arr,n=0,r=e.length,i=[];n<r;n++)i.push(e[n]);for(n=0;n<r;n++)t(i[n])}};et.prototype=ti({constructor:et,getListeners:function(t,e,n){var r="getFirst"===n,i="trigger"===n,o=e.type,s=e.namespaces,u=e.handler,a=e.context;this.forEach(function(e){var n=tt(e,o,s,u,a,i);if(n)return t.push({listener:e,string:o,match:n}),!r})}},Gi);var Xi,Ji=function(t,e,n,r,i,o,s){var u,a,c,h,l,f=0;if(a="on"===e?nt(t):Ki.get(t,"events"),!a)return f;if(c=X(r,i,o,[]),"on"===e)for(u=0;u<c.length;u++)h=c[u],h.type&&h.handler&&n(t,a,{listener:h},s);else{for(l=[],u=0;u<c.length;u++)a.getListeners(l,c[u],e);if(f=l.length,n)for(u=0;u<f&&n(t,a,l[u],s)!==!1;u++);}return f},Zi=function(t,e,n,r){var i=n.listener;r.push({type:i.type,namespaces:i.namespaces,handler:i.handler,context:i.context,once:i.once,isRegExp:i.isRegExp})},to=function(t,e,n){var r=n.listener;r.handler=void 0,e.remove(r)},eo=function(t,e,n,r){var i=n.listener;r&&(i.once=!0),e.add(i),e.length()>e._maxListeners&&Y("mota.Events.on","Possible memory leak detected. Use `setMaxListeners` to increase the limit of listeners."),Xi.hook(t,i.type)};Xi=function(t,e,n,r){return Ji(this,"on",eo,t,e,n,r),this},Xi.hook=ut;var no=Xi,ro=function(t,e,n,r){var i=n.listener,o=i.handler;i.once&&to(t,e,n),D(o,void 0===i.context?t:i.context,i.isRegExp?[{string:n.string,match:n.match}].concat(r):r)},io={getListeners:rt,getMaxListeners:it,hasListeners:ot,off:st,on:no,once:at,setMaxListeners:ct,trigger:ht},oo=255,so=/^\/+|\/+$/,uo=47,ao=function(t,e){var n,r,i=[];for(n=0;n<t.length;n++)r=t[n],r&&"."!==r&&(".."===r?i.length&&".."!==i[i.length-1]?i.pop():e&&i.push(".."):i.push(r));return i},co=lt(function(t){if(!t)return".";var e=pt(t)?"/":"",n=t.replace(so,"/").split("/");return e+ao(n,!e).join("/")});gt.prototype={constructor:gt,getFragment:function(){var t=this.location;return this.fragment=vt(t.pathname)+t.search+t.hash},triggerRoutes:function(t){this.router&&this.router.handle({url:t,method:"GET"},{},this.callback)},checkUrl:function(){this.triggerRoutes(this.getFragment())},start:function(t){this.window&&!this._started&&(this._started=!0,t&&t.ignoreCurrent?this.getFragment():this.checkUrl(),io.on.call(this.window,"popstate",this.checkUrl,this))},stop:function(){this._started&&(this._started=!1,io.off.call(this.window,"popstate",this.checkUrl,this))},_nav:function(t,e){var n=vt(t);this._started&&this.fragment!==n&&(this.fragment=n,e?this.history.replaceState({},this.document.title,n):this.history.pushState({},this.document.title,n),this.triggerRoutes(n))},navigate:function(t){this._nav(t,!1)},replace:function(t){this._nav(t,!0)},go:function(t){this.history.go(t)},back:function(){this.history.back()},forward:function(){this.history.forward()}};var ho={},lo={},fo=5,po=32,vo=po-1,go="@@__MOTA_MAP__@@",mo={},yo=function(t,e,n,r){if(t&&"object"==typeof t){var i=mt(e,n);return Si(t)||p(t)?yt(t,i):xt(t,i,r)}};yo.BREAK=mo;var _o=Math.imul;"function"==typeof _o&&_o(4294967295,2)===-2||(_o=function(t,e){var n=t>>>16&65535,r=65535&t,i=e>>>16&65535,o=65535&e;return r*o+(n*o+r*i<<16>>>0)|0});var bo=lt(function(t){for(var e=0,n=0;e<t.length;e++)n=31*n+t.charCodeAt(e)|0;return Et(n)},16),wo=1;Ct.prototype={isLeaf:!1,loop:function(t,e){for(var n=this.children,r=0;r<n.length;r++)if(n[r].loop(t,e)===!0)return!0;return!1},get:function(t,e,n,r){var i=void 0===e?St(t):e,o=1<<((0===n?i:i>>>n)&vo),s=this.bitmap;return 0===(s&o)?r:this.children[It(s&o-1)].get(t,i,n+fo,r)},modify:function(t,e,n,r,i,o){var s,u,a,c,h,l,f,p,d,v=this,g=this.children;if(s=(0===r?n:n>>>r)&vo,u=1<<s,a=this.bitmap,c=0!==(a&u),!c&&e===lo)return this;if(h=It(a&u-1),c?(p=this.children[h],f=p.modify(t,e,n,r+fo,i,o)):(o.changeValue=!0,o.changeSize=!0,f=new Nt(t,e,n,i)),!f){if(l=g.length,1===l)return null;if(d=g[1^h],2===l&&d.isLeaf)return d}return f!==p&&(v=c?f?this.cloneUpdate(i,h,f):this.cloneSpliceOut(i,h):this.cloneSpliceIn(i,h,f),v.bitmap=c?f?a:a^u:a|u),v},cloneUpdate:function(t,e,n){if(t&&this.owner===t)return this.children[e]=n,this;for(var r=this.children,i=new Ct(t),o=i.children,s=0;s<r.length;s++)o[s]=r[s];return o[e]=n,i},cloneSpliceOut:function(t,e){var n=this.children,r=n.length-1,i=0;if(t&&this.owner===t){for(i=e;i<r;i++)n[i]=n[i+1];return n.pop(),this}for(var o=new Ct(t),s=o.children;i<e;i++)s[i]=n[i];for(;i<r;i++)s[i]=n[i+1];return o},cloneSpliceIn:function(t,e,n){var r=this.children,i=r.length+1,o=0;if(t&&this.owner===t){for(o=i-1;o>e;o--)r[o]=r[o-1];return r[e]=n,this}for(var s=new Ct(t),u=s.children;o<e;o++)u[o]=r[o];for(u[o++]=n;o<i;o++)u[o]=r[o-1];return s}},Ut.prototype={isLeaf:!0,loop:function(t,e){for(var n=this.children,r=0;r<n.length;r++)if(n[r].loop(t,e)===!0)return!0;return!1},get:function(t,e,n,r){for(var i,o=this.children,s=o.length;s--;)if(i=o[s],Mt(i.key,t))return i.value;return r},modify:function(t,e,n,r,i,o){var s,u,a,c,h,l=this,f=0,p=e===lo;if(this.hash===n){for(s=this.children,h=s.length;f<h;f++)if(u=s[f],u&&Mt(t,u.key)){a=u;break}return(a?a.value===e:p)?this:(o.changeValue=!0,!p&&a||(o.changeSize=!0),a?(c=a.modify(t,e,n,r,i,o))?(l=this.clone(i),l.children[f]=c,l):2===h?s[1^f]:1===h?null:(l=this.clone(i),f===h-1?l.children.pop():l.children[f]=l.children.pop(),l):(l=this.clone(i),l.children[f]=new Nt(t,e,n,i),l))}return p?this:(o.changeValue=!0,o.changeSize=!0,Tt(i,r,this,new Nt(t,e,n,i)))},clone:function(t){if(t&&this.owner===t)return this;for(var e=this.children,n=new Ut(this.hash,t,e[0],e[1]),r=3;r<e.length;r++)n.children[r]=e[r];return n}},Nt.prototype={isLeaf:!0,loop:function(t,e){return t(this.value,this.key,e)},get:function(t,e,n,r){return Mt(this.key,t)?this.value:r},modify:function(t,e,n,r,i,o){var s=this;return this.hash===n?Mt(t,this.key)?this.value===e?this:(o.changeValue=!0,o.oldValue=this.value,e===lo?(o.changeSize=!0,null):(s=this.clone(i),s.value=e,s)):e===lo?this:(o.changeValue=!0,o.changeSize=!0,new Ut(n,i,this,new Nt(t,e,n,i))):e===lo?this:(o.changeValue=!0,o.changeSize=!0,Tt(i,r,this,new Nt(t,e,n,i)))},clone:function(t){return t&&this.owner===t?this:new Nt(this.key,this.value,this.hash,t)}};var xo=function(t,e){this.__type=e,this.__stack=t.__root&&Ft(t.__root)};xo.prototype={constructor:xo,next:function(){for(var t,e,n,r,i,o=this.__type,s=this.__stack;s;){if(t=s.node,e=t.children,n=s.index++,e){if(r=e.length-1,n<=r){if(i=e[n]){if(!i.children)return qt(i.key,i.value,o);s=this.__stack=Ft(i,s)}continue}}else if(0===n)return qt(t.key,t.value,o);s=this.__stack=this.__stack.prev}return xi},toString:function(){return"[object Map Iterator]"}},vi(xo.prototype,"iterator",function(){return this});var Eo={changeValue:!1,changeSize:!1,oldValue:void 0},Ao=Rt.prototype={get:function(t,e){var n=this.__root;return n?n.get(t,void 0,0,e):e},has:function(t){return lo!==this.get(t,lo)},set:function(t,e){return Lt(this,t,e).__triggerChangeEvent()},remove:function(t){return this.set(t,lo)},update:function(t,e,n){var r=e(this.get(t,n));return this.set(t,r===n?lo:r)},forEach:function(t,e){var n;this.size&&(n=mt(t,e),this.__root.loop(function(t,e,r){n(t,e,r)},this))},find:function(t,e){var n,r;return this.size&&(n=mt(t,e),this.__root.loop(function(t,e,i){var o=n(t,e,i);return o===!0&&(r=t),o},this)),r},clear:function(){if(this.isImmutable())return ko;var t=this.__changes;return Pt(this)&&(t||(t=this.__changes=[]),this.forEach(function(e,n){t.push({type:"delete",key:n,name:n,oldValue:e})})),this.size=0,this.__root=null,this.__triggerChangeEvent()},count:function(){return this.size},__triggerChangeEvent:function(){if(this.isMutable()){var t=this.__changes;t&&t.length&&(this.trigger("change",t),this.__changes.length=0)}return this},isMutable:function(){return!!this.__owner},isImmutable:function(){return!this.__owner},asMutable:function(){return this.isMutable()?this:Bt(!0,this.size,this.__root)},asImmutable:function(){return this.isMutable()?this.size?Bt(!1,this.size,this.__root):ko:this},clone:function(){return this.isImmutable()?this:Bt(!0,this.size,this.__root)},merge:function(t,e){var n,r,i,o;return t&&t!==ko?this===ko&&zt(t)&&t.isImmutable()?t:(n=this.asMutable(),r=this.isImmutable(),i=!1,o=p(t),yo(t,function(t,s){o?Lt(n,t[0],t[1],r||e===ho):Lt(n,s,t,r||e===ho),Eo.changeValue&&(i=!0)}),i?r?n.asImmutable():this.__triggerChangeEvent():this):this},hashCode:function(){if(void 0!==this.__hash)return this.__hash;var t=0;return this.__root.loop(function(e,n){t=t+At(St(e),St(n))|0}),t=kt(t,this.size),this.__hash=t,t},equals:function(t){if(this===t)return!0;if(!t||!zt(t)||this.size!==t.size)return!1;if(0===this.size)return!0;if(void 0!==this.__hash&&void 0!==t.__hash&&this.__hash!==t.__hash)return!1;var e=!0,n=lo;return this.__root.loop(function(r,i){var o=t.get(i,n);return o!==n&&Mt(r,o)||(e=!1),!e}),e}};Ao[go]=!0,vi(Ao,"get",Ao.get),a(Rt,xo,"entries"),Ao.pairs=Ao.entries,Ao.unset=Ao["delete"]=Ao.remove,Dt.isMap=zt,Wt.isMap=zt,Dt.prototype=new Rt,Wt.prototype=new Rt,ti(Dt.prototype,io);var ko=Bt(!1,0,null),jo=function(t){this.sub=t};$t(jo.prototype={},{next:function(t){return Jt(this.sub,t)},complete:function(t){return Zt(this.sub,t)},error:function(t){return te(this.sub,t)}}),Bi(jo.prototype,"closed",{get:function(){return this.sub.closed},configurable:!0});var So=function(t,e,n){var r,i,o;if(this._cleanup=void 0,this._observer=t,this._index=-1,this._unsub=n,o=Kt(t.start),o&&o.call(t,this),!Yt(this)){if(t=new jo(this),!n){try{r=Xt(e,t)}catch(s){i=s}if(i)return t.error(i)}this._cleanup=r,Yt(this)&&Gt(this)}};$t(So.prototype={},{unsubscribe:function(){Yt(this)||(this._unsub&&this._unsub(this),Qt(this))}}),Bi(So.prototype,"closed",{get:function(){return Yt(this)},configurable:!0}),ne.prototype={constructor:ne,push:function(t){this.last?this.last.__next=t:this.first=t,this.last=t},isEmpty:function(){return null==this.first},shift:function(){var t=this.first;return this.first=t&&t.__next||null,this.first&&(t.__next=void 0),this.last===t&&(this.last=null),t}};var Oo=function(){return"object"==typeof process&&process.nextTick&&"[object process]"===process.toString()?function(t){process.nextTick(t)}:"function"==typeof setImmediate?function(t){setImmediate(t)}:function(t){setTimeout(t,0)}}(),Mo="@@__MOTA_PROMISE__@@",Co=0,Io=1,To=2;he.prototype[Mo]=!0,he.prototype.then=function(t,e){var n=new he;return ji(t)&&(n.handlers.fulfill=t),ji(e)&&(n.handlers.reject=e),this.queue.push(n),ue(this),n};var Uo="catch";he.prototype[Uo]=function(t){return this.then(null,t)};var No="finally";he.prototype[No]=function(t){return this.then(function(e){return he.resolve(t()).then(function(){return e})},function(e){return he.resolve(t()).then(function(){throw e})})},he.prototype.done=function(t,e){this.then(t,e)[Uo](le)},he.resolve=function(t){return new he(function(e){e(t)})},he.reject=function(t){return new he(function(e,n){n(t)})},he.defer=function(){var t,e;return{promise:new he(function(n,r){t=n,e=r}),resolve:t,reject:e}},he.resolved=he.resolve,he.rejected=he.reject,he.deferred=he.defer,he.all=function(t){return new he(function(e,n){var r=[],i=0,o=0;yo(t,function(t){var s=o++;i++,he.resolve(t).then(function(t){r[s]=t,i--,0===i&&e(r)},n)},null,!1),0===o&&e(r)})},he.race=function(t){return new he(function(e,n){yo(t,function(t){he.resolve(t).then(e,n)},null,!1)})};var Fo=function(t,e,n){this.observer=t,this.fn=e,this.thisArg=n};Fo.prototype={next:function(t){try{if(!this.fn.call(this.thisArg,t))return}catch(e){return this.observer.error(e)}return this.observer.next(t)},complete:function(t){return this.observer.complete(t)},error:function(t){return this.observer.error(t)}};var qo=function(t,e){this.fn=t,this.thisArg=e};qo.prototype.call=function(t){return new Fo(t,this.fn,this.thisArg)};var Vo=function(t,e,n){this.observer=t,this.fn=e,this.thisArg=n};Vo.prototype={next:function(t){var e;try{e=this.fn.call(this.thisArg,t)}catch(n){return this.observer.error(n)}return this.observer.next(e)},complete:function(t){return this.observer.complete(t)},error:function(t){return this.observer.error(t)}};var Po=function(t,e){this.fn=t,this.thisArg=e};Po.prototype.call=function(t){return new Vo(t,this.fn,this.thisArg)};var Lo=function(t){if(!ji(t))throw new TypeError("Observable initializer must be a function");this._subscriber=t};Lo.Promise=he,$t(Lo.prototype,{lift:function(t){var e=this,n=ee(this.constructor);return new n(function(n){return e.subscribe(t.call(n))})},subscribe:function(t){return new So(Ht(t,arguments[1],arguments[2]),this._subscriber)},toPromise:function(){var t=this;return new Lo.Promise(function(e,n){t.subscribe({complete:e,error:n})})},forEach:function(t){var e=this,n=arguments[1];return new Lo.Promise(function(r,i){if(!ji(t))throw new TypeError(t+" is not a function");e.subscribe({_subscription:null,start:function(t){this._subscription=t},next:function(e){var r=this._subscription;if(!r.closed)try{return t.call(n,e)}catch(o){i(o),r.unsubscribe()}},error:i,complete:r})})},map:function(t){if(!ji(t))throw new TypeError(t+" is not a function");return this.lift(new Po(t,arguments[1]))},filter:function(t){if(!ji(t))throw new TypeError(t+" is not a function");return this.lift(new qo(t,arguments[1]))}}),$t(Lo,{from:function(t){var e=ji(this)?this:Lo;if(null==t)throw new TypeError(t+" is not an object");var n=di(t,"observable");if(null!=n){if(!ji(n))throw new TypeError(n+" is not a function");var r=n.call(t);if(Object(r)!==r)throw new TypeError(r+" is not an object");return r.constructor===e?r:new e(function(t){return r.subscribe(t)})}if(!w(t))throw new TypeError(t+" is not observable");return new e(function(e){yo(t,function(t){if(e.next(t),e.closed)return yo.BREAK}),e.complete()})},of:function(){var t=arguments,e=ji(this)?this:Lo;return new e(function(e){for(var n=0;n<t.length;n++)if(e.next(t[n]),e.closed)return;e.complete()})}}),Bi(Lo.prototype,pi("observable"),{value:function(){return this},writable:!0,configurable:!0}),Bi(Lo,pi("species"),{get:function(){return this},configurable:!0});var Ro=0,zo=1,Do=2;fe.prototype=Gi,pe.prototype={next:function(t){this.multicast._subs.safeForEach(function(e){Jt(e,t)})},error:function(t){var e=this.multicast;e._state=Do,e._value=t,e._subs.safeForEach(function(e){te(e,t)}),e._subs=null},complete:function(t){var e=this.multicast;e._state=zo,e._value=t,e._subs.safeForEach(function(e){Zt(e,t)}),e._subs=null}};var Wo=function(t,e){this._state=Ro,this._value=void 0,this._subs=new fe,this._subscription=null,this._source=t,this._refCount=e&&e.refCount,this._cancel=de.bind(this)};Wo.prototype=ti(Pi(Lo.prototype),{constructor:Wo,subscribe:function(t){var e,n=Ht(t,arguments[1],arguments[2]);return this._state===Ro?(e=new So(n,null,this._cancel),this._subs.add(e)):(e=new So(n,ut),this._state===zo?Zt(e,this._value):te(e,this._value)),this._refCount&&!this._subscription&&this.connect(),e},connect:function(){return this._subscription=this._subscription||this._source.subscribe(new pe(this)),this._subscription}}),vi(Wo,"species",Lo),$t(Lo.prototype,{multicast:function(t){return new Wo(this,t)}});var Bo=/[\\.+*?=^!:${}()[\]|\/]/g,$o=new RegExp(Bo.source),Ko=lt(function(t){return new RegExp(me(t)+"$")}),Ho=lt(function(t){ft(t);var e=pt(t)?"/":"",n=t.replace(so,"/").split("/"),r=ao(n,!e);return r.pop(),e+r.join("/")||"."}),Yo=/([^\/]*)(\.[^\.\/]*)$/,Qo=/\/+$/,Go=decodeURIComponent,Xo=/\/+$/,Jo=/([=!:$\/()])/g,Zo="\\(((?:\\\\.|[^\\\\()])+)\\)",ts=new RegExp(["(\\\\.)","([\\/])?(?:(?:\\:(\\w+)(?:"+Zo+")?|"+Zo+")([+*?])?|(\\*\\*)|(\\*))"].join("|"),"g"),es="(?!\\.)",ns="[^\\/]+?",rs=33,is={basename:ye,dirname:Ho,extname:_e,isAbsolute:dt,join:be,match:we,normalize:vt,pathToRegExp:ke,relative:Se,resolve:Oe},os="/",ss=ke(os),us="allMethods",as=/#.*$/,cs=/\?.*$/,hs=/^(https?|ftp):\/\/[^\/\?#;]+/;Ie.prototype._handle=function(t,e,n,r){var i=t.method.toLowerCase(),o=this.method;!r||o!==i&&o!==us||(e.push(this.fn),n.push(r))},Te.prototype={constructor:Te,_handle:function(t,e,n){this.pattern.regexp.test(t.pathname)&&(e.push(this._runThis),n.push(null))},_run:function(t,e,n){var r=t.url,i=t.pathname,o=Ce(r);"/"!==this.path&&(t.pathname=i.replace(this.pattern.regexp,""),t.url=o+t.pathname+r.substr(o.length+i.length)),this.router.handle(t,e,function(e){t.url=r,t.pathname=i,n("leave"===e?void 0:e)})}},Ue.prototype._handle=function(t,e,n,r){e.push(this.fn),n.push(r)};var ls=/^\/*(.*?)\/*$/;Ve.prototype={constructor:Ve,route:function(t){var e=qe(this.path,t),n=new Ve;return n.path=e,n.pattern=ke(e,{caseSensitive:this.caseSensitive,dot:this.dot,end:!0}),n.names=je(t),this.routes.push(n),n},use:function(t,e){t&&!e&&(e=t,t="");var n=new Te(ji(e)?(new Ve)[us](e):e);return n.path=qe(this.path,t),n.pattern=ke(n.path,{caseSensitive:this.caseSensitive,dot:this.dot,end:!1}),this.routes.push(n),this},param:function(t,e){if(!ji(e))throw new TypeError("Function is required.");if(this.names.indexOf(t)<0)throw new TypeError("There is no parameter with that name in this route's path.");return this.params.push(new Ue(t,e)),this},handle:function(t,e,n){if(!ji(n))throw new TypeError("Callback is required.");var r,i,o=[],s=[],u=0;return t.originalUrl||(t.originalUrl=t.url),this._handle(t,o,s),r=o.length,i=function(a){a||u>=r?(o=void 0,s=void 0,i=void 0,n("leave"===a?void 0:a)):(t.params=s[u],Ne(o[u++],t,e,Fe(i)))},Oo(i),this},_processParams:function(t,e,n,r){for(var i=this.params,o=0;o<i.length;o++)i[o]._handle(t,e,n,r)},_handle:function(t,e,n){var r=this.routes,i=t.pathname||(t.pathname=Me(t.url)),o=we(i,this.pattern);o&&this._processParams(t,e,n,o);for(var s=0;s<r.length;s++)r[s]._handle(t,e,n,o)}},Ve.registerMethod=function(t){var e=t===us?t:t.toLowerCase();Ve.prototype[e]=function(n){return"string"==typeof n?this.route(n)[e](arguments[1]):(this.routes.push(new Ie(t,n)),this)}},[us,"get","post","put","delete","patch"].forEach(Ve.registerMethod);var fs=Date.now,ps=[],ds=/^key/,vs=/^(?:mouse|touch|pointer|contextmenu|drag|drop)|click/,gs=["altKey","bubbles","button","buttons","cancelable","charCode","clientX","clientY","code","ctrlKey","dataTransfer","detail","fromElement","key","keyCode","layerX","layerY","location","metaKey","movementX","movementY","offsetX","offsetY","pageX","pageY","returnValue","screenX","screenY","shiftKey","srcElement","toElement","view"],ms={which:function(t){var e=t.button;return!t.which&&void 0!==e&&vs.test(t.type)?1&e?1:2&e?3:4&e?2:0:null==t.which&&ds.test(t.type)?null==t.charCode?t.keyCode:t.charCode:t.which},path:function(t){for(var e=t.target,n=[e];e=e.parentNode||e.defaultView;)n.push(e);return n}},ys=function(t){Bi(Qe.prototype,t,{enumerable:!0,configurable:!0,get:function(){var e=ms[t],n=e?e(this.originalEvent):this.originalEvent[t];return this[t]=n},set:function(e){Bi(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})};Qe.prototype={constructor:Qe,isDefaultPrevented:Ye,isPropagationStopped:Ye,isImmediatePropagationStopped:Ye,stopPropagation:function(){this.isPropagationStopped=He,this.originalEvent.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=He,this.stopPropagation()},preventDefault:function(){this.isDefaultPrevented=He,this.originalEvent.preventDefault()}},gs.forEach(ys),Qr(ms).forEach(ys);var _s=function(t,e,n,r){var i=n.listener,o=i.handler;return!r.isImmediatePropagationStopped()&&(i.once&&to(t,e,n),r.currentTarget=t,void(r.result=D(o,void 0===i.context?t:i.context,i.isRegExp?[{string:n.string,match:n.match},r]:[r])))},bs=function(t){var e=new Qe(t),n=e.type,r=e.path,i=0;for($e();i<r.length&&!e.isPropagationStopped()&&(Ji(r[i++],"trigger",_s,n,void 0,void 0,e),e.bubbles););Ke()},ws={},xs={dispatchEvents:bs,register:function(t,e){if(!ws[e]&&Ge(t)){var n=t.ownerDocument,r=n&&n.defaultView||zi();r&&r.addEventListener&&("on"+e in r||vs.test(e))&&(r.addEventListener(e,bs,!0),ws[e]=!0)}}};Je.prototype=Pi(null);var Es={"#text":!0,"#comment":!0,area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,menuitem:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};cn.prototype={constructor:cn,moveNoUpdate:function(t,e){var n,r=this.isFrag?this.el.parentNode:this.el;if(this.updater.queueElemMove(r,t,e||this.closingEl),t.isFrag&&(n=t.array))for(var i=0;i<n.length;i++)t.moveNoUpdate(n[i],null)},move:function(t,e){var n,r=0,i=this.isFrag?this.parentEl:this.el;if(t.isFrag){if(t.shouldUpdate){if(t.skipReconcilitation(),n=t.array,this.updater.queueElemMove(i,t,e||this.closingEl),n)for(;r<n.length;r++)t.move(n[r],null)}else if(this.updater.queueElemMove(i,t,e||this.closingEl),n=t.array)for(;r<n.length;r++)t.moveNoUpdate(n[r],null)}else t.reconcile(),this.updater.queueElemMove(i,t,e||this.closingEl)},reconcile:function(){if(this.shouldUpdate&&!this.isVoid){var t=this.array;this.array=this.tempArray,this.tempArray=null,en(this,t,this.array),this.itEl=null,this.noKeyIdx=null,this.textBuffer=""}},skipReconcilitation:function(){this.isVoid||(this.array=this.tempArray,this.tempArray=null,this.itEl=null,this.noKeyIdx=null,this.textBuffer="")},validateProps:function(t){var e=this.construct.validateProps,n=t||{};return e&&e(n)||n},initVars:function(t){var e=t.toLowerCase();this.type=e,this.hasAttrs="#text"!==e&&"#comment"!==e,this.isVoid=Es[e]||!1,this.isFrag="#fragment"===e,this.isVoid||(this.map=new Je,this.textBuffer="")},queueUpdate:rn,init:nn,update:an,remove:sn};var As={math:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"},ks=["Webkit","Moz","ms"],js=function(){var t=null;return function(){if(t)return t;var e=Di();return t=e&&e.createElement("div").style}}(),Ss={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Os=lt(function(t){var e,n,r=t,i=js();if(!i)return r;if(void 0!==i[r])return r;for(e=ln(r),n=ks.length;n--;)if(r=ks[n]+e,void 0!==i[r])return r;return!1});wt(Ss,function(t,e){Ss[Os(e)]=t});var Ms=/^on/,Cs={_default:function(t,e,n,r){var i=e.el,o=t.replace(Ms,"");return t!==o?(o=o.toLowerCase(),r!==n&&(r&&st.call(i,o,r),n&&no.call(i,o,n)),n||void 0):vn(t,e,n,r)},checked:mn,multiple:mn,muted:mn,selected:mn,id:vn,"class":vn,dangerousInnerHTML:function(t,e,n,r){return e.isVoid&&e.dom.error(e.type+" is a void element and must not use dangerousInnerHTML."),yn("innerHTML",e,n&&n.__html,r)},defaultValue:function(t,e,n,r){var i=e.type;return"input"===i||"select"===i?void(e.justCreated&&vn("value",e,n,r)):vn(t,e,n,r)},defaultChecked:function(t,e,n,r){return"input"===e.type?void(e.justCreated&&gn("checked",e,n,r)):vn(t,e,n,r)},value:function(t,e,n,r){var i,o;return"input"===e.type?(i=un(n),i!==r&&(o=i||"",e.el.value!==o&&e.dom._pushAttr(t,o,"prop")),i):bn(t,e,n,r)},selectedIndex:bn,style:dn},Is=1,Ts={acceptCharset:"accept-charset",className:"class",dangerouslySetInnerHTML:"dangerousInnerHTML",htmlFor:"for",httpEquiv:"http-equiv"};An.prototype={error:function(t,e){var n=this.current.owner;switch(this.current=null,arguments.length){case 2:ze("mota.view ("+t+")",e+kn(n));break;case 1:ze("mota.view",t+kn(n));break;default:ze("mota.view",t)}},_assertNotVoid:function(){this.current.isVoid&&this.error(this.current.type+" is a void element.")},_handleText:function(){var t=this.current,e=t.textBuffer;e&&(t.textBuffer="",this._openPre("#text",void 0,e),this.close())},_finishAttrs:function(){var t,e,n,r=this.current,i=r.prevAttrs;if(i)for(e in i)t=i[e],void 0!==t&&(n=Cs[e],n?n(e,r,void 0,t):Cs._default(e,r,void 0,t));r.prevAttrs=r.newAttrs,r.newAttrs=null},_finishJob:function(t){var e=this.current;e.shouldUpdate&&(e.hasAttrs&&this._finishAttrs(),e.isVoid||(this._handleText(),this.root.reuseMarkup?(e.skipReconcilitation(),e.isFrag&&(e.closingEl=En(e))):t&&e.reconcile())),e.justCreated=!1},_openPre:function(t,e,n,r,i){var o=this.current,s=wn(t,e,o),u=o.map,a=u[s];a?i?(this.ignore++,a.shouldUpdate=!1):(this.current=a,a.update(n)):(u[s]=this.current=a=new cn(this.root),a.init(t,n,r,o,s)),o.tempArray?o.tempArray.push(a):o.tempArray=[a]},open:function(t,e,n,r,i){return this.ignore?void this.ignore++:(this._assertNotVoid(),t||this.error("dom.open","Provide a type."),this._handleText(),void this._openPre(t,e,n,r,i))},close:function(){return this.ignore?void this.ignore--:(this._finishJob(),void(this.current=this.current.parentInternal))},_pushAttr:function(t,e,n){this.updater.queueAttrUpdate(this.current,t,e,n)},_startStyle:function(){},_endStyle:function(){},_staticAttrs:function(){this.ignore||(this.current.statics||(this.current.statics=[]),this.current.staticsIdx=0)},_inlineAttr:function(t,e){if(!this.ignore){var n,r=this.current,i=xn(this,r,t),o=Cs[i],s=r.statics,u=s[r.staticsIdx];u!==e&&(n=o?o(i,r,e,u):Cs._default(i,r,e,u),s[r.staticsIdx++]=n)}},attr:function(t,e){if(!this.ignore){var n=this.current,r=xn(this,n,t);if(void 0!==e){var i,o=Cs[r],s=n.prevAttrs,u=n.newAttrs||(n.newAttrs=new Je),a=s?s[r]:void 0;a===e?(u[r]=e,s[r]=void 0):(i=o?o(r,n,e,a):Cs._default(r,n,e,a),void 0!==i&&(u[r]=i),void 0!==a&&(s[r]=void 0))}}},"const":function(t,e,n,r){this.open(t,e,n,r,!0)},"void":function(t,e,n,r){this.open(t,e,n,r),this.close()},text:function(t){this.ignore||(this._assertNotVoid(),this.current.textBuffer+=t)},_assertType:function(t){t&&"string"==typeof t||this.error("dom.setType","Provide a valid string type.")},setType:function(t,e){var n,r=this.current;r.el||(this._assertType(t),r.initVars(t),n=this.root.doc,this.root.reuseMarkup?r.el=En(r):r.isFrag?(r.el=n.createComment("frag"),r.closingEl=n.createComment("/frag")):r.el=hn(n,r,e))}},An.prototype.a=An.prototype.attr,An.prototype.t=An.prototype.text,jn.prototype={add:function(t){this.data.depth-t.depth>0?this.addLeft(t):this.addRight(t)},addLeft:function(t){var e=this.left;e?e.add(t):this.left=new jn(t)},addRight:function(t){var e=this.right;e?e.add(t):this.right=new jn(t)},traverse:function(t){var e=this.left,n=this.right;e&&e.traverse(t),t(this.data),n&&n.traverse(t)}};var Us=function(){this.root=null};Us.prototype={notEmpty:function(){return!!this.root},add:function(t){this.root?this.root.add(t):this.root=new jn(t)},resetAndTraverse:function(t){var e=this.root;e&&(this.root=null,e.traverse(t))}},Pn.prototype={_internalFlush:function(){var t=this.dom;this.dirtyComponents.resetAndTraverse(function(e){e.queued&&(t.current=e,e.update(null),t._finishJob(!0))}),Vn(this.pendingAttrUpdates,Un),Vn(this.pendingElemMoves,Tn),Vn(this.pendingEdgeCase,Nn),Vn(this.pendingCallbacks,Fn),t.current=null,this.pendingAttrUpdates.length=0,this.pendingElemMoves.length=0,this.pendingEdgeCase.length=0,this.pendingCallbacks.length=0},flushUpdates:function(){if(this.allowFlush){for(this.allowFlush=!1;!this.ignore&&this.dirtyComponents.notEmpty();)this._internalFlush();this.allowFlush=!0}},queueAttrUpdate:function(t,e,n,r){var i=t.el;if(i.parentNode){if(t.root.reuseMarkup&&!In(i,e,n,r))return;qn(this.pendingAttrUpdates,i,e,n,r)}else Cn(i,e,n,r)},queueElemDeletion:function(t){this.pendingElemMoves.push({parentNode:null,internal:t,next:null,remove:!0})},queueElemMove:function(t,e,n){e.parentNotFrag.isNativeMounted?this.pendingElemMoves.push({parentNode:t,internal:e,next:n,remove:!1}):Tn({parentNode:t,internal:e,next:n,remove:!1})},queueEdgeCaseUpdate:function(t,e,n){qn(this.pendingEdgeCase,t.el,e,n)},queueCallback:function(t,e,n){this.pendingCallbacks.push({component:t,name:e,arg:n})},queueUpdate:function(t){this.dirtyComponents.add(t),this.flushUpdates()},startIgnore:function(){this.ignore++},endIgnore:function(){this.ignore--,this.flushUpdates()}};var Ns=/[&<>"'`]/g,Fs=new RegExp(Ns.source),qs={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Vs=/([A-Z])/g;$n.prototype=Pi(An.prototype),$n.prototype.setType=function(t,e){var n=this.current,r=n.parentInternal.tempArray;switch(this._assertType(t),null===r&&this.string&&(this.string+=">"),n.initVars(t),n.el={},n.type){case"#text":this.string+=Wn(un(e));break;case"#comment":this.string+="<!--"+un(e)+"-->";break;case"#fragment":this.string+="<!--frag--";break;default:this.string+="<"+t}},$n.prototype._startStyle=function(){this.string+=' style="'},$n.prototype._endStyle=function(){this.string+='"'},$n.prototype._pushAttr=function(t,e,n){return"prop"===n?void("innerHTML"===t&&(this.string+=">"+e)):"style"===n?void(this.string+=Bn(t)+": "+e+";"):void(null!=e&&(this.string+=" "+t+(""===e?"":'="'+Wn(e)+'"')))},$n.prototype._finishJob=function(){this.current.isVoid||this._handleText()},$n.prototype.close=function(){var t=this.current,e=t.type;if(this._finishJob(),"menuitem"===e)this.string+="></menuitem>";else if(t.isVoid)t.hasAttrs&&(this.string+=">");else{var n=t.tempArray||t.newAttrs&&t.newAttrs.dangerousInnerHTML;this.string+=(n?"":">")+(t.isFrag?"<!--/frag-->":"</"+e+">")}this.current=t.parentInternal};var Ps={queueCallback:ut},Ls={classSet:Le,Component:Re,createClass:De,findDOMNode:Xe,render:zn,renderToString:Hn,select:void 0,enqueueUpdate:Yn,forceUpdate:Qn,dispatchEvents:xs.dispatchEvents,registerEvent:xs.register,updater:{startIgnore:function(t){t.__internal__.updater.startIgnore()},endIgnore:function(t){t.__internal__.updater.endIgnore()}}},Rs="undefined"==typeof Kr.Map?Dt:Kr.Map,zs={},Ds=zs[si.ArrayBuffer]=function(t){var e=new t.constructor(t.byteLength);return new Uint8Array(e).set(new Uint8Array(t)),e};zs[si.Boolean]=zs[si.Date]=function(t){return new t.constructor((+t))},zs[si.DataView]=function(t,e){var n=e?Ds(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)},zs[si.Number]=zs[si.String]=function(t){return new t.constructor(t)};var Ws=/\w*$/;zs[si.RegExp]=function(t){var e=new t.constructor(t.source,Ws.exec(t));return e.lastIndex=t.lastIndex,e},zs[si.Symbol]=function(t){return mi?Object(mi.call(t)):{}};var Bs=function(t){return or(t,!1)},$s=function(t){return or(t,!0)},Ks=function(t,e){return or(t,!1,e)},Hs=function(t,e){return or(t,!0,e)},Ys=n(e,lr,!0,!1),Qs=n(ar,pr,!0,!1),Gs=n(ar,cr,!0,!1),Xs=n(ar,cr,!0,!0),Js=Kr.mota,Zs=/&(?:amp|lt|gt|quot|#39|#96);/g,tu=new RegExp(Zs.source),eu={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},nu={},ru={VERSION:"0.17.0",developmentMode:!1,setWindow:Wi},iu={apply:D,assign:ti,assignIn:ei,assignInWith:ni,assignWith:ri,bind:$,bindAll:Gn,clone:Bs,cloneDeep:$s,cloneDeepWith:Hs,cloneWith:Ks,defaults:Ys,defaultsDeep:Qs,entries:dr,entriesIn:vr,eq:Ot,err:ze,escape:Wn,escapeRegExp:me,getSpecies:ee,
has:h,hashCode:St,identity:gr,is:Mt,isArguments:f,isArray:Si,isArrayLike:p,isAssociative:A,isBoolean:d,isBuffer:Ii,isDate:v,isDocument:g,isElement:m,isEmpty:y,isEqual:Ar,isEqualWith:kr,isError:_,isFinite:b,isFunction:ji,isIterable:w,isIndexed:x,isKeyed:E,isNaN:k,isNil:j,isNull:S,isNumber:O,isObject:M,isObjectLike:C,isPlainObject:I,isRegExp:T,isString:U,isSymbol:N,isTypedArray:F,isUndefined:q,isWindow:V,keys:Pe,keysIn:jr,log:Sr,merge:Gs,mergeWith:Xs,mixin:Mr,noConflict:Cr,noop:ut,once:H,runAsync:Oo,pairs:dr,toString:ge,type:l,unescape:Tr,uniqueId:Ur,validate:Nr,values:Fr,valuesIn:qr,warn:Y};ti(ru,iu,{Events:io,History:gt,Map:Dt,ImmutableMap:Wt,Observable:Lo,pathname:is,Promise:he,Router:Ve,view:Ls,util:iu}),io.on.hook=Ls.registerEvent,(Br||{}).mota=ru,"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return ru}):Rr?((Rr.exports=ru).mota=ru,Rr.exports["default"]=ru,Lr.mota=ru):Kr.mota=ru}).call(this);