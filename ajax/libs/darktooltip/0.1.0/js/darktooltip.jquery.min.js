!function(t){function i(t,i){this.bearer=t,this.options=i,this.delay}i.prototype={show:function(){window.clearTimeout(this.delay),this.tooltip.css("display","block")},hide:function(){var t=this.tooltip;this.delay=setTimeout(function(){t.hide()},100)},toggle:function(){this.tooltip.is(":visible")?this.hide():this.show()},addAnimation:function(){switch(this.options.animation){case"none":break;case"fadeIn":this.tooltip.addClass("animated"),this.tooltip.addClass("fadeIn");break;case"flipIn":this.tooltip.addClass("animated"),this.tooltip.addClass("flipIn")}},setContent:function(){return t(this.bearer).css("cursor","pointer"),this.content=this.bearer.attr("data-tooltip"),void 0==this.content?void console.log("No content for tooltip: "+this.bearer.selector):("#"==this.content.charAt(0)?(t(this.content).hide(),this.content=t(this.content).html(),this.contentType="html"):this.contentType="text",this.tooltip=t("<ins class = 'dark-tooltip "+this.options.theme+" "+this.options.size+" "+this.options.gravity+"'><div>"+this.content+"</div><div class = 'tip'></div></ins>"),this.tip=this.tooltip.find(".tip"),t(this.bearer).append(this.tooltip),"html"==this.contentType&&this.tooltip.css("max-width","none"),this.tooltip.css("opacity",this.options.opacity),this.addAnimation(),void(this.options.confirm&&this.addConfirm()))},setPositions:function(){var t=0,i=0;switch(this.options.gravity){case"south":t=this.bearer.offset().left+this.bearer.outerWidth()/2-this.tooltip.outerWidth()/2,i=this.bearer.offset().top-this.tooltip.outerHeight()-this.tip.outerHeight()/2;break;case"west":t=this.bearer.offset().left+this.bearer.outerWidth()+this.tip.outerWidth()/2,i=this.bearer.offset().top+this.bearer.outerHeight()/2-this.tooltip.outerHeight()/2;break;case"north":t=this.bearer.offset().left+this.bearer.outerWidth()/2-this.tooltip.outerWidth()/2,i=this.bearer.offset().top+this.bearer.outerHeight()+this.tip.outerHeight()/2;break;case"east":t=this.bearer.offset().left-this.tooltip.outerWidth()-this.tip.outerWidth()/2,i=this.bearer.offset().top+this.bearer.outerHeight()/2-this.tooltip.outerHeight()/2}this.tooltip.css("left",t),this.tooltip.css("top",i)},setEvents:function(){var i=this;"hover"==this.options.trigger||"mouseover"==this.options.trigger||"onmouseover"==this.options.trigger?this.bearer.mouseover(function(){i.setPositions(),i.show()}).mouseout(function(){i.hide()}):"click"!=this.options.trigger&&"onclik"!=this.options.trigger||this.bearer.click(function(o){i.setPositions(),i.show(),t("html").one("click",function(){i.toggle()}),o.stopPropagation()})},activate:function(){this.setContent(),this.content&&this.setEvents()},addConfirm:function(){this.tooltip.append("<ul class = 'confirm'><li class = 'darktooltip-yes'>"+this.options.yes+"</li><li class = 'darktooltip-no'>"+this.options.no+"</li></ul>"),this.setConfirmEvents()},setConfirmEvents:function(){var t=this;this.tooltip.find("li.darktooltip-yes").click(function(i){t.onYes(),i.stopPropagation()}),this.tooltip.find("li.darktooltip-no").click(function(i){t.onNo(),i.stopPropagation()})},finalMessage:function(){if(this.options.finalMessage){var t=this;t.tooltip.find("div:first").html(this.options.finalMessage),t.tooltip.find("ul").remove(),t.setPositions(),setTimeout(function(){t.hide(),t.setContent()},1e3)}else this.hide()},onYes:function(){this.options.onYes(),this.finalMessage()},onNo:function(){this.options.onNo(),this.hide()}},t.fn.darkTooltip=function(o){o=t.extend({},t.fn.darkTooltip.defaults,o);var s=new i(this,o);s.activate()},t.fn.darkTooltip.defaults={opacity:.9,size:"medium",gravity:"south",theme:"dark",trigger:"hover",animation:"none",confirm:!1,yes:"Yes",no:"No",finalMsg:"",onYes:function(){},onNo:function(){}}}(jQuery);