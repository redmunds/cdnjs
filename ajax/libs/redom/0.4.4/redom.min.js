!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.redom=e.redom||{})}(this,function(e){"use strict";function t(e,t){for(var n,i,o,r=0,f=0,u=0,d=e.length;d>=u;u++){var s=u===d?0:e.charCodeAt(u);if(35===s||46===s||0===s){if(0===r)n=0===u?"div":0===s?e:e.substring(f,u);else{var a=e.substring(f,u);1===r?i=a:o?o+=" "+a:o=a}f=u+1,r=35===s?1:2}}if(t)var v=l.createElementNS(t,n);else var v=l.createElement(n);return i&&(v.id=i),o&&(v.className=o),v}function n(e){return l.createTextNode(e)}function i(e,t){for(var n=e.el||e,i=n.firstChild,f=0;f<t.length;f++){var u=t[f];if(u){var d=u.el||u;d!==i?o(e,u,i):i=i.nextSibling}}for(;i;){var s=i.nextSibling;r(e,i),i=s}}function o(e,t,n){var i=e.el||e,o=t.el||t;t===o&&o.__redom_view&&(t=o.__redom_view),t!==o&&(o.__redom_view=t),n?i.insertBefore(o,n.el||n):i.appendChild(o),t.isMounted?t.remounted&&t.remounted():(t.isMounted=!0,t.mounted&&t.mounted())}function r(e,t){var n=e.el||e,i=t.el||t;t===i&&i.__redom_view&&(t=i.__redom_view),n.removeChild(i),t.isMounted=!1,t.unmounted&&t.unmounted()}function f(e){if("string"==typeof e)var i=(a[e]||(a[e]=t(e))).cloneNode(!1);else var i=e.cloneNode(!1);for(var r=!0,f=1;f<arguments.length;f++){var u=arguments[f];if("function"==typeof u)u(i);else if("string"==typeof u||"number"==typeof u)r?(r=!1,i.textContent=u):i.appendChild(n(u));else if(u.nodeType||u.el&&u.el.nodeType)r=!1,o(i,u);else if("object"==typeof u)for(var d in u){var s=u[d];if("style"===d)if("string"==typeof s)i.setAttribute(d,s);else for(var l in s)i.style[l]=s[l];else d in i||"function"==typeof s?i[d]=s:i.setAttribute(d,s)}}return i}function u(e,t,n,i){return new d(e,t,n,i)}function d(e,t,n,i){this.View=t,this.key=n,this.initData=i,this.views=[],this.el="string"==typeof e?f(e):e,n&&(this.lookup={})}function s(e){if("string"==typeof e)var i=(p[e]||(p[e]=t(e,v))).cloneNode(!1);else var i=e.cloneNode(!1);for(var r=!0,f=1;f<arguments.length;f++){var u=arguments[f];if(u)if("function"==typeof u)u=u(i);else if("string"==typeof u||"number"==typeof u)r?(r=!1,i.textContent=u):i.appendChild(n(u));else if(u.nodeType||u.el&&u.el.nodeType)r=!1,o(i,u);else if("object"==typeof u)for(var d in u){var s=u[d];if("style"===d&&"string"!=typeof s)for(var l in s)i.style[l]=s[l];else"function"==typeof s?i[d]=s:i.setAttribute(d,s)}}return i}var l=document,a={};f.extend=function(e){var n=a[e]||(a[e]=t(e));return f.bind(this,n)},d.extend=function(e,t,n,i){return d.bind(d,e,t,n,i)},u.extend=d.extend,d.prototype.update=function(e){var t=this.View,n=this.key,i=this.initData,o=this.views,r=this.el,f=r.firstChild;if(n)var u=this.lookup;for(var d=0;d<e.length;d++){var s=e[d];if(n){var l="function"==typeof n?n(s):s[n],a=o[d]=u[l]||(u[l]=new t(i,s,d));a.__id=l}else var a=o[d]||(o[d]=new t(i,s,d));var v=a.el;v.__redom_view=a,a.update&&a.update(s),f!==v?(f?r.insertBefore(v,f):r.appendChild(v),a.isMounted?a.remounted&&a.remounted():(a.isMounted=!0,a.mounted&&a.mounted())):f=f.nextSibling}for(;f;){var p=f.nextSibling,a=f.__redom_view;if(n&&a){var l=a.__id;u[l]=null}o[d++]=null,r.removeChild(f),a.isMounted=!1,a.unmounted&&a.unmounted(),f.__redom_view=null,f=p}o.length=e.length};var v="http://www.w3.org/2000/svg",p={};s.extend=function(e){var n=p[e]||(p[e]=t(e,v));return s.bind(this,n)},e.el=f,e.list=u,e.List=d,e.mount=o,e.unmount=r,e.setChildren=i,e.svg=s,e.text=n,Object.defineProperty(e,"__esModule",{value:!0})});