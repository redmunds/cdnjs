!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.redom=e.redom||{})}(this,function(e){"use strict";function t(e,t){for(var n,i,o,r=0,d=0,u=0,f=e.length;f>=u;u++){var s=u===f?0:e.charCodeAt(u);if(s===l||s===a||0===s){if(0===r)n=0===u?"div":0===s?e:e.substring(d,u);else{var v=e.substring(d,u);1===r?i=v:o?o+=" "+v:o=v}d=u+1,r=s===l?1:2}}var m=t?document.createElementNS(t,n):document.createElement(n);return i&&(m.id=i),o&&(m.className=o),m}function n(e){return document.createTextNode(e)}function i(e,t,n){var i=e.el||e,o=t.el||t;o.__redom_list&&(o=o.el),t===o&&o.__redom_view&&(t=o.__redom_view),t!==o&&(o.__redom_view=t),n?i.insertBefore(o,n.el||n):i.appendChild(o),t.isMounted?t.remounted&&t.remounted():(t.isMounted=!0,t.mounted&&t.mounted())}function o(e,t){var n=e.el||e,i=t.el||t;t===i&&i.__redom_view&&(t=i.__redom_view),n.removeChild(i),t.isMounted=!1,t.unmounted&&t.unmounted()}function r(e){var o;if("string"==typeof e)o=(v[e]||(v[e]=t(e))).cloneNode(!1);else{if(!e||!e.nodeType)throw new Error("At least one argument required");o=e.cloneNode(!1)}for(var r=!0,d=1;d<arguments.length;d++){var u=arguments[d];if(u)if("function"==typeof u)u(o);else if("string"==typeof u||"number"==typeof u)r?(r=!1,o.textContent=u):o.appendChild(n(u));else if(u.nodeType||u.el&&u.el.nodeType)r=!1,i(o,u);else if(u.length)for(var f=0;f<u.length;f++)r=!1,i(o,u[f]);else if("object"==typeof u)for(var s in u){var l=u[s];if("style"===s)if("string"==typeof l)o.setAttribute(s,l);else for(var a in l)o.style[a]=l[a];else s in o||"function"==typeof l?o[s]=l:o.setAttribute(s,l)}}return o}function d(e,t,n,i){return new u(e,t,n,i)}function u(e,t,n,i){this.__redom_list=!0,this.View=t,this.key=n,this.initData=i,this.views=[],this.el="string"==typeof e?r(e):e,n&&(this.lookup={})}function f(e,t){for(var n=e.el||e,r=n.firstChild,d=0;d<t.length;d++){var u=t[d];if(u){var f=u.el||u;f!==r?i(e,u,r):r=r.nextSibling}}for(;r;){var s=r.nextSibling;o(e,r),r=s}}function s(e){var o;if("string"==typeof e)o=(p[e]||(p[e]=t(e,m))).cloneNode(!1);else{if(!e||!e.nodeType)throw new Error("At least one argument required");o=e.cloneNode(!1)}for(var r=!0,d=1;d<arguments.length;d++){var u=arguments[d];if(u)if("function"==typeof u)u=u(o);else if("string"==typeof u||"number"==typeof u)r?(r=!1,o.textContent=u):o.appendChild(n(u));else if(u.nodeType||u.el&&u.el.nodeType)r=!1,i(o,u);else if("object"==typeof u)for(var f in u){var s=u[f];if("style"===f&&"string"!=typeof s)for(var l in s)o.style[l]=s[l];else"function"==typeof s?o[f]=s:o.setAttribute(f,s)}}return o}var l="#".charCodeAt(0),a=".".charCodeAt(0),v={};r.extend=function(e){var n=v[e]||(v[e]=t(e));return r.bind(this,n)},u.extend=function(e,t,n,i){return u.bind(u,e,t,n,i)},d.extend=u.extend,u.prototype.update=function(e){var t=this.View,n=this.key,i="function"==typeof n,o=this.initData,r=this.views,d=this.el,u=d.firstChild;if(n)var f=this.lookup;for(var s=0;s<e.length;s++){var l,a=e[s];if(n){var v=i?n(a):a[n];l=r[s]=f[v]||(f[v]=new t(o,a,s)),l.__id=v}else l=r[s]||(r[s]=new t(o,a,s));var m=l.el;m.__redom_list&&(m=m.el),m.__redom_view=l,l.update&&l.update(a,s),u!==m?(u?d.insertBefore(m,u):d.appendChild(m),l.isMounted?l.remounted&&l.remounted():(l.isMounted=!0,l.mounted&&l.mounted())):u=u.nextSibling}for(;u;){var p=u.nextSibling,c=u.__redom_view;n&&c&&(v=c.__id,f[v]=null),r[s++]=null,d.removeChild(u),c.isMounted=!1,c.unmounted&&c.unmounted(),u.__redom_view=null,u=p}r.length=e.length};var m="http://www.w3.org/2000/svg",p={};s.extend=function(e){var n=p[e]||(p[e]=t(e,m));return s.bind(this,n)},e.el=r,e.list=d,e.List=u,e.mount=i,e.unmount=o,e.setChildren=f,e.svg=s,e.text=n,Object.defineProperty(e,"__esModule",{value:!0})});