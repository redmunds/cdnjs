!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.redom=e.redom||{})}(this,function(e){"use strict";function t(e){return document.createTextNode(e)}function n(e,t){for(var n=e.el||e,r=n.firstChild,o=0;o<t.length;o++){var u=t[o],f=u.el||u;f!==r?i(e,u):r=r.nextSibling}for(;r;){var a=r.nextSibling;n.removeChild(r),r=a}}function r(e,t,n){n?e.insertBefore(t,n.el||n):e.appendChild(t)}function i(e,t,o){var a=e.el||e,l=t.el||t;if(l.nodeType)return t!==l&&(l.view=t),l.mounted&&(l.mounted=!1,t.unmount&&t.unmount(),f(l)),r(a,l,o),(a.mounted||document.contains(l))&&(l.mounted=!0,t.mount&&t.mount(),u(l)),!0;if(t.views)return t.parent=e,n(a,t.views),!0;if(t.length){for(var s=0;s<t.length;s++)i(e,t[s],o);return!0}return!1}function o(e,t){var n=e.el||e,r=t.el||t;n.removeChild(r),r.mounted=!1,r.unmount&&r.unmount(),f(r)}function u(e){for(var t=e.firstChild;t;){if(t.mounted)return;t.mounted=!0,t.view&&t.view.mount&&t.view.mount(),u(t),t=t.nextSibling}}function f(e){for(var t=e.firstChild;t;){if(!t.mounted)return;t.mounted=!1,t.view&&t.view.unmount&&t.view.unmount(),f(t),t=t.nextSibling}}function a(e,t,n,r,i,o,u){var f,a=arguments.length;if(0===a)throw new Error("Must pass a query or a component!");if(a>7){f=new Array(a);for(var c=0;a>c;c++)f[c]=arguments[c]}if("function"==typeof e)return 1===a?new e:2===a?new e(t):3===a?new e(t,n):4===a?new e(t,n,r):5===a?new e(t,n,r,i):6===a?new e(t,n,r,i,o):7===a?new e(t,n,r,i,o,u):new(e.bind.apply(e,f));var v=s(e);return 1===a?l(v):2===a?l(v,t):3===a?l(v,t,n):4===a?l(v,t,n,r):5===a?l(v,t,n,r,i):6===a?l(v,t,n,r,i,o):7===a?l(v,t,n,r,i,o,u):(f[0]=v,l.apply(this,f))}function l(e){for(var t=e.cloneNode(!1),n=!0,r=1;r<arguments.length;r++){var o=arguments[r];if("string"!=typeof o&&"number"!=typeof o){if("function"==typeof o&&(o=o(t)),null!=o)if(i(t,o))n=!1;else for(var u in o){var f=o[u];if("style"===u)if("string"==typeof f)t.setAttribute(u,f);else{var a=t.style;for(var l in f)a[l]=f[l]}else u in t?t[u]=o[u]:t.setAttribute(u,o[u])}}else n?(t.textContent=o,n=!1):t.appendChild(document.createTextNode(o))}return t}function s(e,t){var n=t?p:g;if(e in g)return n[e];for(var r,i,o,u=0,f=0,a=0,l=e.length;l>=a;a++){var s=a===l?0:e.charCodeAt(a);if(35===s||46===s||0===s){if(0===u)r=0===a?"div":0===s?e:e.substring(f,a);else{var c=e.substring(f,a);1===u?i=c:o?o+=" "+c:o=c}f=a+1,u=35===s?1:2}}var v=t?w(r):document.createElement(r);return i&&(v.id=i),o&&(v.className=o),n[e]=v}function c(e,t,n){return new v(e,t,n)}function v(e,t,n){this.View=e,this.key=t,this.initData=n,this.views=[],t&&(this.lookup={})}function d(e){return function(t,n){return 2===arguments.length?function(r){e(r,t,n)}:function(n){for(var r in t)e(n,r,t[r])}}}function m(e){for(var t=b[e]||(b[e]=s(e,!0)),n=t.cloneNode(!1),r=!0,i=1;i<arguments.length;i++){var o=arguments[i];if(null!=o)if("function"==typeof o&&(o=o(n)),!r||o!==String&&o!==Number){if(null!=o)if(mount(n,o))r=!1;else for(var u in o)if("style"===u){var f=n.style,a=o.style;if("string"!=typeof a)for(var l in a)f[l]=a[l];else n.setAttribute(u,o[u])}else n.setAttribute(u,o[u])}else n.textContent=o,r=!1}return n}function h(e){return function(t,n,r){var i=Object.create(e),o=arguments.length;switch(o){case 0:e.init.call(i);break;case 1:e.init.call(i,t);break;case 2:e.init.call(i,t,n);break;case 3:e.init.call(i,t,n,r);break;default:for(var u=new Array(o),f=0;o>f;)e.init.apply(i,u)}return i}}var g={},p={},w=document.createElementNS.bind(document,"http://www.w3.org/2000/svg");a.extend=function(e){return l.bind(this,s(e))},v.prototype.update=function(e){var t=this.View,r=this.key,i=this.initData,o=this.views,u=this.parent;if(r){for(var f=this.lookup,a=0;a<e.length;a++){var l=e[a],s="function"==typeof r?r(l):l[r],c=f[s]||(f[s]=new t(i,l,a));o[a]=c,f[s]=c}for(var a=e.length;a<o.length;a++){var s="function"==typeof r?r(l):l[r];f[s]=null,o[a]=null}}else{for(var a=0;a<e.length;a++){var l=e[a],c=o[a]||(o[a]=new t(i,l,a));o[a]=c}for(var a=e.length;a<o.length;a++)o[a]=null}for(var a=0;a<o.length;a++){var l=e[a],c=o[a];c.update&&c.update(l)}o.length=e.length,u&&n(u,o)};var y=d(function(e,t,n){e.addEventListener(t,function(t){n.call(e.view,t)})}),b={};m.extend=function(e){return m.bind(this,e)},e.el=a,e.createElement=s,e.list=c,e.List=v,e.mount=i,e.unmount=o,e.on=y,e.text=t,e.setChildren=n,e.svg=m,e.view=h,Object.defineProperty(e,"__esModule",{value:!0})});