!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.redom=e.redom||{})}(this,function(e){"use strict";function t(e,t){for(var n,r,i,o=0,u=0,f=0,d=e.length;d>=f;f++){var s=f===d?0:e.charCodeAt(f);if(35===s||46===s||0===s){if(0===o)n=0===f?"div":0===s?e:e.substring(u,f);else{var a=e.substring(u,f);1===o?r=a:i?i+=" "+a:i=a}u=f+1,o=35===s?1:2}}if(t)var l=v.createElementNS(t,n);else var l=v.createElement(n);return r&&(l.id=r),i&&(l.className=i),l}function n(e){return v.createTextNode(e)}function r(e,t){for(var n=e.el||e,r=n.firstChild,u=0;u<t.length;u++){var f=t[u];if(f){var d=f.el||f;d!==r?i(e,f,r):r=r.nextSibling}}for(;r;){var s=r.nextSibling;o(e,r),r=s}}function i(e,t,n){var r=e.el||e,i=t.el||t;return t===i&&i.__redom_view&&(t=i.__redom_view),i.nodeType?(t!==i&&(i.__redom_view=t),n?r.insertBefore(i,n.el||n):r.appendChild(i),t.isMounted?t.remounted&&t.remounted():(t.isMounted=!0,t.mounted&&t.mounted()),!0):!1}function o(e,t){var n=e.el||e,r=t.el||t;t===r&&r.__redom_view&&(t=r.__redom_view),n.removeChild(r),t.isMounted=!1,t.unmounted&&t.unmounted()}function u(e){if(e&&e.nodeType)var n=e.cloneNode(!1);else var n=(c[e]||(c[e]=t(e))).cloneNode(!1);for(var r=!0,i=1;i<arguments.length;i++){var o=arguments[i];r=f(n,r,o)}return n}function f(e,t,r){if("function"==typeof r)return void r(e);if(i(e,r))return!1;if("string"==typeof r||"number"==typeof r)return t?e.textContent=r:e.appendChild(n(r)),!1;for(var o in r){var u=r[o];if("style"===o)if("string"==typeof u)e.setAttribute(o,u);else for(var f in u)e.style[f]=u[f];else o in e||"function"==typeof u?e[o]=u:e.setAttribute(o,u)}return t}function d(e,t,n,r){return new s(e,t,n,r)}function s(e,t,n,r){this.View=t,this.key=n,this.initData=r,this.views=[],this.el="string"==typeof e?u(e):e,n&&(this.lookup={})}function a(e){if(e.nodeType)var n=e.cloneNode(!1);else var n=(h[e]||(h[e]=t(e,p))).cloneNode(!1);for(var r=!0,i=1;i<arguments.length;i++){var o=arguments[i];r=l(n,r,o)}return n}function l(e,t,r){if("function"==typeof r)return void(r=r(e));if(i(e,r))return!1;if("string"==typeof r||"number"==typeof r)return t?e.textContent=r:e.appendChild(n(r)),!1;for(var o in r){var u=r[o];if("style"===o&&"string"!=typeof u)for(var f in u)e.style[f]=u[f];else"function"==typeof u?e[o]=u:e.setAttribute(o,u)}return t}var v=document,c={};u.extend=function(e){var n=(c[e]||(c[e]=t(e))).cloneNode(!1);return u.bind(this,n)},s.extend=function(e,t,n,r){return s.bind(s,e,t,n,r)},d.extend=s.extend,s.prototype.update=function(e){var t=this.View,n=this.key,r=this.initData,u=this.views,f=this.el,d=f.firstChild;if(n)var s=this.lookup;for(var a=0;a<e.length;a++){var l=e[a];if(n){var v="function"==typeof n?n(l):l[n],c=u[a]=s[v]||(s[v]=new t(r,l,a));c.__id=v}else var c=u[a]||(u[a]=new t(r,l,a));var p=c.el;p.__redom_view=c,c.update&&c.update(l),d!==p?i(f,c,d):d=d.nextSibling}for(;d;){var h=d.nextSibling;if(n){var m=d.__redom_view;if(m){var v=m.__id;s[v]=null}}u[a++]=null,o(f,m||d),d=h}u.length=e.length};var p="http://www.w3.org/2000/svg",h={};a.extend=function(e){var n=(h[e]||(h[e]=t(e,p))).cloneNode(!1);return a.bind(this,n)},e.el=u,e.list=d,e.List=s,e.mount=i,e.unmount=o,e.setChildren=r,e.svg=a,e.text=n,Object.defineProperty(e,"__esModule",{value:!0})});