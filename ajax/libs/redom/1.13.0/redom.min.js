!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.redom=e.redom||{})}(this,function(e){"use strict";function t(e,t,n){var r=e.el||e,i=t.el||t;return i.__redom_list&&(i=i.el),t===i&&i.__redom_view&&(t=i.__redom_view),t!==i&&(i.__redom_view=t),t.isMounted?t.remount&&t.remount():t.mount&&t.mount(),n?r.insertBefore(i,n.el||n):r.appendChild(i),t.isMounted?t.remounted&&t.remounted():(t.isMounted=!0,t.mounted&&t.mounted()),t}function n(e,t){var n=e.el||e,r=t.el||t;return t===r&&r.__redom_view&&(t=r.__redom_view),t.unmount&&t.unmount(),n.removeChild(r),t.isMounted=!1,t.unmounted&&t.unmounted(),t}function r(e,t,n){var i=e.el||e;if(arguments.length>2)i.style[t]=n;else if(m(t))i.setAttribute("style",t);else for(var o in t)r(i,o,t[o])}function i(e,t,n){var o=e.el||e,u=o instanceof window.SVGElement;if(arguments.length>2)"style"===t?r(o,n):u&&_(n)?o[t]=n:!u&&(t in o||_(n))?o[t]=n:o.setAttribute(t,n);else for(var s in t)i(o,s,t[s])}function o(e,n){for(var r=0;r<n.length;r++){var u=n[r];u&&("function"==typeof u?u(e):m(u)||w(u)?e.appendChild(h(u)):p(u)||p(u.el)?t(e,u):u.length?o(e,u):"object"==typeof u&&i(e,u))}}function u(e,t){for(var n,r,i,o=0,u=0,s=0;s<=e.length;s++){var d=e.charCodeAt(s);if(d===y||d===b||!d){if(0===o)n=0===s?"div":d?e.substring(u,s):e;else{var l=e.substring(u,s);1===o?r=l:i?i+=" "+l:i=l}u=s+1,o=d===y?1:2}}var a=t?g.createElementNS(t,n):g.createElement(n);return r&&(a.id=r),i&&(t?a.setAttribute("class",i):a.className=i),a}function s(e){for(var t=[],n=arguments.length-1;n-->0;)t[n]=arguments[n+1];var r;if(m(e))r=A(e).cloneNode(!1);else{if(!p(e))throw new Error("At least one argument required");r=e.cloneNode(!1)}return o(r,t),r}function d(e,r){if(void 0===r.length)return d(e,[r]);for(var i=e.el||e,o=i.firstChild,u=0;u<r.length;u++){var s=r[u];if(s){var l=s.el||s;l.__redom_list&&(l=l.el),l!==o?t(e,s,o):o=o.nextSibling}}for(;o;){var a=o.nextSibling;n(e,o),o=a}}function l(e,t,n,r){return new a(e,t,n,r)}function a(e,t,n,r){this.__redom_list=!0,this.View=t,this.key=n,this.initData=r,this.views=[],this.el=m(e)?s(e):e,n&&(this.lookup={})}function f(e,t){return new N(e,t)}function v(e){for(var t=[],n=arguments.length-1;n-->0;)t[n]=arguments[n+1];var r;if(m(e))r=M(e).cloneNode(!1);else{if(!p(e))throw new Error("At least one argument required");r=e.cloneNode(!1)}return o(r,t),r}var h=function(e){return g.createTextNode(e)},c=function(e){return function(t){return typeof t===e}},m=c("string"),w=c("number"),_=c("function"),p=function(e){return e&&e.nodeType},g=document,y="#".charCodeAt(0),b=".".charCodeAt(0),x={},A=function(e){return x[e]||u(e)};s.extend=function(e){var t=A(e);return s.bind(this,t)};var C=s;a.extend=function(e,t,n,r){return a.bind(a,e,t,n,r)},l.extend=a.extend,a.prototype.update=function(e){void 0===e&&(e=[]);for(var t=this.View,n=this.key,r=_(n),i=this.initData,o=new Array(e.length),u=this.views,s=n&&{},l=n&&this.lookup,a=0;a<e.length;a++){var f=e[a],v=void 0;if(n){var h=r?n(f):f[n];v=o[a]=l[h]||new t(i,f,a,e),s[h]=v,v.__id=h}else v=o[a]=u[a]||new t(i,f,a,e);var c=v.el;c.__redom_list&&(c=c.el),c.__redom_view=v,v.update&&v.update(f,a,e)}d(this,o),n&&(this.lookup=s),this.views=o};var N=function(e,t){this.el=m(e)?s(e):e,this.Views=t};N.prototype.update=function(e,t){if(e!==this.route){var n=this.Views,r=n[e];this.view=r&&new r,this.route=e,d(this.el,[this.view])}this.view&&this.view.update&&this.view.update(t)};var k="http://www.w3.org/2000/svg",E={},M=function(e){return E[e]||u(e,k)};v.extend=function(e){var t=M(e);return v.bind(this,t)},e.el=s,e.html=C,e.list=l,e.List=a,e.mount=t,e.unmount=n,e.router=f,e.Router=N,e.setAttr=i,e.setStyle=r,e.setChildren=d,e.svg=v,e.text=h,Object.defineProperty(e,"__esModule",{value:!0})});