!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.redom=e.redom||{})}(this,function(e){"use strict";function t(e,t){for(var n,r,i,o=0,f=0,u=0,d=e.length;d>=u;u++){var s=u===d?0:e.charCodeAt(u);if(35===s||46===s||0===s){if(0===o)n=0===u?"div":0===s?e:e.substring(f,u);else{var l=e.substring(f,u);1===o?r=l:i?i+=" "+l:i=l}f=u+1,o=35===s?1:2}}if(t)var a=v.createElementNS(t,n);else var a=v.createElement(n);return r&&(a.id=r),i&&(a.className=i),a}function n(e){return v.createTextNode(e)}function r(e,t){for(var n=e.el||e,r=n.firstChild,f=0;f<t.length;f++){var u=t[f];if(u){var d=u.el||u;d!==r?i(e,u,r):r=r.nextSibling}}for(;r;){var s=r.nextSibling;o(e,r),r=s}}function i(e,t,n){if(null!=t){var r=e.el||e,i=t.el||t;return t===i&&i.__redom_view&&(t=i.__redom_view),i.nodeType?(t!==i&&(i.__redom_view=t),n?r.insertBefore(i,n.el||n):r.appendChild(i),t.isMounted?t.remounted&&t.remounted():(t.isMounted=!0,t.mounted&&t.mounted()),!0):!1}}function o(e,t){var n=e.el||e,r=t.el||t;t===r&&r.__redom_view&&(t=r.__redom_view),n.removeChild(r),t.isMounted=!1,t.unmounted&&t.unmounted()}function f(e){if(e&&e.nodeType)var n=e.cloneNode(!1);else var n=(c[e]||(c[e]=t(e))).cloneNode(!1);for(var r=!0,i=1;i<arguments.length;i++){var o=arguments[i];r=u(n,r,o)}return n}function u(e,t,r){for(;"function"==typeof r;)r=r(e);if(i(e,r))return!1;if("string"==typeof r||"number"==typeof r)return t?e.textContent=r:e.appendChild(n(r)),!1;for(var o in r){var f=r[o];if("style"===o)if("string"==typeof f)e.setAttribute(o,f);else for(var u in f)e.style[u]=f[u];else o in e||"function"==typeof f?e[o]=f:e.setAttribute(o,f)}return t}function d(e,t,n,r){return new s(e,t,n,r)}function s(e,t,n,r){this.View=t,this.key=n,this.initData=r,this.views=[],this.el="string"==typeof e?f(e):e,n&&(this.lookup={})}function l(e){if(e.nodeType)var n=e.cloneNode(!1);else var n=(h[e]||(h[e]=t(e,p))).cloneNode(!1);for(var r=!0,i=1;i<arguments.length;i++){var o=arguments[i];r=a(n,r,o)}return n}function a(e,t,r){for(;"function"==typeof r;)r=r(e);if(i(e,r))return!1;if("string"==typeof r||"number"==typeof r)return t?e.textContent=r:e.appendChild(n(r)),!1;for(var o in r){var f=r[o];if("style"===o&&"string"!=typeof f)for(var u in f)e.style[u]=f[u];else"function"==typeof f?e[o]=f:e.setAttribute(o,f)}return t}var v=document,c={};f.extend=function(e){var n=(c[e]||(c[e]=t(e))).cloneNode(!1);return f.bind(this,n)},s.extend=function(e,t,n,r){return s.bind(s,e,t,n,r)},d.extend=s.extend,s.prototype.update=function(e){var t=this.View,n=this.key,r=this.initData,f=this.views,u=this.el,d=u.firstChild;if(n)var s=this.lookup;for(var l=0;l<e.length;l++){var a=e[l];if(n){var v="function"==typeof n?n(a):a[n],c=f[l]=s[v]||(s[v]=new t(r,a,l));c.__id=v}else var c=f[l]||(f[l]=new t(r,a,l));var p=c.el;p.__redom_view=c,c.update&&c.update(a),d!==p?i(u,c,d):d=d.nextSibling}for(;d;){var h=d.nextSibling;if(n){var m=d.__redom_view;if(m){var v=m.__id;s[v]=null}}f[l++]=null,o(u,m||d),d=h}f.length=e.length};var p="http://www.w3.org/2000/svg",h={};l.extend=function(e){var n=(h[e]||(h[e]=t(e,p))).cloneNode(!1);return l.bind(this,n)},e.el=f,e.list=d,e.List=s,e.mount=i,e.unmount=o,e.setChildren=r,e.svg=l,e.text=n,Object.defineProperty(e,"__esModule",{value:!0})});