!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.redom=e.redom||{})}(this,function(e){"use strict";function t(e,t){for(var n,i,o,r=0,s=0,u=0;u<=e.length;u++){var f=e.charCodeAt(u);if(f===a||f===v||!f){if(0===r)n=0===u?"div":f?e.substring(s,u):e;else{var d=e.substring(s,u);1===r?i=d:o?o+=" "+d:o=d}s=u+1,r=f===a?1:2}}var l=t?document.createElementNS(t,n):document.createElement(n);return i&&(l.id=i),o&&(l.className=o),l}function n(e){return document.createTextNode(e)}function i(e,t,n){var i=e.el||e,o=t.el||t;o.__redom_list&&(o=o.el),t===o&&o.__redom_view&&(t=o.__redom_view),t!==o&&(o.__redom_view=t),t.isMounted?t.remount&&t.remount():t.mount&&t.mount(),n?i.insertBefore(o,n.el||n):i.appendChild(o),t.isMounted?t.remounted&&t.remounted():(t.isMounted=!0,t.mounted&&t.mounted())}function o(e,t){var n=e.el||e,i=t.el||t;t===i&&i.__redom_view&&(t=i.__redom_view),t.unmount&&t.unmount(),n.removeChild(i),t.isMounted=!1,t.unmounted&&t.unmounted()}function r(e){var o,r=arguments;if("string"==typeof e)o=(p[e]||(p[e]=t(e))).cloneNode(!1);else{if(!e||!e.nodeType)throw new Error("At least one argument required");o=e.cloneNode(!1)}for(var s=!0,u=1;u<arguments.length;u++){var f=r[u];if(f)if("function"==typeof f)f(o);else if("string"==typeof f||"number"==typeof f)s?(s=!1,o.textContent=f):o.appendChild(n(f));else if(f.nodeType||f.el&&f.el.nodeType)s=!1,i(o,f);else if(f.length){s=!1;for(var d=0;d<f.length;d++)i(o,f[d])}else if("object"==typeof f)for(var l in f){var a=f[l];if("style"===l)if("string"==typeof a)o.setAttribute(l,a);else for(var v in a)o.style[v]=a[v];else l in o||"function"==typeof a?o[l]=a:o.setAttribute(l,a)}}return o}function s(e,t){for(var n=e.el||e,r=n.firstChild,s=0;s<t.length;s++){var u=t[s];if(u){var f=u.el||u;f!==r?i(e,u,r):r=r.nextSibling}}for(;r;){var d=r.nextSibling;o(e,r),r=d}}function u(e,t,n,i){return new f(e,t,n,i)}function f(e,t,n,i){this.__redom_list=!0,this.View=t,this.key=n,this.initData=i,this.views=[],this.el="string"==typeof e?r(e):e,n&&(this.lookup={})}function d(e,t){return new h(e,t)}function l(e){var o,r=arguments;if("string"==typeof e)o=(m[e]||(m[e]=t(e,c))).cloneNode(!1);else{if(!e||!e.nodeType)throw new Error("At least one argument required");o=e.cloneNode(!1)}for(var s=!0,u=1;u<arguments.length;u++){var f=r[u];if(f)if("function"==typeof f)f=f(o);else if("string"==typeof f||"number"==typeof f)s?(s=!1,o.textContent=f):o.appendChild(n(f));else if(f.nodeType||f.el&&f.el.nodeType)s=!1,i(o,f);else if("object"==typeof f)for(var d in f){var l=f[d];if("style"===d&&"string"!=typeof l)for(var a in l)o.style[a]=l[a];else"function"==typeof l?o[d]=l:o.setAttribute(d,l)}}return o}var a="#".charCodeAt(0),v=".".charCodeAt(0),p={};r.extend=function(e){var n=p[e]||(p[e]=t(e));return r.bind(this,n)},f.extend=function(e,t,n,i){return f.bind(f,e,t,n,i)},u.extend=f.extend,f.prototype.update=function(e){void 0===e&&(e=[]);for(var t=this.View,n=this.key,i="function"==typeof n,o=this.initData,r=new Array(e.length),u=this.views,f=n&&{},d=n&&this.lookup,l=0;l<e.length;l++){var a=e[l],v=void 0;if(n){var p=i?n(a):a[n];v=r[l]=d[p]||new t(o,a,l,e),f[p]=v,v.__id=p}else v=r[l]=u[l]||new t(o,a,l,e);var h=v.el;h.__redom_list&&(h=h.el),h.__redom_view=v,v.update&&v.update(a,l,e)}s(this,r),n&&(this.lookup=f),this.views=r};var h=function(e,t){this.el="string"==typeof e?r(e):e,this.Views=t};h.prototype.update=function(e,t){if(e!==this.route){var n=this.Views,i=n[e];this.view=i&&new i,this.route=e,s(this.el,[this.view])}this.view&&this.view.update&&this.view.update(t)};var c="http://www.w3.org/2000/svg",m={};l.extend=function(e){var n=m[e]||(m[e]=t(e,c));return l.bind(this,n)},e.el=r,e.list=u,e.List=f,e.mount=i,e.unmount=o,e.router=d,e.Router=h,e.setChildren=s,e.svg=l,e.text=n,Object.defineProperty(e,"__esModule",{value:!0})});