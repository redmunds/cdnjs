!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.redom=e.redom||{})}(this,function(e){"use strict";function t(e,t){for(var n,i,r,o=0,f=0,s=0,l=e.length;l>=s;s++){var u=s===l?0:e.charCodeAt(s);if(35===u||46===u||0===u){if(0===o)n=0===s?"div":0===u?e:e.substring(f,s);else{var a=e.substring(f,s);1===o?i=a:r?r+=" "+a:r=a}f=s+1,o=35===u?1:2}}if(t)var v=d.createElementNS(t,n);else var v=d.createElement(n);return i&&(v.id=i),r&&(v.className=r),v}function n(e){return d.createTextNode(e)}function i(e,t){for(var n=e.el||e,i=n.firstChild,f=0;f<t.length;f++){var s=t[f];if(s){var l=s.el||s;l!==i?r(e,s,i):i=i.nextSibling}}for(;i;){var u=i.nextSibling;o(e,i),i=u}}function r(e,t,n){var i=e.el||e,r=t.el||t;t===r&&r.__redom_view&&(t=r.__redom_view),t!==r&&(r.__redom_view=t),n?i.insertBefore(r,n.el||n):i.appendChild(r),t.isMounted?t.remounted&&t.remounted():(t.isMounted=!0,t.mounted&&t.mounted())}function o(e,t){var n=e.el||e,i=t.el||t;t===i&&i.__redom_view&&(t=i.__redom_view),n.removeChild(i),t.isMounted=!1,t.unmounted&&t.unmounted()}function f(e){if("string"==typeof e)var i=(a[e]||(a[e]=t(e))).cloneNode(!1);else var i=e.cloneNode(!1);for(var o=!0,f=1;f<arguments.length;f++){var s=arguments[f];if("function"==typeof s)s(i);else if("string"==typeof s||"number"==typeof s)o?(o=!1,i.textContent=s):i.appendChild(n(s));else if(s.nodeType||s.el&&s.el.nodeType)o=!1,r(i,s);else if("object"==typeof s)for(var l in s){var u=s[l];if("style"===l)if("string"==typeof u)i.setAttribute(l,u);else for(var d in u)i.style[d]=u[d];else l in i||"function"==typeof u?i[l]=u:i.setAttribute(l,u)}}return i}function s(e,t,n,i){return new l(e,t,n,i)}function l(e,t,n,i){this.View=t,this.key=n,this.initData=i,this.views=[],this.el="string"==typeof e?f(e):e,n&&(this.lookup={})}function u(e){if("string"==typeof e)var i=(p[e]||(p[e]=t(e,v))).cloneNode(!1);else var i=e.cloneNode(!1);for(var o=!0,f=1;f<arguments.length;f++){var s=arguments[f];if(s)if("function"==typeof s)s=s(i);else if("string"==typeof s||"number"==typeof s)o?(o=!1,i.textContent=s):i.appendChild(n(s));else if(s.nodeType||s.el&&s.el.nodeType)o=!1,r(i,s);else if("object"==typeof s)for(var l in s){var u=s[l];if("style"===l&&"string"!=typeof u)for(var d in u)i.style[d]=u[d];else"function"==typeof u?i[l]=u:i.setAttribute(l,u)}}return i}var d=document,a={};f.extend=function(e){var n=a[e]||(a[e]=t(e));return f.bind(this,n)},l.extend=function(e,t,n,i){return l.bind(l,e,t,n,i)},s.extend=l.extend,l.prototype.update=function(e){var t=this.View,n=this.key,i=this.initData,f=this.views,s=this.el,l=s.firstChild;if(n)var u=this.lookup;for(var d=0;d<e.length;d++){var a=e[d];if(n){var v="function"==typeof n?n(a):a[n],p=f[d]=u[v]||(u[v]=new t(i,a,d));p.__id=v}else var p=f[d]||(f[d]=new t(i,a,d));var c=p.el;c.__redom_view=p,p.update&&p.update(a),l!==c?r(s,p,l):l=l.nextSibling}for(;l;){var h=l.nextSibling;if(n){var y=l.__redom_view;if(y){var v=y.__id;u[v]=null}}f[d++]=null,o(s,y||l),l=h}f.length=e.length};var v="http://www.w3.org/2000/svg",p={};u.extend=function(e){var n=p[e]||(p[e]=t(e,v));return u.bind(this,n)},e.el=f,e.list=s,e.List=l,e.mount=r,e.unmount=o,e.setChildren=i,e.svg=u,e.text=n,Object.defineProperty(e,"__esModule",{value:!0})});