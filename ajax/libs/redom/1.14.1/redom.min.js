!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.redom=e.redom||{})}(this,function(e){"use strict";function t(e,t,n){var r=e.el||e,i=t.el||t;return y(i)&&(i=i.el),t===i&&i.__redom_view&&(t=i.__redom_view),t!==i&&(i.__redom_view=t),t.isMounted?t.remount&&t.remount():t.mount&&t.mount(),n?r.insertBefore(i,n.el||n):r.appendChild(i),t.isMounted?t.remounted&&t.remounted():(t.isMounted=!0,t.mounted&&t.mounted()),t}function n(e,t){var n=e.el||e,r=t.el||t;return t===r&&r.__redom_view&&(t=r.__redom_view),t.unmount&&t.unmount(),n.removeChild(r),t.isMounted=!1,t.unmounted&&t.unmounted(),t}function r(e,t,n){var i=e.el||e;if(arguments.length>2)i.style[t]=n;else if(w(t))i.setAttribute("style",t);else for(var o in t)r(i,o,t[o])}function i(e,t,n){var o=e.el||e,u=o instanceof window.SVGElement;if(arguments.length>2)"style"===t?r(o,n):u&&p(n)?o[t]=n:!u&&(t in o||p(n))?o[t]=n:o.setAttribute(t,n);else for(var s in t)i(o,s,t[s])}function o(e,n){for(var r=0;r<n.length;r++){var u=n[r];u&&("function"==typeof u?u(e):w(u)||_(u)?e.appendChild(c(u)):g(u)||g(u.el)||y(u.el)?t(e,u):u.length?o(e,u):"object"==typeof u&&i(e,u))}}function u(e,t){for(var n,r,i,o=0,u=0,s=0;s<=e.length;s++){var l=e.charCodeAt(s);if(l===x||l===A||!l){if(0===o)n=0===s?"div":l?e.substring(u,s):e;else{var d=e.substring(u,s);1===o?r=d:i?i+=" "+d:i=d}u=s+1,o=l===x?1:2}}var f=t?b.createElementNS(t,n):b.createElement(n);return r&&(f.id=r),i&&(t?f.setAttribute("class",i):f.className=i),f}function s(e){for(var t=[],n=arguments.length-1;n-->0;)t[n]=arguments[n+1];var r;if(w(e))r=N(e).cloneNode(!1);else{if(!g(e))throw new Error("At least one argument required");r=e.cloneNode(!1)}return o(r,t),r}function l(e,r){if(void 0===r.length)return l(e,[r]);for(var i=e.el||e,o=i.firstChild,u=0;u<r.length;u++){var s=r[u];if(s){var d=s.el||s;y(d)&&(d=d.el),d!==o?t(e,s,o):o=o.nextSibling}}for(;o;){var f=o.nextSibling;n(e,o),o=f}}function d(e,t,n,r){return new f(e,t,n,r)}function f(e,t,n,r){this.__redom_list=!0,this.View=t,this.key=n,this.initData=r,this.views=[],this.el=a(e),n&&(this.lookup={})}function a(e){return w(e)?s(e):g(e.el)?e.el:e}function v(e,t){return new E(e,t)}function h(e){for(var t=[],n=arguments.length-1;n-->0;)t[n]=arguments[n+1];var r;if(w(e))r=V(e).cloneNode(!1);else{if(!g(e))throw new Error("At least one argument required");r=e.cloneNode(!1)}return o(r,t),r}var c=function(e){return b.createTextNode(e)},m=function(e){return function(t){return typeof t===e}},w=m("string"),_=m("number"),p=m("function"),g=function(e){return e&&e.nodeType},y=function(e){return e&&e.__redom_list},b=document,x="#".charCodeAt(0),A=".".charCodeAt(0),C={},N=function(e){return C[e]||u(e)};s.extend=function(e){var t=N(e);return s.bind(this,t)};var k=s;f.extend=function(e,t,n,r){return f.bind(f,e,t,n,r)},d.extend=f.extend,f.prototype.update=function(e){void 0===e&&(e=[]);for(var t=this.View,n=this.key,r=p(n),i=this.initData,o=new Array(e.length),u=this.views,s=n&&{},d=n&&this.lookup,f=0;f<e.length;f++){var a=e[f],v=void 0;if(n){var h=r?n(a):a[n];v=o[f]=d[h]||new t(i,a,f,e),s[h]=v,v.__id=h}else v=o[f]=u[f]||new t(i,a,f,e);var c=v.el;c.__redom_list&&(c=c.el),c.__redom_view=v,v.update&&v.update(a,f,e)}l(this,o),n&&(this.lookup=s),this.views=o};var E=function(e,t){this.el=w(e)?s(e):e,this.Views=t};E.prototype.update=function(e,t){if(e!==this.route){var n=this.Views,r=n[e];this.view=r&&new r,this.route=e,l(this.el,[this.view])}this.view&&this.view.update&&this.view.update(t)};var M="http://www.w3.org/2000/svg",S={},V=function(e){return S[e]||u(e,M)};h.extend=function(e){var t=V(e);return h.bind(this,t)},e.el=s,e.html=k,e.list=d,e.List=f,e.mount=t,e.unmount=n,e.router=v,e.Router=E,e.setAttr=i,e.setStyle=r,e.setChildren=l,e.svg=h,e.text=c,Object.defineProperty(e,"__esModule",{value:!0})});