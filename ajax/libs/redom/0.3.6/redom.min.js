!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.redom=e.redom||{})}(this,function(e){"use strict";function t(e,t){for(var n,i,r,o=0,f=0,u=0,s=e.length;s>=u;u++){var a=u===s?0:e.charCodeAt(u);if(35===a||46===a||0===a){if(0===o)n=0===u?"div":0===a?e:e.substring(f,u);else{var l=e.substring(f,u);1===o?i=l:r?r+=" "+l:r=l}f=u+1,o=35===a?1:2}}if(t)var d=v.createElementNS(t,n);else var d=v.createElement(n);return i&&(d.id=i),r&&(d.className=r),d}function n(e){return v.createTextNode(e)}function i(e,t){for(var n=e.el||e,i=n.firstChild,f=0;f<t.length;f++){var u=t[f];if(u){var s=u.el||u;s!==i?r(e,u):i=i.nextSibling}}for(;i;){var a=i.nextSibling;o(e,i),i=a}}function r(e,t,n){if(null!=t){var i=e.el||e,r=t.el||t;return t===r&&r.__redom_view&&(t=r.__redom_view),r.nodeType?(t!==r&&(r.__redom_view=t),n?i.insertBefore(r,n.el||n):i.appendChild(r),t.isMounted?t.remounted&&t.remounted():(t.isMounted=!0,t.mounted&&t.mounted()),!0):!1}}function o(e,t){var n=e.el||e,i=t.el||t;t===i&&i.__redom_view&&(t=i.__redom_view),n.removeChild(i),t.isMounted=!1,t.unmounted&&t.unmounted()}function f(e,n){if("function"==typeof e){var i=arguments.length-1;if(2>i)return new e(n);for(var r=new Array(i),o=0;i>o;)r[++o]=arguments[o];return new(e.bind.apply(e,r))}for(var f=(c[e]||(c[e]=t(e))).cloneNode(!1),s=!0,o=1;o<arguments.length;o++){var a=arguments[o];u(f,s,a)}return f}function u(e,t,i){for(;"function"==typeof i;)i=i(e);if(!r(e,i))if("string"==typeof i||"number"==typeof i)t?e.textContent=i:e.appendChild(n(i));else for(var o in i){var f=i[o];if("style"===o){if("string"==typeof f)e.setAttribute(o,f);else for(var u in f)e.style[u]=f[u];e[o]=f}else o in e||"function"==typeof f?(e[o]=f,"autofocus"===o&&e.focus()):e.setAttribute(o,f)}}function s(e,t,n,i){return new a(e,t,n,i)}function a(e,t,n,i){this.View=t,this.key=n,this.initData=i,this.views=[],this.el="string"==typeof e?f(e):e,n&&(this.lookup={})}function l(e){for(var n=(p[e]||(p[e]=t(e))).cloneNode(!1),i=!0,r=1;r<arguments.length;r++){var o=arguments[r];d(n,i,o)}return n}function d(e,t,i){for(;"function"==typeof i;)i=i(e);if(!r(e,i))if("string"==typeof i||"number"==typeof i)t?e.textContent=i:e.appendChild(n(i));else for(var o in i){var f=i[o];if("style"===o&&"string"!=typeof f)for(var u in f)e.style[u]=f[u];else"function"==typeof f?e[o]=f:e.setAttribute(o,f)}}var v=document,c={};f.extend=function(e){return f.bind(this,e)},a.extend=function(e,t,n,i){return a.bind(a,e,t,n,i)},s.extend=a.extend,a.prototype.update=function(e){var t=this.View,n=this.key,i=this.initData,f=this.views,u=this.el,s=u.firstChild;if(n)var a=this.lookup;for(var l=0;l<e.length;l++){var d=e[l];if(n){var v="function"==typeof n?n(d):d[n],c=f[l]=a[v]||(a[v]=new t(i,d,l));c.__id=v}else var c=f[l]||(f[l]=new t(i,d,l));var p=c.el;c.el=p,p.__redom_view=c,c.update&&c.update(d),s!==p?r(u,c,s):s=s.nextSibling}for(;s;){var m=s.nextSibling;if(n){var c=s.__redom_view;if(c){var v=c.__id;a[v]=null}}f[l++]=null,o(u,c||s),s=m}f.length=e.length};var p={};l.extend=function(e){return l.bind(this,e)},e.el=f,e.list=s,e.List=a,e.mount=r,e.unmount=o,e.setChildren=i,e.svg=l,e.text=n,Object.defineProperty(e,"__esModule",{value:!0})});