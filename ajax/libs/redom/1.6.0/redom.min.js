!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.redom=e.redom||{})}(this,function(e){"use strict";function t(e,t){for(var n,i,r,o=0,s=0,f=e.length,u=0;f>=u;u++){var l=e[u];if(l===a||l===v||null==l){if(0===o)n=0===u?"div":null==l?e:e.substring(s,u);else{var d=e.substring(s,u);1===o?i=d:r?r+=" "+d:r=d}s=u+1,o=l===a?1:2}}var p=t?document.createElementNS(t,n):document.createElement(n);return i&&(p.id=i),r&&(p.className=r),p}function n(e){return document.createTextNode(e)}function i(e,t,n){var i=e.el||e,r=t.el||t;r.__redom_list&&(r=r.el),t===r&&r.__redom_view&&(t=r.__redom_view),t!==r&&(r.__redom_view=t),n?i.insertBefore(r,n.el||n):i.appendChild(r),t.isMounted?t.remounted&&t.remounted():(t.isMounted=!0,t.mounted&&t.mounted())}function r(e,t){var n=e.el||e,i=t.el||t;t===i&&i.__redom_view&&(t=i.__redom_view),n.removeChild(i),t.isMounted=!1,t.unmounted&&t.unmounted()}function o(e){for(var r=[],o=arguments.length-1;o-->0;)r[o]=arguments[o+1];var s;if("string"==typeof e)s=(p[e]||(p[e]=t(e))).cloneNode(!1);else{if(!e||!e.nodeType)throw new Error("At least one argument required");s=e.cloneNode(!1)}for(var f=!0,u=0;u<r.length;u++){var l=r[u];if(l)if("function"==typeof l)l(s);else if("string"==typeof l||"number"==typeof l)f?(f=!1,s.textContent=l):s.appendChild(n(l));else if(l.nodeType||l.el&&l.el.nodeType)f=!1,i(s,l);else if(l.length){f=!1;for(var d=0;d<l.length;d++)i(s,l[d])}else if("object"==typeof l)for(var a in l){var v=l[a];if("style"===a)if("string"==typeof v)s.setAttribute(a,v);else for(var h in v)s.style[h]=v[h];else a in s||"function"==typeof v?s[a]=v:s.setAttribute(a,v)}}return s}function s(e,t){for(var n=e.el||e,o=n.firstChild,s=0;s<t.length;s++){var f=t[s];if(f){var u=f.el||f;u!==o?i(e,f,o):o=o.nextSibling}}for(;o;){var l=o.nextSibling;r(e,o),o=l}}function f(e,t,n,i){return new u(e,t,n,i)}function u(e,t,n,i){this.__redom_list=!0,this.View=t,this.key=n,this.initData=i,this.views=[],this.el="string"==typeof e?o(e):e,n&&(this.lookup={})}function l(e,t){return new h(e,t)}function d(e){var r,o=arguments;if("string"==typeof e)r=(m[e]||(m[e]=t(e,c))).cloneNode(!1);else{if(!e||!e.nodeType)throw new Error("At least one argument required");r=e.cloneNode(!1)}for(var s=!0,f=1;f<arguments.length;f++){var u=o[f];if(u)if("function"==typeof u)u=u(r);else if("string"==typeof u||"number"==typeof u)s?(s=!1,r.textContent=u):r.appendChild(n(u));else if(u.nodeType||u.el&&u.el.nodeType)s=!1,i(r,u);else if("object"==typeof u)for(var l in u){var d=u[l];if("style"===l&&"string"!=typeof d)for(var a in d)r.style[a]=d[a];else"function"==typeof d?r[l]=d:r.setAttribute(l,d)}}return r}var a="#",v=".",p={};o.extend=function(e){var n=p[e]||(p[e]=t(e));return o.bind(this,n)},u.extend=function(e,t,n,i){return u.bind(u,e,t,n,i)},f.extend=u.extend,u.prototype.update=function(e){for(var t=this.View,n=this.key,i="function"==typeof n,r=this.initData,o=this.views,f=n&&{},u=n&&this.lookup,l=0;l<e.length;l++){var d=e[l],a=void 0;if(n){var v=i?n(d):d[n];a=o[l]=u[v]||new t(r,d,l,e),f[v]=a,a.__id=v}else a=o[l]||(o[l]=new t(r,d,l,e));var p=a.el;p.__redom_list&&(p=p.el),p.__redom_view=a,a.update&&a.update(d,l,e)}o.length=e.length,s(this.el,o),n&&(this.lookup=f)};var h=function(e,t){this.el="string"==typeof e?o(e):e,this.Views=t};h.prototype.update=function(e,t){if(e!==this.route){var n=this.Views,i=n[e];this.view=i&&new i,this.route=e,s(this.el,[this.view])}this.view&&this.view.update&&this.view.update(t)};var c="http://www.w3.org/2000/svg",m={};d.extend=function(e){var n=m[e]||(m[e]=t(e,c));return d.bind(this,n)},e.el=o,e.list=f,e.List=u,e.mount=i,e.unmount=r,e.router=l,e.Router=h,e.setChildren=s,e.svg=d,e.text=n,Object.defineProperty(e,"__esModule",{value:!0})});