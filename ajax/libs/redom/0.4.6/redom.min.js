!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.redom=e.redom||{})}(this,function(e){"use strict";function t(e,t){for(var n,i,r,o=0,u=0,d=0,f=e.length;f>=d;d++){var s=d===f?0:e.charCodeAt(d);if(s===a||s===v||0===s){if(0===o)n=0===d?"div":0===s?e:e.substring(u,d);else{var p=e.substring(u,d);1===o?i=p:r?r+=" "+p:r=p}u=d+1,o=s===a?1:2}}var m=t?l.createElementNS(t,n):l.createElement(n);return i&&(m.id=i),r&&(m.className=r),m}function n(e){return l.createTextNode(e)}function i(e,t,n){var i=e.el||e,r=t.el||t;t===r&&r.__redom_view&&(t=r.__redom_view),t!==r&&(r.__redom_view=t),n?i.insertBefore(r,n.el||n):i.appendChild(r),t.isMounted?t.remounted&&t.remounted():(t.isMounted=!0,t.mounted&&t.mounted())}function r(e,t){var n=e.el||e,i=t.el||t;t===i&&i.__redom_view&&(t=i.__redom_view),n.removeChild(i),t.isMounted=!1,t.unmounted&&t.unmounted()}function o(e){var r;if("string"==typeof e)r=(p[e]||(p[e]=t(e))).cloneNode(!1);else{if(!e||!e.nodeType)throw new Error("At least one argument required");r=e.cloneNode(!1)}for(var o=!0,u=1;u<arguments.length;u++){var d=arguments[u];if(d)if("function"==typeof d)d(r);else if("string"==typeof d||"number"==typeof d)o?(o=!1,r.textContent=d):r.appendChild(n(d));else if(d.nodeType||d.el&&d.el.nodeType)o=!1,i(r,d);else if("object"==typeof d)for(var f in d){var s=d[f];if("style"===f)if("string"==typeof s)r.setAttribute(f,s);else for(var l in s)r.style[l]=s[l];else f in r||"function"==typeof s?r[f]=s:r.setAttribute(f,s)}}return r}function u(e,t,n,i){return new d(e,t,n,i)}function d(e,t,n,i){this.View=t,this.key=n,this.initData=i,this.views=[],this.el="string"==typeof e?o(e):e,n&&(this.lookup={})}function f(e,t){for(var n=e.el||e,o=n.firstChild,u=0;u<t.length;u++){var d=t[u];if(d){var f=d.el||d;f!==o?i(e,d,o):o=o.nextSibling}}for(;o;){var s=o.nextSibling;r(e,o),o=s}}function s(e){var r;if("string"==typeof e)r=(c[e]||(c[e]=t(e,m))).cloneNode(!1);else{if(!e||!e.nodeType)throw new Error("At least one argument required");r=e.cloneNode(!1)}for(var o=!0,u=1;u<arguments.length;u++){var d=arguments[u];if(d)if("function"==typeof d)d=d(r);else if("string"==typeof d||"number"==typeof d)o?(o=!1,r.textContent=d):r.appendChild(n(d));else if(d.nodeType||d.el&&d.el.nodeType)o=!1,i(r,d);else if("object"==typeof d)for(var f in d){var s=d[f];if("style"===f&&"string"!=typeof s)for(var l in s)r.style[l]=s[l];else"function"==typeof s?r[f]=s:r.setAttribute(f,s)}}return r}var l=document,a="#".charCodeAt(0),v=".".charCodeAt(0),p={};o.extend=function(e){var n=p[e]||(p[e]=t(e));return o.bind(this,n)},d.extend=function(e,t,n,i){return d.bind(d,e,t,n,i)},u.extend=d.extend,d.prototype.update=function(e){var t=this.View,n=this.key,i=this.initData,r=this.views,o=this.el,u=o.firstChild;if(n)var d=this.lookup;for(var f=0;f<e.length;f++){var s,l=e[f];if(n){var a="function"==typeof n?n(l):l[n];s=r[f]=d[a]||(d[a]=new t(i,l,f)),s.__id=a}else s=r[f]||(r[f]=new t(i,l,f));var v=s.el;v.__redom_view=s,s.update&&s.update(l),u!==v?(u?o.insertBefore(v,u):o.appendChild(v),s.isMounted?s.remounted&&s.remounted():(s.isMounted=!0,s.mounted&&s.mounted())):u=u.nextSibling}for(;u;){var p=u.nextSibling,m=u.__redom_view;n&&m&&(a=m.__id,d[a]=null),r[f++]=null,o.removeChild(u),m.isMounted=!1,m.unmounted&&m.unmounted(),u.__redom_view=null,u=p}r.length=e.length};var m="http://www.w3.org/2000/svg",c={};s.extend=function(e){var n=c[e]||(c[e]=t(e,m));return s.bind(this,n)},e.el=o,e.list=u,e.List=d,e.mount=i,e.unmount=r,e.setChildren=f,e.svg=s,e.text=n,Object.defineProperty(e,"__esModule",{value:!0})});