!function(e,t){"use strict";var s,r,n={};s=function(e){function s(e,t){return e.res&&t.res?+t.res-+e.res:0}function o(e){for(var t={label:{},res:{},type:{}},s=0;s<e.length;s++)t.label[e[s].label]=t.label[e[s].label]||[],t.res[e[s].res]=t.res[e[s].res]||[],t.type[e[s].type]=t.type[e[s].type]||[],t.label[e[s].label].push(e[s]),t.res[e[s].res].push(e[s]),t.type[e[s].type].push(e[s]);return t}function l(e){return"low"===i.default?e[e.length-1]:"high"===i.default?e[0]:r.res[i.default]?r.res[i.default][0]:e[e.length-1]}var i=t.mergeOptions(n,e),c=this,a=document.createElement("span");a.classList.add("vjs-resolution-button-label");var u=t.getComponent("MenuItem"),h=t.extend(u,{constructor:function(e,t){u.call(this,e,t),this.src=t.src,this.type=t.type,this.on("click",this.onClick),this.on("touchstart",this.onClick)},onClick:function(){c.bigPlayButton.hide();var e=c.currentTime(),t=c.paused();a.innerHTML=this.options_.label,c.src({src:this.src,type:this.type}).one("loadedmetadata",function(){c.currentTime(e),t||c.play(),c.trigger("resolutionchange")})}}),d=t.getComponent("MenuButton"),p=t.extend(d,{constructor:function(e,t){if(this.sources=t.sources,d.call(this,e,t),this.controlText("Quality"),i.dynamicLabel)this.el().appendChild(a);else{var s=document.createElement("span");s.classList.add("vjs-resolution-button-staticlabel"),this.el().appendChild(s)}},createItems:function(){for(var e=this.sources,t=[],s=0;s<e.length;s++)t.push(new h(c,{label:e[s].label,src:e[s].src,type:e[s].type}));return t}});c.updateSrc=function(e){if(!e)return c.src();c.controlBar.resolutionSwitcher&&(c.controlBar.resolutionSwitcher.dispose(),delete c.controlBar.resolutionSwitcher),e=e.sort(s),r=o(e);var t=new p(c,{sources:e});t.el().classList.add("vjs-resolution-button"),c.controlBar.resolutionSwitcher=c.controlBar.addChild(t);var n=l(e);a.innerHTML=n.label,c.src(n)},c.options_.sources.length>1&&c.updateSrc(c.options_.sources)},t.plugin("videoJsResolutionSwitcher",s)}(window,window.videojs);
//# sourceMappingURL=videojs-resolution-switcher.min.js.map