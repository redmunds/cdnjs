{"version":3,"sources":["rythm.js"],"names":["global","factory","exports","module","define","amd","Rythm","this","renderRythm","that","stopped","_analyser","getByteFrequencyData","_frequences","i","length","_hzHistory","maxValueHistory","shift","push","rythmMapping","forEach","mappingItem","type","pulseSize","elementClass","getAverageRatio","startValue","nbValue","requestAnimationFrame","startingValue","total","getRatio","index","min","max","scale","actualValue","percentage","startingScale","pulseRatio","name","value","elements","document","getElementsByClassName","style","transform","_browserAudioCtx","AudioContext","webkitAudioContext","_audioCtx","_init","createAnalyser","_gain","createGain","_source","_audio","fftSize","_rythmInputTypeList","TRACK","STREAM","EXTERNAL","addRythm","_createSourceFromAudioElement","audioElement","createMediaElementSource","connectExternalAudioElement","_rythmInputType","_connectSource","source","connect","destination","addEventListener","stop","setMusic","trackUrl","Audio","plugMicrophone","_getMicrophoneStream","then","stream","createMediaStreamSource","navigator","getUserMedia","webkitGetUserMedia","mozGetUserMedia","msGetUserMedia","Promise","resolve","reject","audio","medias","error","setGain","gain","start","Uint8Array","frequencyBinCount","play","pause","getAudioTracks","enabled"],"mappings":"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","file":"rythm.min.js"}