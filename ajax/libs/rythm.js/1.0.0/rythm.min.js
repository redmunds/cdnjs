function Rythm(){function e(){if(!a._stopped){a._analyser.getByteFrequencyData(a._frequences);for(var i=0;i<a._frequences.length;i++){a._hzHistory[i]||(a._hzHistory[i]=[]),a._hzHistory[i].length>a.maxValueHistory&&a._hzHistory[i].shift(),a._hzHistory[i].push(a._frequences[i]);a._frequences[i]}n("rythm-bass",t(2)),n("rythm-medium",t(6)),n("rythm-high",t(9)),requestAnimationFrame(e)}}function t(e){for(var t=255,n=0,i=0;i<a._hzHistory[e].length;i++)a._hzHistory[e][i]<t&&(t=a._hzHistory[e][i]),a._hzHistory[e][i]>n&&(n=a._hzHistory[e][i]);var r=n-t,s=a._frequences[e]-t,o=s/r;return a.startingScale+a.pulseRatio*o}function n(e,t){for(var n=document.getElementsByClassName(e),a=0;a<n.length;a++)n[a].style.transform="scale("+t+")"}var a=this;a._audioCtx=new AudioContext,a._analyser=a._audioCtx.createAnalyser(),a._gain=a._audioCtx.createGain(),a._source,a._audio,a._hzHistory=[],a._analyser.fftSize=64,a._stopped=!1,a.startingScale=1,a.pulseRatio=.75,a.maxValueHistory=100,a.setMusic=function(e){a._audio=e,a._source=a._audioCtx.createMediaElementSource(a._audio),a._source.connect(a._gain),a._gain.connect(a._analyser),a._analyser.connect(a._audioCtx.destination)},a.setGain=function(e){a._gain.gain.value=e},a.start=function(){a._hzHistory=[],a._frequences=new Uint8Array(a._analyser.frequencyBinCount),a._audio.play(),a._stopped=!1,e()},a.stop=function(){a._audio.pause(),a._stopped=!0}}
//# sourceMappingURL=rythm.min.js.map