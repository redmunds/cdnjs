!function(r){"use strict";var e=function(r){return'<span style="color: #d52929">'+r+"</span>"},o=["0123456789","9876543210","abcdefghijklmnopqrstuvxywz","qwertyuiopasdfghjklzxcvbnm"],t={wordNotEmail:function(r,e,o){return e.match(/^([\w\!\#$\%\&\'\*\+\-\/\=\?\^\`{\|\}\~]+\.)*[\w\!\#$\%\&\'\*\+\-\/\=\?\^\`{\|\}\~]+@((((([a-z0-9]{1}[a-z0-9\-]{0,62}[a-z0-9]{1})|[a-z])\.)+[a-z]{2,6})|(\d{1,3}\.){3}\d{1,3}(\:\d{1,5})?)$/i)?(r.errors.push(r.errorMessages.email_as_password),o):void 0},wordLength:function(r,e,o){var t=e.length,s=Math.pow(t,r.raisePower);return t<r.minChar&&(s+=o,r.errors.push(r.errorMessages.password_too_short)),s},wordSimilarToUsername:function(e,o,t){var s=r(e.usernameField).val();return s&&o.toLowerCase().match(s.toLowerCase())?(e.errors.push(e.errorMessages.same_as_username),t):!1},wordTwoCharacterClasses:function(r,e,o){return e.match(/([a-z].*[A-Z])|([A-Z].*[a-z])/)||e.match(/([a-zA-Z])/)&&e.match(/([0-9])/)||e.match(/(.[!,@,#,$,%,\^,&,*,?,_,~])/)&&e.match(/[a-zA-Z0-9_]/)?o:(r.errors.push(r.errorMessages.two_character_classes),!1)},wordRepetitions:function(r,e,o){return e.match(/(.)\1\1/)?(r.errors.push(r.errorMessages.repeated_character),o):!1},wordLowercase:function(r,e,o){return e.match(/[a-z]/)&&o},wordUppercase:function(r,e,o){return e.match(/[A-Z]/)&&o},wordOneNumber:function(r,e,o){return e.match(/\d+/)&&o},wordThreeNumbers:function(r,e,o){return e.match(/(.*[0-9].*[0-9].*[0-9])/)&&o},wordOneSpecialChar:function(r,e,o){return e.match(/.[!,@,#,$,%,\^,&,*,?,_,~]/)&&o},wordTwoSpecialChar:function(r,e,o){return e.match(/(.*[!,@,#,$,%,\^,&,*,?,_,~].*[!,@,#,$,%,\^,&,*,?,_,~])/)&&o},wordUpperLowerCombo:function(r,e,o){return e.match(/([a-z].*[A-Z])|([A-Z].*[a-z])/)&&o},wordLetterNumberCombo:function(r,e,o){return e.match(/([a-zA-Z])/)&&e.match(/([0-9])/)&&o},wordLetterNumberCharCombo:function(r,e,o){return e.match(/([a-zA-Z0-9].*[!,@,#,$,%,\^,&,*,?,_,~])|([!,@,#,$,%,\^,&,*,?,_,~].*[a-zA-Z0-9])/)&&o},wordSequences:function(r,e,t){var s,a;if(e.length>2)for(s in o)if(o.hasOwnProperty(s))for(a=0;a<e.length-3;a+=1)if(o[s].indexOf(e.toLowerCase().substring(a,a+3))>-1)return r.errors.push(r.errorMessages.sequence_found),t;return!1}},s={errors:[],minChar:8,bootstrap3:!1,showPopover:!1,errorMessages:{password_too_short:e("The Password is too short"),email_as_password:e("Do not use your email as your password"),same_as_username:e("Your password cannot contain your username"),two_character_classes:e("Use different character classes"),repeated_character:e("Too many repetitions"),sequence_found:e("Your password contains sequences")},scores:[17,26,40,50],verdicts:["Weak","Normal","Medium","Strong","Very Strong"],showVerdicts:!0,raisePower:1.4,usernameField:"#username",onLoad:void 0,onKeyUp:void 0,container:void 0,viewports:{progress:void 0,verdict:void 0,errors:void 0},ruleScores:{wordNotEmail:-100,wordLength:-100,wordSimilarToUsername:-100,wordTwoCharacterClasses:2,wordRepetitions:-30,wordLowercase:1,wordUppercase:3,wordOneNumber:3,wordThreeNumbers:5,wordOneSpecialChar:3,wordTwoSpecialChar:5,wordUpperLowerCombo:2,wordLetterNumberCombo:2,wordLetterNumberCharCombo:2,wordSequences:-100},rules:{wordNotEmail:!0,wordLength:!0,wordSimilarToUsername:!0,wordTwoCharacterClasses:!1,wordRepetitions:!1,wordLowercase:!0,wordUppercase:!0,wordOneNumber:!0,wordThreeNumbers:!0,wordOneSpecialChar:!0,wordTwoSpecialChar:!0,wordUpperLowerCombo:!0,wordLetterNumberCombo:!0,wordLetterNumberCharCombo:!0,wordSequences:!0},validationRules:t},a=function(e,o){var t=r(e);return t&&1===t.length||(t=o.parent()),t},n=function(e,o){var t,s=a(e.container,o),n="top";e.bootstrap3&&(n="auto "+n),t=e.viewports.verdict?s.find(e.viewports.verdict).find(".password-verdict"):s.find(".password-verdict"),o.popover("destroy"),o.popover({html:!0,placement:n,trigger:"manual",content:function(){var o="<h5>"+t.text()+"</h5>";return r.each(e.errors,function(r,e){o+="<p>"+e+"</p>"}),o}}),o.val().length>0&&o.popover("show"),s.find("ul.error-list").hide(),t.hide()},i=function(r){var e='<div class="progress"><div class="';return r.bootstrap3&&(e+="progress-"),e+'bar"></div></div>'},c=function(e,o){var t=r(i(e)),s=a(e.container,o);e.viewports.progress?s.find(e.viewports.progress).append(t):t.insertAfter(o),e.bootstrap3?t.find(".progress-bar").css("width","0%"):t.find(".bar").css("width","0%"),o.data("pwstrength").progressbar=t},d=function(e,o,t){var s,n=a(e.container,o);return s=e.viewports.verdict?n.find(e.viewports.verdict).find(".password-verdict"):n.find(".password-verdict"),0===s.length&&(s=r('<span class="password-verdict">'+t+"</span>"),e.viewports.verdict?n.find(e.viewports.verdict).append(s):s.insertAfter(o)),e.showPopover||0===o.val().length?s.hide():s.show(),s},u=["danger","warning","success"],p=function(r,e,o,t){var s,a;for(r.addClass(e+"bar-"+o),a=0;a<u.length;a+=1)s=u[a],s!==o&&r.removeClass(e+"bar-"+s);r.css("width",t)},h=function(r,e){var o,t,s=r.data("pwstrength"),a=s.progressbar,n="",i=a.find(".bar");s.bootstrap3&&(i=a.find(".progress-bar"),n="progress-"),s.showVerdicts&&(o=d(s,r,"")),0===r.val().length?(p(i,n,"danger","0%"),t=""):e<s.scores[0]?(p(i,n,"danger","5%"),t=s.verdicts[0]):e>=s.scores[0]&&e<s.scores[1]?(p(i,n,"danger","25%"),t=s.verdicts[1]):e>=s.scores[1]&&e<s.scores[2]?(p(i,n,"warning","50%"),t=s.verdicts[2]):e>=s.scores[2]&&e<s.scores[3]?(p(i,n,"warning","75%"),t=s.verdicts[3]):e>=s.scores[3]&&(p(i,n,"success","100%"),t=s.verdicts[4]),s.showVerdicts&&o.text(t)},w=function(e){var o=e.val(),t=0,s=e.data("pwstrength");return r.each(s.rules,function(r,e){if(e){var a=s.ruleScores[r],n=s.validationRules[r](s,o,a);n&&(t+=n)}}),h(e,t),t},l={init:function(e){var o,t=this;return o=r.extend(!0,s,e),this.each(function(e,s){var a=r(s);a.data("pwstrength",o),a.on("keyup",function(e){var o=a.data("pwstrength");o.errors=[],w.call(t,a),r.isFunction(o.onKeyUp)&&o.onKeyUp(e)}),c(o,a),d(o,a,o.verdicts[0]),r.isFunction(o.onLoad)&&o.onLoad()}),this},destroy:function(){this.each(function(e,o){var t=r(o),s=t.data("pwstrength"),n=a(s.container,t);n.find("span.password-verdict").remove(),n.find("div.progress").remove(),n.find("ul.error-list").remove(),t.removeData("pwstrength")})},forceUpdate:function(){var e=this;this.each(function(o,t){var s=r(t),a=s.data("pwstrength");a.errors=[],w.call(e,s)})},outputErrorList:function(){this.each(function(e,o){var t,s='<ul class="error-list">',i=r(o),c=i.data("pwstrength"),d=a(c.container,i);d.find("ul.error-list").remove(),i.val().length>0&&c.errors.length>0&&(r.each(c.errors,function(r,e){s+="<li>"+e+"</li>"}),s+="</ul>",c.viewports.errors?d.find(c.viewports.errors).html(s):(s=r(s),t=d.find("span.password-verdict"),t.length>0&&(o=t),s.insertAfter(o))),c.showPopover&&n(c,i)})},addRule:function(e,o,t,s){this.each(function(a,n){var i=r(n).data("pwstrength");i.rules[e]=s,i.ruleScores[e]=t,i.validationRules[e]=o})},changeScore:function(e,o){this.each(function(t,s){r(s).data("pwstrength").ruleScores[e]=o})},ruleActive:function(e,o){this.each(function(t,s){r(s).data("pwstrength").rules[e]=o})}};r.fn.pwstrength=function(e){var o;return l[e]?o=l[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?r.error("Method "+e+" does not exist on jQuery.pwstrength"):o=l.init.apply(this,arguments),o}}(jQuery);
//# sourceMappingURL=pwstrength-bootstrap.min.map
