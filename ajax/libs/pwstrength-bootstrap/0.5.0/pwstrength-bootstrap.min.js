!function(r){"use strict";var e={errors:[],minChar:8,bootstrap3:!1,errorMessages:{password_too_short:'<span style="color: #d52929">The Password is too short</span>',email_as_password:'<span style="color: #d52929">Do not use your email as your password</span>',same_as_username:'<span style="color: #d52929">Your password cannot contain your username</span>',two_character_classes:'<span style="color: #d52929">Use different character classes</span>',repeated_character:'<span style="color: #d52929">Too many repetitions</span>'},scores:[17,26,40,50],verdicts:["Weak","Normal","Medium","Strong","Very Strong"],showVerdicts:!0,showVerdictsInitially:!1,raisePower:1.4,usernameField:"#username",onLoad:void 0,onKeyUp:void 0,container:void 0,viewports:{progress:void 0,verdict:void 0,errors:void 0},ruleScores:{wordNotEmail:-100,wordLength:-100,wordSimilarToUsername:-100,wordTwoCharacterClasses:2,wordRepetitions:-30,wordLowercase:1,wordUppercase:3,wordOneNumber:3,wordThreeNumbers:5,wordOneSpecialChar:3,wordTwoSpecialChar:5,wordUpperLowerCombo:2,wordLetterNumberCombo:2,wordLetterNumberCharCombo:2},rules:{wordNotEmail:!0,wordLength:!0,wordSimilarToUsername:!0,wordTwoCharacterClasses:!1,wordRepetitions:!1,wordLowercase:!0,wordUppercase:!0,wordOneNumber:!0,wordThreeNumbers:!0,wordOneSpecialChar:!0,wordTwoSpecialChar:!0,wordUpperLowerCombo:!0,wordLetterNumberCombo:!0,wordLetterNumberCharCombo:!0},validationRules:{wordNotEmail:function(r,e,o){return e.match(/^([\w\!\#$\%\&\'\*\+\-\/\=\?\^\`{\|\}\~]+\.)*[\w\!\#$\%\&\'\*\+\-\/\=\?\^\`{\|\}\~]+@((((([a-z0-9]{1}[a-z0-9\-]{0,62}[a-z0-9]{1})|[a-z])\.)+[a-z]{2,6})|(\d{1,3}\.){3}\d{1,3}(\:\d{1,5})?)$/i)?(r.errors.push(r.errorMessages.email_as_password),o):void 0},wordLength:function(r,e,o){var s=e.length,t=Math.pow(s,r.raisePower);return s<r.minChar&&(t+=o,r.errors.push(r.errorMessages.password_too_short)),t},wordSimilarToUsername:function(e,o,s){var t=r(e.usernameField).val();return t&&o.toLowerCase().match(t.toLowerCase())?(e.errors.push(e.errorMessages.same_as_username),s):!1},wordTwoCharacterClasses:function(r,e,o){return e.match(/([a-z].*[A-Z])|([A-Z].*[a-z])/)||e.match(/([a-zA-Z])/)&&e.match(/([0-9])/)||e.match(/(.[!,@,#,$,%,\^,&,*,?,_,~])/)&&e.match(/[a-zA-Z0-9_]/)?o:(r.errors.push(r.errorMessages.two_character_classes),!1)},wordRepetitions:function(r,e,o){return e.match(/(.)\1\1/)?(r.errors.push(r.errorMessages.repeated_character),o):!1},wordLowercase:function(r,e,o){return e.match(/[a-z]/)&&o},wordUppercase:function(r,e,o){return e.match(/[A-Z]/)&&o},wordOneNumber:function(r,e,o){return e.match(/\d+/)&&o},wordThreeNumbers:function(r,e,o){return e.match(/(.*[0-9].*[0-9].*[0-9])/)&&o},wordOneSpecialChar:function(r,e,o){return e.match(/.[!,@,#,$,%,\^,&,*,?,_,~]/)&&o},wordTwoSpecialChar:function(r,e,o){return e.match(/(.*[!,@,#,$,%,\^,&,*,?,_,~].*[!,@,#,$,%,\^,&,*,?,_,~])/)&&o},wordUpperLowerCombo:function(r,e,o){return e.match(/([a-z].*[A-Z])|([A-Z].*[a-z])/)&&o},wordLetterNumberCombo:function(r,e,o){return e.match(/([a-zA-Z])/)&&e.match(/([0-9])/)&&o},wordLetterNumberCharCombo:function(r,e,o){return e.match(/([a-zA-Z0-9].*[!,@,#,$,%,\^,&,*,?,_,~])|([!,@,#,$,%,\^,&,*,?,_,~].*[a-zA-Z0-9])/)&&o}}},o=function(e,o){var s=r(e);return s&&1===s.length||(s=o.parent()),s},s=function(r){var e='<div class="progress"><div class="';return r.bootstrap3&&(e+="progress-"),e+'bar"></div></div>'},t=function(e,t){var a=r(s(e)),n=o(e.container,t);e.viewports.progress?n.find(e.viewports.progress).append(a):a.insertAfter(t),e.bootstrap3?a.find(".progress-bar").css("width","0%"):a.find(".bar").css("width","0%"),t.data("pwstrength").progressbar=a},a=function(e,o,s){var t,a=r(e.container);return a&&1===a.length||(a=o.parent()),t=e.viewports.verdict?a.find(e.viewports.verdict).find(".password-verdict"):a.find(".password-verdict"),0===t.length&&(t=r('<span class="password-verdict">'+s+"</span>"),e.viewports.verdict?a.find(e.viewports.verdict).append(t):t.insertAfter(o)),t},n=["danger","warning","success"],i=function(r,e,o,s){var t,a;for(r.addClass(e+"bar-"+o),a=0;a<n.length;a+=1)t=n[a],t!==o&&r.removeClass(e+"bar-"+t);r.css("width",s)},c=function(r,e){var o,s,t=r.data("pwstrength"),n=t.progressbar,c="",d=n.find(".bar");t.bootstrap3&&(d=n.find(".progress-bar"),c="progress-"),t.showVerdicts&&(o=a(t,r,"")),e<t.scores[0]?(i(d,c,"danger","5%"),s=t.verdicts[0]):e>=t.scores[0]&&e<t.scores[1]?(i(d,c,"danger","25%"),s=t.verdicts[1]):e>=t.scores[1]&&e<t.scores[2]?(i(d,c,"warning","50%"),s=t.verdicts[2]):e>=t.scores[2]&&e<t.scores[3]?(i(d,c,"warning","75%"),s=t.verdicts[3]):e>=t.scores[3]&&(i(d,c,"success","100%"),s=t.verdicts[4]),t.showVerdicts&&o.text(s)},d=function(e){var o=e.val(),s=0,t=e.data("pwstrength");return r.each(t.rules,function(r,e){if(e){var a=t.ruleScores[r],n=t.validationRules[r](t,o,a);n&&(s+=n)}}),c(e,s),s},u={init:function(o){var s,n=this;return s=r.extend(!0,e,o),this.each(function(e,o){var i=r(o);i.data("pwstrength",s),i.on("keyup",function(e){var o=i.data("pwstrength");o.errors=[],d.call(n,i),r.isFunction(o.onKeyUp)&&o.onKeyUp(e)}),t(s,i),s.showVerdictsInitially&&a(s,i,s.verdicts[0]),r.isFunction(s.onLoad)&&s.onLoad()}),this},destroy:function(){this.each(function(e,s){var t=r(s),a=t.data("pwstrength"),n=o(a.container,t);n.find("span.password-verdict").remove(),n.find("div.progress").remove(),n.find("ul.error-list").remove(),t.removeData("pwstrength")})},forceUpdate:function(){var e=this;this.each(function(o,s){var t=r(s),a=t.data("pwstrength");a.errors=[],d.call(e,t)})},outputErrorList:function(){this.each(function(e,s){var t,a='<ul class="error-list">',n=r(s),i=n.data("pwstrength"),c=o(i.container,n);c.find("ul.error-list").remove(),i.errors.length>0&&(r.each(i.errors,function(r,e){a+="<li>"+e+"</li>"}),a+="</ul>",i.viewports.errors?c.find(i.viewports.errors).html(a):(a=r(a),t=c.find("span.password-verdict"),t.length>0&&(s=t),a.insertAfter(s)))})},addRule:function(e,o,s,t){this.each(function(a,n){var i=r(n).data("pwstrength");i.rules[e]=t,i.ruleScores[e]=s,i.validationRules[e]=o})},changeScore:function(e,o){this.each(function(s,t){r(t).data("pwstrength").ruleScores[e]=o})},ruleActive:function(e,o){this.each(function(s,t){r(t).data("pwstrength").rules[e]=o})}};r.fn.pwstrength=function(e){var o;return u[e]?o=u[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?r.error("Method "+e+" does not exist on jQuery.pwstrength"):o=u.init.apply(this,arguments),o}}(jQuery);
//# sourceMappingURL=pwstrength-bootstrap.min.map
