angular.module("ui.tinymce",[]).value("uiTinymceConfig",{}).directive("uiTinymce",["uiTinymceConfig",function(e){e=e||{};var i=0;return{require:"ngModel",link:function(n,t,a,u){var c,l,s;a.id||a.$set("id","uiTinymce"+i++),l={onchange_callback:function(e){e.isDirty()&&(e.save(),u.$setViewValue(t.val()),n.$$phase||n.$apply())},handle_event_callback:function(e){return this.isDirty()&&(this.save(),u.$setViewValue(t.val()),n.$$phase||n.$apply()),!0},setup:function(e){e.onSetContent.add(function(e,i){e.isDirty()&&(e.save(),u.$setViewValue(t.val()),n.$$phase||n.$apply())})},mode:"exact",elements:a.id},c=a.uiTinymce?n.$eval(a.uiTinymce):{},angular.extend(l,e,c),setTimeout(function(){tinymce.init(l)}),u.$render=function(){s||(s=tinymce.get(a.id)),s.setContent(u.$viewValue)}}}}]);