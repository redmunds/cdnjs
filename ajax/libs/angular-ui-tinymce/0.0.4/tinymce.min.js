angular.module("ui.tinymce",[]).value("uiTinymceConfig",{}).directive("uiTinymce",["uiTinymceConfig",function(e){e=e||{};var n=0;return{require:"ngModel",link:function(i,t,u,o){var c,a,l,m=function(){o.$setViewValue(t.val()),i.$$phase||i.$apply()};u.id||u.$set("id","uiTinymce"+n++),c=u.uiTinymce?i.$eval(u.uiTinymce):{},a={setup:function(e){e.on("init",function(e){o.$render()}),e.on("ExecCommand",function(n){e.save(),m()}),e.on("KeyUp",function(n){e.save(),m()}),e.on("SetContent",function(n){n.initial||(e.save(),m())}),c.setup&&(i.$eval(c.setup),delete c.setup)},mode:"exact",elements:u.id},angular.extend(a,e,c),setTimeout(function(){tinymce.init(a)}),o.$render=function(){l||(l=tinymce.get(u.id)),l&&l.setContent(o.$viewValue||"")}}}}]);