/*! Prelodr v1.0.9 | MIT (c) 2016 Jos√© Luis Quintana */
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),Prelodr=function(){function e(t,n){_classCallCheck(this,e),this.queu={queue:[],offset:0,add:function(e){this.queue.push(e),this.offset+=1},shift:function(){var e=null;return this.queue.length>0&&(e=this.queue.shift()),e},first:function(){var e=null;return this.queue.length>0&&(e=this.queue[0]),e}},this._interval=0,this.isShown=!1,this.isAnimating=!1,this.isStart=!1,this.options={duration:750,prefixClass:"prelodr",show:null,hide:null},"object"===("undefined"==typeof t?"undefined":_typeof(t))?t.nodeName?(this.setContainer(t),this.setOptions(n)):(this.setContainer(window.document.body),this.setOptions(t)):this.container=window.document.body}return _createClass(e,[{key:"setOptions",value:function(e){this.options=this._merge(this.options,e)}},{key:"_merge",value:function(e,t){var n=void 0;if(t)for(n in t)t&&t[n]&&(e[n]=t[n]);return e}},{key:"setContainer",value:function(e){this.container=e}},{key:"_getId",value:function(){return Math.random().toString(36).slice(2)}},{key:"_show",value:function(e,t,n){n.wrapper=window.document.createElement("span");var i=window.document.createElement("span"),o=window.document.createElement("span");i.appendChild(window.document.createTextNode(e)),n.wrapper.appendChild(i),i.appendChild(o),o.className=n.options.prefixClass+"-progressbar",n.element||(n.element=window.document.createElement("span"),n.element.className=n.options.prefixClass,n.container.appendChild(n.element)),n.element.appendChild(n.wrapper),setTimeout(function(){var e=n.options.prefixClass+" "+n.options.prefixClass+"-in";n.wrapper.children[0].className=n.options.prefixClass+"-in",n.element.className=e,setTimeout(function(){n.isShown=!0,n.isAnimating=!1,n.queu.shift(),n.options.show&&n.options.show(n,n.element),t&&t()},n.options.duration)},10)}},{key:"_hide",value:function(e,t){var n=t||this;n.isShown&&(n.isShown=!1,n._prepOut(e,n))}},{key:"_queueWalk",value:function(e){var t=e||this,n=t.queu.first();n&&"in"===n.is&&(t.isShown=!0,n.fn(function(){var e=t.queu.first();t.isStart=!1,e&&"out"===e.is&&e.fn(function(){t._queueWalk(t)})}))}},{key:"in",value:function(e){var t=this,n={id:this._getId(),is:"in",fn:function(n){return t._show(e,n,t)}};return this.queu.add(n),this.isStart||(this.isStart=!0,this._queueWalk(this)),this}},{key:"out",value:function(e){var t=this;if(t.queu.add({id:t._getId(),is:"out",fn:function(n,i){e&&"function"==typeof e?e(function(){t._hide(n,i)}):t._hide(n,i)}}),!t.isStart){var n=t.queu.first();n&&"out"===n.is&&n.fn(t._queueWalk,this)}return t}},{key:"_prepOut",value:function(e,t){t.isAnimating=!0,t.queu.shift();var n=t.queu.first();t.wrapper.children[0].className="",setTimeout(function(){if(t.options.hide&&t.options.hide(t,[]),t.element){if(n)t.element.removeChild(t.wrapper);else{var i=t.options.prefixClass+" "+t.options.prefixClass+"-out";t.element.className=i,setTimeout(function(){t.container.removeChild(t.element),t.element=null},t.options.duration/1.5)}t.isAnimating=!1,t.isShown=!1,e&&e(t)}},t.options.duration)}},{key:"isVisible",value:function(){return this.isShown}}]),e}();!function(){"object"===("undefined"==typeof module?"undefined":_typeof(module))&&"object"===_typeof(module.exports)?module.exports=Prelodr:"function"==typeof define&&define.amd?define([],function(){return Prelodr}):(window.Prelodr=Prelodr,window.jQuery&&(window.jQuery.fn.prelodr=function(e){var t=void 0,n=void 0;if("string"==typeof e){if(n=this.data("prelodr"),t=n[e],"undefined"!==n&&"string"==typeof e&&t)return t.apply(n,Array.prototype.slice.call(arguments,1));var i="Method "+e+" is not supported by jQuery.prelodr.";window.jQuery.error(i)}else n=new window.Prelodr(this[0],e),this.data("prelodr",n);return this}))}();