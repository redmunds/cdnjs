/*!
 * baffle 0.1.0 - A tiny, dependency-free utility for obfuscating and revealing text.
 * Copyright (c) 2016 Cam Wiegert <cam@camwiegert.com> - https://camwiegert.github.io/baffle
 * License: MIT
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.baffle=e():t.baffle=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var i=n(1),o=r(i);t.exports=o["default"]},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t){return{node:t,text:t.textContent,map:a(t.textContent),reset:function(){this.node.textContent=this.text,this.map=a(this.text)},transform:function(t){var e=u(this.text,this.map,t);this.node.textContent=e}}}function a(t){var e=arguments.length<=1||void 0===arguments[1]?1:arguments[1];return t.split("").map(function(){return(0,l.maybe)(e)?1:0})}function s(t,e){for(var n=t.slice();e--;){var r=(0,l.getTruthyIndices)(n);if(!r.length)return n;n[(0,l.sample)(r)]=0}return n}function u(t,e,n){return(0,l.mapString)(t,function(t,r){return" "===t?t:e[r]?(0,l.sample)(n):t})}function c(t){var e=t.map.every(function(t){return!t}),n=t.node.textContent===t.text;return!e||!n}Object.defineProperty(e,"__esModule",{value:!0});var f=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();e["default"]=function(t,e){return new p(t,e)};var l=n(2),h={characters:"AaBbCcDdEeFfGgHhIiJjKkLlMmNnOoPpQqRrSsTtUuVvWwXxYyZz~!@#$%^&*()-+=[]{}|;:,./<>?".split(""),speed:50},p=function(){function t(e,n){i(this,t),this.options=(0,l.extend)(Object.create(h),n),this.elements=[].concat(r(document.querySelectorAll(e))).map(o),this.state={running:!1}}return f(t,[{key:"set",value:function(t){return this.options=(0,l.extend)(this.options,t),this.state.running&&(clearInterval(this.interval),this.start()),this}},{key:"start",value:function(){var t=this;return clearInterval(this.interval),this.interval=setInterval(function(){(0,l.each)(t.elements,function(e){return e.transform(t.options.characters)})},this.options.speed),this.state.running=!0,this}},{key:"stop",value:function(){return clearInterval(this.interval),(0,l.each)(this.elements,function(t){return t.reset()}),this.state.running=!1,this}},{key:"text",value:function(t){return"string"!=typeof t?this:(this.elements.forEach(function(e){e.text=t,e.map=a(t)}),this.state.running||(0,l.each)(this.elements,function(t){return t.reset()}),this)}},{key:"reveal",value:function(){var t=this,e=arguments.length<=0||void 0===arguments[0]?1500:arguments[0],n=e/this.options.speed;return clearInterval(this.interval),(0,l.each)(this.elements,function(e){return e.transform(t.options.characters)}),this.interval=setInterval(function(){var e=t.elements.filter(c);return e.length?void(0,l.each)(e,function(e){var r=Math.ceil(e.text.length/n);e.map=s(e.map,r),e.transform(t.options.characters)}):t.stop()},this.options.speed),this}}]),t}()},function(t,e){"use strict";function n(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function r(t,e){return t.split("").map(e).join("")}function i(){var t=arguments.length<=0||void 0===arguments[0]?.5:arguments[0];return Math.random()-t<0}function o(t){return t[Math.floor(Math.random()*t.length)]}function a(t,e){for(var n=0,r=t.length;n<r;n++)e(t[n],n)}function s(t){return t.map(function(t,e){return!!t&&e}).filter(function(t){return t!==!1})}Object.defineProperty(e,"__esModule",{value:!0}),e.extend=n,e.mapString=r,e.maybe=i,e.sample=o,e.each=a,e.getTruthyIndices=s}])});