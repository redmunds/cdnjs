!function(a){a.fn.isInViewport=function b(c){b.firstRun="undefined"==typeof b.firstRun?!0:!1,b.firstRun&&(a(window).resize(function(){b.windowHeight=a(window).height()}),b.windowHeight=a(window).height());var d=this.get(0),e=d.getBoundingClientRect(),f=e.top,g=e.bottom,h=a(window).scrollTop()===a(document).height()-b.windowHeight?!0:!1,i=""+d.offsetLeft+d.offsetTop+e.height+e.width,j=a.extend({tolerance:0,debug:!1},c),k=j.tolerance,l=!1;return b.elementsAfterCurrent=b.elementsAfterCurrent||{},b.elementsAfterCurrent[i]=b.elementsAfterCurrent[i]||this.nextAll(),j.debug&&(console.log("---------------------------------------"),console.log("index: "+i),console.log("div: "+this.text().trim()),console.log("top: "+f),console.log("bottom: "+g),console.log("tolerance: "+k),console.log("end of page: "+h)),l=k?f>=0?k>=f?!0:!1:g>k?!0:!1:f>=0&&f<=b.windowHeight?!0:!1,h&&(1===b.elementsAfterCurrent[i].length?l=0>f?!1:!0:b.elementsAfterCurrent[i].length||(l=0>f?!1:!0)),l}}(jQuery);