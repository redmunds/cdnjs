{"version":3,"sources":["fermata.js"],"names":["Proxy","fermata","window","_node","url","require","https","http","_extend","target","source","Object","keys","forEach","key","_typeof2","o","Array","isArray","_wrapTheWrapper","impl","createFunction","getOwnPropertyDescriptor","name","getPropertyDescriptor","getPropertyNames","enumerate","defineProperty","delete","fix","get","set","val","apply","arguments","put","post","_makeWrapper","site","transport","path","query","args","splice","call","lastArg","length","callback","pop","data","headers","method","request","query2","combine","path2","join","Site","config","this","base","slice","user","basicAuth","password","prototype","subquery","subpath","concat","p","map","c","encodeURIComponent","q","k","v","JSON","stringify","v1","info","req","responseType","Content-Type","Accept","send","status","buffer","error","object","parse","e","toFixed","Error","Transport","constructor","_nodeSend","_xhrSend","normalize","headers_norm","k_norm","split","w","toUpperCase","toLowerCase","siteReq","XMLHttpRequest","reqArgs","open","setRequestHeader","onreadystatechange","readyState","DONE","responseHeaders","getAllResponseHeaders","l","responseText","url_parts","secure","protocol","host","hostname","port","pathname","search","auth","Buffer","toString","console","warn","setHeader","write","end","on","res","responseData","chunk","prevChunk","copy","statusCode","api","exports"],"mappings":"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","file":"fermata.min.js"}