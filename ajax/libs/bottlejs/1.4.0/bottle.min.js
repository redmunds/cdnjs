(function(t){"use strict";var e=0,n=Array.prototype.slice,r=[],i=function(t,e){return t.concat(e)},o=function(t,e,n){var r=t[e];return r||(r=t[e]={}),n&&!r[n]&&(r[n]=[]),n?r[n]:r},u=function(t,e,n){return o(r,e,n).map(c.bind(null,t)).reduce(i,o(t,e,n)).concat(o(t,e,"__global__"))},c=function(t,e){return o(t,e.id,e.fullname)},a=function(e,n){var r=e[n];if(r===t&&G.strict)throw new Error("Bottle was unable to resolve a service.  `"+n+"` is undefined.");return r},l=function(t){return t.split(".").reduce(a,this)},s=function(t,e,n,r){"function"==typeof n&&(r=n,n="__global__"),o(t,e,n).push(r)},f=function(t,e){var n=t.split(".");return t=n.pop(),d.call(n.reduce(z,this.container),t,e),this},d=function(t,e){Object.defineProperty(this,t,{configurable:!1,enumerable:!0,value:e,writable:!1})},h=[],p=function(t,e){return s(h,this.id,t,e),this},v=[],b=function(t){return s(v,this.id,t),this},g=function(t){return(t||[]).map(l,this.container)},y=function(t,e){return A.call(this,t,function(){this.$get=e})},m=function(t,e){return y.call(this,t,function(t){return{instance:e.bind(e,t)}})},w=function(t){return!/^\$(?:register|list)$|Provider$/.test(t)},_=function(t){return Object.keys(t||this.container||{}).filter(w)},$=[],j=function(t,e,n,r){var i=u($,t,e),o={configurable:!0,enumerable:!0};return i.length?o.get=function(){var t=0,e=function(r){if(r)throw r;i[t]&&i[t++](n,e)};return e(),n}:(o.value=n,o.writable=!0),Object.defineProperty(r,e,o),r[e]},O=function(t,e){return s($,this.id,t,e),this},P={},x=function(t){var e;return t?(e=P[t],e||(P[t]=e=new D,e.constant("BOTTLE_NAME",t)),e):new D},B=[],E=[],T=function(t,e){return e(t)},A=function(t,e){var n,r,i,u;return r=o(E,this.id),n=t.split("."),r[t]&&1===n.length&&!this.container[t+"Provider"]?console.error(t+" provider already instantiated."):(r[t]=!0,i=n.shift(),u=n.length?F:k,u.call(this,i,e,t,n))},k=function(e,n){var r,i,o,c;return c=this.id,o=this.container,r=e+"Provider",i=Object.create(null),i[r]={configurable:!0,enumerable:!0,get:function(){var t=new n;return delete o[r],o[r]=t,t}},i[e]={configurable:!0,enumerable:!0,get:function(){var n,i=o[r];return i&&(n=u(h,c,e).reduce(T,i.$get(o)),delete o[r],delete o[e]),n===t?n:j(c,e,n,o)}},Object.defineProperties(o,i),this},F=function(t,e,n,i){var u,c,a,l;return l=this.id,c=o(B,l),u=c[t],u||(this.container[t]=(u=c[t]=D.pop()).container),a=i.join("."),u.provider(a,e),s(r,u.id,a,{fullname:n,id:l}),this},L=function(e){var n=e.$value===t?e:e.$value;return this[e.$type||"service"].apply(this,[e.$name,n].concat(e.$inject||[]))},M=function(t){return o(v,this.id,"__global__").forEach(function(e){e(t)}),this},N=function(t,e){var r=arguments.length>2?n.call(arguments,2):null,i=this;return y.call(this,t,function(){return r&&(r=r.map(l,i.container),r.unshift(e),e=e.bind.apply(e,r)),new e})},q=function(t,e){var n;return n=t.split("."),t=n.pop(),C.call(n.reduce(z,this.container),t,e),this},z=function(t,e){var n=t[e];return n||(n={},C.call(t,e,n)),n},C=function(t,e){Object.defineProperty(this,t,{configurable:!0,enumerable:!0,value:e,writable:!0})},D=function t(n){return this instanceof t?(this.id=e++,void(this.container={$register:L.bind(this),$list:_.bind(this)})):t.pop(n)};D.prototype={constant:f,decorator:p,defer:b,digest:g,factory:y,instanceFactory:m,list:_,middleware:O,provider:A,register:L,resolve:M,service:N,value:q},D.pop=x,D.list=_;var G=D.config={strict:!1},H={function:!0,object:!0};!function(t){var e=H[typeof exports]&&exports&&!exports.nodeType&&exports,n=H[typeof module]&&module&&!module.nodeType&&module,r=n&&n.exports===e&&e,i=H[typeof global]&&global;!i||i.global!==i&&i.window!==i||(t=i),"function"==typeof define&&"object"==typeof define.amd&&define.amd?(t.Bottle=D,define(function(){return D})):e&&n?r?(n.exports=D).Bottle=D:e.Bottle=D:t.Bottle=D}(H[typeof window]&&window||this)}).call(this);
//# sourceMappingURL=bottle.min.js.map