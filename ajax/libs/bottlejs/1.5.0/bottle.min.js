(function(t){"use strict";var e=0,n=Array.prototype.slice,r=function(e,n){var r=e[n];if(r===t&&k.strict)throw new Error("Bottle was unable to resolve a service.  `"+n+"` is undefined.");return r},i=function(t){return this.nested[t]||(this.nested[t]=A.pop())},o=function(t){return t.split(".").reduce(r,this)},s=function(t,e){var n=t.split(".");return t=n.pop(),c.call(n.reduce(M,this.container),t,e),this},c=function(t,e){Object.defineProperty(this,t,{configurable:!1,enumerable:!0,value:e,writable:!1})},a=function(t,e){var n,r;return"function"==typeof t&&(e=t,t="__global__"),n=t.split("."),r=n.shift(),n.length?i.call(this,r).decorator(n.join("."),e):(this.decorators[r]||(this.decorators[r]=[]),this.decorators[r].push(e)),this},u=function(t){return this.deferred.push(t),this},l=function(t){return(t||[]).map(o,this.container)},f=function(t,e){return _.call(this,t,function(){this.$get=e})},d=function(t,e){return f.call(this,t,function(t){return{instance:e.bind(e,t)}})},h=function(t){return!/^\$(?:register|list)$|Provider$/.test(t)},p=function(t){return Object.keys(t||this.container||{}).filter(h)},v=function(t,e,n,r){var i={configurable:!0,enumerable:!0};return t.length?i.get=function(){var e=0,r=function(i){if(i)throw i;t[e]&&t[e++](n,r)};return r(),n}:(i.value=n,i.writable=!0),Object.defineProperty(r,e,i),r[e]},b=function(t,e){var n,r;return"function"==typeof t&&(e=t,t="__global__"),n=t.split("."),r=n.shift(),n.length?i.call(this,r).middleware(n.join("."),e):(this.middlewares[r]||(this.middlewares[r]=[]),this.middlewares[r].push(e)),this},g={},w=function(t){var e;return t?(e=g[t],e||(g[t]=e=new A,e.constant("BOTTLE_NAME",t)),e):new A},y=function(t){t?delete g[t]:g={}},m=function(t,e){return e(t)},_=function(t,e){var n,r;return n=t.split("."),this.providerMap[t]&&1===n.length&&!this.container[t+"Provider"]?console.error(t+" provider already instantiated."):(this.providerMap[t]=!0,r=n.shift(),n.length?(O.call(this,r,e,n),this):$.call(this,r,e))},j=function(t,e){return(t[e]||[]).concat(t.__global__||[])},$=function(e,n){var r,i,o,s,c,a;return s=this.id,o=this.container,c=this.decorators,a=this.middlewares,r=e+"Provider",i=Object.create(null),i[r]={configurable:!0,enumerable:!0,get:function(){var t=new n;return delete o[r],o[r]=t,t}},i[e]={configurable:!0,enumerable:!0,get:function(){var n,i=o[r];return i&&(n=j(c,e).reduce(m,i.$get(o)),delete o[r],delete o[e]),n===t?n:v(j(a,e),e,n,o)}},Object.defineProperties(o,i),this},O=function(t,e,n){var r;return r=i.call(this,t),this.factory(t,function(){return r.container}),r.provider(n.join("."),e)},P=function(e){var n=e.$value===t?e:e.$value;return this[e.$type||"service"].apply(this,[e.$name,n].concat(e.$inject||[]))},x=function(t){return this.deferred.forEach(function(e){e(t)}),this},B=function(t,e){var r=arguments.length>2?n.call(arguments,2):null,i=this;return f.call(this,t,function(){return r&&(r=r.map(o,i.container),r.unshift(e),e=e.bind.apply(e,r)),new e})},E=function(t,e){var n;return n=t.split("."),t=n.pop(),T.call(n.reduce(M,this.container),t,e),this},M=function(t,e){var n=t[e];return n||(n={},T.call(t,e,n)),n},T=function(t,e){Object.defineProperty(this,t,{configurable:!0,enumerable:!0,value:e,writable:!0})},A=function t(n){return this instanceof t?(this.id=e++,this.decorators={},this.middlewares={},this.nested={},this.providerMap={},this.deferred=[],void(this.container={$register:P.bind(this),$list:p.bind(this)})):t.pop(n)};A.prototype={constant:s,decorator:a,defer:u,digest:l,factory:f,instanceFactory:d,list:p,middleware:b,provider:_,register:P,resolve:x,service:B,value:E},A.pop=w,A.clear=y,A.list=p;var k=A.config={strict:!1},F={function:!0,object:!0};!function(t){var e=F[typeof exports]&&exports&&!exports.nodeType&&exports,n=F[typeof module]&&module&&!module.nodeType&&module,r=n&&n.exports===e&&e,i=F[typeof global]&&global;!i||i.global!==i&&i.window!==i||(t=i),"function"==typeof define&&"object"==typeof define.amd&&define.amd?(t.Bottle=A,define(function(){return A})):e&&n?r?(n.exports=A).Bottle=A:e.Bottle=A:t.Bottle=A}(F[typeof window]&&window||this)}).call(this);
//# sourceMappingURL=bottle.min.js.map