/*! /url 2.0.4 | http://nucleus.qoopido.com | (c) 2017 Dirk Lueth */
!function(t,e){"use strict";function i(t,i,u){function n(){var t=e.createElement("a");return t.href="/",t.href.slice(0,-1)}function c(t,e){var i;if(i=h[t])return i.link[e]}function o(t,e,i){var u;(u=h[t])&&(u.link[e]=i)}function r(t){var e=this;a(e,{uuid:i(t)}),r.update.call(e)}function s(t){var n=this,c=u(),o=e.createElement("a");a(n,{uuid:i(c),toString:{value:function(){return o.toString()},enumerable:!1},valueOf:{value:function(){return o.valueOf()},enumerable:!1}}),h[c]={link:o,parameter:{}},o.href=t,n.searchParams=new r(c)}var a=Object.defineProperties,h={},f=/^\//,d=/[?&]?([^=]+)=([^&]*)/g,b=/%20/g,j=/%5B/g,p=/%5D/g,l=new RegExp("^"+n(),"i"),O={"http:":/:80$/,"https:":/:443$/,"ftp:":/:21$/};return r.prototype={get:function(t){return h[this.uuid].parameter[t]},set:function(t,e){h[this.uuid].parameter[t]=e,r.serialize.call(this)},remove:function(t){delete h[this.uuid].parameter[t],r.serialize.call(this)}},r.update=function(){var t,e,i=h[this.uuid],u=i.parameter,n=i.link.search.split("+").join(" ");for(t in u)delete u[t];for(;e=d.exec(n);)u[decodeURIComponent(e[1])]=decodeURIComponent(e[2])},r.serialize=function(){var t,e=h[this.uuid],i=e.parameter,u="";for(t in i)u+=(u?"&":"?")+encodeURIComponent(t)+"="+encodeURIComponent(i[t]);e.link.search=u.replace(b,"+").replace(j,"[").replace(p,"]")},s.prototype={get local(){var t;if(t=c(this.uuid,"href"))return l.test(t)},get href(){return c(this.uuid,"href")},set href(t){o(this.uuid,"href",t)},get origin(){var t=this;return c(t.uuid,"origin")||t.protocol+"//"+t.host},get protocol(){return c(this.uuid,"protocol")},set protocol(t){o(this.uuid,"protocol",t)},get username(){return c(this.uuid,"username")},set username(t){o(this.uuid,"username",t)},get password(){return c(this.uuid,"password")},set password(t){o(this.uuid,"password",t)},get host(){var t,e;if(t=c(this.uuid,"host"))return e=c(this.uuid,"protocol"),O[e]?t.replace(O[e],""):t},set host(t){o(this.uuid,"host",t)},get hostname(){return c(this.uuid,"hostname")},set hostname(t){o(this.uuid,"hostname",t)},get port(){return c(this.uuid,"port")},set port(t){o(this.uuid,"port",t)},get pathname(){var t;if(t=c(this.uuid,"pathname"))return f.test(t)?t:"/"+t},set pathname(t){o(this.uuid,"pathname",t)},get search(){return c(this.uuid,"search")},set search(t){o(this.uuid,"search",t),r.update.call(this)},get hash(){return c(this.uuid,"hash")},set hash(t){o(this.uuid,"hash",t)}},t.extend(s)}provide(["./base","./function/descriptor/generate","./function/unique/uuid"],i)}(this,document);
//# sourceMappingURL=url.js.map
