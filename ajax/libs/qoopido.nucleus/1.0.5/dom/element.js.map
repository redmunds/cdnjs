{"version":3,"sources":["dom/element.js"],"names":["global","document","definition","isObject","isTypeOf","base","Event","hooksCss","supportMethod","functionDescriptorGenerate","functionUniqueUuid","emitEvent","type","detail","uuid","event","self","this","createEvent","initCustomEvent","_quid","isDelegate","element","dispatchEvent","defaultPrevented","resolveElement","regexMatchTag","test","createElement","replace","toLowerCase","querySelector","exception","NULL","Error","resolveArguments","parameters","arrayPrototypeConcat","apply","arrayPrototypeSlice","join","split","regexMatchSpaces","matchesDelegate","delegate","pointer","i","path","STRING_MATCHES","currentTarget","DomElement","attributes","styles","storage","objectDefineProperties","nodeName","objectDefineProperty","listener","setAttributes","setStyles","getSiblings","method","selector","limit","strict","multiple","siblings","call","nodeType","push","getParents","parents","parentNode","documentBody","body","getElementsByTagName","Array","prototype","concat","slice","Object","defineProperty","defineProperties","head","STRING_UNDEFINED","STRING_STRING","STRING_CONTENTATTRIBUTE","regexMatchChildSeclector","previousSibling","previousElementSibling","nextSibling","nextElementSibling","getContent","getHtml","innerHTML","getAttribute","attribute","getAttributes","result","arguments","getStyle","property","process","getStyles","properties","getSiblingBefore","getSiblingAfter","getSiblingsBefore","getSiblingsAfter","getChildren","matches","setAttribute","querySelectorAll","removeAttribute","childNodes","getParent","hasClass","name","RegExp","className","isVisible","offsetWidth","offsetHeight","setContent","source","isHtml","value","length","removeAttributes","setStyle","removeStyle","removeStyles","addClass","removeClass","trim","toggleClass","prepend","target","firstChild","insertBefore","append","insertAdjacentHTML","appendChild","prependTo","appendTo","insertAfter","replaceChild","replaceWith","remove","removeChild","on","events","fn","id","handler","delegateTo","isPropagationStopped","originalEvent","addEventListener","one","each","off","removeEventListener","emit","data","extend","provide"],"mappings":"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","file":"dom/element.js","sourcesContent":["/**\n * Qoopido dom/element\n *\n * Provides additional methods for DOM elements\n *\n * Copyright (c) 2015 Dirk Lueth\n *\n * Dual licensed under the MIT and GPL licenses.\n *  - http://www.opensource.org/licenses/mit-license.php\n *  - http://www.gnu.org/copyleft/gpl.html\n *\n * @author Dirk Lueth <info@qoopido.com>\n *\n * @use /demand/validator/isObject\n * @use /demand/validator/isTypeOf\n *\n * @require ../base\n * @require ./event\n * @require ../hook/css\n * @require ../function/descriptor/generate\n * @require ../function/unique/uuid\n * @require ../function/unique/uuid\n */\n\n(function(global, document) {\n\t'use strict';\n\n\tfunction definition(isObject, isTypeOf, base, Event, hooksCss, supportMethod, functionDescriptorGenerate, functionUniqueUuid) {\n\t\tvar //shortcuts\n\t\t\tdocumentBody             = document.body || document.getElementsByTagName('body')[0],\n\t\t\tarrayPrototypeConcat     = Array.prototype.concat,\n\t\t\tarrayPrototypeSlice      = Array.prototype.slice,\n\t\t\tobjectDefineProperty     = Object.defineProperty,\n\t\t\tobjectDefineProperties   = Object.defineProperties,\n\t\t\thead                     = document.getElementsByTagName('head')[0],\n\t\t\t// constants\n\t\t\tNULL                     = null,\n\t\t\tSTRING_UNDEFINED         = 'undefined',\n\t\t\tSTRING_STRING            = 'string',\n\t\t\tSTRING_CONTENTATTRIBUTE  = ('textContent' in document.createElement('a')) ? 'textContent' : 'innerText',\n\t\t\tSTRING_MATCHES           = supportMethod('matches', documentBody) || supportMethod('matchesSelector', documentBody),\n\t\t\t// regular expressions\n\t\t\tregexMatchTag            = /^<(\\w+)\\s*\\/>$/,\n\t\t\tregexMatchSpaces         = / +/g,\n\t\t\tregexMatchChildSeclector = /^\\s*^/,\n\t\t\t// methods\n\t\t\tpreviousSibling          = (!isTypeOf(head.previousElementSibling, STRING_UNDEFINED)) ? function previousSibling() { return this.previousElementSibling; } : function previousSibling() {var element = this; while(element = element.previousSibling) { if(element.nodeType === 1 ) { return element; }}},\n\t\t\tnextSibling              = (!isTypeOf(head.nextElementSibling, STRING_UNDEFINED)) ? function nextSibling() { return this.nextElementSibling; } : function nextSibling() {var element = this; while(element = element.nextSibling) { if(element.nodeType === 1 ) { return element; }}},\n\t\t\t// flags\n\t\t\t// general storage & objects\n\t\t\tstorage                  = {},\n\t\t\tlistener                 = {};\n\n\t\tfunction emitEvent(type, detail, uuid) {\n\t\t\tvar self = this,\n\t\t\t\tevent;\n\n\t\t\tevent = document.createEvent('CustomEvent');\n\t\t\tevent.initCustomEvent(type, (type === 'load') ? false : true, true, detail);\n\n\t\t\tif(uuid) {\n\t\t\t\tevent._quid      = uuid;\n\t\t\t\tevent.isDelegate = true;\n\t\t\t}\n\n\t\t\tself.element.dispatchEvent(event);\n\n\t\t\tif(self.element !== global && !event.defaultPrevented && typeof self.element[type] === 'function') {\n\t\t\t\tself.element[type]();\n\t\t\t}\n\t\t}\n\n\t\tfunction resolveElement(element) {\n\t\t\tif(typeof element === 'string') {\n\t\t\t\ttry {\n\t\t\t\t\tif(regexMatchTag.test(element)) {\n\t\t\t\t\t\telement = document.createElement(element.replace(regexMatchTag, '$1').toLowerCase());\n\t\t\t\t\t} else {\n\t\t\t\t\t\telement = document.querySelector(element);\n\t\t\t\t\t}\n\t\t\t\t} catch(exception) {\n\t\t\t\t\telement = NULL;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(!element) {\n\t\t\t\tthrow new Error('Element could not be resolved');\n\t\t\t}\n\n\t\t\treturn element;\n\t\t}\n\n\t\tfunction resolveArguments(parameters) {\n\t\t\treturn arrayPrototypeConcat.apply([], arrayPrototypeSlice(parameters)).join(' ').split(regexMatchSpaces);\n\t\t}\n\n\t\tfunction matchesDelegate(event, delegate) {\n\t\t\tvar i = 0, pointer;\n\n\t\t\tfor(; pointer = event.path[i]; i++) {\n\t\t\t\tif(pointer[STRING_MATCHES](delegate)) {\n\t\t\t\t\tevent.currentTarget = pointer;\n\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\tif(pointer === event.currentTarget) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn false;\n\t\t}\n\n\t\tfunction DomElement(element, attributes, styles) {\n\t\t\tvar self = this,\n\t\t\t\tuuid;\n\n\t\t\telement = resolveElement(element);\n\t\t\tuuid    = element._quid;\n\n\t\t\tif(!uuid) {\n\t\t\t\tuuid = functionUniqueUuid();\n\n\t\t\t\tobjectDefineProperties(self, {\n\t\t\t\t\tuuid:    functionDescriptorGenerate(uuid),\n\t\t\t\t\ttype:    functionDescriptorGenerate(element === global ? '#window' : element.nodeName),\n\t\t\t\t\telement: functionDescriptorGenerate(element)\n\t\t\t\t});\n\n\t\t\t\tobjectDefineProperty(element, '_quid', functionDescriptorGenerate(uuid));\n\n\t\t\t\tstorage[uuid]  = self;\n\t\t\t\tlistener[uuid] = {};\n\t\t\t} else {\n\t\t\t\tself = storage[uuid];\n\t\t\t}\n\n\t\t\tif(isObject(attributes)) {\n\t\t\t\tself.setAttributes(attributes);\n\t\t\t}\n\n\t\t\tif(isObject(styles)) {\n\t\t\t\tself.setStyles(styles);\n\t\t\t}\n\n\t\t\treturn self;\n\t\t}\n\n\t\tfunction getSiblings(pointer, method, selector, limit, strict) {\n\t\t\tvar multiple = !(limit && limit === 1),\n\t\t\t\tsiblings = multiple ? [] : false;\n\n\t\t\tstrict = multiple ? false : strict;\n\n\t\t\twhile(pointer = method.call(pointer)) {\n\t\t\t\tif(pointer.nodeType === 1) {\n\t\t\t\t\tif(!selector || pointer[STRING_MATCHES](selector)) {\n\t\t\t\t\t\tif(multiple) {\n\t\t\t\t\t\t\tsiblings.push(pointer);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn pointer;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif(strict) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn siblings;\n\t\t}\n\n\t\tfunction getParents(pointer, selector, limit, strict) {\n\t\t\tvar multiple = !(limit && limit === 1),\n\t\t\t\tparents = multiple ? [] : false;\n\n\t\t\tstrict   = multiple ? false : strict;\n\n\t\t\twhile(pointer = pointer.parentNode) {\n\t\t\t\tif(pointer.nodeType === 1) {\n\t\t\t\t\tif(!selector || pointer[STRING_MATCHES](selector)) {\n\t\t\t\t\t\tif(multiple) {\n\t\t\t\t\t\t\tparents.push(pointer);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn pointer;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif(strict) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn parents\n\t\t}\n\n\t\tDomElement.prototype = {\n\t\t\t/* only for reference\n\t\t\t uuid:    NULL,\n\t\t\t type:    NULL,\n\t\t\t element: NULL\n\t\t\t */\n\t\t\tgetContent: function(getHtml) {\n\t\t\t\tvar element = this.element;\n\n\t\t\t\treturn getHtml ? element.innerHTML : element[STRING_CONTENTATTRIBUTE];\n\t\t\t},\n\t\t\tgetAttribute: function(attribute) {\n\t\t\t\tvar self = this;\n\n\t\t\t\tif(isTypeOf(attribute, STRING_STRING)) {\n\t\t\t\t\treturn self.element.getAttribute(attribute);\n\t\t\t\t}\n\t\t\t},\n\t\t\tgetAttributes: function() {\n\t\t\t\tvar self       = this,\n\t\t\t\t\tresult     = {},\n\t\t\t\t\tattributes = resolveArguments(arguments),\n\t\t\t\t\ti = 0, attribute;\n\n\t\t\t\tfor(; attribute = attributes[i]; i++) {\n\t\t\t\t\tresult[attribute] = self.element.getAttribute(attribute);\n\t\t\t\t}\n\n\t\t\t\treturn result;\n\t\t\t},\n\t\t\tgetStyle: function(property) {\n\t\t\t\tvar self = this;\n\n\t\t\t\tif(isTypeOf(property, STRING_STRING)) {\n\t\t\t\t\treturn hooksCss.process('get', self.element, property);\n\t\t\t\t}\n\t\t\t},\n\t\t\tgetStyles: function() {\n\t\t\t\tvar self       = this,\n\t\t\t\t\tresult     = {},\n\t\t\t\t\tproperties = resolveArguments(arguments),\n\t\t\t\t\ti = 0, property;\n\n\t\t\t\tfor(; property = properties[i]; i++) {\n\t\t\t\t\tresult[property] = hooksCss.process('get', self.element, property);\n\t\t\t\t}\n\n\t\t\t\treturn result;\n\t\t\t},\n\t\t\tgetSiblingBefore: function(selector, strict) {\n\t\t\t\treturn getSiblings(this.element, previousSibling, selector, 1, strict);\n\t\t\t},\n\t\t\tgetSiblingAfter: function(selector, strict) {\n\t\t\t\treturn getSiblings(this.element, nextSibling, selector, 1, strict);\n\t\t\t},\n\t\t\tgetSiblings: function(selector) {\n\t\t\t\treturn this.getSiblingsBefore(selector).concat(this.getSiblingsAfter(selector));\n\t\t\t},\n\t\t\tgetSiblingsBefore: function(selector) {\n\t\t\t\treturn getSiblings(this.element, previousSibling, selector);\n\t\t\t},\n\t\t\tgetSiblingsAfter: function(selector) {\n\t\t\t\treturn getSiblings(this.element, nextSibling, selector);\n\t\t\t},\n\t\t\tgetChildren: function(selector) {\n\t\t\t\tvar self = this.element,\n\t\t\t\t\tuuid, matches;\n\n\t\t\t\tif(!selector) {\n\t\t\t\t\tmatches = self.childNodes;\n\t\t\t\t} else if(regexMatchChildSeclector.test(selector)) {\n\t\t\t\t\tuuid = self._quid;\n\n\t\t\t\t\tself.setAttribute('nucleus-uuid', uuid);\n\n\t\t\t\t\tselector = '[nucleus-uuid=\"' + uuid + '\"] ' + selector;\n\t\t\t\t\tmatches  = self.parentNode.querySelectorAll(selector);\n\n\t\t\t\t\tself.removeAttribute('nucleus-uuid');\n\t\t\t\t} else {\n\t\t\t\t\tmatches = self.querySelectorAll(selector);\n\t\t\t\t}\n\n\t\t\t\treturn matches && arrayPrototypeSlice.call(matches);\n\t\t\t},\n\t\t\tgetParent: function(selector, strict) {\n\t\t\t\treturn getParents(this.element, selector, 1, strict);\n\t\t\t},\n\t\t\tgetParents: function(selector) {\n\t\t\t\treturn getParents(this.element, selector);\n\t\t\t},\n\t\t\thasClass: function(name) {\n\t\t\t\treturn (name) ? (new RegExp('(?:^|\\\\s)' + name + '(?:\\\\s|$)')).test(this.element.className) : false;\n\t\t\t},\n\t\t\tisVisible: function() {\n\t\t\t\tvar self    = this,\n\t\t\t\t\telement = self.element;\n\n\t\t\t\treturn !((element.offsetWidth <= 0 && element.offsetHeight <= 0) || self.getStyle('visibility') === 'hidden' || self.getStyle('opacity') <= 0);\n\t\t\t},\n\t\t\tsetContent: function(source, isHtml) {\n\t\t\t\tvar self    = this,\n\t\t\t\t\telement = self.element;\n\n\t\t\t\tif(isHtml) {\n\t\t\t\t\telement.innerHTML = source;\n\t\t\t\t} else {\n\t\t\t\t\telement[STRING_CONTENTATTRIBUTE] = source;\n\t\t\t\t}\n\n\t\t\t\treturn self;\n\t\t\t},\n\t\t\tsetAttribute: function(attribute, value) {\n\t\t\t\tvar self = this;\n\n\t\t\t\tif(isTypeOf(attribute, STRING_STRING)) {\n\t\t\t\t\tself.element.setAttribute(attribute, value);\n\t\t\t\t}\n\n\t\t\t\treturn self;\n\t\t\t},\n\t\t\tsetAttributes: function(attributes) {\n\t\t\t\tvar self = this,\n\t\t\t\t\tattribute;\n\n\t\t\t\tif(isObject(attributes) && !attributes.length) {\n\t\t\t\t\tfor(attribute in attributes) {\n\t\t\t\t\t\tself.setAttribute(attribute, attributes[attribute]);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn self;\n\t\t\t},\n\t\t\tremoveAttribute: function(attribute) {\n\t\t\t\tvar self = this;\n\n\t\t\t\tif(isTypeOf(attribute, STRING_STRING)) {\n\t\t\t\t\tself.element.removeAttribute(attribute);\n\t\t\t\t}\n\n\t\t\t\treturn self;\n\t\t\t},\n\t\t\tremoveAttributes: function() {\n\t\t\t\tvar self       = this,\n\t\t\t\t\tattributes = resolveArguments(arguments),\n\t\t\t\t\ti = 0, attribute;\n\n\t\t\t\tfor(; attribute = attributes[i]; i++) {\n\t\t\t\t\tself.removeAttribute(attribute);\n\t\t\t\t}\n\n\t\t\t\treturn self;\n\t\t\t},\n\t\t\tsetStyle: function(property, value) {\n\t\t\t\tvar self = this;\n\n\t\t\t\tif(isTypeOf(property, STRING_STRING)) {\n\t\t\t\t\thooksCss.process('set', self.element, property, value);\n\t\t\t\t}\n\n\t\t\t\treturn self;\n\t\t\t},\n\t\t\tsetStyles: function(properties) {\n\t\t\t\tvar self = this,\n\t\t\t\t\tproperty;\n\n\t\t\t\tif(isObject(properties) && !properties.length) {\n\t\t\t\t\tfor(property in properties) {\n\t\t\t\t\t\thooksCss.process('set', self.element, property, properties[property]);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn self;\n\t\t\t},\n\t\t\tremoveStyle: function(property) {\n\t\t\t\tvar self = this;\n\n\t\t\t\tif(isTypeOf(property, STRING_STRING)) {\n\t\t\t\t\tself.setStyle(property, '');\n\t\t\t\t}\n\n\t\t\t\treturn self;\n\t\t\t},\n\t\t\tremoveStyles: function() {\n\t\t\t\tvar self       = this,\n\t\t\t\t\tproperties = resolveArguments(arguments),\n\t\t\t\t\ti = 0, property;\n\n\t\t\t\tfor(; property = properties[i]; i++) {\n\t\t\t\t\tself.setStyle(property, '');\n\t\t\t\t}\n\n\t\t\t\treturn self;\n\t\t\t},\n\t\t\taddClass: function(name) {\n\t\t\t\tvar self = this;\n\n\t\t\t\tif(name && !self.hasClass(name)) {\n\t\t\t\t\tself.element.className += (self.element.className) ? ' ' + name : name;\n\t\t\t\t}\n\n\t\t\t\treturn self;\n\t\t\t},\n\t\t\tremoveClass: function(name) {\n\t\t\t\tvar self = this;\n\n\t\t\t\tif(name && self.hasClass(name)) {\n\t\t\t\t\tself.element.className = self.element.className.replace(new RegExp('(?:^|\\\\s)' + name + '(?!\\\\S)'), '').trim();\n\t\t\t\t}\n\n\t\t\t\treturn self;\n\t\t\t},\n\t\t\ttoggleClass: function(name) {\n\t\t\t\tvar self = this;\n\n\t\t\t\tif(name) {\n\t\t\t\t\tself.hasClass(name) ? self.removeClass(name) : self.addClass(name);\n\t\t\t\t}\n\n\t\t\t\treturn self;\n\t\t\t},\n\t\t\tprepend: function(element) {\n\t\t\t\tvar self    = this,\n\t\t\t\t\ttarget = self.element;\n\n\t\t\t\tif(element) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\telement = element.element || resolveElement(element);\n\n\t\t\t\t\t\ttarget.firstChild ? target.insertBefore(element, target.firstChild) : self.append(element);\n\t\t\t\t\t} catch(exception) {\n\t\t\t\t\t\ttarget.insertAdjacentHTML('afterBegin', element);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn self;\n\t\t\t},\n\t\t\tappend: function(element) {\n\t\t\t\tvar self   = this,\n\t\t\t\t\ttarget = self.element;\n\n\t\t\t\tif(element) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\ttarget.appendChild(element.element || resolveElement(element));\n\t\t\t\t\t} catch(exception) {\n\t\t\t\t\t\ttarget.insertAdjacentHTML('beforeEnd', element);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn self;\n\t\t\t},\n\t\t\tprependTo: function(target) {\n\t\t\t\tvar self    = this,\n\t\t\t\t\telement = self.element;\n\n\t\t\t\tif(target) {\n\t\t\t\t\t(target  = target.element || resolveElement(target)).firstChild ? target.insertBefore(element, target.firstChild) : self.appendTo(target);\n\t\t\t\t}\n\n\t\t\t\treturn self;\n\t\t\t},\n\t\t\tappendTo: function(target) {\n\t\t\t\tvar self = this;\n\n\t\t\t\tif(target) {\n\t\t\t\t\t(target.element || resolveElement(target)).appendChild(self.element);\n\t\t\t\t}\n\n\t\t\t\treturn self;\n\t\t\t},\n\t\t\tinsertBefore: function(target) {\n\t\t\t\tvar self    = this,\n\t\t\t\t\telement = self.element;\n\n\t\t\t\tif(target) {\n\t\t\t\t\t(target  = target.element || resolveElement(target)).parentNode.insertBefore(element, target);\n\t\t\t\t}\n\n\t\t\t\treturn self;\n\t\t\t},\n\t\t\tinsertAfter: function(target) {\n\t\t\t\tvar self    = this,\n\t\t\t\t\telement = self.element;\n\n\t\t\t\tif(target) {\n\t\t\t\t\t(target = target.element || resolveElement(target)).nextSibling ? target.parentNode.insertBefore(element, target.nextSibling) : self.appendTo(target.parentNode);\n\t\t\t\t}\n\n\t\t\t\treturn self;\n\t\t\t},\n\t\t\treplace: function(target) {\n\t\t\t\tvar self    = this,\n\t\t\t\t\telement = self.element;\n\n\t\t\t\tif(target) {\n\t\t\t\t\t(target  = target.element || resolveElement(target)).parentNode.replaceChild(element, target);\n\t\t\t\t}\n\n\t\t\t\treturn self;\n\t\t\t},\n\t\t\treplaceWith: function(element) {\n\t\t\t\tvar self    = this,\n\t\t\t\t\ttarget = self.element;\n\n\t\t\t\tif(element) {\n\t\t\t\t\telement = element.element || resolveElement(element);\n\n\t\t\t\t\ttarget.parentNode.replaceChild(element, target);\n\t\t\t\t}\n\n\t\t\t\treturn self;\n\t\t\t},\n\t\t\tremove: function() {\n\t\t\t\tvar self    = this,\n\t\t\t\t\telement = self.element;\n\n\t\t\t\telement.parentNode.removeChild(element);\n\n\t\t\t\treturn self;\n\t\t\t},\n\t\t\ton: function(events) {\n\t\t\t\tvar self     = this,\n\t\t\t\t\telement  = self.element,\n\t\t\t\t\tdelegate = arguments.length > 2 ? arguments[1] : NULL,\n\t\t\t\t\tfn       = delegate ? arguments[2] : arguments[1],\n\t\t\t\t\tuuid     = fn._quid || (fn._quid = functionUniqueUuid()),\n\t\t\t\t\ti = 0, event;\n\n\t\t\t\tevents  = events.split(regexMatchSpaces);\n\n\t\t\t\tfor(; event = events[i]; i++) {\n\t\t\t\t\tvar id      = event + '-' + uuid,\n\t\t\t\t\t\thandler = function(event) {\n\t\t\t\t\t\t\tvar delegateTo;\n\n\t\t\t\t\t\t\tevent = new Event(event);\n\n\t\t\t\t\t\t\tif(!event.isPropagationStopped) {\n\t\t\t\t\t\t\t\tdelegateTo  = event.delegate;\n\t\t\t\t\t\t\t\tevent._quid = functionUniqueUuid();\n\n\t\t\t\t\t\t\t\tif(!delegate || matchesDelegate(event, delegate)) {\n\t\t\t\t\t\t\t\t\tfn.call(event.currentTarget, event, event.originalEvent.detail);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif(delegateTo) {\n\t\t\t\t\t\t\t\t\tdelete event.delegate;\n\n\t\t\t\t\t\t\t\t\temitEvent.call(self, delegateTo);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\n\t\t\t\t\thandler.type            = event;\n\t\t\t\t\tlistener[self.uuid][id] = handler;\n\n\t\t\t\t\telement.addEventListener(event, handler);\n\t\t\t\t}\n\n\t\t\t\treturn self;\n\t\t\t},\n\t\t\tone: function(events) {\n\t\t\t\tvar self     = this,\n\t\t\t\t\tdelegate = (arguments.length > 3 || typeof arguments[1] === 'string') ? arguments[1] : NULL,\n\t\t\t\t\tfn       = (arguments.length > 3 || typeof arguments[2] === 'function') ? arguments[2] : arguments[1],\n\t\t\t\t\teach     = ((arguments.length > 3) ? arguments[3] : arguments[2]) !== false,\n\t\t\t\t\thandler  = function(event) {\n\t\t\t\t\t\tself.off(((each === true) ? event.type : events), handler);\n\n\t\t\t\t\t\tfn.call(this, event, event.originalEvent.detail);\n\t\t\t\t\t};\n\n\t\t\t\tfn._quid = handler._quid = functionUniqueUuid();\n\n\t\t\t\tif(delegate) {\n\t\t\t\t\tself.on(events, delegate, handler);\n\t\t\t\t} else {\n\t\t\t\t\tself.on(events, handler);\n\t\t\t\t}\n\n\t\t\t\treturn self;\n\t\t\t},\n\t\t\toff: function(events, fn) {\n\t\t\t\tvar self    = this,\n\t\t\t\t\telement = self.element,\n\t\t\t\t\ti = 0, event, id, handler;\n\n\t\t\t\tevents = events.split(' ');\n\n\t\t\t\tfor(; event = events[i]; i++) {\n\t\t\t\t\tid      = fn._quid && event + '-' + fn._quid || NULL;\n\t\t\t\t\thandler = id && listener[self.uuid][id] || NULL;\n\n\t\t\t\t\tif(handler) {\n\t\t\t\t\t\telement.removeEventListener(event, handler);\n\n\t\t\t\t\t\tdelete listener[self.uuid][id];\n\t\t\t\t\t} else {\n\t\t\t\t\t\telement.removeEventListener(event, fn);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn self;\n\t\t\t},\n\t\t\temit: function(event, data) {\n\t\t\t\tvar self = this;\n\n\t\t\t\temitEvent.call(self, event, data);\n\n\t\t\t\treturn self;\n\t\t\t}\n\t\t};\n\n\t\treturn base.extend(DomElement);\n\t}\n\n\tprovide([ '/demand/validator/isObject', '/demand/validator/isTypeOf', '../base', './event', '../hooks/css', '../support/method', '../function/descriptor/generate', '../function/unique/uuid' ], definition);\n}(this, document));"],"sourceRoot":"/source/"}