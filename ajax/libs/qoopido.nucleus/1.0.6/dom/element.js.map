{"version":3,"sources":["dom/element.js"],"names":["global","document","definition","isObject","isTypeOf","base","Event","hooksCss","supportMethod","functionDescriptorGenerate","functionUniqueUuid","emitEvent","type","detail","uuid","event","self","this","createEvent","initCustomEvent","_quid","isDelegate","element","dispatchEvent","defaultPrevented","resolveElement","regexMatchTag","test","createElement","replace","toLowerCase","querySelector","exception","NULL","Error","resolveArguments","parameters","arrayPrototypeConcat","apply","arrayPrototypeSlice","join","split","regexMatchSpaces","matchesDelegate","delegate","pointer","i","path","STRING_MATCHES","currentTarget","DomElement","attributes","styles","listener","objectDefineProperty","objectDefineProperties","nodeName","setAttributes","setStyles","getSiblings","method","selector","limit","strict","multiple","siblings","call","nodeType","push","getParents","parents","parentNode","documentBody","body","getElementsByTagName","Array","prototype","concat","slice","Object","defineProperty","defineProperties","head","STRING_UNDEFINED","STRING_STRING","STRING_CONTENTATTRIBUTE","regexMatchChildSeclector","previousSibling","previousElementSibling","nextSibling","nextElementSibling","getContent","getHtml","innerHTML","getAttribute","attribute","getAttributes","result","arguments","getStyle","property","process","getStyles","properties","getSiblingBefore","getSiblingAfter","getSiblingsBefore","getSiblingsAfter","getChildren","matches","setAttribute","querySelectorAll","removeAttribute","childNodes","getParent","hasClass","name","RegExp","className","isVisible","offsetWidth","offsetHeight","setContent","source","isHtml","value","length","removeAttributes","setStyle","removeStyle","removeStyles","addClass","removeClass","trim","toggleClass","prepend","target","firstChild","insertBefore","append","insertAdjacentHTML","appendChild","prependTo","appendTo","insertAfter","replaceChild","replaceWith","remove","removeChild","on","events","fn","id","handler","delegateTo","isPropagationStopped","originalEvent","addEventListener","one","each","off","removeEventListener","emit","data","extend","provide"],"mappings":"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","file":"dom/element.js","sourcesContent":["/**\n * Qoopido dom/element\n *\n * Provides additional methods for DOM elements\n *\n * Copyright (c) 2015 Dirk Lueth\n *\n * Dual licensed under the MIT and GPL licenses.\n *  - http://www.opensource.org/licenses/mit-license.php\n *  - http://www.gnu.org/copyleft/gpl.html\n *\n * @author Dirk Lueth <info@qoopido.com>\n *\n * @use /demand/validator/isObject\n * @use /demand/validator/isTypeOf\n *\n * @require ../base\n * @require ./event\n * @require ../hook/css\n * @require ../function/descriptor/generate\n * @require ../function/unique/uuid\n * @require ../function/unique/uuid\n */\n\n(function(global, document) {\n\t'use strict';\n\n\tfunction definition(isObject, isTypeOf, base, Event, hooksCss, supportMethod, functionDescriptorGenerate, functionUniqueUuid) {\n\t\tvar //shortcuts\n\t\t\tdocumentBody             = document.body || document.getElementsByTagName('body')[0],\n\t\t\tarrayPrototypeConcat     = Array.prototype.concat,\n\t\t\tarrayPrototypeSlice      = Array.prototype.slice,\n\t\t\tobjectDefineProperty     = Object.defineProperty,\n\t\t\tobjectDefineProperties   = Object.defineProperties,\n\t\t\thead                     = document.getElementsByTagName('head')[0],\n\t\t\t// constants\n\t\t\tNULL                     = null,\n\t\t\tSTRING_UNDEFINED         = 'undefined',\n\t\t\tSTRING_STRING            = 'string',\n\t\t\tSTRING_CONTENTATTRIBUTE  = ('textContent' in document.createElement('a')) ? 'textContent' : 'innerText',\n\t\t\tSTRING_MATCHES           = supportMethod('matches', documentBody) || supportMethod('matchesSelector', documentBody),\n\t\t\t// regular expressions\n\t\t\tregexMatchTag            = /^<(\\w+)\\s*\\/>$/,\n\t\t\tregexMatchSpaces         = / +/g,\n\t\t\tregexMatchChildSeclector = /^\\s*^/,\n\t\t\t// methods\n\t\t\tpreviousSibling          = (!isTypeOf(head.previousElementSibling, STRING_UNDEFINED)) ? function previousSibling() { return this.previousElementSibling; } : function previousSibling() {var element = this; while(element = element.previousSibling) { if(element.nodeType === 1 ) { return element; }}},\n\t\t\tnextSibling              = (!isTypeOf(head.nextElementSibling, STRING_UNDEFINED)) ? function nextSibling() { return this.nextElementSibling; } : function nextSibling() {var element = this; while(element = element.nextSibling) { if(element.nodeType === 1 ) { return element; }}},\n\t\t\t// flags\n\t\t\t// general storage & objects\n\t\t\tlistener                 = {};\n\n\t\tfunction emitEvent(type, detail, uuid) {\n\t\t\tvar self = this,\n\t\t\t\tevent;\n\n\t\t\tevent = document.createEvent('CustomEvent');\n\t\t\tevent.initCustomEvent(type, (type === 'load') ? false : true, true, detail);\n\n\t\t\tif(uuid) {\n\t\t\t\tevent._quid      = uuid;\n\t\t\t\tevent.isDelegate = true;\n\t\t\t}\n\n\t\t\tself.element.dispatchEvent(event);\n\n\t\t\tif(self.element !== global && !event.defaultPrevented && typeof self.element[type] === 'function') {\n\t\t\t\tself.element[type]();\n\t\t\t}\n\t\t}\n\n\t\tfunction resolveElement(element) {\n\t\t\tif(typeof element === 'string') {\n\t\t\t\ttry {\n\t\t\t\t\tif(regexMatchTag.test(element)) {\n\t\t\t\t\t\telement = document.createElement(element.replace(regexMatchTag, '$1').toLowerCase());\n\t\t\t\t\t} else {\n\t\t\t\t\t\telement = document.querySelector(element);\n\t\t\t\t\t}\n\t\t\t\t} catch(exception) {\n\t\t\t\t\telement = NULL;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(!element) {\n\t\t\t\tthrow new Error('Element could not be resolved');\n\t\t\t}\n\n\t\t\treturn element;\n\t\t}\n\n\t\tfunction resolveArguments(parameters) {\n\t\t\treturn arrayPrototypeConcat.apply([], arrayPrototypeSlice(parameters)).join(' ').split(regexMatchSpaces);\n\t\t}\n\n\t\tfunction matchesDelegate(event, delegate) {\n\t\t\tvar i = 0, pointer;\n\n\t\t\tfor(; pointer = event.path[i]; i++) {\n\t\t\t\tif(pointer[STRING_MATCHES](delegate)) {\n\t\t\t\t\tevent.currentTarget = pointer;\n\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\tif(pointer === event.currentTarget) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn false;\n\t\t}\n\n\t\tfunction DomElement(element, attributes, styles) {\n\t\t\tvar self = this,\n\t\t\t\tuuid;\n\n\t\t\telement = resolveElement(element);\n\t\t\tuuid    = element._quid;\n\n\t\t\tif(!uuid) {\n\t\t\t\tuuid           = functionUniqueUuid();\n\t\t\t\tlistener[uuid] = {};\n\n\t\t\t\tobjectDefineProperty(element, '_quid', functionDescriptorGenerate(uuid));\n\t\t\t}\n\n\t\t\tobjectDefineProperties(self, {\n\t\t\t\tuuid:    functionDescriptorGenerate(uuid),\n\t\t\t\ttype:    functionDescriptorGenerate(element === global ? '#window' : element.nodeName),\n\t\t\t\telement: functionDescriptorGenerate(element)\n\t\t\t});\n\n\t\t\tif(isObject(attributes)) {\n\t\t\t\tself.setAttributes(attributes);\n\t\t\t}\n\n\t\t\tif(isObject(styles)) {\n\t\t\t\tself.setStyles(styles);\n\t\t\t}\n\n\t\t\treturn self;\n\t\t}\n\n\t\tfunction getSiblings(pointer, method, selector, limit, strict) {\n\t\t\tvar multiple = !(limit && limit === 1),\n\t\t\t\tsiblings = multiple ? [] : false;\n\n\t\t\tstrict = multiple ? false : strict;\n\n\t\t\twhile(pointer = method.call(pointer)) {\n\t\t\t\tif(pointer.nodeType === 1) {\n\t\t\t\t\tif(!selector || pointer[STRING_MATCHES](selector)) {\n\t\t\t\t\t\tif(multiple) {\n\t\t\t\t\t\t\tsiblings.push(pointer);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn pointer;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif(strict) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn siblings;\n\t\t}\n\n\t\tfunction getParents(pointer, selector, limit, strict) {\n\t\t\tvar multiple = !(limit && limit === 1),\n\t\t\t\tparents = multiple ? [] : false;\n\n\t\t\tstrict   = multiple ? false : strict;\n\n\t\t\twhile(pointer = pointer.parentNode) {\n\t\t\t\tif(pointer.nodeType === 1) {\n\t\t\t\t\tif(!selector || pointer[STRING_MATCHES](selector)) {\n\t\t\t\t\t\tif(multiple) {\n\t\t\t\t\t\t\tparents.push(pointer);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn pointer;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif(strict) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn parents\n\t\t}\n\n\t\tDomElement.prototype = {\n\t\t\t/* only for reference\n\t\t\t uuid:    NULL,\n\t\t\t type:    NULL,\n\t\t\t element: NULL\n\t\t\t */\n\t\t\tgetContent: function(getHtml) {\n\t\t\t\tvar element = this.element;\n\n\t\t\t\treturn getHtml ? element.innerHTML : element[STRING_CONTENTATTRIBUTE];\n\t\t\t},\n\t\t\tgetAttribute: function(attribute) {\n\t\t\t\tvar self = this;\n\n\t\t\t\tif(isTypeOf(attribute, STRING_STRING)) {\n\t\t\t\t\treturn self.element.getAttribute(attribute);\n\t\t\t\t}\n\t\t\t},\n\t\t\tgetAttributes: function() {\n\t\t\t\tvar self       = this,\n\t\t\t\t\tresult     = {},\n\t\t\t\t\tattributes = resolveArguments(arguments),\n\t\t\t\t\ti = 0, attribute;\n\n\t\t\t\tfor(; attribute = attributes[i]; i++) {\n\t\t\t\t\tresult[attribute] = self.element.getAttribute(attribute);\n\t\t\t\t}\n\n\t\t\t\treturn result;\n\t\t\t},\n\t\t\tgetStyle: function(property) {\n\t\t\t\tvar self = this;\n\n\t\t\t\tif(isTypeOf(property, STRING_STRING)) {\n\t\t\t\t\treturn hooksCss.process('get', self.element, property);\n\t\t\t\t}\n\t\t\t},\n\t\t\tgetStyles: function() {\n\t\t\t\tvar self       = this,\n\t\t\t\t\tresult     = {},\n\t\t\t\t\tproperties = resolveArguments(arguments),\n\t\t\t\t\ti = 0, property;\n\n\t\t\t\tfor(; property = properties[i]; i++) {\n\t\t\t\t\tresult[property] = hooksCss.process('get', self.element, property);\n\t\t\t\t}\n\n\t\t\t\treturn result;\n\t\t\t},\n\t\t\tgetSiblingBefore: function(selector, strict) {\n\t\t\t\treturn getSiblings(this.element, previousSibling, selector, 1, strict);\n\t\t\t},\n\t\t\tgetSiblingAfter: function(selector, strict) {\n\t\t\t\treturn getSiblings(this.element, nextSibling, selector, 1, strict);\n\t\t\t},\n\t\t\tgetSiblings: function(selector) {\n\t\t\t\treturn this.getSiblingsBefore(selector).concat(this.getSiblingsAfter(selector));\n\t\t\t},\n\t\t\tgetSiblingsBefore: function(selector) {\n\t\t\t\treturn getSiblings(this.element, previousSibling, selector);\n\t\t\t},\n\t\t\tgetSiblingsAfter: function(selector) {\n\t\t\t\treturn getSiblings(this.element, nextSibling, selector);\n\t\t\t},\n\t\t\tgetChildren: function(selector) {\n\t\t\t\tvar self = this.element,\n\t\t\t\t\tuuid, matches;\n\n\t\t\t\tif(!selector) {\n\t\t\t\t\tmatches = self.childNodes;\n\t\t\t\t} else if(regexMatchChildSeclector.test(selector)) {\n\t\t\t\t\tuuid = self._quid;\n\n\t\t\t\t\tself.setAttribute('nucleus-uuid', uuid);\n\n\t\t\t\t\tselector = '[nucleus-uuid=\"' + uuid + '\"] ' + selector;\n\t\t\t\t\tmatches  = self.parentNode.querySelectorAll(selector);\n\n\t\t\t\t\tself.removeAttribute('nucleus-uuid');\n\t\t\t\t} else {\n\t\t\t\t\tmatches = self.querySelectorAll(selector);\n\t\t\t\t}\n\n\t\t\t\treturn matches && arrayPrototypeSlice.call(matches);\n\t\t\t},\n\t\t\tgetParent: function(selector, strict) {\n\t\t\t\treturn getParents(this.element, selector, 1, strict);\n\t\t\t},\n\t\t\tgetParents: function(selector) {\n\t\t\t\treturn getParents(this.element, selector);\n\t\t\t},\n\t\t\thasClass: function(name) {\n\t\t\t\treturn (name) ? (new RegExp('(?:^|\\\\s)' + name + '(?:\\\\s|$)')).test(this.element.className) : false;\n\t\t\t},\n\t\t\tisVisible: function() {\n\t\t\t\tvar self    = this,\n\t\t\t\t\telement = self.element;\n\n\t\t\t\treturn !((element.offsetWidth <= 0 && element.offsetHeight <= 0) || self.getStyle('visibility') === 'hidden' || self.getStyle('opacity') <= 0);\n\t\t\t},\n\t\t\tsetContent: function(source, isHtml) {\n\t\t\t\tvar self    = this,\n\t\t\t\t\telement = self.element;\n\n\t\t\t\tif(isHtml) {\n\t\t\t\t\telement.innerHTML = source;\n\t\t\t\t} else {\n\t\t\t\t\telement[STRING_CONTENTATTRIBUTE] = source;\n\t\t\t\t}\n\n\t\t\t\treturn self;\n\t\t\t},\n\t\t\tsetAttribute: function(attribute, value) {\n\t\t\t\tvar self = this;\n\n\t\t\t\tif(isTypeOf(attribute, STRING_STRING)) {\n\t\t\t\t\tself.element.setAttribute(attribute, value);\n\t\t\t\t}\n\n\t\t\t\treturn self;\n\t\t\t},\n\t\t\tsetAttributes: function(attributes) {\n\t\t\t\tvar self = this,\n\t\t\t\t\tattribute;\n\n\t\t\t\tif(isObject(attributes) && !attributes.length) {\n\t\t\t\t\tfor(attribute in attributes) {\n\t\t\t\t\t\tself.setAttribute(attribute, attributes[attribute]);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn self;\n\t\t\t},\n\t\t\tremoveAttribute: function(attribute) {\n\t\t\t\tvar self = this;\n\n\t\t\t\tif(isTypeOf(attribute, STRING_STRING)) {\n\t\t\t\t\tself.element.removeAttribute(attribute);\n\t\t\t\t}\n\n\t\t\t\treturn self;\n\t\t\t},\n\t\t\tremoveAttributes: function() {\n\t\t\t\tvar self       = this,\n\t\t\t\t\tattributes = resolveArguments(arguments),\n\t\t\t\t\ti = 0, attribute;\n\n\t\t\t\tfor(; attribute = attributes[i]; i++) {\n\t\t\t\t\tself.removeAttribute(attribute);\n\t\t\t\t}\n\n\t\t\t\treturn self;\n\t\t\t},\n\t\t\tsetStyle: function(property, value) {\n\t\t\t\tvar self = this;\n\n\t\t\t\tif(isTypeOf(property, STRING_STRING)) {\n\t\t\t\t\thooksCss.process('set', self.element, property, value);\n\t\t\t\t}\n\n\t\t\t\treturn self;\n\t\t\t},\n\t\t\tsetStyles: function(properties) {\n\t\t\t\tvar self = this,\n\t\t\t\t\tproperty;\n\n\t\t\t\tif(isObject(properties) && !properties.length) {\n\t\t\t\t\tfor(property in properties) {\n\t\t\t\t\t\thooksCss.process('set', self.element, property, properties[property]);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn self;\n\t\t\t},\n\t\t\tremoveStyle: function(property) {\n\t\t\t\tvar self = this;\n\n\t\t\t\tif(isTypeOf(property, STRING_STRING)) {\n\t\t\t\t\tself.setStyle(property, '');\n\t\t\t\t}\n\n\t\t\t\treturn self;\n\t\t\t},\n\t\t\tremoveStyles: function() {\n\t\t\t\tvar self       = this,\n\t\t\t\t\tproperties = resolveArguments(arguments),\n\t\t\t\t\ti = 0, property;\n\n\t\t\t\tfor(; property = properties[i]; i++) {\n\t\t\t\t\tself.setStyle(property, '');\n\t\t\t\t}\n\n\t\t\t\treturn self;\n\t\t\t},\n\t\t\taddClass: function(name) {\n\t\t\t\tvar self = this;\n\n\t\t\t\tif(name && !self.hasClass(name)) {\n\t\t\t\t\tself.element.className += (self.element.className) ? ' ' + name : name;\n\t\t\t\t}\n\n\t\t\t\treturn self;\n\t\t\t},\n\t\t\tremoveClass: function(name) {\n\t\t\t\tvar self = this;\n\n\t\t\t\tif(name && self.hasClass(name)) {\n\t\t\t\t\tself.element.className = self.element.className.replace(new RegExp('(?:^|\\\\s)' + name + '(?!\\\\S)'), '').trim();\n\t\t\t\t}\n\n\t\t\t\treturn self;\n\t\t\t},\n\t\t\ttoggleClass: function(name) {\n\t\t\t\tvar self = this;\n\n\t\t\t\tif(name) {\n\t\t\t\t\tself.hasClass(name) ? self.removeClass(name) : self.addClass(name);\n\t\t\t\t}\n\n\t\t\t\treturn self;\n\t\t\t},\n\t\t\tprepend: function(element) {\n\t\t\t\tvar self    = this,\n\t\t\t\t\ttarget = self.element;\n\n\t\t\t\tif(element) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\telement = element.element || resolveElement(element);\n\n\t\t\t\t\t\ttarget.firstChild ? target.insertBefore(element, target.firstChild) : self.append(element);\n\t\t\t\t\t} catch(exception) {\n\t\t\t\t\t\ttarget.insertAdjacentHTML('afterBegin', element);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn self;\n\t\t\t},\n\t\t\tappend: function(element) {\n\t\t\t\tvar self   = this,\n\t\t\t\t\ttarget = self.element;\n\n\t\t\t\tif(element) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\ttarget.appendChild(element.element || resolveElement(element));\n\t\t\t\t\t} catch(exception) {\n\t\t\t\t\t\ttarget.insertAdjacentHTML('beforeEnd', element);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn self;\n\t\t\t},\n\t\t\tprependTo: function(target) {\n\t\t\t\tvar self    = this,\n\t\t\t\t\telement = self.element;\n\n\t\t\t\tif(target) {\n\t\t\t\t\t(target  = target.element || resolveElement(target)).firstChild ? target.insertBefore(element, target.firstChild) : self.appendTo(target);\n\t\t\t\t}\n\n\t\t\t\treturn self;\n\t\t\t},\n\t\t\tappendTo: function(target) {\n\t\t\t\tvar self = this;\n\n\t\t\t\tif(target) {\n\t\t\t\t\t(target.element || resolveElement(target)).appendChild(self.element);\n\t\t\t\t}\n\n\t\t\t\treturn self;\n\t\t\t},\n\t\t\tinsertBefore: function(target) {\n\t\t\t\tvar self    = this,\n\t\t\t\t\telement = self.element;\n\n\t\t\t\tif(target) {\n\t\t\t\t\t(target  = target.element || resolveElement(target)).parentNode.insertBefore(element, target);\n\t\t\t\t}\n\n\t\t\t\treturn self;\n\t\t\t},\n\t\t\tinsertAfter: function(target) {\n\t\t\t\tvar self    = this,\n\t\t\t\t\telement = self.element;\n\n\t\t\t\tif(target) {\n\t\t\t\t\t(target = target.element || resolveElement(target)).nextSibling ? target.parentNode.insertBefore(element, target.nextSibling) : self.appendTo(target.parentNode);\n\t\t\t\t}\n\n\t\t\t\treturn self;\n\t\t\t},\n\t\t\treplace: function(target) {\n\t\t\t\tvar self    = this,\n\t\t\t\t\telement = self.element;\n\n\t\t\t\tif(target) {\n\t\t\t\t\t(target  = target.element || resolveElement(target)).parentNode.replaceChild(element, target);\n\t\t\t\t}\n\n\t\t\t\treturn self;\n\t\t\t},\n\t\t\treplaceWith: function(element) {\n\t\t\t\tvar self    = this,\n\t\t\t\t\ttarget = self.element;\n\n\t\t\t\tif(element) {\n\t\t\t\t\telement = element.element || resolveElement(element);\n\n\t\t\t\t\ttarget.parentNode.replaceChild(element, target);\n\t\t\t\t}\n\n\t\t\t\treturn self;\n\t\t\t},\n\t\t\tremove: function() {\n\t\t\t\tvar self    = this,\n\t\t\t\t\telement = self.element;\n\n\t\t\t\telement.parentNode.removeChild(element);\n\n\t\t\t\treturn self;\n\t\t\t},\n\t\t\ton: function(events) {\n\t\t\t\tvar self     = this,\n\t\t\t\t\telement  = self.element,\n\t\t\t\t\tdelegate = arguments.length > 2 ? arguments[1] : NULL,\n\t\t\t\t\tfn       = delegate ? arguments[2] : arguments[1],\n\t\t\t\t\tuuid     = fn._quid || (fn._quid = functionUniqueUuid()),\n\t\t\t\t\ti = 0, event;\n\n\t\t\t\tevents  = events.split(regexMatchSpaces);\n\n\t\t\t\tfor(; event = events[i]; i++) {\n\t\t\t\t\tvar id      = event + '-' + uuid,\n\t\t\t\t\t\thandler = function(event) {\n\t\t\t\t\t\t\tvar delegateTo;\n\n\t\t\t\t\t\t\tevent = new Event(event);\n\n\t\t\t\t\t\t\tif(!event.isPropagationStopped) {\n\t\t\t\t\t\t\t\tdelegateTo  = event.delegate;\n\t\t\t\t\t\t\t\tevent._quid = functionUniqueUuid();\n\n\t\t\t\t\t\t\t\tif(!delegate || matchesDelegate(event, delegate)) {\n\t\t\t\t\t\t\t\t\tfn.call(event.currentTarget, event, event.originalEvent.detail);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif(delegateTo) {\n\t\t\t\t\t\t\t\t\tdelete event.delegate;\n\n\t\t\t\t\t\t\t\t\temitEvent.call(self, delegateTo);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\n\t\t\t\t\thandler.type            = event;\n\t\t\t\t\tlistener[self.uuid][id] = handler;\n\n\t\t\t\t\telement.addEventListener(event, handler);\n\t\t\t\t}\n\n\t\t\t\treturn self;\n\t\t\t},\n\t\t\tone: function(events) {\n\t\t\t\tvar self     = this,\n\t\t\t\t\tdelegate = (arguments.length > 3 || typeof arguments[1] === 'string') ? arguments[1] : NULL,\n\t\t\t\t\tfn       = (arguments.length > 3 || typeof arguments[2] === 'function') ? arguments[2] : arguments[1],\n\t\t\t\t\teach     = ((arguments.length > 3) ? arguments[3] : arguments[2]) !== false,\n\t\t\t\t\thandler  = function(event) {\n\t\t\t\t\t\tself.off(((each === true) ? event.type : events), handler);\n\n\t\t\t\t\t\tfn.call(this, event, event.originalEvent.detail);\n\t\t\t\t\t};\n\n\t\t\t\tfn._quid = handler._quid = functionUniqueUuid();\n\n\t\t\t\tif(delegate) {\n\t\t\t\t\tself.on(events, delegate, handler);\n\t\t\t\t} else {\n\t\t\t\t\tself.on(events, handler);\n\t\t\t\t}\n\n\t\t\t\treturn self;\n\t\t\t},\n\t\t\toff: function(events, fn) {\n\t\t\t\tvar self    = this,\n\t\t\t\t\telement = self.element,\n\t\t\t\t\ti = 0, event, id, handler;\n\n\t\t\t\tevents = events.split(' ');\n\n\t\t\t\tfor(; event = events[i]; i++) {\n\t\t\t\t\tid      = fn._quid && event + '-' + fn._quid || NULL;\n\t\t\t\t\thandler = id && listener[self.uuid][id] || NULL;\n\n\t\t\t\t\tif(handler) {\n\t\t\t\t\t\telement.removeEventListener(event, handler);\n\n\t\t\t\t\t\tdelete listener[self.uuid][id];\n\t\t\t\t\t} else {\n\t\t\t\t\t\telement.removeEventListener(event, fn);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn self;\n\t\t\t},\n\t\t\temit: function(event, data) {\n\t\t\t\tvar self = this;\n\n\t\t\t\temitEvent.call(self, event, data);\n\n\t\t\t\treturn self;\n\t\t\t}\n\t\t};\n\n\t\treturn base.extend(DomElement);\n\t}\n\n\tprovide([ '/demand/validator/isObject', '/demand/validator/isTypeOf', '../base', './event', '../hooks/css', '../support/method', '../function/descriptor/generate', '../function/unique/uuid' ], definition);\n}(this, document));"],"sourceRoot":"/source/"}