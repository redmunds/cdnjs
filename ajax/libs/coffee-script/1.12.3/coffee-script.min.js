(function(){var e,n,r,t,o,i,a,u,l,s,c,f,p,m,h,d,g,x,y,v,S,E={}.hasOwnProperty;if(u=require("fs"),v=require("vm"),d=require("path"),e=require("./lexer").Lexer,h=require("./parser").parser,s=require("./helpers"),n=require("./sourcemap"),m=require("../../package.json"),exports.VERSION=m.version,exports.FILE_EXTENSIONS=[".coffee",".litcoffee",".coffee.md"],exports.helpers=s,r=function(e){switch(!1){case"function"!=typeof Buffer:return new Buffer(e).toString("base64");case"function"!=typeof btoa:return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,function(e,n){return String.fromCharCode("0x"+n)}));default:throw new Error("Unable to base64 encode inline sourcemap.")}},S=function(e){return function(n,r){var t;null==r&&(r={});try{return e.call(this,n,r)}catch(e){if(t=e,"string"!=typeof n)throw t;throw s.updateSyntaxError(t,n,r.filename)}}},y={},x={},exports.compile=t=S(function(e,t){var o,i,a,u,l,c,f,m,d,g,v,S,E,N,b,I,T,q,_,w,R,C,O,M;if(I=s.merge,u=s.extend,t=u({},t),m=t.sourceMap||t.inlineMap||null==t.filename,l=t.filename||"<anonymous>",y[l]=e,m&&(b=new n),O=p.tokenize(e,t),t.referencedVars=function(){var e,n,r;for(r=[],e=0,n=O.length;e<n;e++)C=O[e],"IDENTIFIER"===C[0]&&r.push(C[1]);return r}(),null==t.bare||t.bare!==!0)for(g=0,E=O.length;g<E;g++)if(C=O[g],"IMPORT"===(q=C[0])||"EXPORT"===q){t.bare=!0;break}for(f=h.parse(O).compileToFragments(t),i=0,t.header&&(i+=1),t.shiftLine&&(i+=1),o=0,S="",v=0,N=f.length;v<N;v++)c=f[v],m&&(c.locationData&&!/^[;\s]*$/.test(c.code)&&b.add([c.locationData.first_line,c.locationData.first_column],[i,o],{noReplace:!0}),T=s.count(c.code,"\n"),i+=T,T?o=c.code.length-(c.code.lastIndexOf("\n")+1):o+=c.code.length),S+=c.code;return t.header&&(d="Generated by CoffeeScript "+this.VERSION,S="// "+d+"\n"+S),m&&(M=b.generate(t,e),x[l]=b),t.inlineMap&&(a=r(JSON.stringify(M)),w="//# sourceMappingURL=data:application/json;base64,"+a,R="//# sourceURL="+(null!=(_=t.filename)?_:"coffeescript"),S=S+"\n"+w+"\n"+R),t.sourceMap?{js:S,sourceMap:b,v3SourceMap:JSON.stringify(M,null,2)}:S}),exports.tokens=S(function(e,n){return p.tokenize(e,n)}),exports.nodes=S(function(e,n){return"string"==typeof e?h.parse(p.tokenize(e,n)):h.parse(e)}),exports.run=function(e,n){var r,o,i,a;return null==n&&(n={}),i=require.main,i.filename=process.argv[1]=n.filename?u.realpathSync(n.filename):"<anonymous>",i.moduleCache&&(i.moduleCache={}),o=null!=n.filename?d.dirname(u.realpathSync(n.filename)):u.realpathSync("."),i.paths=require("module")._nodeModulePaths(o),s.isCoffee(i.filename)&&!require.extensions||(r=t(e,n),e=null!=(a=r.js)?a:r),i._compile(e,i.filename)},exports.eval=function(e,n){var r,o,i,a,u,l,s,c,f,p,m,h,g,x,y,S,N;if(null==n&&(n={}),e=e.trim()){if(a=null!=(h=v.Script.createContext)?h:v.createContext,l=null!=(g=v.isContext)?g:function(e){return n.sandbox instanceof a().constructor},a){if(null!=n.sandbox){if(l(n.sandbox))S=n.sandbox;else{S=a(),x=n.sandbox;for(c in x)E.call(x,c)&&(N=x[c],S[c]=N)}S.global=S.root=S.GLOBAL=S}else S=global;if(S.__filename=n.filename||"eval",S.__dirname=d.dirname(S.__filename),S===global&&!S.module&&!S.require){for(r=require("module"),S.module=o=new r(n.modulename||"eval"),S.require=i=function(e){return r._load(e,o,!0)},o.filename=S.__filename,y=Object.getOwnPropertyNames(require),u=0,f=y.length;u<f;u++)m=y[u],"paths"!==m&&"arguments"!==m&&"caller"!==m&&(i[m]=require[m]);i.paths=o.paths=r._nodeModulePaths(process.cwd()),i.resolve=function(e){return r._resolveFilename(e,o)}}}p={};for(c in n)E.call(n,c)&&(N=n[c],p[c]=N);return p.bare=!0,s=t(e,p),S===global?v.runInThisContext(s):v.runInContext(s,S)}},exports.register=function(){return require("./register")},require.extensions)for(g=this.FILE_EXTENSIONS,i=function(e){var n;return null!=(n=require.extensions)[e]?n[e]:n[e]=function(){throw new Error("Use CoffeeScript.register() or require the coffee-script/register module to require "+e+" files.")}},c=0,f=g.length;c<f;c++)o=g[c],i(o);exports._compileFile=function(e,n,r){var o,i,a,l;null==n&&(n=!1),null==r&&(r=!1),a=u.readFileSync(e,"utf8"),l=65279===a.charCodeAt(0)?a.substring(1):a;try{o=t(l,{filename:e,sourceMap:n,inlineMap:r,sourceFiles:[e],literate:s.isLiterate(e)})}catch(n){throw i=n,s.updateSyntaxError(i,l,e)}return o},p=new e,h.lexer={lex:function(){var e,n;return n=h.tokens[this.pos++],n?(e=n[0],this.yytext=n[1],this.yylloc=n[2],h.errorToken=n.origin||n,this.yylineno=this.yylloc.first_line):e="",e},setInput:function(e){return h.tokens=e,this.pos=0},upcomingInput:function(){return""}},h.yy=require("./nodes"),h.yy.parseError=function(e,n){var r,t,o,i,a,u;return a=n.token,i=h.errorToken,u=h.tokens,t=i[0],o=i[1],r=i[2],o=function(){switch(!1){case i!==u[u.length-1]:return"end of input";case"INDENT"!==t&&"OUTDENT"!==t:return"indentation";case"IDENTIFIER"!==t&&"NUMBER"!==t&&"INFINITY"!==t&&"STRING"!==t&&"STRING_START"!==t&&"REGEX"!==t&&"REGEX_START"!==t:return t.replace(/_START$/,"").toLowerCase();default:return s.nameWhitespaceCharacter(o)}}(),s.throwSyntaxError("unexpected "+o,r)},a=function(e,n){var r,t,o,i,a,u,l,s,c,f,p,m;return i=void 0,o="",e.isNative()?o="native":(e.isEval()?(i=e.getScriptNameOrSourceURL(),i||(o=e.getEvalOrigin()+", ")):i=e.getFileName(),i||(i="<anonymous>"),s=e.getLineNumber(),t=e.getColumnNumber(),f=n(i,s,t),o=f?i+":"+f[0]+":"+f[1]:i+":"+s+":"+t),a=e.getFunctionName(),u=e.isConstructor(),l=!(e.isToplevel()||u),l?(c=e.getMethodName(),m=e.getTypeName(),a?(p=r="",m&&a.indexOf(m)&&(p=m+"."),c&&a.indexOf("."+c)!==a.length-c.length-1&&(r=" [as "+c+"]"),""+p+a+r+" ("+o+")"):m+"."+(c||"<anonymous>")+" ("+o+")"):u?"new "+(a||"<anonymous>")+" ("+o+")":a?a+" ("+o+")":o},l=function(e){var n;return null!=x[e]?x[e]:null!=x["<anonymous>"]?x["<anonymous>"]:null!=y[e]?(n=t(y[e],{filename:e,sourceMap:!0}),n.sourceMap):null},Error.prepareStackTrace=function(e,n){var r,t,o;return o=function(e,n,r){var t,o;return o=l(e),null!=o&&(t=o.sourceLocation([n-1,r-1])),null!=t?[t[0]+1,t[1]+1]:null},t=function(){var e,t,i;for(i=[],e=0,t=n.length;e<t&&(r=n[e],r.getFunction()!==exports.run);e++)i.push("    at "+a(r,o));return i}(),e.toString()+"\n"+t.join("\n")+"\n"}}).call(this);
//# sourceMappingURL=coffee-script.min.js.map