(function(){var e,r,n,t,o,i,a,u,l,s,c,f,p,h,m,d,g,x,y,E={}.hasOwnProperty;if(u=require("fs"),x=require("vm"),m=require("path"),e=require("./lexer").Lexer,h=require("./parser").parser,s=require("./helpers"),r=require("./sourcemap"),exports.VERSION="1.11.1",exports.FILE_EXTENSIONS=[".coffee",".litcoffee",".coffee.md"],exports.helpers=s,n=function(e){switch(!1){case"function"!=typeof Buffer:return new Buffer(e).toString("base64");case"function"!=typeof btoa:return btoa(e);default:throw new Error("Unable to base64 encode inline sourcemap.")}},y=function(e){return function(r,n){var t;null==n&&(n={});try{return e.call(this,r,n)}catch(e){if(t=e,"string"!=typeof r)throw t;throw s.updateSyntaxError(t,r,n.filename)}}},exports.compile=t=y(function(e,t){var o,i,a,u,l,c,f,m,d,g,x,y,E,S,v,N,I,T,b,_,q,w,O;if(v=s.merge,u=s.extend,t=u({},t),f=t.sourceMap||t.inlineMap,f&&(S=new r),w=p.tokenize(e,t),t.referencedVars=function(){var e,r,n;for(n=[],e=0,r=w.length;e<r;e++)q=w[e],"IDENTIFIER"===q[0]&&n.push(q[1]);return n}(),null==t.bare||t.bare!==!0)for(d=0,y=w.length;d<y;d++)if(q=w[d],"IMPORT"===(I=q[0])||"EXPORT"===I){t.bare=!0;break}for(c=h.parse(w).compileToFragments(t),i=0,t.header&&(i+=1),t.shiftLine&&(i+=1),o=0,x="",g=0,E=c.length;g<E;g++)l=c[g],f&&(l.locationData&&!/^[;\s]*$/.test(l.code)&&S.add([l.locationData.first_line,l.locationData.first_column],[i,o],{noReplace:!0}),N=s.count(l.code,"\n"),i+=N,N?o=l.code.length-(l.code.lastIndexOf("\n")+1):o+=l.code.length),x+=l.code;return t.header&&(m="Generated by CoffeeScript "+this.VERSION,x="// "+m+"\n"+x),f&&(O=S.generate(t,e)),t.inlineMap&&(a=n(JSON.stringify(O)),b="//# sourceMappingURL=data:application/json;base64,"+a,_="//# sourceURL="+(null!=(T=t.filename)?T:"coffeescript"),x=x+"\n"+b+"\n"+_),t.sourceMap?{js:x,sourceMap:S,v3SourceMap:JSON.stringify(O,null,2)}:x}),exports.tokens=y(function(e,r){return p.tokenize(e,r)}),exports.nodes=y(function(e,r){return"string"==typeof e?h.parse(p.tokenize(e,r)):h.parse(e)}),exports.run=function(e,r){var n,o,i,a;return null==r&&(r={}),i=require.main,i.filename=process.argv[1]=r.filename?u.realpathSync(r.filename):".",i.moduleCache&&(i.moduleCache={}),o=r.filename?m.dirname(u.realpathSync(r.filename)):u.realpathSync("."),i.paths=require("module")._nodeModulePaths(o),s.isCoffee(i.filename)&&!require.extensions||(n=t(e,r),e=null!=(a=n.js)?a:n),i._compile(e,i.filename)},exports.eval=function(e,r){var n,o,i,a,u,l,s,c,f,p,h,d,g,y,S,v,N;if(null==r&&(r={}),e=e.trim()){if(a=null!=(d=x.Script.createContext)?d:x.createContext,l=null!=(g=x.isContext)?g:function(e){return r.sandbox instanceof a().constructor},a){if(null!=r.sandbox){if(l(r.sandbox))v=r.sandbox;else{v=a(),y=r.sandbox;for(c in y)E.call(y,c)&&(N=y[c],v[c]=N)}v.global=v.root=v.GLOBAL=v}else v=global;if(v.__filename=r.filename||"eval",v.__dirname=m.dirname(v.__filename),v===global&&!v.module&&!v.require){for(n=require("module"),v.module=o=new n(r.modulename||"eval"),v.require=i=function(e){return n._load(e,o,!0)},o.filename=v.__filename,S=Object.getOwnPropertyNames(require),u=0,f=S.length;u<f;u++)h=S[u],"paths"!==h&&"arguments"!==h&&"caller"!==h&&(i[h]=require[h]);i.paths=o.paths=n._nodeModulePaths(process.cwd()),i.resolve=function(e){return n._resolveFilename(e,o)}}}p={};for(c in r)E.call(r,c)&&(N=r[c],p[c]=N);return p.bare=!0,s=t(e,p),v===global?x.runInThisContext(s):x.runInContext(s,v)}},exports.register=function(){return require("./register")},require.extensions)for(d=this.FILE_EXTENSIONS,i=function(e){var r;return null!=(r=require.extensions)[e]?r[e]:r[e]=function(){throw new Error("Use CoffeeScript.register() or require the coffee-script/register module to require "+e+" files.")}},c=0,f=d.length;c<f;c++)o=d[c],i(o);exports._compileFile=function(e,r,n){var o,i,a,l;null==r&&(r=!1),null==n&&(n=!1),a=u.readFileSync(e,"utf8"),l=65279===a.charCodeAt(0)?a.substring(1):a;try{o=t(l,{filename:e,sourceMap:r,inlineMap:n,sourceFiles:[e],literate:s.isLiterate(e)})}catch(r){throw i=r,s.updateSyntaxError(i,l,e)}return o},p=new e,h.lexer={lex:function(){var e,r;return r=h.tokens[this.pos++],r?(e=r[0],this.yytext=r[1],this.yylloc=r[2],h.errorToken=r.origin||r,this.yylineno=this.yylloc.first_line):e="",e},setInput:function(e){return h.tokens=e,this.pos=0},upcomingInput:function(){return""}},h.yy=require("./nodes"),h.yy.parseError=function(e,r){var n,t,o,i,a,u;return a=r.token,i=h.errorToken,u=h.tokens,t=i[0],o=i[1],n=i[2],o=function(){switch(!1){case i!==u[u.length-1]:return"end of input";case"INDENT"!==t&&"OUTDENT"!==t:return"indentation";case"IDENTIFIER"!==t&&"NUMBER"!==t&&"INFINITY"!==t&&"STRING"!==t&&"STRING_START"!==t&&"REGEX"!==t&&"REGEX_START"!==t:return t.replace(/_START$/,"").toLowerCase();default:return s.nameWhitespaceCharacter(o)}}(),s.throwSyntaxError("unexpected "+o,n)},a=function(e,r){var n,t,o,i,a,u,l,s,c,f,p,h;return i=void 0,o="",e.isNative()?o="native":(e.isEval()?(i=e.getScriptNameOrSourceURL(),i||(o=e.getEvalOrigin()+", ")):i=e.getFileName(),i||(i="<anonymous>"),s=e.getLineNumber(),t=e.getColumnNumber(),f=r(i,s,t),o=f?i+":"+f[0]+":"+f[1]:i+":"+s+":"+t),a=e.getFunctionName(),u=e.isConstructor(),l=!(e.isToplevel()||u),l?(c=e.getMethodName(),h=e.getTypeName(),a?(p=n="",h&&a.indexOf(h)&&(p=h+"."),c&&a.indexOf("."+c)!==a.length-c.length-1&&(n=" [as "+c+"]"),""+p+a+n+" ("+o+")"):h+"."+(c||"<anonymous>")+" ("+o+")"):u?"new "+(a||"<anonymous>")+" ("+o+")":a?a+" ("+o+")":o},g={},l=function(e){var r,n,t,i;if(g[e])return g[e];for(i=exports.FILE_EXTENSIONS,n=0,t=i.length;n<t;n++)if(o=i[n],s.ends(e,o))return r=exports._compileFile(e,!0),g[e]=r.sourceMap;return null},Error.prepareStackTrace=function(e,r){var n,t,o;return o=function(e,r,n){var t,o;return o=l(e),o&&(t=o.sourceLocation([r-1,n-1])),t?[t[0]+1,t[1]+1]:null},t=function(){var e,t,i;for(i=[],e=0,t=r.length;e<t&&(n=r[e],n.getFunction()!==exports.run);e++)i.push("  at "+a(n,o));return i}(),e.toString()+"\n"+t.join("\n")+"\n"}}).call(this);
//# sourceMappingURL=coffee-script.min.js.map