!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.quixote=t()}}(function(){return function t(e,n,r){function i(s,u){if(!n[s]){if(!e[s]){var a="function"==typeof require&&require;if(!u&&a)return a(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[s]={exports:{}};e[s][0].call(l.exports,function(t){var n=e[s][1][t];return i(n?n:t)},l,l.exports,t,e,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(t,e,n){"use strict";var r=t("./util/ensure.js"),i=t("./util/oop.js"),o=t("./util/shim.js"),s=e.exports=function(){r.unreachable("Assertable is abstract and should not be constructed directly.")};s.extend=i.extendFn(s),i.makeAbstract(s,[]),s.prototype.assert=function(t,e){r.signature(arguments,[Object,[void 0,String]]),void 0===e&&(e="Differences found");var n=this.diff(t);if(""!==n)throw new Error(e+":\n"+n+"\n")},s.prototype.diff=function(t){r.signature(arguments,[Object]);for(var e,n,i,s=[],u=o.Object.keys(t),a=0;a<u.length;a++)e=u[a],i=this[e],r.that(void 0!==i,this+" doesn't have a property named '"+e+"'. Did you misspell it?"),n=i.diff(t[e]),""!==n&&s.push(n);return s.join("\n")}},{"./util/ensure.js":21,"./util/oop.js":22,"./util/shim.js":23}],2:[function(t,e,n){"use strict";function r(t){return function(e,n,r){return new a(t,e,n,r)}}var i=t("../util/ensure.js"),o=t("./position_descriptor.js"),s=(t("../values/position.js"),t("./relative_position.js"),"x"),u="y",a=e.exports=function(t,e,n,r){i.signature(arguments,[String,o,o,String]),t===s?o.x(this):t===u?o.y(this):i.unreachable("Unknown dimension: "+t),this._dimension=t,this._position1=e,this._position2=n,this._description=r};o.extend(a),a.x=r(s),a.y=r(u),a.prototype.value=function(){return i.signature(arguments,[]),this._position1.value().midpoint(this._position2.value())},a.prototype.toString=function(){return i.signature(arguments,[]),this._description}},{"../util/ensure.js":21,"../values/position.js":25,"./position_descriptor.js":8,"./relative_position.js":9}],3:[function(t,e,n){"use strict";function r(t,e){var n=typeof e;if(null===e&&(n="null"),"object"===n&&(e instanceof u||e instanceof s))return e;if(void 0===e)throw new Error("Can't compare "+t+" to "+e+". Did you misspell a property name?");if("object"===n)throw new Error("Can't compare "+t+" to "+o.instanceName(e)+" instances.");if(e=t.convert(e,n),void 0===e)throw new Error("Can't compare "+t+" to "+n+".");return e}var i=t("../util/ensure.js"),o=t("../util/oop.js"),s=t("../values/value.js"),u=e.exports=function(){i.unreachable("Descriptor is abstract and should not be constructed directly.")};u.extend=o.extendFn(u),o.makeAbstract(u,["value","toString"]),u.prototype.diff=function(t){t=r(this,t);try{var e=this.value(),n=t.value();if(e.equals(n))return"";var i=e.diff(n),o=n.toString();return t instanceof u&&(o+=" ("+t+")"),this+" was "+i+" than expected.\n  Expected: "+o+"\n  But was:  "+e}catch(s){throw new Error("Can't compare "+this+" to "+t+": "+s.message)}},u.prototype.convert=function(t,e){},u.prototype.equals=function(t){return!1}},{"../util/ensure.js":21,"../util/oop.js":22,"../values/value.js":27}],4:[function(t,e,n){"use strict";function r(t){return function(e){return new p(e,t)}}var i=t("../util/ensure.js"),o=t("../values/position.js"),s=(t("./relative_position.js"),t("./position_descriptor.js")),u=(t("./element_size.js"),"top"),a="right",c="bottom",l="left",p=e.exports=function(e,n){var r=t("../q_element.js");i.signature(arguments,[r,String]),n===l||n===a?s.x(this):n===u||n===c?s.y(this):i.unreachable("Unknown position: "+n),this._element=e,this._position=n};s.extend(p),p.top=r(u),p.right=r(a),p.bottom=r(c),p.left=r(l),p.prototype.value=function(){i.signature(arguments,[]);var t=this._element.getRawPosition()[this._position],e=this._element.frame.getRawScrollPosition();return this._position===a||this._position===l?o.x(t+e.x):o.y(t+e.y)},p.prototype.toString=function(){return i.signature(arguments,[]),this._position+" edge of "+this._element}},{"../q_element.js":15,"../util/ensure.js":21,"../values/position.js":25,"./element_size.js":5,"./position_descriptor.js":8,"./relative_position.js":9}],5:[function(t,e,n){"use strict";function r(t){return function(e){return new c(t,e)}}var i=t("../util/ensure.js"),o=t("./size_descriptor.js"),s=t("../values/size.js"),u=(t("./relative_size.js"),t("./size_multiple.js"),"width"),a="height",c=e.exports=function(e,n){var r=t("../q_element.js");i.signature(arguments,[String,r]),i.that(e===u||e===a,"Unrecognized dimension: "+e),this._dimension=e,this._element=n};o.extend(c),c.x=r(u),c.y=r(a),c.prototype.value=function(){i.signature(arguments,[]);var t=this._element.getRawPosition();return s.create(t[this._dimension])},c.prototype.toString=function(){return i.signature(arguments,[]),this._dimension+" of "+this._element}},{"../q_element.js":15,"../util/ensure.js":21,"../values/size.js":26,"./relative_size.js":10,"./size_descriptor.js":11,"./size_multiple.js":12}],6:[function(t,e,n){"use strict";function r(t){return function(e){return new p(t,e)}}var i=t("../util/ensure.js"),o=t("./position_descriptor.js"),s=t("../values/position.js"),u="top",a="right",c="bottom",l="left",p=e.exports=function(e,n){var r=t("../q_frame.js");i.signature(arguments,[String,r]),e===l||e===a?o.x(this):e===u||e===c?o.y(this):i.unreachable("Unknown edge: "+e),this._edge=e,this._frame=n};o.extend(p),p.top=r(u),p.right=r(a),p.bottom=r(c),p.left=r(l),p.prototype.value=function(){i.signature(arguments,[]);var t=s.x(0),e=s.y(0);switch(this._edge){case u:return e;case a:return t.plus(this._frame.page().width.value());case c:return e.plus(this._frame.page().height.value());case l:return t;default:i.unreachable()}},p.prototype.toString=function(){switch(i.signature(arguments,[]),this._edge){case u:return"top of page";case a:return"right side of page";case c:return"bottom of page";case l:return"left side of page";default:i.unreachable()}}},{"../q_frame.js":17,"../util/ensure.js":21,"../values/position.js":25,"./position_descriptor.js":8}],7:[function(t,e,n){"use strict";function r(t){return function(e){return new c(t,e)}}var i=t("../util/ensure.js"),o=t("./size_descriptor.js"),s=t("../values/size.js"),u="width",a="height",c=e.exports=function(e,n){var r=t("../q_frame.js");i.signature(arguments,[String,r]),i.that(e===u||e===a,"Unrecognized dimension: "+e),this._dimension=e,this._frame=n};o.extend(c),c.x=r(u),c.y=r(a),c.prototype.value=function(){i.signature(arguments,[]);var t=this._frame.toDomElement().contentDocument,e=t.documentElement,n=t.body,r=Math.max(n.scrollWidth,e.scrollWidth),o=Math.max(n.scrollHeight,e.scrollHeight);return s.create(this._dimension===u?r:o)},c.prototype.toString=function(){return i.signature(arguments,[]),this._dimension+" of page"}},{"../q_frame.js":17,"../util/ensure.js":21,"../values/size.js":26,"./size_descriptor.js":11}],8:[function(t,e,n){"use strict";function r(){return t("./relative_position.js")}function i(t){return function(e){e._pdbc={dimension:t}}}var o=t("../util/ensure.js"),s=t("../util/oop.js"),u=t("./descriptor.js"),a=t("../values/position.js"),c="x",l="y",p=e.exports=function(t){o.signature(arguments,[String]),o.unreachable("PositionDescriptor is abstract and should not be constructed directly.")};u.extend(p),p.extend=s.extendFn(p),p.x=i(c),p.y=i(l),p.prototype.plus=function(t){return this._pdbc.dimension===c?r().right(this,t):r().down(this,t)},p.prototype.minus=function(t){return this._pdbc.dimension===c?r().left(this,t):r().up(this,t)},p.prototype.convert=function(t,e){return"number"===e?this._pdbc.dimension===c?a.x(t):a.y(t):void 0}},{"../util/ensure.js":21,"../util/oop.js":22,"../values/position.js":25,"./descriptor.js":3,"./relative_position.js":9}],9:[function(t,e,n){"use strict";function r(t,e){return function(n,r){return new h(t,e,n,r)}}var i=t("../util/ensure.js"),o=(t("../values/position.js"),t("./descriptor.js")),s=t("./position_descriptor.js"),u=t("../values/value.js"),a=t("../values/size.js"),c=(t("../values/pixels.js"),t("./element_size.js"),"x"),l="y",p=1,f=-1,h=e.exports=function(t,e,n,r){i.signature(arguments,[String,Number,o,[Number,o,u]]),t===c?s.x(this):t===l?s.y(this):i.unreachable("Unknown dimension: "+t),this._dimension=t,this._direction=e,this._relativeTo=n,"number"==typeof r?(0>r&&(this._direction*=-1),this._amount=a.create(Math.abs(r))):this._amount=r};s.extend(h),h.right=r(c,p),h.down=r(l,p),h.left=r(c,f),h.up=r(l,f),h.prototype.value=function(){i.signature(arguments,[]);var t=this._relativeTo.value(),e=this._amount.value();return this._direction===p?t.plus(e):t.minus(e)},h.prototype.toString=function(){i.signature(arguments,[]);var t=this._relativeTo.toString();if(this._amount.equals(a.create(0)))return t;var e=this._amount.toString();return e+=this._dimension===c?this._direction===p?" to right of ":" to left of ":this._direction===p?" below ":" above ",e+t}},{"../util/ensure.js":21,"../values/pixels.js":24,"../values/position.js":25,"../values/size.js":26,"../values/value.js":27,"./descriptor.js":3,"./element_size.js":5,"./position_descriptor.js":8}],10:[function(t,e,n){"use strict";function r(t){return function(e,n){return new p(t,e,n)}}var i=t("../util/ensure.js"),o=t("../values/size.js"),s=t("./descriptor.js"),u=t("./size_descriptor.js"),a=t("../values/value.js"),c=(t("./size_multiple.js"),1),l=-1,p=e.exports=function(t,e,n){i.signature(arguments,[Number,s,[Number,s,a]]),this._direction=t,this._relativeTo=e,"number"==typeof n?(this._amount=o.create(Math.abs(n)),0>n&&(this._direction*=-1)):this._amount=n};u.extend(p),p.larger=r(c),p.smaller=r(l),p.prototype.value=function(){i.signature(arguments,[]);var t=this._relativeTo.value(),e=this._amount.value();return this._direction===c?t.plus(e):t.minus(e)},p.prototype.toString=function(){i.signature(arguments,[]);var t=this._relativeTo.toString();if(this._amount.equals(o.create(0)))return t;var e=this._amount.toString();return e+=this._direction===c?" larger than ":" smaller than ",e+t}},{"../util/ensure.js":21,"../values/size.js":26,"../values/value.js":27,"./descriptor.js":3,"./size_descriptor.js":11,"./size_multiple.js":12}],11:[function(t,e,n){"use strict";function r(){return t("./relative_size.js")}function i(){return t("./size_multiple.js")}var o=t("../util/ensure.js"),s=t("../util/oop.js"),u=t("./descriptor.js"),a=t("../values/size.js"),c=e.exports=function(){o.unreachable("SizeDescriptor is abstract and should not be constructed directly.")};u.extend(c),c.extend=s.extendFn(c),c.prototype.plus=function(t){return r().larger(this,t)},c.prototype.minus=function(t){return r().smaller(this,t)},c.prototype.times=function(t){return i().create(this,t)},c.prototype.convert=function(t,e){return"number"===e?a.create(t):void 0}},{"../util/ensure.js":21,"../util/oop.js":22,"../values/size.js":26,"./descriptor.js":3,"./relative_size.js":10,"./size_multiple.js":12}],12:[function(t,e,n){"use strict";var r=t("../util/ensure.js"),i=t("./descriptor.js"),o=t("./size_descriptor.js"),s=(t("../values/size.js"),e.exports=function(t,e){r.signature(arguments,[i,Number]),this._relativeTo=t,this._multiple=e});o.extend(s),s.create=function(t,e){return new s(t,e)},s.prototype.value=function(){return r.signature(arguments,[]),this._relativeTo.value().times(this._multiple)},s.prototype.toString=function(){r.signature(arguments,[]);var t=this._multiple,e=this._relativeTo.toString();if(1===t)return e;var n;switch(t){case.5:n="half of ";break;case 1/3:n="one-third of ";break;case 2/3:n="two-thirds of ";break;case.25:n="one-quarter of ";break;case.75:n="three-quarters of ";break;case.2:n="one-fifth of ";break;case.4:n="two-fifths of ";break;case.6:n="three-fifths of ";break;case.8:n="four-fifths of ";break;case 1/6:n="one-sixth of ";break;case 5/6:n="five-sixths of ";break;case 1/8:n="one-eighth of ";break;case 3/8:n="three-eighths of ";break;case 5/8:n="five-eighths of ";break;case 7/8:n="seven-eighths of ";break;default:n=t>1?t+" times ":100*t+"% of "}return n+e}},{"../util/ensure.js":21,"../values/size.js":26,"./descriptor.js":3,"./size_descriptor.js":11}],13:[function(t,e,n){"use strict";function r(t){return function(e){return new p(t,e)}}var i=t("../util/ensure.js"),o=t("./position_descriptor.js"),s=t("../values/position.js"),u="top",a="right",c="bottom",l="left",p=e.exports=function(e,n){var r=t("../q_frame.js");i.signature(arguments,[String,r]),e===l||e===a?o.x(this):e===u||e===c?o.y(this):i.unreachable("Unknown position: "+e),this._position=e,this._frame=n};o.extend(p),p.top=r(u),p.right=r(a),p.bottom=r(c),p.left=r(l),p.prototype.value=function(){i.signature(arguments,[]);var t=this._frame.getRawScrollPosition(),e=s.x(t.x),n=s.y(t.y);switch(this._position){case u:return n;case a:return e.plus(this._frame.viewport().width.value());case c:return n.plus(this._frame.viewport().height.value());case l:return e;default:i.unreachable()}},p.prototype.toString=function(){return i.signature(arguments,[]),this._position+" edge of viewport"}},{"../q_frame.js":17,"../util/ensure.js":21,"../values/position.js":25,"./position_descriptor.js":8}],14:[function(t,e,n){"use strict";function r(t){return function(e){return new c(t,e)}}var i=t("../util/ensure.js"),o=t("./size_descriptor.js"),s=t("../values/size.js"),u=(t("./relative_size.js"),t("./size_multiple.js"),"x"),a="y",c=e.exports=function(t,e){i.signature(arguments,[String,Object]),i.that(t===u||t===a,"Unrecognized dimension: "+t),this._dimension=t,this._frame=e};o.extend(c),c.x=r(u),c.y=r(a),c.prototype.value=function(){i.signature(arguments,[]);var t=this._frame.get("html").toDomElement(),e=this._dimension===u?t.clientWidth:t.clientHeight;return s.create(e)},c.prototype.toString=function(){i.signature(arguments,[]);var t=this._dimension===u?"width":"height";return t+" of viewport"}},{"../util/ensure.js":21,"../values/size.js":26,"./relative_size.js":10,"./size_descriptor.js":11,"./size_multiple.js":12}],15:[function(t,e,n){"use strict";var r=t("./util/ensure.js"),i=t("../vendor/camelcase-1.0.1-modified.js"),o=t("./descriptors/element_edge.js"),s=t("./descriptors/center.js"),u=t("./descriptors/element_size.js"),a=t("./assertable.js"),c=e.exports=function(e,n,i){var a=t("./q_frame.js");r.signature(arguments,[Object,a,String]),this._domElement=e,this._nickname=i,this.frame=n,this.top=o.top(this),this.right=o.right(this),this.bottom=o.bottom(this),this.left=o.left(this),this.center=s.x(this.left,this.right,"center of '"+i+"'"),this.middle=s.y(this.top,this.bottom,"middle of '"+i+"'"),this.width=u.x(this),this.height=u.y(this)};a.extend(c),c.prototype.getRawStyle=function(t){r.signature(arguments,[String]);var e,n;return window.getComputedStyle?(e=this.frame.toDomElement().contentWindow.getComputedStyle(this._domElement),n=e.getPropertyValue(t)):(e=this._domElement.currentStyle,n=e[i(t)]),null!==n&&void 0!==n||(n=""),n},c.prototype.getRawPosition=function(){r.signature(arguments,[]);var t=this._domElement.getBoundingClientRect();return{left:t.left,right:t.right,width:void 0!==t.width?t.width:t.right-t.left,top:t.top,bottom:t.bottom,height:void 0!==t.height?t.height:t.bottom-t.top}},c.prototype.toDomElement=function(){return r.signature(arguments,[]),this._domElement},c.prototype.toString=function(){return r.signature(arguments,[]),"'"+this._nickname+"'"},c.prototype.equals=function(t){return r.signature(arguments,[c]),this._domElement===t._domElement}},{"../vendor/camelcase-1.0.1-modified.js":28,"./assertable.js":1,"./descriptors/center.js":2,"./descriptors/element_edge.js":4,"./descriptors/element_size.js":5,"./q_frame.js":17,"./util/ensure.js":21}],16:[function(t,e,n){"use strict";var r=t("./util/ensure.js"),i=t("./q_element.js"),o=e.exports=function(e,n,i){var o=t("./q_frame.js");r.signature(arguments,[Object,o,String]),this._nodeList=e,this._frame=n,this._nickname=i};o.prototype.length=function(){return r.signature(arguments,[]),this._nodeList.length},o.prototype.at=function(t,e){r.signature(arguments,[Number,[void 0,String]]);var n=t,o=this.length();0>n&&(n=o+n),r.that(n>=0&&o>n,"'"+this._nickname+"'["+t+"] is out of bounds; list length is "+o);var s=this._nodeList[n];return void 0===e&&(e=this._nickname+"["+n+"]"),new i(s,this._frame,e)},o.prototype.toString=function(){return r.signature(arguments,[]),"'"+this._nickname+"' list"}},{"./q_element.js":15,"./q_frame.js":17,"./util/ensure.js":21}],17:[function(t,e,n){"use strict";function r(t,e,n){t._loaded=!0,t._document=t._domElement.contentDocument,t._originalBody=t._document.body.innerHTML,t._originalWidth=e,t._originalHeight=n}function i(t,e,n){function r(){n()}if(a.signature(arguments,[d,[void 0,String],Function]),void 0===e)return n();var i=document.createElement("link");c.EventTarget.addEventListener(i,"load",r),i.setAttribute("rel","stylesheet"),i.setAttribute("type","text/css"),i.setAttribute("href",e),c.Document.head(t._document).appendChild(i)}function o(t){s(t),u(t)}function s(t){a.that(t._loaded,"QFrame not loaded: Wait for frame creation callback to execute before using frame")}function u(t){a.that(!t._removed,"Attempted to use frame after it was removed")}var a=t("./util/ensure.js"),c=t("./util/shim.js"),l=(t("./quixote.js"),t("./q_element.js")),p=t("./q_element_list.js"),f=t("./q_viewport.js"),h=t("./q_page.js"),d=e.exports=function(t){a.signature(arguments,[Object]),a.that("IFRAME"===t.tagName,"QFrame DOM element must be an iframe"),this._domElement=t,this._loaded=!1,this._removed=!1};d.create=function(t,e,n){function o(){setTimeout(function(){r(p,s,u),i(p,e.stylesheet,function(){n(null,p)})},0)}a.signature(arguments,[Object,[Object,Function],[void 0,Function]]),void 0===n&&(n=e,e={});var s=e.width||2e3,u=e.height||2e3;a.that(!(e.src&&e.stylesheet),"Cannot specify HTML URL and stylesheet URL simultaneously due to Mobile Safari issue");var l=document.createElement("iframe");l.setAttribute("width",s),l.setAttribute("height",u),l.setAttribute("frameborder","0"),void 0!==e.src&&(l.setAttribute("src",e.src),c.EventTarget.addEventListener(l,"load",o));var p=new d(l);if(t.appendChild(l),void 0===e.src){c.EventTarget.addEventListener(l,"load",o);var f="<!DOCTYPE html>\n<html><head></head><body></body></html>";l.contentWindow.document.open(),l.contentWindow.document.write(f),l.contentWindow.document.close()}return p},d.prototype.reset=function(){a.signature(arguments,[]),o(this),this._document.body.innerHTML=this._originalBody,this.scroll(0,0),this.resize(this._originalWidth,this._originalHeight)},d.prototype.toDomElement=function(){return a.signature(arguments,[]),u(this),this._domElement},d.prototype.remove=function(){a.signature(arguments,[]),s(this),this._removed||(this._domElement.parentNode.removeChild(this._domElement),this._removed=!0)},d.prototype.viewport=function(){return a.signature(arguments,[]),o(this),new f(this)},d.prototype.page=function(){return a.signature(arguments,[]),o(this),new h(this)},d.prototype.body=function(){return a.signature(arguments,[]),this.get("body")},d.prototype.add=function(t,e){a.signature(arguments,[String,[void 0,String]]),void 0===e&&(e=t),o(this);var n=document.createElement("div");n.innerHTML=t,a.that(1===n.childNodes.length,"Expected one element, but got "+n.childNodes.length+" ("+t+")");var r=n.childNodes[0];return this._document.body.appendChild(r),new l(r,this,e)},d.prototype.get=function(t,e){a.signature(arguments,[String,[void 0,String]]),void 0===e&&(e=t),o(this);var n=this._document.querySelectorAll(t);return a.that(1===n.length,"Expected one element to match '"+t+"', but found "+n.length),new l(n[0],this,e)},d.prototype.getAll=function(t,e){return a.signature(arguments,[String,[void 0,String]]),void 0===e&&(e=t),new p(this._document.querySelectorAll(t),this,e)},d.prototype.scroll=function(t,e){a.signature(arguments,[Number,Number]),this._domElement.contentWindow.scroll(t,e)},d.prototype.getRawScrollPosition=function(){return a.signature(arguments,[]),{x:c.Window.pageXOffset(this._domElement.contentWindow,this._document),y:c.Window.pageYOffset(this._domElement.contentWindow,this._document)}},d.prototype.resize=function(t,e){a.signature(arguments,[Number,Number]),this._domElement.setAttribute("width",""+t),this._domElement.setAttribute("height",""+e)}},{"./q_element.js":15,"./q_element_list.js":16,"./q_page.js":18,"./q_viewport.js":19,"./quixote.js":20,"./util/ensure.js":21,"./util/shim.js":23}],18:[function(t,e,n){"use strict";var r=t("./util/ensure.js"),i=t("./descriptors/page_size.js"),o=t("./descriptors/page_edge.js"),s=t("./descriptors/center.js"),u=t("./assertable.js"),a=e.exports=function(e){var n=t("./q_frame.js");r.signature(arguments,[n]),this.width=i.x(e),this.height=i.y(e),this.top=o.top(e),this.right=o.right(e),this.bottom=o.bottom(e),this.left=o.left(e),this.center=s.x(this.left,this.right,"center of page"),this.middle=s.y(this.top,this.bottom,"middle of page")};u.extend(a)},{"./assertable.js":1,"./descriptors/center.js":2,"./descriptors/page_edge.js":6,"./descriptors/page_size.js":7,"./q_frame.js":17,"./util/ensure.js":21}],19:[function(t,e,n){"use strict";var r=t("./util/ensure.js"),i=t("./descriptors/viewport_size.js"),o=t("./descriptors/viewport_edge.js"),s=t("./descriptors/center.js"),u=t("./assertable.js"),a=e.exports=function(e){var n=t("./q_frame.js");r.signature(arguments,[n]),this.width=i.x(e),this.height=i.y(e),this.top=o.top(e),this.right=o.right(e),this.bottom=o.bottom(e),this.left=o.left(e),this.center=s.x(this.left,this.right,"center of viewport"),this.middle=s.y(this.top,this.bottom,"middle of viewport")};u.extend(a)},{"./assertable.js":1,"./descriptors/center.js":2,"./descriptors/viewport_edge.js":13,"./descriptors/viewport_size.js":14,"./q_frame.js":17,"./util/ensure.js":21}],20:[function(t,e,n){"use strict";function r(t){return function(){u.signature(arguments,[]);var e=l[t];return u.that(void 0!==e,"Must create a frame before using Quixote browser feature detection."),e}}function i(t){var e=1500,n=200;l={};var r=a.create(document.body,{width:e,height:n},function(n){if(n)return console.log("Error while creating Quixote browser feature detection frame: "+n),t();try{l.enlargesFrame=o(r,e),r.reset(),s(r,e,function(e){return l.enlargesFonts=e,r.remove(),t()})}catch(i){console.log("Error during Quixote browser feature detection: "+i)}})}function o(t,e){return t.add("<div style='width: "+(e+200)+"px'>force scrolling</div>"),!t.viewport().width.value().equals(c.create(e))}function s(t,e,n){u.that(e>=1500,"Detector frame width must be larger than screen to detect font enlargement"),t.add("<div><style>p { font-size: 15px; }</style></div>");var r=t.add("<p>arbitrary text</p>");t.add("<p>must have two p tags to work</p>"),setTimeout(function(){var t=r.getRawStyle("font-size");return u.that(""!==t,"Expected font-size to be a value"),n("12pt"===t?!1:"15px"!==t)},0)}var u=t("./util/ensure.js"),a=t("./q_frame.js"),c=t("./values/size.js"),l=null;n.createFrame=function(t,e){return a.create(document.body,t,function(t,n){null===l?i(function(){e(t,n)}):e(t,n)})},n.browser={},n.browser.enlargesFrameToPageSize=r("enlargesFrame"),n.browser.enlargesFonts=r("enlargesFonts")},{"./q_frame.js":17,"./util/ensure.js":21,"./values/size.js":26}],21:[function(t,e,n){"use strict";function r(t,e){function r(t,e){switch(s(e)){case"boolean":return t===Boolean;case"string":return t===String;case"number":return t===Number;case"array":return t===Array;case"function":return t===Function;case"object":return t===Object||e instanceof t;case"undefined":return void 0===t;case"null":return null===t;case"NaN":return isNaN(t);default:n.unreachable()}}for(var i=0;i<t.length;i++)if(r(t[i],e))return!0;return!1}function i(t){function e(t){switch(t){case Boolean:return"boolean";case String:return"string";case Number:return"number";case Array:return"array";case Function:return"function";case null:return"null";default:return"number"==typeof t&&isNaN(t)?"NaN":a.className(t)+" instance"}}for(var n="",r="",i=0;i<t.length;i++)r+=n+e(t[i]),n=i===t.length-2?", or ":", ";return r}function o(t){var e=s(t);return"object"!==e?e:a.instanceName(t)+" instance"}function s(t){var e=typeof t;return null===t&&(e="null"),u.Array.isArray(t)&&(e="array"),"number"===e&&isNaN(t)&&(e="NaN"),e}var u=t("./shim.js"),a=t("./oop.js");n.that=function(t,e){if(void 0===e&&(e="Expected condition to be true"),t===!1)throw new c(n.that,e);if(t!==!0)throw new c(n.that,"Expected condition to be true or false")},n.unreachable=function(t){throw t||(t="Unreachable code executed"),new c(n.unreachable,t)},n.signature=function(t,e){e=e||[];var s=e.length,a=t.length;if(a>s)throw new c(n.signature,"Function called with too many arguments: expected "+s+" but got "+a);for(var l,p,f,h=0;h<e.length;h++)if(l=e[h],p=t[h],f="Argument "+h,u.Array.isArray(l)||(l=[l]),!r(l,p,f)){var d=f+" expected "+i(l)+", but was ";throw new c(n.signature,d+o(p))}};var c=n.EnsureException=function(t,e){Error.captureStackTrace?Error.captureStackTrace(this,t):this.stack=(new Error).stack,this.message=e};c.prototype=u.Object.create(Error.prototype),c.prototype.constructor=c,c.prototype.name="EnsureException"},{"./oop.js":22,"./shim.js":23}],22:[function(t,e,n){"use strict";var r=t("./shim.js");n.className=function(t){if("function"!=typeof t)throw new Error("Not a constructor");return r.Function.name(t)},n.instanceName=function(t){var e=r.Object.getPrototypeOf(t);if(null===e)return"<no prototype>";var n=e.constructor;return void 0===n||null===n?"<anon>":r.Function.name(n)},n.extendFn=function(t){return function(e){e.prototype=r.Object.create(t.prototype),e.prototype.constructor=e}},n.makeAbstract=function(t,e){var n=r.Function.name(t);r.Array.forEach(e,function(e){t.prototype[e]=function(){throw new Error(n+" subclasses must implement "+e+"() method")}}),t.prototype.checkAbstractMethods=function(){var n=[],i=this;return r.Array.forEach(e,function(e){i[e]===t.prototype[e]&&n.push(e+"()")}),n}}},{"./shim.js":23}],23:[function(t,e,n){"use strict";n.Array={isArray:function(t){return Array.isArray?Array.isArray(t):"[object Array]"===Object.prototype.toString.call(t)},forEach:function(t,e,n){if(Array.prototype.forEach)return t.forEach(e,n);var r,i;if(null==t)throw new TypeError(" this is null or not defined");var o=Object(t),s=o.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(arguments.length>1&&(r=n),i=0;s>i;){var u;i in o&&(u=o[i],e.call(r,u,i,o)),i++}}},n.EventTarget={addEventListener:function(t,e,n){return t.addEventListener?t.addEventListener(e,n):void t.attachEvent("on"+e,n)}},n.Document={head:function(t){return t.head?t.head:t.querySelector("head")}},n.Function={name:function(t){if(t.name)return t.name;var e=/function\s+(.{1,})\s*\(/,n=e.exec(t.toString());return n&&n.length>1?n[1]:"<anon>"}},n.Object={create:function(t){if(Object.create)return Object.create(t);var e=function(){};return e.prototype=t,new e},getPrototypeOf:function(t){if(Object.getPrototypeOf)return Object.getPrototypeOf(t);var e=t.constructor?t.constructor.prototype:null;return e||null},keys:function(t){if(Object.keys)return Object.keys(t);var e=Object.prototype.hasOwnProperty,n=!{toString:null}.propertyIsEnumerable("toString"),r=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],i=r.length;if("object"!=typeof t&&("function"!=typeof t||null===t))throw new TypeError("Object.keys called on non-object");var o,s,u=[];for(o in t)e.call(t,o)&&u.push(o);if(n)for(s=0;i>s;s++)e.call(t,r[s])&&u.push(r[s]);return u}},n.Window={pageXOffset:function(t,e){if(void 0!==t.pageXOffset)return t.pageXOffset;var n="CSS1Compat"===(e.compatMode||"");return n?e.documentElement.scrollLeft:e.body.scrollLeft},pageYOffset:function(t,e){if(void 0!==t.pageYOffset)return t.pageYOffset;var n="CSS1Compat"===(e.compatMode||"");return n?e.documentElement.scrollTop:e.body.scrollTop}}},{}],24:[function(t,e,n){"use strict";var r=t("../util/ensure.js"),i=t("./value.js"),o=e.exports=function(t){r.signature(arguments,[Number]),this._amount=t};i.extend(o),o.create=function(t){return new o(t)},o.prototype.compatibility=function(){return[o]},o.prototype.plus=i.safe(function(t){return new o(this._amount+t._amount)}),o.prototype.minus=i.safe(function(t){return new o(this._amount-t._amount)}),o.prototype.times=function(t){return r.signature(arguments,[Number]),new o(this._amount*t)},o.prototype.average=i.safe(function(t){return new o((this._amount+t._amount)/2)}),o.prototype.compare=i.safe(function(t){var e=this._amount-t._amount;return Math.abs(e)<=.5?0:e}),o.prototype.diff=i.safe(function(t){if(0===this.compare(t))return"";var e=Math.abs(this._amount-t._amount),n=e;return 100*e!==Math.floor(100*e)&&(n="about "+e.toFixed(2)),n+"px"}),o.prototype.toString=function(){return r.signature(arguments,[]),this._amount+"px"}},{"../util/ensure.js":21,"./value.js":27}],25:[function(t,e,n){"use strict";function r(t,e){e instanceof l&&i.that(t._dimension===e._dimension,"Can't compare X coordinate to Y coordinate")}var i=t("../util/ensure.js"),o=t("./value.js"),s=t("./pixels.js"),u=t("./size.js"),a="x",c="y",l=e.exports=function(t,e){i.signature(arguments,[String,[Number,s]]),this._dimension=t,this._value="number"==typeof e?s.create(e):e};o.extend(l),l.x=function(t){return new l(a,t)},l.y=function(t){return new l(c,t)},l.prototype.compatibility=function(){return[l,u]},l.prototype.plus=o.safe(function(t){return r(this,t),new l(this._dimension,this._value.plus(t.toPixels()))}),l.prototype.minus=o.safe(function(t){return r(this,t),new l(this._dimension,this._value.minus(t.toPixels()))}),l.prototype.midpoint=o.safe(function(t){return r(this,t),new l(this._dimension,this._value.average(t.toPixels()))}),l.prototype.diff=o.safe(function(t){r(this,t);var e=this._value,n=t._value;if(e.equals(n))return"";var i,o=e.compare(n);return i=this._dimension===a?0>o?"further left":"further right":0>o?"higher":"lower",e.diff(n)+" "+i}),l.prototype.toString=function(){return i.signature(arguments,[]),this._value.toString()},l.prototype.toPixels=function(){return i.signature(arguments,[]),this._value}},{"../util/ensure.js":21,"./pixels.js":24,"./size.js":26,"./value.js":27}],26:[function(t,e,n){"use strict";var r=t("../util/ensure.js"),i=t("./value.js"),o=t("./pixels.js"),s=e.exports=function(t){r.signature(arguments,[[Number,o]]),this._value="number"==typeof t?o.create(t):t};i.extend(s),s.create=function(t){return new s(t)},s.prototype.compatibility=function(){return[s]},s.prototype.plus=i.safe(function(t){return new s(this._value.plus(t._value))}),s.prototype.minus=i.safe(function(t){return new s(this._value.minus(t._value))}),s.prototype.times=function(t){return new s(this._value.times(t))},s.prototype.compare=i.safe(function(t){return this._value.compare(t._value)}),s.prototype.diff=i.safe(function(t){var e=this._value,n=t._value;if(e.equals(n))return"";var r=e.compare(n)>0?" larger":" smaller";return e.diff(n)+r}),s.prototype.toString=function(){return r.signature(arguments,[]),this._value.toString()},s.prototype.toPixels=function(){return r.signature(arguments,[]),this._value}},{"../util/ensure.js":21,"./pixels.js":24,"./value.js":27}],27:[function(t,e,n){"use strict";function r(t,e,n){for(var r,o=0;o<n.length;o++)r=n[o],i(t,e,r)}function i(t,e,n){function r(e){throw new Error(s.instanceName(t)+" isn't compatible with "+e)}var i=typeof n;null===n&&(i="null"),"object"!==i&&r(i);for(var o=0;o<e.length;o++)if(n instanceof e[o])return;r(s.instanceName(n))}var o=t("../util/ensure.js"),s=t("../util/oop.js"),u=(t("../util/shim.js"),e.exports=function(){});u.extend=s.extendFn(u),s.makeAbstract(u,["diff","toString","compatibility"]),u.safe=function(t){return function(){return r(this,this.compatibility(),arguments),t.apply(this,arguments)}},u.prototype.value=function(){return o.signature(arguments,[]),this;
},u.prototype.equals=function(t){return""===this.diff(t)}},{"../util/ensure.js":21,"../util/oop.js":22,"../util/shim.js":23}],28:[function(t,e,n){"use strict";e.exports=function(t){return 1===t.length?t:t.replace(/^[_.\- ]+/,"").toLowerCase().replace(/[_.\- ]+(\w|$)/g,function(t,e){return e.toUpperCase()})}},{}]},{},[20])(20)});
//# sourceMappingURL=quixote.min.js.map