!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.quixote=t()}}(function(){return function t(e,n,r){function o(u,s){if(!n[u]){if(!e[u]){var a="function"==typeof require&&require;if(!s&&a)return a(u,!0);if(i)return i(u,!0);var c=new Error("Cannot find module '"+u+"'");throw c.code="MODULE_NOT_FOUND",c}var f=n[u]={exports:{}};e[u][0].call(f.exports,function(t){var n=e[u][1][t];return o(n?n:t)},f,f.exports,t,e,n,r)}return n[u].exports}for(var i="function"==typeof require&&require,u=0;u<r.length;u++)o(r[u]);return o}({1:[function(t,e,n){"use strict";function r(t){return function(e){return new p(e,t)}}function o(t,e){return t._position===a||t._position===f?u.y(e):t._position===c||t._position===l?u.x(e):void i.unreachable()}var i=t("../util/ensure.js"),u=t("../values/position.js"),s=t("./element_position.js"),a="top",c="right",f="bottom",l="left",p=e.exports=function(t,e){this._element=t,this._position=e};p.top=r(a),p.right=r(c),p.bottom=r(f),p.left=r(l),p.prototype.plus=function(t){return i.signature(arguments,[Number]),this._position===a||this._position===f?s.y(this,t):this._position===c||this._position===l?s.x(this,t):void i.unreachable()},p.prototype.minus=function(t){return i.signature(arguments,[Number]),this.plus(-1*t)},p.prototype.value=function(){i.signature(arguments,[]);var t=this._element.getRawPosition()[this._position];return o(this,t)},p.prototype.diff=function(t){i.signature(arguments,[[Number,s,p]]),"number"==typeof t&&(t=o(this,t));var e=this.value(),n=t.value();return e.equals(n)?"":"Expected "+this.toString()+" ("+this.value()+") to "+t.describeMatch()+", but was "+e.diff(n)},p.prototype.description=function(){return i.signature(arguments,[]),this._position+" edge"},p.prototype.describeMatch=function(){return i.signature(arguments,[]),"match "+this.toString()+" ("+this.value()+")"},p.prototype.toString=function(){return i.signature(arguments,[]),this.description()+" of element '"+this._element.description()+"'"}},{"../util/ensure.js":6,"../values/position.js":7,"./element_position.js":2}],2:[function(t,e,n){"use strict";function r(t){if(0===t._amount)return"";var e;return e=t._dimension===s?t._amount<0?"left of":"right of":t._amount<0?"above":"below",Math.abs(t._amount)+"px "+e+" "}function o(t,e){return t._dimension===s?u.x(e):u.y(e)}var i=t("../util/ensure.js"),u=(t("./element_edge.js"),t("../values/position.js")),s="x",a="y",c=e.exports=function(t,e,n){i.that(t===s||t===a,"Unrecognized dimension: "+t),this._dimension=t,this._edge=e,this._amount=n};c.x=function(t,e){return new c(s,t,e)},c.y=function(t,e){return new c(a,t,e)},c.prototype.value=function(){return i.signature(arguments,[]),this._edge.value().plus(this._amount)},c.prototype.diff=function(t){"number"==typeof t&&(t=o(this,t));var e=this.value(),n=t.value();return e.equals(n)?"":"Expected "+this.toString()+" ("+this.value()+") to "+t.describeMatch()+", but was "+e.diff(n)},c.prototype.description=function(){return i.signature(arguments,[]),r(this)+this._edge.description()},c.prototype.describeMatch=function(){return i.signature(arguments,[]),"be "+this.toString()+" ("+this.value()+")"},c.prototype.toString=function(){return i.signature(arguments,[]),r(this)+this._edge.toString()}},{"../util/ensure.js":6,"../values/position.js":7,"./element_edge.js":1}],3:[function(t,e,n){"use strict";function r(t){t._loaded=!0,t._document=t._domElement.contentDocument,t._originalBody=t._document.body.innerHTML}function o(t){var e=new XMLHttpRequest;return e.open("HEAD",t,!1),e.send(),404!==e.status}function i(t,e,n){function r(){n()}if(l.signature(arguments,[d,[void 0,String],Function]),void 0===e)return n();var o=document.createElement("link");u(o,r),o.setAttribute("rel","stylesheet"),o.setAttribute("type","text/css"),o.setAttribute("href",e),s(t).appendChild(o)}function u(t,e){t.addEventListener?t.addEventListener("load",e):t.attachEvent("onload",e)}function s(t){return t._document.head?t._document.head:t._document.querySelector("head")}function a(t){c(t),f(t)}function c(t){l.that(t._loaded,"Frame not loaded: Wait for frame creation callback to execute before using frame")}function f(t){l.that(!t._removed,"Attempted to use frame after it was removed")}var l=t("./util/ensure.js"),p=t("./q_element.js"),d=e.exports=function(t){l.signature(arguments,[Object]),l.that("IFRAME"===t.tagName,"DOM element must be an iframe"),this._domElement=t,this._loaded=!1,this._removed=!1};d.create=function(t,e,n,s,a){function c(){setTimeout(function(){r(p),i(p,s.stylesheet,function(){a(null,p)})},0)}l.signature(arguments,[Object,Number,Number,[Object,Function],[void 0,Function]]),void 0===a&&(a=s,s={}),l.that(!(s.src&&s.stylesheet),"Cannot specify HTML URL and stylesheet URL simultaneously due to Mobile Safari issue"),s.src&&l.that(o(s.src),"The HTML document does not exist at the specified URL"),s.stylesheet&&l.that(o(s.stylesheet),"The stylesheet does not exist at the specified URL");var f=document.createElement("iframe");f.setAttribute("width",e),f.setAttribute("height",n),f.setAttribute("frameborder","0"),s.src&&f.setAttribute("src",s.src);var p=new d(f);return u(f,c),t.appendChild(f),p},d.prototype.reset=function(){l.signature(arguments,[]),a(this),this._document.body.innerHTML=this._originalBody},d.prototype.toDomElement=function(){return l.signature(arguments,[]),f(this),this._domElement},d.prototype.remove=function(){l.signature(arguments,[]),c(this),this._removed||(this._removed=!0,this._domElement.parentNode.removeChild(this._domElement))},d.prototype.addElement=function(t){l.signature(arguments,[String]),a(this);var e=document.createElement("div");e.innerHTML=t,l.that(1===e.childNodes.length,"Expected one element, but got "+e.childNodes.length+" ("+t+")");var n=e.childNodes[0];return this._document.body.appendChild(n),new p(n,t)},d.prototype.getElement=function(t){l.signature(arguments,[String]),a(this);var e=this._document.querySelectorAll(t);return l.that(1===e.length,"Expected one element to match '"+t+"', but found "+e.length),new p(e[0],t)}},{"./q_element.js":4,"./util/ensure.js":6}],4:[function(t,e,n){"use strict";function r(t){if(Object.keys)return Object.keys(t);var e=Object.prototype.hasOwnProperty,n=!{toString:null}.propertyIsEnumerable("toString"),r=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],o=r.length;if("object"!=typeof t&&("function"!=typeof t||null===t))throw new TypeError("Object.keys called on non-object");var i,u,s=[];for(i in t)e.call(t,i)&&s.push(i);if(n)for(u=0;o>u;u++)e.call(t,r[u])&&s.push(r[u]);return s}var o=t("./util/ensure.js"),i=t("../vendor/camelcase-1.0.1-modified.js"),u=t("./descriptors/element_edge.js"),s=e.exports=function(t,e){o.signature(arguments,[Object,[String]]),this._domElement=t,this._description=e,this.top=u.top(this),this.right=u.right(this),this.bottom=u.bottom(this),this.left=u.left(this)};s.prototype.assert=function(t,e){o.signature(arguments,[Object,[void 0,String]]),void 0===e&&(e="Differences found");var n=this.diff(t);if(""!==n)throw new Error(e+":\n"+n)},s.prototype.diff=function(t){o.signature(arguments,[Object]);for(var e,n,i,u=[],s=r(t),a=0;a<s.length;a++)e=s[a],i=this[e],o.that(void 0!==i,"'"+e+"' is unknown and can't be used with diff()"),n=i.diff(t[e]),""!==n&&u.push(n);return u.join("\n")},s.prototype.getRawStyle=function(t){o.signature(arguments,[String]);var e,n;return window.getComputedStyle?(e=window.getComputedStyle(this._domElement),n=e.getPropertyValue(t)):(e=this._domElement.currentStyle,n=e[i(t)]),null!==n&&void 0!==n||(n=""),n},s.prototype.getRawPosition=function(){o.signature(arguments,[]);var t=this._domElement.getBoundingClientRect();return{left:t.left,right:t.right,width:void 0!==t.width?t.width:t.right-t.left,top:t.top,bottom:t.bottom,height:void 0!==t.height?t.height:t.bottom-t.top}},s.prototype.toDomElement=function(){return o.signature(arguments,[]),this._domElement},s.prototype.description=function(){return this._description},s.prototype.toString=function(){return o.signature(arguments,[]),this._domElement.outerHTML},s.prototype.equals=function(t){return o.signature(arguments,[s]),this._domElement===t._domElement}},{"../vendor/camelcase-1.0.1-modified.js":8,"./descriptors/element_edge.js":1,"./util/ensure.js":6}],5:[function(t,e,n){"use strict";var r=(t("./util/ensure.js"),t("./frame.js"));n.createFrame=function(t,e,n,o){return r.create(document.body,t,e,n,o)}},{"./frame.js":3,"./util/ensure.js":6}],6:[function(t,e,n){"use strict";function r(t,e){function r(t,e){switch(u(e)){case"boolean":return t===Boolean;case"string":return t===String;case"number":return t===Number;case"array":return t===Array;case"function":return t===Function;case"object":return t===Object||e instanceof t;case"undefined":return void 0===t;case"null":return null===t;case"NaN":return isNaN(t);default:n.unreachable()}}for(var o=0;o<t.length;o++)if(r(t[o],e))return!0;return!1}function o(t){function e(t){switch(t){case Boolean:return"boolean";case String:return"string";case Number:return"number";case Array:return"array";case Function:return"function";case null:return"null";default:return"number"==typeof t&&isNaN(t)?"NaN":a(t)+" instance"}}for(var n="",r="",o=0;o<t.length;o++)r+=n+e(t[o]),n=o===t.length-2?", or ":", ";return r}function i(t){var e=u(t);if("object"!==e)return e;var n=f(t);return null===n?"an object without a prototype":a(n.constructor)+" instance"}function u(t){var e=typeof t;return null===t&&(e="null"),c(t)&&(e="array"),"number"===e&&isNaN(t)&&(e="NaN"),e}function s(t){if(Object.create)return Object.create(t);var e=function(){};return e.prototype=t,new e}function a(t){if(t.name)return t.name;var e=/function\s+(.{1,})\s*\(/,n=e.exec(t.toString());return n&&n.length>1?n[1]:"<anon>"}function c(t){return Array.isArray?Array.isArray(t):"[object Array]"===Object.prototype.toString.call(t)}function f(t){if(Object.getPrototypeOf)return Object.getPrototypeOf(t);var e=t.constructor?t.constructor.prototype:null;return e||null}n.that=function(t,e){if(void 0===e&&(e="Expected condition to be true"),t===!1)throw new l(n.that,e);if(t!==!0)throw new l(n.that,"Expected condition to be true or false")},n.unreachable=function(t){throw t||(t="Unreachable code executed"),new l(n.unreachable,t)},n.signature=function(t,e){e=e||[];var u=e.length,s=t.length;if(s>u)throw new l(n.signature,"Function called with too many arguments: expected "+u+" but got "+s);for(var a,f,p,d=0;d<e.length;d++)if(a=e[d],f=t[d],p="Argument "+d,c(a)||(a=[a]),!r(a,f,p))throw new l(n.signature,p+" expected "+o(a)+", but was "+i(f))};var l=n.EnsureException=function(t,e){Error.captureStackTrace?Error.captureStackTrace(this,t):this.stack=(new Error).stack,this.message=e};l.prototype=s(Error.prototype),l.prototype.constructor=l,l.prototype.name="EnsureException"},{}],7:[function(t,e,n){"use strict";var r=t("../util/ensure.js"),o="x",i="y",u=e.exports=function(t,e){r.signature(arguments,[String,Number]),this._dimension=t,this._position=e};u.x=function(t){return new u(o,t)},u.y=function(t){return new u(i,t)},u.prototype.plus=function(t){return r.signature(arguments,[Number]),new u(this._dimension,this._position+t)},u.prototype.value=function(){return r.signature(arguments,[]),this},u.prototype.diff=function(t){r.signature(arguments,[u]),r.that(this._dimension===t._dimension,"Can't compare X dimension to Y dimension");var e,n=this._position,i=t._position;e=this._dimension===o?i>n?"to the left":"to the right":i>n?"lower":"higher";var s=Math.abs(i-n);return 0===s?"":s+"px "+e},u.prototype.equals=function(t){return r.signature(arguments,[u]),""===this.diff(t)},u.prototype.describeMatch=function(){return r.signature(arguments,[]),"be "+this},u.prototype.toString=function(){return r.signature(arguments,[]),this._position+"px"}},{"../util/ensure.js":6}],8:[function(t,e,n){"use strict";e.exports=function(t){return 1===t.length?t:t.replace(/^[_.\- ]+/,"").toLowerCase().replace(/[_.\- ]+(\w|$)/g,function(t,e){return e.toUpperCase()})}},{}]},{},[5])(5)});
//# sourceMappingURL=quixote.min.js.map