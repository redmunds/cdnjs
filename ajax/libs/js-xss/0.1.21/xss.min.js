!function t(r,e,n){function i(a,s){if(!e[a]){if(!r[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=e[a]={exports:{}};r[a][0].call(c.exports,function(t){var e=r[a][1][t];return i(e?e:t)},c,c.exports,t,r,e,n)}return e[a].exports}for(var o="function"==typeof require&&require,a=0;a<n.length;a++)i(n[a]);return i}({1:[function(t,r,e){function n(t,r,e){}function i(t,r,e){}function o(t,r,e){}function a(t,r,e){}function s(t){return t.replace(w,"&lt;").replace(y,"&gt;")}function l(t,r,e){if(e=d(e),"href"===r||"src"===r){if(e=I.trim(e),"#"===e)return"#";if("http://"!==e.substr(0,7)&&"https://"!==e.substr(0,8)&&"mailto:"!==e.substr(0,7)&&"/"!==e[0])return""}else if("background"===r){if(k.lastIndex=0,k.test(e))return""}else if("style"===r){if(L.lastIndex=0,L.test(e))return"";if(q.lastIndex=0,q.test(e))return"";if(B.lastIndex=0,B.test(e)&&(k.lastIndex=0,k.test(e)))return""}return e=h(e)}function u(t){return t.replace(b,"&quot;")}function c(t){return t.replace(C,'"')}function f(t){return t.replace(S,function(t,r){return"x"===r[0]||"X"===r[0]?String.fromCharCode(parseInt(r.substr(1),16)):String.fromCharCode(parseInt(r,10))})}function g(t){return t.replace(O,":").replace(E," ")}function p(t){for(var r="",e=0,n=t.length;e<n;e++)r+=t.charCodeAt(e)<32?" ":t.charAt(e);return I.trim(r)}function d(t){return t=c(t),t=f(t),t=g(t),t=p(t)}function h(t){return t=u(t),t=s(t)}function v(){return""}function m(t,r){function e(r){return!!n||I.indexOf(t,r)!==-1}"function"!=typeof r&&(r=function(){});var n=!Array.isArray(t),i=[],o=!1;return{onIgnoreTag:function(t,n,a){if(e(t)){if(a.isClosing){var s="[/removed]",l=a.position+s.length;return i.push([o!==!1?o:a.position,l]),o=!1,s}return o||(o=a.position),"[removed]"}return r(t,n,a)},remove:function(t){var r="",e=0;return I.forEach(i,function(n){r+=t.slice(e,n[0]),e=n[1]}),r+=t.slice(e)}}}function T(t){return t.replace(H,"")}function A(t){var r=t.split("");return r=r.filter(function(t){var r=t.charCodeAt(0);return 127!==r&&(!(r<=31)||(10===r||13===r))}),r.join("")}var I=t("./util"),x={a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","loop","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],sup:[],strong:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","colspan","align","valign"],tfoot:["align","valign"],th:["width","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","loop","preload","src","height","width"]},w=/</g,y=/>/g,b=/"/g,C=/&quot;/g,S=/&#([a-zA-Z0-9]*);?/gim,O=/&colon;?/gim,E=/&newline;?/gim,L=/\/\*|\*\//gm,k=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a)\:/gi,q=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,B=/u\s*r\s*l\s*\(.*/gi,H=/<!--[\s\S]*?-->/g;e.whiteList=x,e.onTag=n,e.onIgnoreTag=i,e.onTagAttr=o,e.onIgnoreTagAttr=a,e.safeAttrValue=l,e.escapeHtml=s,e.escapeQuote=u,e.unescapeQuote=c,e.escapeHtmlEntities=f,e.escapeDangerHtml5Entities=g,e.clearNonPrintableCharacter=p,e.friendlyAttrValue=d,e.escapeAttrValue=h,e.onIgnoreTagStripAll=v,e.StripTagBody=m,e.stripCommentTag=T,e.stripBlankChar=A},{"./util":4}],2:[function(t,r,e){function n(t,r){var e=new a(r);return e.process(t)}var i=t("./default"),o=t("./parser"),a=t("./xss");e=r.exports=n,e.FilterXSS=a;for(var s in i)e[s]=i[s];for(var s in o)e[s]=o[s];"function"==typeof define&&define.amd&&define(function(){return r.exports}),"undefined"!=typeof window&&(window.filterXSS=r.exports)},{"./default":1,"./parser":3,"./xss":5}],3:[function(t,r,e){function n(t){var r=t.indexOf(" ");if(r===-1)var e=t.slice(1,-1);else var e=t.slice(1,r+1);return e=s.trim(e).toLowerCase(),"/"===e[0]&&(e=e.slice(1)),"/"===e[e.length-1]&&(e=e.slice(0,-1)),e}function i(t){return"</"===t.slice(0,2)}function o(t,r,e){"user strict";var o="",a=0,s=!1,l=!1,u=0,c=t.length,f="",g="";for(u=0;u<c;u++){var p=t.charAt(u);if(s===!1){if("<"===p){s=u;continue}}else if(l===!1){if("<"===p){o+=e(t.slice(a,u)),s=u,a=u;continue}if(">"===p){o+=e(t.slice(a,s)),f=t.slice(s,u+1),g=n(f),o+=r(s,o.length,g,f,i(f)),a=u+1,s=!1;continue}if('"'===p||"'"===p){l=p;continue}}else if(p===l){l=!1;continue}}return a<t.length&&(o+=e(t.substr(a))),o}function a(t,r){"user strict";function e(t,e){t=s.trim(t),t=t.replace(l,"").toLowerCase(),t.length<1||i.push(r(t,e||""))}for(var n=0,i=[],o=!1,a=t.length,u=0;u<a;u++){var c,f=t.charAt(u);if(o!==!1||"="!==f)if(o===!1||u!==n||'"'!==f&&"'"!==f)" "!==f||(c=s.trim(t.slice(n,u)),o===!1?e(c):e(o,c),o=!1,n=u+1);else{var g=t.indexOf(f,u+1);if(g===-1)break;c=s.trim(t.slice(n+1,g)),e(o,c),o=!1,u=g,n=u+1}else o=t.slice(n,u),n=u+1}return n<t.length&&(o===!1?e(t.slice(n)):e(o,t.slice(n))),s.trim(i.join(" "))}var s=t("./util"),l=/[^a-zA-Z0-9_:\.\-]/gim;e.parseTag=o,e.parseAttr=a},{"./util":4}],4:[function(t,r,e){r.exports={indexOf:function(t,r){var e,n;if(Array.prototype.indexOf)return t.indexOf(r);for(e=0,n=t.length;e<n;e++)if(t[e]===r)return e;return-1},forEach:function(t,r,e){var n,i;if(Array.prototype.forEach)return t.forEach(r,e);for(n=0,i=t.length;n<i;n++)r.call(e,t[n],n,t)},trim:function(t){return String.prototype.forEach?t.trim():t.replace(/(^\s*)|(\s*$)/g,"")}}},{}],5:[function(t,r,e){function n(t){return void 0===t||null===t}function i(t){var r=t.indexOf(" ");if(r===-1)return{html:"",closing:"/"===t[t.length-2]};t=c.trim(t.slice(r+1,-1));var e="/"===t[t.length-1];return e&&(t=c.trim(t.slice(0,-1))),{html:t,closing:e}}function o(t){t=t||{},t.stripIgnoreTag&&(t.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),t.onIgnoreTag=a.onIgnoreTagStripAll),t.whiteList=t.whiteList||a.whiteList,t.onTag=t.onTag||a.onTag,t.onTagAttr=t.onTagAttr||a.onTagAttr,t.onIgnoreTag=t.onIgnoreTag||a.onIgnoreTag,t.onIgnoreTagAttr=t.onIgnoreTagAttr||a.onIgnoreTagAttr,t.safeAttrValue=t.safeAttrValue||a.safeAttrValue,t.escapeHtml=t.escapeHtml||a.escapeHtml,this.options=t}var a=t("./default"),s=t("./parser"),l=s.parseTag,u=s.parseAttr,c=t("./util");o.prototype.process=function(t){if(t=t||"",t=t.toString(),!t)return"";var r=this,e=r.options,o=e.whiteList,s=e.onTag,f=e.onIgnoreTag,g=e.onTagAttr,p=e.onIgnoreTagAttr,d=e.safeAttrValue,h=e.escapeHtml;if(e.stripBlankChar&&(t=a.stripBlankChar(t)),e.allowCommentTag||(t=a.stripCommentTag(t)),e.stripIgnoreTagBody){var v=a.StripTagBody(e.stripIgnoreTagBody,f);f=v.onIgnoreTag}else v=!1;var m=l(t,function(t,r,e,a,l){var v={sourcePosition:t,position:r,isClosing:l,isWhite:e in o},m=s(e,a,v);if(!n(m))return m;if(v.isWhite){if(v.isClosing)return"</"+e+">";var T=i(a),A=o[e],I=u(T.html,function(t,r){var i=c.indexOf(A,t)!==-1,o=g(e,t,r,i);if(!n(o))return o;if(i)return r=d(e,t,r),r?t+'="'+r+'"':t;var o=p(e,t,r,i);return n(o)?void 0:o}),a="<"+e;return I&&(a+=" "+I),T.closing&&(a+=" /"),a+=">"}var m=f(e,a,v);return n(m)?h(a):m},h);return v&&(m=v.remove(m)),m},r.exports=o},{"./default":1,"./parser":3,"./util":4}]},{},[2]);
//# sourceMappingURL=xss.min.js.map