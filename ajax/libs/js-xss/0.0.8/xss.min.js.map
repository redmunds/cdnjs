{"version":3,"sources":["xss.js"],"names":["e","t","n","r","i","Error","s","exports","length","require","1","module","defaultOnTagAttr","tag","attr","value","REGEXP_DEFAULT_ON_TAG_ATTR_1","lastIndex","test","REGEXP_DEFAULT_ON_TAG_ATTR_2","REGEXP_DEFAULT_ON_TAG_ATTR_3","REGEXP_DEFAULT_ON_TAG_ATTR_4","defaultOnIgnoreTag","html","options","noTag","text","replace","REGEXP_LT","REGEXP_GT","replaceUnicode","str","code","String","fromCharCode","parseInt","FilterXSS","this","whiteList","onTagAttr","onIgnoreTag","filterXSS","xss","process","defaultWhiteList","h1","h2","h3","h4","h5","h6","hr","span","strong","b","br","p","pre","a","img","div","table","tr","td","th","tbody","thead","ul","li","ol","dl","dt","em","cite","section","header","footer","blockquote","audio","video","REGEXP_QUOTE","REGEXP_ATTR_NAME","REGEXP_ATTR_VALUE","prototype","filterAttributes","tagName","attrs","toLowerCase","me","whites","lastPos","_attrs","tmpName","hasSprit","addAttr","name","trim","indexOf","_value","len","charCodeAt","charAt","newValue","v","c","slice","j","addNewTag","currentPos","targetPos","rethtml","spos","isClosing","position","originalPosition","tagHtml","tagStart","quoteStart","substr","utils","window","Array","item","forEach","fn","./utils","2","tagFilter","tags","next","hidden","posStart","ret","end","push","filter","pos"],"mappings":"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","file":"xss.min.js"}