!function(t,e,i,r){function n(r){if(!i[r]){if(!e[r]){if(t)return t(r);throw new Error("Cannot find module '"+r+"'")}var s=i[r]={exports:{}};e[r][0](function(t){var i=e[r][1][t];return n(i?i:t)},s,s.exports)}return i[r].exports}for(var s=0;s<r.length;s++)n(r[s]);return n}("undefined"!=typeof require&&require,{1:[function(t,e,i){!function(){function r(t,e,i){if("href"===e||"src"===e){if(d.lastIndex=0,d.test(i))return"#";if(v.lastIndex=0,v.test(i))return"#"}else if("style"===e){if(w.lastIndex=0,w.test(i))return"#";if(m.lastIndex=0,m.test(i))return""}}function n(t,e,i){return s(e)}function s(t){return t.replace(c,"&lt;").replace(u,"&gt;")}function o(t,e){return String.fromCharCode(parseInt(e,10))}function a(t){"use strict";this.options=t=t||{},this.whiteList=t.whiteList||i.whiteList,this.onTagAttr=t.onTagAttr||i.onTagAttr,this.onIgnoreTag=t.onIgnoreTag||i.onIgnoreTag}function l(t,e){var i=new a(e);return i.process(t)}var f={h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],hr:[],span:[],strong:[],b:[],i:[],br:[],p:[],pre:[],code:[],a:["target","href","title"],img:["src","alt","title","width","height"],div:[],table:["width","border"],tr:["rowspan"],td:["width","colspan"],th:["width","colspan"],tbody:[],thead:[],ul:[],li:[],ol:[],dl:[],dt:[],em:[],cite:[],section:[],header:[],footer:[],blockquote:[],audio:["autoplay","controls","loop","preload","src"],video:["autoplay","controls","loop","preload","src","height","width"]},c=/</g,u=/>/g,h=/"/g,g=/[^a-zA-Z0-9_:\.\-]/gim,p=/&#([a-zA-Z0-9]*);?/gim,d=/\/\*|\*\//gm,v=/^[\s"'`]*((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,w=/\/\*|\*\//gm,m=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi;a.prototype.filterAttributes=function(t,e){"use strict";t=t.toLowerCase();for(var i=this,r=this.whiteList[t],n=0,s="",a=!1,l=!1,f=function(e,n){if(e=e.trim(),!l&&"/"===e)return void(l=!0);if(e=e.replace(g,"").toLowerCase(),!(e.length<1)&&r.indexOf(e)!==-1){if(n){n=n.trim().replace(h,"&quote;"),n=n.replace(p,o);for(var a="",f=0,c=n.length;f<c;f++)a+=n.charCodeAt(f)<32?" ":n.charAt(f);n=a.trim();var u=i.onTagAttr(t,e,n);"undefined"!=typeof u&&(n=u)}s+=e+(n?'="'+n+'"':"")+" "}},c=0,u=e.length;c<u;c++){var d,v=e.charAt(c);if(a!==!1||"="!==v)if(a===!1||c!==n||'"'!==v&&"'"!==v)" "!==v||(d=e.slice(n,c).trim(),a===!1?f(d):f(a,d),a=!1,n=c+1);else{var w=e.indexOf(v,c+1);if(w===-1)break;d=e.slice(n+1,w).trim(),f(a,d),a=!1,c=w,n=c+1}else a=e.slice(n,c),n=c+1}return n<e.length&&(a===!1?f(e.slice(n)):f(a,e.slice(n))),l&&(s+="/"),s.trim()},a.prototype.addNewTag=function(t,e,i){"use strict";var r,n,o="",a="</"===t.slice(0,2)?2:1,l=t.indexOf(" ");if(r=l===-1?t.slice(a,t.length-1).trim():t.slice(a,l+1).trim(),r=r.toLowerCase(),"/"===r.slice(-1)?(r=r.slice(0,-1),n=!0):n=!1,r in this.whiteList)if(l===-1)o+=t.slice(0,a)+r+(n?" />":">");else{var f=this.filterAttributes(r,t.slice(l+1,t.length-1).trim());o+=t.slice(0,a)+r+(f.length>0?" "+f:"")+">"}else{var c={isClosing:2===a,position:i,originalPosition:e-t.length+1},u=this.onIgnoreTag(r,t,c);"undefined"==typeof u&&(u=s(t)),o+=u}return o},a.prototype.process=function(t){"use strict";var e="",i=0,r=!1,n=!1,o=0,a=0;for(o=0,a=t.length;o<a;o++){var l=t.charAt(o);if(r===!1){if("<"===l){r=o;continue}}else if(n===!1){if("<"===l){e+=s(t.slice(i,o)),r=o,i=o;continue}if(">"===l){e+=s(t.slice(i,r)),e+=this.addNewTag(t.slice(r,o+1),o,e.length),i=o+1,r=!1;continue}if('"'===l||"'"===l){n=l;continue}}else if(l===n){n=!1;continue}}return i<t.length&&(e+=s(t.substr(i))),e},i=e.exports=l,i.FilterXSS=a,i.whiteList=f,i.onTagAttr=r,i.onIgnoreTag=n,i.utils=t("./utils"),"undefined"!=typeof window&&(Array.indexOf||(Array.prototype.indexOf=function(t){for(var e=0;e<this.length;e++)if(this[e]==t)return e;return-1}),Array.forEach||(Array.prototype.forEach=function(t){for(var e=0;e<this.length;e++)t(this[e],e,this)}),String.trim||(String.prototype.trim=function(){return this.replace(/(^\s*)|(\s*$)/g,"")}),window.filterXSS=e.exports)}()},{"./utils":2}],2:[function(t,e,i){var r=e.exports;r.tagFilter=function(t,e){"function"!=typeof e&&(e=function(){});var i=[],r=!1;return{onIgnoreTag:function(n,s,o){if(t.indexOf(n)!==-1){var a="[removed]";if(r!==!1&&o.isClosing){var l=o.position+a.length;i.push([r,l]),r=!1}else r=o.position;return a}return e(n,s,o)},filter:function(t){var e="",r=0;return i.forEach(function(i){e+=t.slice(r,i[0]),r=i[1]}),e+=t.slice(r)}}}},{}]},{},[1]);
//# sourceMappingURL=xss.min.js.map