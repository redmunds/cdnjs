!function t(e,r,i){function n(o,a){if(!r[o]){if(!e[o]){var l="function"==typeof require&&require;if(!a&&l)return l(o,!0);if(s)return s(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=r[o]={exports:{}};e[o][0].call(f.exports,function(t){var r=e[o][1][t];return n(r?r:t)},f,f.exports,t,e,r,i)}return r[o].exports}for(var s="function"==typeof require&&require,o=0;o<i.length;o++)n(i[o]);return n}({1:[function(t,e,r){function i(t,e,r){if("href"===e||"src"===e){if(A.lastIndex=0,A.test(r))return"#";if(I.lastIndex=0,I.test(r))return"#";if(C.lastIndex=0,C.test(r)&&(L.lastIndex=0,!L.test(r)))return"#"}else if("style"===e){if(b.lastIndex=0,b.test(r))return"#";if(T.lastIndex=0,T.test(r))return""}}function n(t,e,r){return s(e)}function s(t){return t.replace(p,"&lt;").replace(d,"&gt;")}function o(t){for(var e="",r=0,i=t.length;r<i;r++)e+=t.charCodeAt(r)<32?" ":t.charAt(r);return e.trim()}function a(t){return t.replace(v,"&quote;")}function l(t){return t.replace(w,function(t,e){return"x"===e[0]||"X"===e[0]?String.fromCharCode(parseInt(e.substr(1),16)):String.fromCharCode(parseInt(e,10))})}function f(t){return t.replace(x,":").replace(y," ")}function c(t){return t=t.trim(),t=a(t),t=l(t),t=f(t),t=o(t)}function u(t){"use strict";this.options=t=t||{},this.whiteList=t.whiteList||r.whiteList,this.onTagAttr=t.onTagAttr||r.onTagAttr,this.onIgnoreTag=t.onIgnoreTag||r.onIgnoreTag}function h(t,e){var r=new u(e);return r.process(t)}var g={h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],hr:[],span:[],strong:[],b:[],i:[],br:[],p:[],pre:[],code:[],a:["target","href","title"],img:["src","alt","title","width","height"],div:[],table:["width","border"],tr:["rowspan"],td:["width","colspan"],th:["width","colspan"],tbody:[],thead:[],ul:[],li:[],ol:[],dl:[],dt:[],em:[],cite:[],section:[],header:[],footer:[],blockquote:[],audio:["autoplay","controls","loop","preload","src"],video:["autoplay","controls","loop","preload","src","height","width"]},p=/</g,d=/>/g,v=/"/g,m=/[^a-zA-Z0-9_:\.\-]/gim,w=/&#([a-zA-Z0-9]*);?/gim,x=/&colon;?/gim,y=/&newline;?/gim,A=/\/\*|\*\//gm,I=/^[\s"'`]*((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a)\:/gi,b=/\/\*|\*\//gm,T=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a)\:/gi,C=/^[\s"'`]*(d\s*a\s*t\s*a\s*)\:/gi,L=/^[\s"'`]*(d\s*a\s*t\s*a\s*)\:\s*image\//gi;u.prototype.filterAttributes=function(t,e){"use strict";t=t.toLowerCase();for(var r=this,i=this.whiteList[t],n=0,s="",o=!1,a=!1,l=function(e,n){if(e=e.trim(),!a&&"/"===e)return void(a=!0);if(e=e.replace(m,"").toLowerCase(),!(e.length<1)&&i.indexOf(e)!==-1){if(n){n=c(n);var o=r.onTagAttr(t,e,n);"undefined"!=typeof o&&(n=o)}s+=e+(n?'="'+n+'"':"")+" "}},f=0,u=e.length;f<u;f++){var h,g=e.charAt(f);if(o!==!1||"="!==g)if(o===!1||f!==n||'"'!==g&&"'"!==g)" "!==g||(h=e.slice(n,f).trim(),o===!1?l(h):l(o,h),o=!1,n=f+1);else{var p=e.indexOf(g,f+1);if(p===-1)break;h=e.slice(n+1,p).trim(),l(o,h),o=!1,f=p,n=f+1}else o=e.slice(n,f),n=f+1}return n<e.length&&(o===!1?l(e.slice(n)):l(o,e.slice(n))),a&&(s+="/"),s.trim()},u.prototype.addNewTag=function(t,e,r){"use strict";var i,n,o="",a="</"===t.slice(0,2)?2:1,l=t.indexOf(" ");if(i=l===-1?t.slice(a,t.length-1).trim():t.slice(a,l+1).trim(),i=i.toLowerCase(),"/"===i.slice(-1)?(i=i.slice(0,-1),n=!0):n=!1,i in this.whiteList)if(l===-1)o+=t.slice(0,a)+i+(n?" />":">");else{var f=this.filterAttributes(i,t.slice(l+1,t.length-1).trim());o+=t.slice(0,a)+i+(f.length>0?" "+f:"")+">"}else{var c={isClosing:2===a,position:r,originalPosition:e-t.length+1},u=this.onIgnoreTag(i,t,c);"undefined"==typeof u&&(u=s(t)),o+=u}return o},u.prototype.process=function(t){"use strict";var e="",r=0,i=!1,n=!1,o=0,a=0;for(o=0,a=t.length;o<a;o++){var l=t.charAt(o);if(i===!1){if("<"===l){i=o;continue}}else if(n===!1){if("<"===l){e+=s(t.slice(r,o)),i=o,r=o;continue}if(">"===l){e+=s(t.slice(r,i)),e+=this.addNewTag(t.slice(i,o+1),o,e.length),r=o+1,i=!1;continue}if('"'===l||"'"===l){n=l;continue}}else if(l===n){n=!1;continue}}return r<t.length&&(e+=s(t.substr(r))),e},r=e.exports=h,r.FilterXSS=u,r.whiteList=g,r.onTagAttr=i,r.onIgnoreTag=n,r.utils=t("./utils"),"undefined"!=typeof window&&(Array.indexOf||(Array.prototype.indexOf=function(t){for(var e=0;e<this.length;e++)if(this[e]==t)return e;return-1}),Array.forEach||(Array.prototype.forEach=function(t){for(var e=0;e<this.length;e++)t(this[e],e,this)}),String.trim||(String.prototype.trim=function(){return this.replace(/(^\s*)|(\s*$)/g,"")}),window.filterXSS=e.exports)},{"./utils":2}],2:[function(t,e,r){var i=e.exports;i.tagFilter=function(t,e){"function"!=typeof e&&(e=function(){});var r=[],i=!1;return{onIgnoreTag:function(n,s,o){if(t.indexOf(n)!==-1){var a="[removed]";if(i!==!1&&o.isClosing){var l=o.position+a.length;r.push([i,l]),i=!1}else i=o.position;return a}return e(n,s,o)},filter:function(t){var e="",i=0;return r.forEach(function(r){e+=t.slice(i,r[0]),i=r[1]}),e+=t.slice(i)}}}},{}]},{},[1]);
//# sourceMappingURL=xss.min.js.map