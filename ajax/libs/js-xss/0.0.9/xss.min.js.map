{"version":3,"sources":["xss.js"],"names":["e","t","n","r","s","o","u","a","require","i","Error","f","exports","call","length","1","module","defaultOnTagAttr","tag","attr","value","REGEXP_DEFAULT_ON_TAG_ATTR_1","lastIndex","test","REGEXP_DEFAULT_ON_TAG_ATTR_2","REGEXP_DEFAULT_ON_TAG_ATTR_5","REGEXP_DEFAULT_ON_TAG_ATTR_6","REGEXP_DEFAULT_ON_TAG_ATTR_3","REGEXP_DEFAULT_ON_TAG_ATTR_4","defaultOnIgnoreTag","html","options","noTag","text","replace","REGEXP_LT","REGEXP_GT","clearNonPrintableCharacter","str","str2","len","charCodeAt","charAt","trim","escapeQuotes","REGEXP_QUOTE","escapeHtmlEntities","REGEXP_ATTR_VALUE_1","code","String","fromCharCode","parseInt","substr","escapeDangerHtml5Entities","REGEXP_ATTR_VALUE_COLON","REGEXP_ATTR_VALUE_NEWLINE","safeAttrValue","FilterXSS","this","whiteList","onTagAttr","onIgnoreTag","filterXSS","xss","process","defaultWhiteList","h1","h2","h3","h4","h5","h6","hr","span","strong","b","br","p","pre","img","div","table","tr","td","th","tbody","thead","ul","li","ol","dl","dt","em","cite","section","header","footer","blockquote","audio","video","REGEXP_ATTR_NAME","prototype","filterAttributes","tagName","attrs","toLowerCase","me","whites","lastPos","_attrs","tmpName","hasSprit","addAttr","name","indexOf","newValue","v","c","slice","j","addNewTag","currentPos","targetPos","rethtml","spos","isClosing","position","originalPosition","tagHtml","tagStart","quoteStart","utils","window","Array","item","forEach","fn","./utils","2","tagFilter","tags","next","hidden","posStart","ret","end","push","filter","pos"],"mappings":"CAAC,QAAUA,GAAEC,EAAEC,EAAEC,GAAG,QAASC,GAAEC,EAAEC,GAAG,IAAIJ,EAAEG,GAAG,CAAC,IAAIJ,EAAEI,GAAG,CAAC,GAAIE,GAAkB,kBAATC,UAAqBA,OAAQ,KAAIF,GAAGC,EAAE,MAAOA,GAAEF,GAAE,EAAI,IAAGI,EAAE,MAAOA,GAAEJ,GAAE,EAAI,MAAM,IAAIK,OAAM,uBAAuBL,EAAE,KAAK,GAAIM,GAAET,EAAEG,IAAIO,WAAYX,GAAEI,GAAG,GAAGQ,KAAKF,EAAEC,QAAQ,SAASZ,GAAG,GAAIE,GAAED,EAAEI,GAAG,GAAGL,EAAG,OAAOI,GAAEF,EAAEA,EAAEF,IAAIW,EAAEA,EAAEC,QAAQZ,EAAEC,EAAEC,EAAEC,GAAG,MAAOD,GAAEG,GAAGO,QAAkD,IAAI,GAA1CH,GAAkB,kBAATD,UAAqBA,QAAgBH,EAAE,EAAEA,EAAEF,EAAEW,OAAOT,IAAID,EAAED,EAAEE,GAAI,OAAOD,KAAKW,GAAG,SAASP,EAAQQ,EAAOJ,GA2Etb,QAASK,GAAkBC,EAAKC,EAAMC,GACpC,GAAa,SAATD,GAA4B,QAATA,EAAgB,CAIrC,GADAE,EAA6BC,UAAY,EACrCD,EAA6BE,KAAKH,GACpC,MAAO,GAIT,IADAI,EAA6BF,UAAY,EACrCE,EAA6BD,KAAKH,GACpC,MAAO,GAIT,IADAK,EAA6BH,UAAY,EACrCG,EAA6BF,KAAKH,KAEpCM,EAA6BJ,UAAY,GACpCI,EAA6BH,KAAKH,IACrC,MAAO,QAGN,IAAa,UAATD,EAAkB,CAI3B,GADAQ,EAA6BL,UAAY,EACrCK,EAA6BJ,KAAKH,GACpC,MAAO,GAIT,IADAQ,EAA6BN,UAAY,EACrCM,EAA6BL,KAAKH,GACpC,MAAO,IAgBb,QAASS,GAAoBX,EAAKY,EAAMC,GACtC,MAAOC,GAAMF,GAUf,QAASE,GAAOC,GACd,MAAOA,GAAKC,QAAQC,EAAW,QAAQD,QAAQE,EAAW,QAS5D,QAASC,GAA4BC,GAEnC,IAAK,GADDC,GAAO,GACF9B,EAAI,EAAG+B,EAAMF,EAAIxB,OAAQL,EAAI+B,EAAK/B,IACzC8B,GAAQD,EAAIG,WAAWhC,GAAK,GAAK,IAAM6B,EAAII,OAAOjC,EAEpD,OAAO8B,GAAKI,OASd,QAASC,GAAcN,GACrB,MAAOA,GAAIJ,QAAQW,EAAc,WASnC,QAASC,GAAoBR,GAC3B,MAAOA,GAAIJ,QAAQa,EAAqB,SAAyBT,EAAKU,GACpE,MAAoB,MAAZA,EAAK,IAA0B,MAAZA,EAAK,GACtBC,OAAOC,aAAaC,SAASH,EAAKI,OAAO,GAAI,KAC7CH,OAAOC,aAAaC,SAASH,EAAM,OAUjD,QAASK,GAA2Bf,GAClC,MAAOA,GAAIJ,QAAQoB,EAAyB,KACjCpB,QAAQqB,EAA2B,KAShD,QAASC,GAAelB,GAgBtB,MAdAA,GAAMA,EAAIK,OAGVL,EAAMM,EAAaN,GAGnBA,EAAMQ,EAAmBR,GAGzBA,EAAMe,EAA0Bf,GAGhCA,EAAMD,EAA2BC,GAUnC,QAASmB,GAAW1B,GAClB,YAEA2B,MAAK3B,QAAUA,EAAUA,MACzB2B,KAAKC,UAAY5B,EAAQ4B,WAAa/C,EAAQ+C,UAC9CD,KAAKE,UAAY7B,EAAQ6B,WAAahD,EAAQgD,UAC9CF,KAAKG,YAAc9B,EAAQ8B,aAAejD,EAAQiD,YAmNpD,QAASC,GAAWhC,EAAMC,GACxB,GAAIgC,GAAM,GAAIN,GAAU1B,EACxB,OAAOgC,GAAIC,QAAQlC,GAzarB,GAAImC,IACFC,MACAC,MACAC,MACAC,MACAC,MACAC,MACAC,MACAC,QACAC,UACAC,KACAlE,KACAmE,MACAC,KACAC,OACA9B,QACAzC,GAAS,SAAU,OAAQ,SAC3BwE,KAAS,MAAO,MAAO,QAAS,QAAS,UACzCC,OACAC,OAAS,QAAS,UAClBC,IAAS,WACTC,IAAS,QAAS,WAClBC,IAAS,QAAS,WAClBC,SACAC,SACAC,MACAC,MACAC,MACAC,MACAC,MACAC,MACAC,QACAC,WACAC,UACAC,UACAC,cACAC,OAAS,WAAY,WAAY,OAAQ,UAAW,OACpDC,OAAS,WAAY,WAAY,OAAQ,UAAW,MAAO,SAAU,UAInEhE,EAAY,KACZC,EAAY,KACZS,EAAe,KACfuD,EAAmB,wBACnBrD,EAAsB,wBACtBO,EAA0B,cAC1BC,EAA4B,gBAC5BlC,EAA+B,cAC/BG,EAA+B,kGAC/BG,EAA+B,cAC/BC,EAA+B,yFAC/BH,EAA+B,kCAC/BC,EAA+B,2CAyKnC+B,GAAU4C,UAAUC,iBAAmB,SAAUC,EAASC,GACxD,YAEAD,GAAUA,EAAQE,aA8BlB,KAAK,GA7BDC,GAAKhD,KACLiD,EAASjD,KAAKC,UAAU4C,GACxBK,EAAU,EACVC,EAAS,GACTC,GAAU,EACVC,GAAW,EAEXC,EAAU,SAAUC,EAAM7F,GAE5B,GADA6F,EAAQA,EAAKtE,QACRoE,GAAqB,MAATE,EAEf,YADAF,GAAW,EAIb,IADAE,EAAOA,EAAK/E,QAAQkE,EAAkB,IAAIK,gBACtCQ,EAAKnG,OAAS,IACd6F,EAAOO,QAAQD,MAAU,EAAI,CAC/B,GAAI7F,EAAO,CAETA,EAAQoC,EAAcpC,EAEtB,IAAI+F,GAAWT,EAAG9C,UAAU2C,EAASU,EAAM7F,EACnB,oBAAb+F,KACT/F,EAAQ+F,GAGZN,GAAUI,GAAQ7F,EAAQ,KAAOA,EAAQ,IAAM,IAAM,MAIhDX,EAAI,EAAG+B,EAAMgE,EAAM1F,OAAQL,EAAI+B,EAAK/B,IAAK,CAChD,GAAwB2G,GAApBC,EAAIb,EAAM9D,OAAOjC,EACrB,IAAIqG,KAAY,GAAe,MAANO,EAKzB,GAAIP,KAAY,GACVrG,IAAMmG,GAAkB,MAANS,GAAmB,MAANA,EAc3B,MAANA,IACFD,EAAIZ,EAAMc,MAAMV,EAASnG,GAAGkC,OACxBmE,KAAY,EACdE,EAAQI,GAERJ,EAAQF,EAASM,GAEnBN,GAAU,EACVF,EAAUnG,EAAI,OAvBhB,CAEI,GAAI8G,GAAIf,EAAMU,QAAQG,EAAG5G,EAAI,EAC7B,IAAI8G,KAAM,EACR,KAEAH,GAAIZ,EAAMc,MAAMV,EAAU,EAAGW,GAAG5E,OAChCqE,EAAQF,EAASM,GACjBN,GAAU,EACVrG,EAAI8G,EACJX,EAAUnG,EAAI,MAdlBqG,GAAUN,EAAMc,MAAMV,EAASnG,GAC/BmG,EAAUnG,EAAI,EAwClB,MATImG,GAAUJ,EAAM1F,SACdgG,KAAY,EACdE,EAAQR,EAAMc,MAAMV,IAEpBI,EAAQF,EAASN,EAAMc,MAAMV,KAG7BG,IAAUF,GAAU,KAEjBA,EAAOlE,QAUhBc,EAAU4C,UAAUmB,UAAY,SAAUtG,EAAKuG,EAAYC,GACzD,YAEA,IACInB,GACAQ,EAFAY,EAAU,GAGVC,EAA2B,OAApB1G,EAAIoG,MAAM,EAAG,GAAc,EAAI,EAEtC7G,EAAIS,EAAIgG,QAAQ,IAgBpB,IAdEX,EADE9F,KAAM,EACES,EAAIoG,MAAMM,EAAM1G,EAAIJ,OAAS,GAAG6B,OAEhCzB,EAAIoG,MAAMM,EAAMnH,EAAI,GAAGkC,OAEnC4D,EAAUA,EAAQE,cAGQ,MAAtBF,EAAQe,OAAM,IAChBf,EAAUA,EAAQe,MAAM,GAAG,GAC3BP,GAAW,GAEXA,GAAW,EAGTR,IAAW7C,MAAKC,UAElB,GAAIlD,KAAM,EACRkH,GAAWzG,EAAIoG,MAAM,EAAGM,GAAQrB,GAAWQ,EAAW,MAAQ,SACzD,CACL,GAAIP,GAAQ9C,KAAK4C,iBAAiBC,EAASrF,EAAIoG,MAAM7G,EAAI,EAAGS,EAAIJ,OAAS,GAAG6B,OAC5EgF,IAAWzG,EAAIoG,MAAM,EAAGM,GAAQrB,GAAWC,EAAM1F,OAAS,EAAI,IAAM0F,EAAQ,IAAM,QAE/E,CAEL,GAAIzE,IACF8F,UAA4B,IAATD,EACnBE,SAAkBJ,EAClBK,iBAAkBN,EAAavG,EAAIJ,OAAS,GAE1CkH,EAAUtE,KAAKG,YAAY0C,EAASrF,EAAKa,EACtB,oBAAZiG,KACTA,EAAUhG,EAAMd,IAElByG,GAAWK,EAGb,MAAOL,IASTlE,EAAU4C,UAAUrC,QAAU,SAAUlC,GACtC,YAEA,IAAI6F,GAAU,GACVf,EAAU,EACVqB,GAAW,EACXC,GAAa,EACbT,EAAa,EACbjF,EAAM,CAGV,KAAKiF,EAAa,EAAGjF,EAAMV,EAAKhB,OAAQ2G,EAAajF,EAAKiF,IAAc,CACtE,GAAIJ,GAAIvF,EAAKY,OAAO+E,EACpB,IAAIQ,KAAa,GACf,GAAU,MAANZ,EAAW,CACbY,EAAWR,CACX,eAGF,IAAIS,KAAe,EAAO,CACxB,GAAU,MAANb,EAAW,CACbM,GAAW3F,EAAMF,EAAKwF,MAAMV,EAASa,IACrCQ,EAAWR,EACXb,EAAUa,CACV,UAEF,GAAU,MAANJ,EAAW,CACbM,GAAW3F,EAAMF,EAAKwF,MAAMV,EAASqB,IACrCN,GAAWjE,KAAK8D,UAAU1F,EAAKwF,MAAMW,EAAUR,EAAa,GAAIA,EAAYE,EAAQ7G,QACpF8F,EAAUa,EAAa,EACvBQ,GAAW,CACX,UAEF,GAAU,MAANZ,GAAmB,MAANA,EAAW,CAC1Ba,EAAab,CACb,eAGF,IAAIA,IAAMa,EAAY,CACpBA,GAAa,CACb,WASR,MAJItB,GAAU9E,EAAKhB,SACjB6G,GAAW3F,EAAMF,EAAKsB,OAAOwD,KAGxBe,GAgBT/G,EAAUI,EAAOJ,QAAUkD,EAC3BlD,EAAQ6C,UAAYA,EACpB7C,EAAQ+C,UAAYM,EACpBrD,EAAQgD,UAAY3C,EACpBL,EAAQiD,YAAchC,EAGtBjB,EAAQuH,MAAQ3H,EAAQ,WAGF,mBAAX4H,UACLC,MAAMnB,UACRmB,MAAMhC,UAAUa,QAAU,SAASoB,GAC/B,IAAI,GAAI7H,GAAE,EAAEA,EAAEiD,KAAK5C,OAAOL,IACtB,GAAGiD,KAAKjD,IAAM6H,EAAM,MAAO7H,EAE/B,QAAO,IAGT4H,MAAME,UACRF,MAAMhC,UAAUkC,QAAU,SAASC,GAChC,IAAI,GAAI/H,GAAE,EAAEA,EAAEiD,KAAK5C,OAAOL,IAAK+H,EAAG9E,KAAKjD,GAAGA,EAAEiD,QAG7CT,OAAON,OACTM,OAAOoD,UAAU1D,KAAO,WACpB,MAAOe,MAAKxB,QAAQ,iBAAiB,MAG3CkG,OAAOtE,UAAY9C,EAAOJ,WAGzB6H,UAAU,IAAIC,GAAG,SAASlI,EAAQQ,EAAOJ,GAO5C,GAAIuH,GAAQnH,EAAOJ,OAQnBuH,GAAMQ,UAAY,SAAUC,EAAMC,GACX,kBAAX,KACRA,EAAO,aAET,IAAIC,MACAC,GAAW,CACf,QACElF,YAAa,SAAU3C,EAAKY,EAAMC,GAChC,GAAI6G,EAAK1B,QAAQhG,MAAS,EAAI,CAC5B,GAAI8H,GAAM,WACV,IAAID,KAAa,GAAShH,EAAQ8F,UAAW,CAC3C,GAAIoB,GAAMlH,EAAQ+F,SAAWkB,EAAIlI,MACjCgI,GAAOI,MAAMH,EAAUE,IACvBF,GAAW,MAEXA,GAAWhH,EAAQ+F,QAErB,OAAOkB,GAEP,MAAOH,GAAK3H,EAAKY,EAAMC,IAG3BoH,OAAQ,SAAUrH,GAChB,GAAI6F,GAAU,GACVf,EAAU,CAMd,OALAkC,GAAOP,QAAQ,SAAUa,GACvBzB,GAAW7F,EAAKwF,MAAMV,EAASwC,EAAI,IACnCxC,EAAUwC,EAAI,KAEhBzB,GAAW7F,EAAKwF,MAAMV,gBAOjB","file":"xss.min.js"}