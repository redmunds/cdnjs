{"version":3,"sources":["xss.js"],"names":["e","t","n","r","i","Error","s","exports","length","require","1","module","defaultOnTagAttr","tag","attr","value","REGEXP_DEFAULT_ON_TAG_ATTR_1","lastIndex","test","REGEXP_DEFAULT_ON_TAG_ATTR_2","REGEXP_DEFAULT_ON_TAG_ATTR_3","REGEXP_DEFAULT_ON_TAG_ATTR_4","defaultOnIgnoreTag","html","options","noTag","text","replace","REGEXP_LT","REGEXP_GT","replaceUnicode","str","code","String","fromCharCode","parseInt","FilterXSS","this","whiteList","onTagAttr","onIgnoreTag","filterXSS","xss","process","defaultWhiteList","h1","h2","h3","h4","h5","h6","hr","span","strong","b","br","p","pre","a","img","div","table","tr","td","th","tbody","ul","li","ol","dl","dt","em","cite","section","header","footer","blockquote","audio","video","REGEXP_QUOTE","REGEXP_ATTR_NAME","REGEXP_ATTR_VALUE","prototype","filterAttributes","tagName","attrs","toLowerCase","me","whites","lastPos","_attrs","tmpName","hasSprit","addAttr","name","trim","indexOf","_value","len","charCodeAt","newValue","c","v","slice","j","addNewTag","currentPos","targetPos","rethtml","spos","isClosing","position","originalPosition","tagHtml","tagStart","quoteStart","substr","utils","window","./utils","2","tagFilter","tags","next","hidden","posStart","ret","end","push","filter","forEach","pos"],"mappings":"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","file":"xss.min.js"}