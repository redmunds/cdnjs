!function(){"use strict";function t(){}function i(t){return!t||t.length<1?void 0:t[0]}function e(t){return!s(t)&&r(t.length)}function n(t){return"[object Function]"===l.call(t)}function r(t){return"number"==typeof t}function s(t){return"string"==typeof t}function a(t){return _.call(t,0)}function o(t,i){for(var e=0,n=t.length;n>e;e++)i(t[e])}function u(t,i){for(var e="",n=0,r=t.length;r>n;n++){var s=t[n][i];s>e&&(e=s)}return e}function c(t,i){for(var e=[],n=0,r=t.length;r>n;n++){var s=i(t[n]);void 0!==s&&e.push(s)}return e}function h(t){for(var i=[],e=1;e<arguments.length;e++)i[e-1]=arguments[e];for(var n=1,r=arguments.length;r>n;n++){var s=arguments[n];for(var a in s)t[a]=s[a]}return t}function f(t,i,e,r){for(var s=[],a=[],o=0,u=t.length;u>o;o++)try{var c=t[o],h=void 0;h=i?c[i].apply(c,e):c.apply(void 0,e),void 0!==h&&a.push(h)}catch(t){s.push(t)}return n(r)&&r(s),a}function p(t){if(!t)throw Error("source is undefined");if(s(t)){var i=document.querySelectorAll(t);return a(i)}if(t instanceof Element)return[t];if(n(t)){var r=t,u=r();return p(u)}if(e(t)){var c=[];return o(t,function(t){var i=p(t);c.push.apply(c,i)}),c}return[]}function m(){return void 0===z&&(z=new T),z}var l=Object.prototype.toString,_=Array.prototype.slice,y={easeInCubic:"cubic-bezier(0.550, 0.055, 0.675, 0.190)",easeOutCubic:"cubic-bezier(0.215, 0.610, 0.355, 1.000)",easeInOutCubic:"cubic-bezier(0.645, 0.045, 0.355, 1.000)",easeInCirc:"cubic-bezier(0.600, 0.040, 0.980, 0.335)",easeOutCirc:"cubic-bezier(0.075, 0.820, 0.165, 1.000)",easeInOutCirc:"cubic-bezier(0.785, 0.135, 0.150, 0.860)",easeInExpo:"cubic-bezier(0.950, 0.050, 0.795, 0.035)",easeOutExpo:"cubic-bezier(0.190, 1.000, 0.220, 1.000)",easeInOutExpo:"cubic-bezier(1.000, 0.000, 0.000, 1.000)",easeInQuad:"cubic-bezier(0.550, 0.085, 0.680, 0.530)",easeOutQuad:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",easeInOutQuad:"cubic-bezier(0.455, 0.030, 0.515, 0.955)",easeInQuart:"cubic-bezier(0.895, 0.030, 0.685, 0.220)",easeOutQuart:"cubic-bezier(0.165, 0.840, 0.440, 1.000)",easeInOutQuart:"cubic-bezier(0.770, 0.000, 0.175, 1.000)",easeInQuint:"cubic-bezier(0.755, 0.050, 0.855, 0.060)",easeOutQuint:"cubic-bezier(0.230, 1.000, 0.320, 1.000)",easeInOutQuint:"cubic-bezier(0.860, 0.000, 0.070, 1.000)",easeInSine:"cubic-bezier(0.470, 0.000, 0.745, 0.715)",easeOutSine:"cubic-bezier(0.390, 0.575, 0.565, 1.000)",easeInOutSine:"cubic-bezier(0.445, 0.050, 0.550, 0.950)",easeInBack:"cubic-bezier(0.600, -0.280, 0.735, 0.045)",easeOutBack:"cubic-bezier(0.175,  0.885, 0.320, 1.275)",easeInOutBack:"cubic-bezier(0.680, -0.550, 0.265, 1.550)",elegantSlowStartEnd:"cubic-bezier(0.175, 0.885, 0.320, 1.275)"},b=function(){function t(t,i,e,n){var r=this;if(i){var a;if(s(i)){var o=t.findAnimation(i);a=o.keyframes,n=h({},o.timings,n)}else a=i;if(n&&n.easing){var u=y[n.easing];u&&(n.easing=u)}this.duration=n.duration;var c=p(e);this._animators=f(c,"animate",[a,n]),this._animators.length>0&&(this._animators[0].onfinish=function(){r.finish()})}}return Object.defineProperty(t.prototype,"playbackRate",{get:function(){var t=i(this._animators);return t?t.playbackRate:0},set:function(t){o(this._animators,function(i){return i.playbackRate=t})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentTime",{get:function(){return u(this._animators,"currentTime")||0},set:function(t){o(this._animators,function(i){return i.currentTime=t})},enumerable:!0,configurable:!0}),t.prototype.finish=function(t){var i=this;return f(this._animators,"finish",[],t),this.playbackRate<0?o(this._animators,function(t){return t.currentTime=0}):o(this._animators,function(t){return t.currentTime=i.duration}),n(this.onfinish)&&this.onfinish(this),this},t.prototype.play=function(t){return f(this._animators,"play",[],t),this},t.prototype.pause=function(t){return f(this._animators,"pause",[],t),this},t.prototype.reverse=function(t){return f(this._animators,"reverse",[],t),this},t.prototype.cancel=function(t){return f(this._animators,"cancel",[],t),o(this._animators,function(t){return t.currentTime=0}),n(this.oncancel)&&this.oncancel(this),this},t}(),d=function(){function i(i,e){var n=c(e.steps,function(t){if(t.command||!t.name)return t;var e=i.findAnimation(t.name),n=h({},e.timings);return t.timings&&(n=h(n,t.timings)),{el:t.el,keyframes:e.keyframes,timings:e.timings}});this.onfinish=t,this._currentIndex=-1,this._manager=i,this._steps=n,e.autoplay===!0&&this.play()}return Object.defineProperty(i.prototype,"currentTime",{get:function(){var t=this._currentIndex,i=this._steps.length;if(-1===t||t===i)return 0;for(var e,n=-1===this.playbackRate,r=0,s=0,a=0;i>a;a++){var o=this._steps[a];t>a?r+=o.timings.duration:a>t?s+=o.timings.duration:e=n?this.duration-o.animator.currentTime:o.animator.currentTime}return e+(n?s:r)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"duration",{get:function(){return this._steps.reduce(function(t,i){return t+(i.timings.duration||0)},0)},enumerable:!0,configurable:!0}),i.prototype.finish=function(t){this._errorCallback=t,this._currentIndex=-1;for(var i=0;i<this._steps.length;i++){var e=this._steps[i];void 0!==e.animator&&e.animator.cancel(t)}return n(this.onfinish)&&this.onfinish(this),this},i.prototype.play=function(t){return this._errorCallback=t,this.playbackRate=1,this._playThisStep(),this},i.prototype.pause=function(t){if(this._errorCallback=t,!this._isInEffect())return this;var i=this._getAnimator();return i.pause(t),this},i.prototype.reverse=function(t){return this._errorCallback=t,this.playbackRate=-1,this._playThisStep(),this},i.prototype.cancel=function(t){this._errorCallback=t,this.playbackRate=void 0,this._currentIndex=-1;for(var i=0;i<this._steps.length;i++){var e=this._steps[i];void 0!==e.animator&&e.animator.cancel(t)}return n(this.oncancel)&&this.oncancel(this),this},i.prototype._isInEffect=function(){return this._currentIndex>-1&&this._currentIndex<this._steps.length},i.prototype._getAnimator=function(){var t=this._steps[this._currentIndex];return t.animator?t.animator:(t.animator=this._manager.animate(t.keyframes,t.el,t.timings),t.animator)},i.prototype._playNextStep=function(t){-1===this.playbackRate?this._currentIndex--:this._currentIndex++,this._isInEffect()?this._playThisStep():this.onfinish(t)},i.prototype._playThisStep=function(){var t=this;this._isInEffect()||(-1===this.playbackRate?this._currentIndex=this._steps.length-1:this._currentIndex=0);var i=this._getAnimator();i.onfinish=function(i){t._playNextStep(i)},i.play(this._errorCallback)},i}(),g=1/30,v=function(){function t(t,i){var e=i.duration;if(void 0===e)throw Error("Duration is required");this.playbackRate=0,this.duration=i.duration,this.currentTime=0,this._events=c(i.events,function(i){return new k(t,e,i)}),this._isPaused=!1,this._manager=t,this._tick=this._tick.bind(this),i.autoplay&&this.play()}return t.prototype.finish=function(t){return this._isFinished=!0,this},t.prototype.play=function(t){return this.playbackRate=1,this._isPaused=!1,this._isInEffect?this:(this.playbackRate<0?this.currentTime=this.duration:this.currentTime=0,window.requestAnimationFrame(this._tick),this)},t.prototype.pause=function(t){return this._isInEffect&&(this._isPaused=!0),this},t.prototype.reverse=function(t){return this.playbackRate=-1,this._isPaused=!1,this._isInEffect?this:(this.currentTime<=0&&(this.currentTime=this.duration),window.requestAnimationFrame(this._tick),this)},t.prototype.cancel=function(t){return this.playbackRate=0,this._isCanceled=!0,this},t.prototype._tick=function(){var t=this;if(this._isCanceled)return void this._triggerCancel();if(this._isFinished)return void this._triggerFinish();if(this._isPaused)return void this._triggerPause();this._isInEffect||(this._isInEffect=!0);var i=performance.now(),e=this._lastTick;if(void 0!==e){var n=(i-e)*this.playbackRate;this.currentTime+=n}return this._lastTick=i,this.currentTime>this.duration||this.currentTime<0?void this._triggerFinish():(o(this._events,function(i){var e=t.playbackRate<0?i.startTimeMs:i.startTimeMs+g,n=t.playbackRate>=0?i.endTimeMs:i.endTimeMs-g,r=e<=t.currentTime&&t.currentTime<n;return r?(i.animator.playbackRate=t.playbackRate,i.isInEffect=!0,void i.animator.play()):void(i.isInEffect=!1)}),void window.requestAnimationFrame(this._tick))},t.prototype._triggerFinish=function(){this._reset(),o(this._events,function(t){return t.animator.finish()}),n(this.onfinish)&&this.onfinish(this)},t.prototype._triggerCancel=function(){this._reset(),o(this._events,function(t){return t.animator.cancel()}),n(this.oncancel)&&this.oncancel(this)},t.prototype._triggerPause=function(){this._isPaused=!0,this._isInEffect=!1,this._lastTick=void 0,this.playbackRate=0,o(this._events,function(t){t.isInEffect=!1,t.animator.pause()})},t.prototype._reset=function(){this.currentTime=0,this._lastTick=void 0,this._isCanceled=!1,this._isFinished=!1,this._isPaused=!1,this._isInEffect=!1,o(this._events,function(t){t.isInEffect=!1})},t}(),k=function(){function t(t,i,e){var n,r,s;if(e.name){var a=t.findAnimation(e.name),o=h({},a.timings);e.timings&&(r=h(o,e.timings)),n=a.keyframes,r=o,s=e.el}else n=e.keyframes,r=e.timings,s=e.el;var u=i*e.offset,c=u+r.duration,f=c>i;f&&(c=i),this.el=s,this.isClipped=f,this.isInEffect=!1,this.endTimeMs=c,this.keyframes=n,this.offset=e.offset,this.startTimeMs=u,this.timings=r,this._manager=t}return Object.defineProperty(t.prototype,"animator",{get:function(){return void 0===this._animator&&(this._animator=this._manager.animate(this.keyframes,this.el,this.timings),this._animator.pause()),this._animator},enumerable:!0,configurable:!0}),t}(),I=[],T=function(){function t(){var t=this;this._timings={duration:1e3,fill:"both"},this._registry={},o(I,function(i){t._registry[i.name]=i})}return t.inject=function(t){Array.prototype.push.apply(I,t)},t.prototype.animate=function(t,i,e){return new b(this,t,i,e)},t.prototype.animateSequence=function(t){return new d(this,t)},t.prototype.animateTimeline=function(t){return new v(this,t)},t.prototype.findAnimation=function(t){return this._registry[t]||void 0},t.prototype.register=function(t){return this._registry[t.name]=t,this},t}();"undefined"!=typeof angular&&angular.module("just.animate",[]).service("just",T);var z=void 0,E={animate:function(t,i,e){return m().animate(t,i,e)},animateSequence:function(t){return m().animateSequence(t)},animateTimeline:function(t){return m().animateTimeline(t)},findAnimation:function(t){return m().findAnimation(t)},inject:function(t){void 0!==z&&console.warn("Animations must be injected prior to using Just.*"),T.inject(t)},register:function(t){return m().register(t)}};window.Just=E}();