!function(e){e.jstree.plugin("grid",{__init:function(){var t=this._get_settings().grid||{};this.data.grid.columns=t.columns||[],this.data.grid.treeClass="jstree-grid",this.data.grid.columnWidth=t.width,this._prepare_wrapper(),e("<link/>").attr({rel:"stylesheet",type:"text/css",href:"treegrid.css"}).appendTo(e("head",e(document))),this.get_container().bind("open_node.jstree create_node.jstree clean_node.jstree",e.proxy(function(e,t){this._prepare_grid(t.rslt.obj)},this)).bind("loaded.jstree",e.proxy(function(e){this._prepare_headers(),this._prepare_grid()},this))},defaults:{width:25},_fn:{_prepare_wrapper:function(){var t,i=this.get_container(),a=i.parent();t=e("<div></div>").addClass("jstree-grid-header"),e("<div></div>").appendTo(a).append(t).append(i),this.data.grid.divOffset=t.parent().offset().left,this.data.grid.header=t},_prepare_headers:function(){var t,i,a,d,r,s,n,l,h,o=this.data.grid.columns||[],p=this.data.grid.columnWidth;for(t=this.data.grid.header,i=0;i<o.length;i++)d=o[i].headerClass||"",r=o[i].header||"",a=o[i].width||p,a-=10,s=0===i?3:0,n=e("<div></div>").css({display:"inline-block",width:a,overflow:"hidden","margin-left":s,padding:"1 3 2 5"}).addClass("jstree-grid-header "+d).text(r).appendTo(t);n.addClass("jstree-grid-header-last"),h=t.height(),l=obj.height(),obj.height(l-h)},_prepare_grid:function(t){var i,a,d,r=this.data.grid.treeClass,s=this,n=this.data.grid.columns||[],l=this.data.grid.columnWidth;this.data.grid.divOffset;t=t&&-1!=t?this._get_node(t):this.get_container(),t.each(function(){var t,h,o,p,g,c;if(i=e(this),p=i.children("a:not(."+r+")"),1===p.length){for(p.addClass(r),d=p.parentsUntil(s.get_container()).filter("li").length,a=n[0].width-18*d,p.css({width:a,overflow:"hidden"}),g=p,t=1;t<n.length;t++)o=n[t].cellClass||"",h=n[t].value&&i.attr(n[t].value)?i.attr(n[t].value):"",c=n[t].valueClass&&i.attr(n[t].valueClass)?i.attr(n[t].valueClass):"",c&&n[t].valueClassPrefix&&""!==n[t].valueClassPrefix&&(c=n[t].valueClassPrefix+c),a=n[t].width||l,a-=4,g=e("<div></div>").css({display:"inline-block",width:a,overflow:"hidden","padding-left":"4px"}).addClass("jstree-grid-cell "+o+" "+c).text(h).insertAfter(g);g.addClass("jstree-grid-cell-last")}}),t.is("li")?this._repair_state(t):t.find("> ul > li").each(function(){s._repair_state(this)})}}})}(jQuery);
//# sourceMappingURL=jstreegrid.min.js.map