!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof exports?exports.VueFire=r():e.VueFire=r()}(this,function(){return function(e){function r(n){if(i[n])return i[n].exports;var t=i[n]={exports:{},id:n,loaded:!1};return e[n].call(t.exports,t,t.exports,r),t.loaded=!0,t.exports}var i={};return r.m=e,r.c=i,r.p="",r(0)}([function(e,r){function i(e){return"[object Object]"===Object.prototype.toString.call(e)}function n(e){var r=e.val(),i=r&&"object"==typeof r?r:{".value":r};return i[".key"]=e.key(),i}function t(e,r){for(var i=0;i<e.length;i++)if(e[i][".key"]===r)return i;return-1}function o(e,r,n,t){if(!i(t))throw new Error("Invalid Firebase binding source");var o=!1,c=null;i(t.source)&&(o=t.asArray,c=t.cancelCallback,t=t.source);var a=t;"function"==typeof t.ref&&(a=t.ref()),e.$firebaseRefs[n]=a,e._firebaseSources[n]=t,o?s(e,r,n,t,c):f(e,r,n,t,c)}function s(e,r,i,o,s){var f=r[i]=[],c=o.on("child_added",function(e,r){var i=r?t(f,r)+1:0;f.splice(i,0,n(e))},s),a=o.on("child_removed",function(e){var r=t(f,e.key());f.splice(r,1)},s),u=o.on("child_changed",function(e){var r=t(f,e.key());f.splice(r,1,n(e))},s),l=o.on("child_moved",function(e,r){var i=t(f,e.key()),n=f.splice(i,1)[0],o=r?t(f,r)+1:0;f.splice(o,0,n)},s);e._firebaseListeners[i]={child_added:c,child_removed:a,child_changed:u,child_moved:l}}function f(e,r,i,n,t){r[i]={};var o=n.on("value",function(r){e[i]=r.val()},t);e._firebaseListeners[i]={value:o}}function c(e,r){var i=e._firebaseSources[r],n=e._firebaseListeners[r];for(var t in n)i.off(t,n[t])}function a(e){e.mixin(u)}var u={init:function(){var e=this.$options.firebase;if(e){this.$firebaseRefs=Object.create(null),this._firebaseSources=Object.create(null),this._firebaseListeners=Object.create(null);var r=this,i=this.$options.data;this.$options.data=function(){var n=i();for(var t in e)o(r,n,t,e[t]);return n}}},beforeDestroy:function(){for(var e in this.$firebaseRefs)c(this,e);this.$firebaseRefs=null,this._firebaseSources=null,this._firebaseListeners=null}};"undefined"!=typeof window&&window.Vue&&a(window.Vue),e.exports=a}])});