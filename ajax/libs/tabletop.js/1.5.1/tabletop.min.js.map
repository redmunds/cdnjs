{"version":3,"sources":["tabletop.js"],"names":["inNodeJS","process","browser","request","require","trim","supportsCORS","inLegacyIE","testXHR","XMLHttpRequest","withCredentials","window","e","indexOfProto","Array","prototype","indexOf","ttIndexOf","array","item","i","l","length","Tabletop","options","this","key","callback","wanted","simpleSheet","parseNumbers","wait","reverse","postProcess","debug","query","orderby","endpoint","singleton","simpleUrl","simple_url","callbackContext","prettyColumnNames","proxy","replace","parameterize","log","test","match","models","modelNames","model_names","baseJsonPath","fetch","callbacks","init","sheets","requestData","loadSheets","path","serverSideFetch","protocol","split","shift","location","injectScript","xhrFetch","xhr","XDomainRequest","open","self","onload","json","JSON","parse","responseText","console","error","call","send","callbackName","script","document","createElement","loadSheet","Date","Math","floor","random","args","slice","arguments","apply","parentNode","removeChild","url","src","encodeURIComponent","getElementsByTagName","appendChild","err","resp","body","isWanted","sheetName","data","all","addWanted","sheet","push","ilen","toLoad","googleSheetName","feed","title","$t","foundSheetNames","entry","content","linkIdx","link","sheetId","href","pop","jsonPath","toLowerCase","sheetsToLoad","sheetReady","model","name","doCallback","that","Model","tabletop","onReady","Function","j","jlen","columnNames","column_names","elements","raw","originalColumns","original_columns","source","element","cell","isNaN","undefined","rowNumber","fetchPrettyColumns","ready","cellurl","loadPrettyColumns","prettyColumns","pretty_columns","prettifyElements","prettyElements","orderedPrettyNames","newElement","newColumnName","toArray","row","module","exports","define","amd"],"mappings":"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","file":"tabletop.min.js"}