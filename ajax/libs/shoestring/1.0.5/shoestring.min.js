!function(t){"function"==typeof define&&define.amd?define(["shoestring"],t):"object"==typeof module&&module.exports?module.exports=t():t()}(function(){function t(e,n){var r,i=typeof e,o=[];if(!e)return new c(o);if(e.call)return t.ready(e);if(e.constructor===c&&!n)return e;if("string"===i&&0===e.indexOf("<")){var s=h.createElement("div");return s.innerHTML=e,t(s).children().each(function(){s.removeChild(this)})}return"string"===i?n?t(n).find(e):(r=h.querySelectorAll(e),new c(r,e)):"[object Array]"===Object.prototype.toString.call(i)||a.NodeList&&e instanceof a.NodeList?new c(e,e):e.constructor===Array?new c(e,e):new c([e],e)}function e(t,e){var n=!1;return t.each(function(){for(var t=0;t<e.length;)this===e[t]&&(n=!0),t++}),n}function n(t,e){t.shoestringData||(t.shoestringData={}),t.shoestringData.events||(t.shoestringData.events={}),t.shoestringData.loop||(t.shoestringData.loop={}),t.shoestringData.events[e]||(t.shoestringData.events[e]=[])}function r(t,e,n){var r={};r.isCustomEvent=n.isCustomEvent,r.callback=n.callfunc,r.originalCallback=n.originalCallback,r.namespace=n.namespace,t.shoestringData.events[e].push(r),n.customEventLoop&&(t.shoestringData.loop[e]=n.customEventLoop)}function i(t,e){if(!t.addEventListener&&t.shoestringData&&t.shoestringData.events)for(var n=t.shoestringData.events[e]||[],r=n.length-1;r>=0;r--)n[r].isCustomEvent||(t.detachEvent("on"+e,n[r].callback),t.attachEvent("on"+e,n[r].callback))}function o(t,e,n){var r=this.shoestringData.events[t];if(r&&r.length){var i,o,s=[];for(i=0,o=r.length;o>i;i++)e&&e!==r[i].namespace||void 0!==n&&n!==r[i].originalCallback||("removeEventListener"in a?this.removeEventListener(t,r[i].callback,!1):this.detachEvent&&(this.detachEvent("on"+t,r[i].callback),1===r.length&&this.shoestringData.loop&&this.shoestringData.loop[t]&&h.documentElement.detachEvent("onpropertychange",this.shoestringData.loop[t])),s.push(i));for(i=0,o=s.length;o>i;i++)this.shoestringData.events[t].splice(i,1)}}function s(t,e){for(var n in this.shoestringData.events)o.call(this,n,t,e)}var a="undefined"!=typeof window?window:this,h=a.document,c=function(e,n){this.length=0,this.selector=n,t.merge(this,e)};c.prototype.reverse=[].reverse,t.fn=c.prototype,t.Shoestring=c,t.extend=function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},t.merge=function(t,e){var n,r,i;for(n=+e.length,r=0,i=t.length;n>r;r++)t[i++]=e[r];return t.length=i,t},a.shoestring=t;var u=function(){try{return new XMLHttpRequest}catch(t){return new ActiveXObject("Microsoft.XMLHTTP")}};t.ajax=function(e,n){var r,i,o="",s=u();if(r=t.extend({},t.ajax.settings),n&&t.extend(r,n),e||(e=r.url),s&&e){if(r.data)for(i in r.data)r.data.hasOwnProperty(i)&&(""!==o&&(o+="&"),o+=encodeURIComponent(i)+"="+encodeURIComponent(r.data[i]));if("GET"===r.method&&o&&(e+="?"+o),s.open(r.method,e,r.async),s.setRequestHeader){s.setRequestHeader("X-Requested-With","XMLHttpRequest"),"POST"===r.method&&o&&s.setRequestHeader("Content-type","application/x-www-form-urlencoded");for(i in r.headers)r.headers.hasOwnProperty(i)&&s.setRequestHeader(i,r.headers[i])}return s.onreadystatechange=function(){if(4===s.readyState){var t=(s.responseText||"").replace(/^\s+|\s+$/g,"");if(0===s.status.toString().indexOf("0"))return r.cancel(t,s.status,s);if(s.status.toString().match(/^(4|5)/)&&RegExp.$1)return r.error(t,s.status,s);if(r.success)return r.success(t,s.status,s)}},4===s.readyState?s:("POST"===r.method&&o?s.send(o):s.send(),s)}},t.ajax.settings={success:function(){},error:function(){},cancel:function(){},method:"GET",async:!0,data:null,headers:{}},t.get=function(e,n){return t.ajax(e,{success:n})},t.fn.load=function(e,n){var r=this,i=arguments,o=function(e){r.each(function(){t(this).html(e)}),n&&n.apply(r,i)};return t.ajax(e,{success:o}),this},t.post=function(e,n,r){return t.ajax(e,{data:n,method:"POST",success:r})},t.fn.each=function(e){return t.each(this,e)},t.each=function(t,e){for(var n,r=0,i=t.length;i>r&&(n=e.call(t[r],r,t[r]),n!==!1);r++);return t},t.inArray=function(t,e){for(var n=-1,r=0,i=e.length;i>r;r++)e.hasOwnProperty(r)&&e[r]===t&&(n=r);return n},t.ready=function(t){return f&&t?t.call(h):t?l.push(t):p(),[h]},t.fn.ready=function(e){return t.ready(e),this};var f=!1,l=[],p=function(){if(!f){for(;l.length;)l.shift().call(h);f=!0}};a.addEventListener||(a.addEventListener=function(t,e){return a.attachEvent("on"+t,e)}),(h.attachEvent?"complete"===h.readyState:"loading"!==h.readyState)?p():(h.addEventListener?(h.addEventListener("DOMContentLoaded",p,!1),h.addEventListener("readystatechange",p,!1)):(h.attachEvent("DOMContentLoaded",p),h.attachEvent("onreadystatechange",p)),a.addEventListener("load",p,!1)),t.fn.is=function(n){var r,i,o=!1,s=this;return"string"!=typeof n?(i=n.length&&n[0]?n:[n],e(this,i)):(r=this.parent(),r.length||(r=t(h)),r.each(function(t,r){var i;i=r.querySelectorAll(n),o=e(s,i)}),o)},t.fn.data=function(t,e){return void 0===t?this[0]?this[0].shoestringData||{}:void 0:void 0!==e?this.each(function(){this.shoestringData||(this.shoestringData={}),this.shoestringData[t]=e}):this[0]&&this[0].shoestringData?this[0].shoestringData[t]:void 0},t.fn.removeData=function(t){return this.each(function(){void 0!==t&&this.shoestringData?(this.shoestringData[t]=void 0,delete this.shoestringData[t]):this[0].shoestringData={}})},a.$=t,t.fn.addClass=function(t){var e=t.replace(/^\s+|\s+$/g,"").split(" ");return this.each(function(){for(var t=0,n=e.length;n>t;t++)void 0===this.className||""!==this.className&&this.className.match(new RegExp("(^|\\s)"+e[t]+"($|\\s)"))||(this.className+=" "+e[t])})},t.fn.add=function(e){var n=[];return this.each(function(){n.push(this)}),t(e).each(function(){n.push(this)}),t(n)},t.fn.after=function(e){return"string"!=typeof e&&void 0===e.nodeType||(e=t(e)),e.length>1&&(e=e.reverse()),this.each(function(t){for(var n=0,r=e.length;r>n;n++){var i=t>0?e[n].cloneNode(!0):e[n];this.parentNode.insertBefore(i,this.nextSibling)}})},t.fn.append=function(e){return"string"!=typeof e&&void 0===e.nodeType||(e=t(e)),this.each(function(t){for(var n=0,r=e.length;r>n;n++)this.appendChild(t>0?e[n].cloneNode(!0):e[n])})},t.fn.appendTo=function(e){return this.each(function(){t(e).append(this)})},t.fn.attr=function(t,e){var n="string"==typeof t;return void 0===e&&n?this[0]?this[0].getAttribute(t):void 0:this.each(function(){if(n)this.setAttribute(t,e);else for(var r in t)t.hasOwnProperty(r)&&this.setAttribute(r,t[r])})},t.fn.before=function(e){return"string"!=typeof e&&void 0===e.nodeType||(e=t(e)),this.each(function(t){for(var n=0,r=e.length;r>n;n++)this.parentNode.insertBefore(t>0?e[n].cloneNode(!0):e[n],this)})},t.fn.children=function(){var e,n,r=[];return this.each(function(){for(e=this.children,n=-1;n++<e.length-1;)-1===t.inArray(e[n],r)&&r.push(e[n])}),t(r)},t.fn.clone=function(){var e=[];return this.each(function(){e.push(this.cloneNode(!0))}),t(e)},t.fn.closest=function(e){var n=[];return e?(this.each(function(){var r,i=t(r=this);if(i.is(e))return void n.push(this);for(;r.parentElement;){if(t(r.parentElement).is(e)){n.push(r.parentElement);break}r=r.parentElement}}),t(n)):t(n)},t.cssExceptions={"float":["cssFloat","styleFloat"]},function(){function t(e,n,r){e.document;var i,o=e.currentStyle[n].match(/([\d\.]+)(%|cm|em|in|mm|pc|pt|)/)||[0,0,""],s=o[1],a=o[2];return r=r?/%|em/.test(a)&&e.parentElement?t(e.parentElement,"fontSize",null):16:r,i="fontSize"===n?r:/width/i.test(n)?e.clientWidth:e.clientHeight,"%"===a?s/100*i:"cm"===a?.3937*s*96:"em"===a?s*r:"in"===a?96*s:"mm"===a?.3937*s*96/10:"pc"===a?12*s*96/72:"pt"===a?96*s/72:s}function e(t,e){var n="border"===e?"Width":"",r=e+"Top"+n,i=e+"Right"+n,o=e+"Bottom"+n,s=e+"Left"+n;t[e]=(t[r]===t[i]&&t[r]===t[o]&&t[r]===t[s]?[t[r]]:t[r]===t[o]&&t[s]===t[i]?[t[r],t[i]]:t[s]===t[i]?[t[r],t[i],t[o]]:[t[r],t[i],t[o],t[s]]).join(" ")}function n(n){var r,i=this,o=n.currentStyle,s=t(n,"fontSize"),a=function(t){return"-"+t.toLowerCase()};for(r in o)if(Array.prototype.push.call(i,"styleFloat"===r?"float":r.replace(/[A-Z]/,a)),"width"===r)i[r]=n.offsetWidth+"px";else if("height"===r)i[r]=n.offsetHeight+"px";else if("styleFloat"===r)i["float"]=o[r];else if(/margin.|padding.|border.+W/.test(r)&&"auto"!==i[r])i[r]=Math.round(t(n,r,s))+"px";else if(/^outline/.test(r))try{i[r]=o[r]}catch(h){i.outlineColor=o.color,i.outlineStyle=i.outlineStyle||"none",i.outlineWidth=i.outlineWidth||"0px",i.outline=[i.outlineColor,i.outlineWidth,i.outlineStyle].join(" ")}else i[r]=o[r];e(i,"margin"),e(i,"padding"),e(i,"border"),i.fontSize=Math.round(s)+"px"}n.prototype={constructor:n,getPropertyPriority:function(){throw new Error("NotSupportedError: DOM Exception 9")},getPropertyValue:function(t){return this[t.replace(/-\w/g,function(t){return t[1].toUpperCase()})]},item:function(t){return this[t]},removeProperty:function(){throw new Error("NoModificationAllowedError: DOM Exception 7")},setProperty:function(){throw new Error("NoModificationAllowedError: DOM Exception 7")},getPropertyCSSValue:function(){throw new Error("NotSupportedError: DOM Exception 9")}},a.getComputedStyle||(a.getComputedStyle=function(t){return new n(t)},a.Window&&(a.Window.prototype.getComputedStyle=a.getComputedStyle))}(),function(){function e(t){return t.replace(/\-([A-Za-z])/g,function(t,e){return e.toUpperCase()})}function n(t,e){return a.getComputedStyle(t,null).getPropertyValue(e)}var r=t.cssExceptions,i=["","-webkit-","-ms-","-moz-","-o-","-khtml-"];t._getStyle=function(t,o){var s,a,h,c;if(r[o])for(h=0,c=r[o].length;c>h;h++)if(a=n(t,r[o][h]))return a;for(h=0,c=i.length;c>h;h++)if(s=e(i[h]+o),a=n(t,s),s!==o&&(a=a||n(t,o)),i[h]&&(a=a||n(t,i[h]+o)),a)return a}}(),function(){function e(t){return t.replace(/\-([A-Za-z])/g,function(t,e){return e.toUpperCase()})}var n=t.cssExceptions;t._setStyle=function(t,r,i){var o=e(r);if(t.style[r]=i,o!==r&&(t.style[o]=i),n[r])for(var s=0,a=n[r].length;a>s;s++)t.style[n[r][s]]=i}}(),t.fn.css=function(e,n){return this[0]?"object"==typeof e?this.each(function(){for(var n in e)e.hasOwnProperty(n)&&t._setStyle(this,n,e[n])}):void 0!==n?this.each(function(){t._setStyle(this,e,n)}):t._getStyle(this[0],e):void 0},t.fn.eq=function(e){return t(this[e]?this[e]:[])},t.fn.filter=function(e){var n=[];return this.each(function(r){var i;if("function"==typeof e)e.call(this,r)!==!1&&n.push(this);else{if(this.parentNode)i=t(e,this.parentNode);else{var o=t(h.createDocumentFragment());o[0].appendChild(this),i=t(e,o)}t.inArray(this,i)>-1&&n.push(this)}}),t(n)},t.fn.find=function(e){var n,r=[];return this.each(function(){n=this.querySelectorAll(e);for(var t=0,i=n.length;i>t;t++)r=r.concat(n[t])}),t(r)},t.fn.first=function(){return this.eq(0)},t.fn.get=function(t){if(void 0===t){for(var e=[],n=0;n<this.length;n++)e.push(this[n]);return e}return this[t]},t._dimension=function(t,e,n){var r;return void 0===n?(r=e.replace(/^[a-z]/,function(t){return t.toUpperCase()}),t[0]["offset"+r]):(n="string"==typeof n?n:n+"px",t.each(function(){this.style[e]=n}))},t.fn.height=function(e){return t._dimension(this,"height",e)};var d=function(t){if("string"==typeof t||"number"==typeof t)return this.each(function(){this.innerHTML=""+t});var e="";if("undefined"!=typeof t.length)for(var n=0,r=t.length;r>n;n++)e+=t[n].outerHTML;else e=t.outerHTML;return this.each(function(){this.innerHTML=e})};t.fn.html=function(t){if("undefined"!=typeof t)return d.call(this,t);var e="";return this.each(function(){e+=this.innerHTML}),e},function(){function e(t,e){var n,r,i;for(n=r=0;n<t.length;n++){if(i=t.item?t.item(n):t[n],e(i))return r;1===i.nodeType&&r++}return-1}t.fn.index=function(n){var r,i;return r=this,void 0===n?(i=(this[0]&&this[0].parentNode||h.documentElement).childNodes,e(i,function(t){return r[0]===t})):e(r,function(e){return e===t(n,e.parentNode)[0]})}}(),t.fn.insertAfter=function(e){return this.each(function(){t(e).after(this)})},t.fn.insertBefore=function(e){return this.each(function(){t(e).before(this)})},t.fn.last=function(){return this.eq(this.length-1)},t.fn.next=function(){var e=[];return this.each(function(){var n,r,i;n=t(this.parentNode)[0].childNodes;for(var o=0;o<n.length;o++){if(r=n.item(o),i&&1===r.nodeType){e.push(r);break}r===this&&(i=!0)}}),t(e)},t.fn.not=function(e){var n=[];return this.each(function(){var r=t(e,this.parentNode);-1===t.inArray(this,r)&&n.push(this)}),t(n)},t.fn.offset=function(){return{top:this[0].offsetTop,left:this[0].offsetLeft}},t.fn.parent=function(){var e,n=[];return this.each(function(){e=this===h.documentElement?h:this.parentNode,e&&11!==e.nodeType&&n.push(e)}),t(n)},t.fn.parents=function(e){var n=[];return this.each(function(){for(var r,i=this;i.parentElement&&!r;)i=i.parentElement,e?i===t(e)[0]&&(r=!0,-1===t.inArray(i,n)&&n.push(i)):-1===t.inArray(i,n)&&n.push(i)}),t(n)},t.fn.prepend=function(e){return"string"!=typeof e&&void 0===e.nodeType||(e=t(e)),this.each(function(t){for(var n=0,r=e.length;r>n;n++){var i=t>0?e[n].cloneNode(!0):e[n];this.firstChild?this.insertBefore(i,this.firstChild):this.appendChild(i)}})},t.fn.prependTo=function(e){return this.each(function(){t(e).prepend(this)})},t.fn.prev=function(){var e=[];return this.each(function(){var n,r,i;n=t(this.parentNode)[0].childNodes;for(var o=n.length-1;o>=0;o--){if(r=n.item(o),i&&1===r.nodeType){e.push(r);break}r===this&&(i=!0)}}),t(e)},t.fn.prevAll=function(){var e=[];return this.each(function(){for(var n=t(this).prev();n.length;)e.push(n[0]),n=n.prev()}),t(e)},t.propFix={"class":"className",contenteditable:"contentEditable","for":"htmlFor",readonly:"readOnly",tabindex:"tabIndex"},t.fn.prop=function(e,n){return this[0]?(e=t.propFix[e]||e,void 0!==n?this.each(function(){this[e]=n}):this[0][e]):void 0},t.fn.removeAttr=function(t){return this.each(function(){this.removeAttribute(t)})},t.fn.removeClass=function(t){var e=t.replace(/^\s+|\s+$/g,"").split(" ");return this.each(function(){for(var t,n,r=0,i=e.length;i>r;r++)void 0!==this.className&&(n=new RegExp("(^|\\s)"+e[r]+"($|\\s)","gmi"),t=this.className.replace(n," "),this.className=t.replace(/^\s+|\s+$/g,""))})},t.fn.remove=function(){return this.each(function(){this.parentNode&&this.parentNode.removeChild(this)})},t.fn.removeProp=function(e){var n=t.propFix[e]||e;return this.each(function(){this[n]=void 0,delete this[n]})},t.fn.replaceWith=function(e){"string"==typeof e&&(e=t(e));var n=[];return e.length>1&&(e=e.reverse()),this.each(function(t){var r,i=this.cloneNode(!0);if(n.push(i),this.parentNode)if(1===e.length)r=t>0?e[0].cloneNode(!0):e[0],this.parentNode.replaceChild(r,this);else{for(var o=0,s=e.length;s>o;o++)r=t>0?e[o].cloneNode(!0):e[o],this.parentNode.insertBefore(r,this.nextSibling);this.parentNode.removeChild(this)}}),t(n)},t.inputTypes=["text","hidden","password","color","date","datetime","email","month","number","range","search","tel","time","url","week"],t.inputTypeTest=new RegExp(t.inputTypes.join("|")),t.fn.serialize=function(){var e={};return t("input, select",this).each(function(){var n=this.type,r=this.name,i=this.value;t.inputTypeTest.test(n)||("checkbox"===n||"radio"===n)&&this.checked?e[r]=i:"SELECT"===this.nodeName&&(e[r]=this.options[this.selectedIndex].nodeValue)}),e},t.fn.siblings=function(){if(!this.length)return t([]);var e=[],n=this[0].parentNode.firstChild;do 1===n.nodeType&&n!==this[0]&&e.push(n),n=n.nextSibling;while(n);return t(e)};var v=function(t){var e,n="",r=0,i=t.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=v(t)}else if(3===i||4===i)return t.nodeValue}else for(;e=t[r++];)n+=v(e);return n};return t.fn.text=function(){return v(this)},t.fn.val=function(e){var n;return void 0!==e?this.each(function(){if("SELECT"===this.tagName){var n,r,i,o=this.options,s=[],a=o.length;for(s[0]=e;a--;)r=o[a],(r.selected=t.inArray(r.value,s)>=0)&&(n=!0,i=a);n?this.selectedIndex=i:this.selectedIndex=-1}else this.value=e}):(n=this[0],"SELECT"===n.tagName?n.selectedIndex<0?"":n.options[n.selectedIndex].value:n.value)},t.fn.width=function(e){return t._dimension(this,"width",e)},t.fn.wrapInner=function(e){return this.each(function(){var n=this.innerHTML;this.innerHTML="",t(this).append(t(e).html(n))})},t.fn.bind=function(e,o,s){function a(t,e,n){var r;if(!t._namespace||t._namespace===e){t.data=o,t.namespace=t._namespace;var i=function(){return!0};t.isDefaultPrevented=function(){return!1};var a=t.preventDefault,h=function(){return a?function(){t.isDefaultPrevented=i,a.call(t)}:function(){t.isDefaultPrevented=i,t.returnValue=!1}};return t.target=n||t.target||t.srcElement,t.preventDefault=h(),t.stopPropagation=t.stopPropagation||function(){t.cancelBubble=!0},r=s.apply(this,[t].concat(t._args)),r===!1&&(t.preventDefault(),t.stopPropagation()),r}}function c(e,n,r){var i=h.documentElement[e.propertyName],o=i.el,s=n;n===h&&o!==h&&(s=h.documentElement),void 0!==o&&t(o).closest(s).length&&(e._namespace=i._namespace,e._args=i._args,a.call(n,e,r,o))}"function"==typeof o&&(s=o,o=null);var u=e.split(" "),f=h.documentElement;return this.each(function(){for(var t,e,o,h=this,l=0,p=u.length;p>l;l++){var d=u[l].split("."),v=d[0],g=d.length>0?d[1]:null;t=function(t){return h.ssEventTrigger&&(t._namespace=h.ssEventTrigger._namespace,t._args=h.ssEventTrigger._args,h.ssEventTrigger=null),a.call(h,t,g)},e=null,o=null,n(this,v),"addEventListener"in this?this.addEventListener(v,t,!1):this.attachEvent&&(void 0!==this["on"+v]?this.attachEvent("on"+v,t):(e=function(){var t=v;return function(e){e.propertyName===t&&c(e,h,g)}}(),0===this.shoestringData.events[v].length&&(o=function(){var t=v;return function(e){if(h.shoestringData&&h.shoestringData.events){var n=h.shoestringData.events[t];if(n)for(var r=0,i=n.length;i>r;r++)n[r].callback(e)}}}(),f.attachEvent("onpropertychange",o)))),r(this,v,{callfunc:e||t,isCustomEvent:!!e,customEventLoop:o,originalCallback:s,namespace:g}),e||i(h,v)}})},t.fn.on=t.fn.bind,t.fn.unbind=function(t,e){var n=t?t.split(" "):[];return this.each(function(){if(this.shoestringData&&this.shoestringData.events)if(n.length)for(var t,r,i,a=0,h=n.length;h>a;a++)t=n[a].split("."),r=t[0],i=t.length>0?t[1]:null,r?o.call(this,r,i,e):s.call(this,i,e);else s.call(this)})},t.fn.off=t.fn.unbind,t.fn.one=function(e,n){var r=e.split(" ");return this.each(function(){for(var e,i={},o=t(this),s=0,a=r.length;a>s;s++)e=r[s],i[e]=function(e){var r=t(this);for(var o in i)r.unbind(o,i[o]);return n.apply(this,[e].concat(e._args))},o.bind(e,i[e])})},t.fn.triggerHandler=function(t,e){var n,r=t.split(" ")[0],i=this[0];if(h.createEvent&&i.shoestringData&&i.shoestringData.events&&i.shoestringData.events[r]){var o=i.shoestringData.events[r];for(var s in o)o.hasOwnProperty(s)&&(t=h.createEvent("Event"),t.initEvent(r,!0,!0),t._args=e,e.unshift(t),n=o[s].originalCallback.apply(t.target,e))}return n},t.fn.trigger=function(t,e){var n=t.split(" ");return this.each(function(){for(var t,r,i,o=0,s=n.length;s>o;o++){if(t=n[o].split("."),r=t[0],i=t.length>0?t[1]:null,"click"===r&&"INPUT"===this.tagName&&"checkbox"===this.type&&this.click)return this.click(),!1;if(h.createEvent){var a=h.createEvent("Event");a.initEvent(r,!0,!0),a._args=e,a._namespace=i,this.dispatchEvent(a)}else h.createEventObject&&((""+this[r]).indexOf("function")>-1?(this.ssEventTrigger={_namespace:i,_args:e},this[r]()):h.documentElement[r]={el:this,_namespace:i,_args:e})}})},t});
//# sourceMappingURL=shoestring.min.js.map