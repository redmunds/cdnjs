!function(){"use strict";Array.prototype.find||(Array.prototype.find=function(t,e){var a=Object(this);if("function"!=typeof t)throw new TypeError;for(var o=0;o<a.length;o++)if(o in a){var i=a[o];if(t.call(e,i,o,a))return i}}),$.widget("ui.tabulator",{data:[],activeData:[],selectedRows:[],selecting:!1,selectPrev:[],firstRender:!0,mouseDrag:!1,mouseDragWidth:!1,mouseDragElement:!1,mouseDragOut:!1,sortCurCol:null,sortCurDir:null,filterField:null,filterValue:null,filterType:null,paginationCurrentPage:1,paginationMaxPage:1,progressiveRenderTimer:null,progressiveRenderFill:!1,columnList:[],columnFrozenLeft:[],columnFrozenRight:[],loaderDiv:$("<div class='tablulator-loader'><div class='tabulator-loader-msg'></div></div>"),lang:{},defaultLang:{columns:{},pagination:{first:"First",first_title:"First Page",last:"Last",last_title:"Last Page",prev:"Prev",prev_title:"Prev Page",next:"Next",next_title:"Next Page"}},options:{colMinWidth:"40px",colResizable:!0,colVertAlign:"top",height:!1,fitColumns:!1,movableCols:!1,movableRows:!1,movableRowHandle:"<div></div><div></div><div></div>",locale:"en-gb",langs:{},persistentLayout:!1,persistentLayoutID:"",pagination:!1,paginationSize:!1,paginationElement:!1,paginationDataReceived:{current_page:"current_page",last_page:"last_page",data:"data"},paginationDataSent:{page:"page",size:"size",sort:"sort",sort_dir:"sort_dir",filter:"filter",filter_value:"filter_value",filter_type:"fitler_type"},paginator:!1,progressiveRender:!1,progressiveRenderSize:20,progressiveRenderMargin:200,headerFilterPlaceholder:"filter column...",tooltips:!1,tooltipsHeader:!1,columns:!1,data:!1,index:"id",sortable:!0,dateFormat:"dd/mm/yyyy",sortBy:"id",sortDir:"desc",groupBy:!1,groupStartOpen:!0,groupHeader:function(t,e,a){return t+"<span>("+e+" "+(1===e?"item":"items")+")</span>"},rowFormatter:!1,addRowPos:"bottom",selectable:"highlight",selectableCheck:function(t,e){return!0},ajaxURL:!1,ajaxParams:{},ajaxType:"get",showLoader:!0,loader:"<div class='tabulator-loading'>Loading Data</div>",loaderError:"<div class='tabulator-error'>Loading Error</div>",rowClick:function(){},rowDblClick:function(){},rowAdded:function(){},rowDeleted:function(){},rowContext:function(){},rowMoved:function(){},rowUpdated:function(){},rowSelectionChanged:function(){},cellEdited:function(){},colMoved:function(){},colTitleChanged:function(){},dataLoading:function(){},dataLoaded:function(){},dataLoadError:function(){},dataEdited:function(){},ajaxResponse:!1,dataFiltering:function(){},dataFiltered:function(){},dataSorting:function(){},dataSorted:function(){},renderStarted:function(){},renderComplete:function(){},pageLoaded:function(){},localized:function(){},tableBuilding:function(){},tableBuilt:function(){}},_create:function(){var t=this,e=t.element;t.selectedRows=[],t.selectPrev=[],t.columnList=[],t.options.columns||(t.options.columns=[]),e.is("table")?t._parseTable():t._buildElement()},_parseTable:function(){function t(t){var e=!1;return $.each(l,function(a,o){if(o.title===t)return e=o,!1}),e}var e=this,a=e.element,o=e.options,i=$("tbody tr",a),n=$("th",a),r=!1,l=o.columns;n.length?n.each(function(e){var a=$(this),n=!1,s=t(a.text());s?n=!0:s={title:a.text()},s.field||(s.field=a.text().toLowerCase().replace(" ","_")),$("td:eq("+e+")",i).data("field",s.field);var d=a.attr("width");d&&!s.width&&(s.width=d),s.field==o.index&&(r=!0),n||l.push(s)}):(n=$("tr:first td",a),n.each(function(t){var e={title:"",field:"col"+t};$("td:eq("+t+")",i).data("field",e.field);var a=$(this).attr("width");a&&(e.width=a),l.push(e)})),e.data=[],i.each(function(t){var a={};r||(a[o.index]=t),$("td",$(this)).each(function(t){a[$(this).data("field")]=$(this).html()}),e.data.push(a)});var s=$("<div></div>"),d=a.prop("attributes");$.each(d,function(){s.attr(this.name,this.value)}),a.replaceWith(s),o.data=e.data,s.tabulator(o)},_buildElement:function(){var t=this,e=t.options,a=t.element;e.tableBuilding(),t.setLocale(t.options.locale),"undefined"!=typeof e.columnLayoutCookie&&(e.persistentLayout=e.columnLayoutCookie,e.persistentLayoutID=e.columnLayoutCookieID),t.options.persistentLayout&&(t.options.persistentLayout=t.options.persistentLayout!==!0?t.options.persistentLayout:"undefined"!=typeof window.localStorage?"local":"cookie",t.options.persistentLayoutID="tabulator-"+(t.options.persistentLayoutID?t.options.persistentLayoutID:t.element.attr("id")?t.element.attr("id"):"")),e.colMinWidth=isNaN(e.colMinWidth)?e.colMinWidth:e.colMinWidth+"px",e.height&&(e.height=isNaN(e.height)?e.height:e.height+"px",a.css({height:e.height})),a.addClass("tabulator").attr("role","grid"),a.empty(),t.header=$("<div class='tabulator-header'></div>"),t.tableHolder=$("<div class='tabulator-tableHolder'></div>");var o=0;t.tableHolder.scroll(function(){var e=$(this),a=e.scrollLeft();t.header.scrollLeft(a);var i=0,n=t.header[0].scrollWidth-t.element.innerWidth();a>n?(i=a-n,t.header.css("margin-left",-i)):t.header.css("margin-left",0),t._calcFrozenColumnsPos(i+3),t.options.progressiveRender&&o!=e.scrollTop()&&o<e.scrollTop()&&e[0].scrollHeight-e.innerHeight()-e.scrollTop()<t.options.progressiveRenderMargin&&("remote"==t.options.progressiveRender?t.paginationCurrentPage<=t.paginationMaxPage&&t._renderTable(!0):t.paginationCurrentPage<t.paginationMaxPage&&(t.paginationCurrentPage++,t._renderTable(!0))),o=e.scrollTop()}),t.table=$("<div class='tabulator-table'></div>"),e.pagination&&(e.pagination===!0&&(e.pagination="local"),e.paginationElement||(e.paginationElement=$("<div class='tabulator-footer'></div>"),t.footer=e.paginationElement),t.paginator=$("<span class='tabulator-paginator'><span class='tabulator-page' data-page='first' role='button' aria-label='"+t.lang.pagination.first_title+"' title='"+t.lang.pagination.first_title+"'>"+t.lang.pagination.first+"</span><span class='tabulator-page' data-page='prev' role='button' aria-label='"+t.lang.pagination.prev_title+"' title='"+t.lang.pagination.prev_title+"'>"+t.lang.pagination.prev+"</span><span class='tabulator-pages'></span><span class='tabulator-page' data-page='next' role='button' aria-label='"+t.lang.pagination.next_title+"' title='"+t.lang.pagination.next_title+"'>"+t.lang.pagination.next+"</span><span class='tabulator-page' data-page='last' role='button' aria-label='"+t.lang.pagination.last_title+"' title='"+t.lang.pagination.last_title+"'>"+t.lang.pagination.last+"</span></span>"),t.paginator.on("click",".tabulator-page",function(){$(this).hasClass("disabled")||t.setPage($(this).data("page"))}),e.paginationElement.append(t.paginator)),e.persistentLayout?t._getPersistentCol():t._colLayout()},_setOption:function(t,e){var a=this;return!(["columns"].indexOf(t)>-1)&&($.Widget.prototype._setOption.apply(this,arguments),void(["colMinWidth","colResizable","fitColumns","movableCols","movableRows","movableRowHandle","sortable","groupBy","groupHeader","rowFormatter","selectable"].indexOf(t)>-1?a._renderTable():["height","pagination","paginationSize","tooltips"].indexOf(t)>-1?a.options.pagination?a.setPage(1):a._renderTable():["dateFormat","sortBy","sortDir"].indexOf(t)>-1?a.sortCurCol&&a.sort(a.sortCurCol,a.sortCurDir):["index"].indexOf(t)>-1?a._parseData(a.data):["paginationElement"].indexOf(t)>-1))},setLocale:function(t){function e(t,a){for(var o in t)"object"==typeof t[o]?(a[o]||(a[o]={}),e(t[o],a[o])):a[o]=t[o]}var a=this,o=!1;if(t===!0&&navigator.language&&(t=navigator.language.toLowerCase()),t)if(a.options.langs[t])o=t;else{var i=t.split("-")[0];a.options.langs[i]&&(o=i)}return a.lang=$.extend(!0,[],a.defaultLang),o&&e(a.options.langs[o],a.lang),a.options.locale=o,a.firstRender||a._updateLocaleText(),a.options.localized(o,a.lang),o},_updateLocaleText:function(){var t=this;if(t.columnList.forEach(function(e){e.field&&$(".tabulator-col[data-field="+e.field+"] .tabulator-col-title",t.header).text(t.lang.columns[e.field]||e.title)}),t.options.pagination)for(var e in t.lang.pagination){var a=e.split("_"),o=$(".tabulator-paginator .tabulator-page[data-page="+a[0]+"]",t.element);a.length>1?o.attr("title",t.lang.pagination[e]).attr("aria-label",t.lang.pagination[e]):o.text(t.lang.pagination[e])}t.redraw(!0)},getLocale:function(){var t=this;return t.options.locale},getLang:function(){var t=this,e=t.options.langs[t.options.locale];return!!e&&e},dataCount:function(){return this.data.length},redraw:function(t){var e=this;if((e.options.fitColumns||t)&&e._colRender(),e.element.innerHeight()>0){var a=$(".tabulator-loader-msg",e.loaderDiv);a.css({"margin-top":e.element.innerHeight()/2-a.outerHeight()/2})}e._calcFrozenColumnsPos(),e._styleRows(!0),t&&e._renderTable()},download:function(t,e){var a=this,o=document.createElement("a");if("function"==typeof t)o.setAttribute("href",t(a.columnList,a.activeData));else switch(t){case"csv":var i=[],n=[];a.columnList.forEach(function(t){t.field&&(i.push(t.title),n.push(t.field))});var r=[i.join(",")];a.activeData.forEach(function(t){var e=[];n.forEach(function(a){var o="object"==typeof t[a]?'"'+JSON.stringify(t[a])+'"':t[a];e.push(o)}),r.push(e.join(","))}),o.setAttribute("href","data:text/csv;charset=utf-8,"+encodeURIComponent(r.join("\n")));break;case"json":var r=JSON.stringify(a.activeData,null,"\t");o.setAttribute("href","data:application/json;charset=utf-8,"+encodeURIComponent(r));break;default:return!1}return o.setAttribute("download",e||"Tabulator."+("function"==typeof t?"txt":t)),o.style.display="none",document.body.appendChild(o),o.click(),document.body.removeChild(o),!0},_setPersistentCol:function(){function t(e){var a=[];return e.forEach(function(e){var o={field:e.field,width:e.width,visible:e.visible};e.columns&&(o.title=e.title,o.columns=t(e.columns)),a.push(o)}),a}var e=this,a=t(e.options.columns),o=JSON.stringify(a);if("cookie"==e.options.persistentLayout){var i=new Date;i.setDate(i.getDate()+1e4),document.cookie=e.options.persistentLayoutID+"="+o+"; expires="+i.toUTCString()}else localStorage.setItem(e.options.persistentLayoutID,o)},_getPersistentCol:function(){var t=this,e="";if("cookie"==t.options.persistentLayout){var a=document.cookie,o=a.indexOf(t.options.persistentLayoutID+"=");if(o>-1){a=a.substr(o);var i=a.indexOf(";");i>-1&&(a=a.substr(0,i)),e=a.replace(t.options.persistentLayoutID+"=","")}}else var e=localStorage.getItem(t.options.persistentLayoutID);e?t.setColumns(JSON.parse(e),!0):t._colLayout()},setColumns:function(t,e){function a(t,e){e.forEach(function(e,i){var n=e.columns?"group":e.field?"field":"object",r=o(t,e,n);if(r!==!1){var l=t.splice(r,1)[0];l.width=e.width,l.visible=e.visible,t.splice(i,0,l),"group"==n&&a(l.columns,e.columns)}})}function o(t,e,a){var o=!1;return $.each(t,function(t,i){switch(a){case"group":e.title===i.title&&e.columns.length===i.columns.length&&(o=t);break;case"field":e.field===i.field&&(o=t);break;case"object":e===i&&(o=t)}if(o!==!1)return!1}),o}var i=this;Array.isArray(t)&&(e?a(i.options.columns,t):i.options.columns=t,i._colLayout(!0),i.options.persistentLayout&&i._setPersistentCol())},getColumns:function(){var t=this;return t.options.columns},addColumn:function(t,e,a){var o=this;if(t){if(a){var i=o._findColumn(a);i&&i.parent.splice(e?i.index:i.index+1,0,t)}else o.options.columns.splice(e?0:o.options.columns.length+1,0,t);o.setColumns(o.options.columns)}},deleteColumn:function(t){var e=this;if(t){var a=e._findColumn(t);a&&a.parent.splice(a.index,1),e.setColumns(e.options.columns)}},_traverseColumns:function(t,e){var a=this;e=e?e:a.options.columns,$.each(e,function(e,o){o.columns?a._traverseColumns(t,o.columns):t(o)})},_findColumn:function(t,e){var a=this,o=!1;return e=e?e:a.options.columns,$.each(e,function(i,n){switch(typeof t){case"object":if(n==t)return o={parent:e,column:n,index:i},!1;break;case"function":if(t(n))return o={parent:e,column:n,index:i},!1;break;default:if(n.field==t)return o={parent:e,column:n,index:i},!1}if(n.columns){var r=a._findColumn(t,n.columns);if(r)return o=r,!1}}),o},_setColVisibility:function(t,e){var a=this;if(t){t.visible=e;var o=$(".tabulator-col[data-field="+t.field+"], .tabulator-cell[data-field="+t.field+"]",a.element);e?o.show():o.hide(),a._renderTable(),a.options.persistentLayout&&a._setPersistentCol()}},hideCol:function(t){var e=this,a=e._findColumn(t);a&&e._setColVisibility(a.column,!1)},showCol:function(t){var e=this,a=e._findColumn(t);a&&e._setColVisibility(a.column,!0)},toggleCol:function(t){var e=this,a=e._findColumn(t);a&&e._setColVisibility(a.column,!a.column.visible)},deleteRow:function(t){var e=this,a=isNaN(t)?t.data("data")[e.options.index]:t,o=isNaN(t)?t:$("[data-id="+t+"]",e.element);if(o.length){var i=o.data("data");i.tabulator_delete_row=!0;var n=e.data.find(function(t){return t.tabulator_delete_row});n&&(n=e.data.indexOf(n),n>-1&&e.data.splice(n,1)),n=e.activeData.find(function(t){return t.tabulator_delete_row}),n&&(n=e.activeData.indexOf(n),n>-1&&e.activeData.splice(n,1));var r=o.closest(".tabulator-group");if(o.remove(),e.options.groupBy){var l=$(".tabulator-row",r),s=l.length;if(s){var d=[];l.each(function(){d.push($(this).data("data"))});var c=$(".tabulator-group-header",r),u=$(".tabulator-arrow",c).clone(!0,!0);c.empty(),c.append(u).append(e.options.groupHeader(r.data("value"),s,d))}else r.remove()}e._styleRows(),e._colRender(!e.firstRender),e.options.rowDeleted(a),e.options.dataEdited(e.data)}},addRow:function(t,e){var a=this;t?t[a.options.index]=t[a.options.index]?t[a.options.index]:0:t={id:0},t=a._mutateData(t);var o=a._renderRow(t),e="undefined"==typeof e?a.options.addRowPos:e===!0||"top"===e?"top":"bottom";"top"==e?(a.activeData.unshift(t),a.table.prepend(o)):(a.activeData.push(t),a.table.append(o)),a._colRender(!a.firstRender),a._styleRows(),a.options.rowAdded(t,o),a.options.dataEdited(a.data)},updateRow:function(t,e,a){var o=this,i=isNaN(t)?t.data("data")[o.options.index]:t,n=isNaN(t)?t:$("[data-id="+t+"]",o.element);if(n.length){var r=n.data("data");if(e=o._mutateData(e),JSON.stringify(r)!==JSON.stringify(e)){for(var l in e)r[l]=e[l];var s=o._renderRow(r);n.replaceWith(s),a||(o._colRender(!o.firstRender),o._styleRows()),o.options.rowUpdated(i,e,s),a||o.options.dataEdited(o.data)}return!0}return!1},getData:function(t){var e=this,a=$.extend(!0,[],t===!0?e.activeData:e.data);return e._applyAccessors(a)},updateData:function(t){var e=this;t&&(t.forEach(function(t){e.updateRow(t[e.options.index],t,!0)}),e._colRender(!e.firstRender),e._styleRows(),e.options.dataEdited(e.data))},_applyAccessors:function(t){var e=this;return e._traverseColumns(function(a){if(a.accessor){var o="function"==typeof a.accessor?a.accessor:e.accessors[a.accessor];t.forEach(function(t,e){t[a.field]=o(t[a.field],t)})}}),t},_parsePageData:function(t,e){var a=this,o=a.options;a.paginationMaxPage=parseInt(t[o.paginationDataReceived.last_page]),a._layoutPageSelector(),a._parseData(t[o.paginationDataReceived.data],e)},_getRemotePageData:function(t){var e=this,a=e.options;if("function"==typeof a.paginator){var o=a.paginator(a.ajaxURL,e.paginationCurrentPage,a.paginationSize,a.ajaxParams);e._getAjaxData(o,{},null,t)}else{var i={};for(var n in a.ajaxParams)i[n]=a.ajaxParams[n];i[a.paginationDataSent.page]=e.paginationCurrentPage,a.paginationSize&&(i[a.paginationDataSent.size]=a.paginationSize),e.sortCurCol&&"string"==typeof e.sortCurCol.field&&(i[a.paginationDataSent.sort]=e.sortCurCol.field,i[a.paginationDataSent.sort_dir]=e.sortCurDir),e.filterField&&"string"==typeof e.filterField&&(i[a.paginationDataSent.filter]=e.filterField,i[a.paginationDataSent.filter_value]=e.filterValue,i[a.paginationDataSent.filter_type]=e.filterType),e._getAjaxData(a.ajaxURL,i,null,t)}},setData:function(t,e,a){var o=this;o.options.dataLoading(t,e),e=e?e:{},o.options.ajaxParams=e,o._showLoader(this,this.options.loader),"string"==typeof t?0==t.indexOf("{")||0==t.indexOf("[")?o._parseData(jQuery.parseJSON(t)):(o.options.ajaxURL=t,"remote"==o.options.pagination?o.setPage(1):o._getAjaxData(t,e,a)):t?o._parseData(t):this.options.ajaxURL?"remote"==o.options.pagination?o.setPage(1):o._getAjaxData(this.options.ajaxURL,e,a):o._parseData([])},clear:function(){this.table.empty(),this.data=[],this._filterData()},_getAjaxData:function(t,e,a,o){var i=this;i.options;$.ajax({url:t,type:a||i.options.ajaxType,data:e||i.options.ajaxParams,async:!0,dataType:"json",success:function(a){var n="function"==typeof i.options.ajaxResponse?i.options.ajaxResponse(t,e?e:i.options.ajaxParams,a):a;"remote"==i.options.pagination||"remote"==i.options.progressiveRender?i._parsePageData(n,o):i._parseData(n,o)},error:function(t,e,a){console.error("Tablulator ERROR (ajax get): "+t.status+" - "+a),i.options.dataLoadError(t,e,a),i._showLoader(i,i.options.loaderError)}})},_parseData:function(t,e){var a=this;if(Array.isArray(t)){var o=[];t.length&&("undefined"==typeof t[0][a.options.index]?(a.options.index="_index",$.each(t,function(t,e){o[t]=e,o[t]._index=t})):$.each(t,function(t,e){o.push(e)})),a.options.dataLoaded(o);var i=a._mutateData(o);e?(a.data=i,a.data=a.data.concat(i),a.activeData=a.activeData.concat(i),a.progressiveRenderFill&&a._renderTable(!0)):(a.data=i,a._filterData())}},_mutateData:function(t){var e=this;return e._traverseColumns(function(a){if(a.mutator&&"edit"!==a.mutateType){var o="function"==typeof a.mutator?a.mutator:e.mutators[a.mutator];Array.isArray(t)?t.forEach(function(t,e){"undefined"!=typeof t[a.field]&&(t[a.field]=o(t[a.field],"data",t))}):"undefined"!=typeof t[a.field]&&(t[a.field]=o(t[a.field],"data",t))}}),t},setFilter:function(t,e,a){var o=this;o._clearSelection(),o.options.dataFiltering(t,e,a),t?(o.filterField=t,o.filterType="undefined"==typeof a?"=":e,o.filterValue="undefined"==typeof a?e:a):(o.filterField=null,o.filterType=null,o.filterValue=null),this._filterData()},clearFilter:function(){var t=this;t.filterField=null,t.filterType=null,t.filterValue=null,this._filterData()},getFilter:function(){var t=this;if(t.filterField){var e={field:t.filterField,type:t.filterType,value:t.filterValue};return e}return!1},_filterData:function(){var t=this;t.filterField?t.activeData=t.data.filter(function(e){return t._filterRow(e)}):t.activeData=t.data,"local"==t.options.pagination&&(t.paginationMaxPage=Math.ceil(t.activeData.length/t.options.paginationSize)),t.options.dataFiltered(t.activeData,t.filterField,t.filterType,t.filterValue),t.sortCurCol&&"remote"!=t.options.pagination?t.sort(t.sortCurCol,t.sortCurDir):"local"==t.options.pagination?t.setPage(1):t._renderTable()},_filterRow:function(t){var e=this;if(!e.filterField)return!0;if("function"==typeof e.filterField)return e.filterField(t);var a=t[e.filterField],o=e.filterValue;switch(e.filterType){case"=":return a==o;case"<":return a<o;case"<=":return a<=o;case">":return a>o;case">=":return a>=o;case"!=":return a!=o;case"like":return null===a?o===a:a.toLowerCase().indexOf(o.toLowerCase())>-1;default:return!1}return!1},getSort:function(){var t=this;return{field:!!t.sortCurCol&&t.sortCurCol.field,dir:t.sortCurDir||!1}},_sortClick:function(t,e){var a=this;"desc"==e.data("sortdir")?e.data("sortdir","asc").attr("aria-sort","ascending"):e.data("sortdir","desc").attr("aria-sort","descending"),a.sort(t,e.data("sortdir"))},sort:function(t,e){var a=this,o=a.header;this.options;a._clearSelection(),Array.isArray(t)||(t=[{field:t,dir:e}]),$.each(t,function(i,n){if("string"==typeof n.field){var r=a._findColumn(n.field);r&&(n.field=r.column)}$(".tabulator-col[data-sortable=true][data-field!="+n.field.field+"]",a.header).data("sortdir","desc").attr("aria-sort","none"),$(".tabulator-col .tabulator-arrow",a.header).removeClass("asc desc");var l=$(".tabulator-col[data-field='"+n.field.field+"']",o),s=$(".tabulator-arrow",l);"asc"==e?s.removeClass("desc").addClass("asc"):s.removeClass("asc").addClass("desc"),a._sorter(n.field,n.dir,t,i)}),a.options.dataSorted(a.data,t,e),a.options.pagination?a.setPage(1):a._renderTable()},_sorter:function(t,e,a,o){var i=this,n=i.table;i.options,i.data;i.options.dataSorting(a,e),i.sortCurCol=t,i.sortCurDir=e,i._sortElement(n,t,e,a,o)},_sortElement:function(t,e,a,o,i){var n=this;n.activeData=n.activeData.sort(function(t,r){var l=n._processSorter(t,r,e,a);if(0==l&&i)for(var s=i-1;s>=0&&(l=n._processSorter(t,r,o[s].field,o[s].dir),0==l);s--);return l})},_processSorter:function(t,e,a,o){var i=this,n="asc"==o?t:e,r="asc"==o?e:t;t=n[a.field],e=r[a.field];var l="undefined"==typeof a.sorter?"string":a.sorter;return l="string"==typeof l?i.sorters[l]:l,l.call(i,t,e,n,r)},getPage:function(){var t=this;return!!t.options.pagination&&t.paginationCurrentPage},getPageMax:function(){var t=this;return!!t.options.pagination&&t.paginationMaxPage},setPage:function(t){var e=this;if(e._clearSelection(),t>0&&t<=e.paginationMaxPage)e.paginationCurrentPage=t;else switch(t){case"first":e.paginationCurrentPage=1;break;case"prev":e.paginationCurrentPage>1&&e.paginationCurrentPage--;break;case"next":e.paginationCurrentPage<e.paginationMaxPage&&e.paginationCurrentPage++;break;case"last":e.paginationCurrentPage=e.paginationMaxPage}"local"==e.options.pagination?(e._layoutPageSelector(),e._renderTable()):e._getRemotePageData()},setPageSize:function(t){var e=this;Number.isInteger(t)&&t>0&&(e.options.paginationSize=parseInt(t),e._filterData())},_layoutPageSelector:function(){var t=this,e=1,a=t.paginationMaxPage,o=$(".tabulator-pages",t.paginator);o.empty();var i=$("<span> ... </span>");t.paginationMaxPage>10&&(t.paginationCurrentPage<=4?a=5:t.paginationCurrentPage>t.paginationMaxPage-4?(e=t.paginationMaxPage-4,o.append(i.clone())):(e=t.paginationCurrentPage-2,a=t.paginationCurrentPage+2,o.append(i.clone())));for(var n=e;n<=a;++n){var r=n==t.paginationCurrentPage?"active":"";o.append("<span class='tabulator-page "+r+"' data-page='"+n+"' role='button' aria-label='Show Page "+n+"'>"+n+"</span>")}t.paginationMaxPage>10&&(t.paginationCurrentPage<=4||t.paginationCurrentPage<=t.paginationMaxPage-4)&&o.append(i.clone()),$(".tabulator-page",t.paginator).removeClass("disabled").attr("aria-disabled","false"),1==t.paginationCurrentPage&&$(".tabulator-page[data-page=first], .tabulator-page[data-page=prev]",t.paginator).addClass("disabled").attr("aria-disabled","true"),t.paginationCurrentPage==t.paginationMaxPage&&$(".tabulator-page[data-page=next], .tabulator-page[data-page=last]",t.paginator).addClass("disabled").attr("aria-disabled","true")},_renderTable:function(t){var e=this,a=e.options,o=0;e.options.renderStarted(),e._showLoader(e,e.options.loader),t||(clearTimeout(e.progressiveRenderTimer),o=e.tableHolder.scrollLeft(),e.table.empty()),a.pagination||!a.progressiveRender||t||("remote"!==a.progressiveRender?(e.paginationCurrentPage=1,e.paginationMaxPage=Math.ceil(e.activeData.length/e.options.progressiveRenderSize),a.paginationSize=a.progressiveRenderSize):a.paginationSize=e.activeData.length,t=!0);var i="local"==a.pagination||a.progressiveRender?e.activeData.slice((e.paginationCurrentPage-1)*e.options.paginationSize,(e.paginationCurrentPage-1)*e.options.paginationSize+e.options.paginationSize):e.activeData;if(i.forEach(function(t,o){var i=e._renderRow(t);if(a.groupBy){var n="function"==typeof a.groupBy?a.groupBy(t):t[a.groupBy],r=$(".tabulator-group[data-value='"+n+"']",e.table);0==r.length&&(r=e._renderGroup(n),e.table.append(r)),$(".tabulator-group-body",r).append(i)}else e.table.append(i)}),a.movableRows){var n={handle:".tabulator-row-handle",opacity:1,axis:"y",start:function(t,e){e.item.addClass("tabulator-row-moving")},stop:function(t,e){e.item.removeClass("tabulator-row-moving")},update:function(t,o){e._styleRows(),$(".tabulator-col[data-sortable=true]",e.header).data("sortdir","desc"),$(".tabulator-col .tabulator-arrow",e.header).removeClass("asc desc"),e.activeData=[],$(".tabulator-row",e.table).each(function(){e.activeData.push($(this).data("data"))}),a.rowMoved(o.item.data("id"),o.item.data("data"),o.item,o.item.prevAll(".tabulator-row").length)}};a.groupBy?$(".tabulator-group-body",e.table).sortable(n):e.table.sortable(n)}a.groupBy&&($(".tabulator-group",e.table).each(function(){e._renderGroupHeader($(this))}),e._sortElement(e.table,{},"asc",!0)),e._colRender(!e.firstRender),e._styleRows(),t&&e.paginationCurrentPage<e.paginationMaxPage&&e.tableHolder[0].scrollHeight<=e.tableHolder.innerHeight()?(e.progressiveRenderFill=!0,e.paginationCurrentPage++,"remote"==a.progressiveRender?e._getRemotePageData(!0):e._renderTable(!0)):(e._hideLoader(e),e.options.pagination&&e.options.pageLoaded(e.paginationCurrentPage),"remote"==a.progressiveRender&&(e.progressiveRenderFill=!1,e.paginationCurrentPage++,e._getRemotePageData(!0))),t||e.tableHolder.scrollLeft(o),e.firstRender&&(e.firstRender=!1,a.tableBuilt())},_renderRow:function(t){var e=this,a=$("<div class='tabulator-row' data-id='"+t[e.options.index]+"' role='row'></div>");a.data("data",t),a.on("click",function(o){e._rowClick(o,a,t)}),a.on("dblclick",function(o){e._rowDblClick(o,a,t)}),a.on("contextmenu",function(o){e._rowContext(o,a,t)});var o=function(){setTimeout(function(){e.selecting=!1},50),$("body").off("mouseup",o),$("body").off("keyup",o)};if(e.options.selectable&&"highlight"!=e.options.selectable&&(a.on("click",function(t){e.selecting||e._rowSelect(a)}),a.on("mousedown",function(t){if(t.shiftKey)return e.selecting=!0,e.selectPrev=[],$("body").on("mouseup",o),$("body").on("keyup",o),e._rowSelect($(this)),!1}),a.on("mouseenter",function(t){e.selecting&&(e._rowSelect($(this)),e.selectPrev[1]==this&&e._rowSelect($(e.selectPrev[0])))}),a.on("mouseout",function(t){e.selecting&&e.selectPrev.unshift(this)})),e.options.movableRows){var i=$("<div class='tabulator-row-handle'></div>");i.append(e.options.movableRowHandle),a.append(i)}return $.each(e.columnList,function(o,i){var n="undefined"==typeof t[i.field]?"":t[i.field];"undefined"==typeof t[i.field]&&(t[i.field]="");var r="undefined"==typeof i.align?"left":i.align,l=i.editable||i.editor?"tabindex='0'":"",s=i.visible?"inline-block":"none",d="text-align: "+r+"; display:"+s+";",c=$("<div class='tabulator-cell "+i.cssClass+"' "+l+" style='"+d+"' data-index='"+o+"' data-field='"+i.field+"' data-value='"+e._safeString(n)+"' role='gridcell'></div>");if(e._generateTooltip(c,t,i.tooltip),i.editable||i.editor){if(i.editor)var u=i.editor;else var u=e.editors[i.formatter]?i.formatter:"input";c.data("editor",u)}if(c.data("formatter",i.formatter),c.data("formatterParams",i.formatterParams),c.html(e._formatCell(i.formatter,n,t,c,a,i.formatterParams)),"function"==typeof i.onDblClick&&c.on("dblclick",function(t){e._cellDblClick(t,c)}),"function"==typeof i.onClick)c.on("click",function(t){e._cellClick(t,c)});else if(c.data("editor")&&(c.on("click",function(t){$(this).hasClass("tabulator-editing")||$(this).focus()}),c.on("focus",function(t){t.stopPropagation();var a="string"==typeof c.data("editor")?e.editors[c.data("editor")]:c.data("editor"),o=a.call(e,c,c.data("value"),c.closest(".tabulator-row").data("data"));o!==!1?(c.addClass("tabulator-editing"),c.empty(),c.append(o),c.children().click(function(t){t.stopPropagation()})):c.blur()}),i.mutator&&"data"!==i.mutateType)){var p="function"==typeof i.mutator?i.mutator:e.mutators[i.mutator];c.data("mutator",p)}a.append(c)}),a},_renderGroup:function(t){var e=$("<div class='tabulator-group show' data-value='"+t+"' role='rowgroup'><div class='tabulator-group-header' role='rowheader'></div><div class='tabulator-group-body'></div></div>");return e},_renderGroupHeader:function(t){var e=this,a=$("<div class='tabulator-arrow'></div>").on("click",function(){$(this).closest(".tabulator-group").toggleClass("show")}),o=[];$(".tabulator-row",t).each(function(){o.push($(this).data("data"))}),$(".tabulator-group-header",t).html(a).append(e.options.groupHeader(t.data("value"),$(".tabulator-row",t).length,o)),e._setGroupOpenState(t,t.data("value"),$(".tabulator-row",t).length,o)},_setGroupOpenState:function(t,e,a,o){var i=this,n=i.options.groupStartOpen;"function"==typeof n&&(n=n(e,a,o)),n===!0?t.addClass("show"):t.removeClass("show")},_showLoader:function(t,e){t.options.showLoader&&($(".tabulator-loader-msg",t.loaderDiv).attr("role","alert"),$(".tabulator-loader-msg",t.loaderDiv).empty().append(e),$(".tabulator-loader-msg",t.loaderDiv).css({"margin-top":t.element.innerHeight()/2-$(".tabulator-loader-msg",t.loaderDiv).outerHeight()/2}),t.element.append(t.loaderDiv))},_hideLoader:function(t){$(".tablulator-loader",t.element).remove()},_generateTooltip:function(t,e,a){var o=this,a=a||a===!1?a:o.options.tooltips;a===!0?a=t.data("value"):"function"==typeof a&&(a=a(t.data("field"),t.data("value"),e)),a?t.attr("title",a):t.attr("title","")},_resizeCol:function(t,e){var a=this;$(".tabulator-cell[data-index="+t+"], .tabulator-col[data-index="+t+"]",this.element).css({width:e}),a.options.fitColumns&&($(".tabulator-row .tabulator-cell:last-of-type",a.element).css("border-right",""),$(".tabulator-col:last",a.element).css("border-right","")),a._vertAlignColHeaders(),a._calcFrozenColumnsPos()},_vertAlignColHeaders:function(){var t=this;if(t.header){var e=t.header.outerHeight(),a=$(".tabulator-col-group-cols>.tabulator-col:not(.tabulator-col-group)",t.header),o=$(".tabulator-col:not(.tabulator-col-group)",t.header);o.css({"padding-top":""}),a.css({height:""}),$(">.tabulator-col, >.tabulator-col-row-handle",t.header).css({height:""}).css({height:t.header.innerHeight()+"px"}),a.each(function(){$(this).css({height:$(this).parent().innerHeight()})}),"top"!==t.options.colVertAlign&&o.each(function(){var e=$(this),a=$(".tabulator-col-content",e).outerHeight();e.css({"padding-top":e.innerHeight()-("bottom"===t.options.colVertAlign?a:1.5*a)})}),t.options.height&&e!=t.header.outerHeight()&&t.tableHolder.css({"min-height":"calc(100% - "+t.header.outerHeight()+"px)","max-height":"calc(100% - "+t.header.outerHeight()+"px)"})}t.table.is(":empty")&&t.header[0].scrollWidth>t.header.outerHeight()?t.table.css({"min-width":t.header[0].scrollWidth+"px","min-height":"1px",visibility:"hidden"}):t.table.css({"min-width":"","min-height":"",visibility:""})},_colLayout:function(t){var e=this,a=(e.options,e.element);e.header.empty(),e.columnList=[],e._colLayoutGroup(e.options.columns,e.header);var o=e.columnList.length;e.columnFrozenLeft=[],e.columnFrozenRight=[];for(var i=!0,n=0;n<o;++n)e.columnList[n].frozen&&i?e.columnFrozenLeft.push(e.columnList[n]):i=!1;if(e.columnFrozenLeft.length!=e.columnList.length){i=!0;for(var n=o-1;n>=0;--n)e.columnList[n].frozen&&i?e.columnFrozenRight.push(e.columnList[n]):i=!1}var r=$("<div class='tabulator-arrow'></div>");if(e.options.colResizable){var l=$("<div class='tabulator-handle'></div>"),s=$("<div class='tabulator-handle prev'></div>");$(".tabulator-col",e.header).append(l).append(s),$(".tabulator-col .tabulator-handle",e.header).on("mousedown",function(t){t.stopPropagation();var a=$(this),o=a.hasClass("prev")?a.closest(".tabulator-col").prev(".tabulator-col"):a.closest(".tabulator-col");"undefined"==typeof o.attr("data-index")&&(o=$(".tabulator-col",o).last()),o&&(e.mouseDrag=t.screenX,e.mouseDragWidth=o.outerWidth(),e.mouseDragElement=o),$("body").on("mouseup",d)}),e.element.on("mousemove",function(t){e.mouseDrag&&(e.mouseDragElement.css({width:e.mouseDragWidth+(t.screenX-e.mouseDrag)}),e._resizeCol(e.mouseDragElement.attr("data-index"),e.mouseDragElement.outerWidth()))});var d=function(t){if(e.mouseDrag){t.stopPropagation(),t.stopImmediatePropagation(),$("body").off("mouseup",d),e.mouseDragOut=!0,e._resizeCol(e.mouseDragElement.attr("data-index"),e.mouseDragElement.outerWidth());var a=e._findColumn(e.mouseDragElement.data("field"));a&&(a.column.width=e.mouseDragElement.outerWidth()),e.options.persistentLayout&&e._setPersistentCol(),e.mouseDrag=!1,e.mouseDragWidth=!1,e.mouseDragElement=!1}}}if(a.append(e.header),e.tableHolder.append(e.table),a.append(e.tableHolder),e.columnFrozenLeft.length){var c=$("<div class='tabulator-col tabulator-frozen tabulator-frozen-left'></div>");e.header.prepend(c),c.append($(".tabulator-col-row-handle",e.header)),e.columnFrozenLeft.forEach(function(t){c.append($(".tabulator-col[data-index="+t.index+"]",e.header))})}if(e.columnFrozenRight.length){var u=$("<div class='tabulator-col tabulator-frozen tabulator-frozen-right'></div>");
e.header.append(u),e.columnFrozenRight.forEach(function(t){u.prepend($(".tabulator-col[data-index="+t.index+"]",e.header))})}if(e.footer){a.append(e.footer);var p=e.header.outerHeight()+e.footer.outerHeight();e.tableHolder.css({"min-height":"calc(100% - "+p+"px)","max-height":"calc(100% - "+p+"px)"})}else e.options.height&&e.tableHolder.css({"min-height":"calc(100% - "+e.header.outerHeight()+"px)","max-height":"calc(100% - "+e.header.outerHeight()+"px)"});"local"!=e.options.pagination||e.options.paginationSize||(e.options.height?e.options.paginationSize=Math.floor(e.tableHolder.outerHeight()/$(".tabulator-col .tabulator-col-content",e.header).first().outerHeight()):e.options.paginationSize=10),a.on("editval",".tabulator-cell",function(t,a){var o=$(this);o.is(":focus")&&o.blur(),e._cellDataChange(o,a)}),a.on("editcancel",".tabulator-cell",function(t,a){e._cellDataChange($(this),$(this).data("value"))}),$(".tabulator-col[data-sortable=true] .tabulator-col-content",e.header).data("sortdir","desc").append(r.clone()),setTimeout(function(){e._colRender(!1,t),e.firstRender&&(e.options.data?setTimeout(function(){e._parseData(e.options.data)},100):e.options.ajaxURL&&("remote"===e.options.pagination?e.setPage(1):"remote"==e.options.progressiveRender?(e.paginationCurrentPage=1,e._getRemotePageData()):e._getAjaxData(e.options.ajaxURL,e.options.ajaxParams,e.options.ajaxType)))},100)},_colLayoutGroup:function(t,e){function a(){function t(t){var a=!0;for(var o in e)switch(e[o].comparison){case"partial":String(t[o]).toLowerCase().indexOf(String(e[o].value).toLowerCase())==-1&&(a=!1);break;default:t[o]!=e[o].value&&(a=!1)}return a}var e={};$(".tabulator-header-filter",o.header).each(function(){var t=$(this),a=t.data("filter-val");if("undefined"!=typeof a&&""!==a){var o="match";$("input",$(this)).length&&("text"!=$("input",$(this)).attr("type")&&""!=$("input",$(this)).attr("type")||(o="partial")),e[t.closest(".tabulator-col").data("field")]={value:a,comparison:o}}}),o.setFilter(t)}var o=this,i=o.options;o.element;if(i.movableRows){var n=$("<div class='tabulator-col-row-handle' role='gridcell'>&nbsp</div>");o.header.append(n)}i.movableCols&&e.sortable({axis:"x",opacity:1,tolerance:"pointer",cancel:".tabulator-col-row-handle, .tabulator-col[data-field=''], .tabulator-col[data-field=undefined], .tabulator-frozen",start:function(t,e){e.placeholder.css({display:"inline-block",visibility:"visible",width:e.item.outerWidth()})},change:function(t,e){function a(t){var e=t.next(".tabulator-col");if(!e.length){var o=t.parent().closest(".tabulator-col.tabulator-col-group");if(o.length)var e=a(o)}return e.hasClass("tabulator-col-group")?$(".tabulator-col[data-index]",e).first():e}function i(t,e){$(".tabulator-row",o.table).each(function(){e.length?$(".tabulator-cell[data-index="+t.data("index")+"]",$(this)).insertBefore($(".tabulator-cell[data-index="+e.data("index")+"]",$(this))):$(this).append($(".tabulator-cell[data-index="+t.data("index")+"]",$(this)))})}var n=e.item,r=e.placeholder;r.css({display:"inline-block",visibility:"visible",width:e.item.outerWidth()});var l=a(e.placeholder);if(n.index!=l.data("index"))if(n.hasClass("tabulator-col-group")){var s=l;$($(".tabulator-col[data-index]",n).get().reverse()).each(function(){i($(this),s),s=$(this)})}else i(n,l)},update:function(t,e){var a=e.item.next(".tabulator-col"),n=e.item.parent().closest(".tabulator-col-group"),r=e.item.data("column"),l=n.length?n.data("column").columns:i.columns,s=a.length?a.data("column"):null,d=l.splice(o._findColumn(r,l).index,1)[0];s=o._findColumn(s,l).index,l.splice("undefined"!=typeof s?s:l.length,0,d),o.columnList=[],o._traverseColumns(function(t){o.columnList.push(t)}),i.colMoved(e.item.data("field"),i.columns),o.options.persistentLayout&&o._setPersistentCol()}}),t.forEach(function(t,n){if(t.columns){var r=$('<div class="tabulator-col tabulator-col-group" role="columngroup" aria-label="'+t.title+'"><div class="tabulator-col-content"><div class="tabulator-col-title">'+t.title+'</div></div><div class="tabulator-col-group-cols"></div></div>');o._colLayoutGroup(t.columns,$(".tabulator-col-group-cols",r))}else{if(o.columnList.push(t),t.index=o.columnList.length-1,t.sorter="undefined"==typeof t.sorter?"string":t.sorter,t.sortable="undefined"==typeof t.sortable?i.sortable:t.sortable,t.sortable="undefined"!=typeof t.field&&t.sortable,t.visible="undefined"==typeof t.visible||t.visible,t.cssClass="undefined"==typeof t.cssClass?"":t.cssClass,i.sortBy==t.field){var l=" data-sortdir='"+i.sortDir+"' ";o.sortCurCol=t,o.sortCurDir=i.sortDir}else var l="";var s=t.visible?"inline-block":"none",d="undefined"==typeof t.minWidth?i.colMinWidth:t.minWidth,r=$('<div class="tabulator-col '+t.cssClass+'" style="display:'+s+"; min-width:"+d+';" data-index="'+t.index+'" data-field="'+t.field+'" data-sortable='+t.sortable+l+' role="columnheader" aria-sort="'+(i.sortBy==t.field?"asc"==i.sortDir?"ascending":"descending":"none")+'"><div class="tabulator-col-content"><div class="tabulator-col-title"></div></div></div>'),c=$(".tabulator-col-content",r),u=$(".tabulator-col-title",r),p=o.lang.columns[t.field]||(t.title?t.title:"&nbsp");if(t.editableTitle){var f=$("<input class='tabulator-title-editor'>");f.val(p),f.on("click",function(t){t.stopPropagation(),$(this).focus()}),f.on("change",function(){var e=$(this).val();t.title=e,i.colTitleChanged(e,t,i.columns)}),p=f}if(t.headerFilter){if(t.headerFilter===!0)if(t.editor)var g=t.editor;else var g=o.editors[t.formatter]?t.formatter:"input";else var g=t.headerFilter;var h="string"==typeof g?o.editors[g]:g,v=$("<div class='tabulator-header-filter'></div>"),b=h.call(o,v,"");v.append(b),v.children().attr("placeholder",o.options.headerFilterPlaceholder),b.on("click",function(t){t.stopPropagation(),$(this).focus()}),b.on("keyup",function(t){v.trigger("editval",$(this).val())}),"number"==b.attr("type")&&b.on("change",function(t){v.trigger("editval",$(this).val())}),v.on("editval editcancel",function(t,e){$(this).data("filter-val",e),a()}),u.append(p),c.append(v)}else u.html(p);var m=t.tooltipHeader?t.tooltipHeader:!(!i.tooltipsHeader||t.tooltipHeader===!1);m===!0?m=p:"function"==typeof m&&(m=m(t)),m?r.attr("title",m):r.attr("title",""),"undefined"!=typeof t.width&&(t.width=isNaN(t.width)?t.width:t.width+"px",r.data("width",t.width),r.css({width:t.width})),t.sortable&&r.on("click",function(){o.mouseDragOut||o._sortClick(t,r),o.mouseDragOut=!1})}r.data("column",t),e.append(r)})},_colRender:function(t,e){var a=this,o=a.options,i=(a.table,a.header,a.element);if(t||!o.fitColumns)$.each(a.columnList,function(t,e){c=$(".tabulator-col[data-field='"+e.field+"']",i).outerWidth();var a=$(".tabulator-cell[data-field='"+e.field+"']",i);a.css({width:c})});else if(o.fitColumns){$(".tabulator-row .tabulator-cell:last-child, .tabulator-col:last",i).css("border-right","none"),a.options.fitColumns&&$(".tabulator-row",a.table).css({width:"100%"});var n=o.movableRows?a.element.innerWidth()-30:a.element.innerWidth(),r=0,l=0,s=0,d="";$.each(a.columnList,function(t,e){if(e.visible)if(r++,e.width){var a=0;a="string"==typeof e.width?e.width.indexOf("%")>-1?n/100*parseInt(e.width):parseInt(e.width):e.width,l+=a,s++}else d=e.field});var c=n/r,u=Math.floor((n-l)/(r-s)),p=n-l-u*(r-s);p=p>0?p:0,$.each(a.columnList,function(t,e){if(e.visible){var a=parseInt("undefined"==typeof e.minWidth?o.colMinWidth:e.minWidth);if(u>=a){var r=u;e.width&&(r="string"==typeof e.width?e.width.indexOf("%")>-1?n/100*parseInt(e.width):parseInt(e.width):e.width);var l=$(".tabulator-cell[data-index="+t+"], .tabulator-col[data-index="+t+"]",i);e.field==d?l.css({width:r+p}):(r<a&&l.css({"min-width":r}),l.css({width:r}))}else{var l=$(".tabulator-cell[data-index="+t+"], .tabulator-col[data-index="+t+"]",i);l.css({width:c})}}})}else $.each(a.columnList,function(t,e){var a=$(".tabulator-cell[data-index="+t+"], .tabulator-col[data-index="+t+"]",i);if(e.width)n=e.width;else{var n=0;if(a.each(function(){n=$(this).outerWidth()>n?$(this).outerWidth():n}),o.colMinWidth||"undefined"!=typeof e.minWidth){var r=parseInt("undefined"==typeof e.minWidth?o.colMinWidth:e.minWidth);n=n<r?r:n}}a.css({width:n})});a._vertAlignColHeaders(),a._renderFrozenColumns(),e&&a._renderTable()},_renderFrozenColumns:function(){var t,e=this;(e.columnFrozenLeft.length||e.columnFrozenRight.length)&&(t=$(".tabulator-row",e.tableHolder),e.columnFrozenLeft.length&&(t.each(function(){var t,e=$(this);$(".tabulator-frozen-left",e).length||(t=$("<div class='tabulator-frozen tabulator-frozen-left'></div>"),t.append($(".tabulator-row-handle",e)),e.prepend(t))}),e.columnFrozenLeft.forEach(function(e){t.each(function(){var t=$(this);$(".tabulator-frozen-left",t).append($(".tabulator-cell[data-index="+e.index+"]",t))})})),e.columnFrozenRight.length&&(t.each(function(){var t=$(this);$(".tabulator-frozen-right",t).length||t.append("<div class='tabulator-frozen tabulator-frozen-right'></div>")}),e.columnFrozenRight.forEach(function(e){t.each(function(){var t=$(this);$(".tabulator-frozen-right",t).prepend($(".tabulator-cell[data-index="+e.index+"]",t))})})),e._calcFrozenColumnsPos())},_calcFrozenColumnsPos:function(t){var e,a,o,i=this;(i.columnFrozenLeft.length||i.columnFrozenRight.length)&&(e=$(".tabulator-row, .tabulator-header",i.element),a=i.tableHolder.scrollLeft(),i.columnFrozenLeft.length&&(o=$(".tabulator-frozen-left",i.header).outerWidth(),e.css("padding-left",o),$(".tabulator-frozen-left",i.element).css("left",a)),i.columnFrozenRight.length&&(o=$(".tabulator-frozen-right",i.header).innerWidth(),e.css("padding-right",o),$(".tabulator-frozen-right",i.element).css("left",i.tableHolder.innerWidth()-o+a-(t||0))))},_styleRows:function(t){var e=this;t||(e.options.selectable!==!1?$(".tabulator-row",e.table).each(function(){var t=$(this);e.options.selectableCheck(t.data("data"),t)?t.addClass("tabulator-selectable"):t.addClass("tabulator-unselectable")}):$(".tabulator-row",e.tableHolder).removeClass("tabulator-selectable"),e.options.rowFormatter&&$(".tabulator-row",e.table).each(function(){var t=e.options.rowFormatter($(this),$(this).data("data"));t&&$(this).html(t)})),e.element.is(":visible")&&$(".tabulator-row",e.table).each(function(){$(".tabulator-cell, .tabulator-row-handle",$(this)).css({height:$(this).innerHeight()+"px"})}),e.options.renderComplete()},_resizeRow:function(t){$(".tabulator-cell, .tabulator-row-handle",t).css({height:""}),$(".tabulator-cell, .tabulator-row-handle",t).css({height:t.innerHeight()+"px"})},_formatCell:function(t,e,a,o,i,n){var r=this,t="undefined"==typeof t?"plaintext":t;return t="string"==typeof t?this.formatters[t]:t,t.call(r,e,a,o,i,this.options,n)},_rowSelect:function(t){var e=this;e.options.selectableCheck(t.data("data"),t)&&(t.hasClass("tabulator-selected")?e.deselectRow(t):e.selectRow(t))},_clearSelection:function(){var t=this;t.selectedRows=[],t.selecting=!1,t.selectPrev=[]},selectRow:function(t,e){var a=this;if("undefined"==typeof t)return $(".tabulator-row:not(.tabulator-selected)",a.tableHolder).each(function(){a.selectRow($(this),!0)}),a._rowSelectionChanged(),!0;!isNaN(a.options.selectable)&&a.options.selectable!==!0&&a.selectedRows.length>=a.options.selectable&&a.deselectRow(a.selectedRows[0],!0);var t=isNaN(t)?t:$(".tabulator-row[data-id="+t+"]",a.element);t.length?(a.selectedRows.push(t),t.addClass("tabulator-selected"),e||a._rowSelectionChanged()):console.error("Tablulator ERROR (row select): No Matching Row Found")},deselectRow:function(t,e){var a=this;if("undefined"==typeof t)return $(".tabulator-row.tabulator-selected",a.tableHolder).each(function(){a.deselectRow($(this),!0)}),a._rowSelectionChanged(),!0;var t=isNaN(t)?t:$(".tabulator-row[data-id="+t+"]",a.element);t.length?(a.selectedRows.forEach(function(e,o){e[0]===t[0]&&a.selectedRows.splice(o,1)}),t.removeClass("tabulator-selected"),e||a._rowSelectionChanged()):console.error("Tablulator ERROR (row select): No Matching Row Found")},getSelectedData:function(){var t=this,e=[];return t.selectedRows.forEach(function(t){e.push(t.data("data"))}),e},_rowSelectionChanged:function(){var t=this,e=[];t.selectedRows.forEach(function(t){e.push(t.data("data"))}),t.options.rowSelectionChanged(e,t.selectedRows)},_rowClick:function(t,e,a){this.options.rowClick(t,e.data("id"),a,e)},_rowDblClick:function(t,e,a){this.options.rowDblClick(t,e.data("id"),a,e)},_rowContext:function(t,e,a){this.options.rowContext(t,e.data("id"),a,e)},_cellClick:function(t,e){var a=this,o=e.data("index"),i=a._findColumn(function(t){return t.index==o});i&&i.column.onClick(t,e,e.data("value"),e.closest(".tabulator-row").data("data"))},_cellDblClick:function(t,e){var a=this,o=e.data("index"),i=a._findColumn(function(t){return t.index==o});i&&i.column.onDblClick(t,e,e.data("value"),e.closest(".tabulator-row").data("data"))},_cellDataChange:function(t,e){var a=this,o=t.closest(".tabulator-row");t.removeClass("tabulator-editing");var i=o.data("data"),n=i[t.data("field")]!=e,r=i[t.data("field")];if(n){var l=t.data("mutator");l&&(e=l(e,"edit",i)),t.data("value",e),i[t.data("field")]=e,o.data("data",i)}t.html(a._formatCell(t.data("formatter"),e,i,t,o,t.data("formatterParams"))),n&&(a.options.cellEdited(i[a.options.index],t.data("field"),e,r,i,t,o),a._generateTooltip(t,i,a._findColumn(t.data("field")).column.tooltip)),a._styleRows(),a.options.dataEdited(a.data)},_safeString:function(t){return String(t).replace(/'/g,"&#39;")},_formatDate:function(t){var e=this.options.dateFormat,a=e.indexOf("yyyy"),o=e.indexOf("mm"),i=e.indexOf("dd");if(t)var n=t.substring(a,a+4)+"-"+t.substring(o,o+2)+"-"+t.substring(i,i+2),r=Date.parse(n);else var r=0;return isNaN(r)?0:r},sorters:{number:function(t,e){return parseFloat(String(t).replace(",",""))-parseFloat(String(e).replace(",",""))},string:function(t,e){return String(t).toLowerCase().localeCompare(String(e).toLowerCase())},date:function(t,e){var a=this;return a._formatDate(t)-a._formatDate(e)},boolean:function(t,e){var a=t===!0||"true"===t||"True"===t||1===t?1:0,o=e===!0||"true"===e||"True"===e||1===e?1:0;return a-o},alphanum:function(t,e){var a,o,i,n,r,l=0,s=/(\d+)|(\D+)/g,d=/\d/;if(isFinite(t)&&isFinite(e))return t-e;if(a=String(t).toLowerCase(),o=String(e).toLowerCase(),a===o)return 0;if(!d.test(a)||!d.test(o))return a>o?1:-1;for(a=a.match(s),o=o.match(s),r=a.length>o.length?o.length:a.length;l<r;)if(i=a[l],n=o[l++],i!==n)return isFinite(i)&&isFinite(n)?("0"===i.charAt(0)&&(i="."+i),"0"===n.charAt(0)&&(n="."+n),i-n):i>n?1:-1;return a.length>o.length},time:function(t,e){return t=t.split(":"),e=e.split(":"),t=60*t[0]+t[1],e=60*e[0]+e[1],t>e}},formatters:{plaintext:function(t,e,a,o,i,n){return t},textarea:function(t,e,a,o,i,n){return a.css({"white-space":"pre-wrap"}),t},money:function(t,e,a,o,i,n){var r=parseFloat(t);if(isNaN(r))return t;for(var l=r.toFixed(2),l=l.split("."),s=l[0],d=l.length>1?"."+l[1]:"",c=/(\d+)(\d{3})/;c.test(s);)s=s.replace(c,"$1,$2");return s+d},email:function(t,e,a,o,i,n){return"<a href='mailto:"+t+"'>"+t+"</a>"},link:function(t,e,a,o,i,n){return"<a href='"+t+"'>"+t+"</a>"},tick:function(t,e,a,o,i,n){var r='<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#2DC214" clip-rule="evenodd" d="M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z" fill-rule="evenodd"/></svg>';return t===!0||"true"===t||"True"===t||1===t?(a.attr("aria-checked",!0),r):(a.attr("aria-checked",!1),"")},tickCross:function(t,e,a,o,i,n){var r='<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#2DC214" clip-rule="evenodd" d="M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z" fill-rule="evenodd"/></svg>',l='<svg enable-background="new 0 0 24 24" height="14" width="14"  viewBox="0 0 24 24" xml:space="preserve" ><path fill="#CE1515" d="M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z"/></svg>';return t===!0||"true"===t||"True"===t||1===t?(a.attr("aria-checked",!0),r):(a.attr("aria-checked",!1),l)},star:function(t,e,a,o,i,n){var r=n&&n.stars?n.stars:5,l=$("<span style='vertical-align:middle;'></span>");t=parseInt(t)<r?parseInt(t):r;for(var s=$('<svg width="14" height="14" viewBox="0 0 512 512" xml:space="preserve" style="margin:0 1px;"><polygon fill="#FFEA00" stroke="#C1AB60" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/></svg>'),d=$('<svg width="14" height="14" viewBox="0 0 512 512" xml:space="preserve" style="margin:0 1px;"><polygon fill="#D2D2D2" stroke="#686868" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/></svg>'),c=1;c<=r;c++){var u=c<=t?s:d;l.append(u.clone())}return a.css({"white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis"}),a.attr("aria-label",t),l.html()},progress:function(t,e,a,o,i,n){var r=n&&n.max?n.max:100,l=n&&n.min?n.min:0,s=n&&n.color?n.color:"#2DC214";t=parseFloat(t)<=r?parseFloat(t):r,t=parseFloat(t)>=l?parseFloat(t):l;var d=(r-l)/100;return t=100-Math.round((t-l)/d),a.css({"min-width":"30px",position:"relative"}),a.attr("aria-label",t),"<div style='position:absolute; top:8px; bottom:8px; left:4px; right:"+t+"%; margin-right:4px; background-color:"+s+"; display:inline-block;' data-max='"+r+"' data-min='"+l+"'></div>"},color:function(t,e,a,o,i,n){return a.css({"background-color":t}),""},buttonTick:function(t,e,a,o,i,n){return'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#2DC214" clip-rule="evenodd" d="M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z" fill-rule="evenodd"/></svg>'},buttonCross:function(t,e,a,o,i,n){return'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#CE1515" d="M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z"/></svg>'}},editors:{input:function(t,e,a){var o=$("<input type='text'/>");return o.css({padding:"4px",width:"100%","box-sizing":"border-box"}).val(e),t.hasClass("tabulator-cell")&&setTimeout(function(){o.focus()},100),o.on("change blur",function(e){t.trigger("editval",o.val())}),o.on("keydown",function(e){13==e.keyCode&&t.trigger("editval",o.val())}),o},textarea:function(t,e,a){var o=this,i=(e.match(/(?:\r\n|\r|\n)/g)||[]).length+1,n=t.closest(".tabulator-row"),r=$("<textarea></textarea>");return r.css({display:"block",height:"100%",width:"100%",padding:"2px","box-sizing":"border-box","white-space":"pre-wrap",resize:"none"}).val(e),t.hasClass("tabulator-cell")&&setTimeout(function(){r.focus()},100),r.on("change blur",function(e){t.trigger("editval",r.val()),setTimeout(function(){o._resizeRow(n)},300)}),r.on("keyup",function(){var t=$(this).val(),e=(t.match(/(?:\r\n|\r|\n)/g)||[]).length+1;if(e!=i){var a=r.innerHeight()/i;r.css({height:a*e+"px"}),o._resizeRow(n),i=e}}),r},number:function(t,e,a){var o=$("<input type='number'/>");return o.css({padding:"4px",width:"100%","box-sizing":"border-box"}).val(e),t.hasClass("tabulator-cell")&&setTimeout(function(){o.focus()},100),o.on("blur",function(e){t.trigger("editval",o.val())}),o.on("keydown",function(e){13==e.keyCode&&t.trigger("editval",o.val())}),o},star:function(t,e,a){var o=$("svg",t).length;o=o?o:5;var i=$("svg:first",t).attr("width");i=i?i:14;var n=$("<div style='vertical-align:middle; padding:4px; display:inline-block; vertical-align:middle;'></div>");e=parseInt(e)<o?parseInt(e):o;for(var r=$('<svg width="'+i+'" height="'+i+'" class="tabulator-star-active" viewBox="0 0 512 512" xml:space="preserve" style="padding:0 1px;"><polygon fill="#488CE9" stroke="#014AAE" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/></svg>'),l=$('<svg width="'+i+'" height="'+i+'" class="tabulator-star-inactive" viewBox="0 0 512 512" xml:space="preserve" style="padding:0 1px;"><polygon fill="#010155" stroke="#686868" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/></svg>'),s=1;s<=o;s++){var d=s<=e?r:l;n.append(d.clone())}var c=function(t){$(".tabulator-star-active",t.closest("div")).length!=t.prevAll("svg").length+1&&(t.prevAll("svg").replaceWith(r.clone()),t.nextAll("svg").replaceWith(l.clone()),t.replaceWith(r.clone()))};return n.on("mouseover","svg",function(t){t.stopPropagation(),c($(this))}),n.on("mouseover",function(t){$("svg",$(this)).replaceWith(l.clone())}),n.on("click",function(t){$(this).closest(".tabulator-cell").trigger("editval",0)}),n.on("click","svg",function(e){var a=$(this).prevAll("svg").length+1;t.trigger("editval",a)}),t.css({"white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis"}),t.on("blur",function(){$(this).trigger("editcancel")}),t.on("keydown",function(e){switch(e.keyCode){case 39:c($(".tabulator-star-inactive:first",n));break;case 37:var a=$(".tabulator-star-active:last",n).prev("svg");a.length?c(a):$("svg",n).replaceWith(l.clone());break;case 13:t.trigger("editval",$(".tabulator-star-active",n).length)}}),n},progress:function(t,e,a){var o=$("div",t).data("max"),i=$("div",t).data("min");e=parseFloat(e)<=o?parseFloat(e):o,e=parseFloat(e)>=i?parseFloat(e):i;var n=(o-i)/100;e=100-Math.round((e-i)/n),t.css({padding:"0 4px"}),t.attr("aria-valuemin",i).attr("aria-valuemax",o);var r=function(){var a=n*Math.round(l.outerWidth()/(t.width()/100))+i;t.trigger("editval",a),t.attr("aria-valuenow",a).attr("aria-label",e)},l=$("<div style='position:absolute; top:8px; bottom:8px; left:4px; right:"+e+"%; margin-right:4px; background-color:#488CE9; display:inline-block; max-width:100%; min-width:0%;' data-max='"+o+"' data-min='"+i+"'></div>"),s=$("<div class='tabulator-progress-handle' style='position:absolute; right:0; top:0; bottom:0; width:5px;'></div>");return l.append(s),s.on("mousedown",function(t){l.data("mouseDrag",t.screenX),l.data("mouseDragWidth",l.outerWidth())}),s.on("mouseover",function(){$(this).css({cursor:"ew-resize"})}),t.on("mousemove",function(t){l.data("mouseDrag")&&l.css({width:l.data("mouseDragWidth")+(t.screenX-l.data("mouseDrag"))})}),t.on("mouseup",function(t){l.data("mouseDrag")&&(t.stopPropagation(),t.stopImmediatePropagation(),l.data("mouseDragOut",!0),l.data("mouseDrag",!1),l.data("mouseDragWidth",!1),r())}),t.on("keydown",function(e){switch(e.keyCode){case 39:l.css({width:l.width()+t.width()/100});break;case 37:l.css({width:l.width()-t.width()/100});break;case 13:r()}}),t.on("blur",function(){$(this).trigger("editcancel")}),l},tickCross:function(t,e,a){var o=$("<input type='checkbox'/>");return o.css({"margin-top":"5px","box-sizing":"border-box"}).val(e),t.hasClass("tabulator-cell")&&setTimeout(function(){o.focus()},100),e===!0||"true"===e||"True"===e||1===e?o.prop("checked",!0):o.prop("checked",!1),o.on("change blur",function(e){t.trigger("editval",o.is(":checked"))}),o.on("keydown",function(e){13==e.keyCode&&t.trigger("editval",o.is(":checked"))}),o},tick:function(t,e,a){var o=$("<input type='checkbox'/>");return o.css({"margin-top":"5px","box-sizing":"border-box"}).val(e),t.hasClass("tabulator-cell")&&setTimeout(function(){o.focus()},100),e===!0||"true"===e||"True"===e||1===e?o.prop("checked",!0):o.prop("checked",!1),o.on("change blur",function(e){t.trigger("editval",o.is(":checked"))}),o.on("keydown",function(e){13==e.keyCode&&t.trigger("editval",o.is(":checked"))}),o}},mutators:{},accessors:{},_destroy:function(){var t=this,e=t.element;e.empty(),e.removeClass("tabulator")}})}();
//# sourceMappingURL=tabulator.min.js.map