$.widget("ui.tabulator",{data:[],firstRender:!0,mouseDrag:!1,mouseDragWidth:!1,mouseDragElement:!1,mouseDragOut:!1,sortCurCol:null,sortCurDir:null,filterField:null,filterValue:null,filterType:null,options:{backgroundColor:"#888",borderColor:"#999",textSize:"14px",headerBackgroundColor:"#e6e6e6",headerTextColor:"#555",headerBorderColor:"#aaa",headerSeperatorColor:"#999",headerMargin:"4px",rowBackgroundColor:"#fff",rowBorderColor:"#aaa",rowTextColor:"#333",rowHoverBackground:"#bbb",colMinWidth:"40px",colResizable:!0,height:!1,fitColumns:!1,columns:[],sortable:!0,dateFormat:"dd/mm/yyyy",sortArrows:{active:"#666",inactive:"#bbb"},sortBy:"id",sortDir:"desc",groupBy:!1,groupHeader:function(t,e,r){return t+"<span style='color:#d00; margin-left:10px;'>("+e+" item)</span>"},editBoxColor:"#1D68CD",rowFormatter:!1,addRowPos:"bottom",selectable:!0,ajaxURL:!1,showLoader:!0,loader:"<div style='display:inline-block; border:4px solid #333; border-radius:10px; background:#fff; font-weight:bold; font-size:16px; color:#000; padding:10px 20px;'>Loading Data</div>",loaderError:"<div style='display:inline-block; border:4px solid #D00; border-radius:10px; background:#fff; font-weight:bold; font-size:16px; color:#590000; padding:10px 20px;'>Loading Error</div>",rowClick:function(){},rowAdded:function(){},rowEdit:function(){},rowDelete:function(){},rowContext:function(){},dataLoaded:function(){}},loaderDiv:$("<div class='tablulator-loader' style='position:absolute; top:0; left:0; z-index:100; height:100%; width:100%; background:rgba(0,0,0,.4); text-align:center;'><div class='tabulator-loader-msg'></div></div>"),_showLoader:function(t,e){t.options.showLoader&&($(".tabulator-loader-msg",t.loaderDiv).empty().append(e),$(".tabulator-loader-msg",t.loaderDiv).css({"margin-top":t.element.innerHeight()/2-$(".tabulator-loader-msg",t.loaderDiv).outerHeight()/2}),t.element.append(t.loaderDiv))},_hideLoader:function(t){$(".tablulator-loader",t.element).remove()},_create:function(){var t=this,e=t.options,r=t.element;e.textSize=isNaN(e.textSize)?e.textSize:e.textSize+"px",e.colMinWidth=isNaN(e.colMinWidth)?e.colMinWidth:e.colMinWidth+"px",e.textSizeNum=parseInt(e.textSize.replace("px","")),headerMargin=parseInt(e.headerMargin.replace("px","")),e.headerHeight=e.textSizeNum+2*headerMargin+2,e.height&&(e.height=isNaN(e.height)?e.height:e.height+"px",r.css({height:e.height})),r.addClass("tabulator"),r.css({position:"relative","box-sizing":"border-box","background-color":e.backgroundColor,border:"1px solid "+e.borderColor,overflow:"hidden"}),t.header=$("<div class='tabulator-header'></div>"),t.header.css({position:"relative","background-color":e.headerBackgroundColor,"border-bottom":"1px solid "+e.headerSeperatorColor,color:e.headerTextColor,"font-size":e.textSize,"font-weight":"bold","white-space":"nowrap","z-index":"1",overflow:"visible"}),t.tableHolder=$("<div class='tabulator-tableHolder'></div>"),t.tableHolder.css({position:"absolute","z-index":"1","min-height":"calc(100% - "+(e.headerHeight+1)+"px)","max-height":"calc(100% - "+(e.headerHeight+1)+"px)","white-space":"nowrap",overflow:"auto",width:"100%"}),t.tableHolder.scroll(function(){t.header.css({"margin-left":"-1"*$(this).scrollLeft()})}),t.table=$("<div class='tabulator-table'></div>"),t.table.css({position:"relative","font-size":e.textSize,"white-space":"nowrap","z-index":"1",display:"inline-block",overflow:"visible"});var o=$("<div class='tabulator-arrow'></div>");if(o.css({display:"inline-block",position:"absolute",top:"9px",right:"8px",width:0,height:0,"border-left":"6px solid transparent","border-right":"6px solid transparent","border-bottom":"6px solid "+e.sortArrows.inactive}),$.each(e.columns,function(r,o){if(o.index=r,o.sorter="undefined"==typeof o.sorter?"string":o.sorter,o.sortable="undefined"==typeof o.sortable?e.sortable:o.sortable,o.sortable="undefined"!=typeof o.field&&o.sortable,e.sortBy==o.field){var a=" data-sortdir='"+e.sortDir+"' ";t.sortCurCol=o,t.sortCurDir=e.sortDir}else var a="";var i=o.title?o.title:"&nbsp",n=$('<div class="tabulator-col" style="display:inline-block" data-index="'+r+'" data-field="'+o.field+'" data-sortable='+o.sortable+a+" >"+i+"</div>");"undefined"!=typeof o.width&&(o.width=isNaN(o.width)?o.width:o.width+"px",n.data("width",o.width),n.css({width:o.width})),o.sortable&&n.on("click",function(){t.mouseDragOut||t._sortClick(o,n),t.mouseDragOut=!1}),t.header.append(n)}),r.append(t.header),t.tableHolder.append(t.table),r.append(t.tableHolder),$(".tabulator-col",t.header).css({padding:"4px","text-align":"left",position:"relative","border-right":"1px solid "+e.headerBorderColor,"box-sizing":"border-box","user-select":"none","white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis","vertical-align":"bottom"}),t.options.colResizable){var a=$("<div class='tabulator-handle' style='position:absolute; right:0; top:0; bottom:0; width:5px;'></div>");a.on("mousedown",function(e){t.mouseDrag=e.screenX,t.mouseDragWidth=$(this).closest(".tabulator-col").outerWidth(),t.mouseDragElement=$(this).closest(".tabulator-col")}),t.element.on("mousemove",function(e){t.mouseDrag&&(t.mouseDragElement.css({width:t.mouseDragWidth+(e.screenX-t.mouseDrag)}),t._resizeCol(t.mouseDragElement.data("index"),t.mouseDragElement.outerWidth()))}),t.element.on("mouseup",function(e){t.mouseDrag&&(e.stopPropagation(),e.stopImmediatePropagation(),t.mouseDragOut=!0,t._resizeCol(t.mouseDragElement.data("index"),t.mouseDragElement.outerWidth()),t.mouseDrag=!1,t.mouseDragWidth=!1,t.mouseDragElement=!1)}),a.on("mouseover",function(){$(this).css({cursor:"ew-resize"})}),$(".tabulator-col",t.header).append(a),$(".tabulator-col",t.header).on("mouseup",function(){})}r.on("editval",".tabulator-cell",function(e,r){$(this).is(":focus")&&$(this).blur(),t._cellDataChange($(this),r)}),r.on("editcancel",".tabulator-cell",function(e,r){t._cellDataChange($(this),$(this).data("value"))}),$(".tabulator-col[data-sortable=true]",t.header).css({"padding-right":"25px"}).data("sortdir","desc").on("mouseover",function(){$(this).css({cursor:"pointer","background-color":"rgba(0,0,0,.1)"})}).on("mouseout",function(){$(this).css({"background-color":"transparent"})}).append(o.clone()),t._colRender()},_setOption:function(t,e){$.Widget.prototype._setOption.apply(this,arguments)},_cellDataChange:function(t,e){var r=this,o=t.closest(".tabulator-row");t.data("value",e);var a=o.data("data"),i=a[t.data("field")]!=e;a[t.data("field")]=e,o.data("data",a),a.id&&(r.data[a.id]=a),t.html(r._formatCell(t.data("formatter"),e,a,t,o,t.data("formatterParams"))).css({padding:"4px"}),i&&r.options.rowEdit(a.id,a,o),r._styleRows()},deleteRow:function(t){var e=this,r="number"==typeof t?t:t.data("data").id;e.data[r]&&e.data.splice(r,1),r?$("[data-id="+r+"]",e.element).remove():t.remove(),e._styleRows(),e._colRender(!e.firstRender),e._trigger("renderComplete"),e.options.rowDelete(r)},addRow:function(t){var e=this;t?t.id=t.id?t.id:0:t={id:0};var r=e._renderRow(t);"top"==e.options.addRowPos?e.table.prepend(r):e.table.append(r),e._styleRows(),e._colRender(!e.firstRender),e._trigger("renderComplete"),e.options.rowAdded(t)},getData:function(){var t=this,e=[];return t.data.forEach(function(t,r){e.push(t)}),$("[data-id=0]",t.element).each(function(){e.push($(this).data("data"))}),e},setData:function(t){this._trigger("dataLoading"),this._showLoader(this,this.options.loader),"string"==typeof t?0==t.indexOf("{")||0==t.indexOf("[")?this._parseData(jQuery.parseJSON(t)):this._getAjaxData(t):t?this._parseData(t):this.options.ajaxURL?this._getAjaxData(this.options.ajaxURL):this._parseData([])},clear:function(){this.table.empty(),this.data=[],this._renderTable()},setFilter:function(t,e,r){var o=this;o._trigger("filterStarted"),t?(o.filterField=t,o.filterType="undefined"==typeof r?"=":e,o.filterValue="undefined"==typeof r?e:r):(o.filterField=null,o.filterType=null,o.filterValue=null),this._renderTable()},clearFilter:function(){var t=this;t.filterField=null,t.filterType=null,t.filterValue=null,this._renderTable()},getFilter:function(){var t=this;if(t.filterField){var e={field:t.filterField,type:t.filterType,value:t.filterValue};return e}return!1},_parseData:function(t){var e=[];$.each(t,function(t,r){e[r.id]=r}),this.data=e,this.options.dataLoaded(t),this._renderTable()},_getAjaxData:function(t){var e=this;e.options;$.ajax({url:t,type:"GET",async:!0,dataType:"json",success:function(t){e._parseData(t)},error:function(t,r,o){console.log("Tablulator ERROR (ajax get): "+t.status+" - "+o),e._trigger("dataLoadError",t,o),e._showLoader(e,e.options.loaderError)}})},_renderTable:function(){var t=this,e=t.options;this._trigger("renderStarted"),t.table.hide(),t._showLoader(t,t.options.loader),t.table.empty(),t.data.forEach(function(r,o){if(!t.filterField||t.filterField&&t._filterRow(r)){var a=t._renderRow(r);if(e.groupBy){var i="function"==typeof e.groupBy?e.groupBy(r):r[e.groupBy],n=$(".tabulator-group[data-value='"+i+"']",t.table);0==n.length&&(n=t._renderGroup(i),t.table.append(n)),$(".tabulator-group-body",n).append(a)}else t.table.append(a)}}),e.groupBy&&($(".tabulator-group",t.table).each(function(){t._renderGroupHeader($(this))}),t._sortElement(t.table,{},"asc",!0)),t.table.css({"background-color":t.options.rowBackgroundColor,color:t.options.rowTextColor}),t._styleRows(),t.sortCurCol&&t._sorter(t.sortCurCol,t.sortCurDir),t.table.show(),t._colRender(!t.firstRender),t._hideLoader(t),t._trigger("renderComplete"),t.filterField&&t._trigger("filterComplete")},_renderGroup:function(t){var e=$("<div class='tabulator-group' data-value='"+t+"'><div class='tabulator-group-header'></div><div class='tabulator-group-body'></div></div>");return e},_renderGroupHeader:function(t){var e=this,r=$("<div class='tabulator-arrow'></div>");r.css({display:"inline-block","vertical-align":"middle",width:0,height:0,"margin-right":"10px","margin-left":"5px","border-left":"6px solid transparent","border-right":"6px solid transparent","border-top":"6px solid "+e.options.sortArrows.active}).data("show",!0).on("mouseover",function(){$(this).css({cursor:"pointer","background-color":"rgba(0,0,0,.1)"})}).on("mouseout",function(){$(this).css({"background-color":"transparent"})}).on("click",function(){$(this).data("show")?($(this).data("show",!1),$(this).closest(".tabulator-group").find(".tabulator-group-body").slideUp(),$(this).css({"margin-left":"8px","margin-right":"13px","border-top":"6px solid transparent","border-bottom":"6px solid transparent","border-right":"0","border-left":"6px solid "+e.options.sortArrows.active})):($(this).data("show",!0),$(this).closest(".tabulator-group").find(".tabulator-group-body").slideDown(),$(this).css({"margin-left":"5px","margin-right":"10px","border-left":"6px solid transparent","border-right":"6px solid transparent","border-top":"6px solid "+e.options.sortArrows.active,"border-bottom":"0"}))});var o=[];$(".tabulator-row",t).each(function(){o.push($(this).data("data"))}),$(".tabulator-group-header",t).css({background:"#ccc","font-weight":"bold",padding:"5px","border-bottom":"1px solid #999","border-top":"1px solid #999","box-sizing":"border-box"}).html(r).append(e.options.groupHeader(t.data("value"),$(".tabulator-row",t).length,o))},_filterRow:function(t){var e=this;if(!e.filterField)return!0;var r=t[e.filterField],o=e.filterValue;switch(e.filterType){case"=":return r==o;case"<":return r<o;case"<=":return r<=o;case">":return r>o;case">=":return r>=o;case"!=":return r!=o;case"like":return r.toLowerCase().indexOf(o.toLowerCase())>-1;default:return!1}return!1},_renderRow:function(t){var e=this,r=$('<div class="tabulator-row" data-id="'+t.id+'"></div>');return r.data("data",t),r.on("click",function(o){e._rowClick(o,r,t)}),r.on("contextmenu",function(o){e._rowContext(o,r,t)}),$.each(e.options.columns,function(o,a){var i="undefined"==typeof t[a.field]?"":t[a.field];"undefined"==typeof t[a.field]&&(t[a.field]="");var n="undefined"==typeof a.align?"left":a.align,l=a.editable||a.editor?"tabindex='0'":"",s=$("<div class='tabulator-cell' "+l+" data-index='"+o+"' data-field='"+a.field+"' data-value='"+e._safeString(i)+"' ></div>");s.css({"text-align":n,"box-sizing":"border-box",display:"inline-block","vertical-align":"middle","min-height":e.options.headerHeight+2,"white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis",padding:"4px"});var d=!1;(a.editable||a.editor)&&(d=a.editor?a.editor:e.editors[a.formatter]?a.formatter:"input"),s.data("editor",d),s.data("formatter",a.formatter),s.data("formatterParams",a.formatterParams),s.html(e._formatCell(a.formatter,i,t,s,r,a.formatterParams)),"function"==typeof a.onClick?s.on("click",function(t){e._cellClick(t,s)}):s.data("editor")&&s.on("focus",function(t){t.stopPropagation(),s.css({padding:"0",border:"1px solid "+e.options.editBoxColor});var r="string"==typeof s.data("editor")?e.editors[s.data("editor")]:s.data("editor"),o=r(s,s.data("value"));s.empty(),s.append(o),s.children().click(function(t){t.stopPropagation()})}),r.append(s)}),r},dataCount:function(){return this.data.length},redraw:function(){var t=this;t.options.fitColumns&&t._colRender(),t.element.innerHeight()>0&&$(".tabulator-loader-msg",t.loaderDiv).css({"margin-top":t.element.innerHeight()/2-$(".tabulator-loader-msg",t.loaderDiv).outerHeight()/2})},_resizeCol:function(t,e){$(".tabulator-cell[data-index="+t+"], .tabulator-col[data-index="+t+"]",this.element).css({width:e})},_colRender:function(t){var e=this,r=e.options,o=(e.table,e.header,e.element);if(e.firstRender=!1,t&&!r.fitColumns)$.each(r.columns,function(t,e){n=$(".tabulator-col[data-index="+t+"]",o).outerWidth();var r=$(".tabulator-cell[data-index="+t+"]",o);r.css({width:n})});else if(r.fitColumns){e.options.fitColumns&&$(".tabulator-row",e.table).css({width:"100%"});var a=e.element.innerWidth(),i=r.columns.length,n=a/i,l=0,s=0;$.each(r.columns,function(t,e){if(e.width){var r="string"==typeof e.width?parseInt(e.width):e.width;l+=r,s++}});var d=Math.floor((a-l)/(i-s));if(d>=parseInt(r.colMinWidth))$.each(r.columns,function(t,e){var r=e.width?e.width:d,a=$(".tabulator-cell[data-index="+t+"], .tabulator-col[data-index="+t+"]",o);a.css({width:r})});else{var c=$(".tabulator-cell, .tabulator-col",o);c.css({width:n})}}else $.each(r.columns,function(t,e){var a=$(".tabulator-cell[data-index="+t+"], .tabulator-col[data-index="+t+"]",o);if(e.width)i=e.width;else{var i=0;a.each(function(){i=$(this).outerWidth()>i?$(this).outerWidth():i}),r.colMinWidth&&(i=i<r.colMinWidth?r.colMinWidth:i)}a.css({width:i})})},_styleRows:function(){var t=this;$(".tabulator-tableHolder",t.element).css({height:$(".tabulator-table",t.element).height()}),$(".tabulator-row",t.table).css({"background-color":"transparent"}),t.options.selectable&&$(".tabulator-row",t.table).on("mouseover",function(){$(this).css({cursor:"pointer","background-color":t.options.rowHoverBackground})}).on("mouseout",function(){$(this).css({"background-color":"transparent"}),t.options.rowFormatter&&t.options.rowFormatter($(this),$(this).data("data"))}),$(".tabulator-row:nth-of-type(even)",t.table).css({"background-color":"rgba(0,0,0,.1);"}).on("mouseout",function(){$(this).css({"background-color":"rgba(0,0,0,.08);"}),t.options.rowFormatter&&t.options.rowFormatter($(this),$(this).data("data"))}),$(".tabulator-cell",t.table).css({border:"none","border-right":"1px solid "+t.options.rowBorderColor}),t.options.height||t.element.css({height:t.table.outerHeight()+t.options.headerHeight+3}),t.options.rowFormatter&&$(".tabulator-row",t.table).each(function(){t.options.rowFormatter($(this),$(this).data("data"))})},_formatCell:function(t,e,r,o,a,i){var t="undefined"==typeof t?"plaintext":t;return(t="string"==typeof t?this.formatters[t]:t)(e,r,o,a,this.options,i)},_rowClick:function(t,e,r){this.options.rowClick(t,e.data("id"),r,e)},_rowContext:function(t,e,r){t.preventDefault(),this.options.rowContext(t,e.data("id"),r,e)},_cellClick:function(t,e){var r=this.options.columns.filter(function(t){return t.index==e.data("index")});r[0].onClick(t,e,e.data("value"),e.closest(".tabulator-row").data("data"))},_safeString:function(t){return String(t).replace(/'/g,"&#39;")},_sortClick:function(t,e){var r=this;"desc"==e.data("sortdir")?e.data("sortdir","asc"):e.data("sortdir","desc"),r.sort(t,e.data("sortdir"))},sort:function(t,e){var r=this,o=r.header,a=this.options;Array.isArray(t)||(t=[{field:t,dir:e}]),$.each(t,function(i,n){"string"==typeof n.field&&$.each(a.columns,function(t,e){if(e.field==n.field)return n.field=e,!1}),$(".tabulator-col[data-sortable=true][data-field!="+n.field.field+"]",r.header).data("sortdir","desc"),$(".tabulator-col .tabulator-arrow",r.header).css({"border-top":"none","border-bottom":"6px solid "+a.sortArrows.inactive});var l=$(".tabulator-col[data-field='"+n.field.field+"']",o);"asc"==e?$(".tabulator-arrow",l).css({"border-top":"none","border-bottom":"6px solid "+a.sortArrows.active}):$(".tabulator-arrow",l).css({"border-top":"6px solid "+a.sortArrows.active,"border-bottom":"none"}),r._sorter(n.field,n.dir,t,i)})},_sorter:function(t,e,r,o){var a=this,i=a.table,n=a.options;a.data;a._trigger("sortStarted"),a.sortCurCol=t,a.sortCurDir=e,n.groupBy?n.groupBy==t.field?a._sortElement(i,t,e,!0):$(".tabulator-group",i).each(function(){a._sortElement($(this),t,e,!1,r,o)}):a._sortElement(i,t,e,!1,r,o),a._styleRows(),a._trigger("sortComplete")},_sortElement:function(t,e,r,o,a,i){var n=this,l=o?".tabulator-group":".tabulator-row";$(l,t).sort(function(t,l){var s=n._processSorter(t,l,e,r,o);if(0==s&&i)for(var d=i-1;d>=0&&(s=n._processSorter(t,l,a[d].field,a[d].dir,o),0==s);d--);return s}).appendTo(t)},_processSorter:function(t,e,r,o,a){var i=this;el1="asc"==o?$(t):$(e),el2="asc"==o?$(e):$(t),a?(el1=el1.data("value"),el2=el2.data("value")):(el1=el1.data("data")[r.field],el2=el2.data("data")[r.field]),t="date"==r.sorter?i._formatDate(el1):el1,e="date"==r.sorter?i._formatDate(el2):el2;var n="undefined"==typeof r.sorter?"string":r.sorter;return(n="string"==typeof n?i.sorters[n]:n)(t,e)},_formatDate:function(t){var e=this.options.dateFormat,r=e.indexOf("yyyy"),o=e.indexOf("mm"),a=e.indexOf("dd");if(t)var i=t.substring(r,r+4)+"-"+t.substring(o,o+2)+"-"+t.substring(a,a+2),n=Date.parse(i);else var n=0;return isNaN(n)?0:n},sorters:{number:function(t,e){return parseFloat(String(t).replace(",",""))-parseFloat(String(e).replace(",",""))},string:function(t,e){return String(t).toLowerCase().localeCompare(String(e).toLowerCase())},date:function(t,e){return t-e},boolean:function(t,e){return el1=t===!0||"true"===t||"True"===t||1===t?1:0,el2=e===!0||"true"===e||"True"===e||1===e?1:0,el1-el2},alphanum:function(t,e){var r,o,a,i,n,l=0,s=/(\d+)|(\D+)/g,d=/\d/;if(isFinite(t)&&isFinite(e))return t-e;if(r=String(t).toLowerCase(),o=String(e).toLowerCase(),r===o)return 0;if(!d.test(r)||!d.test(o))return r>o?1:-1;for(r=r.match(s),o=o.match(s),n=r.length>o.length?o.length:r.length;l<n;)if(a=r[l],i=o[l++],a!==i)return isFinite(a)&&isFinite(i)?("0"===a.charAt(0)&&(a="."+a),"0"===i.charAt(0)&&(i="."+i),a-i):a>i?1:-1;return r.length>o.length}},formatters:{plaintext:function(t,e,r,o,a,i){return t},money:function(t,e,r,o,a,i){for(var n=parseFloat(t).toFixed(2),n=n.split("."),l=n[0],s=n.length>1?"."+n[1]:"",d=/(\d+)(\d{3})/;d.test(l);)l=l.replace(d,"$1,$2");return l+s},email:function(t,e,r,o,a,i){return"<a href='mailto:"+t+"'>"+t+"</a>"},link:function(t,e,r,o,a,i){return"<a href='"+t+"'>"+t+"</a>"},tick:function(t,e,r,o,a,i){var n='<svg enable-background="new 0 0 24 24" height="'+a.textSize+'" width="'+a.textSize+'"  viewBox="0 0 24 24" xml:space="preserve" ><path fill="#2DC214" clip-rule="evenodd" d="M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z" fill-rule="evenodd"/></svg>';return t===!0||"true"===t||"True"===t||1===t?n:""},tickCross:function(t,e,r,o,a,i){var n='<svg enable-background="new 0 0 24 24" height="'+a.textSize+'" width="'+a.textSize+'"  viewBox="0 0 24 24" xml:space="preserve" ><path fill="#2DC214" clip-rule="evenodd" d="M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z" fill-rule="evenodd"/></svg>',l='<svg enable-background="new 0 0 24 24" height="'+a.textSize+'" width="'+a.textSize+'"  viewBox="0 0 24 24" xml:space="preserve" ><path fill="#CE1515" d="M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z"/></svg>';return t===!0||"true"===t||"True"===t||1===t?n:l},star:function(t,e,r,o,a,n){var l=n&&n.stars?n.stars:5,s=$("<span style='vertical-align:middle;'></span>");t=parseInt(t)<l?parseInt(t):l;var d=$('<svg width="'+a.textSize+'" height="'+a.textSize+'" viewBox="0 0 512 512" xml:space="preserve" style="margin:0 1px;"><polygon fill="#FFEA00" stroke="#C1AB60" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/></svg>'),c=$('<svg width="'+a.textSize+'" height="'+a.textSize+'" viewBox="0 0 512 512" xml:space="preserve" style="margin:0 1px;"><polygon fill="#D2D2D2" stroke="#686868" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/></svg>');for(i=1;i<=l;i++){var u=i<=t?d:c;s.append(u.clone())}return r.css({"white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis"}),s.html()},progress:function(t,e,r,o,a,i){var n=i&&i.max?i.max:100,l=i&&i.min?i.min:0,s=i&&i.color?i.color:"#2DC214";t=parseFloat(t)<=n?parseFloat(t):n,t=parseFloat(t)>=l?parseFloat(t):l;var d=(n-l)/100;return t=Math.round((t-l)/d),r.css({"min-width":"30px"}),"<div style='margin-top:3px; height:10px; width:"+t+"%; background-color:"+s+"; display:inline-block; vertical-align:middle;' data-max='"+n+"' data-min='"+l+"'></div>"}},editors:{input:function(t,e){var r=$("<input type='text'/>");return r.css({border:"1px",background:"transparent",padding:"4px",width:"100%","box-sizing":"border-box"}).val(e),setTimeout(function(){r.focus()},100),r.on("change blur",function(e){t.trigger("editval",r.val())}),r.on("keydown",function(e){13==e.keyCode&&t.trigger("editval",r.val())}),r},star:function(t,e){var r=$("svg",t).length,o=$("svg:first",t).attr("width"),a=$("<div style='vertical-align:middle; padding:4px; display:inline-block; vertical-align:middle;'></div>");e=parseInt(e)<r?parseInt(e):r;var n=$('<svg width="'+o+'" height="'+o+'" class="tabulator-star-active" viewBox="0 0 512 512" xml:space="preserve" style="padding:0 1px;"><polygon fill="#488CE9" stroke="#014AAE" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/></svg>'),l=$('<svg width="'+o+'" height="'+o+'" class="tabulator-star-inactive"  viewBox="0 0 512 512" xml:space="preserve" style="padding:0 1px;"><polygon fill="#010155" stroke="#686868" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/></svg>');for(i=1;i<=r;i++){var s=i<=e?n:l;a.append(s.clone())}var d=function(t){$(".tabulator-star-active",t.closest("div")).length!=t.prevAll("svg").length+1&&(t.prevAll("svg").replaceWith(n.clone()),t.nextAll("svg").replaceWith(l.clone()),t.replaceWith(n.clone()))};return a.on("mouseover","svg",function(t){t.stopPropagation(),d($(this))}),a.on("mouseover",function(t){$("svg",$(this)).replaceWith(l.clone())}),a.on("click",function(t){$(this).closest(".tabulator-cell").trigger("editval",0)}),a.on("click","svg",function(e){var r=$(this).prevAll("svg").length+1;t.trigger("editval",r)}),t.css({"white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis"}),t.on("blur",function(){$(this).trigger("editcancel")}),t.on("keydown",function(e){switch(e.keyCode){case 39:d($(".tabulator-star-inactive:first",a));break;case 37:var r=$(".tabulator-star-active:last",a).prev("svg");r.length?d(r):$("svg",a).replaceWith(l.clone());break;case 13:t.trigger("editval",$(".tabulator-star-active",a).length)}}),a},progress:function(t,e){var r=$("div",t).data("max"),o=$("div",t).data("min");e=parseFloat(e)<=r?parseFloat(e):r,e=parseFloat(e)>=o?parseFloat(e):o;var a=(r-o)/100;e=Math.round((e-o)/a),t.css({padding:"0 4px"});var i=function(){var e=a*Math.round(n.outerWidth()/(t.width()/100))+o;t.trigger("editval",e)},n=$("<div style='margin-top:7px; height:10px; width:"+e+"%; background-color:#488CE9; display:inline-block; vertical-align:middle; position:relative; max-width:100%; min-width:0%;' data-max='"+r+"' data-min='"+o+"'></div>"),l=$("<div class='taulator-progress-handle' style='position:absolute; right:0; top:0; bottom:0; width:5px;'></div>");return n.append(l),l.on("mousedown",function(t){n.data("mouseDrag",t.screenX),n.data("mouseDragWidth",n.outerWidth())}),l.on("mouseover",function(){$(this).css({cursor:"ew-resize"})}),t.on("mousemove",function(t){n.data("mouseDrag")&&n.css({width:n.data("mouseDragWidth")+(t.screenX-n.data("mouseDrag"))})}),t.on("mouseup",function(t){n.data("mouseDrag")&&(t.stopPropagation(),t.stopImmediatePropagation(),n.data("mouseDragOut",!0),n.data("mouseDrag",!1),n.data("mouseDragWidth",!1),i())}),t.on("keydown",function(e){switch(e.keyCode){case 39:n.css({width:n.width()+t.width()/100});break;case 37:n.css({width:n.width()-t.width()/100});break;case 13:i()}}),t.on("blur",function(){$(this).trigger("editcancel")}),n},tickCross:function(t,e){var r=$("<input type='checkbox'/>");return r.css({border:"1px",background:"transparent","margin-top":"5px","box-sizing":"border-box"}).val(e),setTimeout(function(){r.focus()},100),e===!0||"true"===e||"True"===e||1===e?r.prop("checked",!0):r.prop("checked",!1),r.on("change blur",function(e){t.trigger("editval",r.is(":checked"))}),r.on("keydown",function(e){13==e.keyCode&&t.trigger("editval",r.is(":checked"))}),r},tick:function(t,e){var r=$("<input type='checkbox'/>");return r.css({border:"1px",background:"transparent","margin-top":"5px","box-sizing":"border-box"}).val(e),setTimeout(function(){r.focus()},100),e===!0||"true"===e||"True"===e||1===e?r.prop("checked",!0):r.prop("checked",!1),r.on("change blur",function(e){t.trigger("editval",r.is(":checked"))}),r.on("keydown",function(e){13==e.keyCode&&t.trigger("editval",r.is(":checked"))}),r}},destroy:function(){}});
//# sourceMappingURL=tabulator.min.js.map