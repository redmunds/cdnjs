!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.shave=t()}(this,function(){"use strict";function e(e,t,n){if(!t)throw Error("maxHeight is required");var r="string"==typeof e?document.querySelectorAll(e):e;"length"in r||(r=[r]);for(var o={character:"â€¦",classname:"js-shave"},s=n&&n.character||o.character,a=n&&n.classname||o.classname,i='<span class="js-shave-char">'+s+"</span>",c=0;c<r.length;c++){var f=r[c],d=f.querySelector("."+a);if(d&&(f.removeChild(f.querySelector(".js-shave-char")),f.textContent=f.textContent),f.offsetHeight<t)break;var l=f.textContent,h=l.split(" ");if(h.length<2)break;for(var u=h.length-1,v=0,p=void 0;v<u;)p=v+u+1>>1,f.textContent=h.slice(0,p).join(" "),f.insertAdjacentHTML("beforeend",i),f.offsetHeight>t?u=p-1:v=p;f.textContent=h.slice(0,u).join(" "),f.insertAdjacentHTML("beforeend",i);var j=h.slice(u+1).join(" ");f.insertAdjacentHTML("beforeend",'<span class="'+a+'" style="display:none;">'+j+"</span>")}}var t=window.$||window.jQuery||window.Zepto;return t&&t.fn.extend({shave:function(t,n){return e(this,t,n)}}),e});