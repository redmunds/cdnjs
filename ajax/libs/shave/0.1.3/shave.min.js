!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.shave=t()}(this,function(){"use strict";function e(e,t,n){var r="string"==typeof e?document.querySelectorAll(e):e;if("length"in r||(r=[r]),!t)throw Error("maxHeight is required");for(var a="undefined"!=typeof n,s={character:a&&n.character?n.character:"&hellip;",classname:a&&n.classname?n.classname:"js-shave"},o='<span class="js-shave-char">'+s.character+"</span>",i=0;i<r.length;i++){var c=r[i],f=c.querySelector("."+s.classname);if(f){c.removeChild(c.querySelector(".js-shave-char"));var l=c.textContent;c.removeChild(f),c.textContent=l}if(c.offsetHeight<t)return;var h=c.textContent,d=h;do{var u=d.lastIndexOf(" ");if(u<0)break;d=d.substr(0,u),c.textContent=d}while(c.offsetHeight>t);for(var v=0,p="",m=0;m<h.length;m++)d[v]!==h[m]||i===d.length?p+=h[m]:v++;return void c.insertAdjacentHTML("beforeend",o+'<span class="'+s.classname+'" style="display:none;">'+p+"</span>")}}var t=window.$||window.jQuery||window.Zepto;return t&&t.fn.extend({shave:function(t,n){return e(this,t,n)}}),e});