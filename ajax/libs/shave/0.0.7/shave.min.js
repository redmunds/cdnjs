!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.shave=t()}(this,function(){"use strict";function e(e,t,n){var r="string"==typeof e?document.querySelectorAll(e):e;if("length"in r||(r=[r]),!t)throw Error("maxHeight is required");for(var a="undefined"!=typeof n,o={character:a?n.character:"&hellip;",classname:a?n.classname:"js-shave"},s='<span class="js-shave-char">'+o.character+"</span>",i=0;i<r.length;i++){var f=r[i],c=f.querySelector(o.classname);if(f.offsetHeight<t&&c){f.removeChild(f.querySelector(".js-shave-char"));var d=f.textContent;return f.removeChild(c),void(f.textContent=d)}if(f.offsetHeight<t)return;var h=f.textContent,l=h;do{var u=l.lastIndexOf(" ");if(u<0)break;l=l.substr(0,u),f.textContent=l}while(f.offsetHeight>t);for(var v=0,p="",m=0;m<h.length;m++)l[v]!==h[m]||i===l.length?p+=h[m]:v++;return void f.insertAdjacentHTML("beforeend",s+'<span class="'+o.classname+'" style="display:none;">'+p+"</span>")}}var t=window.$||window.jQuery||window.Zepto;return t&&t.fn.extend({shave:function(t,n){return e(this,t,n)}}),e});