!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.shave=t()}(this,function(){"use strict";function e(e,t,n){var r="string"==typeof e?document.querySelectorAll(e):e;if("length"in r||(r=[r]),!t)throw Error("maxHeight is required");for(var a="undefined"!=typeof n,s={character:a&&n.character?n.character:"&hellip;",classname:a&&n.classname?n.classname:"js-shave"},o='<span class="js-shave-char">'+s.character+"</span>",i=0;i<r.length;i++){var f=r[i],c=f.querySelector(s.classname);if(f.offsetHeight<t&&c){f.removeChild(f.querySelector(".js-shave-char"));var h=f.textContent;return f.removeChild(c),void(f.textContent=h)}if(f.offsetHeight<t)return;var l=f.textContent,d=l;do{var u=d.lastIndexOf(" ");if(u<0)break;d=d.substr(0,u),f.textContent=d}while(f.offsetHeight>t);for(var v=0,p="",m=0;m<l.length;m++)d[v]!==l[m]||i===d.length?p+=l[m]:v++;return void f.insertAdjacentHTML("beforeend",o+'<span class="'+s.classname+'" style="display:none;">'+p+"</span>")}}var t=window.$||window.jQuery||window.Zepto;return t&&t.fn.extend({shave:function(t,n){return e(this,t,n)}}),e});