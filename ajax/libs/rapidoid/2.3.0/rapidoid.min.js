function goAt(t){window.location.href=t}function _stop(t){"undefined"!=typeof t.stopPropagation?t.stopPropagation():"undefined"!=typeof t.preventDefault?t.preventDefault():t.cancelBubble=!0}function _emit(t,e){_stop(t);for(var r=document.querySelectorAll("input,textarea"),o={},n=0;n<r.length;n++){var i=$(r[n]),a=i.attr("_h");if(a){var p;p="checkbox"==i.prop("type")||"radio"==i.prop("type")?i.prop("checked"):i.val(),o[a]=p}}r=document.querySelectorAll("option");for(var n=0;n<r.length;n++){var i=$(r[n]),a=i.attr("_h");a&&(o[a]=i.prop("selected"))}$.post(window.location.href,{event:e,inputs:JSON.stringify(o)}).done(function(t){if(t._redirect_)return void goAt(t._redirect_);for(var e in t)if("!errors"==e){$(".field-error").html(""),errors=t[e];for(var r in errors)for(var o=errors[r],n=document.querySelectorAll("input,textarea,option"),i=0;i<n.length;i++){var a=$(n[i]),p=a.attr("_h");p==r&&$(a).next(".field-error").html(o)}}else $(e).html(t[e])}).fail(function(t){alert("Error!"),console.log(t)})}function _popup(t,e){var r=800,o=600,n=screen.width/2-r/2,i=screen.height/2-o/2,a=window.open(t,"windowname1","width="+r+", height="+o+", top="+i+", left="+n);a.focus&&a.focus();var p=setInterval(function(){a.closed&&(clearInterval(p),e&&e(t))},100)}var theme;try{var m=/\bTHEME=(\w+?)\b/g.exec(document.cookie);theme=m[1]}catch(e){}theme&&"default"!=theme&&document.write('<link href="/bootstrap/css/theme-'+theme+'.css" rel="stylesheet">');var rapidoidApp=angular.module("rapidoid-app",["infinite-scroll"]);rapidoidApp.filter("rangex",function(){return function(t,e,r){var o=[];e=parseInt(e),r=parseInt(r);for(var n=e;e+r>n;n++)o.push(n);return o}}),rapidoidApp.filter("nth",function(){return function(t,e,r){for(var o=[],n=0;n<t.length;n++)n%r==e&&o.push(t[n]);return o}}),rapidoidApp.controller("Main",["$scope","$http","$window",function(t,e,r){t.moreLess=function(t){t.more=!t.more},t.upvote=function(t){t.vote=1!=t.vote?1:0},t.downvote=function(t){t.vote=-1!=t.vote?-1:0},t.changeFavLocal=function(t){var e=JSON.parse(localStorage.favortites||"{}");t.fav=!t.fav,t.fav?e[t.id]=!0:delete e[t.id],localStorage.favortites=JSON.stringify(e)}}]),rapidoidApp.controller("StreamController",["$scope","$http","$window","$attrs","StreamData",function(t,e,r,o,n){var i=o.url;t.stream=new n(i),t.items=t.stream.items}]),rapidoidApp.factory("StreamData",function(t){var e=function(t){this.items=[],this.busy=!1,this.page=1,this.dataUrl=t,this.cols=3};return e.prototype.nextPage=function(){if(!this.busy){this.busy=!0;var e=this.dataUrl.replace("{{page}}",""+this.page);t.get(e).success(function(t){for(var e=t,r=0;r<e.length;r++)this.items.push(e[r]);this.page++,this.busy=!1}.bind(this))}},e.prototype.zoom=function(t){var e=this.cols+t;e>=1&&4>=e&&(this.cols=e)},e});