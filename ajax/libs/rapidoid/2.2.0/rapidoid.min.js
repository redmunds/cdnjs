function goAt(e){window.location.href=e}function _stop(e){"undefined"!=typeof e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function _emit(e,t){_stop(e);for(var r=document.querySelectorAll("input,textarea"),o={},n=0;n<r.length;n++){var i=$(r[n]),c=i.attr("_h");if(c){var a;a="checkbox"==i.prop("type")||"radio"==i.prop("type")?i.prop("checked"):i.val(),o[c]=a}}r=document.querySelectorAll("option");for(var n=0;n<r.length;n++){var i=$(r[n]),c=i.attr("_h");c&&(o[c]=i.prop("selected"))}$.post(window.location.href,{event:t,inputs:JSON.stringify(o)}).done(function(e){if(e._redirect_)return void goAt(e._redirect_);for(var t in e)if("!errors"==t){$(".field-error").html(""),errors=e[t];for(var r in errors)for(var o=errors[r],n=document.querySelectorAll("input,textarea,option"),i=0;i<n.length;i++){var c=$(n[i]),a=c.attr("_h");a==r&&$(c).next(".field-error").html(o)}}else $(t).html(e[t])}).fail(function(e){alert("Error!"),console.log(e)})}function _popup(e,t){var r=800,o=600,n=screen.width/2-r/2,i=screen.height/2-o/2,c=window.open(e,"windowname1","width="+r+", height="+o+", top="+i+", left="+n);c.focus&&c.focus();var a=setInterval(function(){c.closed&&(clearInterval(a),t&&t(e))},100)}var theme;try{var m=/\bTHEME=(\w+?)\b/g.exec(document.cookie);theme=m[1]}catch(e){}theme&&"default"!=theme&&document.write('<link href="/bootstrap/css/theme-'+theme+'.css" rel="stylesheet">');