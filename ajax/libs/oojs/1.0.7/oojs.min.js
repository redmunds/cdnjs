/*!
 * OOjs v1.0.7
 * https://www.mediawiki.org/wiki/OOjs
 *
 * Copyright 2011-2014 OOjs Team and other contributors.
 * Released under the MIT license
 * http://oojs.mit-license.org
 *
 * Date: Tue Jan 21 2014 18:20:49 GMT-0800 (PST)
 */
!function(t){"use strict";function r(t,r,e){var n,i,o,s={},c=[];for(n=0,i=r.length;n<i;n++)s[r[n]]=!0;for(n=0,i=t.length;n<i;n++)o=!!s[t[n]],o===e&&c.push(t[n]);return c}var e={},n=e.hasOwnProperty,i=e.toString;e.isPlainObject=function(t){if("[object Object]"!==i.call(t))return!1;try{if(t.constructor&&!n.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}return!0},e.inheritClass=function(t,r){if(t.prototype instanceof r)throw new Error("Target already inherits from origin");var e=t.prototype.constructor;t.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r.static=r.static||{},t.static=Object.create(r.static)},e.mixinClass=function(t,r){var e;for(e in r.prototype)"constructor"!==e&&n.call(r.prototype,e)&&(t.prototype[e]=r.prototype[e]);if(t.static=t.static||{},r.static)for(e in r.static)n.call(r.static,e)&&(t.static[e]=r.static[e]);else r.static={}},e.cloneObject=function(t){var r,e;e=Object.create(t.constructor.prototype);for(r in t)n.call(t,r)&&(e[r]=t[r]);return e},e.getObjectValues=function(t){var r,e;if(t!==Object(t))throw new TypeError("Called on non-object");e=[];for(r in t)n.call(t,r)&&(e[e.length]=t[r]);return e},e.compare=function(t,r,n){var i,o,s,c,a;if(t===r)return!0;for(a in t)if(i=t[a],o=r[a],s=typeof i,c=typeof o,s!==c||("string"===s||"number"===s)&&i!==o||i===Object(i)&&!e.compare(i,o,n))return!1;return!!n||e.compare(r,t,!0)},e.copy=function(t,r){var n,i,o,s;if("function"==typeof t.clone)return t.clone();s=Array.isArray(t)?new Array(t.length):{};for(n in t)i=t[n],o=typeof i,Array.isArray(i)?s[n]=e.copy(i,r):i&&"function"==typeof i.clone?s[n]=r?r(i.clone()):i.clone():i&&"function"==typeof i.cloneNode?s[n]=r?r(i.cloneNode(!0)):i.cloneNode(!0):e.isPlainObject(i)?s[n]=e.copy(i,r):s[n]=r?r(i):i;return s},e.getHash=function(t){return JSON.stringify(t,e.getHash.keySortReplacer)},e.getHash.keySortReplacer=function(t,r){var e,n,i,o;if(r&&"function"==typeof r.getHashObject&&(r=r.getHashObject()),Array.isArray(r)||Object(r)!==r)return r;for(e={},n=Object.keys(r).sort(),i=0,o=n.length;i<o;i+=1)e[n[i]]=r[n[i]];return e},e.simpleArrayUnion=function(){var t,r,e,n,i,o={},s=[];for(t=0,r=arguments.length;t<r;t++)for(e=arguments[t],n=0,i=e.length;n<i;n++)o[e[n]]||(o[e[n]]=!0,s.push(e[n]));return s},e.simpleArrayIntersection=function(t,e){return r(t,e,!0)},e.simpleArrayDifference=function(t,e){return r(t,e,!1)},e.EventEmitter=function(){this.bindings={}},e.EventEmitter.prototype.on=function(t,r,e,n){var i,o,s;if("function"!=typeof r)throw new Error("Invalid callback. Function or method name expected.");if(arguments.length<4&&(n=null),this.bindings.hasOwnProperty(t)){for(o=this.bindings[t],i=o.length;i--;)if(s=o[i],o.callback===r&&o.context===n)return this}else o=this.bindings[t]=[];return o.push({callback:r,args:e,context:n}),this},e.EventEmitter.prototype.once=function(t,r){var e=this;return this.on(t,function n(){e.off(t,n),r.apply(e,Array.prototype.slice.call(arguments,0))})},e.EventEmitter.prototype.off=function(t,r,e){var n,i;if(1===arguments.length)t in this.bindings&&delete this.bindings[t];else{if("function"!=typeof r)throw new Error("Invalid callback. Function expected.");if(!(t in this.bindings&&this.bindings[t].length))return this;for(arguments.length<3&&(e=null),i=this.bindings[t],n=i.length;n--;)i[n].callback===r&&i[n].context===e&&i.splice(n,1);0===i.length&&delete this.bindings[t]}return this},e.EventEmitter.prototype.emit=function(t){var r,e,n,i,o;if(t in this.bindings){for(i=this.bindings[t].slice(),o=Array.prototype.slice.call(arguments,1),r=0,e=i.length;r<e;r++)n=i[r],n.callback.apply(n.context,n.args?n.args.concat(o):o);return!0}return!1},e.EventEmitter.prototype.connect=function(t,r){var e,n,i,o;for(o in r){if(e=r[o],Array.isArray(e)?(i=e.slice(1),e=e[0]):i=[],"string"==typeof e){if(!t[e]||"function"!=typeof t[e])throw new Error("Method not found: "+e);n=t[e]}else n=e;this.on.apply(this,[o,n,i,t])}return this},e.EventEmitter.prototype.disconnect=function(t,r){var e,n,i,o,s;if(r)for(o in r){if(n=r[o],"string"==typeof n){if(!t[n]||"function"!=typeof t[n])throw new Error("Method not found: "+n);i=t[n]}else i=n;this.off(o,i,t)}else for(o in this.bindings)for(s=this.bindings[o],e=s.length;e--;)s[e].context===t&&this.off(o,s[e].callback,t);return this},e.Registry=function(){e.EventEmitter.call(this),this.registry={}},e.mixinClass(e.Registry,e.EventEmitter),e.Registry.prototype.register=function(t,r){if("string"!=typeof t&&!Array.isArray(t))throw new Error("Name argument must be a string or array, cannot be a "+typeof t);var e,n;if(Array.isArray(t))for(e=0,n=t.length;e<n;e++)this.register(t[e],r);else{if("string"!=typeof t)throw new Error("Name must be a string or array of strings, cannot be a "+typeof t);this.registry[t]=r,this.emit("register",t,r)}},e.Registry.prototype.lookup=function(t){return this.registry[t]},e.Factory=function(){e.Registry.call(this),this.entries=[]},e.inheritClass(e.Factory,e.Registry),e.Factory.prototype.register=function(t){var r;if("function"!=typeof t)throw new Error("constructor must be a function, cannot be a "+typeof t);if(r=t.static&&t.static.name,"string"!=typeof r||""===r)throw new Error("Name must be a string and must not be empty");this.entries.push(r),e.Registry.prototype.register.call(this,r,t)},e.Factory.prototype.create=function(t){var r,e,n;if(!this.registry.hasOwnProperty(t))throw new Error("No class registered by that name: "+t);return n=this.registry[t],r=Array.prototype.slice.call(arguments,1),e=Object.create(n.prototype),n.apply(e,r),e},"undefined"!=typeof module&&module.exports?module.exports=e:t.OO=e}(this);
//# sourceMappingURL=oojs.min.js.map