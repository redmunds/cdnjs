/*!
 * OOjs v1.1.5
 * https://www.mediawiki.org/wiki/OOjs
 *
 * Copyright 2011-2015 OOjs Team and other contributors.
 * Released under the MIT license
 * http://oojs.mit-license.org
 *
 * Date: 2015-02-26T01:51:06Z
 */
!function(t){"use strict";function r(t,r,e){var n,i,o,s={},c=[];for(n=0,i=r.length;n<i;n++)s[r[n]]=!0;for(n=0,i=t.length;n<i;n++)o=!!s[t[n]],o===e&&c.push(t[n]);return c}var e={},n=e.hasOwnProperty,i=e.toString;e.initClass=function(t){t.static=t.static||{}},e.inheritClass=function(t,r){if(t.prototype instanceof r)throw new Error("Target already inherits from origin");var n=t.prototype.constructor;t.super=t.parent=r,t.prototype=Object.create(r.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e.initClass(r),t.static=Object.create(r.static)},e.mixinClass=function(t,r){var i;for(i in r.prototype)"constructor"!==i&&n.call(r.prototype,i)&&(t.prototype[i]=r.prototype[i]);if(e.initClass(t),r.static)for(i in r.static)n.call(r.static,i)&&(t.static[i]=r.static[i]);else e.initClass(r)},e.getProp=function(t){var r,e=t;for(r=1;r<arguments.length;r++){if(void 0===e||null===e)return;e=e[arguments[r]]}return e},e.setProp=function(t){var r,e=t;if(Object(t)===t){for(r=1;r<arguments.length-2;r++){if(void 0===e[arguments[r]]&&(e[arguments[r]]={}),Object(e[arguments[r]])!==e[arguments[r]])return;e=e[arguments[r]]}e[arguments[arguments.length-2]]=arguments[arguments.length-1]}},e.cloneObject=function(t){var r,e;e=Object.create(t.constructor.prototype);for(r in t)n.call(t,r)&&(e[r]=t[r]);return e},e.getObjectValues=function(t){var r,e;if(t!==Object(t))throw new TypeError("Called on non-object");e=[];for(r in t)n.call(t,r)&&(e[e.length]=t[r]);return e},e.compare=function(t,r,i){var o,s,c,a,f;if(t===r)return!0;if(t=t||{},r=r||{},"number"==typeof t.nodeType&&"function"==typeof t.isEqualNode)return t.isEqualNode(r);for(f in t)if(n.call(t,f)&&void 0!==t[f]&&t[f]!==r[f]&&(o=t[f],s=r[f],c=typeof o,a=typeof s,c!==a||("string"===c||"number"===c||"boolean"===c)&&o!==s||o===Object(o)&&!e.compare(o,s,!0)))return!1;return!!i||e.compare(r,t,!0)},e.copy=function(t,r,n){var i,o;if(n&&(o=n(t),void 0!==o))return o;if(Array.isArray(t))o=new Array(t.length);else{if(t&&"function"==typeof t.clone)return r?r(t.clone()):t.clone();if(t&&"function"==typeof t.cloneNode)return r?r(t.cloneNode(!0)):t.cloneNode(!0);if(!e.isPlainObject(t))return r?r(t):t;o={}}for(i in t)o[i]=e.copy(t[i],r,n);return o},e.getHash=function(t){return JSON.stringify(t,e.getHash.keySortReplacer)},e.getHash.keySortReplacer=function(t,r){var e,n,i,o;if(r&&"function"==typeof r.getHashObject&&(r=r.getHashObject()),Array.isArray(r)||Object(r)!==r)return r;for(e={},n=Object.keys(r).sort(),i=0,o=n.length;i<o;i+=1)e[n[i]]=r[n[i]];return e},e.simpleArrayUnion=function(){var t,r,e,n,i,o={},s=[];for(t=0,r=arguments.length;t<r;t++)for(e=arguments[t],n=0,i=e.length;n<i;n++)o[e[n]]||(o[e[n]]=!0,s.push(e[n]));return s},e.simpleArrayIntersection=function(t,e){return r(t,e,!0)},e.simpleArrayDifference=function(t,e){return r(t,e,!1)},e.isPlainObject=function(t){if(!t||"[object Object]"!==i.call(t)||t.nodeType||null!=t&&t==t.window)return!1;try{if(t.constructor&&!n.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}return!0},function(){function t(t,r){if("string"==typeof t){if(void 0===r||null===r)throw new Error('Method name "'+t+'" has no context.');if("function"!=typeof r[t])throw new Error('Property "'+t+'" is not a function')}else if("function"!=typeof t)throw new Error("Invalid callback. Function or method name expected.")}e.EventEmitter=function(){this.bindings={}},e.initClass(e.EventEmitter),e.EventEmitter.prototype.on=function(r,e,i,o){var s;return t(e,o),s=n.call(this.bindings,r)?this.bindings[r]:this.bindings[r]=[],s.push({method:e,args:i,context:arguments.length<4?null:o}),this},e.EventEmitter.prototype.once=function(t,r){var e=this,n=function(){return e.off(t,n),r.apply(this,arguments)};return this.on(t,n)},e.EventEmitter.prototype.off=function(r,e,i){var o,s;if(1===arguments.length)return delete this.bindings[r],this;if(t(e,i),!n.call(this.bindings,r)||!this.bindings[r].length)return this;for(arguments.length<3&&(i=null),s=this.bindings[r],o=s.length;o--;)s[o].method===e&&s[o].context===i&&s.splice(o,1);return 0===s.length&&delete this.bindings[r],this},e.EventEmitter.prototype.emit=function(t){var r,e,i,o,s,c=[];if(n.call(this.bindings,t)){for(o=this.bindings[t].slice(),r=1,e=arguments.length;r<e;r++)c.push(arguments[r]);for(r=0,e=o.length;r<e;r++)i=o[r],s="string"==typeof i.method?i.context[i.method]:i.method,s.apply(i.context,i.args?i.args.concat(c):c);return!0}return!1},e.EventEmitter.prototype.connect=function(t,r){var e,n,i;for(i in r)e=r[i],Array.isArray(e)?(n=e.slice(1),e=e[0]):n=[],this.on(i,e,n,t);return this},e.EventEmitter.prototype.disconnect=function(t,r){var e,n,i;if(r)for(n in r)this.off(n,r[n],t);else for(n in this.bindings)for(i=this.bindings[n],e=i.length;e--;)i[e]&&i[e].context===t&&this.off(n,i[e].method,t);return this}}(),e.Registry=function(){e.EventEmitter.call(this),this.registry={}},e.mixinClass(e.Registry,e.EventEmitter),e.Registry.prototype.register=function(t,r){var e,n;if("string"==typeof t)this.registry[t]=r,this.emit("register",t,r);else{if(!Array.isArray(t))throw new Error("Name must be a string or array, cannot be a "+typeof t);for(e=0,n=t.length;e<n;e++)this.register(t[e],r)}},e.Registry.prototype.lookup=function(t){if(n.call(this.registry,t))return this.registry[t]},e.Factory=function(){e.Factory.parent.call(this),this.entries=[]},e.inheritClass(e.Factory,e.Registry),e.Factory.prototype.register=function(t){var r;if("function"!=typeof t)throw new Error("constructor must be a function, cannot be a "+typeof t);if(r=t.static&&t.static.name,"string"!=typeof r||""===r)throw new Error("Name must be a string and must not be empty");this.entries.push(r),e.Factory.parent.prototype.register.call(this,r,t)},e.Factory.prototype.create=function(t){var r,e,n=[],i=this.lookup(t);if(!i)throw new Error("No class registered by that name: "+t);for(e=1;e<arguments.length;e++)n.push(arguments[e]);return r=Object.create(i.prototype),i.apply(r,n),r},"undefined"!=typeof module&&module.exports?module.exports=e:t.OO=e}(this);
//# sourceMappingURL=oojs.min.js.map