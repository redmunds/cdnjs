/*!
 * OOjs v1.1.7
 * https://www.mediawiki.org/wiki/OOjs
 *
 * Copyright 2011-2015 OOjs Team and other contributors.
 * Released under the MIT license
 * http://oojs.mit-license.org
 *
 * Date: 2015-04-29T01:13:49Z
 */
!function(t){"use strict";function r(t,r,e){var n,o,i,s={},c=[];for(n=0,o=r.length;n<o;n++)s[r[n]]=!0;for(n=0,o=t.length;n<o;n++)i=!!s[t[n]],i===e&&c.push(t[n]);return c}var e={},n=e.hasOwnProperty,o=e.toString;e.initClass=function(t){t.static=t.static||{}},e.inheritClass=function(t,r){if(t.prototype instanceof r)throw new Error("Target already inherits from origin");var n=t.prototype.constructor;t.super=t.parent=r,t.prototype=Object.create(r.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e.initClass(r),t.static=Object.create(r.static)},e.mixinClass=function(t,r){var o;for(o in r.prototype)"constructor"!==o&&n.call(r.prototype,o)&&(t.prototype[o]=r.prototype[o]);if(e.initClass(t),r.static)for(o in r.static)n.call(r.static,o)&&(t.static[o]=r.static[o]);else e.initClass(r)},e.getProp=function(t){var r,e=t;for(r=1;r<arguments.length;r++){if(void 0===e||null===e)return;e=e[arguments[r]]}return e},e.setProp=function(t){var r,e=t;if(Object(t)===t){for(r=1;r<arguments.length-2;r++){if(void 0===e[arguments[r]]&&(e[arguments[r]]={}),Object(e[arguments[r]])!==e[arguments[r]])return;e=e[arguments[r]]}e[arguments[arguments.length-2]]=arguments[arguments.length-1]}},e.cloneObject=function(t){var r,e;e=Object.create(t.constructor.prototype);for(r in t)n.call(t,r)&&(e[r]=t[r]);return e},e.getObjectValues=function(t){var r,e;if(t!==Object(t))throw new TypeError("Called on non-object");e=[];for(r in t)n.call(t,r)&&(e[e.length]=t[r]);return e},e.compare=function(t,r,o){var i,s,c,a,f;if(t===r)return!0;if(t=t||{},r=r||{},"number"==typeof t.nodeType&&"function"==typeof t.isEqualNode)return t.isEqualNode(r);for(f in t)if(n.call(t,f)&&void 0!==t[f]&&t[f]!==r[f]&&(i=t[f],s=r[f],c=typeof i,a=typeof s,c!==a||("string"===c||"number"===c||"boolean"===c)&&i!==s||i===Object(i)&&!e.compare(i,s,!0)))return!1;return!!o||e.compare(r,t,!0)},e.copy=function(t,r,n){var o,i;if(n&&(i=n(t),void 0!==i))return i;if(Array.isArray(t))i=new Array(t.length);else{if(t&&"function"==typeof t.clone)return r?r(t.clone()):t.clone();if(t&&"function"==typeof t.cloneNode)return r?r(t.cloneNode(!0)):t.cloneNode(!0);if(!e.isPlainObject(t))return r?r(t):t;i={}}for(o in t)i[o]=e.copy(t[o],r,n);return i},e.getHash=function(t){return JSON.stringify(t,e.getHash.keySortReplacer)},e.getHash.keySortReplacer=function(t,r){var e,n,o,i;if(r&&"function"==typeof r.getHashObject&&(r=r.getHashObject()),Array.isArray(r)||Object(r)!==r)return r;for(e={},n=Object.keys(r).sort(),o=0,i=n.length;o<i;o+=1)e[n[o]]=r[n[o]];return e},e.unique=function(t){return t.reduce(function(t,r){return t.indexOf(r)===-1&&t.push(r),t},[])},e.simpleArrayUnion=function(){var t,r,e,n,o,i={},s=[];for(t=0,r=arguments.length;t<r;t++)for(e=arguments[t],n=0,o=e.length;n<o;n++)i[e[n]]||(i[e[n]]=!0,s.push(e[n]));return s},e.simpleArrayIntersection=function(t,e){return r(t,e,!0)},e.simpleArrayDifference=function(t,e){return r(t,e,!1)},e.isPlainObject=function(t){if(!t||"[object Object]"!==o.call(t)||t.nodeType||null!=t&&t==t.window)return!1;try{if(t.constructor&&!n.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}return!0},function(){function t(t,r){if("string"==typeof t){if(void 0===r||null===r)throw new Error('Method name "'+t+'" has no context.');if("function"!=typeof r[t])throw new Error('Property "'+t+'" is not a function')}else if("function"!=typeof t)throw new Error("Invalid callback. Function or method name expected.")}e.EventEmitter=function(){this.bindings={}},e.initClass(e.EventEmitter),e.EventEmitter.prototype.on=function(r,e,o,i){var s;return t(e,i),s=n.call(this.bindings,r)?this.bindings[r]:this.bindings[r]=[],s.push({method:e,args:o,context:arguments.length<4?null:i}),this},e.EventEmitter.prototype.once=function(t,r){var e=this,n=function(){return e.off(t,n),r.apply(this,arguments)};return this.on(t,n)},e.EventEmitter.prototype.off=function(r,e,o){var i,s;if(1===arguments.length)return delete this.bindings[r],this;if(t(e,o),!n.call(this.bindings,r)||!this.bindings[r].length)return this;for(arguments.length<3&&(o=null),s=this.bindings[r],i=s.length;i--;)s[i].method===e&&s[i].context===o&&s.splice(i,1);return 0===s.length&&delete this.bindings[r],this},e.EventEmitter.prototype.emit=function(t){var r,e,o,i,s,c=[];if(n.call(this.bindings,t)){for(i=this.bindings[t].slice(),r=1,e=arguments.length;r<e;r++)c.push(arguments[r]);for(r=0,e=i.length;r<e;r++)o=i[r],s="string"==typeof o.method?o.context[o.method]:o.method,s.apply(o.context,o.args?o.args.concat(c):c);return!0}return!1},e.EventEmitter.prototype.connect=function(t,r){var e,n,o;for(o in r)e=r[o],Array.isArray(e)?(n=e.slice(1),e=e[0]):n=[],this.on(o,e,n,t);return this},e.EventEmitter.prototype.disconnect=function(t,r){var e,n,o;if(r)for(n in r)this.off(n,r[n],t);else for(n in this.bindings)for(o=this.bindings[n],e=o.length;e--;)o[e]&&o[e].context===t&&this.off(n,o[e].method,t);return this}}(),e.Registry=function(){e.EventEmitter.call(this),this.registry={}},e.mixinClass(e.Registry,e.EventEmitter),e.Registry.prototype.register=function(t,r){var e,n;if("string"==typeof t)this.registry[t]=r,this.emit("register",t,r);else{if(!Array.isArray(t))throw new Error("Name must be a string or array, cannot be a "+typeof t);for(e=0,n=t.length;e<n;e++)this.register(t[e],r)}},e.Registry.prototype.unregister=function(t){var r,e,n;if("string"==typeof t)n=this.lookup(t),void 0!==n&&(delete this.registry[t],this.emit("unregister",t,n));else{if(!Array.isArray(t))throw new Error("Name must be a string or array, cannot be a "+typeof t);for(r=0,e=t.length;r<e;r++)this.unregister(t[r])}},e.Registry.prototype.lookup=function(t){if(n.call(this.registry,t))return this.registry[t]},e.Factory=function(){e.Factory.parent.call(this)},e.inheritClass(e.Factory,e.Registry),e.Factory.prototype.register=function(t){var r;if("function"!=typeof t)throw new Error("constructor must be a function, cannot be a "+typeof t);if(r=t.static&&t.static.name,"string"!=typeof r||""===r)throw new Error("Name must be a string and must not be empty");e.Factory.parent.prototype.register.call(this,r,t)},e.Factory.prototype.unregister=function(t){var r;if("function"!=typeof t)throw new Error("constructor must be a function, cannot be a "+typeof t);if(r=t.static&&t.static.name,"string"!=typeof r||""===r)throw new Error("Name must be a string and must not be empty");e.Factory.parent.prototype.unregister.call(this,r)},e.Factory.prototype.create=function(t){var r,e,n=[],o=this.lookup(t);if(!o)throw new Error("No class registered by that name: "+t);for(e=1;e<arguments.length;e++)n.push(arguments[e]);return r=Object.create(o.prototype),o.apply(r,n),r},"undefined"!=typeof module&&module.exports?module.exports=e:t.OO=e}(this);
//# sourceMappingURL=oojs.min.js.map