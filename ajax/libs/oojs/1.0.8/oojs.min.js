/*!
 * OOjs v1.0.8
 * https://www.mediawiki.org/wiki/OOjs
 *
 * Copyright 2011-2014 OOjs Team and other contributors.
 * Released under the MIT license
 * http://oojs.mit-license.org
 *
 * Date: Tue Mar 11 2014 19:27:31 GMT+0100 (CET)
 */
!function(t){"use strict";function r(t,r,e){var n,o,i,c={},s=[];for(n=0,o=r.length;n<o;n++)c[r[n]]=!0;for(n=0,o=t.length;n<o;n++)i=!!c[t[n]],i===e&&s.push(t[n]);return s}var e={},n=e.hasOwnProperty,o=e.toString;e.isPlainObject=function(t){if("[object Object]"!==o.call(t))return!1;try{if(t.constructor&&!n.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}return!0},e.inheritClass=function(t,r){if(t.prototype instanceof r)throw new Error("Target already inherits from origin");var e=t.prototype.constructor;t.super=r,t.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r.static=r.static||{},t.static=Object.create(r.static)},e.mixinClass=function(t,r){var e;for(e in r.prototype)"constructor"!==e&&n.call(r.prototype,e)&&(t.prototype[e]=r.prototype[e]);if(t.static=t.static||{},r.static)for(e in r.static)n.call(r.static,e)&&(t.static[e]=r.static[e]);else r.static={}},e.cloneObject=function(t){var r,e;e=Object.create(t.constructor.prototype);for(r in t)n.call(t,r)&&(e[r]=t[r]);return e},e.getObjectValues=function(t){var r,e;if(t!==Object(t))throw new TypeError("Called on non-object");e=[];for(r in t)n.call(t,r)&&(e[e.length]=t[r]);return e},e.compare=function(t,r,n){var o,i,c,s,a;if(t===r)return!0;for(a in t)if(o=t[a],i=r[a],c=typeof o,s=typeof i,c!==s||("string"===c||"number"===c)&&o!==i||o===Object(o)&&!e.compare(o,i,n))return!1;return!!n||e.compare(r,t,!0)},e.copy=function(t,r){var n,o,i,c;if("function"==typeof t.clone)return t.clone();c=Array.isArray(t)?new Array(t.length):{};for(n in t)o=t[n],i=typeof o,Array.isArray(o)?c[n]=e.copy(o,r):o&&"function"==typeof o.clone?c[n]=r?r(o.clone()):o.clone():o&&"function"==typeof o.cloneNode?c[n]=r?r(o.cloneNode(!0)):o.cloneNode(!0):e.isPlainObject(o)?c[n]=e.copy(o,r):c[n]=r?r(o):o;return c},e.getHash=function(t){return JSON.stringify(t,e.getHash.keySortReplacer)},e.getHash.keySortReplacer=function(t,r){var e,n,o,i;if(r&&"function"==typeof r.getHashObject&&(r=r.getHashObject()),Array.isArray(r)||Object(r)!==r)return r;for(e={},n=Object.keys(r).sort(),o=0,i=n.length;o<i;o+=1)e[n[o]]=r[n[o]];return e},e.simpleArrayUnion=function(){var t,r,e,n,o,i={},c=[];for(t=0,r=arguments.length;t<r;t++)for(e=arguments[t],n=0,o=e.length;n<o;n++)i[e[n]]||(i[e[n]]=!0,c.push(e[n]));return c},e.simpleArrayIntersection=function(t,e){return r(t,e,!0)},e.simpleArrayDifference=function(t,e){return r(t,e,!1)},e.EventEmitter=function(){this.bindings={}},e.EventEmitter.prototype.on=function(t,r,e,n){var o,i,c;if("function"!=typeof r)throw new Error("Invalid callback. Function or method name expected.");if(arguments.length<4&&(n=null),this.bindings.hasOwnProperty(t)){for(i=this.bindings[t],o=i.length;o--;)if(c=i[o],i.callback===r&&i.context===n)return this}else i=this.bindings[t]=[];return i.push({callback:r,args:e,context:n}),this},e.EventEmitter.prototype.once=function(t,r){var e=this;return this.on(t,function n(){e.off(t,n),r.apply(e,Array.prototype.slice.call(arguments,0))})},e.EventEmitter.prototype.off=function(t,r,e){var n,o;if(1===arguments.length)t in this.bindings&&delete this.bindings[t];else{if("function"!=typeof r)throw new Error("Invalid callback. Function expected.");if(!(t in this.bindings&&this.bindings[t].length))return this;for(arguments.length<3&&(e=null),o=this.bindings[t],n=o.length;n--;)o[n].callback===r&&o[n].context===e&&o.splice(n,1);0===o.length&&delete this.bindings[t]}return this},e.EventEmitter.prototype.emit=function(t){var r,e,n,o,i;if(t in this.bindings){for(o=this.bindings[t].slice(),i=Array.prototype.slice.call(arguments,1),r=0,e=o.length;r<e;r++)n=o[r],n.callback.apply(n.context,n.args?n.args.concat(i):i);return!0}return!1},e.EventEmitter.prototype.connect=function(t,r){var e,n,o,i;for(i in r){if(e=r[i],Array.isArray(e)?(o=e.slice(1),e=e[0]):o=[],"string"==typeof e){if(!t[e]||"function"!=typeof t[e])throw new Error("Method not found: "+e);n=t[e]}else n=e;this.on.apply(this,[i,n,o,t])}return this},e.EventEmitter.prototype.disconnect=function(t,r){var e,n,o,i,c;if(r)for(i in r){if(n=r[i],"string"==typeof n){if(!t[n]||"function"!=typeof t[n])throw new Error("Method not found: "+n);o=t[n]}else o=n;this.off(i,o,t)}else for(i in this.bindings)for(c=this.bindings[i],e=c.length;e--;)c[e].context===t&&this.off(i,c[e].callback,t);return this},e.Registry=function(){e.EventEmitter.call(this),this.registry={}},e.mixinClass(e.Registry,e.EventEmitter),e.Registry.prototype.register=function(t,r){var e,n;if("string"==typeof t)this.registry[t]=r,this.emit("register",t,r);else{if(!Array.isArray(t))throw new Error("Name must be a string or array, cannot be a "+typeof t);for(e=0,n=t.length;e<n;e++)this.register(t[e],r)}},e.Registry.prototype.lookup=function(t){return this.registry[t]},e.Factory=function(){e.Factory.super.call(this),this.entries=[]},e.inheritClass(e.Factory,e.Registry),e.Factory.prototype.register=function(t){var r;if("function"!=typeof t)throw new Error("constructor must be a function, cannot be a "+typeof t);if(r=t.static&&t.static.name,"string"!=typeof r||""===r)throw new Error("Name must be a string and must not be empty");this.entries.push(r),e.Factory.super.prototype.register.call(this,r,t)},e.Factory.prototype.create=function(t){var r,e,n;if(!this.registry.hasOwnProperty(t))throw new Error("No class registered by that name: "+t);return n=this.registry[t],r=Array.prototype.slice.call(arguments,1),e=Object.create(n.prototype),n.apply(e,r),e},"undefined"!=typeof module&&module.exports?module.exports=e:t.OO=e}(this);
//# sourceMappingURL=oojs.min.js.map