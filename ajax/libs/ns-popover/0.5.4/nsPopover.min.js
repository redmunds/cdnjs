!function(t,e,n){"use strict";var o=e.module("nsPopover",[]),i=e.element,r=e.isDefined;e.forEach;o.directive("nsPopover",function(o,c,a,l,s,p){return{restrict:"A",link:function(d,f,h){function u(t,e,n,o,i){var r,c,a=g(t[0]),l=function(){return"center"===n?Math.round(o.left+o.width/2-a.width/2):"right"===n?o.right-a.width:o.left},s=function(){return"center"===n?Math.round(o.top+o.height/2-a.height/2):o[n]};"top"===e?(r=o.top-a.height-1,c=l()):"right"===e?(r=s(),c=o.right+1):"bottom"===e?(r=o.bottom+1,c=l()):"left"===e&&(r=s(),c=o.left-a.width-1),t.css("top",r.toString()+"px").css("left",c.toString()+"px"),i&&("top"===e||"bottom"===e?(c=o.left+o.width/2-c,i.css("left",c.toString()+"px")):(r=o.top+o.height/2-r,i.css("top",NaN)))}function g(e){var n=t,o=document.documentElement||document.body.parentNode||document.body,i=r(n.pageXOffset)?n.pageXOffset:o.scrollLeft,c=r(n.pageYOffset)?n.pageYOffset:o.scrollTop,a=e.getBoundingClientRect();return a.top+=c,a.left+=i,a}function m(t,n){return t?e.isString(t)&&n?t:c.get(t)||l.get(t,{cache:!0}):""}var v={template:h.nsPopoverTemplate,theme:h.nsPopoverTheme||"ns-popover-list-theme",plain:h.nsPopoverPlain,trigger:h.nsPopoverTrigger||"click",container:h.nsPopoverContainer,placement:h.nsPopoverPlacement||"bottom|left"},b={id_:n,hide:function(t,e){o.cancel(b.id_),r(e)||(e=1500),b.id_=o(function(){t.css("display","none")},e)},cancel:function(){o.cancel(b.id_)}},w=i(v.container);w.length||(w=p.find("body"));var P,y,C,S=i("<div></div>"),k=v.placement.match(/^(top|bottom|left|right)$|((top|bottom)\|(center|left|right)+)|((left|right)\|(center|top|bottom)+)/);if(!k)throw new Error('"'+v.placement+'" is not a valid placement or has a invalid combination of placements.');y=k[6]||k[3]||k[1],C=k[7]||k[4]||k[2]||"center",a.when(m(v.template,v.plain)).then(function(t){if(t=e.isString(t)?t:t.data&&e.isString(t.data)?t.data:"",S.html(t),v.theme&&S.addClass(v.theme),S.addClass("ns-popover-"+y+"-placement").addClass("ns-popover-"+C+"-align"),o(function(){s(S)(d)}),d.$on("$destroy",function(){S.remove()}),S.css("position","absolute").css("display","none"),P=S.find(".triangle"),!P.length)for(var n=S.children(),r=0;r<n.length;++r){var c=i(n[r]);if(c.hasClass("triangle")){P=c;break}}w.append(S)}),f.on(v.trigger,function(t){t.preventDefault(),b.cancel(),S.css("display","block"),u(S,y,C,g(f[0]),P),S.on("click",function(){b.hide(S,0)})}),f.on("mouseout",function(){b.hide(S)}),S.on("mouseout",function(t){b.hide(S)}).on("mouseover",function(){b.cancel()})}}})}(window,window.angular);
//# sourceMappingURL=nsPopover.min.js.map