!function(t,e,o){"use strict";var n=e.module("nsPopover",[]),i=e.element,r=e.isDefined,c=(e.forEach,[]),a=0;n.directive("nsPopover",function(n,s,l,p,h,d){return{restrict:"A",link:function(f,u,m){function g(t,e,o,n,i){var r,c,a=v(t[0]),s=function(){return"center"===o?Math.round(n.left+n.width/2-a.width/2):"right"===o?n.right-a.width:n.left},l=function(){return"center"===o?Math.round(n.top+n.height/2-a.height/2):"bottom"===o?n.bottom-a.height:n.top};"top"===e?(r=n.top-a.height,c=s()):"right"===e?(r=l(),c=n.right):"bottom"===e?(r=n.bottom,c=s()):"left"===e&&(r=l(),c=n.left-a.width),t.css("top",r.toString()+"px").css("left",c.toString()+"px"),i&&("top"===e||"bottom"===e?(c=n.left+n.width/2-c,i.css("left",c.toString()+"px")):(r=n.top+n.height/2-r,i.css("top",r.toString()+"px")))}function v(e){var o=t,n=document.documentElement||document.body.parentNode||document.body,i=r(o.pageXOffset)?o.pageXOffset:n.scrollLeft,c=r(o.pageYOffset)?o.pageYOffset:n.scrollTop,a=e.getBoundingClientRect();return i||c?{bottom:a.bottom+c,left:a.left+i,right:a.right+i,top:a.top+c,height:a.height,width:a.width}:a}function b(t,o){return t?e.isString(t)&&o?t:s.get(t)||p.get(t,{cache:!0}):""}var w={template:m.nsPopoverTemplate,theme:m.nsPopoverTheme||"ns-popover-list-theme",plain:m.nsPopoverPlain,trigger:m.nsPopoverTrigger||"click",container:m.nsPopoverContainer,placement:m.nsPopoverPlacement||"bottom|left",timeout:m.nsPopoverTimeout||1.5},P={id_:o,hide:function(t,e){n.cancel(P.id_),r(e)||(e=1.5),P.id_=n(function(){t.css("display","none")},1e3*e)},cancel:function(){n.cancel(P.id_)}},y=i(w.container);y.length||(y=d.find("body"));var S,C,k;a+=1;var T=i('<div id="nspopover-'+a+'"></div>');c.push(T);var x=w.placement.match(/^(top|bottom|left|right)$|((top|bottom)\|(center|left|right)+)|((left|right)\|(center|top|bottom)+)/);if(!x)throw new Error('"'+w.placement+'" is not a valid placement or has a invalid combination of placements.');C=x[6]||x[3]||x[1],k=x[7]||x[4]||x[2]||"center",l.when(b(w.template,w.plain)).then(function(t){if(t=e.isString(t)?t:t.data&&e.isString(t.data)?t.data:"",T.html(t),w.theme&&T.addClass(w.theme),T.addClass("ns-popover-"+C+"-placement").addClass("ns-popover-"+k+"-align"),n(function(){h(T)(f)}),f.$on("$destroy",function(){T.remove()}),T.css("position","absolute").css("display","none"),S=T.find(".triangle"),!S.length)for(var o=T.children(),r=0;r<o.length;++r){var c=i(o[r]);if(c.hasClass("triangle")){S=c;break}}y.append(T)}),u.on(w.trigger,function(t){t.preventDefault(),P.cancel(),T.css("display","block"),g(T,C,k,v(u[0]),S),T.on("click",function(){P.hide(T,0)})}),u.on("mouseout",function(){P.hide(T,w.timeout)}).on("mouseover",function(){P.cancel()}),T.on("mouseout",function(t){P.hide(T,w.timeout)}).on("mouseover",function(){P.cancel()})}}})}(window,window.angular);
//# sourceMappingURL=nsPopover.min.js.map