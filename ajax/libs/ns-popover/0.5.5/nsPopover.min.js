!function(t,e,n){"use strict";var o=e.module("nsPopover",[]),i=e.element,r=e.isDefined;e.forEach;o.directive("nsPopover",function(o,c,a,l,s,p){return{restrict:"A",link:function(d,f,h){function u(t,e,n,o,i){var r,c,a=g(t[0]),l=function(){return"center"===n?Math.round(o.left+o.width/2-a.width/2):"right"===n?o.right-a.width:o.left},s=function(){return"center"===n?Math.round(o.top+o.height/2-a.height/2):"bottom"===n?o.bottom-a.height:o.top};"top"===e?(r=o.top-a.height,c=l()):"right"===e?(r=s(),c=o.right):"bottom"===e?(r=o.bottom,c=l()):"left"===e&&(r=s(),c=o.left-a.width),t.css("top",r.toString()+"px").css("left",c.toString()+"px"),i&&("top"===e||"bottom"===e?(c=o.left+o.width/2-c,i.css("left",c.toString()+"px")):(r=o.top+o.height/2-r,i.css("top",r.toString()+"px")))}function g(e){var n=t,o=document.documentElement||document.body.parentNode||document.body,i=r(n.pageXOffset)?n.pageXOffset:o.scrollLeft,c=r(n.pageYOffset)?n.pageYOffset:o.scrollTop,a=e.getBoundingClientRect();return a.top+=c,a.left+=i,a}function m(t,n){return t?e.isString(t)&&n?t:c.get(t)||l.get(t,{cache:!0}):""}var v={template:h.nsPopoverTemplate,theme:h.nsPopoverTheme||"ns-popover-list-theme",plain:h.nsPopoverPlain,trigger:h.nsPopoverTrigger||"click",container:h.nsPopoverContainer,placement:h.nsPopoverPlacement||"bottom|left"},b={id_:n,hide:function(t,e){o.cancel(b.id_),r(e)||(e=1500),b.id_=o(function(){t.css("display","none")},e)},cancel:function(){o.cancel(b.id_)}},w=i(v.container);w.length||(w=p.find("body"));var P,y,S,C=i("<div></div>"),k=v.placement.match(/^(top|bottom|left|right)$|((top|bottom)\|(center|left|right)+)|((left|right)\|(center|top|bottom)+)/);if(!k)throw new Error('"'+v.placement+'" is not a valid placement or has a invalid combination of placements.');y=k[6]||k[3]||k[1],S=k[7]||k[4]||k[2]||"center",a.when(m(v.template,v.plain)).then(function(t){if(t=e.isString(t)?t:t.data&&e.isString(t.data)?t.data:"",C.html(t),v.theme&&C.addClass(v.theme),C.addClass("ns-popover-"+y+"-placement").addClass("ns-popover-"+S+"-align"),o(function(){s(C)(d)}),d.$on("$destroy",function(){C.remove()}),C.css("position","absolute").css("display","none"),P=C.find(".triangle"),!P.length)for(var n=C.children(),r=0;r<n.length;++r){var c=i(n[r]);if(c.hasClass("triangle")){P=c;break}}w.append(C)}),f.on(v.trigger,function(t){t.preventDefault(),b.cancel(),C.css("display","block"),u(C,y,S,g(f[0]),P),C.on("click",function(){b.hide(C,0)})}),f.on("mouseout",function(){b.hide(C)}),C.on("mouseout",function(t){b.hide(C)}).on("mouseover",function(){b.cancel()})}}})}(window,window.angular);
//# sourceMappingURL=nsPopover.min.js.map