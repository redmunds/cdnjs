!function(){function i(i,t){for(var s=2;s<arguments.length;s++)for(var h=0;h<arguments[s].length;h++)i[t++]=arguments[s].charAt(h)}function t(i){return String.fromCharCode(i>>8&255,255&i)}function s(i){return String.fromCharCode(i>>24&255,i>>16&255,i>>8&255,255&i)}function h(i){return String.fromCharCode(255&i,i>>8&255)}var e=function(e,f,r){this.width=e,this.height=f,this.depth=r,this.pix_size=f*(e+1),this.data_size=2+this.pix_size+5*Math.floor((65534+this.pix_size)/65535)+4,this.ihdr_offs=0,this.ihdr_size=25,this.plte_offs=this.ihdr_offs+this.ihdr_size,this.plte_size=8+3*r+4,this.trns_offs=this.plte_offs+this.plte_size,this.trns_size=8+r+4,this.idat_offs=this.trns_offs+this.trns_size,this.idat_size=8+this.data_size+4,this.iend_offs=this.idat_offs+this.idat_size,this.iend_size=12,this.buffer_size=this.iend_offs+this.iend_size,this.buffer=new Array,this.palette=new Object,this.pindex=0;for(var o=new Array,n=0;n<this.buffer_size;n++)this.buffer[n]="\0";i(this.buffer,this.ihdr_offs,s(this.ihdr_size-12),"IHDR",s(e),s(f),"\b"),i(this.buffer,this.plte_offs,s(this.plte_size-12),"PLTE"),i(this.buffer,this.trns_offs,s(this.trns_size-12),"tRNS"),i(this.buffer,this.idat_offs,s(this.idat_size-12),"IDAT"),i(this.buffer,this.iend_offs,s(this.iend_size-12),"IEND");var d=30912;d+=31-d%31,i(this.buffer,this.idat_offs+8,t(d));for(var n=0;(n<<16)-1<this.pix_size;n++){var a,_;n+65535<this.pix_size?(a=65535,_="\0"):(a=this.pix_size-(n<<16)-n,_=""),i(this.buffer,this.idat_offs+8+2+(n<<16)+(n<<2),_,h(a),h(~a))}for(var n=0;n<256;n++){for(var u=n,p=0;p<8;p++)u=1&u?-306674912^u>>1&2147483647:u>>1&2147483647;o[n]=u}this.index=function(i,t){var s=t*(this.width+1)+i+1,h=this.idat_offs+8+2+5*Math.floor(s/65535+1)+s;return h},this.color=function(i,t,s,h){h=h>=0?h:255;var e=((h<<8|i)<<8|t)<<8|s;if("undefined"==typeof this.palette[e]){if(this.pindex==this.depth)return"\0";var f=this.plte_offs+8+3*this.pindex;this.buffer[f+0]=String.fromCharCode(i),this.buffer[f+1]=String.fromCharCode(t),this.buffer[f+2]=String.fromCharCode(s),this.buffer[this.trns_offs+8+this.pindex]=String.fromCharCode(h),this.palette[e]=String.fromCharCode(this.pindex++)}return this.palette[e]},this.getBase64=function(){var i,t,s,h,e,f,r,o=this.getDump(),n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",d=o.length,a=0,_="";do i=o.charCodeAt(a),h=i>>2,t=o.charCodeAt(a+1),e=(3&i)<<4|t>>4,s=o.charCodeAt(a+2),f=d<a+2?64:(15&t)<<2|s>>6,r=d<a+3?64:63&s,_+=n.charAt(h)+n.charAt(e)+n.charAt(f)+n.charAt(r);while((a+=3)<d);return _},this.getDump=function(){function t(t,h,e){for(var f=-1,r=4;r<e-4;r+=1)f=o[255&(f^t[h+r].charCodeAt(0))]^f>>8&16777215;i(t,h+e-4,s(f^-1))}for(var h=65521,e=5552,f=1,r=0,n=e,d=0;d<this.height;d++)for(var a=-1;a<this.width;a++)f+=this.buffer[this.index(a,d)].charCodeAt(0),r+=f,0==(n-=1)&&(f%=h,r%=h,n=e);return f%=h,r%=h,i(this.buffer,this.idat_offs+this.idat_size-8,s(r<<16|f)),t(this.buffer,this.ihdr_offs,this.ihdr_size),t(this.buffer,this.plte_offs,this.plte_size),t(this.buffer,this.trns_offs,this.trns_size),t(this.buffer,this.idat_offs,this.idat_size),t(this.buffer,this.iend_offs,this.iend_size),"Â‰PNG\r\n\n"+this.buffer.join("")}};"undefined"!=typeof module&&"undefined"!=typeof module.exports?module.exports=e:window.PNGlib=e}();