!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.hyperapp=t.hyperapp||{})}(this,function(t){"use strict";function e(t,n,o){n.ns="http://www.w3.org/2000/svg";for(var r=0;r<o.length;r++){var a=o[r];a.data&&e(a.tag,a.data,a.children)}}var n=function(t,n){n=n||{};var o=[];o.push.apply(o,arguments),o.shift(),o.shift();var r=o[0];return o=Array.isArray(r)||void 0===r?r:o,"function"==typeof t?(n.children=o||[],t(n)):("svg"===t&&e(t,n,o),{tag:t,data:n,children:[].concat.apply([],o)})},o=function(t){function e(t){"loading"!==document.readyState?t():document.addEventListener("DOMContentLoaded",t)}function n(t,e,n){s(p,l=e(t,y),n,0)}function o(t,e){var n,o={};if(r(typeof e)||Array.isArray(e))return e;for(n in t)o[n]=t[n];for(n in e)o[n]=e[n];return o}function r(t){return"string"===t||"number"===t||"boolean"===t}function a(t,e){setTimeout(function(){t(e)},0)}function i(t,e){return t.tag!==e.tag||typeof t!=typeof e||r(typeof t)&&t!==e}function c(t){var e;if(r(typeof t))e=document.createTextNode(t);else{e=t.data&&t.data.ns?document.createElementNS(t.data.ns,t.tag):document.createElement(t.tag);for(var n in t.data)"oncreate"===n?a(t.data[n],e):d(e,n,t.data[n]);for(var o=0;o<t.children.length;o++)e.appendChild(c(t.children[o]))}return e}function f(t,e,n){t.removeAttribute("className"===e?"class":e),"boolean"!=typeof n&&"true"!==n&&"false"!==n||(t[e]=!1)}function d(t,e,n,o){if("style"===e)for(var r in n)t.style[r]=n[r];else if("on"===e.substr(0,2)){var a=e.substr(2).toLowerCase();t.removeEventListener(a,o),t.addEventListener(a,n)}else"false"===n||n===!1?(t.removeAttribute(e),t[e]=!1):(t.setAttribute(e,n),t[e]=n)}function u(t,e,n){for(var r in o(n,e)){var i=e[r],c=n[r];void 0===i?f(t,r,c):i!==c&&("onupdate"===r?a(i,t):d(t,r,i,c))}}function s(t,e,n,o){if(void 0===n)t.appendChild(c(e));else if(void 0===e){for(;o>0&&!t.childNodes[o];)o--;var r=t.childNodes[o];if(n&&n.data){var f=n.data.onremove;f&&a(f,r)}t.removeChild(r)}else if(i(e,n))t.replaceChild(c(e),t.childNodes[o]);else if(e.tag){var r=t.childNodes[o];u(r,e.data,n.data);for(var d=e.children.length,l=n.children.length,p=0;p<d||p<l;p++)s(r,e.children[p],n.children[p],p)}}var l,p,v=t.model,h=t.view,y={},m=t.effects||{},g=t.update||{},w=t.subscriptions,b=t.router||Function.prototype,A=o({onAction:Function.prototype,onUpdate:Function.prototype,onError:function(t){throw t}},t.hooks);for(var E in o(g,m))!function(t){y[t]=function(e){A.onAction(t,e);var r=m[t];if(r)return r(v,y,e,A.onError);var a=g[t],i=v;n(v=o(v,a(v,e)),h,l),A.onUpdate(i,v,e)}}(E);e(function(){p=t.root||document.body.appendChild(document.createElement("div")),"function"==typeof h&&n(v,h),b(function(t){n(v,h=t?t:h,l)},t);for(var e in w)w[e](v,y,A.onError)})},r=function(t,e){function n(e){t(o(a,e)),history.pushState({},"",e)}function o(t,e){for(var o in t){var a,i=r(o),c={};if(e.replace(new RegExp(i.re,"g"),function(){for(var e=1;e<arguments.length-2;e++)c[i.keys.shift()]=arguments[e];a=function(e,r){return r.setLocation=n,t[o](e,r,c)}}),a)return a}return t["/"]}function r(t){var e=[];return{re:"^"+t.replace(/\//g,"\\/").replace(/:([A-Za-z0-9_]+)/g,function(t,n){return e.push(n),"([A-Za-z0-9_]+)"})+"/?$",keys:e}}var a=e.view;window.addEventListener("popstate",function(){t(o(a,location.pathname))}),window.addEventListener("click",function(t){if(!(t.metaKey||t.shiftKey||t.ctrlKey||t.altKey)){for(var e=t.target;e&&"a"!==e.localName;)e=e.parentNode;if(e&&e.host===location.host&&!e.hasAttribute("data-no-routing")){var o=document.querySelector(""===e.hash?o:e.hash);o?o.scrollIntoView(!0):(t.preventDefault(),n(e.pathname))}}}),t(o(a,location.pathname))};t.h=n,t.app=o,t.router=r});
//# sourceMappingURL=hyperapp.js.map
