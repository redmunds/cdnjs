!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.hyperapp=e.hyperapp||{})}(this,function(e){"use strict";function t(e,n,r){n.ns="http://www.w3.org/2000/svg";for(var o=0;o<r.length;o++){var a=r[o];a.data&&t(a.tag,a.data,a.children)}}var n=function(e,n){n=n||{};var r=[];r.push.apply(r,arguments),r.shift(),r.shift();var o=r[0];return r=Array.isArray(o)||void 0===o?o:r,"function"==typeof e?(n.children=r||[],e(n)):("svg"===e&&t(e,n,r),{tag:e,data:n,children:[].concat.apply([],r)})},r=function(e){function t(e){"loading"!==document.readyState?e():document.addEventListener("DOMContentLoaded",e)}function n(e,t,n){s(p,l=t(e,y),n,0)}function r(e,t){var n,r={};if(o(typeof t)||Array.isArray(t))return t;for(n in e)r[n]=e[n];for(n in t)r[n]=t[n];return r}function o(e){return"string"===e||"number"===e||"boolean"===e}function a(e,t){setTimeout(function(){e(t)},0)}function i(e,t){return e.tag!==t.tag||typeof e!=typeof t||o(typeof e)&&e!==t}function c(e){var t;if(o(typeof e))t=document.createTextNode(e);else{t=e.data&&e.data.ns?document.createElementNS(e.data.ns,e.tag):document.createElement(e.tag);for(var n in e.data)"oncreate"===n?a(e.data[n],t):d(t,n,e.data[n]);for(var r=0;r<e.children.length;r++)t.appendChild(c(e.children[r]))}return t}function f(e,t,n){e.removeAttribute("className"===t?"class":t),"boolean"!=typeof n&&"true"!==n&&"false"!==n||(e[t]=!1)}function d(e,t,n,r){if("style"===t)for(var o in n)e.style[o]=n[o];else if("on"===t.substr(0,2)){var a=t.substr(2).toLowerCase();e.removeEventListener(a,r),e.addEventListener(a,n)}else"false"===n||n===!1?(e.removeAttribute(t),e[t]=!1):(e.setAttribute(t,n),e[t]=n)}function u(e,t,n){for(var o in r(n,t)){var i=t[o],c=n[o];void 0===i?f(e,o,c):i!==c&&("onupdate"===o?a(i,e):d(e,o,i,c))}}function s(e,t,n,r){if(void 0===n)e.appendChild(c(t));else if(void 0===t){for(;r>0&&!e.childNodes[r];)r--;var o=e.childNodes[r];if(n&&n.data){var f=n.data.onremove;f&&a(f,o)}e.removeChild(o)}else if(i(t,n))e.replaceChild(c(t),e.childNodes[r]);else if(t.tag){var o=e.childNodes[r];u(o,t.data,n.data);for(var d=t.children.length,l=n.children.length,p=0;p<d||p<l;p++)s(o,t.children[p],n.children[p],p)}}var l,p,v=e.model,h=e.view,y={},m=e.effects||{},g=e.update||{},w=e.subscriptions,b=e.router||Function.prototype,A=r({onAction:Function.prototype,onUpdate:Function.prototype,onError:function(e){throw e}},e.hooks);for(var E in r(g,m))!function(e){y[e]=function(t){A.onAction(e,t);var o=m[e];if(o)return o(v,y,t,A.onError);var a=g[e],i=v;n(v=r(v,a(v,t)),h,l),A.onUpdate(i,v,t)}}(E);t(function(){p=e.root||document.body.appendChild(document.createElement("div")),"function"==typeof h&&n(v,h),b(r(e,{render:function(e){n(v,h=e?e:h,l)}}));for(var t in w)w[t](v,y,A.onError)})},o=function(e){function t(e){a(n(o,e)),history.pushState({},"",e)}function n(e,n){for(var o in e){var a,i=r(o),c={};if(n.replace(new RegExp(i.re,"g"),function(){for(var n=1;n<arguments.length-2;n++)c[i.keys.shift()]=arguments[n];a=function(n,r){return r.setLocation=t,e[o](n,r,c)}}),a)return a}return e["/"]}function r(e){var t=[];return{re:"^"+e.replace(/\//g,"\\/").replace(/:([A-Za-z0-9_]+)/g,function(e,n){return t.push(n),"([A-Za-z0-9_]+)"})+"/?$",keys:t}}var o=e.view,a=e.render;window.addEventListener("popstate",function(){a(n(o,location.pathname))}),window.addEventListener("click",function(e){if(!(e.metaKey||e.shiftKey||e.ctrlKey||e.altKey)){for(var n=e.target;n&&"a"!==n.localName;)n=n.parentNode;if(n&&n.host===location.host&&!n.hasAttribute("data-no-routing")){var r=document.querySelector(""===n.hash?r:n.hash);r?r.scrollIntoView(!0):(e.preventDefault(),t(n.pathname))}}}),a(n(o,location.pathname))};e.h=n,e.app=r,e.router=o});
//# sourceMappingURL=hyperapp.js.map
