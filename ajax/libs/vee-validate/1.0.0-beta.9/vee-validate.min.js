!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.VeeValidate=t()}(this,function(){"use strict";var e=function(e){return!Array.isArray(e)&&/^[a-zA-Z]*$/.test(e)},t=function(e){return!Array.isArray(e)&&/^[a-zA-Z0-9_-]*$/.test(e)},i=function(e){return!Array.isArray(e)&&/^[a-zA-Z0-9]*$/.test(e)},n=function(e){return/^[a-zA-Z\s]*$/.test(String(e))},r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=(function(){function e(e){this.value=e}function t(t){function i(e,t){return new Promise(function(i,r){var o={key:e,arg:t,resolve:i,reject:r,next:null};s?s=s.next=o:(a=s=o,n(e,t))})}function n(i,a){try{var s=t[i](a),o=s.value;o instanceof e?Promise.resolve(o.value).then(function(e){n("next",e)},function(e){n("throw",e)}):r(s.done?"return":"normal",s.value)}catch(e){r("throw",e)}}function r(e,t){switch(e){case"return":a.resolve({value:t,done:!0});break;case"throw":a.reject(t);break;default:a.resolve({value:t,done:!1})}a=a.next,a?n(a.key,a.arg):s=null}var a,s;this._invoke=i,"function"!=typeof t.return&&(this.return=void 0)}return"function"==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(e){return this._invoke("next",e)},t.prototype.throw=function(e){return this._invoke("throw",e)},t.prototype.return=function(e){return this._invoke("return",e)},{wrap:function(e){return function(){return new t(e.apply(this,arguments))}},await:function(t){return new e(t)}}}(),function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}),s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=function(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e},u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},l=function(){function e(e,t){var i=[],n=!0,r=!1,a=void 0;try{for(var s,o=e[Symbol.iterator]();!(n=(s=o.next()).done)&&(i.push(s.value),!t||i.length!==t);n=!0);}catch(e){r=!0,a=e}finally{try{!n&&o.return&&o.return()}finally{if(r)throw a}}return i}return function(t,i){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(e){return Array.isArray(e)?e:Array.from(e)},f=function(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)},d=function(e,t){var i=l(t,2),n=i[0],r=i[1];return Number(n)<=e&&Number(r)>=e},h=function(e,t){var i=l(t,1),n=i[0],r=document.querySelector("input[name='"+n+"']");return!(!r||String(e)!==r.value)},v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["*"],i=l(t,1),n=i[0];if(Array.isArray(e))return!1;if(null===e||void 0===e||""===e)return!0;var r="*"===n?"+":"{1,"+n+"}",a=new RegExp("^-?\\d*(\\.\\d"+r+")?$");return!!a.test(e)&&!Number.isNaN(parseFloat(e))},m=function(e,t){var i=l(t,1),n=i[0],r=String(e);return/^[0-9]*$/.test(r)&&r.length===Number(n)},y=function(e,t,i){var n=window.URL||window.webkitURL;return new Promise(function(r){var a=new Image;a.onerror=function(){return r({valid:!1})},a.onload=function(){return r({valid:a.width===Number(t)&&a.height===Number(i)})},a.src=n.createObjectURL(e)})},g=function(e,t){for(var i=l(t,2),n=i[0],r=i[1],a=[],s=0;s<e.length;s++){if(!/\.(jpg|svg|jpeg|png|bmp|gif)$/i.test(e[s].name))return!1;a.push(e[s])}return Promise.all(a.map(function(e){return y(e,n,r)}))},p=function(e){return/^(([^<>()[\]\\.,;:#\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,6}))$/.test(e)},b=function(e,t){for(var i=new RegExp(".("+t.join("|")+")$","i"),n=0;n<e.length;n++)if(!i.test(e[n].name))return!1;return!0},k=function(e){for(var t=0;t<e.length;t++)if(!/\.(jpg|svg|jpeg|png|bmp|gif)$/i.test(e[t].name))return!1;return!0},_=function(e,t){return!!t.filter(function(t){return t==e}).length},$=function(e){return/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(e)},w=function(e,t){var i=l(t,1),n=i[0];return void 0===e||null===e?n>=0:String(e).length<=n},x=function(e,t){for(var i=new RegExp(t.join("|").replace("*",".+")+"$","i"),n=0;n<e.length;n++)if(!i.test(e[n].type))return!1;return!0},A=function(e,t){var i=l(t,1),n=i[0];return void 0!==e&&null!==e&&String(e).length>=n},T=function(e,t){return!t.filter(function(t){return t==e}).length},E=function(e){return!Array.isArray(e)&&/^[0-9]*$/.test(e)},L=function(e,t){var i=c(t),n=i[0],r=i.slice(1);return n instanceof RegExp?n.test(e):new RegExp(n,r).test(String(e))},F=function(e){return Array.isArray(e)?!!e.length:void 0!==e&&null!==e&&!!String(e).trim().length},S=function(e,t){var i=l(t,1),n=i[0];if(isNaN(n))return!1;for(var r=1024*Number(n),a=0;a<e.length;a++)if(e[a].size>r)return!1;return!0},j=function(e,t){var i=/^https?:\/\/([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w\.\(\)%-]*)*\/?$/.test(e),n=t&&t[0];return n&&i?new RegExp("^https?://(([da-z.-]+).)*("+t[0].replace(".","\\$&")+")").test(e):i},N={alpha_dash:t,alpha_num:i,alpha_spaces:n,alpha:e,between:d,confirmed:h,decimal:v,digits:m,dimensions:g,email:p,ext:b,image:k,in:_,ip:$,max:w,mimes:x,min:A,not_in:T,numeric:E,regex:L,required:F,size:S,url:j},O=function(){function e(){a(this,e),this.errors=[]}return s(e,[{key:"add",value:function(e,t,i){var n={field:e,msg:t};i&&(n.scope=i),this.errors.push(n)}},{key:"all",value:function(e){return e?this.errors.filter(function(t){return t.scope===e}).map(function(e){return e.msg}):this.errors.map(function(e){return e.msg})}},{key:"any",value:function(e){return e?!!this.errors.filter(function(t){return t.scope===e}).length:!!this.errors.length}},{key:"clear",value:function(e){return e?void(this.errors=this.errors.filter(function(t){return t.scope!==e})):void(this.errors=[])}},{key:"collect",value:function(e,t){var i=this;if(!e){var n=function(){var e={};return i.errors.forEach(function(t){e[t.field]||(e[t.field]=[]),e[t.field].push(t.msg)}),{v:e}}();if("object"===("undefined"==typeof n?"undefined":r(n)))return n.v}return t?this.errors.filter(function(i){return i.field===e&&i.scope===t}).map(function(e){return e.msg}):this.errors.filter(function(t){return t.field===e}).map(function(e){return e.msg})}},{key:"count",value:function(){return this.errors.length}},{key:"first",value:function(e,t){for(var i=0;i<this.errors.length;i++)if(this.errors[i].field===e){if(!t)return this.errors[i].msg;if(this.errors[i].scope===t)return this.errors[i].msg}return null}},{key:"has",value:function(e,t){for(var i=0;i<this.errors.length;i++)if(this.errors[i].field===e){if(!t)return!0;if(this.errors[i].scope===t)return!0}return!1}},{key:"remove",value:function(e,t){return t?void(this.errors=this.errors.filter(function(i){return i.field!==e||i.scope!==t})):void(this.errors=this.errors.filter(function(t){return t.field!==e}))}}]),e}(),B=function(){function e(t){a(this,e),this.msg=t}return s(e,[{key:"toString",value:function(){return this.msg}}]),e}(),M=function(e){return e.dataset.scope||e.form&&e.form.dataset.scope},V=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t)return e;var n=void 0;return function(r){function a(){i||e.apply(u,o),n=null}var s=c(r),o=s,u=this;n?clearTimeout(n):i&&e.apply.apply(e,[u].concat(f(o))),n=setTimeout(a,t||100)}},D=function(e){console&&console.warn("vee-validate: "+e)},R=function(e){return e&&"object"===("undefined"==typeof e?"undefined":r(e))&&!Array.isArray(e)&&null!==e},z=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a(this,e),this.dictionary={},this.merge(t)}return s(e,[{key:"hasLocale",value:function(e){return!!this.dictionary[e]}},{key:"getMessage",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return this.hasMessage(e,t)?this.dictionary[e].messages[t]:i}},{key:"getAttribute",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return this.hasAttribute(e,t)?this.dictionary[e].attributes[t]:i}},{key:"hasMessage",value:function(e,t){return!!(this.hasLocale(e)&&this.dictionary[e].messages&&this.dictionary[e].messages[t])}},{key:"hasAttribute",value:function(e,t){return!!(this.hasLocale(e)&&this.dictionary[e].attributes&&this.dictionary[e].attributes[t])}},{key:"merge",value:function(e){this._merge(this.dictionary,e)}},{key:"setMessage",value:function(e,t,i){this.hasLocale(e)||(this.dictionary[e]={messages:{},attributes:{}}),this.dictionary[e].messages[t]=i}},{key:"setAttribute",value:function(e,t,i){this.hasLocale(e)||(this.dictionary[e]={messages:{},attributes:{}}),this.dictionary[e].attributes[t]=i}},{key:"_merge",value:function(e,t){var i=this;return R(e)&&R(t)?(Object.keys(t).forEach(function(n){return R(t[n])?(e[n]||u(e,o({},n,{})),void i._merge(e[n],t[n])):void u(e,o({},n,t[n]))}),e):e}}]),e}(),q={alpha_dash:function(e){return"The "+e+" may contain alpha-numeric characters as well as dashes and underscores."},alpha_num:function(e){return"The "+e+" may only contain alpha-numeric characters."},alpha_spaces:function(e){return"The "+e+" may only contain alphabetic characters as well as spaces."},alpha:function(e){return"The "+e+" may only contain alphabetic characters."},between:function(e,t){var i=l(t,2),n=i[0],r=i[1];return"The "+e+" must be between "+n+" and "+r+"."},confirmed:function(e,t){var i=l(t,1),n=i[0];return"The "+e+" does not match the "+n+"."},decimal:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["*"],i=l(t,1),n=i[0];return"The "+e+" must be numeric and may contain "+("*"===n?"":n)+" decimal points."},digits:function(e,t){var i=l(t,1),n=i[0];return"The "+e+" must be numeric and exactly contain "+n+" digits."},dimensions:function(e,t){var i=l(t,2),n=i[0],r=i[1];return"The "+e+" must be "+n+" pixels by "+r+" pixels."},email:function(e){return"The "+e+" must be a valid email."},ext:function(e){return"The "+e+" must be a valid file."},image:function(e){return"The "+e+" must be an image."},in:function(e){return"The "+e+" must be a valid value."},ip:function(e){return"The "+e+" must be a valid ip address."},max:function(e,t){var i=l(t,1),n=i[0];return"The "+e+" may not be greater than "+n+" characters."},mimes:function(e){return"The "+e+" must have a valid file type."},min:function(e,t){var i=l(t,1),n=i[0];return"The "+e+" must be at least "+n+" characters."},not_in:function(e){return"The "+e+" must be a valid value."},numeric:function(e){return"The "+e+" may only contain numeric characters."},regex:function(e){return"The "+e+" format is invalid."},required:function(e){return"The "+e+" is required."},size:function(e,t){var i=l(t,1),n=i[0];return"The "+e+" must be less than "+n+" KB."},url:function(e){return"The "+e+" is not a valid URL."}},P=function(e){return function(t,i){var n=l(i,2),r=n[0],a=n[1],s=e(t,a,!0),o=document.querySelector("input[name='"+r+"']");if(!s.isValid()||!o)return!1;var u=e(o.value,a,!0);return!!u.isValid()&&s.isAfter(u)}},I=function(e){return function(t,i){var n=l(i,2),r=n[0],a=n[1],s=e(t,a,!0),o=document.querySelector("input[name='"+r+"']");if(!s.isValid()||!o)return!1;var u=e(o.value,a,!0);return!!u.isValid()&&s.isBefore(u)}},U=function(e){return function(t,i){var n=l(i,1),r=n[0];return e(t,r,!0).isValid()}},Z=function(e){return function(t,i){var n=l(i,3),r=n[0],a=n[1],s=n[2],o=e(r,s,!0),u=e(a,s,!0),c=e(t,s,!0);return!!(o.isValid()&&u.isValid()&&c.isValid())&&c.isBetween(o,u)}},C={after:function(e,t){var i=l(t,1),n=i[0];return"The "+e+" must be after "+n+"."},before:function(e,t){var i=l(t,1),n=i[0];return"The "+e+" must be before "+n+"."},date_between:function(e,t){var i=l(t,2),n=i[0],r=i[1];return"The "+e+" must be between "+n+" and "+r+"."},date_format:function(e,t){var i=l(t,1),n=i[0];return"The "+e+" must be in the format "+n+"."}},Y={make:function(e){return{date_format:U(e),after:P(e),before:I(e),date_between:Z(e)}},messages:C,installed:!1},K=function(){function e(t){a(this,e),this.fields={},this.$vm=t}return s(e,[{key:"_add",value:function(e){this.fields[e]={},this.$vm&&"function"==typeof this.$vm.$set&&this.$vm.$set("fields."+e,{}),this._setFlags(e,{dirty:!1,valid:!1},!0)}},{key:"reset",value:function(e){var t=this;return e?void this._setFlags(e,{dirty:!1,valid:!1},!0):void Object.keys(this.fields).forEach(function(e){t._setFlags(e,{dirty:!1,valid:!1},!0)})}},{key:"_remove",value:function(e){delete this.fields[e]}},{key:"_setFlags",value:function(e,t){var i=this,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Object.keys(t).every(function(r){return i._setFlag(e,r,t[r],n)});return r&&this.$vm&&"function"==typeof this.$vm.$set&&this.$vm.$set("fields."+e,this.fields[e]),r}},{key:"_setFlag",value:function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r="set"+t.charAt(0).toUpperCase()+t.slice(1);return"function"==typeof this[r]&&(this[r](e,i,n),!0)}},{key:"setDirty",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.fields[e].dirty=t,this.fields[e].clean=i||!t,this.fields[e].passed=this.fields[e].valid&&t,this.fields[e].failed=!this.fields[e].valid&&t}},{key:"setValid",value:function(e,t){this.fields[e].valid=t,this.fields[e].passed=this.fields[e].dirty&&t,this.fields[e].failed=this.fields[e].dirty&&!t}},{key:"_getFieldFlag",value:function(e,t){return!!this.fields[e]&&this.fields[e][t]}},{key:"dirty",value:function(e){var t=this;return e?this._getFieldFlag(e,"dirty"):Object.keys(this.fields).some(function(e){return t.fields[e].dirty})}},{key:"valid",value:function(e){var t=this;return e?this._getFieldFlag(e,"valid"):Object.keys(this.fields).every(function(e){return t.fields[e].valid})}},{key:"passed",value:function(e){var t=this;return e?this._getFieldFlag(e,"passed"):Object.keys(this.fields).every(function(e){return t.fields[e].passed})}},{key:"failed",value:function(e){var t=this;return e?this._getFieldFlag(e,"failed"):Object.keys(this.fields).some(function(e){return t.fields[e].failed})}},{key:"clean",value:function(e){return e?this._getFieldFlag(e,"clean"):!this.dirty()}}]),e}(),G="veeValidate",H="en",J=!0,Q=new z({en:{messages:q,attributes:{}}}),W=function(){function e(t,i){a(this,e),this.locale=H,this.strictMode=J,this.$fields={},this.fieldBag=new K(i),this._createFields(t),this.errorBag=new O,this.$vm=i,"function"==typeof moment&&this.installDateTimeValidators(moment)}return s(e,[{key:"installDateTimeValidators",value:function(t){e.installDateTimeValidators(t)}},{key:"setStrictMode",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.strictMode=e}},{key:"setLocale",value:function(e){Q.hasLocale(e)||D("You are setting the validator locale to a locale that is not defined in the dicitionary. English messages may still be generated."),this.locale=e}},{key:"attach",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.errorBag.remove(e),this._createField(e,t),i&&(this.$fields[e].name=i)}},{key:"updateDictionary",value:function(t){e.updateDictionary(t)}},{key:"detach",value:function(e){this.$vm&&"function"==typeof this.$vm.$emit&&this.$vm.$emit("VALIDATOR_OFF",e),delete this.$fields[e],this.fieldBag._remove(e)}},{key:"extend",value:function(t,i){e.extend(t,i)}},{key:"validateAll",value:function(e){var t=this;if(this.$vm&&(!e||"string"==typeof e))return this.errorBag.clear(e),void this.$vm.$emit(G,e);var i=!0,n=[];return this.errorBag.clear(),Object.keys(e).forEach(function(r){var a=t.validate(r,e[r]);return"function"==typeof a.then?void n.push(a):void(i=i&&a)}),n.length?Promise.all(n).then(function(e){return e.every(function(e){return e})&&i}):i}},{key:"validate",value:function(e,t,i){var n=this;if(!this.$fields[e])return!this.strictMode||(D('Trying to validate a non-existant field: "'+e+'". Use "attach()" first.'),!1);if(this.errorBag.remove(e,i),!this.$fields[e].required&&~[null,void 0,""].indexOf(t))return!0;var r=!0,a=[];return this.$fields[e].validations.forEach(function(s){var o=n._test(e,t,s,i);return"function"==typeof o.then?void a.push(o):void(r=r&&o)}),a.length?Promise.all(a).then(function(t){var i=t.every(function(e){return e})&&r;return n.fieldBag._setFlags(e,{valid:i,dirty:!0}),i}):(this.fieldBag._setFlags(e,{valid:r,dirty:!0}),r)}},{key:"_createFields",value:function(e){var t=this;e&&Object.keys(e).forEach(function(i){t._createField(i,e[i])})}},{key:"_createField",value:function(e,t){var i=this;return this.$fields[e]||(this.$fields[e]={}),this.fieldBag._add(e),this.$fields[e].validations=[],Array.isArray(t)?void(this.$fields[e].validations=t):void t.split("|").forEach(function(t){var n=i._normalizeRule(t,i.$fields[e].validations);"required"===n.name&&(i.$fields[e].required=!0),i.$fields[e].validations.push(n)})}},{key:"_normalizeRule",value:function(e,t){var i=[],n=e.split(":")[0];if(~e.indexOf(":")&&(i=e.split(":")[1].split(",")),Y.installed&&~["after","before","date_between"].indexOf(n)){var r=t.filter(function(e){return"date_format"===e.name})[0];r&&i.push(r.params[0])}return{name:n,params:i}}},{key:"_formatErrorMessage",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=this._getFieldDisplayName(e),r=this._getLocalizedParams(t);return Q.hasLocale(this.locale)&&"function"==typeof Q.getMessage(this.locale,t.name)?Q.getMessage(this.locale,t.name)(n,r,i):Q.getMessage("en",t.name)(n,r,i)}},{key:"_getLocalizedParams",value:function(e){return~["after","before","confirmed"].indexOf(e.name)&&e.params&&e.params[0]?[Q.getAttribute(this.locale,e.params[0],e.params[0])]:e.params}},{key:"_getFieldDisplayName",value:function(e){return this.$fields[e].name||Q.getAttribute(this.locale,e,e)}},{key:"_test",value:function(e,t,i,n){var r=this,a=N[i.name],s=a(t,i.params);return"function"==typeof s.then?s.then(function(t){var a=!0;return Array.isArray(t)?(a=t.every(function(e){return e.valid}),a||r.errorBag.add(e,r._formatErrorMessage(e,i),n)):(a=t.valid,r.errorBag.add(e,r._formatErrorMessage(e,i,t.data),n)),a}):R(s)?(s.valid||this.errorBag.add(e,this._formatErrorMessage(e,i,s.data),n),s.valid):(s||this.errorBag.add(e,this._formatErrorMessage(e,i),n),s)}},{key:"getErrors",value:function(){return this.errorBag}}],[{key:"setDefaultLocale",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en";Q.hasLocale(e)||D("You are setting the validator locale to a locale that is not defined in the dicitionary. English messages may still be generated."),H=e}},{key:"setStrictMode",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];J=e}},{key:"installDateTimeValidators",value:function(t){if("function"!=typeof t)return D("To use the date-time validators you must provide moment reference."),!1;if(Y.installed)return!0;var i=Y.make(t);return Object.keys(i).forEach(function(t){e.extend(t,i[t])}),e.updateDictionary({en:{messages:Y.messages}}),Y.installed=!0,!0}},{key:"updateDictionary",value:function(e){Q.merge(e)}},{key:"create",value:function(t,i){return new e(t,i)}},{key:"extend",value:function(t,i){e._guardExtend(t,i),e._merge(t,i)}},{key:"_merge",value:function(e,t){return"function"==typeof t?(N[e]=t,void Q.setMessage("en",e,function(e){return"The "+e+" value is not valid."})):(N[e]=t.validate,t.getMessage&&"function"==typeof t.getMessage&&Q.setMessage("en",e,t.getMessage),void(t.messages&&Q.merge(Object.keys(t.messages).reduce(function(i,n){var r=i;return r[n]={messages:o({},e,t.messages[n])},r},{}))))}},{key:"_guardExtend",value:function(e,t){if(N[e])throw new B("Extension Error: There is an existing validator with the same name '"+e+"'.");if("function"!=typeof t){if("function"!=typeof t.validate)throw new B("Extension Error: The validator '"+e+"' must be a function or have a 'validate' method.");if("function"!=typeof t.getMessage&&"object"!==r(t.messages))throw new B("Extension Error: The validator '"+e+"' must have a 'getMessage' method or have a 'messages' object.")}}}]),e}(),X=[],ee=function(e){for(var t=0;t<X.length;t++)if(X[t].$vm===e)return X[t].$validator},te=function(e){var t=ee(e);return t||(t=W.create(void 0,e),X.push({$vm:e,$validator:t})),t},ie=function(e){for(var t=0;t<X.length;t++)if(X[t].$vm===e)return X.splice(t,1),!0;return!1},ne=function(e){return{data:function(){var t;return t={},o(t,e.errorBagName,this.$validator.errorBag),o(t,e.fieldsBagName,this.$validator.fieldBag),t},ready:function(){var e=this;this.$nextTick(function(){e.$emit("validatorReady")})},destroyed:function(){ie(this)}}},re="veeValidate",ae=function(){function e(t,i,n,r){a(this,e),this.callbacks=[],this.el=t,this.binding=i,this.vm=n,this.options=r,this.fieldName=i.expression||t.name}return s(e,[{key:"_hasFieldDependency",value:function(e){var t=e.split("|").filter(function(e){return!!e.match(/confirmed|after|before/)});return!!t.length&&t[0].split(":")[1]}},{key:"_inputListener",value:function(){this.vm.$validator.validate(this.fieldName,this.el.value,M(this.el))}},{key:"_fileListener",value:function(){var e=this.vm.$validator.validate(this.fieldName,this.el.files,M(this.el));!e&&this.binding.modifiers.reject&&(el.value="")}},{key:"_radioListener",value:function(){var e=document.querySelector('input[name="'+this.el.name+'"]:checked');return e?void this.vm.$validator.validate(this.fieldName,e.value,M(this.el)):void this.vm.$validator.validate(this.fieldName,null,M(this.el))}},{key:"_checkboxListener",value:function(){var e=this,t=document.querySelectorAll('input[name="'+this.el.name+'"]:checked');return t&&t.length?void[].concat(f(t)).forEach(function(t){e.vm.$validator.validate(e.fieldName,t.value,M(e.el))}):void this.vm.$validator.validate(this.fieldName,null,M(this.el))}},{key:"_getScopedListener",value:function(e){var t=this;return function(i){(!i||i===M(t.el)||i instanceof Event)&&e()}}},{key:"_attachValidatorEvent",value:function(){var e=this,t=this._getScopedListener(this._getSuitableListener().listener.bind(this));this.vm.$on(re,t),this.callbacks.push({name:re,listener:t}),this.vm.$on("VALIDATOR_OFF",function(t){e.fieldName===t&&e.detach()});var i=this._hasFieldDependency(this.el.dataset.rules);i&&this.vm.$once("validatorReady",function(){var n=document.querySelector("input[name='"+i+"']");return n?(n.addEventListener("input",t),void e.callbacks.push({name:"input",listener:t,el:n})):void D("Cannot find target field, no additional listeners were attached.")})}},{key:"_getSuitableListener",value:function(){return"file"===this.el.type?{name:"change",listener:this._fileListener}:"radio"===this.el.type?{name:"change",listener:this._radioListener}:"checkbox"===this.el.type?{name:"change",listener:this._checkboxListener}:{name:"input",listener:this._inputListener}}},{key:"_attachFieldListeners",value:function(){var e=this,t=this._getSuitableListener(),i=V(t.listener.bind(this),this.el.dataset.delay||this.options.delay);return~["radio","checkbox"].indexOf(this.el.type)?void this.vm.$once("validatorReady",function(){[].concat(f(document.querySelectorAll('input[name="'+e.el.name+'"]'))).forEach(function(n){n.addEventListener(t.name,i),e.callbacks.push({name:t.name,listener:i,el:n})})}):(this.el.addEventListener(t.name,i),void this.callbacks.push({name:t.name,listener:i,el:this.el}))}},{key:"attach",value:function(){this.vm.$validator.attach(this.fieldName,this.el.dataset.rules,this.el.dataset.as),this._attachValidatorEvent(),this.binding.expression||this._attachFieldListeners()}},{key:"detach",value:function(){var e=this;this.callbacks.filter(function(e){var t=e.name;return t===re}).forEach(function(t){e.vm.$off(re,t.listener)}),this.callbacks.filter(function(e){var t=e.name;return t!==re}).forEach(function(e){e.el.removeEventListener(e.name,e.listener)})}}]),e}(),se=[],oe=function(e){return{bind:function(){var t=this;this.vm.$nextTick(function(){t.fieldName=t.expression||t.el.name;var i={expression:t.expression,modifiers:t.modifiers},n=new ae(t.el,i,t.vm,e);n.attach(),se.push({vm:t.vm,el:t.el,instance:n})})},update:function(e){var t=this;if(this.expression)return this.modifiers.initial?void(this.modifiers.initial=!1):this.fieldName?void this.vm.$validator.validate(this.fieldName,e,M(this.el)):void this.vm.$nextTick(function(){t.vm.$validator.validate(t.fieldName,e,M(t.el))})},unbind:function(){var e=this,t=se.filter(function(t){return t.vm===e.vm&&t.el===e.el})[0];t.instance.detach(),se.splice(se.indexOf(t),1)}}},ue=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.locale,n=void 0===i?"en":i,r=t.delay,a=void 0===r?0:r,s=t.errorBagName,o=void 0===s?"errors":s,u=t.dictionary,l=void 0===u?null:u,c=t.strict,f=void 0===c||c,d=t.fieldsBagName,h=void 0===d?"fields":d;l&&W.updateDictionary(l),W.setDefaultLocale(n),W.setStrictMode(f);var v={locale:n,delay:a,dictionary:l,errorBagName:o,fieldsBagName:h};Object.defineProperties(e.prototype,{$validator:{get:function(){return te(this)}}}),e.mixin(ne(v)),e.directive("validate",oe(v))},le={install:ue,Validator:W,ErrorBag:O};return le});
