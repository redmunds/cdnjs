"use strict";function addDepthToTree(e,t,l){for(var o in e)"object"==typeof e[o]&&(e[o].depth=t,e[o].collapsed=l,addDepthToTree(e[o],"tree"===o?++t:t,l));return e}function toggleCollapse(e){for(var t in e)"object"==typeof e[t]&&(e[t].collapsed=!e[t].collapsed,toggleCollapse(e[t]));return e}var CONF={baseUrl:"lib/ion-tree-list",digestTtl:35};angular.module("ion-tree-list",[],function(e){e.digestTtl(CONF.digestTtl)}).directive("ionTreeList",function(){return{restrict:"E",scope:{items:"=",collapsed:"=",templateUrl:"@"},templateUrl:CONF.baseUrl+"/ion-tree-list.tmpl.html",controller:function(e){e.baseUrl=CONF.baseUrl,e.toggleCollapse=toggleCollapse,e.$watch("collapsed",function(){e.toggleCollapse(e.items)}),e.$watch("items",function(){e.items=addDepthToTree(e.items,1,e.collapsed)}),e.templateUrl=e.templateUrl?e.templateUrl:"item_default_renderer"}}});