/*! ally.js - v1.3.0 - http://allyjs.io/ - MIT License */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.ally=e()}}(function(){var e;return function t(e,n,r){function i(a,u){if(!n[a]){if(!e[a]){var s="function"==typeof require&&require;if(!u&&s)return s(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};e[a][0].call(c.exports,function(t){var n=e[a][1][t];return i(n?n:t)},c,c.exports,t,e,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e){return e&&"object"==typeof e&&"default"in e?e["default"]:e}function i(e){if(!e)return[];if(Array.isArray(e))return e;if(void 0!==e.nodeType)return[e];if("string"==typeof e&&(e=document.querySelectorAll(e)),void 0!==e.length)return[].slice.call(e,0);throw new TypeError("unexpected input "+String(e))}function o(e){var t=e.context,n=e.label,r=void 0===n?"context-to-element":n,o=e.resolveDocument,a=e.defaultToDocument,u=i(t)[0];if(o&&u&&u.nodeType===Node.DOCUMENT_NODE&&(u=u.documentElement),!u&&a)return document.documentElement;if(!u)throw new TypeError(r+" requires valid options.context");if(u.nodeType!==Node.ELEMENT_NODE&&u.nodeType!==Node.DOCUMENT_FRAGMENT_NODE)throw new TypeError(r+" requires options.context to be an Element");return u}function a(){for(var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.context,n=o({label:"get/shadow-host",context:t}),r=null;n;)r=n,n=n.parentNode;return r.nodeType===r.DOCUMENT_FRAGMENT_NODE&&r.host?r.host:null}function u(e){return e?e.nodeType===Node.DOCUMENT_NODE?e:e.ownerDocument||document:document}function s(e){var t=o({label:"is/active-element",resolveDocument:!0,context:e}),n=u(t);if(n.activeElement===t)return!0;var r=a({context:t});return r&&r.shadowRoot.activeElement===t?!0:!1}function l(e){var t=u(e);return t.defaultView||window}function c(e){var t=o({label:"element/blur",context:e});if(!s(t))return null;var n=t.nodeName.toLowerCase();if("body"===n)return null;if(t.blur)return t.blur(),document.activeElement;var r=l(t);try{return r.HTMLElement.prototype.blur.call(t),document.activeElement}catch(i){return null}}function d(){var e={activeElement:document.activeElement,windowScrollTop:window.scrollTop,windowScrollLeft:window.scrollLeft,bodyScrollTop:document.body.scrollTop,bodyScrollLeft:document.body.scrollLeft},t=document.createElement("iframe");t.setAttribute("style","position:absolute; position:fixed; top:0; left:-2px; width:1px; height:1px; overflow:hidden;"),t.setAttribute("aria-live","off"),t.setAttribute("aria-busy","true"),t.setAttribute("aria-hidden","true"),document.body.appendChild(t);var n=t.contentWindow,r=n.document;r.open(),r.close();var i=r.createElement("div");return r.body.appendChild(i),e.iframe=t,e.wrapper=i,e.window=n,e.document=r,e}function f(e,t){e.wrapper.innerHTML="";var n="string"==typeof t.element?e.document.createElement(t.element):t.element(e.wrapper,e.document),r=t.mutate&&t.mutate(n,e.wrapper,e.document);return r||r===!1||(r=n),!n.parentNode&&e.wrapper.appendChild(n),r&&r.focus&&r.focus(),t.validate?t.validate(n,e.document):e.document.activeElement===r}function m(e){e.activeElement===document.body?(document.activeElement&&document.activeElement.blur&&document.activeElement.blur(),ln.is.IE10&&document.body.focus()):e.activeElement&&e.activeElement.focus&&e.activeElement.focus(),document.body.removeChild(e.iframe),window.scrollTop=e.windowScrollTop,window.scrollLeft=e.windowScrollLeft,document.body.scrollTop=e.bodyScrollTop,document.body.scrollLeft=e.bodyScrollLeft}function b(e){var t=d(),n={};return Object.keys(e).map(function(r){n[r]=f(t,e[r])}),m(t),n}function v(e){var t=void 0;try{t=window.localStorage&&window.localStorage.getItem(e),t=t?JSON.parse(t):{}}catch(n){t={}}return t}function h(e,t){if(document.hasFocus())try{window.localStorage&&window.localStorage.setItem(e,JSON.stringify(t))}catch(n){}else try{window.localStorage&&window.localStorage.removeItem(e)}catch(n){}}function g(){var e=void 0;try{document.querySelector("html >>> :first-child"),e=">>>"}catch(t){try{document.querySelector("html /deep/ :first-child"),e="/deep/"}catch(n){e=""}}return e}function p(){return jn}function x(){return $n}function y(){return ar}function w(){var e=b(sr);return Object.keys(ur).forEach(function(t){e[t]=ur[t]()}),e}function E(){return lr?lr:(lr=An.get(),lr.time||(An.set(w()),lr=An.get()),lr)}function S(e){cr||(cr=E());var t=cr.focusTabindexTrailingCharacters?fr:dr,n=o({label:"is/valid-tabindex",resolveDocument:!0,context:e});if(!n.hasAttribute("tabindex"))return!1;if(void 0===n.tabIndex)return!1;if(cr.focusInvalidTabindex)return!0;var r=n.getAttribute("tabindex");return"-32768"===r?!1:Boolean(r&&t.test(r))}function T(e){if(!S(e))return null;var t=parseInt(e.getAttribute("tabindex"),10);return isNaN(t)?-1:t}function A(e){mr||(mr=E(),mr.focusFieldsetDisabled&&delete vr.fieldset,mr.focusFormDisabled&&delete vr.form,br=new RegExp("^("+Object.keys(vr).join("|")+")$"));var t=o({label:"is/native-disabled-supported",context:e}),n=t.nodeName.toLowerCase();return Boolean(br.test(n))}function O(e){var t=e.element,n=e.attribute,r="data-cached-"+n,i=t.getAttribute(r);if(null===i){var o=t.getAttribute(n);if(null===o)return;t.setAttribute(r,o||""),t.removeAttribute(n)}else{var o=t.getAttribute(r);t.removeAttribute(r),t.setAttribute(n,o)}}function I(e){var t=e.element,n=e.attribute,r=e.temporaryValue,i=e.saveValue,o="data-cached-"+n;if(void 0!==r){var a=i||t.getAttribute(n);t.setAttribute(o,a||""),t.setAttribute(n,r)}else{var a=t.getAttribute(o);t.removeAttribute(o),""===a?t.removeAttribute(n):t.setAttribute(n,a)}}function C(){pr.warn("trying to focus inert element",this)}function L(e,t){if(t){var n=T(e);I({element:e,attribute:"tabindex",temporaryValue:"-1",saveValue:null!==n?n:""})}else I({element:e,attribute:"tabindex"})}function N(e,t){O({element:e,attribute:"controls",remove:t})}function k(e,t){I({element:e,attribute:"focusable",temporaryValue:t?"false":void 0})}function M(e,t){O({element:e,attribute:"xlink:href",remove:t})}function _(e,t){I({element:e,attribute:"aria-disabled",temporaryValue:t?"true":void 0})}function P(e,t){t?e.focus=C:delete e.focus}function F(e,t){if(t){var n=e.style.pointerEvents||"";e.setAttribute("data-inert-pointer-events",n),e.style.pointerEvents="none"}else{var n=e.getAttribute("data-inert-pointer-events");e.removeAttribute("data-inert-pointer-events"),e.style.pointerEvents=n}}function R(e,t){_(e,t),L(e,t),P(e,t),F(e,t);var n=e.nodeName.toLowerCase();("video"===n||"audio"===n)&&N(e,t),("svg"===n||e.ownerSVGElement)&&(xr.focusSvgFocusableAttribute?k(e,t):xr.focusSvgTabindexAttribute||"a"!==n||M(e,t)),t?e.setAttribute("data-ally-disabled","true"):e.removeAttribute("data-ally-disabled")}function B(e,t){xr||(xr=E());var n=o({label:"element/disabled",context:e});t=Boolean(t);var r=n.hasAttribute("data-ally-disabled"),i=1===arguments.length;return A(n)?i?n.disabled:(n.disabled=t,n):i?r:r===t?n:(R(n,t),n)}function D(){for(var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.context,n=[],r=o({label:"get/parents",context:t});r;)n.push(r),r=r.parentNode,r&&r.nodeType!==Node.ELEMENT_NODE&&(r=null);return n}function W(e){yr.some(function(t){return e[t]?(wr=t,!0):!1})}function H(e,t){return wr||W(e),e[wr](t)}function j(e){var t=e.webkitUserModify||"";return Boolean(t&&-1!==t.indexOf("write"))}function q(e){return[e.getPropertyValue("overflow"),e.getPropertyValue("overflow-x"),e.getPropertyValue("overflow-y")].some(function(e){return"auto"===e||"scroll"===e})}function K(e){return e.display.indexOf("flex")>-1}function G(e,t,n,r){return"div"!==t&&"span"!==t?!1:n&&"div"!==n&&"span"!==n&&!q(r)?!1:e.offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth}function Z(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.context,n=e.except,r=void 0===n?{flexbox:!1,scrollable:!1,shadow:!1}:n;Er||(Er=E());var i=o({label:"is/focus-relevant",resolveDocument:!0,context:t});if(!r.shadow&&i.shadowRoot)return!0;var a=i.nodeName.toLowerCase();if("input"===a&&"hidden"===i.type)return!1;if("input"===a||"select"===a||"button"===a||"textarea"===a)return!0;if("legend"===a&&Er.focusRedirectLegend)return!0;if("label"===a)return!0;if("area"===a)return!0;if("a"===a&&i.hasAttribute("href"))return!0;if("object"===a&&i.hasAttribute("usemap"))return!1;if("object"===a){var u=i.getAttribute("type");if(!Er.focusObjectSvg&&"image/svg+xml"===u)return!1;if(!Er.focusObjectSwf&&"application/x-shockwave-flash"===u)return!1}if("iframe"===a||"object"===a)return!0;if("embed"===a||"keygen"===a)return!0;if(i.hasAttribute("contenteditable"))return!0;if("audio"===a&&(Er.focusAudioWithoutControls||i.hasAttribute("controls")))return!0;if("video"===a&&(Er.focusVideoWithoutControls||i.hasAttribute("controls")))return!0;if(Er.focusSummary&&"summary"===a)return!0;var s=S(i);if("img"===a&&i.hasAttribute("usemap"))return s&&Er.focusImgUsemapTabindex||Er.focusRedirectImgUsemap;if(Er.focusTable&&("table"===a||"td"===a))return!0;if(Er.focusFieldset&&"fieldset"===a)return!0;var l=i.getAttribute("focusable");if("svg"===a)return s||Er.focusSvg||Boolean(Er.focusSvgFocusableAttribute&&l&&"true"===l);if(H(i,"svg a")&&i.hasAttribute("xlink:href"))return!0;if(Er.focusSvgFocusableAttribute&&i.ownerSVGElement)return Boolean(l&&"true"===l);if(s)return!0;var c=window.getComputedStyle(i,null);if(j(c))return!0;if(Er.focusImgIsmap&&"img"===a&&i.hasAttribute("ismap")){var d=D({context:i}).some(function(e){return"a"===e.nodeName.toLowerCase()&&e.hasAttribute("href")});if(d)return!0}if(!r.scrollable&&Er.focusScrollContainer)if(Er.focusScrollContainerWithoutOverflow){if(G(i,a))return!0}else if(q(c))return!0;if(!r.flexbox&&Er.focusFlexboxContainer&&K(c))return!0;var f=i.parentElement;if(!r.scrollable&&f){var m=f.nodeName.toLowerCase(),b=window.getComputedStyle(f,null);if(Er.focusScrollBody&&G(f,a,m,b))return!0;if(Er.focusChildrenOfFocusableFlexbox&&K(b))return!0}return!1}function V(e){try{return e.contentDocument||e.contentWindow&&e.contentWindow.document||e.getSVGDocument&&e.getSVGDocument()||null}catch(t){return null}}function $(e){if("string"!=typeof Tr){var t=g();t&&(Tr=", html "+t+" ")}return Tr?e+Tr+e.replace(/\s*,\s*/g,",").split(",").join(Tr):e}function U(e){if(Ar||(Ar=$("object, iframe")),void 0!==e._frameElement)return e._frameElement;e._frameElement=null;var t=e.parent.document.querySelectorAll(Ar);return[].some.call(t,function(t){var n=V(t);return n!==e.document?!1:(e._frameElement=t,!0)}),e._frameElement}function X(e){var t=l(e);if(!t.parent||t.parent===t)return null;try{return t.frameElement||U(t)}catch(n){return null}}function z(e,t){return window.getComputedStyle(e,null).getPropertyValue(t)}function J(e){return e.some(function(e){return"none"===z(e,"display")})}function Q(e){var t=e.findIndex(function(e){var t=z(e,"visibility");return"hidden"===t||"collapse"===t});if(-1===t)return!1;var n=e.findIndex(function(e){return"visible"===z(e,"visibility")});return-1===n?!0:n>t?!0:!1}function Y(e){var t=1;return"summary"===e[0].nodeName.toLowerCase()&&(t=2),e.slice(t).some(function(e){return"details"===e.nodeName.toLowerCase()&&e.open===!1})}function ee(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.context,n=e.except,r=void 0===n?{notRendered:!1,cssDisplay:!1,cssVisibility:!1,detailsElement:!1,browsingContext:!1}:n,i=o({label:"is/visible",resolveDocument:!0,context:t}),a=i.nodeName.toLowerCase();if(!r.notRendered&&Or.test(a))return!0;var u=D({context:i}),s="audio"===a&&!i.hasAttribute("controls");if(!r.cssDisplay&&J(s?u.slice(1):u))return!1;if(!r.cssVisibility&&Q(u))return!1;if(!r.detailsElement&&Y(u))return!1;if(!r.browsingContext){var l=X(i),c=ee.except(r);if(l&&!c(l))return!1}return!0}function te(e,t){var n=t.querySelector('map[name="'+sn(e)+'"]');return n||null}function ne(e){var t=e.getAttribute("usemap");if(!t)return null;var n=u(e);return te(t.slice(1),n)}function re(e){var t=e.parentElement;if(!t.name||"map"!==t.nodeName.toLowerCase())return null;var n=u(e);return n.querySelector('img[usemap="#'+sn(t.name)+'"]')||null}function ie(e){Cr||(Cr=E());var t=o({label:"is/valid-area",context:e}),n=t.nodeName.toLowerCase();if("area"!==n)return!1;var r=t.hasAttribute("tabindex");if(!Cr.focusAreaTabindex&&r)return!1;var i=re(t);if(!i||!Ir(i))return!1;if(!Cr.focusBrokenImageMap&&(!i.complete||!i.naturalHeight||i.offsetWidth<=0||i.offsetHeight<=0))return!1;if(!Cr.focusAreaWithoutHref&&!t.href)return Cr.focusAreaTabindex&&r||Cr.focusAreaImgTabindex&&i.hasAttribute("tabindex");var a=D({context:i}).slice(1).some(function(e){var t=e.nodeName.toLowerCase();return"button"===t||"a"===t});return a?!1:!0}function oe(e){var t=e.nodeName.toLowerCase();return"fieldset"===t&&e.disabled}function ae(e){var t=e.nodeName.toLowerCase();return"form"===t&&e.disabled}function ue(e){Lr||(Lr=E());var t=o({label:"is/disabled",context:e});if(t.hasAttribute("data-ally-disabled"))return!0;if(!A(t))return!1;if(t.disabled)return!0;var n=D({context:t});return n.some(oe)?!0:!Lr.focusFormDisabled&&n.some(ae)?!0:!1}function se(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.context,n=e.except,r=void 0===n?{onlyFocusableBrowsingContext:!1,visible:!1}:n,i=o({label:"is/only-tabbable",resolveDocument:!0,context:t});if(!r.visible&&!Ir(i))return!1;if(!r.onlyFocusableBrowsingContext&&(ln.is.GECKO||ln.is.TRIDENT)){var a=X(i);if(a&&T(a)<0)return!1}var u=i.nodeName.toLowerCase(),s=T(i);if("label"===u&&ln.is.GECKO)return null!==s&&s>=0;if("svg"===u&&ln.is.TRIDENT)return"false"!==i.getAttribute("focusable");var c=l(i);if(i instanceof c.SVGElement){if("a"===u&&i.hasAttribute("xlink:href")){if(ln.is.GECKO)return!0;if(ln.is.TRIDENT)return"false"!==i.getAttribute("focusable")}if(ln.is.TRIDENT)return"true"===i.getAttribute("focusable")}return!1}function le(e){var t=e.nodeName.toLowerCase();if("embed"===t||"keygen"===t)return!0;var n=T(e);if(e.shadowRoot&&null===n)return!0;if("label"===t)return!kr.focusLabelTabindex||null===n;if("legend"===t)return null===n;if(kr.focusSvgFocusableAttribute&&(e.ownerSVGElement||"svg"===t)){var r=e.getAttribute("focusable");return r&&"false"===r}return"img"===t&&e.hasAttribute("usemap")?null===n||!kr.focusImgUsemapTabindex:"area"===t?!ie(e):!1}function ce(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.context,n=e.except,r=void 0===n?{disabled:!1,visible:!1,onlyTabbable:!1}:n;kr||(kr=E());var i=Nr.rules.except({onlyFocusableBrowsingContext:!0,visible:r.visible}),a=o({label:"is/focusable",resolveDocument:!0,context:t}),u=Sr.rules({context:a,except:r});if(!u||le(a))return!1;if(!r.disabled&&ue(a))return!1;if(!r.onlyTabbable&&i(a))return!1;if(!r.visible){var s={context:a,except:{}};if(kr.focusInHiddenIframe&&(s.except.browsingContext=!0),kr.focusObjectSvgHidden){var l=a.nodeName.toLowerCase();"object"===l&&(s.except.cssVisibility=!0)}if(!Ir.rules(s))return!1}var c=X(a);if(c){var d=c.nodeName.toLowerCase();if(!("object"!==d||kr.focusInZeroDimensionObject||c.offsetWidth&&c.offsetHeight))return!1}return!0}function de(e){var t=function(t){return t.shadowRoot?NodeFilter.FILTER_ACCEPT:e(t)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP};return t.acceptNode=t,t}function fe(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.context,n=e.includeContext,r=e.includeOnlyTabbable,i=e.strategy;t||(t=document.documentElement);for(var o=Mr.rules.except({onlyTabbable:r}),a=u(t),s=a.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,"all"===i?_r:de(o),!1),l=[];s.nextNode();)s.currentNode.shadowRoot?(o(s.currentNode)&&l.push(s.currentNode),l=l.concat(fe({context:s.currentNode.shadowRoot,includeOnlyTabbable:r,strategy:i}))):l.push(s.currentNode);return n&&("all"===i?Sr(t)&&l.unshift(t):o(t)&&l.unshift(t)),l}function me(){return Pr||(Pr=E()),"string"==typeof Fr?Fr:(Fr=""+(Pr.focusTable?"table, td,":"")+(Pr.focusFieldset?"fieldset,":"")+"svg a,a[href],area[href],input, select, textarea, button,iframe, object, embed,keygen,"+(Pr.focusAudioWithoutControls?"audio,":"audio[controls],")+(Pr.focusVideoWithoutControls?"video,":"video[controls],")+(Pr.focusSummary?"summary,":"")+"[tabindex],[contenteditable]",Fr=$(Fr))}function be(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.context,n=e.includeContext,r=e.includeOnlyTabbable,i=me(),o=t.querySelectorAll(i),a=Mr.rules.except({onlyTabbable:r}),u=[].filter.call(o,a);return n&&a(t)&&u.unshift(t),u}function ve(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.context,n=e.includeContext,r=e.includeOnlyTabbable,i=e.strategy,a=void 0===i?"quick":i,u=o({label:"query/focusable",resolveDocument:!0,defaultToDocument:!0,context:t}),s={context:u,includeContext:n,includeOnlyTabbable:r,strategy:a};if("quick"===a)return be(s);if("strict"===a||"all"===a)return fe(s);throw new TypeError('query/focusable requires option.strategy to be one of ["quick", "strict", "all"]')}function he(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.context,n=e.except,r=void 0===n?{flexbox:!1,scrollable:!1,shadow:!1,visible:!1,onlyTabbable:!1}:n,i=o({label:"is/tabbable",resolveDocument:!0,context:t});if(ln.is.BLINK&&ln.is.ANDROID&&ln.majorVersion>42)return!1;var a=X(i);if(a){if(ln.is.WEBKIT&&ln.is.IOS&&ln.majorVersion<10)return!1;if(T(a)<0)return!1;if(!r.visible&&(ln.is.BLINK||ln.is.WEBKIT)&&!Ir(a))return!1;var u=a.nodeName.toLowerCase();if("object"===u&&(ln.is.BLINK||ln.is.WEBKIT))return!1}var s=i.nodeName.toLowerCase(),l=T(i),c=null===l?null:l>=0,d=c!==!1,f=null!==l&&l>=0;if(i.hasAttribute("contenteditable"))return d;if(Rr.test(s)&&c!==!0)return!1;if(void 0===i.tabIndex)return Boolean(r.onlyTabbable);if("audio"===s){if(!i.hasAttribute("controls"))return!1;if(ln.is.BLINK)return!0}if("video"===s)if(i.hasAttribute("controls")){if(ln.is.BLINK||ln.is.GECKO)return!0}else if(ln.is.TRIDENT)return!1;if("object"===s&&(ln.is.BLINK||ln.is.WEBKIT))return!1;if("iframe"===s)return!1;if(ln.is.WEBKIT&&ln.is.IOS){var m="input"===s&&"text"===i.type||"password"===i.type||"select"===s||"textarea"===s||i.hasAttribute("contenteditable");if(!m){var b=window.getComputedStyle(i,null);m=j(b)}if(!m)return!1}if(!r.scrollable&&ln.is.GECKO){var v=window.getComputedStyle(i,null);if(q(v))return d}if(ln.is.TRIDENT){if("area"===s){var h=re(i);if(h&&T(h)<0)return!1}var g=window.getComputedStyle(i,null);if(j(g))return i.tabIndex>=0;if(!r.flexbox&&K(g))return null!==l?f:Br(i)&&Dr(i);if(G(i,s))return!1;var p=i.parentElement;if(p){var x=p.nodeName.toLowerCase(),y=window.getComputedStyle(p,null);if(G(p,s,x,y))return!1;if(K(y))return f}}return i.tabIndex>=0}function ge(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.context,n=e.includeContext,r=e.includeOnlyTabbable,i=e.strategy,o=Wr.rules.except({onlyTabbable:r});return ve({context:t,includeContext:n,includeOnlyTabbable:r,strategy:i}).filter(o)}function pe(e,t){return e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING?-1:1}function xe(e){return e.sort(pe)}function ye(e,t){return e.findIndex(function(e){return t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING})}function we(e,t,n){var r=[];return t.forEach(function(t){var o=!0,a=e.indexOf(t);-1===a&&(a=ye(e,t),o=!1),-1===a&&(a=e.length);var u=i(n?n(t):t);u.length&&r.push({offset:a,replace:o,elements:u})}),r}function Ee(e,t){var n=0;t.sort(function(e,t){return e.offset-t.offset}),t.forEach(function(t){var r=t.replace?1:0,i=[t.offset+n,r].concat(t.elements);e.splice.apply(e,i),n+=t.elements.length-r})}function Se(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.list,n=e.elements,r=e.resolveElement,o=t.slice(0),a=i(n).slice(0);xe(a);var u=we(o,a,r);return Ee(o,u),o}function Te(e){var t=e.nodeName.toLowerCase();return"input"===t||"textarea"===t||"select"===t||"button"===t}function Ae(e,t){var n=e.getAttribute("for");return n?t.getElementById(n):e.querySelector("input, select, textarea")}function Oe(e){var t=e.parentNode,n=ve({context:t,strategy:"strict"});return n.filter(Te)[0]||null}function Ie(e,t){var n=ge({context:t.body,strategy:"strict"});if(!n.length)return null;var r=Se({list:n,elements:[e]}),i=r.indexOf(e);return i===r.length-1?null:r[i+1]}function Ce(e,t){if(!Hr.focusRedirectLegend)return null;var n=e.parentNode;return"fieldset"!==n.nodeName.toLowerCase()?null:"tabbable"===Hr.focusRedirectLegend?Ie(e,t):Oe(e,t)}function Le(e){if(!Hr.focusRedirectImgUsemap)return null;var t=ne(e);return t&&t.querySelector("area")||null}function Ne(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.context,n=e.skipFocusable;Hr||(Hr=E());var r=o({label:"get/focus-redirect-target",context:t});if(!n&&Mr(r))return null;var i=r.nodeName.toLowerCase(),a=u(r);return"label"===i?Ae(r,a):"legend"===i?Ce(r,a):"img"===i?Le(r,a):null}function ke(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.context,n=e.except,r=o({label:"get/focus-target",context:t}),i=null,a=function(e){var t=Mr.rules({context:e,except:n});return t?(i=e,!0):(i=Ne({context:e,skipFocusable:!0}),Boolean(i))};return a(r)?i:(D({context:r}).slice(1).some(a),i)}function Me(e){var t=D({context:e}),n=t.slice(1).map(function(e){return{element:e,scrollTop:e.scrollTop,scrollLeft:e.scrollLeft}});return function(){n.forEach(function(e){e.element.scrollTop=e.scrollTop,e.element.scrollLeft=e.scrollLeft})}}function _e(e){if(e.focus)return e.focus(),s(e)?e:null;var t=l(e);try{return t.HTMLElement.prototype.focus.call(e),e}catch(n){return null}}function Pe(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=t.defaultToAncestor,r=t.undoScrolling,i=o({label:"element/focus",context:e}),a=Mr.rules({context:i,except:jr});if(!n&&!a)return null;var u=ke({context:i,except:jr});if(!u)return null;if(s(u))return u;var l=void 0;r&&(l=Me(u));var c=_e(u);return l&&l(),c}function Fe(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.force;t?this.instances=0:this.instances--,this.instances||(this.disengage(),this._result=null)}function Re(){return this.instances?(this.instances++,this._result):(this.instances++,this._result=this.engage()||{},this._result.disengage=Fe.bind(this),this._result)}function Be(){}function De(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.engage,n=e.disengage,r={engage:t||Be,disengage:n||Be,instances:0,_result:null};return Re.bind(r)}function We(){if(document.activeElement){if(document.activeElement!==Zr){var e=new Gr("active-element",{bubbles:!1,cancelable:!1,detail:{focus:document.activeElement,blur:Zr}});document.dispatchEvent(e),Zr=document.activeElement}}else document.body.focus();Vr!==!1&&(Vr=requestAnimationFrame(We))}function He(){Vr=!0,Zr=document.activeElement,We()}function je(){cancelAnimationFrame(Vr),Vr=!1}function qe(e){var t=o({label:"is/shadowed",resolveDocument:!0,context:e});return Boolean(a({context:t}))}function Ke(){for(var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.context,n=[],r=o({label:"get/shadow-host-parents",context:t});r&&(r=a({context:r}));)n.push(r);return n}function Ge(){for(var e=[document.activeElement];e[0]&&e[0].shadowRoot;)e.unshift(e[0].shadowRoot.activeElement);return e}function Ze(){var e=Ke({context:document.activeElement});return[document.activeElement].concat(e)}function Ve(){return null===document.activeElement&&document.body.focus(),qe(document.activeElement)?Ze():Ge()}function $e(){this.context&&(this.context.forEach(this.disengage),this.context=null,this.engage=null,this.disengage=null)}function Ue(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.context;return this.context=i(t||document),this.context.forEach(this.engage),{disengage:$e.bind(this)}}function Xe(){}function ze(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.engage,n=e.disengage,r={engage:t||Xe,disengage:n||Xe,context:null};return Ue.bind(r)}function Je(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.context,n=u(t),r=void 0;try{r=n.activeElement}catch(i){}return r&&r.nodeType||(r=n.body||n.documentElement),r}function Qe(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.parent,n=e.element,r=e.includeSelf;if(t)return function(e){return Boolean(r&&e===t||t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)};if(n)return function(e){return Boolean(r&&n===e||e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)};throw new TypeError("util/compare-position#getParentComparator required either options.parent or options.element")}function Ye(e){var t=e.context,n=e.filter,r=function(e){var t=Qe({parent:e});return n.some(t)},i=[],o=function(e){return n.some(function(t){return e===t})?NodeFilter.FILTER_REJECT:r(e)?NodeFilter.FILTER_ACCEPT:(i.push(e),NodeFilter.FILTER_REJECT)};o.acceptNode=o;for(var a=u(t),s=a.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,o,!1);s.nextNode(););return i}function et(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.context,n=e.filter;if(t=o({label:"get/insignificant-branches",defaultToDocument:!0,context:t}),n=i(n),!n.length)throw new TypeError("get/insignificant-branches requires valid options.filter");return Ye({context:t,filter:n})}function tt(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.context,n=o({label:"query/shadow-hosts",resolveDocument:!0,defaultToDocument:!0,context:t}),r=u(t),i=r.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,mi,!1),a=[];for(n.shadowRoot&&(a.push(n),a=a.concat(tt({context:n.shadowRoot})));i.nextNode();)a.push(i.currentNode),a=a.concat(tt({context:i.currentNode.shadowRoot}));return a}function nt(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.context,n=e.callback,r=e.config;if("function"!=typeof n)throw new TypeError("observe/shadow-mutations requires options.callback to be a function");if("object"!=typeof r)throw new TypeError("observe/shadow-mutations requires options.config to be an object");if(!window.MutationObserver)return{disengage:function(){}};var i=o({label:"observe/shadow-mutations",resolveDocument:!0,defaultToDocument:!0,context:t}),a=new vi({context:i,callback:n,config:r});return{disengage:a.disengage}}function rt(e){return B(e,!0)}function it(e){return B(e,!1)}function ot(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.context,n=e.filter,r=new gi({context:t,filter:n});return{disengage:r.disengage}}function at(e){I({element:e,attribute:"aria-hidden",temporaryValue:"true"})}function ut(e){I({element:e,attribute:"aria-hidden"})}function st(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.context,n=e.filter,r=new xi({context:t,filter:n});return{disengage:r.disengage}}function lt(e,t){var n=t.querySelectorAll("img[usemap]"),r=new yi(t),i=r.extractAreasFromList(e);return n.length?Se({list:i,elements:n,resolveElement:function(e){var t=e.getAttribute("usemap").slice(1);return r.getAreasFor(t)}}):i}function ct(e,t,n){var r=new wi(t,n),i=r.extractElements(e);return i.length===e.length?n(e):r.sort(i)}function dt(e){var t={},n=[],r=e.filter(function(e){return e.tabIndex<=0||void 0===e.tabIndex?!0:(t[e.tabIndex]||(t[e.tabIndex]=[],n.push(e.tabIndex)),t[e.tabIndex].push(e),!1)}),i=n.sort().map(function(e){return t[e]}).reduceRight(function(e,t){return t.concat(e)},r);return i}function ft(e,t){var n=e.indexOf(t);if(n>0){var r=e.splice(n,1);return r.concat(e)}return e}function mt(e,t){return Ei.tabsequenceAreaAtImgPosition&&(e=lt(e,t)),e=dt(e)}function bt(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.context,n=e.includeContext,r=e.includeOnlyTabbable,o=e.strategy;Ei||(Ei=E());var a=i(t)[0]||document.documentElement,u=ge({context:a,includeContext:n,includeOnlyTabbable:r,strategy:o});return u=document.body.createShadowRoot&&ln.is.BLINK?ct(u,a,mt):mt(u,a),n&&(u=ft(u,a)),u}function vt(e){var t=e?null:!1;return{altKey:t,ctrlKey:t,metaKey:t,shiftKey:t}}function ht(e){var t=-1!==e.indexOf("*"),n=vt(t);return e.forEach(function(e){if("*"!==e){var t=!0,r=e.slice(0,1);"?"===r?t=null:"!"===r&&(t=!1),t!==!0&&(e=e.slice(1));var i=Ci[e];if(!i)throw new TypeError('Unknown modifier "'+e+'"');n[i]=t}}),n}function gt(e){var t=Si[e]||parseInt(e,10);if(!t||"number"!=typeof t||isNaN(t))throw new TypeError('Unknown key "'+e+'"');return[t].concat(Si._alias[t]||[])}function pt(e,t){return!Li.some(function(n){return"boolean"==typeof e[n]&&Boolean(t[n])!==e[n]})}function xt(e){return e.split(/\s+/).map(function(e){var t=e.split("+"),n=ht(t.slice(0,-1)),r=gt(t.slice(-1));return{keyCodes:r,modifiers:n,matchModifiers:pt.bind(null,n)}})}function yt(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t={},n=i(e.context)[0]||document.documentElement;delete e.context;var r=i(e.filter);delete e.filter;var o=Object.keys(e);if(!o.length)throw new TypeError("when/key requires at least one option key");var a=function(e){e.keyCodes.forEach(function(n){t[n]||(t[n]=[]),t[n].push(e)})};o.forEach(function(t){if("function"!=typeof e[t])throw new TypeError('when/key requires option["'+t+'"] to be a function');var n=function(n){return n.callback=e[t],n};xt(t).map(n).forEach(a)});var u=function(e){if(!e.defaultPrevented){if(r.length){var i=Qe({element:e.target,includeSelf:!0});if(r.some(i))return}var o=e.keyCode||e.which;t[o]&&t[o].forEach(function(t){t.matchModifiers(e)&&t.callback.call(n,e,s)})}};n.addEventListener("keydown",u,!1);var s=function(){n.removeEventListener("keydown",u,!1)};return{disengage:s}}function wt(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.context;return t||(t=document.documentElement),bt(),yt({"?alt+?shift+tab":function(e){e.preventDefault();var n=bt({context:t}),r=e.shiftKey,i=n[0],o=n[n.length-1],a=r?i:o,u=r?o:i;if(s(a))return void u.focus();var l=void 0,c=n.some(function(e,t){return s(e)?(l=t,!0):!1});if(!c)return void i.focus();var d=r?-1:1;n[l+d].focus()}})}function Et(){_i=0,Pi=0}function St(e){e.isPrimary!==!1&&_i++}function Tt(e){return e.isPrimary!==!1?e.touches?void(_i=e.touches.length):void(window.setImmediate||window.setTimeout)(function(){_i=Math.max(_i-1,0)}):void 0}function At(e){switch(e.keyCode||e.which){case 16:case 17:case 18:case 91:case 93:return}Pi++}function Ot(e){switch(e.keyCode||e.which){case 16:case 17:case 18:case 91:case 93:return}(window.setImmediate||window.setTimeout)(function(){Pi=Math.max(Pi-1,0)})}function It(){return{pointer:Boolean(_i),key:Boolean(Pi)}}function Ct(){_i=Pi=0,window.removeEventListener("blur",Et,!1),document.documentElement.removeEventListener("keydown",At,!0),document.documentElement.removeEventListener("keyup",Ot,!0),Fi.forEach(function(e){document.documentElement.removeEventListener(e,St,!0)}),Ri.forEach(function(e){document.documentElement.removeEventListener(e,Tt,!0)})}function Lt(){return window.addEventListener("blur",Et,!1),document.documentElement.addEventListener("keydown",At,!0),document.documentElement.addEventListener("keyup",Ot,!0),Fi.forEach(function(e){document.documentElement.addEventListener(e,St,!0)}),Ri.forEach(function(e){document.documentElement.addEventListener(e,Tt,!0)}),{get:It}}function Nt(e){return e.hasAttribute("autofocus")}function kt(e){return e.tabIndex<=0}function Mt(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.context,n=e.sequence,r=e.strategy,o=e.ignoreAutofocus,a=e.defaultToContext,u=e.includeOnlyTabbable,s=-1;n||(t=i(t||document.body)[0],n=ge({context:t,includeOnlyTabbable:u,strategy:r})),n.length&&!o&&(s=n.findIndex(Nt)),n.length&&-1===s&&(s=n.findIndex(kt));var l=Mr.rules.except({onlyTabbable:u});return-1===s&&a&&t&&l(t)?t:n[s]||null}function _t(e){var t=e.getAttribute&&e.getAttribute("class")||"";return""===t?[]:t.split(" ")}function Pt(e,t,n){var r=_t(e),i=r.indexOf(t),o=-1!==i,a=void 0!==n?n:!o;

a!==o&&(a||r.splice(i,1),a&&r.push(t),e.setAttribute("class",r.join(" ")))}function Ft(e,t){return Pt(e,t,!1)}function Rt(e,t){return Pt(e,t,!0)}function Bt(e){var t="";if(e.type===Hi||"shadow-focus"===e.type){var n=qi.get();t=Zi||n.pointer&&"pointer"||n.key&&"key"||"script"}else"initial"===e.type&&(t="initial");document.documentElement.setAttribute("data-focus-source",t),e.type!==ji&&(Vi[t]||Rt(document.documentElement,"focus-source-"+t),Vi[t]=!0,Gi=t)}function Dt(){return Gi}function Wt(e){return Vi[e]}function Ht(e){Zi=e}function jt(){Zi=!1}function qt(){Bt({type:ji}),Gi=Zi=null,Object.keys(Vi).forEach(function(e){Ft(document.documentElement,"focus-source-"+e),Vi[e]=!1}),qi.disengage(),Ki&&Ki.disengage(),document.removeEventListener("shadow-focus",Bt,!0),document.documentElement.removeEventListener(Hi,Bt,!0),document.documentElement.removeEventListener(ji,Bt,!0),document.documentElement.removeAttribute("data-focus-source")}function Kt(){return Ki=zr(),document.addEventListener("shadow-focus",Bt,!0),document.documentElement.addEventListener(Hi,Bt,!0),document.documentElement.addEventListener(ji,Bt,!0),qi=Bi(),Bt({type:"initial"}),{used:Wt,current:Dt,lock:Ht,unlock:jt}}function Gt(e){var t=e||Ve();Ui.cssShadowPiercingDeepCombinator||(t=t.slice(-1));var n=[].slice.call(document.querySelectorAll(Qi),0),r=t.map(function(e){return D({context:e})}).reduce(function(e,t){return t.concat(e)},[]);n.forEach(function(e){-1===r.indexOf(e)&&Ft(e,Ji)}),r.forEach(function(e){-1===n.indexOf(e)&&Rt(e,Ji)})}function Zt(){Yi=(window.setImmediate||window.setTimeout)(function(){Gt()})}function Vt(){(window.clearImmediate||window.clearTimeout)(Yi),Gt()}function $t(e){Gt(e.detail.elements)}function Ut(){eo&&eo.disengage(),(window.clearImmediate||window.clearTimeout)(Yi),document.removeEventListener(zi,Zt,!0),document.removeEventListener(Xi,Vt,!0),document.removeEventListener("shadow-focus",$t,!0),[].forEach.call(document.querySelectorAll(Qi),function(e){Ft(e,Ji)})}function Xt(){Ui||(Ui=E(),Qi=$("."+Ji)),eo=zr(),document.addEventListener(zi,Zt,!0),document.addEventListener(Xi,Vt,!0),document.addEventListener("shadow-focus",$t,!0),Gt()}function zt(e,t){var n=Math.max(e.top,t.top),r=Math.max(e.left,t.left),i=Math.max(Math.min(e.right,t.right),r),o=Math.max(Math.min(e.bottom,t.bottom),n);return{top:n,right:i,bottom:o,left:r,width:i-r,height:o-n}}function Jt(){var e=window.innerWidth||document.documentElement.clientWidth,t=window.innerHeight||document.documentElement.clientHeight;return{top:0,right:e,bottom:t,left:0,width:e,height:t}}function Qt(e){var t=e.getBoundingClientRect(),n=e.offsetWidth-e.clientWidth,r=e.offsetHeight-e.clientHeight,i={top:t.top,left:t.left,right:t.right-n,bottom:t.bottom-r,width:t.width-n,height:t.height-r,area:0};return i.area=i.width*i.height,i}function Yt(e){var t=window.getComputedStyle(e,null),n="visible";return t.getPropertyValue("overflow-x")!==n&&t.getPropertyValue("overflow-y")!==n}function en(e){return Yt(e)?e.offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth:!1}function tn(e){var t=D({context:e}).slice(1).filter(en);return t.length?t.reduce(function(e,t){var n=Qt(t),r=zt(n,e);return r.area=Math.min(n.area,e.area),r},Qt(t[0])):null}function nn(e){var t=e.getBoundingClientRect(),n=Jt();n.area=n.width*n.height;var r=n,i=tn(e);if(i){if(!i.width||!i.height)return 0;r=zt(i,n),r.area=i.area}var o=zt(t,r);if(!o.width||!o.height)return 0;var a=t.width*t.height,u=Math.min(a,r.area),s=Math.round(o.width)*Math.round(o.height)/u,l=1e4,c=Math.round(s*l)/l;return Math.min(c,1)}function rn(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.context,n=e.callback,r=e.area;if("function"!=typeof n)throw new TypeError("when/visible-area requires options.callback to be a function");"number"!=typeof r&&(r=1);var i=o({label:"when/visible-area",context:t}),a=void 0,u=null,s=function(){a&&cancelAnimationFrame(a)},l=function(){return!Ir(i)||nn(i)<r||n(i)===!1},c=function(){return l()?void u():void s()};return u=function(){a=requestAnimationFrame(c)},u(),{disengage:s}}function on(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.context,n=e.callback,r=e.area;if("function"!=typeof n)throw new TypeError("when/focusable requires options.callback to be a function");var i=o({label:"when/focusable",context:t}),a=function(e){return Mr(e)?n(e):!1},s=u(i),l=rn({context:i,callback:a,area:r}),c=function d(){s.removeEventListener("focus",d,!0),l&&l.disengage()};return s.addEventListener("focus",c,!0),{disengage:c}}var an=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),un=r(e("platform")),sn=(e("array.prototype.findindex"),r(e("css.escape"))),ln=JSON.parse(JSON.stringify(un)),cn=ln.os.family||"",dn="Android"===cn,fn="Windows"===cn.slice(0,7),mn="OS X"===cn,bn="iOS"===cn,vn="Blink"===ln.layout,hn="Gecko"===ln.layout,gn="Trident"===ln.layout,pn="WebKit"===ln.layout,xn=parseFloat(ln.version),yn=Math.floor(xn);ln.majorVersion=yn,ln.is={ANDROID:dn,WINDOWS:fn,OSX:mn,IOS:bn,BLINK:vn,GECKO:hn,TRIDENT:gn,WEBKIT:pn,IE9:gn&&9===yn,IE10:gn&&10===yn,IE11:gn&&11===yn};var wn="1.3.0",En="undefined"!=typeof window&&window.navigator.userAgent||"",Sn="ally-supports-cache",Tn=v(Sn);(Tn.userAgent!==En||Tn.version!==wn)&&(Tn={}),Tn.userAgent=En,Tn.version=wn;var An={get:function(){return Tn},set:function(e){Object.keys(e).forEach(function(t){Tn[t]=e[t]}),Tn.time=(new Date).toISOString(),h(Sn,Tn)}},On="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",In={element:"div",mutate:function(e){return e.innerHTML='<map name="image-map-tabindex-test"><area shape="rect" coords="63,19,144,45"></map><img usemap="#image-map-tabindex-test" tabindex="-1" alt="" src="'+On+'">',e.querySelector("area")}},Cn={element:"div",mutate:function(e){return e.innerHTML='<map name="image-map-tabindex-test"><area href="#void" tabindex="-1" shape="rect" coords="63,19,144,45"></map><img usemap="#image-map-tabindex-test" alt="" src="'+On+'">',!1},validate:function(e,t){if(ln.is.GECKO)return!0;var n=e.querySelector("area");return n.focus(),t.activeElement===n}},Ln={element:"div",mutate:function(e){return e.innerHTML='<map name="image-map-area-href-test"><area shape="rect" coords="63,19,144,45"></map><img usemap="#image-map-area-href-test" alt="" src="'+On+'">',e.querySelector("area")},validate:function(e,t){if(ln.is.GECKO)return!0;var n=e.querySelector("area");return t.activeElement===n}},Nn={name:"can-focus-audio-without-controls",element:"audio",mutate:function(e){try{e.setAttribute("src",On)}catch(t){}}},kn="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZ",Mn={element:"div",mutate:function(e){return e.innerHTML='<map name="broken-image-map-test"><area href="#void" shape="rect" coords="63,19,144,45"></map><img usemap="#broken-image-map-test" alt="" src="'+kn+'">',e.querySelector("area")}},_n={element:"div",mutate:function(e){return e.setAttribute("tabindex","-1"),e.setAttribute("style","display: -webkit-flex; display: -ms-flexbox; display: flex;"),e.innerHTML='<span style="display: block;">hello</span>',e.querySelector("span")}},Pn={element:"fieldset",mutate:function(e){e.setAttribute("tabindex",0),e.setAttribute("disabled","disabled")}},Fn={element:"fieldset",mutate:function(e){e.innerHTML="<legend>legend</legend><p>content</p>"}},Rn={element:"span",mutate:function(e){e.setAttribute("style","display: -webkit-flex; display: -ms-flexbox; display: flex;"),e.innerHTML='<span style="display: block;">hello</span>'}},Bn={element:"form",mutate:function(e){e.setAttribute("tabindex",0),e.setAttribute("disabled","disabled")}},Dn={element:"a",mutate:function(e){return e.href="#void",e.innerHTML='<img ismap src="'+On+'" alt="">',e.querySelector("img")}},Wn={element:"div",mutate:function(e){return e.innerHTML='<map name="image-map-tabindex-test"><area href="#void" shape="rect" coords="63,19,144,45"></map><img usemap="#image-map-tabindex-test" tabindex="-1" alt="" src="'+On+'">',e.querySelector("img")}},Hn={element:function(e,t){var n=t.createElement("iframe");e.appendChild(n);var r=n.contentWindow.document;return r.open(),r.close(),n},mutate:function(e){e.style.visibility="hidden";var t=e.contentWindow.document,n=t.createElement("input");return t.body.appendChild(n),n},validate:function(e){var t=e.contentWindow.document,n=t.querySelector("input");return t.activeElement===n}},jn=!ln.is.WEBKIT,qn={element:"div",mutate:function(e){e.setAttribute("tabindex","invalid-value")}},Kn={element:"label",mutate:function(e){e.setAttribute("tabindex","-1")},validate:function(e,t){e.offsetHeight;return e.focus(),t.activeElement===e}},Gn="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBpZD0ic3ZnIj48dGV4dCB4PSIxMCIgeT0iMjAiIGlkPSJzdmctbGluay10ZXh0Ij50ZXh0PC90ZXh0Pjwvc3ZnPg==",Zn={element:"object",mutate:function(e){e.setAttribute("type","image/svg+xml"),e.setAttribute("data",Gn),e.setAttribute("width","200"),e.setAttribute("height","50"),e.style.visibility="hidden"}},Vn={name:"can-focus-object-svg",element:"object",mutate:function(e){e.setAttribute("type","image/svg+xml"),e.setAttribute("data",Gn),e.setAttribute("width","200"),e.setAttribute("height","50")},validate:function(e,t){return ln.is.GECKO?!0:t.activeElement===e}},$n=!ln.is.TRIDENT||!ln.is.IE9,Un={element:"div",mutate:function(e){return e.innerHTML='<map name="focus-redirect-img-usemap"><area href="#void" shape="rect" coords="63,19,144,45"></map><img usemap="#focus-redirect-img-usemap" alt="" src="'+On+'">',e.querySelector("img")},validate:function(e,t){var n=e.querySelector("area");return t.activeElement===n}},Xn={element:"fieldset",mutate:function(e){return e.innerHTML='<legend>legend</legend><input tabindex="-1"><input tabindex="0">',!1},validate:function(e,t){var n=e.querySelector('input[tabindex="-1"]'),r=e.querySelector('input[tabindex="0"]');return e.focus(),e.querySelector("legend").focus(),t.activeElement===n&&"focusable"||t.activeElement===r&&"tabbable"||""}},zn={element:"div",mutate:function(e){return e.setAttribute("style","width: 100px; height: 50px; overflow: auto;"),e.innerHTML='<div style="width: 500px; height: 40px;">scrollable content</div>',e.querySelector("div")}},Jn={element:"div",mutate:function(e){e.setAttribute("style","width: 100px; height: 50px;"),e.innerHTML='<div style="width: 500px; height: 40px;">scrollable content</div>'}},Qn={element:"div",mutate:function(e){e.setAttribute("style","width: 100px; height: 50px; overflow: auto;"),e.innerHTML='<div style="width: 500px; height: 40px;">scrollable content</div>'}},Yn={element:"details",mutate:function(e){return e.innerHTML="<summary>foo</summary><p>content</p>",e.firstElementChild}},er={element:"div",mutate:function(e){return e.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><text focusable="true">a</text></svg>',e.querySelector("text")},validate:function(e,t){var n=e.querySelector("text");return ln.is.TRIDENT?!0:t.activeElement===n}},tr={element:"div",mutate:function(e){return e.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><text tabindex="-1">a</text></svg>',e.querySelector("text")}},nr={element:"div",mutate:function(e){return e.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"></svg>',e.firstChild},validate:function(e,t){var n=e.firstChild;return ln.is.TRIDENT?!0:t.activeElement===n}},rr={element:"div",mutate:function(e){e.setAttribute("tabindex","3x")}},ir={element:"table",mutate:function(e,t,n){var r=n.createDocumentFragment();r.innerHTML="<tr><td>cell</td></tr>",e.appendChild(r)}},or={element:"video",mutate:function(e){try{e.setAttribute("src",On)}catch(t){}}},ar=ln.is.GECKO||ln.is.TRIDENT,ur={cssShadowPiercingDeepCombinator:g,focusInZeroDimensionObject:p,focusObjectSwf:x,tabsequenceAreaAtImgPosition:y},sr={focusAreaImgTabindex:In,focusAreaTabindex:Cn,focusAreaWithoutHref:Ln,focusAudioWithoutControls:Nn,focusBrokenImageMap:Mn,focusChildrenOfFocusableFlexbox:_n,focusFieldsetDisabled:Pn,focusFieldset:Fn,focusFlexboxContainer:Rn,focusFormDisabled:Bn,focusImgIsmap:Dn,focusImgUsemapTabindex:Wn,focusInHiddenIframe:Hn,focusInvalidTabindex:qn,focusLabelTabindex:Kn,focusObjectSvg:Vn,focusObjectSvgHidden:Zn,focusRedirectImgUsemap:Un,focusRedirectLegend:Xn,focusScrollBody:zn,focusScrollContainerWithoutOverflow:Jn,focusScrollContainer:Qn,focusSummary:Yn,focusSvgFocusableAttribute:er,focusSvgTabindexAttribute:tr,focusSvg:nr,focusTabindexTrailingCharacters:rr,focusTable:ir,focusVideoWithoutControls:or},lr=null,cr=void 0,dr=/^\s*(-|\+)?[0-9]+\s*$/,fr=/^\s*(-|\+)?[0-9]+.*$/,mr=void 0,br=void 0,vr={input:!0,select:!0,textarea:!0,button:!0,fieldset:!0,form:!0},hr=function(){},gr={log:hr,debug:hr,info:hr,warn:hr,error:hr},pr="undefined"!=typeof console?console:gr,xr=void 0,yr=["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector"],wr=null,Er=void 0;Z.except=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=function(t){return Z({context:t,except:e})};return t.rules=Z,t};var Sr=Z.except({}),Tr=void 0,Ar=void 0,Or=/^(area)$/;ee.except=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=function(t){return ee({context:t,except:e})};return t.rules=ee,t};var Ir=ee.except({}),Cr=void 0,Lr=void 0;se.except=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=function(t){return se({context:t,except:e})};return t.rules=se,t};var Nr=se.except({}),kr=void 0;ce.except=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=function(t){return ce({context:t,except:e})};return t.rules=ce,t};var Mr=ce.except({}),_r=de(Sr),Pr=void 0,Fr=void 0,Rr=/^(fieldset|table|td|body)$/;he.except=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=function(t){return he({context:t,except:e})};return t.rules=he,t};var Br=Sr.rules.except({flexbox:!0}),Dr=he.except({flexbox:!0}),Wr=he.except({}),Hr=void 0,jr={flexbox:!0,scrollable:!0,onlyTabbable:!0},qr={blur:c,disabled:B,focus:Pe};"undefined"!=typeof window&&function(){for(var e=0,t=["ms","moz","webkit","o"],n="",r="",i=0,o=t.length;o>i;++i)n=window[t[i]+"RequestAnimationFrame"],r=window[t[i]+"CancelAnimationFrame"]||window[t[i]+"CancelRequestAnimationFrame"];"function"!=typeof window.requestAnimationFrame&&(window.requestAnimationFrame=window[n]||function(t){var n=(new Date).getTime(),r=Math.max(0,16-(n-e)),i=window.setTimeout(function(){t(n+r)},r);return e=n+r,i}),"function"!=typeof window.cancelAnimationFrame&&(window.cancelAnimationFrame=window[r]||function(e){clearTimeout(e)})}();var Kr="undefined"!=typeof window&&window.CustomEvent||function(){};"function"!=typeof Kr&&(Kr=function(e,t){var n=document.createEvent("CustomEvent");return!t&&(t={bubbles:!1,cancelable:!1,detail:void 0}),n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n},Kr.prototype=window.Event.prototype);var Gr=Kr,Zr=void 0,Vr=void 0,$r=De({engage:He,disengage:je}),Ur=void 0,Xr=void 0;"undefined"!=typeof document&&document.documentElement.createShadowRoot?!function(){var e=void 0,t=void 0,n=function(){i(),(window.clearImmediate||window.clearTimeout)(e),e=(window.setImmediate||window.setTimeout)(function(){o()})},r=function(e){e.addEventListener("blur",n,!0),t=e},i=function(){t&&t.removeEventListener("blur",n,!0),t=null},o=function(){var e=Ve();if(1===e.length)return void i();r(e[0]);var t=new CustomEvent("shadow-focus",{bubbles:!1,cancelable:!1,detail:{elements:e,active:e[0],hosts:e.slice(1)}});document.dispatchEvent(t)},a=function(){(window.clearImmediate||window.clearTimeout)(e),o()};Ur=function(){document.addEventListener("focus",a,!0)},Xr=function(){(window.clearImmediate||window.clearTimeout)(e),t&&t.removeEventListener("blur",n,!0),document.removeEventListener("focus",a,!0)}}():Ur=Xr=function(){};var zr=De({engage:Ur,disengage:Xr}),Jr={activeElement:$r,shadowFocus:zr},Qr=void 0,Yr=void 0,ei=ln.is.TRIDENT&&(ln.is.IE10||ln.is.IE11);ei?!function(){var e=function(e){var t=ke({context:e.target,except:{flexbox:!0,scrollable:!0}});if(t&&t!==e.target){window.setImmediate(function(){t.focus()});var n=[].map.call(t.children,function(e){var t=e.style.visibility||"",n=e.style.transition||"";return e.style.visibility="hidden",e.style.transition="none",[e,t,n]});window.setImmediate(function(){n.forEach(function(e){e[0].style.visibility=e[1],e[0].style.transition=e[2]})})}};Qr=function(t){t.addEventListener("mousedown",e,!0)},Yr=function(t){t.removeEventListener("mousedown",e,!0)}}():Qr=function(){};var ti=ze({engage:Qr,disengage:Yr}),ni=void 0,ri=void 0,ii=ln.is.OSX&&(ln.is.GECKO||ln.is.WEBKIT);ii?!function(){var e=function(e){if(!e.defaultPrevented&&H(e.target,"input, button, button *")){var t=ke({context:e.target});(window.setImmediate||window.setTimeout)(function(){t.focus()})}},t=function(e){if(!e.defaultPrevented&&H(e.target,"label, label *")){var t=ke({context:e.target});t&&t.focus()}};ni=function(n){n.addEventListener("mousedown",e,!1),n.addEventListener("mouseup",t,!1)},ri=function(n){n.removeEventListener("mousedown",e,!1),n.removeEventListener("mouseup",t,!1)}}():ni=function(){};var oi=ze({engage:ni,disengage:ri}),ai=void 0,ui=void 0,si=ln.is.WEBKIT;si?!function(){var e=function(e){var t=ke({context:e.target});!t||t.hasAttribute("tabindex")&&S(t)||(t.setAttribute("tabindex",0),(window.setImmediate||window.setTimeout)(function(){t.removeAttribute("tabindex")},0))};ai=function(t){t.addEventListener("mousedown",e,!0),t.addEventListener("touchstart",e,!0)},ui=function(t){t.removeEventListener("mousedown",e,!0),t.removeEventListener("touchstart",e,!0)}}():ai=function(){};var li=ze({engage:ai,disengage:ui}),ci={pointerFocusChildren:ti,pointerFocusInput:oi,pointerFocusParent:li},di={activeElement:Je,activeElements:Ve,focusRedirectTarget:Ne,focusTarget:ke,insignificantBranches:et,parents:D,shadowHostParents:Ke,shadowHost:a},fi={activeElement:s,disabled:ue,focusRelevant:Sr,focusable:Mr,onlyTabbable:Nr,shadowed:qe,tabbable:Wr,validArea:ie,validTabindex:S,visible:Ir},mi=function(e){return e.shadowRoot?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP};mi.acceptNode=mi;for(var bi={childList:!0,subtree:!0},vi=function(){function e(){var t=this,r=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],i=r.context,o=r.callback,a=r.config;n(this,e),this.config=a,this.disengage=this.disengage.bind(this),this.clientObserver=new MutationObserver(o),this.hostObserver=new MutationObserver(function(e){return e.forEach(t.handleHostMutation,t)}),this.observeContext(i),this.observeShadowHosts(i)}return an(e,[{key:"disengage",value:function(){this.clientObserver&&this.clientObserver.disconnect(),this.clientObserver=null,this.hostObserver&&this.hostObserver.disconnect(),this.hostObserver=null}},{key:"observeShadowHosts",value:function(e){var t=this,n=tt({context:e});n.forEach(function(e){return t.observeContext(e.shadowRoot)})}},{key:"observeContext",value:function(e){this.clientObserver.observe(e,this.config),this.hostObserver.observe(e,bi)}},{key:"handleHostMutation",value:function(e){if("childList"===e.type){var t=i(e.addedNodes).filter(function(e){return e.nodeType===Node.ELEMENT_NODE});t.forEach(this.observeShadowHosts,this)}}}]),e}(),hi={attributes:!0,childList:!0,subtree:!0,attributeFilter:["tabindex","disabled","data-ally-disabled"]},gi=function(){function e(){var t=this,r=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],o=r.context,a=r.filter;n(this,e),this._context=i(o||document.documentElement)[0],this._filter=i(a),this._inertElementCache=[],this.disengage=this.disengage.bind(this),this.handleMutation=this.handleMutation.bind(this),this.renderInert=this.renderInert.bind(this),this.filterElements=this.filterElements.bind(this),this.filterParentElements=this.filterParentElements.bind(this);var u=ve({context:this._context,includeContext:!0,strategy:"all"});this.renderInert(u),this.shadowObserver=nt({context:this._context,config:hi,callback:function(e){return e.forEach(t.handleMutation)}})}return an(e,[{key:"disengage",value:function(){this._context&&(it(this._context),this._inertElementCache.forEach(function(e){return it(e)}),this._inertElementCache=null,this._filter=null,this._context=null,this.shadowObserver&&this.shadowObserver.disengage(),this.shadowObserver=null)}},{key:"listQueryFocusable",value:function(e){return e.map(function(e){return ve({context:e,includeContext:!0,strategy:"all"})}).reduce(function(e,t){return e.concat(t)},[])}},{key:"renderInert",value:function(e){var t=this,n=function(e){t._inertElementCache.push(e),rt(e)};e.filter(this.filterElements).filter(this.filterParentElements).filter(function(e){return!B(e)}).forEach(n)}},{key:"filterElements",value:function(e){var t=Qe({element:e,includeSelf:!0});return!this._filter.some(t)}},{key:"filterParentElements",value:function(e){var t=Qe({parent:e});return!this._filter.some(t)}},{key:"handleMutation",value:function(e){if("childList"===e.type){var t=i(e.addedNodes).filter(function(e){return e.nodeType===Node.ELEMENT_NODE});if(!t.length)return;var n=this.listQueryFocusable(t);this.renderInert(n)}else"attributes"===e.type&&this.renderInert([e.target])}}]),e}(),pi={attributes:!1,childList:!0,subtree:!0},xi=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],r=t.context,o=t.filter;n(this,e),this._context=i(r||document.documentElement)[0],this._filter=i(o),this.disengage=this.disengage.bind(this),this.handleMutation=this.handleMutation.bind(this),this.isInsignificantBranch=this.isInsignificantBranch.bind(this);var a=et({context:this._context,filter:this._filter});a.forEach(at),this.startObserver()}return an(e,[{key:"disengage",value:function(){this._context&&([].forEach.call(this._context.querySelectorAll("[data-cached-aria-hidden]"),ut),this._context=null,this._filter=null,this._observer&&this._observer.disconnect(),this._observer=null)}},{key:"startObserver",value:function(){var e=this;window.MutationObserver&&(this._observer=new MutationObserver(function(t){return t.forEach(e.handleMutation)}),this._observer.observe(this._context,pi))}},{key:"handleMutation",value:function(e){"childList"===e.type&&i(e.addedNodes).filter(function(e){return e.nodeType===Node.ELEMENT_NODE}).filter(this.isInsignificantBranch).forEach(at)}},{key:"isInsignificantBranch",value:function(e){var t=D({context:e});if(t.some(function(e){return"true"===e.getAttribute("aria-hidden")}))return!1;var n=Qe({element:e});return this._filter.some(n)?!1:!0}}]),e}(),yi=function(){function e(t){n(this,e),this._document=u(t),this.maps={}}return an(e,[{key:"getAreasFor",value:function(e){return this.maps[e]||this.addMapByName(e),this.maps[e]}},{key:"addMapByName",value:function(e){var t=te(e,this._document);t&&(this.maps[t.name]=ge({context:t}))}},{key:"extractAreasFromList",value:function(e){return e.filter(function(e){var t=e.nodeName.toLowerCase();if("area"!==t)return!0;var n=e.parentNode;return this.maps[n.name]||(this.maps[n.name]=[]),this.maps[n.name].push(e),!1},this)}}]),e}(),wi=function(){function e(t,r){n(this,e),this.context=t,this.sortElements=r,this.hostCounter=1,this.inHost={},this.inDocument=[],this.hosts={},this.elements={}}return an(e,[{key:"_registerHost",value:function(e){if(!e._sortingId){e._sortingId="shadow-"+this.hostCounter++,this.hosts[e._sortingId]=e;var t=a({context:e});t?(this._registerHost(t),this._registerHostParent(e,t)):this.inDocument.push(e)}}},{key:"_registerHostParent",value:function(e,t){this.inHost[t._sortingId]||(this.inHost[t._sortingId]=[]),this.inHost[t._sortingId].push(e)}},{key:"_registerElement",value:function(e,t){this.elements[t._sortingId]||(this.elements[t._sortingId]=[]),this.elements[t._sortingId].push(e)}},{key:"extractElements",value:function(e){return e.filter(function(e){var t=a({context:e});return t?(this._registerHost(t),this._registerElement(e,t),!1):!0},this)}},{key:"sort",value:function(e){var t=this._injectHosts(e);return t=this._replaceHosts(t),this._cleanup(),t}},{key:"_injectHosts",value:function(e){return Object.keys(this.hosts).forEach(function(e){var t=this.elements[e],n=this.inHost[e],r=this.hosts[e].shadowRoot;this.elements[e]=this._merge(t,n,r)},this),this._merge(e,this.inDocument,this.context)}},{key:"_merge",value:function(e,t,n){var r=Se({list:e,elements:t});return this.sortElements(r,n)}},{key:"_replaceHosts",value:function(e){return Se({list:e,elements:this.inDocument,resolveElement:this._resolveHostElement.bind(this)})}},{key:"_resolveHostElement",value:function(e){var t=Se({list:this.elements[e._sortingId],elements:this.inHost[e._sortingId],resolveElement:this._resolveHostElement.bind(this)}),n=T(e);return null!==n&&n>-1?[e].concat(t):t}},{key:"_cleanup",value:function(){Object.keys(this.hosts).forEach(function(e){delete this.hosts[e]._sortingId},this)}}]),e}(),Ei=void 0,Si={tab:9,left:37,up:38,right:39,down:40,pageUp:33,"page-up":33,pageDown:34,"page-down":34,end:35,home:36,enter:13,escape:27,space:32,shift:16,capsLock:20,"caps-lock":20,ctrl:17,alt:18,meta:91,pause:19,insert:45,"delete":46,backspace:8,_alias:{91:[92,93,224]}},Ti=1;26>Ti;Ti++)Si["f"+Ti]=Ti+111;for(var Ti=0;10>Ti;Ti++){var Ai=Ti+48,Oi=Ti+96;Si[Ti]=Ai,Si["num-"+Ti]=Oi,Si._alias[Ai]=[Oi]}for(var Ti=0;26>Ti;Ti++){var Ai=Ti+65,Ii=String.fromCharCode(Ai).toLowerCase();Si[Ii]=Ai}var Ci={alt:"altKey",ctrl:"ctrlKey",meta:"metaKey",shift:"shiftKey"},Li=Object.keys(Ci).map(function(e){return Ci[e]}),Ni={disabled:ot,hidden:st,tabFocus:wt},ki={"aria-busy":{"default":"false",values:["true","false"]},"aria-checked":{"default":void 0,values:["true","false","mixed",void 0]},"aria-disabled":{"default":"false",values:["true","false"]},"aria-expanded":{"default":void 0,values:["true","false",void 0]},"aria-grabbed":{"default":void 0,values:["true","false",void 0]},"aria-hidden":{"default":"false",values:["true","false"]},"aria-invalid":{"default":"false",values:["true","false","grammar","spelling"]},"aria-pressed":{"default":void 0,values:["true","false","mixed",void 0]},"aria-selected":{"default":void 0,values:["true","false",void 0]},"aria-atomic":{"default":"false",values:["true","false"]},"aria-autocomplete":{"default":"none",values:["inline","list","both","none"]},"aria-dropeffect":{"default":"none",multiple:!0,values:["copy","move","link","execute","popup","none"]},"aria-haspopup":{"default":"false",values:["true","false"]},"aria-live":{"default":"off",values:["off","polite","assertive"]},"aria-multiline":{"default":"false",values:["true","false"]},"aria-multiselectable":{"default":"false",values:["true","false"]},"aria-orientation":{"default":"horizontal",values:["vertical","horizontal"]},"aria-readonly":{"default":"false",values:["true","false"]},"aria-relevant":{"default":"additions text",multiple:!0,values:["additions","removals","text","all"]},"aria-required":{"default":"false",values:["true","false"]},"aria-sort":{"default":"none",other:!0,values:["ascending","descending","none"]}},Mi={attribute:ki,keycode:Si},_i=0,Pi=0,Fi=["touchstart","pointerdown","MSPointerDown","mousedown"],Ri=["touchend","touchcancel","pointerup","MSPointerUp","pointercancel","MSPointerCancel","mouseup"],Bi=De({engage:Lt,disengage:Ct}),Di={interactionType:Bi,shadowMutations:nt},Wi={firstTabbable:Mt,focusable:ve,shadowHosts:tt,tabbable:ge,tabsequence:bt},Hi="undefined"!=typeof document&&("onfocusin"in document?"focusin":"focus"),ji="undefined"!=typeof document&&("onfocusin"in document?"focusout":"blur"),qi=void 0,Ki=void 0,Gi=null,Zi=null,Vi={pointer:!1,key:!1,script:!1,initial:!1},$i=De({engage:Kt,disengage:qt}),Ui=void 0,Xi="undefined"!=typeof document&&("onfocusin"in document?"focusin":"focus"),zi="undefined"!=typeof document&&("onfocusin"in document?"focusout":"blur"),Ji="ally-focus-within",Qi=void 0,Yi=void 0,eo=void 0,to=De({engage:Xt,disengage:Ut}),no={focusSource:$i,focusWithin:to},ro={focusable:on,key:yt,visibleArea:rn},io="undefined"!=typeof window&&window.ally,oo={element:qr,event:Jr,fix:ci,get:di,is:fi,maintain:Ni,map:Mi,observe:Di,query:Wi,style:no,when:ro,version:wn,noConflict:function(){return"undefined"!=typeof window&&window.ally===this&&(window.ally=io),this}};t.exports=oo},{"array.prototype.findindex":2,"css.escape":3,platform:4}],2:[function(){!function(){if(!Array.prototype.findIndex){var e=function(e){var t=Object(this),n=Math.max(0,t.length)>>>0;if(0===n)return-1;if("function"!=typeof e||"[object Function]"!==Object.prototype.toString.call(e))throw new TypeError("Array#findIndex: predicate must be a function");for(var r=arguments.length>1?arguments[1]:void 0,i=0;n>i;i++)if(e.call(r,t[i],i,t))return i;return-1};if(Object.defineProperty)try{Object.defineProperty(Array.prototype,"findIndex",{value:e,configurable:!0,writable:!0})}catch(t){}Array.prototype.findIndex||(Array.prototype.findIndex=e)}}(this)},{}],3:[function(t,n,r){(function(t){!function(t,i){"object"==typeof r?n.exports=i(t):"function"==typeof e&&e.amd?e([],i.bind(t,t)):i(t)}("undefined"!=typeof t?t:this,function(e){if(e.CSS&&e.CSS.escape)return e.CSS.escape;var t=function(e){if(0==arguments.length)throw new TypeError("`CSS.escape` requires an argument.");for(var t,n=String(e),r=n.length,i=-1,o="",a=n.charCodeAt(0);++i<r;)t=n.charCodeAt(i),o+=0!=t?t>=1&&31>=t||127==t||0==i&&t>=48&&57>=t||1==i&&t>=48&&57>=t&&45==a?"\\"+t.toString(16)+" ":(0!=i||1!=r||45!=t)&&(t>=128||45==t||95==t||t>=48&&57>=t||t>=65&&90>=t||t>=97&&122>=t)?n.charAt(i):"\\"+n.charAt(i):"�";return o};return e.CSS||(e.CSS={}),e.CSS.escape=t,t})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],4:[function(t,n,r){(function(t){(function(){"use strict";function i(e){return e=String(e),e.charAt(0).toUpperCase()+e.slice(1)}function o(e,t,n){var r={6.4:"10",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return t&&n&&/^Win/i.test(e)&&(r=r[/[\d.]+$/.exec(e)])&&(e="Windows "+r),e=String(e),t&&n&&(e=e.replace(RegExp(t,"i"),n)),e=u(e.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").split(" on ")[0])}function a(e,t){var n=-1,r=e?e.length:0;if("number"==typeof r&&r>-1&&w>=r)for(;++n<r;)t(e[n],n,e);else s(e,t)}function u(e){return e=m(e),/^(?:webOS|i(?:OS|P))/.test(e)?e:i(e)}function s(e,t){for(var n in e)A.call(e,n)&&t(e[n],n,e)}function l(e){return null==e?i(e):O.call(e).slice(8,-1)}function c(e,t){var n=null!=e?typeof e[t]:"number";return!/^(?:boolean|number|string|undefined)$/.test(n)&&("object"==n?!!e[t]:!0)}function d(e){return String(e).replace(/([ -])(?!$)/g,"$1?")}function f(e,t){var n=null;return a(e,function(r,i){n=t(n,r,i,e)}),n}function m(e){return String(e).replace(/^ +| +$/g,"")}function b(e){function t(t){return f(t,function(t,n){return t||RegExp("\\b"+(n.pattern||d(n))+"\\b","i").exec(e)&&(n.label||n)})}function n(t){return f(t,function(t,n,r){return t||(n[X]||n[/^[a-z]+(?: +[a-z]+\b)*/i.exec(X)]||RegExp("\\b"+d(r)+"(?:\\b|\\w*\\d)","i").exec(e))&&r})}function r(t){return f(t,function(t,n){return t||RegExp("\\b"+(n.pattern||d(n))+"\\b","i").exec(e)&&(n.label||n)})}function i(t){return f(t,function(t,n){var r=n.pattern||d(n);return!t&&(t=RegExp("\\b"+r+"(?:/[\\d.]+|[ \\w.]*)","i").exec(e))&&(t=o(t,r,n.label||n)),t})}function a(t){return f(t,function(t,n){var r=n.pattern||d(n);return!t&&(t=RegExp("\\b"+r+" *\\d+[.\\w_]*","i").exec(e)||RegExp("\\b"+r+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(e))&&((t=String(n.label&&!RegExp(r,"i").test(n.label)?n.label:t).split("/"))[1]&&!/[\d.]+/.test(t[0])&&(t[0]+=" "+t[1]),
n=n.label||n,t=u(t[0].replace(RegExp(r,"i"),n).replace(RegExp("; *(?:"+n+"[_-])?","i")," ").replace(RegExp("("+n+")[-_.]?(\\w)","i"),"$1 $2"))),t})}function v(t){return f(t,function(t,n){return t||(RegExp(n+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(e)||0)[1]||null})}function p(){return this.description||""}var x=h,y=e&&"object"==typeof e&&"String"!=l(e);y&&(x=e,e=null);var w=x.navigator||{},T=w.userAgent||"";e||(e=T);var A,I,C=y||S==g,L=y?!!w.likeChrome:/\bChrome\b/.test(e)&&!/internal|\n/i.test(O.toString()),N="Object",k=y?N:"ScriptBridgingProxyObject",M=y?N:"Environment",_=y&&x.java?"JavaPackage":l(x.java),P=y?N:"RuntimeObject",F=/\bJava/.test(_)&&x.java,R=F&&l(x.environment)==M,B=F?"a":"α",D=F?"b":"β",W=x.document||{},H=x.operamini||x.opera,j=E.test(j=y&&H?H["[[Class]]"]:l(H))?j:H=null,q=e,K=[],G=null,Z=e==T,V=Z&&H&&"function"==typeof H.version&&H.version(),$=t(["Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"]),U=r(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel",{label:"SRWare Iron",pattern:"Iron"},"K-Meleon","Konqueror","Lunascape","Maxthon","Midori","Nook Browser","PhantomJS","Raven","Rekonq","RockMelt","SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser","Sunrise","Swiftfox","WebPositive","Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chrome",{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"]),X=a([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nook","PlayBook","PlayStation 4","PlayStation 3","PlayStation Vita","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),z=n({Apple:{iPad:1,iPhone:1,iPod:1},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1},HP:{TouchPad:1},HTC:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{"PlayStation 4":1,"PlayStation 3":1,"PlayStation Vita":1}}),J=i(["Windows Phone ","Android","CentOS","Debian","Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "]);if($&&($=[$]),z&&!X&&(X=a([z])),(A=/\bGoogle TV\b/.exec(X))&&(X=A[0]),/\bSimulator\b/i.test(e)&&(X=(X?X+" ":"")+"Simulator"),"Opera Mini"==U&&/\bOPiOS\b/.test(e)&&K.push("running in Turbo/Uncompressed mode"),/^iP/.test(X)?(U||(U="Safari"),J="iOS"+((A=/ OS ([\d_]+)/i.exec(e))?" "+A[1].replace(/_/g,"."):"")):"Konqueror"!=U||/buntu/i.test(J)?z&&"Google"!=z&&(/Chrome/.test(U)&&!/\bMobile Safari\b/i.test(e)||/\bVita\b/.test(X))?(U="Android Browser",J=/\bAndroid\b/.test(J)?J:"Android"):(!U||(A=!/\bMinefield\b|\(Android;/i.test(e)&&/\b(?:Firefox|Safari)\b/.exec(U)))&&(U&&!X&&/[\/,]|^[^(]+?\)/.test(e.slice(e.indexOf(A+"/")+8))&&(U=null),(A=X||z||J)&&(X||z||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(J))&&(U=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(J)?J:A)+" Browser")):J="Kubuntu",(A=/\((Mobile|Tablet).*?Firefox\b/i.exec(e))&&A[1]&&(J="Firefox OS",X||(X=A[1])),V||(V=v(["(?:Cloud9|CriOS|CrMo|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|Silk(?!/[\\d.]+$))","Version",d(U),"(?:Firefox|Minefield|NetFront)"])),"iCab"==$&&parseFloat(V)>3?$=["WebKit"]:"Trident"!=$&&(A=/\bOpera\b/.test(U)&&(/\bOPR\b/.test(e)?"Blink":"Presto")||/\b(?:Midori|Nook|Safari)\b/i.test(e)&&"WebKit"||!$&&/\bMSIE\b/i.test(e)&&("Mac OS"==J?"Tasman":"Trident"))?$=[A]:/\bPlayStation\b(?! Vita\b)/i.test(U)&&"WebKit"==$&&($=["NetFront"]),"IE"==U&&(A=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(e)||0)[1])?(U+=" Mobile",J="Windows Phone "+(/\+$/.test(A)?A:A+".x"),K.unshift("desktop mode")):/\bWPDesktop\b/i.test(e)?(U="IE Mobile",J="Windows Phone 8+",K.unshift("desktop mode"),V||(V=(/\brv:([\d.]+)/.exec(e)||0)[1])):"IE"!=U&&"Trident"==$&&(A=/\brv:([\d.]+)/.exec(e))?(/\bWPDesktop\b/i.test(e)||(U&&K.push("identifying as "+U+(V?" "+V:"")),U="IE"),V=A[1]):"Chrome"!=U&&"IE"==U||!(A=/\bEdge\/([\d.]+)/.exec(e))||(U="Microsoft Edge",V=A[1],$=["Trident"]),Z){if(c(x,"global"))if(F&&(A=F.lang.System,q=A.getProperty("os.arch"),J=J||A.getProperty("os.name")+" "+A.getProperty("os.version")),C&&c(x,"system")&&(A=[x.system])[0]){J||(J=A[0].os||null);try{A[1]=x.require("ringo/engine").version,V=A[1].join("."),U="RingoJS"}catch(Q){A[0].global.system==x.system&&(U="Narwhal")}}else"object"==typeof x.process&&(A=x.process)?(U="Node.js",q=A.arch,J=A.platform,V=/[\d.]+/.exec(A.version)[0]):R&&(U="Rhino");else l(A=x.runtime)==k?(U="Adobe AIR",J=A.flash.system.Capabilities.os):l(A=x.phantom)==P?(U="PhantomJS",V=(A=A.version||null)&&A.major+"."+A.minor+"."+A.patch):"number"==typeof W.documentMode&&(A=/\bTrident\/(\d+)/i.exec(e))&&(V=[V,W.documentMode],(A=+A[1]+4)!=V[1]&&(K.push("IE "+V[1]+" mode"),$&&($[1]=""),V[1]=A),V="IE"==U?String(V[1].toFixed(1)):V[0]);J=J&&u(J)}V&&(A=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(V)||/(?:alpha|beta)(?: ?\d)?/i.exec(e+";"+(Z&&w.appMinorVersion))||/\bMinefield\b/i.test(e)&&"a")&&(G=/b/i.test(A)?"beta":"alpha",V=V.replace(RegExp(A+"\\+?$"),"")+("beta"==G?D:B)+(/\d+\+?/.exec(A)||"")),"Fennec"==U||"Firefox"==U&&/\b(?:Android|Firefox OS)\b/.test(J)?U="Firefox Mobile":"Maxthon"==U&&V?V=V.replace(/\.[\d.]+/,".x"):"Silk"==U?(/\bMobi/i.test(e)||(J="Android",K.unshift("desktop mode")),/Accelerated *= *true/i.test(e)&&K.unshift("accelerated")):/\bXbox\b/i.test(X)?(J=null,"Xbox 360"==X&&/\bIEMobile\b/.test(e)&&K.unshift("mobile mode")):!/^(?:Chrome|IE|Opera)$/.test(U)&&(!U||X||/Browser|Mobi/.test(U))||"Windows CE"!=J&&!/Mobi/i.test(e)?"IE"==U&&Z&&null===x.external?K.unshift("platform preview"):(/\bBlackBerry\b/.test(X)||/\bBB10\b/.test(e))&&(A=(RegExp(X.replace(/ +/g," *")+"/([.\\d]+)","i").exec(e)||0)[1]||V)?(A=[A,/BB10/.test(e)],J=(A[1]?(X=null,z="BlackBerry"):"Device Software")+" "+A[0],V=null):this!=s&&"Wii"!=X&&(Z&&H||/Opera/.test(U)&&/\b(?:MSIE|Firefox)\b/i.test(e)||"Firefox"==U&&/\bOS X (?:\d+\.){2,}/.test(J)||"IE"==U&&(J&&!/^Win/.test(J)&&V>5.5||/\bWindows XP\b/.test(J)&&V>8||8==V&&!/\bTrident\b/.test(e)))&&!E.test(A=b.call(s,e.replace(E,"")+";"))&&A.name&&(A="ing as "+A.name+((A=A.version)?" "+A:""),E.test(U)?(/\bIE\b/.test(A)&&"Mac OS"==J&&(J=null),A="identify"+A):(A="mask"+A,U=j?u(j.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(A)&&(J=null),Z||(V=null)),$=["Presto"],K.push(A)):U+=" Mobile",(A=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(e)||0)[1])&&(A=[parseFloat(A.replace(/\.(\d)$/,".0$1")),A],"Safari"==U&&"+"==A[1].slice(-1)?(U="WebKit Nightly",G="alpha",V=A[1].slice(0,-1)):(V==A[1]||V==(A[2]=(/\bSafari\/([\d.]+\+?)/i.exec(e)||0)[1]))&&(V=null),A[1]=(/\bChrome\/([\d.]+)/i.exec(e)||0)[1],537.36==A[0]&&537.36==A[2]&&parseFloat(A[1])>=28&&"IE"!=U&&"Microsoft Edge"!=U&&($=["Blink"]),Z&&(L||A[1])?($&&($[1]="like Chrome"),A=A[1]||(A=A[0],530>A?1:532>A?2:532.05>A?3:533>A?4:534.03>A?5:534.07>A?6:534.1>A?7:534.13>A?8:534.16>A?9:534.24>A?10:534.3>A?11:535.01>A?12:535.02>A?"13+":535.07>A?15:535.11>A?16:535.19>A?17:536.05>A?18:536.1>A?19:537.01>A?20:537.11>A?"21+":537.13>A?23:537.18>A?24:537.24>A?25:537.36>A?26:"Blink"!=$?"27":"28")):($&&($[1]="like Safari"),A=A[0],A=400>A?1:500>A?2:526>A?3:533>A?4:534>A?"4+":535>A?5:537>A?6:538>A?7:601>A?8:"8"),$&&($[1]+=" "+(A+="number"==typeof A?".x":/[.+]/.test(A)?"":"+")),"Safari"==U&&(!V||parseInt(V)>45)&&(V=A)),"Opera"==U&&(A=/\bzbov|zvav$/.exec(J))?(U+=" ",K.unshift("desktop mode"),"zvav"==A?(U+="Mini",V=null):U+="Mobile",J=J.replace(RegExp(" *"+A+"$"),"")):"Safari"==U&&/\bChrome\b/.exec($&&$[1])&&(K.unshift("desktop mode"),U="Chrome Mobile",V=null,/\bOS X\b/.test(J)?(z="Apple",J="iOS 4.3+"):J=null),V&&0==V.indexOf(A=/[\d.]+$/.exec(J))&&e.indexOf("/"+A+"-")>-1&&(J=m(J.replace(A,""))),$&&!/\b(?:Avant|Nook)\b/.test(U)&&(/Browser|Lunascape|Maxthon/.test(U)||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Sleipnir|Web)/.test(U)&&$[1])&&(A=$[$.length-1])&&K.push(A),K.length&&(K=["("+K.join("; ")+")"]),z&&X&&X.indexOf(z)<0&&K.push("on "+z),X&&K.push((/^on /.test(K[K.length-1])?"":"on ")+X),J&&(A=/ ([\d.+]+)$/.exec(J),I=A&&"/"==J.charAt(J.length-A[0].length-1),J={architecture:32,family:A&&!I?J.replace(A[0],""):J,version:A?A[1]:null,toString:function(){var e=this.version;return this.family+(e&&!I?" "+e:"")+(64==this.architecture?" 64-bit":"")}}),(A=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(q))&&!/\bi686\b/i.test(q)&&(J&&(J.architecture=64,J.family=J.family.replace(RegExp(" *"+A),"")),U&&(/\bWOW64\b/i.test(e)||Z&&/\w(?:86|32)$/.test(w.cpuClass||w.platform)&&!/\bWin64; x64\b/i.test(e))&&K.unshift("32-bit")),e||(e=null);var Y={};return Y.description=e,Y.layout=$&&$[0],Y.manufacturer=z,Y.name=U,Y.prerelease=G,Y.product=X,Y.ua=e,Y.version=U&&V,Y.os=J||{architecture:null,family:null,version:null,toString:function(){return"null"}},Y.parse=b,Y.toString=p,Y.version&&K.unshift(V),Y.name&&K.unshift(U),J&&U&&(J!=String(J).split(" ")[0]||J!=U.split(" ")[0]&&!X)&&K.push(X?"("+J+")":"on "+J),K.length&&(Y.description=K.join(" ")),Y}var v={"function":!0,object:!0},h=v[typeof window]&&window||this,g=h,p=v[typeof r]&&r,x=v[typeof n]&&n&&!n.nodeType&&n,y=p&&x&&"object"==typeof t&&t;!y||y.global!==y&&y.window!==y&&y.self!==y||(h=y);var w=Math.pow(2,53)-1,E=/\bOpera/,S=this,T=Object.prototype,A=T.hasOwnProperty,O=T.toString;"function"==typeof e&&"object"==typeof e.amd&&e.amd?e(function(){return b()}):p&&x?s(b(),function(e,t){p[t]=e}):h.platform=b()}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)});
//# sourceMappingURL=ally.min.js.map