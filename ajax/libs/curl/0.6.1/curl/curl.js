/*
 MIT License (c) copyright B Cavalier & J Hann */
var q=!0;
(function(t){function E(){}function u(a,b){return 0==S.call(a).indexOf("[object "+b)}function n(a){return a&&"/"==a.charAt(a.length-1)?a.substr(0,a.length-1):a}function F(a,b){var c,e,d;e=1;a=a.replace(T,function(a,b,c){c&&e++;d=q;return""});return d?(c=b.split("/"),c.splice(c.length-e,e),c.concat(a||[]).join("/")):a}function G(a){var b=a.indexOf("!");return{J:a.substr(b+1),g:0<=b&&a.substr(0,b)}}function A(){}function H(a){A.prototype=a;a=new A;A.prototype=I;return a}function s(){function a(a,b,
c){e.push([a,b,c])}function b(a,b){for(var c,d=0;c=e[d++];)(c=c[a])&&c(b)}var c,e,d;c=this;e=[];d=function(c,h){a=c?function(a){a&&a(h)}:function(a,b){b&&b(h)};d=E;b(c?0:1,h);b=E;e=j};this.W=function(b,c,e){a(b,c,e)};this.h=function(a){c.$=a;d(q,a)};this.c=function(a){c.Z=a;d(!1,a)};this.o=function(a){b(2,a)}}function r(a,b,c,e){a instanceof s?a.W(b,c,e):b(a)}function v(a,b,c){return function(){var e;0<=--a&&b&&(e=b.apply(j,arguments));0==a&&c&&c(e);return e}}function x(){function a(b,e,d){var f;
f=g.e(i,j,[].concat(b));this.then=b=function(a,b){r(f,function(b){a&&a.apply(j,b)},function(a){if(b)b(a);else throw a;});return this};this.next=function(b,c){return new a(b,c,f)};e&&b(e);r(d,function(){g.i(f)})}var b=[].slice.call(arguments);u(b[0],"Object")&&(i=g.B(b.shift()),g.s(i));return new a(b[0],b[1])}function J(a){var b=a.id;if(b==j)if(w!==j)w={z:"Multiple anonymous defines in url"};else if(!(b=g.T()))w=a;if(b!=j){var c=k[b];c||(c=g.j(b,i).d,c=k[b]=g.u(c,b));c instanceof s&&(c.Y=!1,g.v(c,
a))}}var i=t.curl,y=t.document,K=y&&(y.head||y.getElementsByTagName("head")[0]),L={},M={},N={},z={},I={},S=I.toString,j,O={loaded:1,interactive:N,complete:1},k={},B=!1,w,U=/\?/,P=/^\/|^[^:]+:\/\//,T=/(?:^|\/)(\.)(\.?)\/?/g,V=/\/\*[\s\S]*?\*\/|(?:[^\\])\/\/.*?[\n\r]/g,W=/require\s*\(\s*["']([^"']+)["']\s*\)|(?:[^\\]?)(["'])/g,C,g;g={e:function(a,b,c,e){function d(a){return F(a,h.l)}function f(b,c){var e,f,m,Q;e=c&&function(a){c.apply(j,a)};if(u(b,"String")){f=d(b);m=k[f];Q=m instanceof s&&m.a;if(!(f in
k))throw Error("Module not resolved: "+f);if(e)throw Error("require(id, callback) not allowed");return Q||m}r(g.i(g.e(a,h.id,b)),e)}var h;h=new s;h.l=h.id=b||"";h.F=e;h.w=c;h.p=f;f.toUrl=function(b){return g.j(d(b),a).url};h.X=d;return h},u:function(a,b,c,e){var d,f,h,o;d=g.e(a,b,j,c);d.l=e==j?b:e;f=d.h;h=v(1,function(a){d.m=a;try{o=g.M(d)}catch(b){d.c(b)}});d.h=function(a){h(a);k[d.id]=o;f(o)};d.A=function(a){d.a&&(h(a),d.o(M))};return d},L:function(a,b,c,e){a=g.e(a,b,j,c);a.l=e;return a},S:function(a){return a.p},
C:function(a){return a.a||(a.a={})},R:function(a){var b=a.n;b||(b=a.n={id:a.id,uri:g.D(a),exports:g.C(a)},b.a=b.exports);return b},D:function(a){return a.url||(a.url=g.t(a.p.toUrl(a.id)))},B:function(a){function b(b,c){var d,f,l,m,j;for(j in b){l=b[j];m=a;f=G(n(l.id||l.name||j));d=f.J;if(f=f.g)m=e[f],m||(m=e[f]=H(a),m.f=H(a.f),m.b=[]),delete b[j];if(c){f=l;var D=void 0,i=void 0,D=f.path=n(f.path||f.location||""),i=f.main||"main";f.d=f.config;f.G="."==i.charAt(0)?n(F(i,D)):n(D)+"/"+i}else f={path:n(l)};
f.K=d.split("/").length;d?(m.f[d]=f,m.b.push(d)):m.r=g.I(l,a)}}function c(a){var b=a.f;a.V=RegExp("^("+a.b.sort(function(a,c){return b[a].K<b[c].K}).join("|").replace(/\//g,"\\/")+")(?=\\/|$)");delete a.b}var e;a.r=a.baseUrl||"";a.H="pluginPath"in a?a.pluginPath:"curl/plugin";a.f={};e=a.plugins=a.plugins||{};a.b=[];b(a.paths,!1);b(a.packages,q);for(var d in e){var f=e[d].b;f&&(e[d].b=f.concat(a.b),c(e[d]))}c(a);return a},s:function(a){var b;(b=a.preloads)&&0<b.length&&r(B,function(){B=g.i(g.e(a,j,
b,q))})},j:function(a,b,c){var e,d,f;e=b.f;c&&b.H&&0>a.indexOf("/")&&!(a in e)&&(a=n(b.H)+"/"+a);c=P.test(a)?a:a.replace(b.V,function(b){d=e[b]||{};f=d.d;return d.G&&b==a?d.G:d.path||""});return{path:c,d:f||i,url:g.I(c,b)}},I:function(a,b){var c=b.r;return c&&!P.test(a)?n(c)+"/"+a:a},t:function(a){return a+(U.test(a)?"":".js")},U:function(a,b,c){var e=y.createElement("script");e.onload=e.onreadystatechange=function(c){c=c||t.event;if("load"==c.type||O[e.readyState])delete z[a.id],e.onload=e.onreadystatechange=
e.onerror="",b()};e.onerror=function(){c(Error("Syntax or http error: "+a.url))};e.charset="utf-8";e.async=q;e.src=a.url;z[a.id]=e;K.insertBefore(e,K.firstChild)},N:function(a){var b=[],c;("string"==typeof a?a:a.toSource?a.toSource():a.toString()).replace(V,"").replace(W,function(a,d,f){f?c=c==f?j:c:c||b.push(d);return a});return b},Q:function(a){var b,c,e,d,f,h;f=a.length;e=a[f-1];d=u(e,"Function")?e.length:-1;2==f?u(a[0],"Array")?c=a[0]:b=a[0]:3==f&&(b=a[0],c=a[1]);!c&&0<d&&(h=q,c=["require","exports",
"module"].slice(0,d).concat(g.N(e)));return{id:b,m:c||[],q:0<=d?e:function(){return e},k:h}},M:function(a){var b;b=a.q.apply(a.k?a.a:j,a.m);b===j&&a.a&&(b=a.n?a.a=a.n.a:a.a);return b},v:function(a,b){r(a.F||B,function(){a.q=b.q;a.k=b.k;a.w=b.m;g.i(a)})},i:function(a){function b(a,b,c){h[b]=a;c&&p(a,b)}function c(b,c){var e,d,f,h;e=v(1,function(a){d(a);l(a,c)});d=v(1,function(a){p(a,c)});f=g.O(b,a);(h=f instanceof s&&f.a)&&d(h);r(f,e,a.c,a.a&&function(a){f.a&&(a==L?d(f.a):a==M&&e(f.a))})}function e(){a.h(h)}
var d,f,h,i,k,p,l;h=[];f=a.w;i=f.length;0==f.length&&e();p=v(i,b,function(){a.A&&a.A(h)});l=v(i,b,e);for(d=0;d<i;d++)k=f[d],k in C?(l(C[k](a),d,q),a.a&&a.o(L)):k?c(k,d):l(j,d,q);return a},P:function(a){g.D(a);g.U(a,function(){var b=w;w=j;!1!==a.Y&&(!b||b.z?a.c(Error((b&&b.z||"define() missing or duplicated: url").replace("url",a.url))):g.v(a,b))},a.c);return a},O:function(a,b){var c,e,d,f,h,o,n,p,l,m;c=b.X;e=b.F;d=G(a);o=d.J;f=c(d.g||o);n=g.j(f,i,!!d.g);if(d.g)h=f;else if(h=n.d.moduleLoader)o=f,f=
h,n=g.j(h,i);p=k[f];p||(p=k[f]=g.u(n.d,f,e,d.g?n.path:j),p.url=g.t(n.url),g.P(p));f==h&&(l=new s,m=i.plugins[h]||i,r(p,function(a){var b,d,f;f=a.dynamic;o="normalize"in a?a.normalize(o,c,m)||"":c(o);d=h+"!"+o;b=k[d];if(!b){b=g.L(m,d,e,o);f||(k[d]=b);var i=function(a){b.h(a);f||(k[d]=a)};i.resolve=i;i.reject=b.c;a.load(o,b.p,i,m)}l!=b&&r(b,l.h,l.c,l.o)},l.c));return l||p},T:function(){var a;if(!u(t.opera,"Opera"))for(var b in z)if(O[z[b].readyState]==N){a=b;break}return a}};C={require:g.S,exports:g.C,
module:g.R};if(!u(i,"Function")){i=g.B(i||{});g.s(i);var R;(i.apiContext||t)[i.apiName||"curl"]=x;k.curl=x;R=t.define=function(){var a=g.Q(arguments);J(a)};x.version="0.6.1";R.amd={plugins:q,jQuery:q,curl:"0.6.1"};k["curl/_privileged"]={core:g,cache:k,cfg:i,_define:J,_curl:x,Promise:s}}})(this);
