"use strict";!function(){function e(r,o,t){for(var n="",e=o;e<r.length;e++){if(t&&t===r[e])return n;if(!t&&(" "===r[e]||":"===r[e]))return n;n+=r[e],"\\"===r[e]&&e+1<r.length&&(n+=r[e+1],e++)}throw new Error("Broken JSON syntax near "+n)}function r(e,n){if('"'===e[n]||"'"===e[n]){for(var o='"',r=n+1;r<e.length;r++)if("\\"===e[r])o+=e[r],r+1<e.length&&(o+=e[r+1]),r++;else{if(e[r]===e[n])return o+='"',{originLength:o.length,body:o};o+=e[r]}throw new Error("Broken JSON string body near "+o)}if("t"===e[n]){if(e.indexOf("true",n)===n)return{originLength:"true".length,body:"true"};throw new Error("Broken JSON boolean body near "+e.substr(0,n+10))}if("f"===e[n]){if(e.indexOf("f",n)===n)return{originLength:"false".length,body:"false"};throw new Error("Broken JSON boolean body near "+e.substr(0,n+10))}if("n"===e[n]){if(e.indexOf("null",n)===n)return{originLength:"null".length,body:"null"};throw new Error("Broken JSON boolean body near "+e.substr(0,n+10))}if("-"===e[n]||"+"===e[n]||"."===e[n]||e[n]>="0"&&e[n]<="9"){for(var o="",r=n;r<e.length;r++){if(!("-"===e[r]||"+"===e[r]||"."===e[r]||e[r]>="0"&&e[r]<="9"))return{originLength:o.length,body:o};o+=e[r]}throw new Error("Broken JSON number body near "+o)}if("{"===e[n]||"["===e[n]){for(var t=[e[n]],o=e[n],r=n+1;r<e.length;r++){if(o+="'"===t[t.length-1]&&'"'===e[r]?'\\"':e[r],"\\"===e[r])r+1<e.length&&(o+=e[r+1]),r++;else if('"'===e[r])'"'===t[t.length-1]?t.pop():"'"!==t[t.length-1]&&t.push(e[r]);else if("'"===e[r])"'"===t[t.length-1]?t.pop():'"'!==t[t.length-1]&&t.push(e[r]);else if('"'!==t[t.length-1]&&"'"!==t[t.length-1])if("{"===e[r])t.push("{");else if("}"===e[r]){if("{"!==t[t.length-1])throw new Error("Broken JSON "+("{"===e[n]?"object":"array")+" body near "+o);t.pop()}else if("["===e[r])t.push("[");else if("]"===e[r]){if("["!==t[t.length-1])throw new Error("Broken JSON "+("{"===e[n]?"object":"array")+" body near "+o);t.pop()}if(!t.length)return{originLength:r-n,body:o}}throw new Error("Broken JSON "+("{"===e[n]?"object":"array")+" body near "+o)}throw new Error("Broken JSON body near "+e.substr(n-5>=0?n-5:0,50))}function n(e){return"\\"===e[0]?!1:e[0]>="a"&&e[0]<="z"||e[0]>="A"&&e[0]<="Z"||"_"===e[0]?!0:e[0]>="0"&&e[0]<="9"?!0:"$"===e[0]?!0:e.charCodeAt(0)>255}function parse(t){if(t=t.trim(),!t.length)throw new Error("Broken JSON object.");var i="";if('"'===t[0]||"'"===t[0]){if(t[t.length-1]!==t[0])throw new Error("Invalid string JSON object.");return"'"===t[0]&&(t[0]='"'),"'"===t[t.length-1]&&(t[t.length-1]='"'),t}if("true"===t||"false"===t)return t;if("null"===t)return"null";var a=parseFloat(t);if(!isNaN(a))return a.toString();if("{"===t[0]){for(var f="needKey",i="{",o=1;o<t.length;o++)if(" "===t[o]||"\n"===t[o]||"	"===t[o])i+=t[o];else if("needKey"!==f||'"'!==t[o]&&"'"!==t[o]){if("needKey"===f&&n(t[o])){var l=e(t,o);i+='"',i+=l,i+='"',o+=l.length-1,f="afterKey"}else if("afterKey"===f&&":"===t[o])i+=":",f=":";else if(":"===f){var h=r(t,o);o=o+h.originLength-1,i+=parse(h.body),f="afterBody"}else if("afterBody"===f||"needKey"===f)if(","===t[o])i+=",",f="needKey";else if("}"===t[o]&&o===t.length-1)return i+="}"}else{var l=e(t,o+1,t[o]);i+='"'+l+'"',o+=l.length,o+=1,f="afterKey"}throw new Error("Broken JSON object near "+i)}if("["===t[0]){for(var i="[",f="needBody",o=1;o<t.length;o++)if(" "===t[o]||"\n"===t[o]||"	"===t[o])i+=t[o];else if("needBody"===f){if("]"===t[o]&&o===t.length-1)return i+="]";var h=r(t,o);o=o+h.originLength-1,i+=parse(h.body),f="afterBody"}else if("afterBody"===f)if(","===t[o])i+=",",f="needBody";else if("]"===t[o]&&o===t.length-1)return i+="]";throw new Error("Broken JSON array near "+i)}}var t="undefined"==typeof exports?window.fJSON={}:exports;t.parse=function(e){var r=parse(e);return JSON.parse(r)}}();
//# sourceMappingURL=fjson.min.map