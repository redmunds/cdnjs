"use strict";!function(){function e(r,o,t){for(var n="",e=o;e<r.length;e++){if(t&&t===r[e])return n;if(!t&&(" "===r[e]||":"===r[e]))return n;n+=r[e],"\\"===r[e]&&e+1<r.length&&(n+=r[e+1],e++)}throw new Error("Broken JSON syntax near "+n)}function r(e,r){if('"'===e[r]||"'"===e[r]){for(var t='"',n=r+1;n<e.length;n++)if("\\"===e[n])t+=e[n],n+1<e.length&&(t+=e[n+1]),n++;else{if(e[n]===e[r])return t+='"';t+=e[n]}throw new Error("Broken JSON string body near "+t)}if("t"===e[r]){if(e.indexOf("true",r)===r)return"true";throw new Error("Broken JSON boolean body near "+e.substr(0,r+10))}if("f"===e[r]){if(e.indexOf("f",r)===r)return"false";throw new Error("Broken JSON boolean body near "+e.substr(0,r+10))}if("n"===e[r]){if(e.indexOf("null",r)===r)return"null";throw new Error("Broken JSON boolean body near "+e.substr(0,r+10))}if("-"===e[r]||"+"===e[r]||"."===e[r]||e[r]>="0"&&e[r]<="9"){for(var t="",n=r;n<e.length;n++){if(!("-"===e[n]||"+"===e[n]||"."===e[n]||e[n]>="0"&&e[n]<="9"))return t;t+=e[n]}throw new Error("Broken JSON number body near "+t)}if("{"===e[r]||"["===e[r]){for(var o=[e[r]],t=e[r],n=r+1;n<e.length;n++){if(t+=e[n],"\\"===e[n])n+1<e.length&&(t+=e[n+1]),n++;else if('"'===e[n])'"'===o[o.length-1]?o.pop():o.push(e[n]);else if("{"===e[n])o.push("{");else if("}"===e[n]){if("{"!==o[o.length-1])throw new Error("Broken JSON "+("{"===e[r]?"object":"array")+" body near "+t);o.pop()}else if("["===e[n])o.push("[");else if("]"===e[n]){if("["!==o[o.length-1])throw new Error("Broken JSON "+("{"===e[r]?"object":"array")+" body near "+t);o.pop()}if(!o.length)return t}throw new Error("Broken JSON "+("{"===e[r]?"object":"array")+" body near "+t)}throw new Error("Broken JSON body near "+e.substr(r-5>=0?r-5:0,50))}function n(e){return"\\"===e[0]?!1:e[0]>="a"&&e[0]<="z"||e[0]>="A"&&e[0]<="Z"||"_"===e[0]?!0:e[0]>="0"&&e[0]<="9"?!0:"$"===e[0]?!0:e.charCodeAt(0)>255?!0:!1}function parse(t){if(t=t.trim(),!t.length)throw new Error("Broken JSON object.");var f="";if('"'===t[0]||"'"===t[0]){if(t[t.length-1]!==t[0])throw new Error("Invalid string JSON object.");return"'"===t[0]&&(t[0]='"'),"'"===t[t.length-1]&&(t[t.length-1]='"'),t}if("true"===t||"false"===t)return t;if("null"===t)return"null";var h=parseFloat(t);if(!isNaN(h))return h.toString();if("{"===t[0]){for(var i="needKey",f="{",o=1;o<t.length;o++)if(" "===t[o]||"\n"===t[o]||"	"===t[o])f+=t[o];else if("needKey"!==i||'"'!==t[o]&&"'"!==t[o]){if("needKey"===i&&n(t[o])){var a=e(t,o);f+='"',f+=a,f+='"',o+=a.length-1,i="afterKey"}else if("afterKey"===i&&":"===t[o])f+=":",i=":";else if(":"===i){var l=r(t,o);o+=l.length-1,f+=parse(l),i="afterBody"}else if("afterBody"===i||"needKey"===i)if(","===t[o])f+=",",i="needKey";else if("}"===t[o]&&o===t.length-1)return f+="}"}else{var a=e(t,o+1,t[o]);f+='"'+a+'"',o+=a.length,o+=1,i="afterKey"}throw new Error("Broken JSON object near "+f)}if("["===t[0]){for(var f="[",i="needBody",o=1;o<t.length;o++)if(" "===t[o]||"\n"===t[o]||"	"===t[o])f+=t[o];else if("needBody"===i){if("]"===t[o]&&o===t.length-1)return f+="]";var l=r(t,o);o+=l.length-1,f+=parse(l),i="afterBody"}else if("afterBody"===i)if(","===t[o])f+=",",i="needBody";else if("]"===t[o]&&o===t.length-1)return f+="]";throw new Error("Broken JSON array near "+f)}}var t="undefined"==typeof exports?window.fJSON={}:exports;t.parse=function(e){var r=parse(e);return JSON.parse(r)}}();
//# sourceMappingURL=fjson.min.map