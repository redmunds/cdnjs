// jQuery flexImages v1.0.2
// https://github.com/Pixabay/jQuery-flexImages
!function(t){function e(t,a,n,r){function o(t){n.maxRows&&w>n.maxRows||n.truncate&&t?l[f][0].style.display="none":(l[f][5]&&(l[f][4].attr("src",l[f][5]),l[f][5]=""),l[f][0].style.width=s+"px",l[f][0].style.height=u+"px",l[f][0].style.display="")}var f,s,c=1,w=1,g=t.width(),l=[],d=0,u=n.rowHeight;for(i=0;i<a.length;i++)if(l.push(a[i]),d+=a[i][3]+n.margin,d>=g){for(c=g/d,u=Math.ceil(n.rowHeight*c),exact_w=0,s,f=0;f<l.length;f++)s=Math.ceil(l[f][3]*c),exact_w+=s+n.margin,exact_w>g&&(s-=exact_w-g+1),o();l=[],d=0,w++}for(f=0;f<l.length;f++)s=Math.floor(l[f][3]*c),h=Math.floor(n.rowHeight*c),o(!0);r||g==t.width()||e(t,a,n,!0)}t.fn.flexImages=function(i){var a=t.extend({container:".item",object:"img",rowHeight:180,maxRows:0,truncate:!1},i);return this.each(function(){var i=t(this),n=t(a.container,i),r=[],o=(new Date).getTime();for(a.margin=t(n[0]).outerWidth(!0)-t(n[0]).innerWidth(),j=0;j<n.length;j++){var h=n[j],f=parseInt(h.getAttribute("data-w")),s=parseInt(h.getAttribute("data-h")),c=f*(a.rowHeight/s),w=t(h).find(a.object);r.push([h,f,s,c,w,w.data("src")])}e(i,r,a),t(window).off("resize.flexImages"+i.data("flex-t")),t(window).on("resize.flexImages"+o,function(){e(i,r,a)}),i.data("flex-t",o)})}}(jQuery);