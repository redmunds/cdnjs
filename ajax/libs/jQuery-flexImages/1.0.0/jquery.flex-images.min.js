// jQuery flexImages v1.0.0
// https://github.com/Pixabay/jQuery-flexImages
!function(t){function e(t,a,n,o){function r(t){n.maxRows&&f>n.maxRows||n.truncate&&t?u[c][0].hide():(u[c][5]&&(u[c][4].attr("src",u[c][5]),u[c][5]=""),u[c][0].css({width:s,height:m-n.cutBottom*w}).show()),n.cutBottom&&u[c][4].css({width:s,height:m})}var c,s,w=1,f=1,g=t.width(),u=[],d=0,m=n.rowHeight;for(i=0;i<a.length;i++)if(u.push(a[i]),d+=a[i][3]+n.margin,d>=g){for(w=g/d,m=Math.ceil(n.rowHeight*w),exact_w=0,s,c=0;c<u.length;c++)s=Math.ceil(u[c][3]*w),exact_w+=s+n.margin,exact_w>g&&(s-=exact_w-g+1),r();u=[],d=0,f++}for(c=0;c<u.length;c++)s=Math.floor(u[c][3]*w),h=Math.floor(n.rowHeight*w),r(!0);o||g==t.width()||e(t,a,n,!0)}t.fn.flexImages=function(i){var a=t.extend({container:".item",object:"img",rowHeight:180,maxRows:0,truncate:!1,cutBottom:0},i);return this.each(function(){var i=t(this),n=t(a.container,i),o=[],h=n.eq(0),r=(new Date).getTime();a.margin=h.outerWidth(!0)-h.innerWidth(),n.each(function(){var e=parseInt(t(this).data("w")),i=parseInt(t(this).data("h")),n=e*(a.rowHeight/i),h=t(this).find(a.object);o.push([t(this),e,i,n,h,h.data("src")])}),e(i,o,a),t(window).off("resize.flexImages"+i.data("flex-t")),t(window).on("resize.flexImages"+r,function(){e(i,o,a)}),i.data("flex-t",r)})}}(jQuery);
