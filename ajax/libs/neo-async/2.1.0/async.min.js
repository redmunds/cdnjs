(function(M,O){"object"===typeof exports&&"undefined"!==typeof module?O(exports):"function"===typeof define&&define.amd?define(["exports"],O):M.async?O(M.neo_async=M.neo_async||{}):O(M.async=M.async||{})})(this,function(M){function O(a){var c=function(a){var d=I(arguments,1);setTimeout(function(){a.apply(null,d)})};Q="function"===typeof setImmediate?setImmediate:c;"object"===typeof process&&"function"===typeof process.nextTick?(C=/^v0.10/.test(process.version)?Q:process.nextTick,$=/^v0/.test(process.version)?
Q:process.nextTick):$=C=Q;!1===a&&(C=function(a){a()})}function F(a){for(var c=-1,b=a.length,d=Array(b);++c<b;)d[c]=a[c];return d}function I(a,c){var b=-1,d=a.length-c;if(0>=d)return[];for(var e=Array(d);++b<d;)e[b]=a[b+c];return e}function L(a){for(var c=D(a),b=c.length,d=-1,e={};++d<b;){var f=c[d];e[f]=a[f]}return e}function ia(a){for(var c=-1,b=a.length,d=[];++c<b;){var e=a[c];e&&(d[d.length]=e)}return d}function Ua(a){for(var c=-1,b=a.length,d=Array(b),e=b;++c<b;)d[--e]=a[c];return d}function Va(a,
c){for(var b=-1,d=a.length;++b<d;)if(a[b]===c)return!1;return!0}function R(a,c){for(var b=-1,d=a.length;++b<d;)c(a[b],b);return a}function S(a,c,b){for(var d=-1,e=b.length;++d<e;){var f=b[d];c(a[f],f)}return a}function J(a,c){for(var b=-1;++b<a;)c(b)}function aa(a,c){for(var b=-1,d=a.length,e=Array(d);++b<d;)e[b]=(a[b]||{})[c];return e}function ba(a,c){return a.criteria-c.criteria}function ja(a,c,b){var d=-1,e=a.length;if(3===c.length)for(;++d<e;)c(a[d],d,z(b));else for(;++d<e;)c(a[d],z(b))}function ka(a,
c,b,d){var e,f=-1,g=d.length;if(3===c.length)for(;++f<g;)e=d[f],c(a[e],e,z(b));else for(;++f<g;)c(a[d[f]],z(b))}function la(a,c,b){a=a[x]();var d=-1,e;if(3===c.length)for(;!1===(e=a.next()).done;)c(e.value,++d,b);else for(;!1===(e=a.next()).done;)c(e.value,b)}function ma(a,c,b){var d=-1,e=a.length;if(3===c.length)for(;++d<e;)c(a[d],d,b(d));else for(;++d<e;)c(a[d],b(d))}function T(a,c,b){var d,e=-1,f=a.length;if(3===c.length)for(;++e<f;)d=a[e],c(d,e,b(d));else for(;++e<f;)d=a[e],c(d,b(d))}function U(a,
c,b,d){var e,f,g=-1,m=d.length;if(3===c.length)for(;++g<m;)e=d[g],f=a[e],c(f,e,b(f));else for(;++g<m;)f=a[d[g]],c(f,b(f))}function V(a,c,b){var d,e=-1;a=a[x]();if(3===c.length)for(;!1===(d=a.next()).done;)d=d.value,c(d,++e,b(d));else for(;!1===(d=a.next()).done;)d=d.value,c(d,b(d))}function W(a,c,b){var d,e=-1,f=a.length;if(3===c.length)for(;++e<f;)d=a[e],c(d,e,b(e,d));else for(;++e<f;)d=a[e],c(d,b(e,d))}function na(a,c,b,d){var e,f,g=-1,m=d.length;if(3===c.length)for(;++g<m;)e=d[g],f=a[e],c(f,e,
b(g,f));else for(;++g<m;)f=a[d[g]],c(f,b(g,f))}function oa(a,c,b){var d,e=-1;a=a[x]();if(3===c.length)for(;!1===(d=a.next()).done;)d=d.value,c(d,++e,b(e,d));else for(;!1===(d=a.next()).done;)d=d.value,c(d,b(++e,d))}function pa(a,c,b,d){var e,f,g=-1,m=d.length;if(3===c.length)for(;++g<m;)e=d[g],f=a[e],c(f,e,b(e,f));else for(;++g<m;)e=d[g],f=a[e],c(f,b(e,f))}function qa(a,c,b){var d,e=-1;a=a[x]();if(3===c.length)for(;!1===(d=a.next()).done;)d=d.value,c(d,++e,b(e,d));else for(;!1===(d=a.next()).done;)d=
d.value,c(d,b(++e,d))}function z(a){return function(c,b){var d=a;a=A;d(c,b)}}function H(a){return function(c,b){var d=a;a=y;d(c,b)}}function ra(a,c,b,d){var e,f;d?(e=Array,f=F):(e=function(){return{}},f=L);return function(d,m,s){function r(a){return function(d,b){null===a&&A();d?(a=null,s=H(s),s(d,f(k))):(k[a]=b,a=null,++n===h&&s(null,k))}}s=s||y;var h,l,k,n=0;B(d)?(h=d.length,k=e(h),a(d,m,r)):d&&(x&&d[x]?(h=d.size,k=e(h),b(d,m,r)):"object"===typeof d&&(l=D(d),h=l.length,k=e(h),c(d,m,r,l)));h||s(null,
e())}}function sa(a,c,b,d){return function(e,f,g){function m(a,b){return function(c,e){null===a&&A();c?(a=null,g=H(g),g(c)):(!!e===d&&(h[a]=b),a=null,++l===s&&g(null,ia(h)))}}g=g||y;var s,r,h,l=0;B(e)?(s=e.length,h=Array(s),a(e,f,m)):e&&(x&&e[x]?(s=e.size,h=Array(s),b(e,f,m)):"object"===typeof e&&(r=D(e),s=r.length,h=Array(s),c(e,f,m,r)));if(!s)return g(null,[])}}function ta(a){return function(c,b,d){function e(){n=c[u];b(n,h)}function f(){n=c[u];b(n,u,h)}function g(){n=p.next().value;b(n,h)}function m(){n=
p.next().value;b(n,u,h)}function s(){k=q[u];n=c[k];b(n,h)}function r(){k=q[u];n=c[k];b(n,k,h)}function h(b,c){b?d(b):(!!c===a&&(w[w.length]=n),++u===l?(t=A,d(null,w)):v?C(t):(v=!0,t()),v=!1)}d=z(d||y);var l,k,n,q,p,t,v=!1,u=0,w=[];B(c)?(l=c.length,t=3===b.length?f:e):c&&(x&&c[x]?(l=c.size,p=c[x](),t=3===b.length?m:g):"object"===typeof c&&(q=D(c),l=q.length,t=3===b.length?r:s));if(!l)return d(null,[]);t()}}function ua(a){return function(c,b,d,e){function f(){n=G++;n<k&&(p=c[n],d(p,l(p,n)))}function g(){n=
G++;n<k&&(p=c[n],d(p,n,l(p,n)))}function m(){!1===(u=v.next()).done&&(p=u.value,d(p,l(p,G++)))}function s(){!1===(u=v.next()).done&&(p=u.value,d(p,G,l(p,G++)))}function r(){n=G++;n<k&&(p=c[t[n]],d(p,l(p,n)))}function h(){n=G++;n<k&&(q=t[n],p=c[q],d(p,q,l(p,n)))}function l(d,b){return function(c,f){null===b&&A();c?(b=null,w=y,e=H(e),e(c)):(!!f===a&&(E[b]=d),b=null,++Wa===k?(e=z(e),e(null,ia(E))):K?C(w):(K=!0,w()),K=!1)}}e=e||y;var k,n,q,p,t,v,u,w,E,K=!1,G=0,Wa=0;B(c)?(k=c.length,w=3===d.length?g:f):
c&&(x&&c[x]?(k=c.size,v=c[x](),w=3===d.length?s:m):"object"===typeof c&&(t=D(c),k=t.length,w=3===d.length?h:r));if(!k||isNaN(b)||1>b)return e(null,[]);E=Array(k);J(b>k?k:b,w)}}function X(a,c,b){function d(){c(a[v],r)}function e(){c(a[v],v,r)}function f(){c(n.next().value,r)}function g(){q=n.next().value;c(q,v,r)}function m(){c(a[k[v]],r)}function s(){l=k[v];c(a[l],l,r)}function r(a,d){a?b(a):++v===h?(p=A,b(null)):!1===d?(p=A,b(null)):t?C(p):(t=!0,p());t=!1}b=z(b||y);var h,l,k,n,q,p,t=!1,v=0;B(a)?
(h=a.length,p=3===c.length?e:d):a&&(x&&a[x]?(h=a.size,n=a[x](),p=3===c.length?g:f):"object"===typeof a&&(k=D(a),h=k.length,p=3===c.length?s:m));if(!h)return b(null);p()}function Y(a,c,b,d){function e(){w<l&&b(a[w++],h)}function f(){k=w++;k<l&&b(a[k],k,h)}function g(){!1===(t=p.next()).done&&b(t.value,h)}function m(){!1===(t=p.next()).done&&b(t.value,w++,h)}function s(){w<l&&b(a[q[w++]],h)}function r(){k=w++;k<l&&(n=q[k],b(a[n],n,h))}function h(a,b){a?(v=y,d=H(d),d(a)):++E===l?(v=A,d=z(d),d(null)):
!1===b?(v=y,d=H(d),d(null)):u?C(v):(u=!0,v());u=!1}d=d||y;var l,k,n,q,p,t,v,u=!1,w=0,E=0;if(B(a))l=a.length,v=3===b.length?f:e;else if(a)if(x&&a[x])l=a.size,p=a[x](),v=3===b.length?m:g;else if("object"===typeof a)q=D(a),l=q.length,v=3===b.length?r:s;else return d(null);if(!l||isNaN(c)||1>c)return d(null);J(c>l?l:c,v)}function va(a,c,b){function d(){c(a[u],r)}function e(){c(a[u],u,r)}function f(){c(n.next().value,r)}function g(){q=n.next().value;c(q,u,r)}function m(){c(a[k[u]],r)}function s(){l=k[u];
c(a[l],l,r)}function r(a,d){a?(t=A,b=z(b),b(a,F(p))):(p[u]=d,++u===h?(t=A,b(null,p),b=A):v?C(t):(v=!0,t()),v=!1)}b=b||y;var h,l,k,n,q,p,t,v=!1,u=0;B(a)?(h=a.length,t=3===c.length?e:d):a&&(x&&a[x]?(h=a.size,n=a[x](),t=3===c.length?g:f):"object"===typeof a&&(k=D(a),h=k.length,t=3===c.length?s:m));if(!h)return b(null,[]);p=Array(h);t()}function wa(a,c,b,d){return function(e,f,g){function m(a){var b=!1;return function(c,e){b&&A();b=!0;c?(g=H(g),g(c)):!!e===d?(g=H(g),g(null,a)):++h===s&&g(null)}}g=g||
y;var s,r,h=0;B(e)?(s=e.length,a(e,f,m)):e&&(x&&e[x]?(s=e.size,b(e,f,m)):"object"===typeof e&&(r=D(e),s=r.length,c(e,f,m,r)));s||g(null)}}function xa(a){return function(c,b,d){function e(){n=c[u];b(n,h)}function f(){n=c[u];b(n,u,h)}function g(){n=p.next().value;b(n,h)}function m(){n=p.next().value;b(n,u,h)}function s(){n=c[q[u]];b(n,h)}function r(){k=q[u];n=c[k];b(n,k,h)}function h(b,c){b?d(b):!!c===a?(t=A,d(null,n)):++u===l?(t=A,d(null)):v?C(t):(v=!0,t());v=!1}d=z(d||y);var l,k,n,q,p,t,v=!1,u=0;
B(c)?(l=c.length,t=3===b.length?f:e):c&&(x&&c[x]?(l=c.size,p=c[x](),t=3===b.length?m:g):"object"===typeof c&&(q=D(c),l=q.length,t=3===b.length?r:s));if(!l)return d(null);t()}}function ya(a){return function(c,b,d,e){function f(){n=K++;n<k&&(p=c[n],d(p,l(p)))}function g(){n=K++;n<k&&(p=c[n],d(p,n,l(p)))}function m(){!1===(u=v.next()).done&&(p=u.value,d(p,l(p)))}function s(){!1===(u=v.next()).done&&(p=u.value,d(p,K++,l(p)))}function r(){n=K++;n<k&&(p=c[t[n]],d(p,l(p)))}function h(){K<k&&(q=t[K++],p=
c[q],d(p,q,l(p)))}function l(b){var d=!1;return function(c,f){d&&A();d=!0;c?(w=y,e=H(e),e(c)):!!f===a?(w=y,e=H(e),e(null,b)):++G===k?e(null):E?C(w):(E=!0,w());E=!1}}e=e||y;var k,n,q,p,t,v,u,w,E=!1,K=0,G=0;B(c)?(k=c.length,w=3===d.length?g:f):c&&(x&&c[x]?(k=c.size,v=c[x](),w=3===d.length?s:m):"object"===typeof c&&(t=D(c),k=t.length,w=3===d.length?h:r));if(!k||isNaN(b)||1>b)return e(null);J(b>k?k:b,w)}}function za(a,c,b,d){return function(e,f,g){function m(a,b){return function(c,e){null===a&&A();c?
(a=null,g=H(g),g(c,L(l))):(!!e===d&&(l[a]=b),a=null,++h===s&&g(null,l))}}g=g||y;var s,r,h=0,l={};B(e)?(s=e.length,a(e,f,m)):e&&(x&&e[x]?(s=e.size,b(e,f,m)):"object"===typeof e&&(r=D(e),s=r.length,c(e,f,m,r)));if(!s)return g(null,{})}}function Aa(a){return function(c,b,d){function e(){k=w;n=c[w];b(n,h)}function f(){k=w;n=c[w];b(n,w,h)}function g(){k=w;n=p.next().value;b(n,h)}function m(){k=w;n=p.next().value;b(n,k,h)}function s(){k=q[w];n=c[k];b(n,h)}function r(){k=q[w];n=c[k];b(n,k,h)}function h(b,
c){b?d(b,u):(!!c===a&&(u[k]=n),++w===l?(t=A,d(null,u)):v?C(t):(v=!0,t()),v=!1)}d=z(d||y);var l,k,n,q,p,t,v=!1,u={},w=0;B(c)?(l=c.length,t=3===b.length?f:e):c&&(x&&c[x]?(l=c.size,p=c[x](),t=3===b.length?m:g):"object"===typeof c&&(q=D(c),l=q.length,t=3===b.length?r:s));if(!l)return d(null,{});t()}}function Ba(a){return function(c,b,d,e){function f(){n=G++;n<k&&(p=c[n],d(p,l(p,n)))}function g(){n=G++;n<k&&(p=c[n],d(p,n,l(p,n)))}function m(){!1===(u=v.next()).done&&(p=u.value,d(p,l(p,G++)))}function s(){!1===
(u=v.next()).done&&(p=u.value,d(p,G,l(p,G++)))}function r(){G<k&&(q=t[G++],p=c[q],d(p,l(p,q)))}function h(){G<k&&(q=t[G++],p=c[q],d(p,q,l(p,q)))}function l(b,d){return function(c,f){null===d&&A();c?(d=null,w=y,e=H(e),e(c,L(K))):(!!f===a&&(K[d]=b),d=null,++F===k?(w=A,e=z(e),e(null,K)):E?C(w):(E=!0,w()),E=!1)}}e=e||y;var k,n,q,p,t,v,u,w,E=!1,K={},G=0,F=0;B(c)?(k=c.length,w=3===d.length?g:f):c&&(x&&c[x]?(k=c.size,v=c[x](),w=3===d.length?s:m):"object"===typeof c&&(t=D(c),k=t.length,w=3===d.length?h:r));
if(!k||isNaN(b)||1>b)return e(null,{});J(b>k?k:b,w)}}function Z(a,c,b,d){function e(d){b(d,a[v],h)}function f(d){b(d,a[v],v,h)}function g(){b(c,q.next().value,h)}function m(){b(c,q.next().value,v,h)}function s(d){b(d,a[n[v]],h)}function r(d){k=n[v];b(d,a[k],k,h)}function h(a,c){a?d(a,c):++v===l?(b=A,d(null,c)):t?C(function(){p(c)}):(t=!0,p(c));t=!1}d=z(d||y);var l,k,n,q,p,t=!1,v=0;B(a)?(l=a.length,p=4===b.length?f:e):a&&(x&&a[x]?(l=a.size,q=a[x](),p=4===b.length?m:g):"object"===typeof a&&(n=D(a),
l=n.length,p=4===b.length?r:s));if(!l)return d(null,c);p(c)}function Ca(a,c,b,d){function e(d){b(d,a[--r],s)}function f(d){b(d,a[--r],r,s)}function g(d){b(d,a[k[--r]],s)}function m(d){l=k[--r];b(d,a[l],l,s)}function s(a,b){a?d(a,b):0===r?(t=A,d(null,b)):v?C(function(){t(b)}):(v=!0,t(b));v=!1}d=z(d||y);var r,h,l,k,n,q,p,t,v=!1;if(B(a))r=a.length,t=4===b.length?f:e;else if(a)if(x&&a[x]){r=a.size;p=Array(r);n=a[x]();for(h=-1;!1===(q=n.next()).done;)p[++h]=q.value;a=p;t=4===b.length?f:e}else"object"===
typeof a&&(k=D(a),r=k.length,t=4===b.length?m:g);if(!r)return d(null,c);t(c)}function Da(a,c,b){b=b||y;ca(a,c,function(a,c){if(a)return b(a);b(null,!!c)})}function Ea(a,c,b){b=b||y;da(a,c,function(a,c){if(a)return b(a);b(null,!!c)})}function Fa(a,c,b,d){d=d||y;ea(a,c,b,function(a,b){if(a)return d(a);d(null,!!b)})}function Ga(a,c){return B(a)?0===a.length?(c(null),!1):!0:(c(Error("First argument to waterfall must be an array of functions")),!1)}function Ha(a,c){function b(b,h){if(b)s=A,c=z(c),c(b);
else if(++d===f){s=A;var l=c;c=A;2===arguments.length?l(b,h):l.apply(null,F(arguments))}else g=a[d],m=arguments,e?C(s):(e=!0,s()),e=!1}c=c||y;if(Ga(a,c)){var d=0,e=!1,f=a.length,g=a[d],m=[],s=function(){switch(g.length){case 0:try{b(null,g())}catch(a){b(a)}break;case 1:return g(b);case 2:return g(m[1],b);case 3:return g(m[1],m[2],b);case 4:return g(m[1],m[2],m[3],b);case 5:return g(m[1],m[2],m[3],m[4],b);default:return m=I(m,1),m[g.length-1]=b,g.apply(null,m)}};s()}}function Ia(){var a=F(arguments);
return function(){var c=this,b=F(arguments),d=b[b.length-1];"function"===typeof d?b.pop():d=y;Z(a,b,function(a,b,d){a.push(function(a){var b=I(arguments,1);d(a,b)});b.apply(c,a)},function(a,b){b=B(b)?b:[b];b.unshift(a);d.apply(c,b)})}}function Ja(a){return function(c){var b=function(){var b=this,d=F(arguments),g=d.pop()||y;return a(c,function(a,c){a.apply(b,d.concat([c]))},g)};if(1<arguments.length){var d=I(arguments,1);return b.apply(this,d)}return b}}function N(){this.tail=this.head=null;this.length=
0}function fa(a,c,b,d){function e(a){a={data:a,callback:k};n?q._tasks.unshift(a):q._tasks.push(a);C(q.process)}function f(a,b,d){if(null==b)b=y;else if("function"!==typeof b)throw Error("task callback must be a function");q.started=!0;var c=B(a)?a:[a];void 0!==a&&c.length?(n=d,k=b,R(c,e)):q.idle()&&C(q.drain)}function g(a,b){var d=!1;return function(c,e){d&&A();d=!0;h--;for(var f,g=-1,k=l.length,m=-1,s=b.length,n=2<arguments.length,r=n&&F(arguments);++m<s;){for(f=b[m];++g<k;)l[g]===f&&(l.splice(g,
1),g=k,k--);g=-1;n?f.callback.apply(f,r):f.callback(c,e);c&&a.error(c,f.data)}h<=a.concurrency-a.buffer&&a.unsaturated();0===a._tasks.length+h&&a.drain();a.process()}}function m(){for(;!q.paused&&h<q.concurrency&&q._tasks.length;){var a=q._tasks.shift();0===q._tasks.length&&q.empty();h++;l.push(a);h===q.concurrency&&q.saturated();var b=g(q,[a]);c(a.data,b)}}function s(){for(;!q.paused&&h<q.concurrency&&q._tasks.length;){for(var a=q._tasks.splice(q.payload||q._tasks.length),b=-1,d=a.length,e=Array(d);++b<
d;)e[b]=a[b].data;0===q._tasks.length&&q.empty();h++;Array.prototype.push.apply(l,a);h===q.concurrency&&q.saturated();a=g(q,a);c(e,a)}}function r(){C(q.process)}if(void 0===b)b=1;else if(isNaN(b)||1>b)throw Error("Concurrency must not be zero");var h=0,l=[],k,n,q={_tasks:new N,concurrency:b,payload:d,saturated:y,unsaturated:y,buffer:b/4,empty:y,drain:y,error:y,started:!1,paused:!1,push:function(a,b){f(a,b)},kill:function(){q.drain=y;q._tasks.empty()},unshift:function(a,b){f(a,b,!0)},process:a?m:s,
length:function(){return q._tasks.length},running:function(){return h},workersList:function(){return l},idle:function(){return 0===q.length()+h},pause:function(){q.paused=!0},resume:function(){!1!==q.paused&&(q.paused=!1,J(q.concurrency<q._tasks.length?q.concurrency:q._tasks.length,r))},_worker:c};return q}function Ka(a,c,b){function d(){if(0===r.length&&0===s){if(0!==g)throw Error("async.auto task has cyclic dependencies");return b(null,m)}for(;r.length&&s<c&&b!==y;){s++;var a=r.shift();if(0===a[1])a[0](a[2]);
else a[0](m,a[2])}}function e(a){R(h[a]||[],function(a){a()});d()}"function"===typeof c&&(b=c,c=null);var f=D(a),g=f.length,m={};if(0===g)return b(null,m);var s=0,r=[],h={};b=z(b||y);c=c||g;S(a,function(a,d){function c(a,f){null===d&&A();s--;g--;f=2>=arguments.length?f:I(arguments,1);if(a){var h=L(m);h[d]=f;d=null;var l=b;b=y;l(a,h)}else m[d]=f,e(d),d=null}function q(){0===--v&&r.push([p,t,c])}var p,t;if(B(a)){var v=a.length-1;p=a[v];t=v;if(0===v)r.push([p,t,c]);else for(var u=-1;++u<v;){var w=a[u];
if(Va(f,w))throw u="async.auto task `"+w+"` has non-existent dependency in "+a.join(", "),Error(u);var x=h[w];x||(x=h[w]=[]);x.push(q)}}else p=a,t=0,r.push([p,t,c])},f);d()}function Xa(a){a=a.toString().replace(Ya,"");a=(a=a.match(Za)[2].replace(" ",""))?a.split($a):[];return a=a.map(function(a){return a.replace(ab,"").trim()})}function ga(a,c,b){function d(a,e){if(++r===g||!a||s&&!s(a)){if(2>=arguments.length)return b(a,e);var f=F(arguments);return b.apply(null,f)}c(d)}function e(){c(f)}function f(a,
d){if(++r===g||!a||s&&!s(a)){if(2>=arguments.length)return b(a,d);var c=F(arguments);return b.apply(null,c)}setTimeout(e,m(r))}var g,m,s,r=0;if(3>arguments.length&&"function"===typeof a)b=c||y,c=a,a=null,g=5;else switch(b=b||y,typeof a){case "object":"function"===typeof a.errorFilter&&(s=a.errorFilter);var h=a.interval;switch(typeof h){case "function":m=h;break;case "string":case "number":m=(h=+h)?function(){return h}:function(){return 0}}g=+a.times||5;break;case "number":g=a||5;break;case "string":g=
+a||5;break;default:throw Error("Invalid arguments for async.retry");}if("function"!==typeof c)throw Error("Invalid arguments for async.retry");m?c(f):c(d)}function La(a){return function(){var c=F(arguments),b=c.pop(),d;try{d=a.apply(this,c)}catch(e){return b(e)}d&&"object"===typeof d&&"function"===typeof d.then?d.then(function(a){b(null,a)},function(a){b(a.message?a:Error(a))}):b(null,d)}}function Ma(a){return function(){function c(a,d){if(a)return b(null,{error:a});2<arguments.length&&(d=I(arguments,
1));b(null,{value:d})}var b;switch(arguments.length){case 1:return b=arguments[0],a(c);case 2:return b=arguments[1],a(arguments[0],c);default:var d=F(arguments),e=d.length-1;b=d[e];d[e]=c;a.apply(this,d)}}}function ha(a){function c(b){if("object"===typeof console)if(b)console.error&&console.error(b);else if(console[a]){var d=I(arguments,1);R(d,function(b){console[a](b)})}}return function(a){var d=I(arguments,1);d.push(c);a.apply(null,d)}}var y=function(){},A=function(){throw Error("Callback was already called.");
},B=Array.isArray,D=Object.keys,x="function"===typeof Symbol&&Symbol.iterator,C,$,Q;O();var P=function(a,c,b){return function(d,e,f){function g(a,b){a?(f=H(f),f(a)):++r===m?f(null):!1===b&&(f=H(f),f(null))}f=f||y;var m,s,r=0;B(d)?(m=d.length,a(d,e,g)):d&&(x&&d[x]?(m=d.size,b(d,e,g)):"object"===typeof d&&(s=D(d),m=s.length,c(d,e,g,s)));m||f(null)}}(ja,ka,la),Na=ra(ma,function(a,c,b,d){var e,f=-1,g=d.length;if(3===c.length)for(;++f<g;)e=d[f],c(a[e],e,b(f));else for(;++f<g;)c(a[d[f]],b(f))},function(a,
c,b){var d=-1,e=a.size,f=a[x]();if(3===c.length)for(;++d<e;)a=f.next().value,c(a,d,b(d));else for(;++d<e;)c(f.next().value,b(d))},!0),bb=ra(ma,function(a,c,b,d){var e,f=-1,g=d.length;if(3===c.length)for(;++f<g;)e=d[f],c(a[e],e,b(e));else for(;++f<g;)e=d[f],c(a[e],b(e))},function(a,c,b){var d=-1,e=a[x]();if(3===c.length)for(;!1===(a=e.next()).done;)c(a.value,++d,b(d));else for(;!1===(a=e.next()).done;)c(a.value,b(++d))},!1),Oa=sa(W,na,oa,!0),Pa=ta(!0),Qa=ua(!0),cb=sa(W,na,oa,!1),db=ta(!1),eb=ua(!1),
ca=wa(T,U,V,!0),da=xa(!0),ea=ya(!0),Ra=function(a,c,b){var d=wa(a,c,b,!1);return function(a,b,c){c=c||y;d(a,b,function(a,b){if(a)return c(a);c(null,!b)})}}(T,U,V),Sa=function(){var a=xa(!1);return function(c,b,d){d=d||y;a(c,b,function(a,b){if(a)return d(a);d(null,!b)})}}(),Ta=function(){var a=ya(!1);return function(c,b,d,e){e=e||y;a(c,b,d,function(a,b){if(a)return e(a);e(null,!b)})}}(),fb=za(W,pa,qa,!0),gb=Aa(!0),hb=Ba(!0),ib=za(W,pa,qa,!1),jb=Aa(!1),kb=Ba(!1),lb=function(a,c,b){return function(d,
e,f,g){function m(a,b){a?(g=H(g),g(a,B(h)?F(h):L(h))):++l===s?g(null,h):!1===b&&(g=H(g),g(null,B(h)?F(h):L(h)))}3===arguments.length&&(g=f,f=e,e=void 0);g=g||y;var s,r,h,l=0;B(d)?(s=d.length,h=void 0!==e?e:[],a(d,h,f,m)):d&&(x&&d[x]?(s=d.size,h=void 0!==e?e:{},b(d,h,f,m)):"object"===typeof d&&(r=D(d),s=r.length,h=void 0!==e?e:{},c(d,h,f,m,r)));s||g(null,void 0!==e?e:h||{})}}(function(a,c,b,d){var e=-1,f=a.length;if(4===b.length)for(;++e<f;)b(c,a[e],e,z(d));else for(;++e<f;)b(c,a[e],z(d))},function(a,
c,b,d,e){var f,g=-1,m=e.length;if(4===b.length)for(;++g<m;)f=e[g],b(c,a[f],f,z(d));else for(;++g<m;)b(c,a[e[g]],z(d))},function(a,c,b,d){var e=-1,f=a[x]();if(4===b.length)for(;!1===(a=f.next()).done;)b(c,a.value,++e,z(d));else for(;!1===(a=f.next()).done;)b(c,a.value,z(d))}),mb=function(a,c,b){return function(d,e,f){function g(a){var b=!1;return function(d,c){b&&A();b=!0;s[r]={value:a,criteria:c};d?(f=H(f),f(d)):++r===m&&(s.sort(ba),f(null,aa(s,"value")))}}f=f||y;var m,s,r=0;if(B(d))m=d.length,s=
Array(m),a(d,e,g);else if(d)if(x&&d[x])m=d.size,s=Array(m),b(d,e,g);else if("object"===typeof d){var h=D(d);m=h.length;s=Array(m);c(d,e,g,h)}m||f(null,[])}}(T,U,V),nb=function(a,c,b){return function(d,e,f){function g(a,b){b&&Array.prototype.push.apply(r,B(b)?b:[b]);a?(f=H(f),f(a,F(r))):++s===m&&f(null,r)}f=f||y;var m,s=0,r=[];if(B(d))m=d.length,a(d,e,g);else if(d)if(x&&d[x])m=d.size,b(d,e,g);else if("object"===typeof d){var h=D(d);m=h.length;c(d,e,g,h)}m||f(null,r)}}(ja,ka,la),ob=function(a,c,b){return function(d,
e,f){function g(a){var b=!1;return function(d,c){b&&A();b=!0;if(d)f=H(f),f(d,L(r));else{var e=r[c];e?e.push(a):r[c]=[a];++s===m&&f(null,r)}}}f=f||y;var m,s=0,r={};if(B(d))m=d.length,a(d,e,g);else if(d)if(x&&d[x])m=d.size,b(d,e,g);else if("object"===typeof d){var h=D(d);m=h.length;c(d,e,g,h)}m||f(null,{})}}(T,U,V),pb=function(a,c){return function(b,d){function e(a){return function(b,c){null===a&&A();b?(a=null,d=H(d),d(b,m)):(m[a]=2>=arguments.length?c:I(arguments,1),a=null,++s===f&&d(null,m))}}d=d||
y;var f,g,m,s=0;B(b)?(f=b.length,m=Array(f),a(b,e)):b&&"object"===typeof b&&(g=D(b),f=g.length,m={},c(b,e,g));f||d(null,m)}}(function(a,c){for(var b=-1,d=a.length;++b<d;)a[b](c(b))},function(a,c,b){for(var d,e=-1,f=b.length;++e<f;)d=b[e],a[d](c(d))}),qb=Ja(Na),rb=Ja(va),sb=ha("log"),tb=ha("dir"),P={VERSION:"2.1.0",each:P,eachSeries:X,eachLimit:Y,forEach:P,forEachSeries:X,forEachLimit:Y,eachOf:P,eachOfSeries:X,eachOfLimit:Y,forEachOf:P,forEachOfSeries:X,forEachOfLimit:Y,map:Na,mapSeries:va,mapLimit:function(a,
c,b,d){function e(){k=E++;k<l&&b(a[k],h(k))}function f(){k=E++;k<l&&b(a[k],k,h(k))}function g(){!1===(t=p.next()).done&&b(t.value,h(E++))}function m(){!1===(t=p.next()).done&&b(t.value,E,h(E++))}function s(){k=E++;k<l&&b(a[q[k]],h(k))}function r(){k=E++;k<l&&(n=q[k],b(a[n],n,h(k)))}function h(a){return function(b,c){null===a&&A();b?(a=null,u=y,d=H(d),d(b,F(v))):(v[a]=c,a=null,++z===l?(u=A,d(null,v),d=A):w?C(u):(w=!0,u()),w=!1)}}d=d||y;var l,k,n,q,p,t,v,u,w=!1,E=0,z=0;B(a)?(l=a.length,u=3===b.length?
f:e):a&&(x&&a[x]?(l=a.size,p=a[x](),u=3===b.length?m:g):"object"===typeof a&&(q=D(a),l=q.length,u=3===b.length?r:s));if(!l||isNaN(c)||1>c)return d(null,[]);v=Array(l);J(c>l?l:c,u)},mapValues:bb,mapValuesSeries:function(a,c,b){function d(){l=u;c(a[u],r)}function e(){l=u;c(a[u],u,r)}function f(){l=u;q=n.next().value;c(q,r)}function g(){l=u;q=n.next().value;c(q,u,r)}function m(){l=k[u];c(a[l],r)}function s(){l=k[u];c(a[l],l,r)}function r(a,d){a?(p=A,b=z(b),b(a,L(v))):(v[l]=d,++u===h?(p=A,b(null,v),b=
A):t?C(p):(t=!0,p()),t=!1)}b=b||y;var h,l,k,n,q,p,t=!1,v={},u=0;B(a)?(h=a.length,p=3===c.length?e:d):a&&(x&&a[x]?(h=a.size,n=a[x](),p=3===c.length?g:f):"object"===typeof a&&(k=D(a),h=k.length,p=3===c.length?s:m));if(!h)return b(null,v);p()},mapValuesLimit:function(a,c,b,d){function e(){k=E++;k<l&&b(a[k],h(k))}function f(){k=E++;k<l&&b(a[k],k,h(k))}function g(){!1===(t=p.next()).done&&b(t.value,h(E++))}function m(){!1===(t=p.next()).done&&b(t.value,E,h(E++))}function s(){k=E++;k<l&&(n=q[k],b(a[n],
h(n)))}function r(){k=E++;k<l&&(n=q[k],b(a[n],n,h(n)))}function h(a){return function(b,c){null===a&&A();b?(a=null,v=y,d=H(d),d(b,L(w))):(w[a]=c,a=null,++z===l?d(null,w):u?C(v):(u=!0,v()),u=!1)}}d=d||y;var l,k,n,q,p,t,v,u=!1,w={},E=0,z=0;B(a)?(l=a.length,v=3===b.length?f:e):a&&(x&&a[x]?(l=a.size,p=a[x](),v=3===b.length?m:g):"object"===typeof a&&(q=D(a),l=q.length,v=3===b.length?r:s));if(!l||isNaN(c)||1>c)return d(null,w);J(c>l?l:c,v)},filter:Oa,filterSeries:Pa,filterLimit:Qa,select:Oa,selectSeries:Pa,
selectLimit:Qa,reject:cb,rejectSeries:db,rejectLimit:eb,detect:ca,detectSeries:da,detectLimit:ea,find:ca,findSeries:da,findLimit:ea,pick:fb,pickSeries:gb,pickLimit:hb,omit:ib,omitSeries:jb,omitLimit:kb,reduce:Z,inject:Z,foldl:Z,reduceRight:Ca,foldr:Ca,transform:lb,transformSeries:function(a,c,b,d){function e(){b(t,a[u],h)}function f(){b(t,a[u],u,h)}function g(){b(t,q.next().value,h)}function m(){b(t,q.next().value,u,h)}function s(){b(t,a[n[u]],h)}function r(){k=n[u];b(t,a[k],k,h)}function h(a,b){a?
d(a,t):++u===l?(p=A,d(null,t)):!1===b?(p=A,d(null,t)):v?C(p):(v=!0,p());v=!1}3===arguments.length&&(d=b,b=c,c=void 0);d=z(d||y);var l,k,n,q,p,t,v=!1,u=0;B(a)?(l=a.length,t=void 0!==c?c:[],p=4===b.length?f:e):a&&(x&&a[x]?(l=a.size,q=a[x](),t=void 0!==c?c:{},p=4===b.length?m:g):"object"===typeof a&&(n=D(a),l=n.length,t=void 0!==c?c:{},p=4===b.length?r:s));if(!l)return d(null,void 0!==c?c:t||{});p()},transformLimit:function(a,c,b,d,e){function f(){n=A++;n<k&&d(w,a[n],z(l))}function g(){n=A++;n<k&&d(w,
a[n],n,z(l))}function m(){!1===(v=t.next()).done&&d(w,v.value,z(l))}function s(){!1===(v=t.next()).done&&d(w,v.value,A++,z(l))}function r(){n=A++;n<k&&d(w,a[p[n]],z(l))}function h(){n=A++;n<k&&(q=p[n],d(w,a[q],q,z(l)))}function l(a,b){a?(u=y,e(a,B(w)?F(w):L(w)),e=y):++G===k?e(null,w):!1===b?(u=y,e(null,B(w)?F(w):L(w)),e=y):E?C(u):(E=!0,u());E=!1}4===arguments.length&&(e=d,d=b,b=void 0);e=e||y;var k,n,q,p,t,v,u,w,E=!1,A=0,G=0;B(a)?(k=a.length,w=void 0!==b?b:[],u=4===d.length?g:f):a&&(x&&a[x]?(k=a.size,
t=a[x](),w=void 0!==b?b:{},u=4===d.length?s:m):"object"===typeof a&&(p=D(a),k=p.length,w=void 0!==b?b:{},u=4===d.length?h:r));if(!k||isNaN(c)||1>c)return e(null,void 0!==b?b:w||{});J(c>k?k:c,u)},sortBy:mb,sortBySeries:function(a,c,b){function d(){k=a[u];c(k,r)}function e(){k=a[u];c(k,u,r)}function f(){k=q.next().value;c(k,r)}function g(){k=q.next().value;c(k,u,r)}function m(){k=a[n[u]];c(k,r)}function s(){l=n[u];k=a[l];c(k,l,r)}function r(a,d){p[u]={value:k,criteria:d};a?b(a):++u===h?(t=A,p.sort(ba),
b(null,aa(p,"value"))):v?C(t):(v=!0,t());v=!1}b=z(b||y);var h,l,k,n,q,p,t,v=!1,u=0;B(a)?(h=a.length,t=3===c.length?e:d):a&&(x&&a[x]?(h=a.size,q=a[x](),t=3===c.length?g:f):"object"===typeof a&&(n=D(a),h=n.length,t=3===c.length?s:m));if(!h)return b(null,[]);p=Array(h);t()},sortByLimit:function(a,c,b,d){function e(){z<l&&(q=a[z++],b(q,h(q)))}function f(){k=z++;k<l&&(q=a[k],b(q,k,h(q)))}function g(){!1===(v=t.next()).done&&(q=v.value,b(q,h(q)))}function m(){!1===(v=t.next()).done&&(q=v.value,b(q,z++,
h(q)))}function s(){z<l&&(q=a[p[z++]],b(q,h(q)))}function r(){z<l&&(n=p[z++],q=a[n],b(q,n,h(q)))}function h(a){var b=!1;return function(c,e){b&&A();b=!0;u[G]={value:a,criteria:e};c?(w=y,d(c),d=y):++G===l?(u.sort(ba),d(null,aa(u,"value"))):E?C(w):(E=!0,w());E=!1}}d=d||y;var l,k,n,q,p,t,v,u,w,E=!1,z=0,G=0;B(a)?(l=a.length,w=3===b.length?f:e):a&&(x&&a[x]?(l=a.size,t=a[x](),w=3===b.length?m:g):"object"===typeof a&&(p=D(a),l=p.length,w=3===b.length?r:s));if(!l||isNaN(c)||1>c)return d(null,[]);u=Array(l);
J(c>l?l:c,w)},some:Da,someSeries:Ea,someLimit:Fa,any:Da,anySeries:Ea,anyLimit:Fa,every:Ra,everySeries:Sa,everyLimit:Ta,all:Ra,allSeries:Sa,allLimit:Ta,concat:nb,concatSeries:function(a,c,b){function d(){c(a[u],r)}function e(){c(a[u],u,r)}function f(){c(n.next().value,r)}function g(){q=n.next().value;c(q,u,r)}function m(){c(a[k[u]],r)}function s(){l=k[u];c(a[l],l,r)}function r(a,d){d&&Array.prototype.push.apply(v,B(d)?d:[d]);a?b(a,v):++u===h?(p=A,b(null,v)):t?C(p):(t=!0,p());t=!1}b=z(b||y);var h,l,
k,n,q,p,t=!1,v=[],u=0;B(a)?(h=a.length,p=3===c.length?e:d):a&&(x&&a[x]?(h=a.size,n=a[x](),p=3===c.length?g:f):"object"===typeof a&&(k=D(a),h=k.length,p=3===c.length?s:m));if(!h)return b(null,v);p()},concatLimit:function(a,c,b,d){function e(){w<k&&b(a[w++],z(h))}function f(){n=w++;n<k&&b(a[n],n,z(h))}function g(){!1===(t=p.next()).done&&b(t.value,z(h))}function m(){!1===(t=p.next()).done&&b(t.value,w++,z(h))}function s(){w<k&&b(a[F[w++]],z(h))}function r(){w<k&&(q=F[w++],b(a[q],q,z(h)))}function h(a,
b){b&&Array.prototype.push.apply(l,B(b)?b:[b]);a?(v=y,d=H(d),d(a,l)):++E===k?(v=A,d=z(d),d(null,l)):u?C(v):(u=!0,v());u=!1}d=d||y;var l=[],k,n,q,p,t,v,u=!1,w=0,E=0;if(B(a))k=a.length,v=3===b.length?f:e;else if(a)if(x&&a[x])k=a.size,p=a[x](),v=3===b.length?m:g;else if("object"===typeof a){var F=D(a);k=F.length;v=3===b.length?r:s}if(!k||isNaN(c)||1>c)return d(null,l);J(c>k?k:c,v)},groupBy:ob,groupBySeries:function(a,c,b){function d(){k=a[v];c(k,r)}function e(){k=a[v];c(k,v,r)}function f(){k=q.next().value;
c(k,r)}function g(){k=q.next().value;c(k,v,r)}function m(){k=a[n[v]];c(k,r)}function s(){l=n[v];k=a[l];c(k,l,r)}function r(a,d){if(a)p=A,b=z(b),b(a,L(u));else{var c=u[d];c?c.push(k):u[d]=[k];++v===h?(p=A,b(null,u)):t?C(p):(t=!0,p());t=!1}}b=z(b||y);var h,l,k,n,q,p,t=!1,v=0,u={};B(a)?(h=a.length,p=3===c.length?e:d):a&&(x&&a[x]?(h=a.size,q=a[x](),p=3===c.length?g:f):"object"===typeof a&&(n=D(a),h=n.length,p=3===c.length?s:m));if(!h)return b(null,u);p()},groupByLimit:function(a,c,b,d){function e(){z<
l&&(q=a[z++],b(q,h(q)))}function f(){k=z++;k<l&&(q=a[k],b(q,k,h(q)))}function g(){!1===(v=t.next()).done&&(q=v.value,b(q,h(q)))}function m(){!1===(v=t.next()).done&&(q=v.value,b(q,z++,h(q)))}function s(){z<l&&(q=a[p[z++]],b(q,h(q)))}function r(){z<l&&(n=p[z++],q=a[n],b(q,n,h(q)))}function h(a){var b=!1;return function(c,e){b&&A();b=!0;if(c)u=y,d=H(d),d(c,L(G));else{var f=G[e];f?f.push(a):G[e]=[a];++F===l?d(null,G):w?C(u):(w=!0,u());w=!1}}}d=d||y;var l,k,n,q,p,t,v,u,w=!1,z=0,F=0,G={};B(a)?(l=a.length,
u=3===b.length?f:e):a&&(x&&a[x]?(l=a.size,t=a[x](),u=3===b.length?m:g):"object"===typeof a&&(p=D(a),l=p.length,u=3===b.length?r:s));if(!l||isNaN(c)||1>c)return d(null,G);J(c>l?l:c,u)},parallel:pb,series:function(a,c){function b(){g=l;a[l](e)}function d(){g=m[l];a[g](e)}function e(a,b){a?(r=A,c=z(c),c(a,s)):(s[g]=2>=arguments.length?b:I(arguments,1),++l===f?(r=A,c(null,s)):h?C(r):(h=!0,r()),h=!1)}c=c||y;var f,g,m,s,r,h=!1,l=0;if(B(a))f=a.length,s=Array(f),r=b;else if(a&&"object"===typeof a)m=D(a),
f=m.length,s={},r=d;else return c(null);if(!f)return c(null,s);r()},parallelLimit:function(a,c,b){function d(){m=n++;if(m<g)a[m](f(m))}function e(){n<g&&(s=r[n++],a[s](f(s)))}function f(a){return function(d,c){null===a&&A();d?(a=null,l=y,b=H(b),b(d,h)):(h[a]=2>=arguments.length?c:I(arguments,1),a=null,++q===g?b(null,h):k?C(l):(k=!0,l()),k=!1)}}b=b||y;var g,m,s,r,h,l,k=!1,n=0,q=0;B(a)?(g=a.length,h=Array(g),l=d):a&&"object"===typeof a&&(r=D(a),g=r.length,h={},l=e);if(!g||isNaN(c)||1>c)return b(null,
h);J(c>g?g:c,l)},waterfall:function(a,c){function b(){f=!1;switch(h.length){case 0:case 1:return r(d);case 2:return r(h[1],d);case 3:return r(h[1],h[2],d);case 4:return r(h[1],h[2],h[3],d);case 5:return r(h[1],h[2],h[3],h[4],d);case 6:return r(h[1],h[2],h[3],h[4],h[5],d);default:return h=I(h,1),h.push(d),r.apply(null,h)}}function d(d,k){f&&A();f=!0;d?(e=c,c=A,e(d)):++m===s?(e=c,c=A,2>=arguments.length?e(d,k):e.apply(null,F(arguments))):(h=arguments,r=a[m]||A,g?C(b):(g=!0,b()),g=!1)}c=c||y;if(Ga(a,
c)){var e,f,g,m=0,s=a.length,r=a[m],h=[];b()}},angelFall:Ha,angelfall:Ha,whilst:function(a,c,b){function d(){g?C(e):(g=!0,c(f));g=!1}function e(){c(f)}function f(c,e){if(c)return b(c);2>=arguments.length?a(e)?d():b(null,e):(e=I(arguments,1),a.apply(null,e)?d():b.apply(null,[null].concat(e)))}b=b||y;var g=!1;a()?d():b(null)},doWhilst:function(a,c,b){function d(){g?C(e):(g=!0,a(f));g=!1}function e(){a(f)}function f(a,e){if(a)return b(a);2>=arguments.length?c(e)?d():b(null,e):(e=I(arguments,1),c.apply(null,
e)?d():b.apply(null,[null].concat(e)))}b=b||y;var g=!1;e()},until:function(a,c,b){function d(){g?C(e):(g=!0,c(f));g=!1}function e(){c(f)}function f(c,e){if(c)return b(c);2>=arguments.length?a(e)?b(null,e):d():(e=I(arguments,1),a.apply(null,e)?b.apply(null,[null].concat(e)):d())}b=b||y;var g=!1;a()?b(null):d()},doUntil:function(a,c,b){function d(){g?C(e):(g=!0,a(f));g=!1}function e(){a(f)}function f(a,e){if(a)return b(a);2>=arguments.length?c(e)?b(null,e):d():(e=I(arguments,1),c.apply(null,e)?b.apply(null,
[null].concat(e)):d())}b=b||y;var g=!1;e()},during:function(a,c,b){function d(a,d){if(a)return b(a);d?c(e):b(null)}function e(c){if(c)return b(c);a(d)}b=b||y;a(d)},doDuring:function(a,c,b){function d(d,c){if(d)return b(d);c?a(e):b(null)}function e(a,e){if(a)return b(a);switch(arguments.length){case 0:case 1:c(d);break;case 2:c(e,d);break;default:var m=I(arguments,1);m.push(d);c.apply(null,m)}}b=b||y;d(null,!0)},forever:function(a,c){function b(){a(d)}function d(a){if(a){if(c)return c(a);throw a;}e?
C(b):(e=!0,b());e=!1}var e=!1;b()},compose:function(){return Ia.apply(null,Ua(arguments))},seq:Ia,applyEach:qb,applyEachSeries:rb,queue:function(a,c){return fa(!0,a,c)},priorityQueue:function(a,c){var b=fa(!0,a,c);b.push=function(a,c,f){b.started=!0;c=c||0;var g=B(a)?a:[a],m=g.length;if(void 0===a||0===m)b.idle()&&C(b.drain);else{f="function"===typeof f?f:y;for(a=b._tasks.head;a&&c>=a.priority;)a=a.next;for(;m--;){var s={data:g[m],priority:c,callback:f};a?b._tasks.insertBefore(a,s):b._tasks.push(s);
C(b.process)}}};delete b.unshift;return b},cargo:function(a,c){return fa(!1,a,1,c)},auto:Ka,autoInject:function(a,c,b){var d={};S(a,function(a,b){var c,m=a.length;if(B(a)){if(0===m)throw Error("autoInject task functions require explicit parameters.");c=F(a);m=c.length-1;a=c[m];if(0===m){d[b]=a;return}}else{if(1===m){d[b]=a;return}c=Xa(a);if(0===m&&0===c.length)throw Error("autoInject task functions require explicit parameters.");m=c.length-1}c[m]=function(b,d){switch(m){case 1:a(b[c[0]],d);break;
case 2:a(b[c[0]],b[c[1]],d);break;case 3:a(b[c[0]],b[c[1]],b[c[2]],d);break;default:for(var f=-1;++f<m;)c[f]=b[c[f]];c[f]=d;a.apply(null,c)}};d[b]=c},D(a));Ka(d,c,b)},retry:ga,retryable:function(a,c){c||(c=a,a=null);return function(){function b(a){c(a)}function d(a){c(g[0],a)}function e(a){c(g[0],g[1],a)}var f,g=F(arguments),m=g.length-1,s=g[m];switch(c.length){case 1:f=b;break;case 2:f=d;break;case 3:f=e;break;default:f=function(a){g[m]=a;c.apply(null,g)}}a?ga(a,f,s):ga(f,s)}},iterator:function(a){function c(e){var f=
function(){b&&a[d[e]||e].apply(null,F(arguments));return f.next()};f.next=function(){return e<b-1?c(e+1):null};return f}var b=0,d=[];B(a)?b=a.length:(d=D(a),b=d.length);return c(0)},times:function(a,c,b){function d(c){return function(d,m){null===c&&A();e[c]=m;c=null;d?(b(d),b=y):0===--a&&b(null,e)}}b=b||y;a=+a;if(isNaN(a)||1>a)return b(null,[]);var e=Array(a);J(a,function(a){c(a,d(a))})},timesSeries:function(a,c,b){function d(){c(m,e)}function e(c,e){f[m]=e;c?(b(c),b=A):++m>=a?(b(null,f),b=A):g?C(d):
(g=!0,d());g=!1}b=b||y;a=+a;if(isNaN(a)||1>a)return b(null,[]);var f=Array(a),g=!1,m=0;d()},timesLimit:function(a,c,b,d){function e(){var c=s++;c<a&&b(c,f(c))}function f(b){return function(c,f){null===b&&A();g[b]=f;b=null;c?(d(c),d=y):++r>=a?(d(null,g),d=A):m?C(e):(m=!0,e());m=!1}}d=d||y;a=+a;if(isNaN(a)||1>a||isNaN(c)||1>c)return d(null,[]);var g=Array(a),m=!1,s=0,r=0;J(c>a?a:c,e)},race:function(a,c){c=H(c||y);var b,d,e=-1;if(B(a))for(b=a.length;++e<b;)a[e](c);else if(a&&"object"===typeof a)for(d=
D(a),b=d.length;++e<b;)a[d[e]](c);else return c(new TypeError("First argument to race must be a collection of functions"));b||c(null)},apply:function(a){switch(arguments.length){case 0:case 1:return a;case 2:return a.bind(null,arguments[1]);case 3:return a.bind(null,arguments[1],arguments[2]);case 4:return a.bind(null,arguments[1],arguments[2],arguments[3]);case 5:return a.bind(null,arguments[1],arguments[2],arguments[3],arguments[4]);default:var c=arguments.length,b=0,d=Array(c);for(d[b]=null;++b<
c;)d[b]=arguments[b];return a.bind.apply(a,d)}},nextTick:$,setImmediate:Q,memoize:function(a,c){c=c||function(a){return a};var b={},d={},e=function(){function e(){var a=F(arguments);b[s]=a;var c=d[s];delete d[s];for(var f=-1,g=c.length;++f<g;)c[f].apply(null,a)}var g=F(arguments),m=g.pop(),s=c.apply(null,g);if(b.hasOwnProperty(s))C(function(){m.apply(null,b[s])});else{if(d.hasOwnProperty(s))return d[s].push(m);d[s]=[m];g.push(e);a.apply(null,g)}};e.memo=b;e.unmemoized=a;return e},unmemoize:function(a){return function(){return(a.unmemoized||
a).apply(null,arguments)}},ensureAsync:function(a){return function(){var c=F(arguments),b=c.length-1,d=c[b],e=!0;c[b]=function(){var a=F(arguments);e?C(function(){d.apply(null,a)}):d.apply(null,a)};a.apply(this,c);e=!1}},constant:function(){var a=[null].concat(F(arguments));return function(c){c=arguments[arguments.length-1];c.apply(this,a)}},asyncify:La,wrapSync:La,log:sb,dir:tb,reflect:Ma,reflectAll:function(a){function c(a,b){d[b]=Ma(a)}var b,d,e;B(a)?(b=a.length,d=Array(b),R(a,c)):a&&"object"===
typeof a&&(e=D(a),b=e.length,d={},S(a,c,e));return d},timeout:function(a,c,b){function d(){var c=Error('Callback function "'+(a.name||"anonymous")+'" timed out.');c.code="ETIMEDOUT";b&&(c.info=b);m=null;g(c)}function e(){null!==m&&(f(g,F(arguments)),clearTimeout(m))}function f(a,b){switch(b.length){case 0:a();break;case 1:a(b[0]);break;case 2:a(b[0],b[1]);break;default:a.apply(null,b)}}var g,m;return function(){m=setTimeout(d,c);var b=F(arguments),r=b.length-1;g=b[r];b[r]=e;f(a,b)}},createLogger:ha,
safe:function(){O();return M},fast:function(){O(!1);return M}};M["default"]=P;S(P,function(a,c){M[c]=a},D(P));N.prototype._removeLink=function(a){(this.head=a.next)?a.next.prev=a.prev:this.tail=a.prev;a.prev=null;a.next=null;this.length--;return a};N.prototype.empty=N;N.prototype._setInitial=function(a){this.length=1;this.head=this.tail=a};N.prototype.insertBefore=function(a,c){c.prev=a.prev;c.next=a;a.prev?a.prev.next=c:this.head=c;a.prev=c;this.length++};N.prototype.unshift=function(a){this.head?
this.insertBefore(this.head,a):this._setInitial(a)};N.prototype.push=function(a){var c=this.tail;c?(a.prev=c,a.next=c.next,this.tail=a,c.next=a,this.length++):this._setInitial(a)};N.prototype.shift=function(){return this.head&&this._removeLink(this.head)};N.prototype.splice=function(a){for(var c,b=[];a--&&(c=this.shift());)b.push(c);return b};var Za=/^(function)?\s*[^\(]*\(\s*([^\)]*)\)/m,$a=/,/,ab=/(=.+)?(\s*)$/,Ya=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg});
